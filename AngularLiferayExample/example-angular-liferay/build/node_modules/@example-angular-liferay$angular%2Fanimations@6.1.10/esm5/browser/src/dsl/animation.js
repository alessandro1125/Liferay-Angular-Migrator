Liferay.Loader.define('@example-angular-liferay$angular/animations@6.1.10/esm5/browser/src/dsl/animation', ['module', 'exports', 'require'], function (module, exports, require) {
    var define = undefined;
    import { ENTER_CLASSNAME, LEAVE_CLASSNAME, normalizeStyles } from '../util';
    import { buildAnimationAst } from './animation_ast_builder';
    import { buildAnimationTimelines } from './animation_timeline_builder';
    import { ElementInstructionMap } from './element_instruction_map';
    var Animation = /** @class */function () {
        function Animation(_driver, input) {
            this._driver = _driver;
            var errors = [];
            var ast = buildAnimationAst(_driver, input, errors);
            if (errors.length) {
                var errorMessage = "animation validation failed:\n" + errors.join("\n");
                throw new Error(errorMessage);
            }
            this._animationAst = ast;
        }
        Animation.prototype.buildTimelines = function (element, startingStyles, destinationStyles, options, subInstructions) {
            var start = Array.isArray(startingStyles) ? normalizeStyles(startingStyles) : startingStyles;
            var dest = Array.isArray(destinationStyles) ? normalizeStyles(destinationStyles) : destinationStyles;
            var errors = [];
            subInstructions = subInstructions || new ElementInstructionMap();
            var result = buildAnimationTimelines(this._driver, element, this._animationAst, ENTER_CLASSNAME, LEAVE_CLASSNAME, start, dest, options, subInstructions, errors);
            if (errors.length) {
                var errorMessage = "animation building failed:\n" + errors.join("\n");
                throw new Error(errorMessage);
            }
            return result;
        };
        return Animation;
    }();
    export { Animation };
});
//# sourceMappingURL=animation.js.map