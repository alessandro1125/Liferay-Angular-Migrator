{"version":3,"sources":["_regexp-exec.js"],"names":["regexpFlags","require","nativeExec","RegExp","prototype","exec","nativeReplace","String","replace","patchedExec","LAST_INDEX","UPDATES_LAST_INDEX_WRONG","re1","re2","call","NPCG_INCLUDED","undefined","PATCH","str","re","lastIndex","reCopy","match","i","source","global","index","length","arguments","module","exports"],"mappings":"AAAA;;;;AAEA,MAAIA,cAAcC,QAAQ,UAAR,CAAlB;;AAEA,MAAIC,aAAaC,OAAOC,SAAP,CAAiBC,IAAlC;AACA;AACA;AACA;AACA,MAAIC,gBAAgBC,OAAOH,SAAP,CAAiBI,OAArC;;AAEA,MAAIC,cAAcP,UAAlB;;AAEA,MAAIQ,aAAa,WAAjB;;AAEA,MAAIC,2BAA4B,YAAY;AAC1C,QAAIC,MAAM,GAAV;AAAA,QACIC,MAAM,KADV;AAEAX,eAAWY,IAAX,CAAgBF,GAAhB,EAAqB,GAArB;AACAV,eAAWY,IAAX,CAAgBD,GAAhB,EAAqB,GAArB;AACA,WAAOD,IAAIF,UAAJ,MAAoB,CAApB,IAAyBG,IAAIH,UAAJ,MAAoB,CAApD;AACD,GAN8B,EAA/B;;AAQA;AACA,MAAIK,gBAAgB,OAAOV,IAAP,CAAY,EAAZ,EAAgB,CAAhB,MAAuBW,SAA3C;;AAEA,MAAIC,QAAQN,4BAA4BI,aAAxC;;AAEA,MAAIE,KAAJ,EAAW;AACTR,kBAAc,SAASJ,IAAT,CAAca,GAAd,EAAmB;AAC/B,UAAIC,KAAK,IAAT;AACA,UAAIC,SAAJ,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,CAA9B;;AAEA,UAAIR,aAAJ,EAAmB;AACjBM,iBAAS,IAAIlB,MAAJ,CAAW,MAAMgB,GAAGK,MAAT,GAAkB,UAA7B,EAAyCxB,YAAYc,IAAZ,CAAiBK,EAAjB,CAAzC,CAAT;AACD;AACD,UAAIR,wBAAJ,EAA8BS,YAAYD,GAAGT,UAAH,CAAZ;;AAE9BY,cAAQpB,WAAWY,IAAX,CAAgBK,EAAhB,EAAoBD,GAApB,CAAR;;AAEA,UAAIP,4BAA4BW,KAAhC,EAAuC;AACrCH,WAAGT,UAAH,IAAiBS,GAAGM,MAAH,GAAYH,MAAMI,KAAN,GAAcJ,MAAM,CAAN,EAASK,MAAnC,GAA4CP,SAA7D;AACD;AACD,UAAIL,iBAAiBO,KAAjB,IAA0BA,MAAMK,MAAN,GAAe,CAA7C,EAAgD;AAC9C;AACA;AACA;AACArB,sBAAcQ,IAAd,CAAmBQ,MAAM,CAAN,CAAnB,EAA6BD,MAA7B,EAAqC,YAAY;AAC/C,eAAKE,IAAI,CAAT,EAAYA,IAAIK,UAAUD,MAAV,GAAmB,CAAnC,EAAsCJ,GAAtC,EAA2C;AACzC,gBAAIK,UAAUL,CAAV,MAAiBP,SAArB,EAAgCM,MAAMC,CAAN,IAAWP,SAAX;AACjC;AACF,SAJD;AAKD;;AAED,aAAOM,KAAP;AACD,KA1BD;AA2BD;;AAEDO,SAAOC,OAAP,GAAiBrB,WAAjB","file":"_regexp-exec.js","sourcesContent":["'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n"]}