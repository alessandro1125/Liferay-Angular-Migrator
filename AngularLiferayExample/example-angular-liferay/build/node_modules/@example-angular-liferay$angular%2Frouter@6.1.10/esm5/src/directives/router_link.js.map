{"version":3,"sources":["../../../../../../../../../../packages/router/src/directives/router_link.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {LocationStrategy} from '@angular/common';\nimport {Attribute, Directive, ElementRef, HostBinding, HostListener, Input, OnChanges, OnDestroy, Renderer2, isDevMode} from '@angular/core';\nimport {Subscription} from 'rxjs';\n\nimport {QueryParamsHandling} from '../config';\nimport {NavigationEnd, RouterEvent} from '../events';\nimport {Router} from '../router';\nimport {ActivatedRoute} from '../router_state';\nimport {UrlTree} from '../url_tree';\n\n\n/**\n * @description\n *\n * Lets you link to specific routes in your app.\n *\n * Consider the following route configuration:\n * `[{ path: 'user/:name', component: UserCmp }]`.\n * When linking to this `user/:name` route, you use the `RouterLink` directive.\n *\n * If the link is static, you can use the directive as follows:\n * `<a routerLink=\"/user/bob\">link to user component</a>`\n *\n * If you use dynamic values to generate the link, you can pass an array of path\n * segments, followed by the params for each segment.\n *\n * For instance `['/team', teamId, 'user', userName, {details: true}]`\n * means that we want to generate a link to `/team/11/user/bob;details=true`.\n *\n * Multiple static segments can be merged into one\n * (e.g., `['/team/11/user', userName, {details: true}]`).\n *\n * The first segment name can be prepended with `/`, `./`, or `../`:\n * * If the first segment begins with `/`, the router will look up the route from the root of the\n *   app.\n * * If the first segment begins with `./`, or doesn't begin with a slash, the router will\n *   instead look in the children of the current activated route.\n * * And if the first segment begins with `../`, the router will go up one level.\n *\n * You can set query params and fragment as follows:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [queryParams]=\"{debug: true}\" fragment=\"education\">\n *   link to user component\n * </a>\n * ```\n * RouterLink will use these to generate this link: `/user/bob#education?debug=true`.\n *\n * (Deprecated in v4.0.0 use `queryParamsHandling` instead) You can also tell the\n * directive to preserve the current query params and fragment:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" preserveQueryParams preserveFragment>\n *   link to user component\n * </a>\n * ```\n *\n * You can tell the directive to how to handle queryParams, available options are:\n *  - `'merge'`: merge the queryParams into the current queryParams\n *  - `'preserve'`: preserve the current queryParams\n *  - default/`''`: use the queryParams only\n *\n * Same options for {@link NavigationExtras#queryParamsHandling\n * NavigationExtras#queryParamsHandling}.\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [queryParams]=\"{debug: true}\" queryParamsHandling=\"merge\">\n *   link to user component\n * </a>\n * ```\n *\n * The router link directive always treats the provided input as a delta to the current url.\n *\n * For instance, if the current url is `/user/(box//aux:team)`.\n *\n * Then the following link `<a [routerLink]=\"['/user/jim']\">Jim</a>` will generate the link\n * `/user/(jim//aux:team)`.\n *\n * See {@link Router#createUrlTree createUrlTree} for more information.\n *\n * @ngModule RouterModule\n *\n *\n */\n@Directive({selector: ':not(a)[routerLink]'})\nexport class RouterLink {\n  // TODO(issue/24571): remove '!'.\n  @Input() queryParams !: {[k: string]: any};\n  // TODO(issue/24571): remove '!'.\n  @Input() fragment !: string;\n  // TODO(issue/24571): remove '!'.\n  @Input() queryParamsHandling !: QueryParamsHandling;\n  // TODO(issue/24571): remove '!'.\n  @Input() preserveFragment !: boolean;\n  // TODO(issue/24571): remove '!'.\n  @Input() skipLocationChange !: boolean;\n  // TODO(issue/24571): remove '!'.\n  @Input() replaceUrl !: boolean;\n  private commands: any[] = [];\n  // TODO(issue/24571): remove '!'.\n  private preserve !: boolean;\n\n  constructor(\n      private router: Router, private route: ActivatedRoute,\n      @Attribute('tabindex') tabIndex: string, renderer: Renderer2, el: ElementRef) {\n    if (tabIndex == null) {\n      renderer.setAttribute(el.nativeElement, 'tabindex', '0');\n    }\n  }\n\n  @Input()\n  set routerLink(commands: any[]|string) {\n    if (commands != null) {\n      this.commands = Array.isArray(commands) ? commands : [commands];\n    } else {\n      this.commands = [];\n    }\n  }\n\n  /**\n   * @deprecated 4.0.0 use `queryParamsHandling` instead.\n   */\n  @Input()\n  set preserveQueryParams(value: boolean) {\n    if (isDevMode() && <any>console && <any>console.warn) {\n      console.warn('preserveQueryParams is deprecated!, use queryParamsHandling instead.');\n    }\n    this.preserve = value;\n  }\n\n  @HostListener('click')\n  onClick(): boolean {\n    const extras = {\n      skipLocationChange: attrBoolValue(this.skipLocationChange),\n      replaceUrl: attrBoolValue(this.replaceUrl),\n    };\n    this.router.navigateByUrl(this.urlTree, extras);\n    return true;\n  }\n\n  get urlTree(): UrlTree {\n    return this.router.createUrlTree(this.commands, {\n      relativeTo: this.route,\n      queryParams: this.queryParams,\n      fragment: this.fragment,\n      preserveQueryParams: attrBoolValue(this.preserve),\n      queryParamsHandling: this.queryParamsHandling,\n      preserveFragment: attrBoolValue(this.preserveFragment),\n    });\n  }\n}\n\n/**\n * @description\n *\n * Lets you link to specific routes in your app.\n *\n * See `RouterLink` for more information.\n *\n * @ngModule RouterModule\n *\n *\n */\n@Directive({selector: 'a[routerLink]'})\nexport class RouterLinkWithHref implements OnChanges, OnDestroy {\n  // TODO(issue/24571): remove '!'.\n  @HostBinding('attr.target') @Input() target !: string;\n  // TODO(issue/24571): remove '!'.\n  @Input() queryParams !: {[k: string]: any};\n  // TODO(issue/24571): remove '!'.\n  @Input() fragment !: string;\n  // TODO(issue/24571): remove '!'.\n  @Input() queryParamsHandling !: QueryParamsHandling;\n  // TODO(issue/24571): remove '!'.\n  @Input() preserveFragment !: boolean;\n  // TODO(issue/24571): remove '!'.\n  @Input() skipLocationChange !: boolean;\n  // TODO(issue/24571): remove '!'.\n  @Input() replaceUrl !: boolean;\n  private commands: any[] = [];\n  private subscription: Subscription;\n  // TODO(issue/24571): remove '!'.\n  private preserve !: boolean;\n\n  // the url displayed on the anchor element.\n  // TODO(issue/24571): remove '!'.\n  @HostBinding() href !: string;\n\n  constructor(\n      private router: Router, private route: ActivatedRoute,\n      private locationStrategy: LocationStrategy) {\n    this.subscription = router.events.subscribe((s: RouterEvent) => {\n      if (s instanceof NavigationEnd) {\n        this.updateTargetUrlAndHref();\n      }\n    });\n  }\n\n  @Input()\n  set routerLink(commands: any[]|string) {\n    if (commands != null) {\n      this.commands = Array.isArray(commands) ? commands : [commands];\n    } else {\n      this.commands = [];\n    }\n  }\n\n  @Input()\n  set preserveQueryParams(value: boolean) {\n    if (isDevMode() && <any>console && <any>console.warn) {\n      console.warn('preserveQueryParams is deprecated, use queryParamsHandling instead.');\n    }\n    this.preserve = value;\n  }\n\n  ngOnChanges(changes: {}): any { this.updateTargetUrlAndHref(); }\n  ngOnDestroy(): any { this.subscription.unsubscribe(); }\n\n  @HostListener('click', ['$event.button', '$event.ctrlKey', '$event.metaKey', '$event.shiftKey'])\n  onClick(button: number, ctrlKey: boolean, metaKey: boolean, shiftKey: boolean): boolean {\n    if (button !== 0 || ctrlKey || metaKey || shiftKey) {\n      return true;\n    }\n\n    if (typeof this.target === 'string' && this.target != '_self') {\n      return true;\n    }\n\n    const extras = {\n      skipLocationChange: attrBoolValue(this.skipLocationChange),\n      replaceUrl: attrBoolValue(this.replaceUrl),\n    };\n    this.router.navigateByUrl(this.urlTree, extras);\n    return false;\n  }\n\n  private updateTargetUrlAndHref(): void {\n    this.href = this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree));\n  }\n\n  get urlTree(): UrlTree {\n    return this.router.createUrlTree(this.commands, {\n      relativeTo: this.route,\n      queryParams: this.queryParams,\n      fragment: this.fragment,\n      preserveQueryParams: attrBoolValue(this.preserve),\n      queryParamsHandling: this.queryParamsHandling,\n      preserveFragment: attrBoolValue(this.preserveFragment),\n    });\n  }\n}\n\nfunction attrBoolValue(s: any): boolean {\n  return s === '' || !!s;\n}\n"],"sourceRoot":""}