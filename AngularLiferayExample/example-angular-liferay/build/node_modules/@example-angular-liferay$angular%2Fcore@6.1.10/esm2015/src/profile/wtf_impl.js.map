{"version":3,"sources":["../../../../../../../packages/core/src/profile/wtf_impl.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAQA,WAAQ,MAAR,QAAqB,SAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,MAAI,KAAJ;;AACA,MAAI,MAAJ;;;;AAEA,SAAM,SAAA,SAAA,GAAA;;AACJ,UAAM,MAAW,gBAAC,MAAD,CAAe,iBAAf,CAAgC,iBAAE,KAAlC,CAAjB;AACA,QAAI,GAAJ,EAAS;AACP,cAAQ,IAAI,OAAJ,CAAR;AACA,UAAI,KAAJ,EAAW;AACT,iBAAS,MAAM,QAAN,CAAT;AACA,eAAO,IAAP;AACD;AACF;AACD,WAAO,KAAP;AACD;;;;;;AAED,SAAM,SAAA,WAAA,CAAsB,SAAtB,EAAyC,QAAa,IAAtD,EAA0D;AAC9D,WAAO,OAAO,WAAP,CAAmB,SAAnB,EAA8B,KAA9B,CAAP;AACD;;;;;;;AAID,SAAM,SAAA,KAAA,CAAmB,KAAnB,EAAiC,WAAjC,EAAkD;AACtD,UAAM,UAAN,CAAiB,KAAjB,EAAwB,WAAxB;AACA,WAAO,WAAP;AACD;;;;;;AAED,SAAM,SAAA,cAAA,CAAyB,SAAzB,EAA4C,MAA5C,EAA0D;AAC9D,WAAO,MAAM,cAAN,CAAqB,SAArB,EAAgC,MAAhC,CAAP;AACD;;;;;AAED,SAAM,SAAA,YAAA,CAAuB,KAAvB,EAAmC;AACvC,UAAM,YAAN,CAAmB,KAAnB;AACD","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {global} from '../util';\n\n/**\n * A scope function for the Web Tracing Framework (WTF).\n *\n * @experimental\n */\nexport interface WtfScopeFn { (arg0?: any, arg1?: any): any; }\n\ninterface WTF {\n  trace: Trace;\n}\n\ninterface Trace {\n  events: Events;\n  leaveScope(scope: Scope, returnValue: any): any /** TODO #9100 */;\n  beginTimeRange(rangeType: string, action: string): Range;\n  endTimeRange(range: Range): any /** TODO #9100 */;\n}\n\nexport interface Range {}\n\ninterface Events {\n  createScope(signature: string, flags: any): Scope;\n}\n\nexport interface Scope { (...args: any[] /** TODO #9100 */): any; }\n\nlet trace: Trace;\nlet events: Events;\n\nexport function detectWTF(): boolean {\n  const wtf: WTF = (global as any /** TODO #9100 */)['wtf'];\n  if (wtf) {\n    trace = wtf['trace'];\n    if (trace) {\n      events = trace['events'];\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function createScope(signature: string, flags: any = null): any {\n  return events.createScope(signature, flags);\n}\n\nexport function leave<T>(scope: Scope): void;\nexport function leave<T>(scope: Scope, returnValue?: T): T;\nexport function leave<T>(scope: Scope, returnValue?: any): any {\n  trace.leaveScope(scope, returnValue);\n  return returnValue;\n}\n\nexport function startTimeRange(rangeType: string, action: string): Range {\n  return trace.beginTimeRange(rangeType, action);\n}\n\nexport function endTimeRange(range: Range): void {\n  trace.endTimeRange(range);\n}\n"],"sourceRoot":""}