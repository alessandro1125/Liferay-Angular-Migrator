{"version":3,"sources":["jasmine-patch.min.js"],"names":["e","n","exports","module","define","amd","a","run","arguments","t","o","r","jasmine","u","i","testProxyZoneSpec","testProxyZone","f","c","Zone","__symbol__","fakeAsync","length","queueRunner","constructor","hasOwnProperty","prototype","Object","create","window","self","global","Error","__zone_patch__","SyncTestZoneSpec","ProxyZoneSpec","s","current","fork","l","getEnv","forEach","call","apply","p","clock","tick","get","mockDate","Date","setCurrentRealTime","getTime","FakeAsyncTestZoneSpec","h","QueueRunner","onComplete","scheduleMicroTask","__zone_symbol__setTimeout","__zone_symbol__clearTimeout","timeout","setTimeout","clearTimeout","UserContext","userContext","onException","message","getAndClearPendingTasksInfo","execute","parent","name","currentTask"],"mappings":"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","file":"jasmine-patch.min.js","sourcesContent":["!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n():\"function\"==typeof define&&define.amd?define(n):n()}(this,function(){\"use strict\";!function(){function e(e){return function(){return a.run(e,this,arguments)}}function n(e,n,t,o){var r=!!jasmine[u(\"clockInstalled\")],i=(t.testProxyZoneSpec,t.testProxyZone);if(r&&f){var c=Zone[Zone.__symbol__(\"fakeAsyncTest\")];c&&\"function\"==typeof c.fakeAsync&&(e=c.fakeAsync(e))}return o?i.run(e,n,[o]):i.run(e,n)}function t(e){return e&&(e.length?function(t){return n(e,this,this.queueRunner,t)}:function(){return n(e,this,this.queueRunner)})}var o=function(e,n){function t(){this.constructor=e}for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},r=\"undefined\"!=typeof window&&window||\"undefined\"!=typeof self&&self||global;if(!Zone)throw new Error(\"Missing: zone.js\");if(\"undefined\"==typeof jasmine)throw new Error(\"Missing: jasmine.js\");if(jasmine.__zone_patch__)throw new Error(\"'jasmine' has already been patched with 'Zone'.\");jasmine.__zone_patch__=!0;var i=Zone.SyncTestZoneSpec,c=Zone.ProxyZoneSpec;if(!i)throw new Error(\"Missing: SyncTestZoneSpec\");if(!c)throw new Error(\"Missing: ProxyZoneSpec\");var s=Zone.current,a=s.fork(new i(\"jasmine.describe\")),u=Zone.__symbol__,f=r[u(\"fakeAsyncPatchLock\")]===!0,l=jasmine.getEnv();[\"describe\",\"xdescribe\",\"fdescribe\"].forEach(function(n){var t=l[n];l[n]=function(n,o){return t.call(this,n,e(o))}}),[\"it\",\"xit\",\"fit\"].forEach(function(e){var n=l[e];l[u(e)]=n,l[e]=function(e,o,r){return arguments[1]=t(o),n.apply(this,arguments)}}),[\"beforeEach\",\"afterEach\",\"beforeAll\",\"afterAll\"].forEach(function(e){var n=l[e];l[u(e)]=n,l[e]=function(e,o){return arguments[0]=t(e),n.apply(this,arguments)}});var p=jasmine[u(\"clock\")]=jasmine.clock;jasmine.clock=function(){var e=p.apply(this,arguments);if(!e[u(\"patched\")]){e[u(\"patched\")]=u(\"patched\");var n=e[u(\"tick\")]=e.tick;e.tick=function(){var e=Zone.current.get(\"FakeAsyncTestZoneSpec\");return e?e.tick.apply(e,arguments):n.apply(this,arguments)};var t=e[u(\"mockDate\")]=e.mockDate;e.mockDate=function(){var e=Zone.current.get(\"FakeAsyncTestZoneSpec\");if(e){var n=arguments.length>0?arguments[0]:new Date;return e.setCurrentRealTime.apply(e,n&&\"function\"==typeof n.getTime?[n.getTime()]:arguments)}return t.apply(this,arguments)},f&&[\"install\",\"uninstall\"].forEach(function(n){var t=e[u(n)]=e[n];e[n]=function(){var e=Zone.FakeAsyncTestZoneSpec;return e?void(jasmine[u(\"clockInstalled\")]=\"install\"===n):t.apply(this,arguments)}})}return e};var h=jasmine.QueueRunner;jasmine.QueueRunner=function(e){function n(n){var t=this;n.onComplete=function(e){return function(){t.testProxyZone=null,t.testProxyZoneSpec=null,s.scheduleMicroTask(\"jasmine.onComplete\",e)}}(n.onComplete);var o=r.__zone_symbol__setTimeout,i=r.__zone_symbol__clearTimeout;o&&(n.timeout={setTimeout:o?o:r.setTimeout,clearTimeout:i?i:r.clearTimeout}),jasmine.UserContext?(n.userContext||(n.userContext=new jasmine.UserContext),n.userContext.queueRunner=this):(n.userContext||(n.userContext={}),n.userContext.queueRunner=this);var c=n.onException;n.onException=function(e){if(e&&\"Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.\"===e.message){var n=this&&this.testProxyZoneSpec;if(n){var t=n.getAndClearPendingTasksInfo();e.message+=t}}c&&c.call(this,e)},e.call(this,n)}return o(n,e),n.prototype.execute=function(){for(var n=this,t=Zone.current,o=!1;t;){if(t===s){o=!0;break}t=t.parent}if(!o)throw new Error(\"Unexpected Zone: \"+Zone.current.name);this.testProxyZoneSpec=new c,this.testProxyZone=s.fork(this.testProxyZoneSpec),Zone.currentTask?e.prototype.execute.call(this):Zone.current.scheduleMicroTask(\"jasmine.execute().forceTask\",function(){return h.prototype.execute.call(n)})},n}(h)}()});"]}