{"version":3,"sources":["task-tracking.min.js"],"names":["e","t","exports","module","define","amd","name","microTasks","macroTasks","eventTasks","properties","TaskTrackingZone","get","Zone","current","prototype","getTasksFor","Error","onScheduleTask","n","s","creationLocation","type","source","r","push","scheduleTask","onCancelTask","o","length","splice","cancelTask","onInvokeTask","invokeTask","a","i","clearEvents","TaskTrackingZoneSpec"],"mappings":"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","file":"task-tracking.min.js","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t():\"function\"==typeof define&&define.amd?define(t):t()}(this,function(){\"use strict\";var e=function(){function e(){this.name=\"TaskTrackingZone\",this.microTasks=[],this.macroTasks=[],this.eventTasks=[],this.properties={TaskTrackingZone:this}}return e.get=function(){return Zone.current.get(\"TaskTrackingZone\")},e.prototype.getTasksFor=function(e){switch(e){case\"microTask\":return this.microTasks;case\"macroTask\":return this.macroTasks;case\"eventTask\":return this.eventTasks}throw new Error(\"Unknown task format: \"+e)},e.prototype.onScheduleTask=function(e,t,n,s){s.creationLocation=new Error(\"Task '\"+s.type+\"' from '\"+s.source+\"'.\");var r=this.getTasksFor(s.type);return r.push(s),e.scheduleTask(n,s)},e.prototype.onCancelTask=function(e,t,n,s){for(var r=this.getTasksFor(s.type),o=0;o<r.length;o++)if(r[o]==s){r.splice(o,1);break}return e.cancelTask(n,s)},e.prototype.onInvokeTask=function(e,t,n,s,r,o){if(\"eventTask\"===s.type)return e.invokeTask(n,s,r,o);for(var a=this.getTasksFor(s.type),i=0;i<a.length;i++)if(a[i]==s){a.splice(i,1);break}return e.invokeTask(n,s,r,o)},e.prototype.clearEvents=function(){for(;this.eventTasks.length;)Zone.current.cancelTask(this.eventTasks[0])},e}();Zone.TaskTrackingZoneSpec=e});"]}