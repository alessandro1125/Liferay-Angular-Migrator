{"version":3,"sources":["mocha-patch.min.js"],"names":["n","e","exports","module","define","amd","t","r","i","length","toString","s","run","arguments","a","p","o","Mocha","Error","Zone","u","ProxyZoneSpec","f","SyncTestZoneSpec","__zone_patch__","c","current","fork","h","after","afterEach","before","beforeEach","describe","it","suite","apply","xdescribe","skip","only","specify","test","xit","xspecify","suiteTeardown","teardown","suiteSetup","setup","Runner","prototype","runTest","scheduleMicroTask","call","on","get","message","getAndClearPendingTasksInfo","window","self","global"],"mappings":"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","file":"mocha-patch.min.js","sourcesContent":["!function(n,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e():\"function\"==typeof define&&define.amd?define(e):e()}(this,function(){\"use strict\";!function(n){function e(n,e,t){for(var r=function(r){var i=n[r];\"function\"==typeof i&&(n[r]=0===i.length?e(i):t(i),n[r].toString=function(){return i.toString()})},i=0;i<n.length;i++)r(i);return n}function t(n){var t=function(n){return function(){return s.run(n,this,arguments)}};return e(n,t)}function r(n){var t=function(n){return function(e){return a.run(n,this,[e])}},r=function(n){return function(){return a.run(n,this)}};return e(n,r,t)}function i(n){var t=function(n){return function(e){return p.run(n,this,[e])}},r=function(n){return function(){return p.run(n,this)}};return e(n,r,t)}var o=n.Mocha;if(\"undefined\"==typeof o)throw new Error(\"Missing Mocha.js\");if(\"undefined\"==typeof Zone)throw new Error(\"Missing Zone.js\");var u=Zone.ProxyZoneSpec,f=Zone.SyncTestZoneSpec;if(!u)throw new Error(\"Missing ProxyZoneSpec\");if(o.__zone_patch__)throw new Error('\"Mocha\" has already been patched with \"Zone\".');o.__zone_patch__=!0;var c=Zone.current,s=c.fork(new f(\"Mocha.describe\")),a=null,p=c.fork(new u),h={after:o.after,afterEach:o.afterEach,before:o.before,beforeEach:o.beforeEach,describe:o.describe,it:o.it};n.describe=n.suite=o.describe=function(){return h.describe.apply(this,t(arguments))},n.xdescribe=n.suite.skip=o.describe.skip=function(){return h.describe.skip.apply(this,t(arguments))},n.describe.only=n.suite.only=o.describe.only=function(){return h.describe.only.apply(this,t(arguments))},n.it=n.specify=n.test=o.it=function(){return h.it.apply(this,r(arguments))},n.xit=n.xspecify=o.it.skip=function(){return h.it.skip.apply(this,r(arguments))},n.it.only=n.test.only=o.it.only=function(){return h.it.only.apply(this,r(arguments))},n.after=n.suiteTeardown=o.after=function(){return h.after.apply(this,i(arguments))},n.afterEach=n.teardown=o.afterEach=function(){return h.afterEach.apply(this,r(arguments))},n.before=n.suiteSetup=o.before=function(){return h.before.apply(this,i(arguments))},n.beforeEach=n.setup=o.beforeEach=function(){return h.beforeEach.apply(this,r(arguments))},function(n,e){o.Runner.prototype.runTest=function(e){var t=this;Zone.current.scheduleMicroTask(\"mocha.forceTask\",function(){n.call(t,e)})},o.Runner.prototype.run=function(n){return this.on(\"test\",function(n){a=c.fork(new u)}),this.on(\"fail\",function(n,e){var t=a&&a.get(\"ProxyZoneSpec\");t&&e&&(e.message+=t.getAndClearPendingTasksInfo())}),e.call(this,n)}}(o.Runner.prototype.runTest,o.Runner.prototype.run)}(\"undefined\"!=typeof window&&window||\"undefined\"!=typeof self&&self||global)});"]}