{"version":3,"sources":["proxy.js"],"names":["global","factory","exports","module","define","amd","ProxyZoneSpec","defaultSpecDelegate","name","_delegateSpec","properties","propertyKeys","lastTaskState","isNeedToTriggerHasTask","tasks","setDelegate","get","Zone","current","isLoaded","assertPresent","Error","prototype","delegateSpec","_this","isNewDelegate","forEach","key","Object","keys","k","macroTask","microTask","getDelegate","resetDelegate","tryTriggerHasTask","parentZoneDelegate","currentZone","targetZone","onHasTask","removeFromTasks","task","i","length","splice","getAndClearPendingTasksInfo","taskInfo","map","dataInfo","data","join","type","source","pendingTasksInfo","onFork","zoneSpec","fork","onIntercept","delegate","intercept","onInvoke","applyThis","applyArgs","invoke","onHandleError","error","handleError","onScheduleTask","push","scheduleTask","onInvokeTask","invokeTask","onCancelTask","cancelTask","target","hasTaskState","hasTask"],"mappings":"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","file":"proxy.js","sourcesContent":["/**\n* @license\n* Copyright Google Inc. All Rights Reserved.\n*\n* Use of this source code is governed by an MIT-style license that can be\n* found in the LICENSE file at https://angular.io/license\n*/\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ProxyZoneSpec = /** @class */ (function () {\n    function ProxyZoneSpec(defaultSpecDelegate) {\n        if (defaultSpecDelegate === void 0) { defaultSpecDelegate = null; }\n        this.defaultSpecDelegate = defaultSpecDelegate;\n        this.name = 'ProxyZone';\n        this._delegateSpec = null;\n        this.properties = { 'ProxyZoneSpec': this };\n        this.propertyKeys = null;\n        this.lastTaskState = null;\n        this.isNeedToTriggerHasTask = false;\n        this.tasks = [];\n        this.setDelegate(defaultSpecDelegate);\n    }\n    ProxyZoneSpec.get = function () {\n        return Zone.current.get('ProxyZoneSpec');\n    };\n    ProxyZoneSpec.isLoaded = function () {\n        return ProxyZoneSpec.get() instanceof ProxyZoneSpec;\n    };\n    ProxyZoneSpec.assertPresent = function () {\n        if (!ProxyZoneSpec.isLoaded()) {\n            throw new Error(\"Expected to be running in 'ProxyZone', but it was not found.\");\n        }\n        return ProxyZoneSpec.get();\n    };\n    ProxyZoneSpec.prototype.setDelegate = function (delegateSpec) {\n        var _this = this;\n        var isNewDelegate = this._delegateSpec !== delegateSpec;\n        this._delegateSpec = delegateSpec;\n        this.propertyKeys && this.propertyKeys.forEach(function (key) { return delete _this.properties[key]; });\n        this.propertyKeys = null;\n        if (delegateSpec && delegateSpec.properties) {\n            this.propertyKeys = Object.keys(delegateSpec.properties);\n            this.propertyKeys.forEach(function (k) { return _this.properties[k] = delegateSpec.properties[k]; });\n        }\n        // if set a new delegateSpec, shoulde check whether need to\n        // trigger hasTask or not\n        if (isNewDelegate && this.lastTaskState &&\n            (this.lastTaskState.macroTask || this.lastTaskState.microTask)) {\n            this.isNeedToTriggerHasTask = true;\n        }\n    };\n    ProxyZoneSpec.prototype.getDelegate = function () {\n        return this._delegateSpec;\n    };\n    ProxyZoneSpec.prototype.resetDelegate = function () {\n        var delegateSpec = this.getDelegate();\n        this.setDelegate(this.defaultSpecDelegate);\n    };\n    ProxyZoneSpec.prototype.tryTriggerHasTask = function (parentZoneDelegate, currentZone, targetZone) {\n        if (this.isNeedToTriggerHasTask && this.lastTaskState) {\n            // last delegateSpec has microTask or macroTask\n            // should call onHasTask in current delegateSpec\n            this.isNeedToTriggerHasTask = false;\n            this.onHasTask(parentZoneDelegate, currentZone, targetZone, this.lastTaskState);\n        }\n    };\n    ProxyZoneSpec.prototype.removeFromTasks = function (task) {\n        if (!this.tasks) {\n            return;\n        }\n        for (var i = 0; i < this.tasks.length; i++) {\n            if (this.tasks[i] === task) {\n                this.tasks.splice(i, 1);\n                return;\n            }\n        }\n    };\n    ProxyZoneSpec.prototype.getAndClearPendingTasksInfo = function () {\n        if (this.tasks.length === 0) {\n            return '';\n        }\n        var taskInfo = this.tasks.map(function (task) {\n            var dataInfo = task.data &&\n                Object.keys(task.data)\n                    .map(function (key) {\n                    return key + ':' + task.data[key];\n                })\n                    .join(',');\n            return \"type: \" + task.type + \", source: \" + task.source + \", args: {\" + dataInfo + \"}\";\n        });\n        var pendingTasksInfo = '--Pendng async tasks are: [' + taskInfo + ']';\n        // clear tasks\n        this.tasks = [];\n        return pendingTasksInfo;\n    };\n    ProxyZoneSpec.prototype.onFork = function (parentZoneDelegate, currentZone, targetZone, zoneSpec) {\n        if (this._delegateSpec && this._delegateSpec.onFork) {\n            return this._delegateSpec.onFork(parentZoneDelegate, currentZone, targetZone, zoneSpec);\n        }\n        else {\n            return parentZoneDelegate.fork(targetZone, zoneSpec);\n        }\n    };\n    ProxyZoneSpec.prototype.onIntercept = function (parentZoneDelegate, currentZone, targetZone, delegate, source) {\n        if (this._delegateSpec && this._delegateSpec.onIntercept) {\n            return this._delegateSpec.onIntercept(parentZoneDelegate, currentZone, targetZone, delegate, source);\n        }\n        else {\n            return parentZoneDelegate.intercept(targetZone, delegate, source);\n        }\n    };\n    ProxyZoneSpec.prototype.onInvoke = function (parentZoneDelegate, currentZone, targetZone, delegate, applyThis, applyArgs, source) {\n        this.tryTriggerHasTask(parentZoneDelegate, currentZone, targetZone);\n        if (this._delegateSpec && this._delegateSpec.onInvoke) {\n            return this._delegateSpec.onInvoke(parentZoneDelegate, currentZone, targetZone, delegate, applyThis, applyArgs, source);\n        }\n        else {\n            return parentZoneDelegate.invoke(targetZone, delegate, applyThis, applyArgs, source);\n        }\n    };\n    ProxyZoneSpec.prototype.onHandleError = function (parentZoneDelegate, currentZone, targetZone, error) {\n        if (this._delegateSpec && this._delegateSpec.onHandleError) {\n            return this._delegateSpec.onHandleError(parentZoneDelegate, currentZone, targetZone, error);\n        }\n        else {\n            return parentZoneDelegate.handleError(targetZone, error);\n        }\n    };\n    ProxyZoneSpec.prototype.onScheduleTask = function (parentZoneDelegate, currentZone, targetZone, task) {\n        if (task.type !== 'eventTask') {\n            this.tasks.push(task);\n        }\n        if (this._delegateSpec && this._delegateSpec.onScheduleTask) {\n            return this._delegateSpec.onScheduleTask(parentZoneDelegate, currentZone, targetZone, task);\n        }\n        else {\n            return parentZoneDelegate.scheduleTask(targetZone, task);\n        }\n    };\n    ProxyZoneSpec.prototype.onInvokeTask = function (parentZoneDelegate, currentZone, targetZone, task, applyThis, applyArgs) {\n        if (task.type !== 'eventTask') {\n            this.removeFromTasks(task);\n        }\n        this.tryTriggerHasTask(parentZoneDelegate, currentZone, targetZone);\n        if (this._delegateSpec && this._delegateSpec.onInvokeTask) {\n            return this._delegateSpec.onInvokeTask(parentZoneDelegate, currentZone, targetZone, task, applyThis, applyArgs);\n        }\n        else {\n            return parentZoneDelegate.invokeTask(targetZone, task, applyThis, applyArgs);\n        }\n    };\n    ProxyZoneSpec.prototype.onCancelTask = function (parentZoneDelegate, currentZone, targetZone, task) {\n        if (task.type !== 'eventTask') {\n            this.removeFromTasks(task);\n        }\n        this.tryTriggerHasTask(parentZoneDelegate, currentZone, targetZone);\n        if (this._delegateSpec && this._delegateSpec.onCancelTask) {\n            return this._delegateSpec.onCancelTask(parentZoneDelegate, currentZone, targetZone, task);\n        }\n        else {\n            return parentZoneDelegate.cancelTask(targetZone, task);\n        }\n    };\n    ProxyZoneSpec.prototype.onHasTask = function (delegate, current, target, hasTaskState) {\n        this.lastTaskState = hasTaskState;\n        if (this._delegateSpec && this._delegateSpec.onHasTask) {\n            this._delegateSpec.onHasTask(delegate, current, target, hasTaskState);\n        }\n        else {\n            delegate.hasTask(target, hasTaskState);\n        }\n    };\n    return ProxyZoneSpec;\n}());\n// Export the class so that new instances can be created with proper\n// constructor params.\nZone['ProxyZoneSpec'] = ProxyZoneSpec;\n\n})));\n"]}