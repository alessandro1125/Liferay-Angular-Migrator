{"version":3,"sources":["zone-patch-resize-observer.js"],"names":["global","factory","exports","module","define","amd","__values","undefined","o","m","Symbol","iterator","i","call","next","length","value","done","Zone","__load_patch","api","ResizeObserver","resizeObserverSymbol","symbol","patchMethod","delegate","self","args","callback","entries","observer","_this","e_1","_a","zones","currZone","current","entries_1","entries_1_1","entry","zone","target","zoneEntriesInfo","name","push","e_1_1","error","return","Object","keys","forEach","zoneName","run","prototype","apply","targets","splice"],"mappings":"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","file":"zone-patch-resize-observer.js","sourcesContent":["/**\n* @license\n* Copyright Google Inc. All Rights Reserved.\n*\n* Use of this source code is governed by an MIT-style license that can be\n* found in the LICENSE file at https://angular.io/license\n*/\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\nvar __values = (undefined && undefined.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('ResizeObserver', function (global, Zone, api) {\n    var ResizeObserver = global['ResizeObserver'];\n    if (!ResizeObserver) {\n        return;\n    }\n    var resizeObserverSymbol = api.symbol('ResizeObserver');\n    api.patchMethod(global, 'ResizeObserver', function (delegate) { return function (self, args) {\n        var callback = args.length > 0 ? args[0] : null;\n        if (callback) {\n            args[0] = function (entries, observer) {\n                var _this = this;\n                var e_1, _a;\n                var zones = {};\n                var currZone = Zone.current;\n                try {\n                    for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n                        var entry = entries_1_1.value;\n                        var zone = entry.target[resizeObserverSymbol];\n                        if (!zone) {\n                            zone = currZone;\n                        }\n                        var zoneEntriesInfo = zones[zone.name];\n                        if (!zoneEntriesInfo) {\n                            zones[zone.name] = zoneEntriesInfo = { entries: [], zone: zone };\n                        }\n                        zoneEntriesInfo.entries.push(entry);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (entries_1_1 && !entries_1_1.done && (_a = entries_1.return)) _a.call(entries_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                Object.keys(zones).forEach(function (zoneName) {\n                    var zoneEntriesInfo = zones[zoneName];\n                    if (zoneEntriesInfo.zone !== Zone.current) {\n                        zoneEntriesInfo.zone.run(callback, _this, [zoneEntriesInfo.entries, observer], 'ResizeObserver');\n                    }\n                    else {\n                        callback.call(_this, zoneEntriesInfo.entries, observer);\n                    }\n                });\n            };\n        }\n        return args.length > 0 ? new ResizeObserver(args[0]) : new ResizeObserver();\n    }; });\n    api.patchMethod(ResizeObserver.prototype, 'observe', function (delegate) { return function (self, args) {\n        var target = args.length > 0 ? args[0] : null;\n        if (!target) {\n            return delegate.apply(self, args);\n        }\n        var targets = self[resizeObserverSymbol];\n        if (!targets) {\n            targets = self[resizeObserverSymbol] = [];\n        }\n        targets.push(target);\n        target[resizeObserverSymbol] = Zone.current;\n        return delegate.apply(self, args);\n    }; });\n    api.patchMethod(ResizeObserver.prototype, 'unobserve', function (delegate) { return function (self, args) {\n        var target = args.length > 0 ? args[0] : null;\n        if (!target) {\n            return delegate.apply(self, args);\n        }\n        var targets = self[resizeObserverSymbol];\n        if (targets) {\n            for (var i = 0; i < targets.length; i++) {\n                if (targets[i] === target) {\n                    targets.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        target[resizeObserverSymbol] = undefined;\n        return delegate.apply(self, args);\n    }; });\n    api.patchMethod(ResizeObserver.prototype, 'disconnect', function (delegate) { return function (self, args) {\n        var targets = self[resizeObserverSymbol];\n        if (targets) {\n            targets.forEach(function (target) {\n                target[resizeObserverSymbol] = undefined;\n            });\n            self[resizeObserverSymbol] = undefined;\n        }\n        return delegate.apply(self, args);\n    }; });\n});\n\n})));\n"]}