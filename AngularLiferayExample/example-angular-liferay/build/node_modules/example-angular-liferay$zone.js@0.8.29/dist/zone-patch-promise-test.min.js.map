{"version":3,"sources":["zone-patch-promise-test.min.js"],"names":["e","o","exports","module","define","amd","Zone","__load_patch","n","t","symbol","s","r","Promise","__symbol__","prototype","then","apply","arguments","i","current","get","unresolvedChainedPromiseCount"],"mappings":";;AAAA,GAAC,UAASA,CAAT,EAAWC,CAAX,EAAa;AAAC,gBAAU,OAAOC,OAAjB,IAA0B,eAAa,OAAOC,MAA9C,GAAqDF,GAArD,GAAyD,cAAY,OAAOG,MAAnB,IAA2BA,OAAOC,GAAlC,GAAsCD,OAAOH,CAAP,CAAtC,GAAgDA,GAAzG;AAA6G,GAA3H,CAA4H,IAA5H,EAAiI,YAAU;AAAC;AAAaK,SAAKC,YAAL,CAAkB,gBAAlB,EAAmC,UAASP,CAAT,EAAWC,CAAX,EAAaO,CAAb,EAAe;AAAC,UAAIC,IAAED,EAAEE,MAAF,CAAS,OAAT,CAAN;AAAA,UAAwBC,IAAE,IAA1B;AAAA,UAA+BC,IAAEJ,EAAEE,MAAF,CAAS,kBAAT,CAAjC,CAA8DG,QAAQL,EAAEE,MAAF,CAAS,qBAAT,CAAR,IAAyC,YAAU;AAAC,YAAIV,IAAEa,QAAQZ,EAAEa,UAAF,CAAa,iBAAb,CAAR,CAAN,CAA+Cd,MAAIA,IAAEa,QAAQZ,EAAEa,UAAF,CAAa,iBAAb,CAAR,IAAyCD,QAAQE,SAAR,CAAkBC,IAA7D,EAAkEH,QAAQE,SAAR,CAAkBC,IAAlB,GAAuB,YAAU;AAAC,cAAIR,IAAER,EAAEiB,KAAF,CAAQ,IAAR,EAAaC,SAAb,CAAN,CAA8B,IAAG,KAAKT,CAAL,MAAUE,CAAb,EAAe;AAAC,gBAAIQ,IAAElB,EAAEmB,OAAF,CAAUC,GAAV,CAAc,mBAAd,CAAN,CAAyCF,MAAIA,EAAEG,6BAAF,IAAkCd,EAAEI,CAAF,IAAK,CAAC,CAA5C;AAA+C,kBAAOJ,CAAP;AAAS,SAAvP;AAAyP,OAA5V,EAA6VK,QAAQL,EAAEE,MAAF,CAAS,uBAAT,CAAR,IAA2C,YAAU;AAAC,YAAIV,IAAEa,QAAQZ,EAAEa,UAAF,CAAa,iBAAb,CAAR,CAAN,CAA+Cd,MAAIa,QAAQE,SAAR,CAAkBC,IAAlB,GAAuBhB,CAAvB,EAAyBa,QAAQZ,EAAEa,UAAF,CAAa,iBAAb,CAAR,IAAyC,KAAK,CAA3E;AAA8E,OAAhhB;AAAihB,KAAloB;AAAooB,GAA7xB,CAAD","file":"zone-patch-promise-test.min.js","sourcesContent":["!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?o():\"function\"==typeof define&&define.amd?define(o):o()}(this,function(){\"use strict\";Zone.__load_patch(\"promisefortest\",function(e,o,n){var t=n.symbol(\"state\"),s=null,r=n.symbol(\"parentUnresolved\");Promise[n.symbol(\"patchPromiseForTest\")]=function(){var e=Promise[o.__symbol__(\"ZonePromiseThen\")];e||(e=Promise[o.__symbol__(\"ZonePromiseThen\")]=Promise.prototype.then,Promise.prototype.then=function(){var n=e.apply(this,arguments);if(this[t]===s){var i=o.current.get(\"AsyncTestZoneSpec\");i&&(i.unresolvedChainedPromiseCount++,n[r]=!0)}return n})},Promise[n.symbol(\"unPatchPromiseForTest\")]=function(){var e=Promise[o.__symbol__(\"ZonePromiseThen\")];e&&(Promise.prototype.then=e,Promise[o.__symbol__(\"ZonePromiseThen\")]=void 0)}})});"]}