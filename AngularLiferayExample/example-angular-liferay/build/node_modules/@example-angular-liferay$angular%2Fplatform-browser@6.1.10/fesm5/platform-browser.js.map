{"version":3,"sources":["platform-browser.js"],"names":["__decorate","__param","__metadata","__assign","__extends","__spread","ɵparseCookieValue","DOCUMENT","PlatformLocation","isPlatformServer","CommonModule","ɵPLATFORM_BROWSER_ID","ɵglobal","Inject","Injectable","APP_INITIALIZER","ApplicationInitStatus","InjectionToken","Injector","setTestabilityGetter","Version","ApplicationRef","inject","defineInjectable","NgZone","getDebugNode","NgProbeToken","Optional","NgModule","APP_ID","PLATFORM_ID","PLATFORM_INITIALIZER","Sanitizer","createPlatformFactory","platformCore","ErrorHandler","ɵAPP_ROOT","ɵConsole","RendererFactory2","Testability","ApplicationModule","SkipSelf","SecurityContext","ɵ_sanitizeHtml","ɵ_sanitizeStyle","ɵ_sanitizeUrl","ViewEncapsulation","RendererStyleFlags2","_DOM","getDOM","setRootDomAdapter","adapter","DomAdapter","resourceLoaderType","Object","defineProperty","prototype","get","_attrToPropMap","set","value","enumerable","configurable","GenericBrowserDomAdapter","_super","_this","call","_animationPrefix","_transitionEnd","element_1","createElement","document","getStyle","domPrefixes","i","length","toLowerCase","transEndEventNames_1","WebkitTransition","MozTransition","OTransition","transition","keys","forEach","key","e","getDistributedNodes","el","resolveAndSetHref","baseUrl","href","supportsDOMEvents","supportsNativeShadowDOM","body","createShadowRoot","getAnimationPrefix","getTransitionEnd","supportsAnimation","DOM_KEY_LOCATION_NUMPAD","_keyMap","_chromeNumKeyPadMap","nodeContains","contains","node","compareDocumentPosition","BrowserDomAdapter","apply","arguments","parse","templateHtml","Error","makeCurrent","hasProperty","element","name","setProperty","getProperty","invoke","methodName","args","_a","logError","error","window","console","log","logGroup","group","logGroupEnd","groupEnd","nodeA","nodeB","querySelector","selector","querySelectorAll","on","evt","listener","addEventListener","onAndCancel","removeEventListener","dispatchEvent","createMouseEvent","eventType","getDefaultDocument","createEvent","initEvent","preventDefault","returnValue","isPrevented","defaultPrevented","getInnerHTML","innerHTML","getTemplateContent","isTemplateElement","content","getOuterHTML","outerHTML","nodeName","nodeValue","type","firstChild","nextSibling","parentElement","parentNode","childNodes","childNodesAsList","res","Array","clearNodes","removeChild","appendChild","replaceChild","newChild","oldChild","remove","insertBefore","parent","ref","insertAllBefore","nodes","n","insertAfter","setInnerHTML","getText","textContent","setText","getValue","setValue","getChecked","checked","setChecked","createComment","text","createTemplate","html","t","tagName","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","setAttribute","createStyleElement","css","style","getShadowRoot","shadowRoot","getHost","host","clone","cloneNode","getElementsByClassName","getElementsByTagName","classList","slice","addClass","className","add","removeClass","hasClass","setStyle","styleName","styleValue","removeStyle","stylename","hasStyle","attributeMap","Map","elAttrs","attributes","attrib","item","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttribute","removeAttributeNS","templateAwareRoot","createHtmlDocument","implementation","createHTMLDocument","getBoundingClientRect","top","bottom","left","right","width","height","getTitle","title","setTitle","newTitle","elementMatches","isElementNode","matches","msMatchesSelector","webkitMatchesSelector","isTextNode","nodeType","Node","TEXT_NODE","isCommentNode","COMMENT_NODE","ELEMENT_NODE","hasShadowRoot","HTMLElement","isShadowRoot","DocumentFragment","importIntoDoc","importNode","adoptNode","getHref","getEventKey","event","keyIdentifier","startsWith","String","fromCharCode","parseInt","substring","location","hasOwnProperty","getGlobalEventTarget","target","getHistory","history","getLocation","getBaseHref","getBaseElementHref","relativePath","resetBaseElement","baseElement","getUserAgent","navigator","userAgent","setData","getData","getComputedStyle","supportsWebAnimation","Element","performanceNow","performance","now","Date","getTime","supportsCookies","getCookie","cookie","setCookie","encodeURIComponent","urlParsingNode","url","pathname","charAt","DOCUMENT$1","supportsState","pushState","BrowserPlatformLocation","_doc","_init","_history","getBaseHrefFromDOM","onPopState","fn","onHashChange","newPath","search","hash","state","replaceState","forward","back","TRANSITION_ID","appInitializerFactory","transitionId","injector","donePromise","then","dom","styles","filter","SERVER_TRANSITION_PROVIDERS","provide","useFactory","deps","multi","BrowserGetTestability","init","addToWindow","registry","elem","findInAncestors","testability","findTestabilityInTree","getAllTestabilities","getAllRootElements","whenAllStable","callback","testabilities","count","didWork","decrement","didWork_","whenStable","push","getTestability","exportNgVar","COMPILED","ng","CORE_TOKENS","INSPECT_GLOBAL_NAME","CORE_TOKENS_GLOBAL_NAME","inspectNativeElement","_createNgProbe","coreTokens","_ngProbeTokensToMap","tokens","reduce","prev","token","ELEMENT_PROBE_PROVIDERS","EVENT_MANAGER_PLUGINS","EventManager","plugins","_zone","_eventNameToPlugin","p","manager","_plugins","reverse","eventName","handler","plugin","_findPluginFor","addGlobalEventListener","getZone","plugin_1","supports","EventManagerPlugin","SharedStylesHost","_stylesSet","Set","addStyles","additions","has","onStylesAdded","getAllStyles","from","DomSharedStylesHost","_hostNodes","_styleNodes","head","_addStylesToHost","styleEl","addHost","hostNode","removeHost","delete","ngOnDestroy","styleNode","NAMESPACE_URIS","COMPONENT_REGEX","COMPONENT_VARIABLE","HOST_ATTR","CONTENT_ATTR","shimContentAttribute","componentShortId","replace","shimHostAttribute","flattenStyles","compId","isArray","decoratePreventDefault","eventHandler","allowDefaultBehavior","DomRendererFactory2","eventManager","sharedStylesHost","rendererByCompId","defaultRenderer","DefaultDomRenderer2","createRenderer","encapsulation","Emulated","renderer","id","EmulatedEncapsulationDomRenderer2","applyToHost","Native","ShadowDom","ShadowDomRenderer","begin","end","data","create","destroy","namespace","createText","refChild","selectRootElement","selectorOrNode","namespaceUri","flags","DashCase","Important","removeProperty","checkNoSyntheticProp","listen","AT_CHARCODE","charCodeAt","nameKind","component","contentAttr","hostAttr","hostEl","attachShadow","mode","nodeOrShadowRoot","ɵ0","v","__symbol__","Zone","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","symbolNames","FALSE","ANGULAR","NATIVE_ADD_LISTENER","NATIVE_REMOVE_LISTENER","stopSymbol","stopMethodSymbol","blackListedEvents","blackListedMap","isBlackListedEvent","globalListener","symbolName","taskDatas","taskData","zone","current","run","copiedTasks","DomEventsPlugin","ngZone","platformId","patchEvent","Event","delegate","stopImmediatePropagation","zoneJsLoaded","isInAngularZone","globalListenerRegistered","root","callbackRegistered","underlyingRemove","found","splice","EVENT_NAMES","HAMMER_GESTURE_CONFIG","HAMMER_LOADER","HammerGestureConfig","events","overrides","buildHammer","mc","Hammer","options","enable","HammerGesturesPlugin","_config","loader","isCustomEvent","warn","cancelRegistration_1","deregister_1","catch","runOutsideAngular","eventObj","runGuarded","off","indexOf","MODIFIER_KEYS","ɵ0$1","altKey","ɵ1$1","ctrlKey","ɵ2$1","metaKey","ɵ3","shiftKey","MODIFIER_KEY_GETTERS","KeyEventsPlugin","KeyEventsPlugin_1","parseEventName","parsedEvent","outsideHandler","eventCallback","parts","split","domEventName","shift","_normalizeKey","pop","fullKey","modifierName","index","result","getEventFullKey","modifierGetter","keyName","DomSanitizer","DomSanitizerImpl","sanitize","ctx","NONE","HTML","SafeHtmlImpl","changingThisBreaksApplicationSecurity","checkNotSafeValue","STYLE","SafeStyleImpl","SCRIPT","SafeScriptImpl","URL","SafeResourceUrlImpl","SafeUrlImpl","RESOURCE_URL","expectedType","SafeValueImpl","getTypeName","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","toString","INTERNAL_BROWSER_PLATFORM_PROVIDERS","useValue","initDomAdapter","useClass","_document","BROWSER_SANITIZATION_PROVIDERS","useExisting","platformBrowser","errorHandler","BROWSER_MODULE_PROVIDERS","BrowserModule","parentModule","BrowserModule_1","withServerTransition","params","ngModule","providers","appId","exports","createMeta","Meta","_dom","addTag","tag","forceCreation","_getOrCreateElement","addTags","tags","getTag","attrSelector","getTags","list","updateTag","_parseSelector","meta","_setMetaElementAttributes","removeTag","removeTagElement","_containsAttributes","prop","attr","every","ngInjectableDef","factory","providedIn","createTitle","Title","win","ChangeDetectionPerfRecord","msPerTick","numTicks","AngularProfiler","appRef","timeChangeDetection","config","record","profileName","isProfilerAvailable","profile","start","tick","profileEnd","toFixed","PROFILER_GLOBAL_NAME","enableDebugTools","disableDebugTools","escapeHtml","escapedText","s","unescapeHtml","unescapedText","makeStateKey","TransferState","store","onSerializeCallbacks","TransferState_1","initState","transferState","defaultValue","undefined","hasKey","onSerialize","toJson","JSON","stringify","initTransferState","script","getElementById","initialState","BrowserTransferStateModule","By","all","debugElement","nativeElement","directive","providerTokens","VERSION","ɵangular_packages_platform_browser_platform_browser_c","ɵangular_packages_platform_browser_platform_browser_b","ɵangular_packages_platform_browser_platform_browser_a","ɵangular_packages_platform_browser_platform_browser_k","ɵangular_packages_platform_browser_platform_browser_d","ɵangular_packages_platform_browser_platform_browser_i","ɵangular_packages_platform_browser_platform_browser_h","ɵangular_packages_platform_browser_platform_browser_e","ɵangular_packages_platform_browser_platform_browser_f","ɵangular_packages_platform_browser_platform_browser_j","ɵangular_packages_platform_browser_platform_browser_g","ɵBROWSER_SANITIZATION_PROVIDERS","ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS","ɵinitDomAdapter","ɵBrowserDomAdapter","ɵBrowserPlatformLocation","ɵTRANSITION_ID","ɵBrowserGetTestability","ɵescapeHtml","ɵELEMENT_PROBE_PROVIDERS","ɵDomAdapter","ɵgetDOM","ɵsetRootDomAdapter","ɵDomRendererFactory2","ɵNAMESPACE_URIS","ɵflattenStyles","ɵshimContentAttribute","ɵshimHostAttribute","ɵDomEventsPlugin","ɵHammerGesturesPlugin","ɵKeyEventsPlugin","ɵDomSharedStylesHost","ɵSharedStylesHost","ɵDomSanitizerImpl"],"mappings":"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","file":"platform-browser.js","sourcesContent":["/**\n * @license Angular v6.1.10\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\nimport { __decorate, __param, __metadata, __assign, __extends, __spread } from 'tslib';\nimport { ɵparseCookieValue, DOCUMENT, PlatformLocation, isPlatformServer, CommonModule, ɵPLATFORM_BROWSER_ID } from '@angular/common';\nimport { ɵglobal, Inject, Injectable, APP_INITIALIZER, ApplicationInitStatus, InjectionToken, Injector, setTestabilityGetter, Version, ApplicationRef, inject, defineInjectable, NgZone, getDebugNode, NgProbeToken, Optional, NgModule, APP_ID, PLATFORM_ID, PLATFORM_INITIALIZER, Sanitizer, createPlatformFactory, platformCore, ErrorHandler, ɵAPP_ROOT, ɵConsole, RendererFactory2, Testability, ApplicationModule, SkipSelf, SecurityContext, ɵ_sanitizeHtml, ɵ_sanitizeStyle, ɵ_sanitizeUrl, ViewEncapsulation, RendererStyleFlags2 } from '@angular/core';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar _DOM = null;\nfunction getDOM() {\n    return _DOM;\n}\nfunction setRootDomAdapter(adapter) {\n    if (!_DOM) {\n        _DOM = adapter;\n    }\n}\n/* tslint:disable:requireParameterType */\n/**\n * Provides DOM operations in an environment-agnostic way.\n *\n * @security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\nvar DomAdapter = /** @class */ (function () {\n    function DomAdapter() {\n        this.resourceLoaderType = null;\n    }\n    Object.defineProperty(DomAdapter.prototype, \"attrToPropMap\", {\n        /**\n         * Maps attribute names to their corresponding property names for cases\n         * where attribute name doesn't match property name.\n         */\n        get: function () { return this._attrToPropMap; },\n        set: function (value) { this._attrToPropMap = value; },\n        enumerable: true,\n        configurable: true\n    });\n    return DomAdapter;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Provides DOM operations in any browser environment.\n *\n * @security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\nvar GenericBrowserDomAdapter = /** @class */ (function (_super) {\n    __extends(GenericBrowserDomAdapter, _super);\n    function GenericBrowserDomAdapter() {\n        var _this = _super.call(this) || this;\n        _this._animationPrefix = null;\n        _this._transitionEnd = null;\n        try {\n            var element_1 = _this.createElement('div', document);\n            if (_this.getStyle(element_1, 'animationName') != null) {\n                _this._animationPrefix = '';\n            }\n            else {\n                var domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n                for (var i = 0; i < domPrefixes.length; i++) {\n                    if (_this.getStyle(element_1, domPrefixes[i] + 'AnimationName') != null) {\n                        _this._animationPrefix = '-' + domPrefixes[i].toLowerCase() + '-';\n                        break;\n                    }\n                }\n            }\n            var transEndEventNames_1 = {\n                WebkitTransition: 'webkitTransitionEnd',\n                MozTransition: 'transitionend',\n                OTransition: 'oTransitionEnd otransitionend',\n                transition: 'transitionend'\n            };\n            Object.keys(transEndEventNames_1).forEach(function (key) {\n                if (_this.getStyle(element_1, key) != null) {\n                    _this._transitionEnd = transEndEventNames_1[key];\n                }\n            });\n        }\n        catch (e) {\n            _this._animationPrefix = null;\n            _this._transitionEnd = null;\n        }\n        return _this;\n    }\n    GenericBrowserDomAdapter.prototype.getDistributedNodes = function (el) { return el.getDistributedNodes(); };\n    GenericBrowserDomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {\n        el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n    };\n    GenericBrowserDomAdapter.prototype.supportsDOMEvents = function () { return true; };\n    GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM = function () {\n        return typeof document.body.createShadowRoot === 'function';\n    };\n    GenericBrowserDomAdapter.prototype.getAnimationPrefix = function () { return this._animationPrefix ? this._animationPrefix : ''; };\n    GenericBrowserDomAdapter.prototype.getTransitionEnd = function () { return this._transitionEnd ? this._transitionEnd : ''; };\n    GenericBrowserDomAdapter.prototype.supportsAnimation = function () {\n        return this._animationPrefix != null && this._transitionEnd != null;\n    };\n    return GenericBrowserDomAdapter;\n}(DomAdapter));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar _attrToPropMap = {\n    'class': 'className',\n    'innerHtml': 'innerHTML',\n    'readonly': 'readOnly',\n    'tabindex': 'tabIndex',\n};\nvar DOM_KEY_LOCATION_NUMPAD = 3;\n// Map to convert some key or keyIdentifier values to what will be returned by getEventKey\nvar _keyMap = {\n    // The following values are here for cross-browser compatibility and to match the W3C standard\n    // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n    '\\b': 'Backspace',\n    '\\t': 'Tab',\n    '\\x7F': 'Delete',\n    '\\x1B': 'Escape',\n    'Del': 'Delete',\n    'Esc': 'Escape',\n    'Left': 'ArrowLeft',\n    'Right': 'ArrowRight',\n    'Up': 'ArrowUp',\n    'Down': 'ArrowDown',\n    'Menu': 'ContextMenu',\n    'Scroll': 'ScrollLock',\n    'Win': 'OS'\n};\n// There is a bug in Chrome for numeric keypad keys:\n// https://code.google.com/p/chromium/issues/detail?id=155654\n// 1, 2, 3 ... are reported as A, B, C ...\nvar _chromeNumKeyPadMap = {\n    'A': '1',\n    'B': '2',\n    'C': '3',\n    'D': '4',\n    'E': '5',\n    'F': '6',\n    'G': '7',\n    'H': '8',\n    'I': '9',\n    'J': '*',\n    'K': '+',\n    'M': '-',\n    'N': '.',\n    'O': '/',\n    '\\x60': '0',\n    '\\x90': 'NumLock'\n};\nvar nodeContains;\nif (ɵglobal['Node']) {\n    nodeContains = ɵglobal['Node'].prototype.contains || function (node) {\n        return !!(this.compareDocumentPosition(node) & 16);\n    };\n}\n/**\n * A `DomAdapter` powered by full browser DOM APIs.\n *\n * @security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\n/* tslint:disable:requireParameterType no-console */\nvar BrowserDomAdapter = /** @class */ (function (_super) {\n    __extends(BrowserDomAdapter, _super);\n    function BrowserDomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BrowserDomAdapter.prototype.parse = function (templateHtml) { throw new Error('parse not implemented'); };\n    BrowserDomAdapter.makeCurrent = function () { setRootDomAdapter(new BrowserDomAdapter()); };\n    BrowserDomAdapter.prototype.hasProperty = function (element, name) { return name in element; };\n    BrowserDomAdapter.prototype.setProperty = function (el, name, value) { el[name] = value; };\n    BrowserDomAdapter.prototype.getProperty = function (el, name) { return el[name]; };\n    BrowserDomAdapter.prototype.invoke = function (el, methodName, args) {\n        var _a;\n        (_a = el)[methodName].apply(_a, __spread(args));\n    };\n    // TODO(tbosch): move this into a separate environment class once we have it\n    BrowserDomAdapter.prototype.logError = function (error) {\n        if (window.console) {\n            if (console.error) {\n                console.error(error);\n            }\n            else {\n                console.log(error);\n            }\n        }\n    };\n    BrowserDomAdapter.prototype.log = function (error) {\n        if (window.console) {\n            window.console.log && window.console.log(error);\n        }\n    };\n    BrowserDomAdapter.prototype.logGroup = function (error) {\n        if (window.console) {\n            window.console.group && window.console.group(error);\n        }\n    };\n    BrowserDomAdapter.prototype.logGroupEnd = function () {\n        if (window.console) {\n            window.console.groupEnd && window.console.groupEnd();\n        }\n    };\n    Object.defineProperty(BrowserDomAdapter.prototype, \"attrToPropMap\", {\n        get: function () { return _attrToPropMap; },\n        enumerable: true,\n        configurable: true\n    });\n    BrowserDomAdapter.prototype.contains = function (nodeA, nodeB) { return nodeContains.call(nodeA, nodeB); };\n    BrowserDomAdapter.prototype.querySelector = function (el, selector) { return el.querySelector(selector); };\n    BrowserDomAdapter.prototype.querySelectorAll = function (el, selector) { return el.querySelectorAll(selector); };\n    BrowserDomAdapter.prototype.on = function (el, evt, listener) { el.addEventListener(evt, listener, false); };\n    BrowserDomAdapter.prototype.onAndCancel = function (el, evt, listener) {\n        el.addEventListener(evt, listener, false);\n        // Needed to follow Dart's subscription semantic, until fix of\n        // https://code.google.com/p/dart/issues/detail?id=17406\n        return function () { el.removeEventListener(evt, listener, false); };\n    };\n    BrowserDomAdapter.prototype.dispatchEvent = function (el, evt) { el.dispatchEvent(evt); };\n    BrowserDomAdapter.prototype.createMouseEvent = function (eventType) {\n        var evt = this.getDefaultDocument().createEvent('MouseEvent');\n        evt.initEvent(eventType, true, true);\n        return evt;\n    };\n    BrowserDomAdapter.prototype.createEvent = function (eventType) {\n        var evt = this.getDefaultDocument().createEvent('Event');\n        evt.initEvent(eventType, true, true);\n        return evt;\n    };\n    BrowserDomAdapter.prototype.preventDefault = function (evt) {\n        evt.preventDefault();\n        evt.returnValue = false;\n    };\n    BrowserDomAdapter.prototype.isPrevented = function (evt) {\n        return evt.defaultPrevented || evt.returnValue != null && !evt.returnValue;\n    };\n    BrowserDomAdapter.prototype.getInnerHTML = function (el) { return el.innerHTML; };\n    BrowserDomAdapter.prototype.getTemplateContent = function (el) {\n        return 'content' in el && this.isTemplateElement(el) ? el.content : null;\n    };\n    BrowserDomAdapter.prototype.getOuterHTML = function (el) { return el.outerHTML; };\n    BrowserDomAdapter.prototype.nodeName = function (node) { return node.nodeName; };\n    BrowserDomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };\n    BrowserDomAdapter.prototype.type = function (node) { return node.type; };\n    BrowserDomAdapter.prototype.content = function (node) {\n        if (this.hasProperty(node, 'content')) {\n            return node.content;\n        }\n        else {\n            return node;\n        }\n    };\n    BrowserDomAdapter.prototype.firstChild = function (el) { return el.firstChild; };\n    BrowserDomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };\n    BrowserDomAdapter.prototype.parentElement = function (el) { return el.parentNode; };\n    BrowserDomAdapter.prototype.childNodes = function (el) { return el.childNodes; };\n    BrowserDomAdapter.prototype.childNodesAsList = function (el) {\n        var childNodes = el.childNodes;\n        var res = new Array(childNodes.length);\n        for (var i = 0; i < childNodes.length; i++) {\n            res[i] = childNodes[i];\n        }\n        return res;\n    };\n    BrowserDomAdapter.prototype.clearNodes = function (el) {\n        while (el.firstChild) {\n            el.removeChild(el.firstChild);\n        }\n    };\n    BrowserDomAdapter.prototype.appendChild = function (el, node) { el.appendChild(node); };\n    BrowserDomAdapter.prototype.removeChild = function (el, node) { el.removeChild(node); };\n    BrowserDomAdapter.prototype.replaceChild = function (el, newChild, oldChild) { el.replaceChild(newChild, oldChild); };\n    BrowserDomAdapter.prototype.remove = function (node) {\n        if (node.parentNode) {\n            node.parentNode.removeChild(node);\n        }\n        return node;\n    };\n    BrowserDomAdapter.prototype.insertBefore = function (parent, ref, node) { parent.insertBefore(node, ref); };\n    BrowserDomAdapter.prototype.insertAllBefore = function (parent, ref, nodes) {\n        nodes.forEach(function (n) { return parent.insertBefore(n, ref); });\n    };\n    BrowserDomAdapter.prototype.insertAfter = function (parent, ref, node) { parent.insertBefore(node, ref.nextSibling); };\n    BrowserDomAdapter.prototype.setInnerHTML = function (el, value) { el.innerHTML = value; };\n    BrowserDomAdapter.prototype.getText = function (el) { return el.textContent; };\n    BrowserDomAdapter.prototype.setText = function (el, value) { el.textContent = value; };\n    BrowserDomAdapter.prototype.getValue = function (el) { return el.value; };\n    BrowserDomAdapter.prototype.setValue = function (el, value) { el.value = value; };\n    BrowserDomAdapter.prototype.getChecked = function (el) { return el.checked; };\n    BrowserDomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };\n    BrowserDomAdapter.prototype.createComment = function (text) { return this.getDefaultDocument().createComment(text); };\n    BrowserDomAdapter.prototype.createTemplate = function (html) {\n        var t = this.getDefaultDocument().createElement('template');\n        t.innerHTML = html;\n        return t;\n    };\n    BrowserDomAdapter.prototype.createElement = function (tagName, doc) {\n        doc = doc || this.getDefaultDocument();\n        return doc.createElement(tagName);\n    };\n    BrowserDomAdapter.prototype.createElementNS = function (ns, tagName, doc) {\n        doc = doc || this.getDefaultDocument();\n        return doc.createElementNS(ns, tagName);\n    };\n    BrowserDomAdapter.prototype.createTextNode = function (text, doc) {\n        doc = doc || this.getDefaultDocument();\n        return doc.createTextNode(text);\n    };\n    BrowserDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n        doc = doc || this.getDefaultDocument();\n        var el = doc.createElement('SCRIPT');\n        el.setAttribute(attrName, attrValue);\n        return el;\n    };\n    BrowserDomAdapter.prototype.createStyleElement = function (css, doc) {\n        doc = doc || this.getDefaultDocument();\n        var style = doc.createElement('style');\n        this.appendChild(style, this.createTextNode(css, doc));\n        return style;\n    };\n    BrowserDomAdapter.prototype.createShadowRoot = function (el) { return el.createShadowRoot(); };\n    BrowserDomAdapter.prototype.getShadowRoot = function (el) { return el.shadowRoot; };\n    BrowserDomAdapter.prototype.getHost = function (el) { return el.host; };\n    BrowserDomAdapter.prototype.clone = function (node) { return node.cloneNode(true); };\n    BrowserDomAdapter.prototype.getElementsByClassName = function (element, name) {\n        return element.getElementsByClassName(name);\n    };\n    BrowserDomAdapter.prototype.getElementsByTagName = function (element, name) {\n        return element.getElementsByTagName(name);\n    };\n    BrowserDomAdapter.prototype.classList = function (element) { return Array.prototype.slice.call(element.classList, 0); };\n    BrowserDomAdapter.prototype.addClass = function (element, className) { element.classList.add(className); };\n    BrowserDomAdapter.prototype.removeClass = function (element, className) { element.classList.remove(className); };\n    BrowserDomAdapter.prototype.hasClass = function (element, className) {\n        return element.classList.contains(className);\n    };\n    BrowserDomAdapter.prototype.setStyle = function (element, styleName, styleValue) {\n        element.style[styleName] = styleValue;\n    };\n    BrowserDomAdapter.prototype.removeStyle = function (element, stylename) {\n        // IE requires '' instead of null\n        // see https://github.com/angular/angular/issues/7916\n        element.style[stylename] = '';\n    };\n    BrowserDomAdapter.prototype.getStyle = function (element, stylename) { return element.style[stylename]; };\n    BrowserDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n        var value = this.getStyle(element, styleName) || '';\n        return styleValue ? value == styleValue : value.length > 0;\n    };\n    BrowserDomAdapter.prototype.tagName = function (element) { return element.tagName; };\n    BrowserDomAdapter.prototype.attributeMap = function (element) {\n        var res = new Map();\n        var elAttrs = element.attributes;\n        for (var i = 0; i < elAttrs.length; i++) {\n            var attrib = elAttrs.item(i);\n            res.set(attrib.name, attrib.value);\n        }\n        return res;\n    };\n    BrowserDomAdapter.prototype.hasAttribute = function (element, attribute) {\n        return element.hasAttribute(attribute);\n    };\n    BrowserDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) {\n        return element.hasAttributeNS(ns, attribute);\n    };\n    BrowserDomAdapter.prototype.getAttribute = function (element, attribute) {\n        return element.getAttribute(attribute);\n    };\n    BrowserDomAdapter.prototype.getAttributeNS = function (element, ns, name) {\n        return element.getAttributeNS(ns, name);\n    };\n    BrowserDomAdapter.prototype.setAttribute = function (element, name, value) { element.setAttribute(name, value); };\n    BrowserDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) {\n        element.setAttributeNS(ns, name, value);\n    };\n    BrowserDomAdapter.prototype.removeAttribute = function (element, attribute) { element.removeAttribute(attribute); };\n    BrowserDomAdapter.prototype.removeAttributeNS = function (element, ns, name) {\n        element.removeAttributeNS(ns, name);\n    };\n    BrowserDomAdapter.prototype.templateAwareRoot = function (el) { return this.isTemplateElement(el) ? this.content(el) : el; };\n    BrowserDomAdapter.prototype.createHtmlDocument = function () {\n        return document.implementation.createHTMLDocument('fakeTitle');\n    };\n    BrowserDomAdapter.prototype.getDefaultDocument = function () { return document; };\n    BrowserDomAdapter.prototype.getBoundingClientRect = function (el) {\n        try {\n            return el.getBoundingClientRect();\n        }\n        catch (e) {\n            return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };\n        }\n    };\n    BrowserDomAdapter.prototype.getTitle = function (doc) { return doc.title; };\n    BrowserDomAdapter.prototype.setTitle = function (doc, newTitle) { doc.title = newTitle || ''; };\n    BrowserDomAdapter.prototype.elementMatches = function (n, selector) {\n        if (this.isElementNode(n)) {\n            return n.matches && n.matches(selector) ||\n                n.msMatchesSelector && n.msMatchesSelector(selector) ||\n                n.webkitMatchesSelector && n.webkitMatchesSelector(selector);\n        }\n        return false;\n    };\n    BrowserDomAdapter.prototype.isTemplateElement = function (el) {\n        return this.isElementNode(el) && el.nodeName === 'TEMPLATE';\n    };\n    BrowserDomAdapter.prototype.isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\n    BrowserDomAdapter.prototype.isCommentNode = function (node) { return node.nodeType === Node.COMMENT_NODE; };\n    BrowserDomAdapter.prototype.isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\n    BrowserDomAdapter.prototype.hasShadowRoot = function (node) {\n        return node.shadowRoot != null && node instanceof HTMLElement;\n    };\n    BrowserDomAdapter.prototype.isShadowRoot = function (node) { return node instanceof DocumentFragment; };\n    BrowserDomAdapter.prototype.importIntoDoc = function (node) { return document.importNode(this.templateAwareRoot(node), true); };\n    BrowserDomAdapter.prototype.adoptNode = function (node) { return document.adoptNode(node); };\n    BrowserDomAdapter.prototype.getHref = function (el) { return el.getAttribute('href'); };\n    BrowserDomAdapter.prototype.getEventKey = function (event) {\n        var key = event.key;\n        if (key == null) {\n            key = event.keyIdentifier;\n            // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n            // Safari cf\n            // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n            if (key == null) {\n                return 'Unidentified';\n            }\n            if (key.startsWith('U+')) {\n                key = String.fromCharCode(parseInt(key.substring(2), 16));\n                if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n                    // There is a bug in Chrome for numeric keypad keys:\n                    // https://code.google.com/p/chromium/issues/detail?id=155654\n                    // 1, 2, 3 ... are reported as A, B, C ...\n                    key = _chromeNumKeyPadMap[key];\n                }\n            }\n        }\n        return _keyMap[key] || key;\n    };\n    BrowserDomAdapter.prototype.getGlobalEventTarget = function (doc, target) {\n        if (target === 'window') {\n            return window;\n        }\n        if (target === 'document') {\n            return doc;\n        }\n        if (target === 'body') {\n            return doc.body;\n        }\n        return null;\n    };\n    BrowserDomAdapter.prototype.getHistory = function () { return window.history; };\n    BrowserDomAdapter.prototype.getLocation = function () { return window.location; };\n    BrowserDomAdapter.prototype.getBaseHref = function (doc) {\n        var href = getBaseElementHref();\n        return href == null ? null : relativePath(href);\n    };\n    BrowserDomAdapter.prototype.resetBaseElement = function () { baseElement = null; };\n    BrowserDomAdapter.prototype.getUserAgent = function () { return window.navigator.userAgent; };\n    BrowserDomAdapter.prototype.setData = function (element, name, value) {\n        this.setAttribute(element, 'data-' + name, value);\n    };\n    BrowserDomAdapter.prototype.getData = function (element, name) {\n        return this.getAttribute(element, 'data-' + name);\n    };\n    BrowserDomAdapter.prototype.getComputedStyle = function (element) { return getComputedStyle(element); };\n    // TODO(tbosch): move this into a separate environment class once we have it\n    BrowserDomAdapter.prototype.supportsWebAnimation = function () {\n        return typeof Element.prototype['animate'] === 'function';\n    };\n    BrowserDomAdapter.prototype.performanceNow = function () {\n        // performance.now() is not available in all browsers, see\n        // http://caniuse.com/#search=performance.now\n        return window.performance && window.performance.now ? window.performance.now() :\n            new Date().getTime();\n    };\n    BrowserDomAdapter.prototype.supportsCookies = function () { return true; };\n    BrowserDomAdapter.prototype.getCookie = function (name) { return ɵparseCookieValue(document.cookie, name); };\n    BrowserDomAdapter.prototype.setCookie = function (name, value) {\n        // document.cookie is magical, assigning into it assigns/overrides one cookie value, but does\n        // not clear other cookies.\n        document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n    };\n    return BrowserDomAdapter;\n}(GenericBrowserDomAdapter));\nvar baseElement = null;\nfunction getBaseElementHref() {\n    if (!baseElement) {\n        baseElement = document.querySelector('base');\n        if (!baseElement) {\n            return null;\n        }\n    }\n    return baseElement.getAttribute('href');\n}\n// based on urlUtils.js in AngularJS 1\nvar urlParsingNode;\nfunction relativePath(url) {\n    if (!urlParsingNode) {\n        urlParsingNode = document.createElement('a');\n    }\n    urlParsingNode.setAttribute('href', url);\n    return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n        '/' + urlParsingNode.pathname;\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A DI Token representing the main rendering context. In a browser this is the DOM Document.\n *\n * Note: Document might not be available in the Application Context when Application and Rendering\n * Contexts are not the same (e.g. when running the application into a Web Worker).\n *\n * @deprecated import from `@angular/common` instead.\n */\nvar DOCUMENT$1 = DOCUMENT;\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction supportsState() {\n    return !!window.history.pushState;\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * `PlatformLocation` encapsulates all of the direct calls to platform APIs.\n * This class should not be used directly by an application developer. Instead, use\n * {@link Location}.\n */\nvar BrowserPlatformLocation = /** @class */ (function (_super) {\n    __extends(BrowserPlatformLocation, _super);\n    function BrowserPlatformLocation(_doc) {\n        var _this = _super.call(this) || this;\n        _this._doc = _doc;\n        _this._init();\n        return _this;\n    }\n    // This is moved to its own method so that `MockPlatformLocationStrategy` can overwrite it\n    /** @internal */\n    BrowserPlatformLocation.prototype._init = function () {\n        this.location = getDOM().getLocation();\n        this._history = getDOM().getHistory();\n    };\n    BrowserPlatformLocation.prototype.getBaseHrefFromDOM = function () { return getDOM().getBaseHref(this._doc); };\n    BrowserPlatformLocation.prototype.onPopState = function (fn) {\n        getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('popstate', fn, false);\n    };\n    BrowserPlatformLocation.prototype.onHashChange = function (fn) {\n        getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('hashchange', fn, false);\n    };\n    Object.defineProperty(BrowserPlatformLocation.prototype, \"pathname\", {\n        get: function () { return this.location.pathname; },\n        set: function (newPath) { this.location.pathname = newPath; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BrowserPlatformLocation.prototype, \"search\", {\n        get: function () { return this.location.search; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BrowserPlatformLocation.prototype, \"hash\", {\n        get: function () { return this.location.hash; },\n        enumerable: true,\n        configurable: true\n    });\n    BrowserPlatformLocation.prototype.pushState = function (state, title, url) {\n        if (supportsState()) {\n            this._history.pushState(state, title, url);\n        }\n        else {\n            this.location.hash = url;\n        }\n    };\n    BrowserPlatformLocation.prototype.replaceState = function (state, title, url) {\n        if (supportsState()) {\n            this._history.replaceState(state, title, url);\n        }\n        else {\n            this.location.hash = url;\n        }\n    };\n    BrowserPlatformLocation.prototype.forward = function () { this._history.forward(); };\n    BrowserPlatformLocation.prototype.back = function () { this._history.back(); };\n    BrowserPlatformLocation = __decorate([\n        Injectable(),\n        __param(0, Inject(DOCUMENT$1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], BrowserPlatformLocation);\n    return BrowserPlatformLocation;\n}(PlatformLocation));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * An id that identifies a particular application being bootstrapped, that should\n * match across the client/server boundary.\n */\nvar TRANSITION_ID = new InjectionToken('TRANSITION_ID');\nfunction appInitializerFactory(transitionId, document, injector) {\n    return function () {\n        // Wait for all application initializers to be completed before removing the styles set by\n        // the server.\n        injector.get(ApplicationInitStatus).donePromise.then(function () {\n            var dom = getDOM();\n            var styles = Array.prototype.slice.apply(dom.querySelectorAll(document, \"style[ng-transition]\"));\n            styles.filter(function (el) { return dom.getAttribute(el, 'ng-transition') === transitionId; })\n                .forEach(function (el) { return dom.remove(el); });\n        });\n    };\n}\nvar SERVER_TRANSITION_PROVIDERS = [\n    {\n        provide: APP_INITIALIZER,\n        useFactory: appInitializerFactory,\n        deps: [TRANSITION_ID, DOCUMENT$1, Injector],\n        multi: true\n    },\n];\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar BrowserGetTestability = /** @class */ (function () {\n    function BrowserGetTestability() {\n    }\n    BrowserGetTestability.init = function () { setTestabilityGetter(new BrowserGetTestability()); };\n    BrowserGetTestability.prototype.addToWindow = function (registry) {\n        ɵglobal['getAngularTestability'] = function (elem, findInAncestors) {\n            if (findInAncestors === void 0) { findInAncestors = true; }\n            var testability = registry.findTestabilityInTree(elem, findInAncestors);\n            if (testability == null) {\n                throw new Error('Could not find testability for element.');\n            }\n            return testability;\n        };\n        ɵglobal['getAllAngularTestabilities'] = function () { return registry.getAllTestabilities(); };\n        ɵglobal['getAllAngularRootElements'] = function () { return registry.getAllRootElements(); };\n        var whenAllStable = function (callback /** TODO #9100 */) {\n            var testabilities = ɵglobal['getAllAngularTestabilities']();\n            var count = testabilities.length;\n            var didWork = false;\n            var decrement = function (didWork_ /** TODO #9100 */) {\n                didWork = didWork || didWork_;\n                count--;\n                if (count == 0) {\n                    callback(didWork);\n                }\n            };\n            testabilities.forEach(function (testability /** TODO #9100 */) {\n                testability.whenStable(decrement);\n            });\n        };\n        if (!ɵglobal['frameworkStabilizers']) {\n            ɵglobal['frameworkStabilizers'] = [];\n        }\n        ɵglobal['frameworkStabilizers'].push(whenAllStable);\n    };\n    BrowserGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {\n        if (elem == null) {\n            return null;\n        }\n        var t = registry.getTestability(elem);\n        if (t != null) {\n            return t;\n        }\n        else if (!findInAncestors) {\n            return null;\n        }\n        if (getDOM().isShadowRoot(elem)) {\n            return this.findTestabilityInTree(registry, getDOM().getHost(elem), true);\n        }\n        return this.findTestabilityInTree(registry, getDOM().parentElement(elem), true);\n    };\n    return BrowserGetTestability;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Exports the value under a given `name` in the global property `ng`. For example `ng.probe` if\n * `name` is `'probe'`.\n * @param name Name under which it will be exported. Keep in mind this will be a property of the\n * global `ng` object.\n * @param value The value to export.\n */\nfunction exportNgVar(name, value) {\n    if (typeof COMPILED === 'undefined' || !COMPILED) {\n        // Note: we can't export `ng` when using closure enhanced optimization as:\n        // - closure declares globals itself for minified names, which sometimes clobber our `ng` global\n        // - we can't declare a closure extern as the namespace `ng` is already used within Google\n        //   for typings for angularJS (via `goog.provide('ng....')`).\n        var ng = ɵglobal['ng'] = ɵglobal['ng'] || {};\n        ng[name] = value;\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar CORE_TOKENS = {\n    'ApplicationRef': ApplicationRef,\n    'NgZone': NgZone,\n};\nvar INSPECT_GLOBAL_NAME = 'probe';\nvar CORE_TOKENS_GLOBAL_NAME = 'coreTokens';\n/**\n * Returns a {@link DebugElement} for the given native DOM element, or\n * null if the given native element does not have an Angular view associated\n * with it.\n */\nfunction inspectNativeElement(element) {\n    return getDebugNode(element);\n}\nfunction _createNgProbe(coreTokens) {\n    exportNgVar(INSPECT_GLOBAL_NAME, inspectNativeElement);\n    exportNgVar(CORE_TOKENS_GLOBAL_NAME, __assign({}, CORE_TOKENS, _ngProbeTokensToMap(coreTokens || [])));\n    return function () { return inspectNativeElement; };\n}\nfunction _ngProbeTokensToMap(tokens) {\n    return tokens.reduce(function (prev, t) { return (prev[t.name] = t.token, prev); }, {});\n}\n/**\n * Providers which support debugging Angular applications (e.g. via `ng.probe`).\n */\nvar ELEMENT_PROBE_PROVIDERS = [\n    {\n        provide: APP_INITIALIZER,\n        useFactory: _createNgProbe,\n        deps: [\n            [NgProbeToken, new Optional()],\n        ],\n        multi: true,\n    },\n];\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The injection token for the event-manager plug-in service.\n */\nvar EVENT_MANAGER_PLUGINS = new InjectionToken('EventManagerPlugins');\n/**\n * An injectable service that provides event management for Angular\n * through a browser plug-in.\n */\nvar EventManager = /** @class */ (function () {\n    /**\n     * Initializes an instance of the event-manager service.\n     */\n    function EventManager(plugins, _zone) {\n        var _this = this;\n        this._zone = _zone;\n        this._eventNameToPlugin = new Map();\n        plugins.forEach(function (p) { return p.manager = _this; });\n        this._plugins = plugins.slice().reverse();\n    }\n    /**\n     * Registers a handler for a specific element and event.\n     *\n     * @param element The HTML element to receive event notifications.\n     * @param eventName The name of the event to listen for.\n     * @param handler A function to call when the notification occurs. Receives the\n     * event object as an argument.\n     * @returns  A callback function that can be used to remove the handler.\n     */\n    EventManager.prototype.addEventListener = function (element, eventName, handler) {\n        var plugin = this._findPluginFor(eventName);\n        return plugin.addEventListener(element, eventName, handler);\n    };\n    /**\n     * Registers a global handler for an event in a target view.\n     *\n     * @param target A target for global event notifications. One of \"window\", \"document\", or \"body\".\n     * @param eventName The name of the event to listen for.\n     * @param handler A function to call when the notification occurs. Receives the\n     * event object as an argument.\n     * @returns A callback function that can be used to remove the handler.\n     */\n    EventManager.prototype.addGlobalEventListener = function (target, eventName, handler) {\n        var plugin = this._findPluginFor(eventName);\n        return plugin.addGlobalEventListener(target, eventName, handler);\n    };\n    /**\n     * Retrieves the compilation zone in which event listeners are registered.\n     */\n    EventManager.prototype.getZone = function () { return this._zone; };\n    /** @internal */\n    EventManager.prototype._findPluginFor = function (eventName) {\n        var plugin = this._eventNameToPlugin.get(eventName);\n        if (plugin) {\n            return plugin;\n        }\n        var plugins = this._plugins;\n        for (var i = 0; i < plugins.length; i++) {\n            var plugin_1 = plugins[i];\n            if (plugin_1.supports(eventName)) {\n                this._eventNameToPlugin.set(eventName, plugin_1);\n                return plugin_1;\n            }\n        }\n        throw new Error(\"No event manager plugin found for event \" + eventName);\n    };\n    EventManager = __decorate([\n        Injectable(),\n        __param(0, Inject(EVENT_MANAGER_PLUGINS)),\n        __metadata(\"design:paramtypes\", [Array, NgZone])\n    ], EventManager);\n    return EventManager;\n}());\nvar EventManagerPlugin = /** @class */ (function () {\n    function EventManagerPlugin(_doc) {\n        this._doc = _doc;\n    }\n    EventManagerPlugin.prototype.addGlobalEventListener = function (element, eventName, handler) {\n        var target = getDOM().getGlobalEventTarget(this._doc, element);\n        if (!target) {\n            throw new Error(\"Unsupported event target \" + target + \" for event \" + eventName);\n        }\n        return this.addEventListener(target, eventName, handler);\n    };\n    return EventManagerPlugin;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar SharedStylesHost = /** @class */ (function () {\n    function SharedStylesHost() {\n        /** @internal */\n        this._stylesSet = new Set();\n    }\n    SharedStylesHost.prototype.addStyles = function (styles) {\n        var _this = this;\n        var additions = new Set();\n        styles.forEach(function (style) {\n            if (!_this._stylesSet.has(style)) {\n                _this._stylesSet.add(style);\n                additions.add(style);\n            }\n        });\n        this.onStylesAdded(additions);\n    };\n    SharedStylesHost.prototype.onStylesAdded = function (additions) { };\n    SharedStylesHost.prototype.getAllStyles = function () { return Array.from(this._stylesSet); };\n    SharedStylesHost = __decorate([\n        Injectable()\n    ], SharedStylesHost);\n    return SharedStylesHost;\n}());\nvar DomSharedStylesHost = /** @class */ (function (_super) {\n    __extends(DomSharedStylesHost, _super);\n    function DomSharedStylesHost(_doc) {\n        var _this = _super.call(this) || this;\n        _this._doc = _doc;\n        _this._hostNodes = new Set();\n        _this._styleNodes = new Set();\n        _this._hostNodes.add(_doc.head);\n        return _this;\n    }\n    DomSharedStylesHost.prototype._addStylesToHost = function (styles, host) {\n        var _this = this;\n        styles.forEach(function (style) {\n            var styleEl = _this._doc.createElement('style');\n            styleEl.textContent = style;\n            _this._styleNodes.add(host.appendChild(styleEl));\n        });\n    };\n    DomSharedStylesHost.prototype.addHost = function (hostNode) {\n        this._addStylesToHost(this._stylesSet, hostNode);\n        this._hostNodes.add(hostNode);\n    };\n    DomSharedStylesHost.prototype.removeHost = function (hostNode) { this._hostNodes.delete(hostNode); };\n    DomSharedStylesHost.prototype.onStylesAdded = function (additions) {\n        var _this = this;\n        this._hostNodes.forEach(function (hostNode) { return _this._addStylesToHost(additions, hostNode); });\n    };\n    DomSharedStylesHost.prototype.ngOnDestroy = function () { this._styleNodes.forEach(function (styleNode) { return getDOM().remove(styleNode); }); };\n    DomSharedStylesHost = __decorate([\n        Injectable(),\n        __param(0, Inject(DOCUMENT$1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], DomSharedStylesHost);\n    return DomSharedStylesHost;\n}(SharedStylesHost));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar NAMESPACE_URIS = {\n    'svg': 'http://www.w3.org/2000/svg',\n    'xhtml': 'http://www.w3.org/1999/xhtml',\n    'xlink': 'http://www.w3.org/1999/xlink',\n    'xml': 'http://www.w3.org/XML/1998/namespace',\n    'xmlns': 'http://www.w3.org/2000/xmlns/',\n};\nvar COMPONENT_REGEX = /%COMP%/g;\nvar COMPONENT_VARIABLE = '%COMP%';\nvar HOST_ATTR = \"_nghost-\" + COMPONENT_VARIABLE;\nvar CONTENT_ATTR = \"_ngcontent-\" + COMPONENT_VARIABLE;\nfunction shimContentAttribute(componentShortId) {\n    return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\nfunction shimHostAttribute(componentShortId) {\n    return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\nfunction flattenStyles(compId, styles, target) {\n    for (var i = 0; i < styles.length; i++) {\n        var style = styles[i];\n        if (Array.isArray(style)) {\n            flattenStyles(compId, style, target);\n        }\n        else {\n            style = style.replace(COMPONENT_REGEX, compId);\n            target.push(style);\n        }\n    }\n    return target;\n}\nfunction decoratePreventDefault(eventHandler) {\n    return function (event) {\n        var allowDefaultBehavior = eventHandler(event);\n        if (allowDefaultBehavior === false) {\n            // TODO(tbosch): move preventDefault into event plugins...\n            event.preventDefault();\n            event.returnValue = false;\n        }\n    };\n}\nvar DomRendererFactory2 = /** @class */ (function () {\n    function DomRendererFactory2(eventManager, sharedStylesHost) {\n        this.eventManager = eventManager;\n        this.sharedStylesHost = sharedStylesHost;\n        this.rendererByCompId = new Map();\n        this.defaultRenderer = new DefaultDomRenderer2(eventManager);\n    }\n    DomRendererFactory2.prototype.createRenderer = function (element, type) {\n        if (!element || !type) {\n            return this.defaultRenderer;\n        }\n        switch (type.encapsulation) {\n            case ViewEncapsulation.Emulated: {\n                var renderer = this.rendererByCompId.get(type.id);\n                if (!renderer) {\n                    renderer =\n                        new EmulatedEncapsulationDomRenderer2(this.eventManager, this.sharedStylesHost, type);\n                    this.rendererByCompId.set(type.id, renderer);\n                }\n                renderer.applyToHost(element);\n                return renderer;\n            }\n            case ViewEncapsulation.Native:\n            case ViewEncapsulation.ShadowDom:\n                return new ShadowDomRenderer(this.eventManager, this.sharedStylesHost, element, type);\n            default: {\n                if (!this.rendererByCompId.has(type.id)) {\n                    var styles = flattenStyles(type.id, type.styles, []);\n                    this.sharedStylesHost.addStyles(styles);\n                    this.rendererByCompId.set(type.id, this.defaultRenderer);\n                }\n                return this.defaultRenderer;\n            }\n        }\n    };\n    DomRendererFactory2.prototype.begin = function () { };\n    DomRendererFactory2.prototype.end = function () { };\n    DomRendererFactory2 = __decorate([\n        Injectable(),\n        __metadata(\"design:paramtypes\", [EventManager, DomSharedStylesHost])\n    ], DomRendererFactory2);\n    return DomRendererFactory2;\n}());\nvar DefaultDomRenderer2 = /** @class */ (function () {\n    function DefaultDomRenderer2(eventManager) {\n        this.eventManager = eventManager;\n        this.data = Object.create(null);\n    }\n    DefaultDomRenderer2.prototype.destroy = function () { };\n    DefaultDomRenderer2.prototype.createElement = function (name, namespace) {\n        if (namespace) {\n            return document.createElementNS(NAMESPACE_URIS[namespace], name);\n        }\n        return document.createElement(name);\n    };\n    DefaultDomRenderer2.prototype.createComment = function (value) { return document.createComment(value); };\n    DefaultDomRenderer2.prototype.createText = function (value) { return document.createTextNode(value); };\n    DefaultDomRenderer2.prototype.appendChild = function (parent, newChild) { parent.appendChild(newChild); };\n    DefaultDomRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n        if (parent) {\n            parent.insertBefore(newChild, refChild);\n        }\n    };\n    DefaultDomRenderer2.prototype.removeChild = function (parent, oldChild) {\n        if (parent) {\n            parent.removeChild(oldChild);\n        }\n    };\n    DefaultDomRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n        var el = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n            selectorOrNode;\n        if (!el) {\n            throw new Error(\"The selector \\\"\" + selectorOrNode + \"\\\" did not match any elements\");\n        }\n        el.textContent = '';\n        return el;\n    };\n    DefaultDomRenderer2.prototype.parentNode = function (node) { return node.parentNode; };\n    DefaultDomRenderer2.prototype.nextSibling = function (node) { return node.nextSibling; };\n    DefaultDomRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n        if (namespace) {\n            name = namespace + \":\" + name;\n            var namespaceUri = NAMESPACE_URIS[namespace];\n            if (namespaceUri) {\n                el.setAttributeNS(namespaceUri, name, value);\n            }\n            else {\n                el.setAttribute(name, value);\n            }\n        }\n        else {\n            el.setAttribute(name, value);\n        }\n    };\n    DefaultDomRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n        if (namespace) {\n            var namespaceUri = NAMESPACE_URIS[namespace];\n            if (namespaceUri) {\n                el.removeAttributeNS(namespaceUri, name);\n            }\n            else {\n                el.removeAttribute(namespace + \":\" + name);\n            }\n        }\n        else {\n            el.removeAttribute(name);\n        }\n    };\n    DefaultDomRenderer2.prototype.addClass = function (el, name) { el.classList.add(name); };\n    DefaultDomRenderer2.prototype.removeClass = function (el, name) { el.classList.remove(name); };\n    DefaultDomRenderer2.prototype.setStyle = function (el, style, value, flags) {\n        if (flags & RendererStyleFlags2.DashCase) {\n            el.style.setProperty(style, value, !!(flags & RendererStyleFlags2.Important) ? 'important' : '');\n        }\n        else {\n            el.style[style] = value;\n        }\n    };\n    DefaultDomRenderer2.prototype.removeStyle = function (el, style, flags) {\n        if (flags & RendererStyleFlags2.DashCase) {\n            el.style.removeProperty(style);\n        }\n        else {\n            // IE requires '' instead of null\n            // see https://github.com/angular/angular/issues/7916\n            el.style[style] = '';\n        }\n    };\n    DefaultDomRenderer2.prototype.setProperty = function (el, name, value) {\n        checkNoSyntheticProp(name, 'property');\n        el[name] = value;\n    };\n    DefaultDomRenderer2.prototype.setValue = function (node, value) { node.nodeValue = value; };\n    DefaultDomRenderer2.prototype.listen = function (target, event, callback) {\n        checkNoSyntheticProp(event, 'listener');\n        if (typeof target === 'string') {\n            return this.eventManager.addGlobalEventListener(target, event, decoratePreventDefault(callback));\n        }\n        return this.eventManager.addEventListener(target, event, decoratePreventDefault(callback));\n    };\n    return DefaultDomRenderer2;\n}());\nvar AT_CHARCODE = '@'.charCodeAt(0);\nfunction checkNoSyntheticProp(name, nameKind) {\n    if (name.charCodeAt(0) === AT_CHARCODE) {\n        throw new Error(\"Found the synthetic \" + nameKind + \" \" + name + \". Please include either \\\"BrowserAnimationsModule\\\" or \\\"NoopAnimationsModule\\\" in your application.\");\n    }\n}\nvar EmulatedEncapsulationDomRenderer2 = /** @class */ (function (_super) {\n    __extends(EmulatedEncapsulationDomRenderer2, _super);\n    function EmulatedEncapsulationDomRenderer2(eventManager, sharedStylesHost, component) {\n        var _this = _super.call(this, eventManager) || this;\n        _this.component = component;\n        var styles = flattenStyles(component.id, component.styles, []);\n        sharedStylesHost.addStyles(styles);\n        _this.contentAttr = shimContentAttribute(component.id);\n        _this.hostAttr = shimHostAttribute(component.id);\n        return _this;\n    }\n    EmulatedEncapsulationDomRenderer2.prototype.applyToHost = function (element) { _super.prototype.setAttribute.call(this, element, this.hostAttr, ''); };\n    EmulatedEncapsulationDomRenderer2.prototype.createElement = function (parent, name) {\n        var el = _super.prototype.createElement.call(this, parent, name);\n        _super.prototype.setAttribute.call(this, el, this.contentAttr, '');\n        return el;\n    };\n    return EmulatedEncapsulationDomRenderer2;\n}(DefaultDomRenderer2));\nvar ShadowDomRenderer = /** @class */ (function (_super) {\n    __extends(ShadowDomRenderer, _super);\n    function ShadowDomRenderer(eventManager, sharedStylesHost, hostEl, component) {\n        var _this = _super.call(this, eventManager) || this;\n        _this.sharedStylesHost = sharedStylesHost;\n        _this.hostEl = hostEl;\n        _this.component = component;\n        if (component.encapsulation === ViewEncapsulation.ShadowDom) {\n            _this.shadowRoot = hostEl.attachShadow({ mode: 'open' });\n        }\n        else {\n            _this.shadowRoot = hostEl.createShadowRoot();\n        }\n        _this.sharedStylesHost.addHost(_this.shadowRoot);\n        var styles = flattenStyles(component.id, component.styles, []);\n        for (var i = 0; i < styles.length; i++) {\n            var styleEl = document.createElement('style');\n            styleEl.textContent = styles[i];\n            _this.shadowRoot.appendChild(styleEl);\n        }\n        return _this;\n    }\n    ShadowDomRenderer.prototype.nodeOrShadowRoot = function (node) { return node === this.hostEl ? this.shadowRoot : node; };\n    ShadowDomRenderer.prototype.destroy = function () { this.sharedStylesHost.removeHost(this.shadowRoot); };\n    ShadowDomRenderer.prototype.appendChild = function (parent, newChild) {\n        return _super.prototype.appendChild.call(this, this.nodeOrShadowRoot(parent), newChild);\n    };\n    ShadowDomRenderer.prototype.insertBefore = function (parent, newChild, refChild) {\n        return _super.prototype.insertBefore.call(this, this.nodeOrShadowRoot(parent), newChild, refChild);\n    };\n    ShadowDomRenderer.prototype.removeChild = function (parent, oldChild) {\n        return _super.prototype.removeChild.call(this, this.nodeOrShadowRoot(parent), oldChild);\n    };\n    ShadowDomRenderer.prototype.parentNode = function (node) {\n        return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this, this.nodeOrShadowRoot(node)));\n    };\n    return ShadowDomRenderer;\n}(DefaultDomRenderer2));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ɵ0 = function (v) {\n    return '__zone_symbol__' + v;\n};\n/**\n * Detect if Zone is present. If it is then use simple zone aware 'addEventListener'\n * since Angular can do much more\n * efficient bookkeeping than Zone can, because we have additional information. This speeds up\n * addEventListener by 3x.\n */\nvar __symbol__ = (typeof Zone !== 'undefined') && Zone['__symbol__'] || ɵ0;\nvar ADD_EVENT_LISTENER = __symbol__('addEventListener');\nvar REMOVE_EVENT_LISTENER = __symbol__('removeEventListener');\nvar symbolNames = {};\nvar FALSE = 'FALSE';\nvar ANGULAR = 'ANGULAR';\nvar NATIVE_ADD_LISTENER = 'addEventListener';\nvar NATIVE_REMOVE_LISTENER = 'removeEventListener';\n// use the same symbol string which is used in zone.js\nvar stopSymbol = '__zone_symbol__propagationStopped';\nvar stopMethodSymbol = '__zone_symbol__stopImmediatePropagation';\nvar blackListedEvents = (typeof Zone !== 'undefined') && Zone[__symbol__('BLACK_LISTED_EVENTS')];\nvar blackListedMap;\nif (blackListedEvents) {\n    blackListedMap = {};\n    blackListedEvents.forEach(function (eventName) { blackListedMap[eventName] = eventName; });\n}\nvar isBlackListedEvent = function (eventName) {\n    if (!blackListedMap) {\n        return false;\n    }\n    return blackListedMap.hasOwnProperty(eventName);\n};\n// a global listener to handle all dom event,\n// so we do not need to create a closure every time\nvar globalListener = function (event) {\n    var symbolName = symbolNames[event.type];\n    if (!symbolName) {\n        return;\n    }\n    var taskDatas = this[symbolName];\n    if (!taskDatas) {\n        return;\n    }\n    var args = [event];\n    if (taskDatas.length === 1) {\n        // if taskDatas only have one element, just invoke it\n        var taskData = taskDatas[0];\n        if (taskData.zone !== Zone.current) {\n            // only use Zone.run when Zone.current not equals to stored zone\n            return taskData.zone.run(taskData.handler, this, args);\n        }\n        else {\n            return taskData.handler.apply(this, args);\n        }\n    }\n    else {\n        // copy tasks as a snapshot to avoid event handlers remove\n        // itself or others\n        var copiedTasks = taskDatas.slice();\n        for (var i = 0; i < copiedTasks.length; i++) {\n            // if other listener call event.stopImmediatePropagation\n            // just break\n            if (event[stopSymbol] === true) {\n                break;\n            }\n            var taskData = copiedTasks[i];\n            if (taskData.zone !== Zone.current) {\n                // only use Zone.run when Zone.current not equals to stored zone\n                taskData.zone.run(taskData.handler, this, args);\n            }\n            else {\n                taskData.handler.apply(this, args);\n            }\n        }\n    }\n};\nvar DomEventsPlugin = /** @class */ (function (_super) {\n    __extends(DomEventsPlugin, _super);\n    function DomEventsPlugin(doc, ngZone, platformId) {\n        var _this = _super.call(this, doc) || this;\n        _this.ngZone = ngZone;\n        if (!platformId || !isPlatformServer(platformId)) {\n            _this.patchEvent();\n        }\n        return _this;\n    }\n    DomEventsPlugin.prototype.patchEvent = function () {\n        if (typeof Event === 'undefined' || !Event || !Event.prototype) {\n            return;\n        }\n        if (Event.prototype[stopMethodSymbol]) {\n            // already patched by zone.js\n            return;\n        }\n        var delegate = Event.prototype[stopMethodSymbol] =\n            Event.prototype.stopImmediatePropagation;\n        Event.prototype.stopImmediatePropagation = function () {\n            if (this) {\n                this[stopSymbol] = true;\n            }\n            // should call native delegate in case\n            // in some environment part of the application\n            // will not use the patched Event\n            delegate && delegate.apply(this, arguments);\n        };\n    };\n    // This plugin should come last in the list of plugins, because it accepts all\n    // events.\n    DomEventsPlugin.prototype.supports = function (eventName) { return true; };\n    DomEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {\n        var _this = this;\n        var zoneJsLoaded = element[ADD_EVENT_LISTENER];\n        var callback = handler;\n        // if zonejs is loaded and current zone is not ngZone\n        // we keep Zone.current on target for later restoration.\n        if (zoneJsLoaded && (!NgZone.isInAngularZone() || isBlackListedEvent(eventName))) {\n            var symbolName = symbolNames[eventName];\n            if (!symbolName) {\n                symbolName = symbolNames[eventName] = __symbol__(ANGULAR + eventName + FALSE);\n            }\n            var taskDatas = element[symbolName];\n            var globalListenerRegistered = taskDatas && taskDatas.length > 0;\n            if (!taskDatas) {\n                taskDatas = element[symbolName] = [];\n            }\n            var zone = isBlackListedEvent(eventName) ? Zone.root : Zone.current;\n            if (taskDatas.length === 0) {\n                taskDatas.push({ zone: zone, handler: callback });\n            }\n            else {\n                var callbackRegistered = false;\n                for (var i = 0; i < taskDatas.length; i++) {\n                    if (taskDatas[i].handler === callback) {\n                        callbackRegistered = true;\n                        break;\n                    }\n                }\n                if (!callbackRegistered) {\n                    taskDatas.push({ zone: zone, handler: callback });\n                }\n            }\n            if (!globalListenerRegistered) {\n                element[ADD_EVENT_LISTENER](eventName, globalListener, false);\n            }\n        }\n        else {\n            element[NATIVE_ADD_LISTENER](eventName, callback, false);\n        }\n        return function () { return _this.removeEventListener(element, eventName, callback); };\n    };\n    DomEventsPlugin.prototype.removeEventListener = function (target, eventName, callback) {\n        var underlyingRemove = target[REMOVE_EVENT_LISTENER];\n        // zone.js not loaded, use native removeEventListener\n        if (!underlyingRemove) {\n            return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n        }\n        var symbolName = symbolNames[eventName];\n        var taskDatas = symbolName && target[symbolName];\n        if (!taskDatas) {\n            // addEventListener not using patched version\n            // just call native removeEventListener\n            return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n        }\n        // fix issue 20532, should be able to remove\n        // listener which was added inside of ngZone\n        var found = false;\n        for (var i = 0; i < taskDatas.length; i++) {\n            // remove listener from taskDatas if the callback equals\n            if (taskDatas[i].handler === callback) {\n                found = true;\n                taskDatas.splice(i, 1);\n                break;\n            }\n        }\n        if (found) {\n            if (taskDatas.length === 0) {\n                // all listeners are removed, we can remove the globalListener from target\n                underlyingRemove.apply(target, [eventName, globalListener, false]);\n            }\n        }\n        else {\n            // not found in taskDatas, the callback may be added inside of ngZone\n            // use native remove listener to remove the callback\n            target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n        }\n    };\n    DomEventsPlugin = __decorate([\n        Injectable(),\n        __param(0, Inject(DOCUMENT$1)),\n        __param(2, Optional()), __param(2, Inject(PLATFORM_ID)),\n        __metadata(\"design:paramtypes\", [Object, NgZone, Object])\n    ], DomEventsPlugin);\n    return DomEventsPlugin;\n}(EventManagerPlugin));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Supported HammerJS recognizer event names.\n */\nvar EVENT_NAMES = {\n    // pan\n    'pan': true,\n    'panstart': true,\n    'panmove': true,\n    'panend': true,\n    'pancancel': true,\n    'panleft': true,\n    'panright': true,\n    'panup': true,\n    'pandown': true,\n    // pinch\n    'pinch': true,\n    'pinchstart': true,\n    'pinchmove': true,\n    'pinchend': true,\n    'pinchcancel': true,\n    'pinchin': true,\n    'pinchout': true,\n    // press\n    'press': true,\n    'pressup': true,\n    // rotate\n    'rotate': true,\n    'rotatestart': true,\n    'rotatemove': true,\n    'rotateend': true,\n    'rotatecancel': true,\n    // swipe\n    'swipe': true,\n    'swipeleft': true,\n    'swiperight': true,\n    'swipeup': true,\n    'swipedown': true,\n    // tap\n    'tap': true,\n};\n/**\n * DI token for providing [HammerJS](http://hammerjs.github.io/) support to Angular.\n * @see `HammerGestureConfig`\n *\n * @experimental\n */\nvar HAMMER_GESTURE_CONFIG = new InjectionToken('HammerGestureConfig');\n/** Injection token used to provide a {@link HammerLoader} to Angular. */\nvar HAMMER_LOADER = new InjectionToken('HammerLoader');\n/**\n * An injectable [HammerJS Manager](http://hammerjs.github.io/api/#hammer.manager)\n * for gesture recognition. Configures specific event recognition.\n * @experimental\n */\nvar HammerGestureConfig = /** @class */ (function () {\n    function HammerGestureConfig() {\n        /**\n         * A set of supported event names for gestures to be used in Angular.\n         * Angular supports all built-in recognizers, as listed in\n         * [HammerJS documentation](http://hammerjs.github.io/).\n         */\n        this.events = [];\n        /**\n        * Maps gesture event names to a set of configuration options\n        * that specify overrides to the default values for specific properties.\n        *\n        * The key is a supported event name to be configured,\n        * and the options object contains a set of properties, with override values\n        * to be applied to the named recognizer event.\n        * For example, to disable recognition of the rotate event, specify\n        *  `{\"rotate\": {\"enable\": false}}`.\n        *\n        * Properties that are not present take the HammerJS default values.\n        * For information about which properties are supported for which events,\n        * and their allowed and default values, see\n        * [HammerJS documentation](http://hammerjs.github.io/).\n        *\n        */\n        this.overrides = {};\n    }\n    /**\n     * Creates a [HammerJS Manager](http://hammerjs.github.io/api/#hammer.manager)\n     * and attaches it to a given HTML element.\n     * @param element The element that will recognize gestures.\n     * @returns A HammerJS event-manager object.\n     */\n    HammerGestureConfig.prototype.buildHammer = function (element) {\n        var mc = new Hammer(element, this.options);\n        mc.get('pinch').set({ enable: true });\n        mc.get('rotate').set({ enable: true });\n        for (var eventName in this.overrides) {\n            mc.get(eventName).set(this.overrides[eventName]);\n        }\n        return mc;\n    };\n    HammerGestureConfig = __decorate([\n        Injectable()\n    ], HammerGestureConfig);\n    return HammerGestureConfig;\n}());\nvar HammerGesturesPlugin = /** @class */ (function (_super) {\n    __extends(HammerGesturesPlugin, _super);\n    function HammerGesturesPlugin(doc, _config, console, loader) {\n        var _this = _super.call(this, doc) || this;\n        _this._config = _config;\n        _this.console = console;\n        _this.loader = loader;\n        return _this;\n    }\n    HammerGesturesPlugin.prototype.supports = function (eventName) {\n        if (!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase()) && !this.isCustomEvent(eventName)) {\n            return false;\n        }\n        if (!window.Hammer && !this.loader) {\n            this.console.warn(\"The \\\"\" + eventName + \"\\\" event cannot be bound because Hammer.JS is not \" +\n                \"loaded and no custom loader has been specified.\");\n            return false;\n        }\n        return true;\n    };\n    HammerGesturesPlugin.prototype.addEventListener = function (element, eventName, handler) {\n        var _this = this;\n        var zone = this.manager.getZone();\n        eventName = eventName.toLowerCase();\n        // If Hammer is not present but a loader is specified, we defer adding the event listener\n        // until Hammer is loaded.\n        if (!window.Hammer && this.loader) {\n            // This `addEventListener` method returns a function to remove the added listener.\n            // Until Hammer is loaded, the returned function needs to *cancel* the registration rather\n            // than remove anything.\n            var cancelRegistration_1 = false;\n            var deregister_1 = function () { cancelRegistration_1 = true; };\n            this.loader()\n                .then(function () {\n                // If Hammer isn't actually loaded when the custom loader resolves, give up.\n                if (!window.Hammer) {\n                    _this.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\");\n                    deregister_1 = function () { };\n                    return;\n                }\n                if (!cancelRegistration_1) {\n                    // Now that Hammer is loaded and the listener is being loaded for real,\n                    // the deregistration function changes from canceling registration to removal.\n                    deregister_1 = _this.addEventListener(element, eventName, handler);\n                }\n            })\n                .catch(function () {\n                _this.console.warn(\"The \\\"\" + eventName + \"\\\" event cannot be bound because the custom \" +\n                    \"Hammer.JS loader failed.\");\n                deregister_1 = function () { };\n            });\n            // Return a function that *executes* `deregister` (and not `deregister` itself) so that we\n            // can change the behavior of `deregister` once the listener is added. Using a closure in\n            // this way allows us to avoid any additional data structures to track listener removal.\n            return function () { deregister_1(); };\n        }\n        return zone.runOutsideAngular(function () {\n            // Creating the manager bind events, must be done outside of angular\n            var mc = _this._config.buildHammer(element);\n            var callback = function (eventObj) {\n                zone.runGuarded(function () { handler(eventObj); });\n            };\n            mc.on(eventName, callback);\n            return function () {\n                mc.off(eventName, callback);\n                // destroy mc to prevent memory leak\n                if (typeof mc.destroy === 'function') {\n                    mc.destroy();\n                }\n            };\n        });\n    };\n    HammerGesturesPlugin.prototype.isCustomEvent = function (eventName) { return this._config.events.indexOf(eventName) > -1; };\n    HammerGesturesPlugin = __decorate([\n        Injectable(),\n        __param(0, Inject(DOCUMENT$1)),\n        __param(1, Inject(HAMMER_GESTURE_CONFIG)),\n        __param(3, Optional()), __param(3, Inject(HAMMER_LOADER)),\n        __metadata(\"design:paramtypes\", [Object, HammerGestureConfig, ɵConsole, Object])\n    ], HammerGesturesPlugin);\n    return HammerGesturesPlugin;\n}(EventManagerPlugin));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Defines supported modifiers for key events.\n */\nvar MODIFIER_KEYS = ['alt', 'control', 'meta', 'shift'];\nvar ɵ0$1 = function (event) { return event.altKey; }, ɵ1$1 = function (event) { return event.ctrlKey; }, ɵ2$1 = function (event) { return event.metaKey; }, ɵ3 = function (event) { return event.shiftKey; };\n/**\n * Retrieves modifiers from key-event objects.\n */\nvar MODIFIER_KEY_GETTERS = {\n    'alt': ɵ0$1,\n    'control': ɵ1$1,\n    'meta': ɵ2$1,\n    'shift': ɵ3\n};\n/**\n * @experimental\n * A browser plug-in that provides support for handling of key events in Angular.\n */\nvar KeyEventsPlugin = /** @class */ (function (_super) {\n    __extends(KeyEventsPlugin, _super);\n    /**\n     * Initializes an instance of the browser plug-in.\n     * @param doc The document in which key events will be detected.\n     */\n    function KeyEventsPlugin(doc) {\n        return _super.call(this, doc) || this;\n    }\n    KeyEventsPlugin_1 = KeyEventsPlugin;\n    /**\n      * Reports whether a named key event is supported.\n      * @param eventName The event name to query.\n      * @return True if the named key event is supported.\n     */\n    KeyEventsPlugin.prototype.supports = function (eventName) { return KeyEventsPlugin_1.parseEventName(eventName) != null; };\n    /**\n     * Registers a handler for a specific element and key event.\n     * @param element The HTML element to receive event notifications.\n     * @param eventName The name of the key event to listen for.\n     * @param handler A function to call when the notification occurs. Receives the\n     * event object as an argument.\n     * @returns The key event that was registered.\n    */\n    KeyEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {\n        var parsedEvent = KeyEventsPlugin_1.parseEventName(eventName);\n        var outsideHandler = KeyEventsPlugin_1.eventCallback(parsedEvent['fullKey'], handler, this.manager.getZone());\n        return this.manager.getZone().runOutsideAngular(function () {\n            return getDOM().onAndCancel(element, parsedEvent['domEventName'], outsideHandler);\n        });\n    };\n    KeyEventsPlugin.parseEventName = function (eventName) {\n        var parts = eventName.toLowerCase().split('.');\n        var domEventName = parts.shift();\n        if ((parts.length === 0) || !(domEventName === 'keydown' || domEventName === 'keyup')) {\n            return null;\n        }\n        var key = KeyEventsPlugin_1._normalizeKey(parts.pop());\n        var fullKey = '';\n        MODIFIER_KEYS.forEach(function (modifierName) {\n            var index = parts.indexOf(modifierName);\n            if (index > -1) {\n                parts.splice(index, 1);\n                fullKey += modifierName + '.';\n            }\n        });\n        fullKey += key;\n        if (parts.length != 0 || key.length === 0) {\n            // returning null instead of throwing to let another plugin process the event\n            return null;\n        }\n        var result = {};\n        result['domEventName'] = domEventName;\n        result['fullKey'] = fullKey;\n        return result;\n    };\n    KeyEventsPlugin.getEventFullKey = function (event) {\n        var fullKey = '';\n        var key = getDOM().getEventKey(event);\n        key = key.toLowerCase();\n        if (key === ' ') {\n            key = 'space'; // for readability\n        }\n        else if (key === '.') {\n            key = 'dot'; // because '.' is used as a separator in event names\n        }\n        MODIFIER_KEYS.forEach(function (modifierName) {\n            if (modifierName != key) {\n                var modifierGetter = MODIFIER_KEY_GETTERS[modifierName];\n                if (modifierGetter(event)) {\n                    fullKey += modifierName + '.';\n                }\n            }\n        });\n        fullKey += key;\n        return fullKey;\n    };\n    /**\n     * Configures a handler callback for a key event.\n     * @param fullKey The event name that combines all simultaneous keystrokes.\n     * @param handler The function that responds to the key event.\n     * @param zone The zone in which the event occurred.\n     * @returns A callback function.\n     */\n    KeyEventsPlugin.eventCallback = function (fullKey, handler, zone) {\n        return function (event /** TODO #9100 */) {\n            if (KeyEventsPlugin_1.getEventFullKey(event) === fullKey) {\n                zone.runGuarded(function () { return handler(event); });\n            }\n        };\n    };\n    /** @internal */\n    KeyEventsPlugin._normalizeKey = function (keyName) {\n        // TODO: switch to a Map if the mapping grows too much\n        switch (keyName) {\n            case 'esc':\n                return 'escape';\n            default:\n                return keyName;\n        }\n    };\n    var KeyEventsPlugin_1;\n    KeyEventsPlugin = KeyEventsPlugin_1 = __decorate([\n        Injectable(),\n        __param(0, Inject(DOCUMENT$1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], KeyEventsPlugin);\n    return KeyEventsPlugin;\n}(EventManagerPlugin));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * DomSanitizer helps preventing Cross Site Scripting Security bugs (XSS) by sanitizing\n * values to be safe to use in the different DOM contexts.\n *\n * For example, when binding a URL in an `<a [href]=\"someValue\">` hyperlink, `someValue` will be\n * sanitized so that an attacker cannot inject e.g. a `javascript:` URL that would execute code on\n * the website.\n *\n * In specific situations, it might be necessary to disable sanitization, for example if the\n * application genuinely needs to produce a `javascript:` style link with a dynamic value in it.\n * Users can bypass security by constructing a value with one of the `bypassSecurityTrust...`\n * methods, and then binding to that value from the template.\n *\n * These situations should be very rare, and extraordinary care must be taken to avoid creating a\n * Cross Site Scripting (XSS) security bug!\n *\n * When using `bypassSecurityTrust...`, make sure to call the method as early as possible and as\n * close as possible to the source of the value, to make it easy to verify no security bug is\n * created by its use.\n *\n * It is not required (and not recommended) to bypass security if the value is safe, e.g. a URL that\n * does not start with a suspicious protocol, or an HTML snippet that does not contain dangerous\n * code. The sanitizer leaves safe values intact.\n *\n * @security Calling any of the `bypassSecurityTrust...` APIs disables Angular's built-in\n * sanitization for the value passed in. Carefully check and audit all values and code paths going\n * into this call. Make sure any user data is appropriately escaped for this security context.\n * For more detail, see the [Security Guide](http://g.co/ng/security).\n *\n *\n */\nvar DomSanitizer = /** @class */ (function () {\n    function DomSanitizer() {\n    }\n    return DomSanitizer;\n}());\nvar DomSanitizerImpl = /** @class */ (function (_super) {\n    __extends(DomSanitizerImpl, _super);\n    function DomSanitizerImpl(_doc) {\n        var _this = _super.call(this) || this;\n        _this._doc = _doc;\n        return _this;\n    }\n    DomSanitizerImpl.prototype.sanitize = function (ctx, value) {\n        if (value == null)\n            return null;\n        switch (ctx) {\n            case SecurityContext.NONE:\n                return value;\n            case SecurityContext.HTML:\n                if (value instanceof SafeHtmlImpl)\n                    return value.changingThisBreaksApplicationSecurity;\n                this.checkNotSafeValue(value, 'HTML');\n                return ɵ_sanitizeHtml(this._doc, String(value));\n            case SecurityContext.STYLE:\n                if (value instanceof SafeStyleImpl)\n                    return value.changingThisBreaksApplicationSecurity;\n                this.checkNotSafeValue(value, 'Style');\n                return ɵ_sanitizeStyle(value);\n            case SecurityContext.SCRIPT:\n                if (value instanceof SafeScriptImpl)\n                    return value.changingThisBreaksApplicationSecurity;\n                this.checkNotSafeValue(value, 'Script');\n                throw new Error('unsafe value used in a script context');\n            case SecurityContext.URL:\n                if (value instanceof SafeResourceUrlImpl || value instanceof SafeUrlImpl) {\n                    // Allow resource URLs in URL contexts, they are strictly more trusted.\n                    return value.changingThisBreaksApplicationSecurity;\n                }\n                this.checkNotSafeValue(value, 'URL');\n                return ɵ_sanitizeUrl(String(value));\n            case SecurityContext.RESOURCE_URL:\n                if (value instanceof SafeResourceUrlImpl) {\n                    return value.changingThisBreaksApplicationSecurity;\n                }\n                this.checkNotSafeValue(value, 'ResourceURL');\n                throw new Error('unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');\n            default:\n                throw new Error(\"Unexpected SecurityContext \" + ctx + \" (see http://g.co/ng/security#xss)\");\n        }\n    };\n    DomSanitizerImpl.prototype.checkNotSafeValue = function (value, expectedType) {\n        if (value instanceof SafeValueImpl) {\n            throw new Error(\"Required a safe \" + expectedType + \", got a \" + value.getTypeName() + \" \" +\n                \"(see http://g.co/ng/security#xss)\");\n        }\n    };\n    DomSanitizerImpl.prototype.bypassSecurityTrustHtml = function (value) { return new SafeHtmlImpl(value); };\n    DomSanitizerImpl.prototype.bypassSecurityTrustStyle = function (value) { return new SafeStyleImpl(value); };\n    DomSanitizerImpl.prototype.bypassSecurityTrustScript = function (value) { return new SafeScriptImpl(value); };\n    DomSanitizerImpl.prototype.bypassSecurityTrustUrl = function (value) { return new SafeUrlImpl(value); };\n    DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl = function (value) {\n        return new SafeResourceUrlImpl(value);\n    };\n    DomSanitizerImpl = __decorate([\n        Injectable(),\n        __param(0, Inject(DOCUMENT$1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], DomSanitizerImpl);\n    return DomSanitizerImpl;\n}(DomSanitizer));\nvar SafeValueImpl = /** @class */ (function () {\n    function SafeValueImpl(changingThisBreaksApplicationSecurity) {\n        this.changingThisBreaksApplicationSecurity = changingThisBreaksApplicationSecurity;\n        // empty\n    }\n    SafeValueImpl.prototype.toString = function () {\n        return \"SafeValue must use [property]=binding: \" + this.changingThisBreaksApplicationSecurity +\n            \" (see http://g.co/ng/security#xss)\";\n    };\n    return SafeValueImpl;\n}());\nvar SafeHtmlImpl = /** @class */ (function (_super) {\n    __extends(SafeHtmlImpl, _super);\n    function SafeHtmlImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SafeHtmlImpl.prototype.getTypeName = function () { return 'HTML'; };\n    return SafeHtmlImpl;\n}(SafeValueImpl));\nvar SafeStyleImpl = /** @class */ (function (_super) {\n    __extends(SafeStyleImpl, _super);\n    function SafeStyleImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SafeStyleImpl.prototype.getTypeName = function () { return 'Style'; };\n    return SafeStyleImpl;\n}(SafeValueImpl));\nvar SafeScriptImpl = /** @class */ (function (_super) {\n    __extends(SafeScriptImpl, _super);\n    function SafeScriptImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SafeScriptImpl.prototype.getTypeName = function () { return 'Script'; };\n    return SafeScriptImpl;\n}(SafeValueImpl));\nvar SafeUrlImpl = /** @class */ (function (_super) {\n    __extends(SafeUrlImpl, _super);\n    function SafeUrlImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SafeUrlImpl.prototype.getTypeName = function () { return 'URL'; };\n    return SafeUrlImpl;\n}(SafeValueImpl));\nvar SafeResourceUrlImpl = /** @class */ (function (_super) {\n    __extends(SafeResourceUrlImpl, _super);\n    function SafeResourceUrlImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SafeResourceUrlImpl.prototype.getTypeName = function () { return 'ResourceURL'; };\n    return SafeResourceUrlImpl;\n}(SafeValueImpl));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar INTERNAL_BROWSER_PLATFORM_PROVIDERS = [\n    { provide: PLATFORM_ID, useValue: ɵPLATFORM_BROWSER_ID },\n    { provide: PLATFORM_INITIALIZER, useValue: initDomAdapter, multi: true },\n    { provide: PlatformLocation, useClass: BrowserPlatformLocation, deps: [DOCUMENT$1] },\n    { provide: DOCUMENT$1, useFactory: _document, deps: [] },\n];\n/**\n * @security Replacing built-in sanitization providers exposes the application to XSS risks.\n * Attacker-controlled data introduced by an unsanitized provider could expose your\n * application to XSS risks. For more detail, see the [Security Guide](http://g.co/ng/security).\n * @experimental\n */\nvar BROWSER_SANITIZATION_PROVIDERS = [\n    { provide: Sanitizer, useExisting: DomSanitizer },\n    { provide: DomSanitizer, useClass: DomSanitizerImpl, deps: [DOCUMENT$1] },\n];\nvar platformBrowser = createPlatformFactory(platformCore, 'browser', INTERNAL_BROWSER_PLATFORM_PROVIDERS);\nfunction initDomAdapter() {\n    BrowserDomAdapter.makeCurrent();\n    BrowserGetTestability.init();\n}\nfunction errorHandler() {\n    return new ErrorHandler();\n}\nfunction _document() {\n    return document;\n}\nvar BROWSER_MODULE_PROVIDERS = [\n    BROWSER_SANITIZATION_PROVIDERS,\n    { provide: ɵAPP_ROOT, useValue: true },\n    { provide: ErrorHandler, useFactory: errorHandler, deps: [] },\n    {\n        provide: EVENT_MANAGER_PLUGINS,\n        useClass: DomEventsPlugin,\n        multi: true,\n        deps: [DOCUMENT$1, NgZone, PLATFORM_ID]\n    },\n    { provide: EVENT_MANAGER_PLUGINS, useClass: KeyEventsPlugin, multi: true, deps: [DOCUMENT$1] },\n    {\n        provide: EVENT_MANAGER_PLUGINS,\n        useClass: HammerGesturesPlugin,\n        multi: true,\n        deps: [DOCUMENT$1, HAMMER_GESTURE_CONFIG, ɵConsole, [new Optional(), HAMMER_LOADER]]\n    },\n    { provide: HAMMER_GESTURE_CONFIG, useClass: HammerGestureConfig, deps: [] },\n    {\n        provide: DomRendererFactory2,\n        useClass: DomRendererFactory2,\n        deps: [EventManager, DomSharedStylesHost]\n    },\n    { provide: RendererFactory2, useExisting: DomRendererFactory2 },\n    { provide: SharedStylesHost, useExisting: DomSharedStylesHost },\n    { provide: DomSharedStylesHost, useClass: DomSharedStylesHost, deps: [DOCUMENT$1] },\n    { provide: Testability, useClass: Testability, deps: [NgZone] },\n    { provide: EventManager, useClass: EventManager, deps: [EVENT_MANAGER_PLUGINS, NgZone] },\n    ELEMENT_PROBE_PROVIDERS,\n];\n/**\n * Exports required infrastructure for all Angular apps.\n * Included by defaults in all Angular apps created with the CLI\n * `new` command.\n * Re-exports `CommonModule` and `ApplicationModule`, making their\n * exports and providers available to all apps.\n *\n *\n */\nvar BrowserModule = /** @class */ (function () {\n    function BrowserModule(parentModule) {\n        if (parentModule) {\n            throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\");\n        }\n    }\n    BrowserModule_1 = BrowserModule;\n    /**\n     * Configures a browser-based app to transition from a server-rendered app, if\n     * one is present on the page.\n     *\n     * @param params An object containing an identifier for the app to transition.\n     * The ID must match between the client and server versions of the app.\n     * @returns The reconfigured `BrowserModule` to import into the app's root `AppModule`.\n     *\n     * @experimental\n     */\n    BrowserModule.withServerTransition = function (params) {\n        return {\n            ngModule: BrowserModule_1,\n            providers: [\n                { provide: APP_ID, useValue: params.appId },\n                { provide: TRANSITION_ID, useExisting: APP_ID },\n                SERVER_TRANSITION_PROVIDERS,\n            ],\n        };\n    };\n    var BrowserModule_1;\n    BrowserModule = BrowserModule_1 = __decorate([\n        NgModule({ providers: BROWSER_MODULE_PROVIDERS, exports: [CommonModule, ApplicationModule] }),\n        __param(0, Optional()), __param(0, SkipSelf()), __param(0, Inject(BrowserModule_1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], BrowserModule);\n    return BrowserModule;\n}());\n\n/**\n * Factory to create Meta service.\n */\nfunction createMeta() {\n    return new Meta(inject(DOCUMENT$1));\n}\n/**\n * A service that can be used to get and add meta tags.\n *\n * @experimental\n */\nvar Meta = /** @class */ (function () {\n    function Meta(_doc) {\n        this._doc = _doc;\n        this._dom = getDOM();\n    }\n    Meta.prototype.addTag = function (tag, forceCreation) {\n        if (forceCreation === void 0) { forceCreation = false; }\n        if (!tag)\n            return null;\n        return this._getOrCreateElement(tag, forceCreation);\n    };\n    Meta.prototype.addTags = function (tags, forceCreation) {\n        var _this = this;\n        if (forceCreation === void 0) { forceCreation = false; }\n        if (!tags)\n            return [];\n        return tags.reduce(function (result, tag) {\n            if (tag) {\n                result.push(_this._getOrCreateElement(tag, forceCreation));\n            }\n            return result;\n        }, []);\n    };\n    Meta.prototype.getTag = function (attrSelector) {\n        if (!attrSelector)\n            return null;\n        return this._dom.querySelector(this._doc, \"meta[\" + attrSelector + \"]\") || null;\n    };\n    Meta.prototype.getTags = function (attrSelector) {\n        if (!attrSelector)\n            return [];\n        var list /*NodeList*/ = this._dom.querySelectorAll(this._doc, \"meta[\" + attrSelector + \"]\");\n        return list ? [].slice.call(list) : [];\n    };\n    Meta.prototype.updateTag = function (tag, selector) {\n        if (!tag)\n            return null;\n        selector = selector || this._parseSelector(tag);\n        var meta = this.getTag(selector);\n        if (meta) {\n            return this._setMetaElementAttributes(tag, meta);\n        }\n        return this._getOrCreateElement(tag, true);\n    };\n    Meta.prototype.removeTag = function (attrSelector) { this.removeTagElement(this.getTag(attrSelector)); };\n    Meta.prototype.removeTagElement = function (meta) {\n        if (meta) {\n            this._dom.remove(meta);\n        }\n    };\n    Meta.prototype._getOrCreateElement = function (meta, forceCreation) {\n        if (forceCreation === void 0) { forceCreation = false; }\n        if (!forceCreation) {\n            var selector = this._parseSelector(meta);\n            var elem = this.getTag(selector);\n            // It's allowed to have multiple elements with the same name so it's not enough to\n            // just check that element with the same name already present on the page. We also need to\n            // check if element has tag attributes\n            if (elem && this._containsAttributes(meta, elem))\n                return elem;\n        }\n        var element = this._dom.createElement('meta');\n        this._setMetaElementAttributes(meta, element);\n        var head = this._dom.getElementsByTagName(this._doc, 'head')[0];\n        this._dom.appendChild(head, element);\n        return element;\n    };\n    Meta.prototype._setMetaElementAttributes = function (tag, el) {\n        var _this = this;\n        Object.keys(tag).forEach(function (prop) { return _this._dom.setAttribute(el, prop, tag[prop]); });\n        return el;\n    };\n    Meta.prototype._parseSelector = function (tag) {\n        var attr = tag.name ? 'name' : 'property';\n        return attr + \"=\\\"\" + tag[attr] + \"\\\"\";\n    };\n    Meta.prototype._containsAttributes = function (tag, elem) {\n        var _this = this;\n        return Object.keys(tag).every(function (key) { return _this._dom.getAttribute(elem, key) === tag[key]; });\n    };\n    Meta.ngInjectableDef = defineInjectable({ factory: createMeta, token: Meta, providedIn: \"root\" });\n    Meta = __decorate([\n        Injectable({ providedIn: 'root', useFactory: createMeta, deps: [] }),\n        __param(0, Inject(DOCUMENT$1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], Meta);\n    return Meta;\n}());\n\n/**\n * Factory to create Title service.\n */\nfunction createTitle() {\n    return new Title(inject(DOCUMENT$1));\n}\n/**\n * A service that can be used to get and set the title of a current HTML document.\n *\n * Since an Angular application can't be bootstrapped on the entire HTML document (`<html>` tag)\n * it is not possible to bind to the `text` property of the `HTMLTitleElement` elements\n * (representing the `<title>` tag). Instead, this service can be used to set and get the current\n * title value.\n *\n * @experimental\n */\nvar Title = /** @class */ (function () {\n    function Title(_doc) {\n        this._doc = _doc;\n    }\n    /**\n     * Get the title of the current HTML document.\n     */\n    Title.prototype.getTitle = function () { return getDOM().getTitle(this._doc); };\n    /**\n     * Set the title of the current HTML document.\n     * @param newTitle\n     */\n    Title.prototype.setTitle = function (newTitle) { getDOM().setTitle(this._doc, newTitle); };\n    Title.ngInjectableDef = defineInjectable({ factory: createTitle, token: Title, providedIn: \"root\" });\n    Title = __decorate([\n        Injectable({ providedIn: 'root', useFactory: createTitle, deps: [] }),\n        __param(0, Inject(DOCUMENT$1)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], Title);\n    return Title;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar win = typeof window !== 'undefined' && window || {};\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ChangeDetectionPerfRecord = /** @class */ (function () {\n    function ChangeDetectionPerfRecord(msPerTick, numTicks) {\n        this.msPerTick = msPerTick;\n        this.numTicks = numTicks;\n    }\n    return ChangeDetectionPerfRecord;\n}());\n/**\n * Entry point for all Angular profiling-related debug tools. This object\n * corresponds to the `ng.profiler` in the dev console.\n */\nvar AngularProfiler = /** @class */ (function () {\n    function AngularProfiler(ref) {\n        this.appRef = ref.injector.get(ApplicationRef);\n    }\n    // tslint:disable:no-console\n    /**\n     * Exercises change detection in a loop and then prints the average amount of\n     * time in milliseconds how long a single round of change detection takes for\n     * the current state of the UI. It runs a minimum of 5 rounds for a minimum\n     * of 500 milliseconds.\n     *\n     * Optionally, a user may pass a `config` parameter containing a map of\n     * options. Supported options are:\n     *\n     * `record` (boolean) - causes the profiler to record a CPU profile while\n     * it exercises the change detector. Example:\n     *\n     * ```\n     * ng.profiler.timeChangeDetection({record: true})\n     * ```\n     */\n    AngularProfiler.prototype.timeChangeDetection = function (config) {\n        var record = config && config['record'];\n        var profileName = 'Change Detection';\n        // Profiler is not available in Android browsers, nor in IE 9 without dev tools opened\n        var isProfilerAvailable = win.console.profile != null;\n        if (record && isProfilerAvailable) {\n            win.console.profile(profileName);\n        }\n        var start = getDOM().performanceNow();\n        var numTicks = 0;\n        while (numTicks < 5 || (getDOM().performanceNow() - start) < 500) {\n            this.appRef.tick();\n            numTicks++;\n        }\n        var end = getDOM().performanceNow();\n        if (record && isProfilerAvailable) {\n            // need to cast to <any> because type checker thinks there's no argument\n            // while in fact there is:\n            //\n            // https://developer.mozilla.org/en-US/docs/Web/API/Console/profileEnd\n            win.console.profileEnd(profileName);\n        }\n        var msPerTick = (end - start) / numTicks;\n        win.console.log(\"ran \" + numTicks + \" change detection cycles\");\n        win.console.log(msPerTick.toFixed(2) + \" ms per check\");\n        return new ChangeDetectionPerfRecord(msPerTick, numTicks);\n    };\n    return AngularProfiler;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar PROFILER_GLOBAL_NAME = 'profiler';\n/**\n * Enabled Angular debug tools that are accessible via your browser's\n * developer console.\n *\n * Usage:\n *\n * 1. Open developer console (e.g. in Chrome Ctrl + Shift + j)\n * 1. Type `ng.` (usually the console will show auto-complete suggestion)\n * 1. Try the change detection profiler `ng.profiler.timeChangeDetection()`\n *    then hit Enter.\n *\n * @experimental All debugging apis are currently experimental.\n */\nfunction enableDebugTools(ref) {\n    exportNgVar(PROFILER_GLOBAL_NAME, new AngularProfiler(ref));\n    return ref;\n}\n/**\n * Disables Angular tools.\n *\n * @experimental All debugging apis are currently experimental.\n */\nfunction disableDebugTools() {\n    exportNgVar(PROFILER_GLOBAL_NAME, null);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction escapeHtml(text) {\n    var escapedText = {\n        '&': '&a;',\n        '\"': '&q;',\n        '\\'': '&s;',\n        '<': '&l;',\n        '>': '&g;',\n    };\n    return text.replace(/[&\"'<>]/g, function (s) { return escapedText[s]; });\n}\nfunction unescapeHtml(text) {\n    var unescapedText = {\n        '&a;': '&',\n        '&q;': '\"',\n        '&s;': '\\'',\n        '&l;': '<',\n        '&g;': '>',\n    };\n    return text.replace(/&[^;]+;/g, function (s) { return unescapedText[s]; });\n}\n/**\n * Create a `StateKey<T>` that can be used to store value of type T with `TransferState`.\n *\n * Example:\n *\n * ```\n * const COUNTER_KEY = makeStateKey<number>('counter');\n * let value = 10;\n *\n * transferState.set(COUNTER_KEY, value);\n * ```\n *\n * @experimental\n */\nfunction makeStateKey(key) {\n    return key;\n}\n/**\n * A key value store that is transferred from the application on the server side to the application\n * on the client side.\n *\n * `TransferState` will be available as an injectable token. To use it import\n * `ServerTransferStateModule` on the server and `BrowserTransferStateModule` on the client.\n *\n * The values in the store are serialized/deserialized using JSON.stringify/JSON.parse. So only\n * boolean, number, string, null and non-class objects will be serialized and deserialzied in a\n * non-lossy manner.\n *\n * @experimental\n */\nvar TransferState = /** @class */ (function () {\n    function TransferState() {\n        this.store = {};\n        this.onSerializeCallbacks = {};\n    }\n    TransferState_1 = TransferState;\n    /** @internal */\n    TransferState.init = function (initState) {\n        var transferState = new TransferState_1();\n        transferState.store = initState;\n        return transferState;\n    };\n    /**\n     * Get the value corresponding to a key. Return `defaultValue` if key is not found.\n     */\n    TransferState.prototype.get = function (key, defaultValue) {\n        return this.store[key] !== undefined ? this.store[key] : defaultValue;\n    };\n    /**\n     * Set the value corresponding to a key.\n     */\n    TransferState.prototype.set = function (key, value) { this.store[key] = value; };\n    /**\n     * Remove a key from the store.\n     */\n    TransferState.prototype.remove = function (key) { delete this.store[key]; };\n    /**\n     * Test whether a key exists in the store.\n     */\n    TransferState.prototype.hasKey = function (key) { return this.store.hasOwnProperty(key); };\n    /**\n     * Register a callback to provide the value for a key when `toJson` is called.\n     */\n    TransferState.prototype.onSerialize = function (key, callback) {\n        this.onSerializeCallbacks[key] = callback;\n    };\n    /**\n     * Serialize the current state of the store to JSON.\n     */\n    TransferState.prototype.toJson = function () {\n        // Call the onSerialize callbacks and put those values into the store.\n        for (var key in this.onSerializeCallbacks) {\n            if (this.onSerializeCallbacks.hasOwnProperty(key)) {\n                try {\n                    this.store[key] = this.onSerializeCallbacks[key]();\n                }\n                catch (e) {\n                    console.warn('Exception in onSerialize callback: ', e);\n                }\n            }\n        }\n        return JSON.stringify(this.store);\n    };\n    var TransferState_1;\n    TransferState = TransferState_1 = __decorate([\n        Injectable()\n    ], TransferState);\n    return TransferState;\n}());\nfunction initTransferState(doc, appId) {\n    // Locate the script tag with the JSON data transferred from the server.\n    // The id of the script tag is set to the Angular appId + 'state'.\n    var script = doc.getElementById(appId + '-state');\n    var initialState = {};\n    if (script && script.textContent) {\n        try {\n            initialState = JSON.parse(unescapeHtml(script.textContent));\n        }\n        catch (e) {\n            console.warn('Exception while restoring TransferState for app ' + appId, e);\n        }\n    }\n    return TransferState.init(initialState);\n}\n/**\n * NgModule to install on the client side while using the `TransferState` to transfer state from\n * server to client.\n *\n * @experimental\n */\nvar BrowserTransferStateModule = /** @class */ (function () {\n    function BrowserTransferStateModule() {\n    }\n    BrowserTransferStateModule = __decorate([\n        NgModule({\n            providers: [{ provide: TransferState, useFactory: initTransferState, deps: [DOCUMENT$1, APP_ID] }],\n        })\n    ], BrowserTransferStateModule);\n    return BrowserTransferStateModule;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Predicates for use with {@link DebugElement}'s query functions.\n *\n * @experimental All debugging apis are currently experimental.\n */\nvar By = /** @class */ (function () {\n    function By() {\n    }\n    /**\n     * Match all elements.\n     *\n     * @usageNotes\n     * ### Example\n     *\n     * {@example platform-browser/dom/debug/ts/by/by.ts region='by_all'}\n     */\n    By.all = function () { return function (debugElement) { return true; }; };\n    /**\n     * Match elements by the given CSS selector.\n     *\n     * @usageNotes\n     * ### Example\n     *\n     * {@example platform-browser/dom/debug/ts/by/by.ts region='by_css'}\n     */\n    By.css = function (selector) {\n        return function (debugElement) {\n            return debugElement.nativeElement != null ?\n                getDOM().elementMatches(debugElement.nativeElement, selector) :\n                false;\n        };\n    };\n    /**\n     * Match elements that have the given directive present.\n     *\n     * @usageNotes\n     * ### Example\n     *\n     * {@example platform-browser/dom/debug/ts/by/by.ts region='by_directive'}\n     */\n    By.directive = function (type) {\n        return function (debugElement) { return debugElement.providerTokens.indexOf(type) !== -1; };\n    };\n    return By;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar VERSION = new Version('6.1.10');\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BROWSER_MODULE_PROVIDERS as ɵangular_packages_platform_browser_platform_browser_c, _document as ɵangular_packages_platform_browser_platform_browser_b, errorHandler as ɵangular_packages_platform_browser_platform_browser_a, GenericBrowserDomAdapter as ɵangular_packages_platform_browser_platform_browser_k, createMeta as ɵangular_packages_platform_browser_platform_browser_d, SERVER_TRANSITION_PROVIDERS as ɵangular_packages_platform_browser_platform_browser_i, appInitializerFactory as ɵangular_packages_platform_browser_platform_browser_h, createTitle as ɵangular_packages_platform_browser_platform_browser_e, initTransferState as ɵangular_packages_platform_browser_platform_browser_f, _createNgProbe as ɵangular_packages_platform_browser_platform_browser_j, EventManagerPlugin as ɵangular_packages_platform_browser_platform_browser_g, BrowserModule, platformBrowser, Meta, Title, disableDebugTools, enableDebugTools, BrowserTransferStateModule, TransferState, makeStateKey, By, DOCUMENT$1 as DOCUMENT, EVENT_MANAGER_PLUGINS, EventManager, HAMMER_GESTURE_CONFIG, HAMMER_LOADER, HammerGestureConfig, DomSanitizer, VERSION, BROWSER_SANITIZATION_PROVIDERS as ɵBROWSER_SANITIZATION_PROVIDERS, INTERNAL_BROWSER_PLATFORM_PROVIDERS as ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS, initDomAdapter as ɵinitDomAdapter, BrowserDomAdapter as ɵBrowserDomAdapter, BrowserPlatformLocation as ɵBrowserPlatformLocation, TRANSITION_ID as ɵTRANSITION_ID, BrowserGetTestability as ɵBrowserGetTestability, escapeHtml as ɵescapeHtml, ELEMENT_PROBE_PROVIDERS as ɵELEMENT_PROBE_PROVIDERS, DomAdapter as ɵDomAdapter, getDOM as ɵgetDOM, setRootDomAdapter as ɵsetRootDomAdapter, DomRendererFactory2 as ɵDomRendererFactory2, NAMESPACE_URIS as ɵNAMESPACE_URIS, flattenStyles as ɵflattenStyles, shimContentAttribute as ɵshimContentAttribute, shimHostAttribute as ɵshimHostAttribute, DomEventsPlugin as ɵDomEventsPlugin, HammerGesturesPlugin as ɵHammerGesturesPlugin, KeyEventsPlugin as ɵKeyEventsPlugin, DomSharedStylesHost as ɵDomSharedStylesHost, SharedStylesHost as ɵSharedStylesHost, DomSanitizerImpl as ɵDomSanitizerImpl };\n//# sourceMappingURL=platform-browser.js.map\n"]}