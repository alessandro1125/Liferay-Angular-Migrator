{"version":3,"sources":["../../../../../../../../../../packages/platform-browser/src/dom/dom_renderer.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2, ViewEncapsulation} from '@angular/core';\n\nimport {EventManager} from './events/event_manager';\nimport {DomSharedStylesHost} from './shared_styles_host';\n\nexport const NAMESPACE_URIS: {[ns: string]: string} = {\n  'svg': 'http://www.w3.org/2000/svg',\n  'xhtml': 'http://www.w3.org/1999/xhtml',\n  'xlink': 'http://www.w3.org/1999/xlink',\n  'xml': 'http://www.w3.org/XML/1998/namespace',\n  'xmlns': 'http://www.w3.org/2000/xmlns/',\n};\n\nconst COMPONENT_REGEX = /%COMP%/g;\nexport const COMPONENT_VARIABLE = '%COMP%';\nexport const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;\nexport const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;\n\nexport function shimContentAttribute(componentShortId: string): string {\n  return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n\nexport function shimHostAttribute(componentShortId: string): string {\n  return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n\nexport function flattenStyles(\n    compId: string, styles: Array<any|any[]>, target: string[]): string[] {\n  for (let i = 0; i < styles.length; i++) {\n    let style = styles[i];\n\n    if (Array.isArray(style)) {\n      flattenStyles(compId, style, target);\n    } else {\n      style = style.replace(COMPONENT_REGEX, compId);\n      target.push(style);\n    }\n  }\n  return target;\n}\n\nfunction decoratePreventDefault(eventHandler: Function): Function {\n  return (event: any) => {\n    const allowDefaultBehavior = eventHandler(event);\n    if (allowDefaultBehavior === false) {\n      // TODO(tbosch): move preventDefault into event plugins...\n      event.preventDefault();\n      event.returnValue = false;\n    }\n  };\n}\n\n@Injectable()\nexport class DomRendererFactory2 implements RendererFactory2 {\n  private rendererByCompId = new Map<string, Renderer2>();\n  private defaultRenderer: Renderer2;\n\n  constructor(private eventManager: EventManager, private sharedStylesHost: DomSharedStylesHost) {\n    this.defaultRenderer = new DefaultDomRenderer2(eventManager);\n  }\n\n  createRenderer(element: any, type: RendererType2|null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Emulated: {\n        let renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer =\n              new EmulatedEncapsulationDomRenderer2(this.eventManager, this.sharedStylesHost, type);\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        (<EmulatedEncapsulationDomRenderer2>renderer).applyToHost(element);\n        return renderer;\n      }\n      case ViewEncapsulation.Native:\n      case ViewEncapsulation.ShadowDom:\n        return new ShadowDomRenderer(this.eventManager, this.sharedStylesHost, element, type);\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n\n  begin() {}\n  end() {}\n}\n\nclass DefaultDomRenderer2 implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n\n  constructor(private eventManager: EventManager) {}\n\n  destroy(): void {}\n\n  destroyNode: null;\n\n  createElement(name: string, namespace?: string): any {\n    if (namespace) {\n      return document.createElementNS(NAMESPACE_URIS[namespace], name);\n    }\n\n    return document.createElement(name);\n  }\n\n  createComment(value: string): any { return document.createComment(value); }\n\n  createText(value: string): any { return document.createTextNode(value); }\n\n  appendChild(parent: any, newChild: any): void { parent.appendChild(newChild); }\n\n  insertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      parent.insertBefore(newChild, refChild);\n    }\n  }\n\n  removeChild(parent: any, oldChild: any): void {\n    if (parent) {\n      parent.removeChild(oldChild);\n    }\n  }\n\n  selectRootElement(selectorOrNode: string|any): any {\n    let el: any = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n                                                       selectorOrNode;\n    if (!el) {\n      throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n    }\n    el.textContent = '';\n    return el;\n  }\n\n  parentNode(node: any): any { return node.parentNode; }\n\n  nextSibling(node: any): any { return node.nextSibling; }\n\n  setAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      name = `${namespace}:${name}`;\n      const namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.setAttributeNS(namespaceUri, name, value);\n      } else {\n        el.setAttribute(name, value);\n      }\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n\n  removeAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      const namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.removeAttributeNS(namespaceUri, name);\n      } else {\n        el.removeAttribute(`${namespace}:${name}`);\n      }\n    } else {\n      el.removeAttribute(name);\n    }\n  }\n\n  addClass(el: any, name: string): void { el.classList.add(name); }\n\n  removeClass(el: any, name: string): void { el.classList.remove(name); }\n\n  setStyle(el: any, style: string, value: any, flags: RendererStyleFlags2): void {\n    if (flags & RendererStyleFlags2.DashCase) {\n      el.style.setProperty(\n          style, value, !!(flags & RendererStyleFlags2.Important) ? 'important' : '');\n    } else {\n      el.style[style] = value;\n    }\n  }\n\n  removeStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    if (flags & RendererStyleFlags2.DashCase) {\n      el.style.removeProperty(style);\n    } else {\n      // IE requires '' instead of null\n      // see https://github.com/angular/angular/issues/7916\n      el.style[style] = '';\n    }\n  }\n\n  setProperty(el: any, name: string, value: any): void {\n    checkNoSyntheticProp(name, 'property');\n    el[name] = value;\n  }\n\n  setValue(node: any, value: string): void { node.nodeValue = value; }\n\n  listen(target: 'window'|'document'|'body'|any, event: string, callback: (event: any) => boolean):\n      () => void {\n    checkNoSyntheticProp(event, 'listener');\n    if (typeof target === 'string') {\n      return <() => void>this.eventManager.addGlobalEventListener(\n          target, event, decoratePreventDefault(callback));\n    }\n    return <() => void>this.eventManager.addEventListener(\n               target, event, decoratePreventDefault(callback)) as() => void;\n  }\n}\n\nconst AT_CHARCODE = '@'.charCodeAt(0);\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n        `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n  }\n}\n\nclass EmulatedEncapsulationDomRenderer2 extends DefaultDomRenderer2 {\n  private contentAttr: string;\n  private hostAttr: string;\n\n  constructor(\n      eventManager: EventManager, sharedStylesHost: DomSharedStylesHost,\n      private component: RendererType2) {\n    super(eventManager);\n    const styles = flattenStyles(component.id, component.styles, []);\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(component.id);\n    this.hostAttr = shimHostAttribute(component.id);\n  }\n\n  applyToHost(element: any) { super.setAttribute(element, this.hostAttr, ''); }\n\n  createElement(parent: any, name: string): Element {\n    const el = super.createElement(parent, name);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n\nclass ShadowDomRenderer extends DefaultDomRenderer2 {\n  private shadowRoot: any;\n\n  constructor(\n      eventManager: EventManager, private sharedStylesHost: DomSharedStylesHost,\n      private hostEl: any, private component: RendererType2) {\n    super(eventManager);\n    if (component.encapsulation === ViewEncapsulation.ShadowDom) {\n      this.shadowRoot = (hostEl as any).attachShadow({mode: 'open'});\n    } else {\n      this.shadowRoot = (hostEl as any).createShadowRoot();\n    }\n    this.sharedStylesHost.addHost(this.shadowRoot);\n    const styles = flattenStyles(component.id, component.styles, []);\n    for (let i = 0; i < styles.length; i++) {\n      const styleEl = document.createElement('style');\n      styleEl.textContent = styles[i];\n      this.shadowRoot.appendChild(styleEl);\n    }\n  }\n\n  private nodeOrShadowRoot(node: any): any { return node === this.hostEl ? this.shadowRoot : node; }\n\n  destroy() { this.sharedStylesHost.removeHost(this.shadowRoot); }\n\n  appendChild(parent: any, newChild: any): void {\n    return super.appendChild(this.nodeOrShadowRoot(parent), newChild);\n  }\n  insertBefore(parent: any, newChild: any, refChild: any): void {\n    return super.insertBefore(this.nodeOrShadowRoot(parent), newChild, refChild);\n  }\n  removeChild(parent: any, oldChild: any): void {\n    return super.removeChild(this.nodeOrShadowRoot(parent), oldChild);\n  }\n  parentNode(node: any): any {\n    return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)));\n  }\n}\n"],"sourceRoot":""}