{"version":3,"sources":["../../../../../../../../../../packages/platform-browser/src/browser/browser_adapter.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵparseCookieValue as parseCookieValue} from '@angular/common';\nimport {ɵglobal as global} from '@angular/core';\n\nimport {setRootDomAdapter} from '../dom/dom_adapter';\n\nimport {GenericBrowserDomAdapter} from './generic_browser_adapter';\n\nconst _attrToPropMap = {\n  'class': 'className',\n  'innerHtml': 'innerHTML',\n  'readonly': 'readOnly',\n  'tabindex': 'tabIndex',\n};\n\nconst DOM_KEY_LOCATION_NUMPAD = 3;\n\n// Map to convert some key or keyIdentifier values to what will be returned by getEventKey\nconst _keyMap: {[k: string]: string} = {\n  // The following values are here for cross-browser compatibility and to match the W3C standard\n  // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n  '\\b': 'Backspace',\n  '\\t': 'Tab',\n  '\\x7F': 'Delete',\n  '\\x1B': 'Escape',\n  'Del': 'Delete',\n  'Esc': 'Escape',\n  'Left': 'ArrowLeft',\n  'Right': 'ArrowRight',\n  'Up': 'ArrowUp',\n  'Down': 'ArrowDown',\n  'Menu': 'ContextMenu',\n  'Scroll': 'ScrollLock',\n  'Win': 'OS'\n};\n\n// There is a bug in Chrome for numeric keypad keys:\n// https://code.google.com/p/chromium/issues/detail?id=155654\n// 1, 2, 3 ... are reported as A, B, C ...\nconst _chromeNumKeyPadMap = {\n  'A': '1',\n  'B': '2',\n  'C': '3',\n  'D': '4',\n  'E': '5',\n  'F': '6',\n  'G': '7',\n  'H': '8',\n  'I': '9',\n  'J': '*',\n  'K': '+',\n  'M': '-',\n  'N': '.',\n  'O': '/',\n  '\\x60': '0',\n  '\\x90': 'NumLock'\n};\n\nlet nodeContains: (a: any, b: any) => boolean;\n\nif (global['Node']) {\n  nodeContains = global['Node'].prototype.contains || function(node) {\n    return !!(this.compareDocumentPosition(node) & 16);\n  };\n}\n\n/**\n * A `DomAdapter` powered by full browser DOM APIs.\n *\n * @security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\n/* tslint:disable:requireParameterType no-console */\nexport class BrowserDomAdapter extends GenericBrowserDomAdapter {\n  parse(templateHtml: string) { throw new Error('parse not implemented'); }\n  static makeCurrent() { setRootDomAdapter(new BrowserDomAdapter()); }\n  hasProperty(element: Node, name: string): boolean { return name in element; }\n  setProperty(el: Node, name: string, value: any) { (<any>el)[name] = value; }\n  getProperty(el: Node, name: string): any { return (<any>el)[name]; }\n  invoke(el: Node, methodName: string, args: any[]): any { (<any>el)[methodName](...args); }\n\n  // TODO(tbosch): move this into a separate environment class once we have it\n  logError(error: string): void {\n    if (window.console) {\n      if (console.error) {\n        console.error(error);\n      } else {\n        console.log(error);\n      }\n    }\n  }\n\n  log(error: string): void {\n    if (window.console) {\n      window.console.log && window.console.log(error);\n    }\n  }\n\n  logGroup(error: string): void {\n    if (window.console) {\n      window.console.group && window.console.group(error);\n    }\n  }\n\n  logGroupEnd(): void {\n    if (window.console) {\n      window.console.groupEnd && window.console.groupEnd();\n    }\n  }\n\n  get attrToPropMap(): any { return _attrToPropMap; }\n\n  contains(nodeA: any, nodeB: any): boolean { return nodeContains.call(nodeA, nodeB); }\n  querySelector(el: Element, selector: string): any { return el.querySelector(selector); }\n  querySelectorAll(el: any, selector: string): any[] { return el.querySelectorAll(selector); }\n  on(el: Node, evt: any, listener: any) { el.addEventListener(evt, listener, false); }\n  onAndCancel(el: Node, evt: any, listener: any): Function {\n    el.addEventListener(evt, listener, false);\n    // Needed to follow Dart's subscription semantic, until fix of\n    // https://code.google.com/p/dart/issues/detail?id=17406\n    return () => { el.removeEventListener(evt, listener, false); };\n  }\n  dispatchEvent(el: Node, evt: any) { el.dispatchEvent(evt); }\n  createMouseEvent(eventType: string): MouseEvent {\n    const evt: MouseEvent = this.getDefaultDocument().createEvent('MouseEvent');\n    evt.initEvent(eventType, true, true);\n    return evt;\n  }\n  createEvent(eventType: any): Event {\n    const evt: Event = this.getDefaultDocument().createEvent('Event');\n    evt.initEvent(eventType, true, true);\n    return evt;\n  }\n  preventDefault(evt: Event) {\n    evt.preventDefault();\n    evt.returnValue = false;\n  }\n  isPrevented(evt: Event): boolean {\n    return evt.defaultPrevented || evt.returnValue != null && !evt.returnValue;\n  }\n  getInnerHTML(el: HTMLElement): string { return el.innerHTML; }\n  getTemplateContent(el: Node): Node|null {\n    return 'content' in el && this.isTemplateElement(el) ? (<any>el).content : null;\n  }\n  getOuterHTML(el: HTMLElement): string { return el.outerHTML; }\n  nodeName(node: Node): string { return node.nodeName; }\n  nodeValue(node: Node): string|null { return node.nodeValue; }\n  type(node: HTMLInputElement): string { return node.type; }\n  content(node: Node): Node {\n    if (this.hasProperty(node, 'content')) {\n      return (<any>node).content;\n    } else {\n      return node;\n    }\n  }\n  firstChild(el: Node): Node|null { return el.firstChild; }\n  nextSibling(el: Node): Node|null { return el.nextSibling; }\n  parentElement(el: Node): Node|null { return el.parentNode; }\n  childNodes(el: any): Node[] { return el.childNodes; }\n  childNodesAsList(el: Node): any[] {\n    const childNodes = el.childNodes;\n    const res = new Array(childNodes.length);\n    for (let i = 0; i < childNodes.length; i++) {\n      res[i] = childNodes[i];\n    }\n    return res;\n  }\n  clearNodes(el: Node) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n  }\n  appendChild(el: Node, node: Node) { el.appendChild(node); }\n  removeChild(el: Node, node: Node) { el.removeChild(node); }\n  replaceChild(el: Node, newChild: Node, oldChild: Node) { el.replaceChild(newChild, oldChild); }\n  remove(node: Node): Node {\n    if (node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n    return node;\n  }\n  insertBefore(parent: Node, ref: Node, node: Node) { parent.insertBefore(node, ref); }\n  insertAllBefore(parent: Node, ref: Node, nodes: Node[]) {\n    nodes.forEach((n: any) => parent.insertBefore(n, ref));\n  }\n  insertAfter(parent: Node, ref: Node, node: any) { parent.insertBefore(node, ref.nextSibling); }\n  setInnerHTML(el: Element, value: string) { el.innerHTML = value; }\n  getText(el: Node): string|null { return el.textContent; }\n  setText(el: Node, value: string) { el.textContent = value; }\n  getValue(el: any): string { return el.value; }\n  setValue(el: any, value: string) { el.value = value; }\n  getChecked(el: any): boolean { return el.checked; }\n  setChecked(el: any, value: boolean) { el.checked = value; }\n  createComment(text: string): Comment { return this.getDefaultDocument().createComment(text); }\n  createTemplate(html: any): HTMLElement {\n    const t = this.getDefaultDocument().createElement('template');\n    t.innerHTML = html;\n    return t;\n  }\n  createElement(tagName: string, doc?: Document): HTMLElement {\n    doc = doc || this.getDefaultDocument();\n    return doc.createElement(tagName);\n  }\n  createElementNS(ns: string, tagName: string, doc?: Document): Element {\n    doc = doc || this.getDefaultDocument();\n    return doc.createElementNS(ns, tagName);\n  }\n  createTextNode(text: string, doc?: Document): Text {\n    doc = doc || this.getDefaultDocument();\n    return doc.createTextNode(text);\n  }\n  createScriptTag(attrName: string, attrValue: string, doc?: Document): HTMLScriptElement {\n    doc = doc || this.getDefaultDocument();\n    const el = <HTMLScriptElement>doc.createElement('SCRIPT');\n    el.setAttribute(attrName, attrValue);\n    return el;\n  }\n  createStyleElement(css: string, doc?: Document): HTMLStyleElement {\n    doc = doc || this.getDefaultDocument();\n    const style = <HTMLStyleElement>doc.createElement('style');\n    this.appendChild(style, this.createTextNode(css, doc));\n    return style;\n  }\n  createShadowRoot(el: HTMLElement): DocumentFragment { return (<any>el).createShadowRoot(); }\n  getShadowRoot(el: HTMLElement): DocumentFragment { return (<any>el).shadowRoot; }\n  getHost(el: HTMLElement): HTMLElement { return (<any>el).host; }\n  clone(node: Node): Node { return node.cloneNode(true); }\n  getElementsByClassName(element: any, name: string): HTMLElement[] {\n    return element.getElementsByClassName(name);\n  }\n  getElementsByTagName(element: any, name: string): HTMLElement[] {\n    return element.getElementsByTagName(name);\n  }\n  classList(element: any): any[] { return Array.prototype.slice.call(element.classList, 0); }\n  addClass(element: any, className: string) { element.classList.add(className); }\n  removeClass(element: any, className: string) { element.classList.remove(className); }\n  hasClass(element: any, className: string): boolean {\n    return element.classList.contains(className);\n  }\n  setStyle(element: any, styleName: string, styleValue: string) {\n    element.style[styleName] = styleValue;\n  }\n  removeStyle(element: any, stylename: string) {\n    // IE requires '' instead of null\n    // see https://github.com/angular/angular/issues/7916\n    element.style[stylename] = '';\n  }\n  getStyle(element: any, stylename: string): string { return element.style[stylename]; }\n  hasStyle(element: any, styleName: string, styleValue?: string|null): boolean {\n    const value = this.getStyle(element, styleName) || '';\n    return styleValue ? value == styleValue : value.length > 0;\n  }\n  tagName(element: any): string { return element.tagName; }\n  attributeMap(element: any): Map<string, string> {\n    const res = new Map<string, string>();\n    const elAttrs = element.attributes;\n    for (let i = 0; i < elAttrs.length; i++) {\n      const attrib = elAttrs.item(i);\n      res.set(attrib.name, attrib.value);\n    }\n    return res;\n  }\n  hasAttribute(element: Element, attribute: string): boolean {\n    return element.hasAttribute(attribute);\n  }\n  hasAttributeNS(element: Element, ns: string, attribute: string): boolean {\n    return element.hasAttributeNS(ns, attribute);\n  }\n  getAttribute(element: Element, attribute: string): string|null {\n    return element.getAttribute(attribute);\n  }\n  getAttributeNS(element: Element, ns: string, name: string): string {\n    return element.getAttributeNS(ns, name);\n  }\n  setAttribute(element: Element, name: string, value: string) { element.setAttribute(name, value); }\n  setAttributeNS(element: Element, ns: string, name: string, value: string) {\n    element.setAttributeNS(ns, name, value);\n  }\n  removeAttribute(element: Element, attribute: string) { element.removeAttribute(attribute); }\n  removeAttributeNS(element: Element, ns: string, name: string) {\n    element.removeAttributeNS(ns, name);\n  }\n  templateAwareRoot(el: Node): any { return this.isTemplateElement(el) ? this.content(el) : el; }\n  createHtmlDocument(): HTMLDocument {\n    return document.implementation.createHTMLDocument('fakeTitle');\n  }\n  getDefaultDocument(): Document { return document; }\n  getBoundingClientRect(el: Element): any {\n    try {\n      return el.getBoundingClientRect();\n    } catch (e) {\n      return {top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0};\n    }\n  }\n  getTitle(doc: Document): string { return doc.title; }\n  setTitle(doc: Document, newTitle: string) { doc.title = newTitle || ''; }\n  elementMatches(n: any, selector: string): boolean {\n    if (this.isElementNode(n)) {\n      return n.matches && n.matches(selector) ||\n          n.msMatchesSelector && n.msMatchesSelector(selector) ||\n          n.webkitMatchesSelector && n.webkitMatchesSelector(selector);\n    }\n\n    return false;\n  }\n  isTemplateElement(el: Node): boolean {\n    return this.isElementNode(el) && el.nodeName === 'TEMPLATE';\n  }\n  isTextNode(node: Node): boolean { return node.nodeType === Node.TEXT_NODE; }\n  isCommentNode(node: Node): boolean { return node.nodeType === Node.COMMENT_NODE; }\n  isElementNode(node: Node): boolean { return node.nodeType === Node.ELEMENT_NODE; }\n  hasShadowRoot(node: any): boolean {\n    return node.shadowRoot != null && node instanceof HTMLElement;\n  }\n  isShadowRoot(node: any): boolean { return node instanceof DocumentFragment; }\n  importIntoDoc(node: Node): any { return document.importNode(this.templateAwareRoot(node), true); }\n  adoptNode(node: Node): any { return document.adoptNode(node); }\n  getHref(el: Element): string { return el.getAttribute('href') !; }\n\n  getEventKey(event: any): string {\n    let key = event.key;\n    if (key == null) {\n      key = event.keyIdentifier;\n      // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n      // Safari cf\n      // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n      if (key == null) {\n        return 'Unidentified';\n      }\n      if (key.startsWith('U+')) {\n        key = String.fromCharCode(parseInt(key.substring(2), 16));\n        if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n          // There is a bug in Chrome for numeric keypad keys:\n          // https://code.google.com/p/chromium/issues/detail?id=155654\n          // 1, 2, 3 ... are reported as A, B, C ...\n          key = (_chromeNumKeyPadMap as any)[key];\n        }\n      }\n    }\n\n    return _keyMap[key] || key;\n  }\n  getGlobalEventTarget(doc: Document, target: string): EventTarget|null {\n    if (target === 'window') {\n      return window;\n    }\n    if (target === 'document') {\n      return doc;\n    }\n    if (target === 'body') {\n      return doc.body;\n    }\n    return null;\n  }\n  getHistory(): History { return window.history; }\n  getLocation(): Location { return window.location; }\n  getBaseHref(doc: Document): string|null {\n    const href = getBaseElementHref();\n    return href == null ? null : relativePath(href);\n  }\n  resetBaseElement(): void { baseElement = null; }\n  getUserAgent(): string { return window.navigator.userAgent; }\n  setData(element: Element, name: string, value: string) {\n    this.setAttribute(element, 'data-' + name, value);\n  }\n  getData(element: Element, name: string): string|null {\n    return this.getAttribute(element, 'data-' + name);\n  }\n  getComputedStyle(element: any): any { return getComputedStyle(element); }\n  // TODO(tbosch): move this into a separate environment class once we have it\n  supportsWebAnimation(): boolean {\n    return typeof(<any>Element).prototype['animate'] === 'function';\n  }\n  performanceNow(): number {\n    // performance.now() is not available in all browsers, see\n    // http://caniuse.com/#search=performance.now\n    return window.performance && window.performance.now ? window.performance.now() :\n                                                          new Date().getTime();\n  }\n\n  supportsCookies(): boolean { return true; }\n\n  getCookie(name: string): string|null { return parseCookieValue(document.cookie, name); }\n\n  setCookie(name: string, value: string) {\n    // document.cookie is magical, assigning into it assigns/overrides one cookie value, but does\n    // not clear other cookies.\n    document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n  }\n}\n\nlet baseElement: HTMLElement|null = null;\nfunction getBaseElementHref(): string|null {\n  if (!baseElement) {\n    baseElement = document.querySelector('base') !;\n    if (!baseElement) {\n      return null;\n    }\n  }\n  return baseElement.getAttribute('href');\n}\n\n// based on urlUtils.js in AngularJS 1\nlet urlParsingNode: any;\nfunction relativePath(url: any): string {\n  if (!urlParsingNode) {\n    urlParsingNode = document.createElement('a');\n  }\n  urlParsingNode.setAttribute('href', url);\n  return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n                                                       '/' + urlParsingNode.pathname;\n}\n"],"sourceRoot":""}