{"version":3,"sources":["platform-browser.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformBrowser","common","core","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__read","o","m","Symbol","iterator","ar","e","next","done","push","value","error","__spread","concat","_DOM","getDOM","setRootDomAdapter","adapter","DomAdapter","resourceLoaderType","get","_attrToPropMap","set","enumerable","configurable","GenericBrowserDomAdapter","_super","_this","_animationPrefix","_transitionEnd","element_1","createElement","document","getStyle","domPrefixes","toLowerCase","transEndEventNames_1","WebkitTransition","MozTransition","OTransition","transition","keys","forEach","getDistributedNodes","el","resolveAndSetHref","baseUrl","href","supportsDOMEvents","supportsNativeShadowDOM","body","createShadowRoot","getAnimationPrefix","getTransitionEnd","supportsAnimation","DOM_KEY_LOCATION_NUMPAD","_keyMap","_chromeNumKeyPadMap","nodeContains","ɵglobal","contains","node","compareDocumentPosition","BrowserDomAdapter","parse","templateHtml","Error","makeCurrent","hasProperty","element","name","setProperty","getProperty","invoke","methodName","args","_a","logError","window","console","log","logGroup","group","logGroupEnd","groupEnd","nodeA","nodeB","querySelector","selector","querySelectorAll","on","evt","listener","addEventListener","onAndCancel","removeEventListener","dispatchEvent","createMouseEvent","eventType","getDefaultDocument","createEvent","initEvent","preventDefault","returnValue","isPrevented","defaultPrevented","getInnerHTML","innerHTML","getTemplateContent","isTemplateElement","content","getOuterHTML","outerHTML","nodeName","nodeValue","type","firstChild","nextSibling","parentElement","parentNode","childNodes","childNodesAsList","res","clearNodes","removeChild","appendChild","replaceChild","newChild","oldChild","remove","insertBefore","parent","ref","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","textContent","setText","getValue","setValue","getChecked","checked","setChecked","createComment","text","createTemplate","html","tagName","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","setAttribute","createStyleElement","css","style","getShadowRoot","shadowRoot","getHost","host","clone","cloneNode","getElementsByClassName","getElementsByTagName","classList","slice","addClass","className","add","removeClass","hasClass","setStyle","styleName","styleValue","removeStyle","stylename","hasStyle","attributeMap","Map","elAttrs","attributes","attrib","item","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttribute","removeAttributeNS","templateAwareRoot","createHtmlDocument","implementation","createHTMLDocument","getBoundingClientRect","top","bottom","left","right","width","height","getTitle","title","setTitle","newTitle","elementMatches","isElementNode","matches","msMatchesSelector","webkitMatchesSelector","isTextNode","nodeType","Node","TEXT_NODE","isCommentNode","COMMENT_NODE","ELEMENT_NODE","hasShadowRoot","HTMLElement","isShadowRoot","DocumentFragment","importIntoDoc","importNode","adoptNode","getHref","getEventKey","event","keyIdentifier","startsWith","String","fromCharCode","parseInt","substring","location","getGlobalEventTarget","getHistory","history","getLocation","getBaseHref","getBaseElementHref","relativePath","resetBaseElement","baseElement","getUserAgent","navigator","userAgent","setData","getData","getComputedStyle","supportsWebAnimation","Element","performanceNow","performance","now","Date","getTime","supportsCookies","getCookie","ɵparseCookieValue","cookie","setCookie","encodeURIComponent","urlParsingNode","url","pathname","charAt","DOCUMENT","supportsState","pushState","BrowserPlatformLocation","_doc","_init","_history","getBaseHrefFromDOM","onPopState","fn","onHashChange","newPath","search","hash","state","replaceState","forward","back","Injectable","Inject","PlatformLocation","TRANSITION_ID","InjectionToken","appInitializerFactory","transitionId","injector","ApplicationInitStatus","donePromise","then","dom","styles","filter","SERVER_TRANSITION_PROVIDERS","provide","APP_INITIALIZER","useFactory","deps","Injector","multi","BrowserGetTestability","init","setTestabilityGetter","addToWindow","registry","elem","findInAncestors","testability","findTestabilityInTree","getAllTestabilities","getAllRootElements","whenAllStable","callback","testabilities","count","didWork","decrement","didWork_","whenStable","getTestability","exportNgVar","COMPILED","CORE_TOKENS","ApplicationRef","NgZone","INSPECT_GLOBAL_NAME","CORE_TOKENS_GLOBAL_NAME","inspectNativeElement","getDebugNode","_createNgProbe","coreTokens","_ngProbeTokensToMap","tokens","reduce","prev","token","ELEMENT_PROBE_PROVIDERS","NgProbeToken","Optional","EVENT_MANAGER_PLUGINS","EventManager","plugins","_zone","_eventNameToPlugin","manager","_plugins","reverse","eventName","handler","plugin","_findPluginFor","addGlobalEventListener","getZone","plugin_1","supports","EventManagerPlugin","SharedStylesHost","_stylesSet","Set","addStyles","additions","has","onStylesAdded","getAllStyles","from","DomSharedStylesHost","_hostNodes","_styleNodes","head","_addStylesToHost","styleEl","addHost","hostNode","removeHost","delete","ngOnDestroy","styleNode","NAMESPACE_URIS","COMPONENT_REGEX","COMPONENT_VARIABLE","HOST_ATTR","CONTENT_ATTR","shimContentAttribute","componentShortId","replace","shimHostAttribute","flattenStyles","compId","isArray","decoratePreventDefault","eventHandler","allowDefaultBehavior","DomRendererFactory2","eventManager","sharedStylesHost","rendererByCompId","defaultRenderer","DefaultDomRenderer2","createRenderer","encapsulation","ViewEncapsulation","Emulated","renderer","id","EmulatedEncapsulationDomRenderer2","applyToHost","Native","ShadowDom","ShadowDomRenderer","begin","end","data","destroy","namespace","createText","refChild","selectRootElement","selectorOrNode","namespaceUri","flags","RendererStyleFlags2","DashCase","Important","removeProperty","checkNoSyntheticProp","listen","AT_CHARCODE","charCodeAt","nameKind","component","contentAttr","hostAttr","hostEl","attachShadow","mode","nodeOrShadowRoot","ɵ0","v","__symbol__","Zone","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","symbolNames","FALSE","ANGULAR","NATIVE_ADD_LISTENER","NATIVE_REMOVE_LISTENER","stopSymbol","stopMethodSymbol","blackListedEvents","blackListedMap","isBlackListedEvent","globalListener","symbolName","taskDatas","taskData","zone","current","run","copiedTasks","DomEventsPlugin","ngZone","platformId","isPlatformServer","patchEvent","Event","delegate","stopImmediatePropagation","zoneJsLoaded","isInAngularZone","globalListenerRegistered","root","callbackRegistered","underlyingRemove","found","splice","PLATFORM_ID","EVENT_NAMES","HAMMER_GESTURE_CONFIG","HAMMER_LOADER","HammerGestureConfig","events","overrides","buildHammer","mc","Hammer","options","enable","HammerGesturesPlugin","_config","loader","isCustomEvent","warn","cancelRegistration_1","deregister_1","catch","runOutsideAngular","eventObj","runGuarded","off","indexOf","ɵConsole","MODIFIER_KEYS","ɵ0$1","altKey","ɵ1$1","ctrlKey","ɵ2$1","metaKey","ɵ3","shiftKey","MODIFIER_KEY_GETTERS","KeyEventsPlugin","KeyEventsPlugin_1","parseEventName","parsedEvent","outsideHandler","eventCallback","parts","split","domEventName","shift","_normalizeKey","pop","fullKey","modifierName","index","result","getEventFullKey","modifierGetter","keyName","DomSanitizer","DomSanitizerImpl","sanitize","ctx","SecurityContext","NONE","HTML","SafeHtmlImpl","changingThisBreaksApplicationSecurity","checkNotSafeValue","ɵ_sanitizeHtml","STYLE","SafeStyleImpl","ɵ_sanitizeStyle","SCRIPT","SafeScriptImpl","URL","SafeResourceUrlImpl","SafeUrlImpl","ɵ_sanitizeUrl","RESOURCE_URL","expectedType","SafeValueImpl","getTypeName","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","toString","INTERNAL_BROWSER_PLATFORM_PROVIDERS","useValue","ɵPLATFORM_BROWSER_ID","PLATFORM_INITIALIZER","initDomAdapter","useClass","_document","BROWSER_SANITIZATION_PROVIDERS","Sanitizer","useExisting","createPlatformFactory","platformCore","errorHandler","ErrorHandler","BROWSER_MODULE_PROVIDERS","ɵAPP_ROOT","RendererFactory2","Testability","BrowserModule","parentModule","BrowserModule_1","withServerTransition","params","ngModule","providers","APP_ID","appId","NgModule","CommonModule","ApplicationModule","SkipSelf","createMeta","Meta","inject","_dom","addTag","tag","forceCreation","_getOrCreateElement","addTags","tags","getTag","attrSelector","getTags","list","updateTag","_parseSelector","meta","_setMetaElementAttributes","removeTag","removeTagElement","_containsAttributes","prop","attr","every","ngInjectableDef","defineInjectable","providedIn","createTitle","Title","win","ChangeDetectionPerfRecord","msPerTick","numTicks","AngularProfiler","appRef","timeChangeDetection","config","record","profileName","isProfilerAvailable","profile","start","tick","profileEnd","toFixed","PROFILER_GLOBAL_NAME","enableDebugTools","disableDebugTools","escapeHtml","escapedText","unescapeHtml","unescapedText","makeStateKey","TransferState","store","onSerializeCallbacks","TransferState_1","initState","transferState","defaultValue","undefined","hasKey","onSerialize","toJson","JSON","stringify","initTransferState","script","getElementById","initialState","BrowserTransferStateModule","By","all","debugElement","nativeElement","directive","providerTokens","VERSION","Version","ɵangular_packages_platform_browser_platform_browser_c","ɵangular_packages_platform_browser_platform_browser_b","ɵangular_packages_platform_browser_platform_browser_a","ɵangular_packages_platform_browser_platform_browser_k","ɵangular_packages_platform_browser_platform_browser_d","ɵangular_packages_platform_browser_platform_browser_i","ɵangular_packages_platform_browser_platform_browser_h","ɵangular_packages_platform_browser_platform_browser_e","ɵangular_packages_platform_browser_platform_browser_f","ɵangular_packages_platform_browser_platform_browser_j","ɵangular_packages_platform_browser_platform_browser_g","ɵBROWSER_SANITIZATION_PROVIDERS","ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS","ɵinitDomAdapter","ɵBrowserDomAdapter","ɵBrowserPlatformLocation","ɵTRANSITION_ID","ɵBrowserGetTestability","ɵescapeHtml","ɵELEMENT_PROBE_PROVIDERS","ɵDomAdapter","ɵgetDOM","ɵsetRootDomAdapter","ɵDomRendererFactory2","ɵNAMESPACE_URIS","ɵflattenStyles","ɵshimContentAttribute","ɵshimHostAttribute","ɵDomEventsPlugin","ɵHammerGesturesPlugin","ɵKeyEventsPlugin","ɵDomSharedStylesHost","ɵSharedStylesHost","ɵDomSanitizerImpl"],"mappings":"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","file":"platform-browser.umd.js","sourcesContent":["/**\n * @license Angular v6.1.10\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core')) :\n    typeof define === 'function' && define.amd ? define('@angular/platform-browser', ['exports', '@angular/common', '@angular/core'], factory) :\n    (factory((global.ng = global.ng || {}, global.ng.platformBrowser = {}),global.ng.common,global.ng.core));\n}(this, (function (exports,common,core) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __decorate(decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    }\r\n\r\n    function __param(paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    }\r\n\r\n    function __metadata(metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    }\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spread() {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _DOM = null;\n    function getDOM() {\n        return _DOM;\n    }\n    function setRootDomAdapter(adapter) {\n        if (!_DOM) {\n            _DOM = adapter;\n        }\n    }\n    /* tslint:disable:requireParameterType */\n    /**\n     * Provides DOM operations in an environment-agnostic way.\n     *\n     * @security Tread carefully! Interacting with the DOM directly is dangerous and\n     * can introduce XSS risks.\n     */\n    var DomAdapter = /** @class */ (function () {\n        function DomAdapter() {\n            this.resourceLoaderType = null;\n        }\n        Object.defineProperty(DomAdapter.prototype, \"attrToPropMap\", {\n            /**\n             * Maps attribute names to their corresponding property names for cases\n             * where attribute name doesn't match property name.\n             */\n            get: function () { return this._attrToPropMap; },\n            set: function (value) { this._attrToPropMap = value; },\n            enumerable: true,\n            configurable: true\n        });\n        return DomAdapter;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Provides DOM operations in any browser environment.\n     *\n     * @security Tread carefully! Interacting with the DOM directly is dangerous and\n     * can introduce XSS risks.\n     */\n    var GenericBrowserDomAdapter = /** @class */ (function (_super) {\n        __extends(GenericBrowserDomAdapter, _super);\n        function GenericBrowserDomAdapter() {\n            var _this = _super.call(this) || this;\n            _this._animationPrefix = null;\n            _this._transitionEnd = null;\n            try {\n                var element_1 = _this.createElement('div', document);\n                if (_this.getStyle(element_1, 'animationName') != null) {\n                    _this._animationPrefix = '';\n                }\n                else {\n                    var domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n                    for (var i = 0; i < domPrefixes.length; i++) {\n                        if (_this.getStyle(element_1, domPrefixes[i] + 'AnimationName') != null) {\n                            _this._animationPrefix = '-' + domPrefixes[i].toLowerCase() + '-';\n                            break;\n                        }\n                    }\n                }\n                var transEndEventNames_1 = {\n                    WebkitTransition: 'webkitTransitionEnd',\n                    MozTransition: 'transitionend',\n                    OTransition: 'oTransitionEnd otransitionend',\n                    transition: 'transitionend'\n                };\n                Object.keys(transEndEventNames_1).forEach(function (key) {\n                    if (_this.getStyle(element_1, key) != null) {\n                        _this._transitionEnd = transEndEventNames_1[key];\n                    }\n                });\n            }\n            catch (e) {\n                _this._animationPrefix = null;\n                _this._transitionEnd = null;\n            }\n            return _this;\n        }\n        GenericBrowserDomAdapter.prototype.getDistributedNodes = function (el) { return el.getDistributedNodes(); };\n        GenericBrowserDomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {\n            el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n        };\n        GenericBrowserDomAdapter.prototype.supportsDOMEvents = function () { return true; };\n        GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM = function () {\n            return typeof document.body.createShadowRoot === 'function';\n        };\n        GenericBrowserDomAdapter.prototype.getAnimationPrefix = function () { return this._animationPrefix ? this._animationPrefix : ''; };\n        GenericBrowserDomAdapter.prototype.getTransitionEnd = function () { return this._transitionEnd ? this._transitionEnd : ''; };\n        GenericBrowserDomAdapter.prototype.supportsAnimation = function () {\n            return this._animationPrefix != null && this._transitionEnd != null;\n        };\n        return GenericBrowserDomAdapter;\n    }(DomAdapter));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _attrToPropMap = {\n        'class': 'className',\n        'innerHtml': 'innerHTML',\n        'readonly': 'readOnly',\n        'tabindex': 'tabIndex',\n    };\n    var DOM_KEY_LOCATION_NUMPAD = 3;\n    // Map to convert some key or keyIdentifier values to what will be returned by getEventKey\n    var _keyMap = {\n        // The following values are here for cross-browser compatibility and to match the W3C standard\n        // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n        '\\b': 'Backspace',\n        '\\t': 'Tab',\n        '\\x7F': 'Delete',\n        '\\x1B': 'Escape',\n        'Del': 'Delete',\n        'Esc': 'Escape',\n        'Left': 'ArrowLeft',\n        'Right': 'ArrowRight',\n        'Up': 'ArrowUp',\n        'Down': 'ArrowDown',\n        'Menu': 'ContextMenu',\n        'Scroll': 'ScrollLock',\n        'Win': 'OS'\n    };\n    // There is a bug in Chrome for numeric keypad keys:\n    // https://code.google.com/p/chromium/issues/detail?id=155654\n    // 1, 2, 3 ... are reported as A, B, C ...\n    var _chromeNumKeyPadMap = {\n        'A': '1',\n        'B': '2',\n        'C': '3',\n        'D': '4',\n        'E': '5',\n        'F': '6',\n        'G': '7',\n        'H': '8',\n        'I': '9',\n        'J': '*',\n        'K': '+',\n        'M': '-',\n        'N': '.',\n        'O': '/',\n        '\\x60': '0',\n        '\\x90': 'NumLock'\n    };\n    var nodeContains;\n    if (core.ɵglobal['Node']) {\n        nodeContains = core.ɵglobal['Node'].prototype.contains || function (node) {\n            return !!(this.compareDocumentPosition(node) & 16);\n        };\n    }\n    /**\n     * A `DomAdapter` powered by full browser DOM APIs.\n     *\n     * @security Tread carefully! Interacting with the DOM directly is dangerous and\n     * can introduce XSS risks.\n     */\n    /* tslint:disable:requireParameterType no-console */\n    var BrowserDomAdapter = /** @class */ (function (_super) {\n        __extends(BrowserDomAdapter, _super);\n        function BrowserDomAdapter() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        BrowserDomAdapter.prototype.parse = function (templateHtml) { throw new Error('parse not implemented'); };\n        BrowserDomAdapter.makeCurrent = function () { setRootDomAdapter(new BrowserDomAdapter()); };\n        BrowserDomAdapter.prototype.hasProperty = function (element, name) { return name in element; };\n        BrowserDomAdapter.prototype.setProperty = function (el, name, value) { el[name] = value; };\n        BrowserDomAdapter.prototype.getProperty = function (el, name) { return el[name]; };\n        BrowserDomAdapter.prototype.invoke = function (el, methodName, args) {\n            var _a;\n            (_a = el)[methodName].apply(_a, __spread(args));\n        };\n        // TODO(tbosch): move this into a separate environment class once we have it\n        BrowserDomAdapter.prototype.logError = function (error) {\n            if (window.console) {\n                if (console.error) {\n                    console.error(error);\n                }\n                else {\n                    console.log(error);\n                }\n            }\n        };\n        BrowserDomAdapter.prototype.log = function (error) {\n            if (window.console) {\n                window.console.log && window.console.log(error);\n            }\n        };\n        BrowserDomAdapter.prototype.logGroup = function (error) {\n            if (window.console) {\n                window.console.group && window.console.group(error);\n            }\n        };\n        BrowserDomAdapter.prototype.logGroupEnd = function () {\n            if (window.console) {\n                window.console.groupEnd && window.console.groupEnd();\n            }\n        };\n        Object.defineProperty(BrowserDomAdapter.prototype, \"attrToPropMap\", {\n            get: function () { return _attrToPropMap; },\n            enumerable: true,\n            configurable: true\n        });\n        BrowserDomAdapter.prototype.contains = function (nodeA, nodeB) { return nodeContains.call(nodeA, nodeB); };\n        BrowserDomAdapter.prototype.querySelector = function (el, selector) { return el.querySelector(selector); };\n        BrowserDomAdapter.prototype.querySelectorAll = function (el, selector) { return el.querySelectorAll(selector); };\n        BrowserDomAdapter.prototype.on = function (el, evt, listener) { el.addEventListener(evt, listener, false); };\n        BrowserDomAdapter.prototype.onAndCancel = function (el, evt, listener) {\n            el.addEventListener(evt, listener, false);\n            // Needed to follow Dart's subscription semantic, until fix of\n            // https://code.google.com/p/dart/issues/detail?id=17406\n            return function () { el.removeEventListener(evt, listener, false); };\n        };\n        BrowserDomAdapter.prototype.dispatchEvent = function (el, evt) { el.dispatchEvent(evt); };\n        BrowserDomAdapter.prototype.createMouseEvent = function (eventType) {\n            var evt = this.getDefaultDocument().createEvent('MouseEvent');\n            evt.initEvent(eventType, true, true);\n            return evt;\n        };\n        BrowserDomAdapter.prototype.createEvent = function (eventType) {\n            var evt = this.getDefaultDocument().createEvent('Event');\n            evt.initEvent(eventType, true, true);\n            return evt;\n        };\n        BrowserDomAdapter.prototype.preventDefault = function (evt) {\n            evt.preventDefault();\n            evt.returnValue = false;\n        };\n        BrowserDomAdapter.prototype.isPrevented = function (evt) {\n            return evt.defaultPrevented || evt.returnValue != null && !evt.returnValue;\n        };\n        BrowserDomAdapter.prototype.getInnerHTML = function (el) { return el.innerHTML; };\n        BrowserDomAdapter.prototype.getTemplateContent = function (el) {\n            return 'content' in el && this.isTemplateElement(el) ? el.content : null;\n        };\n        BrowserDomAdapter.prototype.getOuterHTML = function (el) { return el.outerHTML; };\n        BrowserDomAdapter.prototype.nodeName = function (node) { return node.nodeName; };\n        BrowserDomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };\n        BrowserDomAdapter.prototype.type = function (node) { return node.type; };\n        BrowserDomAdapter.prototype.content = function (node) {\n            if (this.hasProperty(node, 'content')) {\n                return node.content;\n            }\n            else {\n                return node;\n            }\n        };\n        BrowserDomAdapter.prototype.firstChild = function (el) { return el.firstChild; };\n        BrowserDomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };\n        BrowserDomAdapter.prototype.parentElement = function (el) { return el.parentNode; };\n        BrowserDomAdapter.prototype.childNodes = function (el) { return el.childNodes; };\n        BrowserDomAdapter.prototype.childNodesAsList = function (el) {\n            var childNodes = el.childNodes;\n            var res = new Array(childNodes.length);\n            for (var i = 0; i < childNodes.length; i++) {\n                res[i] = childNodes[i];\n            }\n            return res;\n        };\n        BrowserDomAdapter.prototype.clearNodes = function (el) {\n            while (el.firstChild) {\n                el.removeChild(el.firstChild);\n            }\n        };\n        BrowserDomAdapter.prototype.appendChild = function (el, node) { el.appendChild(node); };\n        BrowserDomAdapter.prototype.removeChild = function (el, node) { el.removeChild(node); };\n        BrowserDomAdapter.prototype.replaceChild = function (el, newChild, oldChild) { el.replaceChild(newChild, oldChild); };\n        BrowserDomAdapter.prototype.remove = function (node) {\n            if (node.parentNode) {\n                node.parentNode.removeChild(node);\n            }\n            return node;\n        };\n        BrowserDomAdapter.prototype.insertBefore = function (parent, ref, node) { parent.insertBefore(node, ref); };\n        BrowserDomAdapter.prototype.insertAllBefore = function (parent, ref, nodes) {\n            nodes.forEach(function (n) { return parent.insertBefore(n, ref); });\n        };\n        BrowserDomAdapter.prototype.insertAfter = function (parent, ref, node) { parent.insertBefore(node, ref.nextSibling); };\n        BrowserDomAdapter.prototype.setInnerHTML = function (el, value) { el.innerHTML = value; };\n        BrowserDomAdapter.prototype.getText = function (el) { return el.textContent; };\n        BrowserDomAdapter.prototype.setText = function (el, value) { el.textContent = value; };\n        BrowserDomAdapter.prototype.getValue = function (el) { return el.value; };\n        BrowserDomAdapter.prototype.setValue = function (el, value) { el.value = value; };\n        BrowserDomAdapter.prototype.getChecked = function (el) { return el.checked; };\n        BrowserDomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };\n        BrowserDomAdapter.prototype.createComment = function (text) { return this.getDefaultDocument().createComment(text); };\n        BrowserDomAdapter.prototype.createTemplate = function (html) {\n            var t = this.getDefaultDocument().createElement('template');\n            t.innerHTML = html;\n            return t;\n        };\n        BrowserDomAdapter.prototype.createElement = function (tagName, doc) {\n            doc = doc || this.getDefaultDocument();\n            return doc.createElement(tagName);\n        };\n        BrowserDomAdapter.prototype.createElementNS = function (ns, tagName, doc) {\n            doc = doc || this.getDefaultDocument();\n            return doc.createElementNS(ns, tagName);\n        };\n        BrowserDomAdapter.prototype.createTextNode = function (text, doc) {\n            doc = doc || this.getDefaultDocument();\n            return doc.createTextNode(text);\n        };\n        BrowserDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n            doc = doc || this.getDefaultDocument();\n            var el = doc.createElement('SCRIPT');\n            el.setAttribute(attrName, attrValue);\n            return el;\n        };\n        BrowserDomAdapter.prototype.createStyleElement = function (css, doc) {\n            doc = doc || this.getDefaultDocument();\n            var style = doc.createElement('style');\n            this.appendChild(style, this.createTextNode(css, doc));\n            return style;\n        };\n        BrowserDomAdapter.prototype.createShadowRoot = function (el) { return el.createShadowRoot(); };\n        BrowserDomAdapter.prototype.getShadowRoot = function (el) { return el.shadowRoot; };\n        BrowserDomAdapter.prototype.getHost = function (el) { return el.host; };\n        BrowserDomAdapter.prototype.clone = function (node) { return node.cloneNode(true); };\n        BrowserDomAdapter.prototype.getElementsByClassName = function (element, name) {\n            return element.getElementsByClassName(name);\n        };\n        BrowserDomAdapter.prototype.getElementsByTagName = function (element, name) {\n            return element.getElementsByTagName(name);\n        };\n        BrowserDomAdapter.prototype.classList = function (element) { return Array.prototype.slice.call(element.classList, 0); };\n        BrowserDomAdapter.prototype.addClass = function (element, className) { element.classList.add(className); };\n        BrowserDomAdapter.prototype.removeClass = function (element, className) { element.classList.remove(className); };\n        BrowserDomAdapter.prototype.hasClass = function (element, className) {\n            return element.classList.contains(className);\n        };\n        BrowserDomAdapter.prototype.setStyle = function (element, styleName, styleValue) {\n            element.style[styleName] = styleValue;\n        };\n        BrowserDomAdapter.prototype.removeStyle = function (element, stylename) {\n            // IE requires '' instead of null\n            // see https://github.com/angular/angular/issues/7916\n            element.style[stylename] = '';\n        };\n        BrowserDomAdapter.prototype.getStyle = function (element, stylename) { return element.style[stylename]; };\n        BrowserDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n            var value = this.getStyle(element, styleName) || '';\n            return styleValue ? value == styleValue : value.length > 0;\n        };\n        BrowserDomAdapter.prototype.tagName = function (element) { return element.tagName; };\n        BrowserDomAdapter.prototype.attributeMap = function (element) {\n            var res = new Map();\n            var elAttrs = element.attributes;\n            for (var i = 0; i < elAttrs.length; i++) {\n                var attrib = elAttrs.item(i);\n                res.set(attrib.name, attrib.value);\n            }\n            return res;\n        };\n        BrowserDomAdapter.prototype.hasAttribute = function (element, attribute) {\n            return element.hasAttribute(attribute);\n        };\n        BrowserDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) {\n            return element.hasAttributeNS(ns, attribute);\n        };\n        BrowserDomAdapter.prototype.getAttribute = function (element, attribute) {\n            return element.getAttribute(attribute);\n        };\n        BrowserDomAdapter.prototype.getAttributeNS = function (element, ns, name) {\n            return element.getAttributeNS(ns, name);\n        };\n        BrowserDomAdapter.prototype.setAttribute = function (element, name, value) { element.setAttribute(name, value); };\n        BrowserDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) {\n            element.setAttributeNS(ns, name, value);\n        };\n        BrowserDomAdapter.prototype.removeAttribute = function (element, attribute) { element.removeAttribute(attribute); };\n        BrowserDomAdapter.prototype.removeAttributeNS = function (element, ns, name) {\n            element.removeAttributeNS(ns, name);\n        };\n        BrowserDomAdapter.prototype.templateAwareRoot = function (el) { return this.isTemplateElement(el) ? this.content(el) : el; };\n        BrowserDomAdapter.prototype.createHtmlDocument = function () {\n            return document.implementation.createHTMLDocument('fakeTitle');\n        };\n        BrowserDomAdapter.prototype.getDefaultDocument = function () { return document; };\n        BrowserDomAdapter.prototype.getBoundingClientRect = function (el) {\n            try {\n                return el.getBoundingClientRect();\n            }\n            catch (e) {\n                return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };\n            }\n        };\n        BrowserDomAdapter.prototype.getTitle = function (doc) { return doc.title; };\n        BrowserDomAdapter.prototype.setTitle = function (doc, newTitle) { doc.title = newTitle || ''; };\n        BrowserDomAdapter.prototype.elementMatches = function (n, selector) {\n            if (this.isElementNode(n)) {\n                return n.matches && n.matches(selector) ||\n                    n.msMatchesSelector && n.msMatchesSelector(selector) ||\n                    n.webkitMatchesSelector && n.webkitMatchesSelector(selector);\n            }\n            return false;\n        };\n        BrowserDomAdapter.prototype.isTemplateElement = function (el) {\n            return this.isElementNode(el) && el.nodeName === 'TEMPLATE';\n        };\n        BrowserDomAdapter.prototype.isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\n        BrowserDomAdapter.prototype.isCommentNode = function (node) { return node.nodeType === Node.COMMENT_NODE; };\n        BrowserDomAdapter.prototype.isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\n        BrowserDomAdapter.prototype.hasShadowRoot = function (node) {\n            return node.shadowRoot != null && node instanceof HTMLElement;\n        };\n        BrowserDomAdapter.prototype.isShadowRoot = function (node) { return node instanceof DocumentFragment; };\n        BrowserDomAdapter.prototype.importIntoDoc = function (node) { return document.importNode(this.templateAwareRoot(node), true); };\n        BrowserDomAdapter.prototype.adoptNode = function (node) { return document.adoptNode(node); };\n        BrowserDomAdapter.prototype.getHref = function (el) { return el.getAttribute('href'); };\n        BrowserDomAdapter.prototype.getEventKey = function (event) {\n            var key = event.key;\n            if (key == null) {\n                key = event.keyIdentifier;\n                // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n                // Safari cf\n                // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n                if (key == null) {\n                    return 'Unidentified';\n                }\n                if (key.startsWith('U+')) {\n                    key = String.fromCharCode(parseInt(key.substring(2), 16));\n                    if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n                        // There is a bug in Chrome for numeric keypad keys:\n                        // https://code.google.com/p/chromium/issues/detail?id=155654\n                        // 1, 2, 3 ... are reported as A, B, C ...\n                        key = _chromeNumKeyPadMap[key];\n                    }\n                }\n            }\n            return _keyMap[key] || key;\n        };\n        BrowserDomAdapter.prototype.getGlobalEventTarget = function (doc, target) {\n            if (target === 'window') {\n                return window;\n            }\n            if (target === 'document') {\n                return doc;\n            }\n            if (target === 'body') {\n                return doc.body;\n            }\n            return null;\n        };\n        BrowserDomAdapter.prototype.getHistory = function () { return window.history; };\n        BrowserDomAdapter.prototype.getLocation = function () { return window.location; };\n        BrowserDomAdapter.prototype.getBaseHref = function (doc) {\n            var href = getBaseElementHref();\n            return href == null ? null : relativePath(href);\n        };\n        BrowserDomAdapter.prototype.resetBaseElement = function () { baseElement = null; };\n        BrowserDomAdapter.prototype.getUserAgent = function () { return window.navigator.userAgent; };\n        BrowserDomAdapter.prototype.setData = function (element, name, value) {\n            this.setAttribute(element, 'data-' + name, value);\n        };\n        BrowserDomAdapter.prototype.getData = function (element, name) {\n            return this.getAttribute(element, 'data-' + name);\n        };\n        BrowserDomAdapter.prototype.getComputedStyle = function (element) { return getComputedStyle(element); };\n        // TODO(tbosch): move this into a separate environment class once we have it\n        BrowserDomAdapter.prototype.supportsWebAnimation = function () {\n            return typeof Element.prototype['animate'] === 'function';\n        };\n        BrowserDomAdapter.prototype.performanceNow = function () {\n            // performance.now() is not available in all browsers, see\n            // http://caniuse.com/#search=performance.now\n            return window.performance && window.performance.now ? window.performance.now() :\n                new Date().getTime();\n        };\n        BrowserDomAdapter.prototype.supportsCookies = function () { return true; };\n        BrowserDomAdapter.prototype.getCookie = function (name) { return common.ɵparseCookieValue(document.cookie, name); };\n        BrowserDomAdapter.prototype.setCookie = function (name, value) {\n            // document.cookie is magical, assigning into it assigns/overrides one cookie value, but does\n            // not clear other cookies.\n            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n        };\n        return BrowserDomAdapter;\n    }(GenericBrowserDomAdapter));\n    var baseElement = null;\n    function getBaseElementHref() {\n        if (!baseElement) {\n            baseElement = document.querySelector('base');\n            if (!baseElement) {\n                return null;\n            }\n        }\n        return baseElement.getAttribute('href');\n    }\n    // based on urlUtils.js in AngularJS 1\n    var urlParsingNode;\n    function relativePath(url) {\n        if (!urlParsingNode) {\n            urlParsingNode = document.createElement('a');\n        }\n        urlParsingNode.setAttribute('href', url);\n        return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A DI Token representing the main rendering context. In a browser this is the DOM Document.\n     *\n     * Note: Document might not be available in the Application Context when Application and Rendering\n     * Contexts are not the same (e.g. when running the application into a Web Worker).\n     *\n     * @deprecated import from `@angular/common` instead.\n     */\n    var DOCUMENT = common.DOCUMENT;\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function supportsState() {\n        return !!window.history.pushState;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * `PlatformLocation` encapsulates all of the direct calls to platform APIs.\n     * This class should not be used directly by an application developer. Instead, use\n     * {@link Location}.\n     */\n    var BrowserPlatformLocation = /** @class */ (function (_super) {\n        __extends(BrowserPlatformLocation, _super);\n        function BrowserPlatformLocation(_doc) {\n            var _this = _super.call(this) || this;\n            _this._doc = _doc;\n            _this._init();\n            return _this;\n        }\n        // This is moved to its own method so that `MockPlatformLocationStrategy` can overwrite it\n        /** @internal */\n        BrowserPlatformLocation.prototype._init = function () {\n            this.location = getDOM().getLocation();\n            this._history = getDOM().getHistory();\n        };\n        BrowserPlatformLocation.prototype.getBaseHrefFromDOM = function () { return getDOM().getBaseHref(this._doc); };\n        BrowserPlatformLocation.prototype.onPopState = function (fn) {\n            getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('popstate', fn, false);\n        };\n        BrowserPlatformLocation.prototype.onHashChange = function (fn) {\n            getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('hashchange', fn, false);\n        };\n        Object.defineProperty(BrowserPlatformLocation.prototype, \"pathname\", {\n            get: function () { return this.location.pathname; },\n            set: function (newPath) { this.location.pathname = newPath; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserPlatformLocation.prototype, \"search\", {\n            get: function () { return this.location.search; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserPlatformLocation.prototype, \"hash\", {\n            get: function () { return this.location.hash; },\n            enumerable: true,\n            configurable: true\n        });\n        BrowserPlatformLocation.prototype.pushState = function (state, title, url) {\n            if (supportsState()) {\n                this._history.pushState(state, title, url);\n            }\n            else {\n                this.location.hash = url;\n            }\n        };\n        BrowserPlatformLocation.prototype.replaceState = function (state, title, url) {\n            if (supportsState()) {\n                this._history.replaceState(state, title, url);\n            }\n            else {\n                this.location.hash = url;\n            }\n        };\n        BrowserPlatformLocation.prototype.forward = function () { this._history.forward(); };\n        BrowserPlatformLocation.prototype.back = function () { this._history.back(); };\n        BrowserPlatformLocation = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(DOCUMENT)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], BrowserPlatformLocation);\n        return BrowserPlatformLocation;\n    }(common.PlatformLocation));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * An id that identifies a particular application being bootstrapped, that should\n     * match across the client/server boundary.\n     */\n    var TRANSITION_ID = new core.InjectionToken('TRANSITION_ID');\n    function appInitializerFactory(transitionId, document, injector) {\n        return function () {\n            // Wait for all application initializers to be completed before removing the styles set by\n            // the server.\n            injector.get(core.ApplicationInitStatus).donePromise.then(function () {\n                var dom = getDOM();\n                var styles = Array.prototype.slice.apply(dom.querySelectorAll(document, \"style[ng-transition]\"));\n                styles.filter(function (el) { return dom.getAttribute(el, 'ng-transition') === transitionId; })\n                    .forEach(function (el) { return dom.remove(el); });\n            });\n        };\n    }\n    var SERVER_TRANSITION_PROVIDERS = [\n        {\n            provide: core.APP_INITIALIZER,\n            useFactory: appInitializerFactory,\n            deps: [TRANSITION_ID, DOCUMENT, core.Injector],\n            multi: true\n        },\n    ];\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var BrowserGetTestability = /** @class */ (function () {\n        function BrowserGetTestability() {\n        }\n        BrowserGetTestability.init = function () { core.setTestabilityGetter(new BrowserGetTestability()); };\n        BrowserGetTestability.prototype.addToWindow = function (registry) {\n            core.ɵglobal['getAngularTestability'] = function (elem, findInAncestors) {\n                if (findInAncestors === void 0) { findInAncestors = true; }\n                var testability = registry.findTestabilityInTree(elem, findInAncestors);\n                if (testability == null) {\n                    throw new Error('Could not find testability for element.');\n                }\n                return testability;\n            };\n            core.ɵglobal['getAllAngularTestabilities'] = function () { return registry.getAllTestabilities(); };\n            core.ɵglobal['getAllAngularRootElements'] = function () { return registry.getAllRootElements(); };\n            var whenAllStable = function (callback /** TODO #9100 */) {\n                var testabilities = core.ɵglobal['getAllAngularTestabilities']();\n                var count = testabilities.length;\n                var didWork = false;\n                var decrement = function (didWork_ /** TODO #9100 */) {\n                    didWork = didWork || didWork_;\n                    count--;\n                    if (count == 0) {\n                        callback(didWork);\n                    }\n                };\n                testabilities.forEach(function (testability /** TODO #9100 */) {\n                    testability.whenStable(decrement);\n                });\n            };\n            if (!core.ɵglobal['frameworkStabilizers']) {\n                core.ɵglobal['frameworkStabilizers'] = [];\n            }\n            core.ɵglobal['frameworkStabilizers'].push(whenAllStable);\n        };\n        BrowserGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {\n            if (elem == null) {\n                return null;\n            }\n            var t = registry.getTestability(elem);\n            if (t != null) {\n                return t;\n            }\n            else if (!findInAncestors) {\n                return null;\n            }\n            if (getDOM().isShadowRoot(elem)) {\n                return this.findTestabilityInTree(registry, getDOM().getHost(elem), true);\n            }\n            return this.findTestabilityInTree(registry, getDOM().parentElement(elem), true);\n        };\n        return BrowserGetTestability;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Exports the value under a given `name` in the global property `ng`. For example `ng.probe` if\n     * `name` is `'probe'`.\n     * @param name Name under which it will be exported. Keep in mind this will be a property of the\n     * global `ng` object.\n     * @param value The value to export.\n     */\n    function exportNgVar(name, value) {\n        if (typeof COMPILED === 'undefined' || !COMPILED) {\n            // Note: we can't export `ng` when using closure enhanced optimization as:\n            // - closure declares globals itself for minified names, which sometimes clobber our `ng` global\n            // - we can't declare a closure extern as the namespace `ng` is already used within Google\n            //   for typings for angularJS (via `goog.provide('ng....')`).\n            var ng = core.ɵglobal['ng'] = core.ɵglobal['ng'] || {};\n            ng[name] = value;\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CORE_TOKENS = {\n        'ApplicationRef': core.ApplicationRef,\n        'NgZone': core.NgZone,\n    };\n    var INSPECT_GLOBAL_NAME = 'probe';\n    var CORE_TOKENS_GLOBAL_NAME = 'coreTokens';\n    /**\n     * Returns a {@link DebugElement} for the given native DOM element, or\n     * null if the given native element does not have an Angular view associated\n     * with it.\n     */\n    function inspectNativeElement(element) {\n        return core.getDebugNode(element);\n    }\n    function _createNgProbe(coreTokens) {\n        exportNgVar(INSPECT_GLOBAL_NAME, inspectNativeElement);\n        exportNgVar(CORE_TOKENS_GLOBAL_NAME, __assign({}, CORE_TOKENS, _ngProbeTokensToMap(coreTokens || [])));\n        return function () { return inspectNativeElement; };\n    }\n    function _ngProbeTokensToMap(tokens) {\n        return tokens.reduce(function (prev, t) { return (prev[t.name] = t.token, prev); }, {});\n    }\n    /**\n     * Providers which support debugging Angular applications (e.g. via `ng.probe`).\n     */\n    var ELEMENT_PROBE_PROVIDERS = [\n        {\n            provide: core.APP_INITIALIZER,\n            useFactory: _createNgProbe,\n            deps: [\n                [core.NgProbeToken, new core.Optional()],\n            ],\n            multi: true,\n        },\n    ];\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * The injection token for the event-manager plug-in service.\n     */\n    var EVENT_MANAGER_PLUGINS = new core.InjectionToken('EventManagerPlugins');\n    /**\n     * An injectable service that provides event management for Angular\n     * through a browser plug-in.\n     */\n    var EventManager = /** @class */ (function () {\n        /**\n         * Initializes an instance of the event-manager service.\n         */\n        function EventManager(plugins, _zone) {\n            var _this = this;\n            this._zone = _zone;\n            this._eventNameToPlugin = new Map();\n            plugins.forEach(function (p) { return p.manager = _this; });\n            this._plugins = plugins.slice().reverse();\n        }\n        /**\n         * Registers a handler for a specific element and event.\n         *\n         * @param element The HTML element to receive event notifications.\n         * @param eventName The name of the event to listen for.\n         * @param handler A function to call when the notification occurs. Receives the\n         * event object as an argument.\n         * @returns  A callback function that can be used to remove the handler.\n         */\n        EventManager.prototype.addEventListener = function (element, eventName, handler) {\n            var plugin = this._findPluginFor(eventName);\n            return plugin.addEventListener(element, eventName, handler);\n        };\n        /**\n         * Registers a global handler for an event in a target view.\n         *\n         * @param target A target for global event notifications. One of \"window\", \"document\", or \"body\".\n         * @param eventName The name of the event to listen for.\n         * @param handler A function to call when the notification occurs. Receives the\n         * event object as an argument.\n         * @returns A callback function that can be used to remove the handler.\n         */\n        EventManager.prototype.addGlobalEventListener = function (target, eventName, handler) {\n            var plugin = this._findPluginFor(eventName);\n            return plugin.addGlobalEventListener(target, eventName, handler);\n        };\n        /**\n         * Retrieves the compilation zone in which event listeners are registered.\n         */\n        EventManager.prototype.getZone = function () { return this._zone; };\n        /** @internal */\n        EventManager.prototype._findPluginFor = function (eventName) {\n            var plugin = this._eventNameToPlugin.get(eventName);\n            if (plugin) {\n                return plugin;\n            }\n            var plugins = this._plugins;\n            for (var i = 0; i < plugins.length; i++) {\n                var plugin_1 = plugins[i];\n                if (plugin_1.supports(eventName)) {\n                    this._eventNameToPlugin.set(eventName, plugin_1);\n                    return plugin_1;\n                }\n            }\n            throw new Error(\"No event manager plugin found for event \" + eventName);\n        };\n        EventManager = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(EVENT_MANAGER_PLUGINS)),\n            __metadata(\"design:paramtypes\", [Array, core.NgZone])\n        ], EventManager);\n        return EventManager;\n    }());\n    var EventManagerPlugin = /** @class */ (function () {\n        function EventManagerPlugin(_doc) {\n            this._doc = _doc;\n        }\n        EventManagerPlugin.prototype.addGlobalEventListener = function (element, eventName, handler) {\n            var target = getDOM().getGlobalEventTarget(this._doc, element);\n            if (!target) {\n                throw new Error(\"Unsupported event target \" + target + \" for event \" + eventName);\n            }\n            return this.addEventListener(target, eventName, handler);\n        };\n        return EventManagerPlugin;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var SharedStylesHost = /** @class */ (function () {\n        function SharedStylesHost() {\n            /** @internal */\n            this._stylesSet = new Set();\n        }\n        SharedStylesHost.prototype.addStyles = function (styles) {\n            var _this = this;\n            var additions = new Set();\n            styles.forEach(function (style) {\n                if (!_this._stylesSet.has(style)) {\n                    _this._stylesSet.add(style);\n                    additions.add(style);\n                }\n            });\n            this.onStylesAdded(additions);\n        };\n        SharedStylesHost.prototype.onStylesAdded = function (additions) { };\n        SharedStylesHost.prototype.getAllStyles = function () { return Array.from(this._stylesSet); };\n        SharedStylesHost = __decorate([\n            core.Injectable()\n        ], SharedStylesHost);\n        return SharedStylesHost;\n    }());\n    var DomSharedStylesHost = /** @class */ (function (_super) {\n        __extends(DomSharedStylesHost, _super);\n        function DomSharedStylesHost(_doc) {\n            var _this = _super.call(this) || this;\n            _this._doc = _doc;\n            _this._hostNodes = new Set();\n            _this._styleNodes = new Set();\n            _this._hostNodes.add(_doc.head);\n            return _this;\n        }\n        DomSharedStylesHost.prototype._addStylesToHost = function (styles, host) {\n            var _this = this;\n            styles.forEach(function (style) {\n                var styleEl = _this._doc.createElement('style');\n                styleEl.textContent = style;\n                _this._styleNodes.add(host.appendChild(styleEl));\n            });\n        };\n        DomSharedStylesHost.prototype.addHost = function (hostNode) {\n            this._addStylesToHost(this._stylesSet, hostNode);\n            this._hostNodes.add(hostNode);\n        };\n        DomSharedStylesHost.prototype.removeHost = function (hostNode) { this._hostNodes.delete(hostNode); };\n        DomSharedStylesHost.prototype.onStylesAdded = function (additions) {\n            var _this = this;\n            this._hostNodes.forEach(function (hostNode) { return _this._addStylesToHost(additions, hostNode); });\n        };\n        DomSharedStylesHost.prototype.ngOnDestroy = function () { this._styleNodes.forEach(function (styleNode) { return getDOM().remove(styleNode); }); };\n        DomSharedStylesHost = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(DOCUMENT)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], DomSharedStylesHost);\n        return DomSharedStylesHost;\n    }(SharedStylesHost));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var NAMESPACE_URIS = {\n        'svg': 'http://www.w3.org/2000/svg',\n        'xhtml': 'http://www.w3.org/1999/xhtml',\n        'xlink': 'http://www.w3.org/1999/xlink',\n        'xml': 'http://www.w3.org/XML/1998/namespace',\n        'xmlns': 'http://www.w3.org/2000/xmlns/',\n    };\n    var COMPONENT_REGEX = /%COMP%/g;\n    var COMPONENT_VARIABLE = '%COMP%';\n    var HOST_ATTR = \"_nghost-\" + COMPONENT_VARIABLE;\n    var CONTENT_ATTR = \"_ngcontent-\" + COMPONENT_VARIABLE;\n    function shimContentAttribute(componentShortId) {\n        return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n    }\n    function shimHostAttribute(componentShortId) {\n        return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n    }\n    function flattenStyles(compId, styles, target) {\n        for (var i = 0; i < styles.length; i++) {\n            var style = styles[i];\n            if (Array.isArray(style)) {\n                flattenStyles(compId, style, target);\n            }\n            else {\n                style = style.replace(COMPONENT_REGEX, compId);\n                target.push(style);\n            }\n        }\n        return target;\n    }\n    function decoratePreventDefault(eventHandler) {\n        return function (event) {\n            var allowDefaultBehavior = eventHandler(event);\n            if (allowDefaultBehavior === false) {\n                // TODO(tbosch): move preventDefault into event plugins...\n                event.preventDefault();\n                event.returnValue = false;\n            }\n        };\n    }\n    var DomRendererFactory2 = /** @class */ (function () {\n        function DomRendererFactory2(eventManager, sharedStylesHost) {\n            this.eventManager = eventManager;\n            this.sharedStylesHost = sharedStylesHost;\n            this.rendererByCompId = new Map();\n            this.defaultRenderer = new DefaultDomRenderer2(eventManager);\n        }\n        DomRendererFactory2.prototype.createRenderer = function (element, type) {\n            if (!element || !type) {\n                return this.defaultRenderer;\n            }\n            switch (type.encapsulation) {\n                case core.ViewEncapsulation.Emulated: {\n                    var renderer = this.rendererByCompId.get(type.id);\n                    if (!renderer) {\n                        renderer =\n                            new EmulatedEncapsulationDomRenderer2(this.eventManager, this.sharedStylesHost, type);\n                        this.rendererByCompId.set(type.id, renderer);\n                    }\n                    renderer.applyToHost(element);\n                    return renderer;\n                }\n                case core.ViewEncapsulation.Native:\n                case core.ViewEncapsulation.ShadowDom:\n                    return new ShadowDomRenderer(this.eventManager, this.sharedStylesHost, element, type);\n                default: {\n                    if (!this.rendererByCompId.has(type.id)) {\n                        var styles = flattenStyles(type.id, type.styles, []);\n                        this.sharedStylesHost.addStyles(styles);\n                        this.rendererByCompId.set(type.id, this.defaultRenderer);\n                    }\n                    return this.defaultRenderer;\n                }\n            }\n        };\n        DomRendererFactory2.prototype.begin = function () { };\n        DomRendererFactory2.prototype.end = function () { };\n        DomRendererFactory2 = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [EventManager, DomSharedStylesHost])\n        ], DomRendererFactory2);\n        return DomRendererFactory2;\n    }());\n    var DefaultDomRenderer2 = /** @class */ (function () {\n        function DefaultDomRenderer2(eventManager) {\n            this.eventManager = eventManager;\n            this.data = Object.create(null);\n        }\n        DefaultDomRenderer2.prototype.destroy = function () { };\n        DefaultDomRenderer2.prototype.createElement = function (name, namespace) {\n            if (namespace) {\n                return document.createElementNS(NAMESPACE_URIS[namespace], name);\n            }\n            return document.createElement(name);\n        };\n        DefaultDomRenderer2.prototype.createComment = function (value) { return document.createComment(value); };\n        DefaultDomRenderer2.prototype.createText = function (value) { return document.createTextNode(value); };\n        DefaultDomRenderer2.prototype.appendChild = function (parent, newChild) { parent.appendChild(newChild); };\n        DefaultDomRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n            if (parent) {\n                parent.insertBefore(newChild, refChild);\n            }\n        };\n        DefaultDomRenderer2.prototype.removeChild = function (parent, oldChild) {\n            if (parent) {\n                parent.removeChild(oldChild);\n            }\n        };\n        DefaultDomRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n            var el = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n                selectorOrNode;\n            if (!el) {\n                throw new Error(\"The selector \\\"\" + selectorOrNode + \"\\\" did not match any elements\");\n            }\n            el.textContent = '';\n            return el;\n        };\n        DefaultDomRenderer2.prototype.parentNode = function (node) { return node.parentNode; };\n        DefaultDomRenderer2.prototype.nextSibling = function (node) { return node.nextSibling; };\n        DefaultDomRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n            if (namespace) {\n                name = namespace + \":\" + name;\n                var namespaceUri = NAMESPACE_URIS[namespace];\n                if (namespaceUri) {\n                    el.setAttributeNS(namespaceUri, name, value);\n                }\n                else {\n                    el.setAttribute(name, value);\n                }\n            }\n            else {\n                el.setAttribute(name, value);\n            }\n        };\n        DefaultDomRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n            if (namespace) {\n                var namespaceUri = NAMESPACE_URIS[namespace];\n                if (namespaceUri) {\n                    el.removeAttributeNS(namespaceUri, name);\n                }\n                else {\n                    el.removeAttribute(namespace + \":\" + name);\n                }\n            }\n            else {\n                el.removeAttribute(name);\n            }\n        };\n        DefaultDomRenderer2.prototype.addClass = function (el, name) { el.classList.add(name); };\n        DefaultDomRenderer2.prototype.removeClass = function (el, name) { el.classList.remove(name); };\n        DefaultDomRenderer2.prototype.setStyle = function (el, style, value, flags) {\n            if (flags & core.RendererStyleFlags2.DashCase) {\n                el.style.setProperty(style, value, !!(flags & core.RendererStyleFlags2.Important) ? 'important' : '');\n            }\n            else {\n                el.style[style] = value;\n            }\n        };\n        DefaultDomRenderer2.prototype.removeStyle = function (el, style, flags) {\n            if (flags & core.RendererStyleFlags2.DashCase) {\n                el.style.removeProperty(style);\n            }\n            else {\n                // IE requires '' instead of null\n                // see https://github.com/angular/angular/issues/7916\n                el.style[style] = '';\n            }\n        };\n        DefaultDomRenderer2.prototype.setProperty = function (el, name, value) {\n            checkNoSyntheticProp(name, 'property');\n            el[name] = value;\n        };\n        DefaultDomRenderer2.prototype.setValue = function (node, value) { node.nodeValue = value; };\n        DefaultDomRenderer2.prototype.listen = function (target, event, callback) {\n            checkNoSyntheticProp(event, 'listener');\n            if (typeof target === 'string') {\n                return this.eventManager.addGlobalEventListener(target, event, decoratePreventDefault(callback));\n            }\n            return this.eventManager.addEventListener(target, event, decoratePreventDefault(callback));\n        };\n        return DefaultDomRenderer2;\n    }());\n    var AT_CHARCODE = '@'.charCodeAt(0);\n    function checkNoSyntheticProp(name, nameKind) {\n        if (name.charCodeAt(0) === AT_CHARCODE) {\n            throw new Error(\"Found the synthetic \" + nameKind + \" \" + name + \". Please include either \\\"BrowserAnimationsModule\\\" or \\\"NoopAnimationsModule\\\" in your application.\");\n        }\n    }\n    var EmulatedEncapsulationDomRenderer2 = /** @class */ (function (_super) {\n        __extends(EmulatedEncapsulationDomRenderer2, _super);\n        function EmulatedEncapsulationDomRenderer2(eventManager, sharedStylesHost, component) {\n            var _this = _super.call(this, eventManager) || this;\n            _this.component = component;\n            var styles = flattenStyles(component.id, component.styles, []);\n            sharedStylesHost.addStyles(styles);\n            _this.contentAttr = shimContentAttribute(component.id);\n            _this.hostAttr = shimHostAttribute(component.id);\n            return _this;\n        }\n        EmulatedEncapsulationDomRenderer2.prototype.applyToHost = function (element) { _super.prototype.setAttribute.call(this, element, this.hostAttr, ''); };\n        EmulatedEncapsulationDomRenderer2.prototype.createElement = function (parent, name) {\n            var el = _super.prototype.createElement.call(this, parent, name);\n            _super.prototype.setAttribute.call(this, el, this.contentAttr, '');\n            return el;\n        };\n        return EmulatedEncapsulationDomRenderer2;\n    }(DefaultDomRenderer2));\n    var ShadowDomRenderer = /** @class */ (function (_super) {\n        __extends(ShadowDomRenderer, _super);\n        function ShadowDomRenderer(eventManager, sharedStylesHost, hostEl, component) {\n            var _this = _super.call(this, eventManager) || this;\n            _this.sharedStylesHost = sharedStylesHost;\n            _this.hostEl = hostEl;\n            _this.component = component;\n            if (component.encapsulation === core.ViewEncapsulation.ShadowDom) {\n                _this.shadowRoot = hostEl.attachShadow({ mode: 'open' });\n            }\n            else {\n                _this.shadowRoot = hostEl.createShadowRoot();\n            }\n            _this.sharedStylesHost.addHost(_this.shadowRoot);\n            var styles = flattenStyles(component.id, component.styles, []);\n            for (var i = 0; i < styles.length; i++) {\n                var styleEl = document.createElement('style');\n                styleEl.textContent = styles[i];\n                _this.shadowRoot.appendChild(styleEl);\n            }\n            return _this;\n        }\n        ShadowDomRenderer.prototype.nodeOrShadowRoot = function (node) { return node === this.hostEl ? this.shadowRoot : node; };\n        ShadowDomRenderer.prototype.destroy = function () { this.sharedStylesHost.removeHost(this.shadowRoot); };\n        ShadowDomRenderer.prototype.appendChild = function (parent, newChild) {\n            return _super.prototype.appendChild.call(this, this.nodeOrShadowRoot(parent), newChild);\n        };\n        ShadowDomRenderer.prototype.insertBefore = function (parent, newChild, refChild) {\n            return _super.prototype.insertBefore.call(this, this.nodeOrShadowRoot(parent), newChild, refChild);\n        };\n        ShadowDomRenderer.prototype.removeChild = function (parent, oldChild) {\n            return _super.prototype.removeChild.call(this, this.nodeOrShadowRoot(parent), oldChild);\n        };\n        ShadowDomRenderer.prototype.parentNode = function (node) {\n            return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this, this.nodeOrShadowRoot(node)));\n        };\n        return ShadowDomRenderer;\n    }(DefaultDomRenderer2));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ɵ0 = function (v) {\n        return '__zone_symbol__' + v;\n    };\n    /**\n     * Detect if Zone is present. If it is then use simple zone aware 'addEventListener'\n     * since Angular can do much more\n     * efficient bookkeeping than Zone can, because we have additional information. This speeds up\n     * addEventListener by 3x.\n     */\n    var __symbol__ = (typeof Zone !== 'undefined') && Zone['__symbol__'] || ɵ0;\n    var ADD_EVENT_LISTENER = __symbol__('addEventListener');\n    var REMOVE_EVENT_LISTENER = __symbol__('removeEventListener');\n    var symbolNames = {};\n    var FALSE = 'FALSE';\n    var ANGULAR = 'ANGULAR';\n    var NATIVE_ADD_LISTENER = 'addEventListener';\n    var NATIVE_REMOVE_LISTENER = 'removeEventListener';\n    // use the same symbol string which is used in zone.js\n    var stopSymbol = '__zone_symbol__propagationStopped';\n    var stopMethodSymbol = '__zone_symbol__stopImmediatePropagation';\n    var blackListedEvents = (typeof Zone !== 'undefined') && Zone[__symbol__('BLACK_LISTED_EVENTS')];\n    var blackListedMap;\n    if (blackListedEvents) {\n        blackListedMap = {};\n        blackListedEvents.forEach(function (eventName) { blackListedMap[eventName] = eventName; });\n    }\n    var isBlackListedEvent = function (eventName) {\n        if (!blackListedMap) {\n            return false;\n        }\n        return blackListedMap.hasOwnProperty(eventName);\n    };\n    // a global listener to handle all dom event,\n    // so we do not need to create a closure every time\n    var globalListener = function (event) {\n        var symbolName = symbolNames[event.type];\n        if (!symbolName) {\n            return;\n        }\n        var taskDatas = this[symbolName];\n        if (!taskDatas) {\n            return;\n        }\n        var args = [event];\n        if (taskDatas.length === 1) {\n            // if taskDatas only have one element, just invoke it\n            var taskData = taskDatas[0];\n            if (taskData.zone !== Zone.current) {\n                // only use Zone.run when Zone.current not equals to stored zone\n                return taskData.zone.run(taskData.handler, this, args);\n            }\n            else {\n                return taskData.handler.apply(this, args);\n            }\n        }\n        else {\n            // copy tasks as a snapshot to avoid event handlers remove\n            // itself or others\n            var copiedTasks = taskDatas.slice();\n            for (var i = 0; i < copiedTasks.length; i++) {\n                // if other listener call event.stopImmediatePropagation\n                // just break\n                if (event[stopSymbol] === true) {\n                    break;\n                }\n                var taskData = copiedTasks[i];\n                if (taskData.zone !== Zone.current) {\n                    // only use Zone.run when Zone.current not equals to stored zone\n                    taskData.zone.run(taskData.handler, this, args);\n                }\n                else {\n                    taskData.handler.apply(this, args);\n                }\n            }\n        }\n    };\n    var DomEventsPlugin = /** @class */ (function (_super) {\n        __extends(DomEventsPlugin, _super);\n        function DomEventsPlugin(doc, ngZone, platformId) {\n            var _this = _super.call(this, doc) || this;\n            _this.ngZone = ngZone;\n            if (!platformId || !common.isPlatformServer(platformId)) {\n                _this.patchEvent();\n            }\n            return _this;\n        }\n        DomEventsPlugin.prototype.patchEvent = function () {\n            if (typeof Event === 'undefined' || !Event || !Event.prototype) {\n                return;\n            }\n            if (Event.prototype[stopMethodSymbol]) {\n                // already patched by zone.js\n                return;\n            }\n            var delegate = Event.prototype[stopMethodSymbol] =\n                Event.prototype.stopImmediatePropagation;\n            Event.prototype.stopImmediatePropagation = function () {\n                if (this) {\n                    this[stopSymbol] = true;\n                }\n                // should call native delegate in case\n                // in some environment part of the application\n                // will not use the patched Event\n                delegate && delegate.apply(this, arguments);\n            };\n        };\n        // This plugin should come last in the list of plugins, because it accepts all\n        // events.\n        DomEventsPlugin.prototype.supports = function (eventName) { return true; };\n        DomEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {\n            var _this = this;\n            var zoneJsLoaded = element[ADD_EVENT_LISTENER];\n            var callback = handler;\n            // if zonejs is loaded and current zone is not ngZone\n            // we keep Zone.current on target for later restoration.\n            if (zoneJsLoaded && (!core.NgZone.isInAngularZone() || isBlackListedEvent(eventName))) {\n                var symbolName = symbolNames[eventName];\n                if (!symbolName) {\n                    symbolName = symbolNames[eventName] = __symbol__(ANGULAR + eventName + FALSE);\n                }\n                var taskDatas = element[symbolName];\n                var globalListenerRegistered = taskDatas && taskDatas.length > 0;\n                if (!taskDatas) {\n                    taskDatas = element[symbolName] = [];\n                }\n                var zone = isBlackListedEvent(eventName) ? Zone.root : Zone.current;\n                if (taskDatas.length === 0) {\n                    taskDatas.push({ zone: zone, handler: callback });\n                }\n                else {\n                    var callbackRegistered = false;\n                    for (var i = 0; i < taskDatas.length; i++) {\n                        if (taskDatas[i].handler === callback) {\n                            callbackRegistered = true;\n                            break;\n                        }\n                    }\n                    if (!callbackRegistered) {\n                        taskDatas.push({ zone: zone, handler: callback });\n                    }\n                }\n                if (!globalListenerRegistered) {\n                    element[ADD_EVENT_LISTENER](eventName, globalListener, false);\n                }\n            }\n            else {\n                element[NATIVE_ADD_LISTENER](eventName, callback, false);\n            }\n            return function () { return _this.removeEventListener(element, eventName, callback); };\n        };\n        DomEventsPlugin.prototype.removeEventListener = function (target, eventName, callback) {\n            var underlyingRemove = target[REMOVE_EVENT_LISTENER];\n            // zone.js not loaded, use native removeEventListener\n            if (!underlyingRemove) {\n                return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n            }\n            var symbolName = symbolNames[eventName];\n            var taskDatas = symbolName && target[symbolName];\n            if (!taskDatas) {\n                // addEventListener not using patched version\n                // just call native removeEventListener\n                return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n            }\n            // fix issue 20532, should be able to remove\n            // listener which was added inside of ngZone\n            var found = false;\n            for (var i = 0; i < taskDatas.length; i++) {\n                // remove listener from taskDatas if the callback equals\n                if (taskDatas[i].handler === callback) {\n                    found = true;\n                    taskDatas.splice(i, 1);\n                    break;\n                }\n            }\n            if (found) {\n                if (taskDatas.length === 0) {\n                    // all listeners are removed, we can remove the globalListener from target\n                    underlyingRemove.apply(target, [eventName, globalListener, false]);\n                }\n            }\n            else {\n                // not found in taskDatas, the callback may be added inside of ngZone\n                // use native remove listener to remove the callback\n                target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n            }\n        };\n        DomEventsPlugin = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(DOCUMENT)),\n            __param(2, core.Optional()), __param(2, core.Inject(core.PLATFORM_ID)),\n            __metadata(\"design:paramtypes\", [Object, core.NgZone, Object])\n        ], DomEventsPlugin);\n        return DomEventsPlugin;\n    }(EventManagerPlugin));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Supported HammerJS recognizer event names.\n     */\n    var EVENT_NAMES = {\n        // pan\n        'pan': true,\n        'panstart': true,\n        'panmove': true,\n        'panend': true,\n        'pancancel': true,\n        'panleft': true,\n        'panright': true,\n        'panup': true,\n        'pandown': true,\n        // pinch\n        'pinch': true,\n        'pinchstart': true,\n        'pinchmove': true,\n        'pinchend': true,\n        'pinchcancel': true,\n        'pinchin': true,\n        'pinchout': true,\n        // press\n        'press': true,\n        'pressup': true,\n        // rotate\n        'rotate': true,\n        'rotatestart': true,\n        'rotatemove': true,\n        'rotateend': true,\n        'rotatecancel': true,\n        // swipe\n        'swipe': true,\n        'swipeleft': true,\n        'swiperight': true,\n        'swipeup': true,\n        'swipedown': true,\n        // tap\n        'tap': true,\n    };\n    /**\n     * DI token for providing [HammerJS](http://hammerjs.github.io/) support to Angular.\n     * @see `HammerGestureConfig`\n     *\n     * @experimental\n     */\n    var HAMMER_GESTURE_CONFIG = new core.InjectionToken('HammerGestureConfig');\n    /** Injection token used to provide a {@link HammerLoader} to Angular. */\n    var HAMMER_LOADER = new core.InjectionToken('HammerLoader');\n    /**\n     * An injectable [HammerJS Manager](http://hammerjs.github.io/api/#hammer.manager)\n     * for gesture recognition. Configures specific event recognition.\n     * @experimental\n     */\n    var HammerGestureConfig = /** @class */ (function () {\n        function HammerGestureConfig() {\n            /**\n             * A set of supported event names for gestures to be used in Angular.\n             * Angular supports all built-in recognizers, as listed in\n             * [HammerJS documentation](http://hammerjs.github.io/).\n             */\n            this.events = [];\n            /**\n            * Maps gesture event names to a set of configuration options\n            * that specify overrides to the default values for specific properties.\n            *\n            * The key is a supported event name to be configured,\n            * and the options object contains a set of properties, with override values\n            * to be applied to the named recognizer event.\n            * For example, to disable recognition of the rotate event, specify\n            *  `{\"rotate\": {\"enable\": false}}`.\n            *\n            * Properties that are not present take the HammerJS default values.\n            * For information about which properties are supported for which events,\n            * and their allowed and default values, see\n            * [HammerJS documentation](http://hammerjs.github.io/).\n            *\n            */\n            this.overrides = {};\n        }\n        /**\n         * Creates a [HammerJS Manager](http://hammerjs.github.io/api/#hammer.manager)\n         * and attaches it to a given HTML element.\n         * @param element The element that will recognize gestures.\n         * @returns A HammerJS event-manager object.\n         */\n        HammerGestureConfig.prototype.buildHammer = function (element) {\n            var mc = new Hammer(element, this.options);\n            mc.get('pinch').set({ enable: true });\n            mc.get('rotate').set({ enable: true });\n            for (var eventName in this.overrides) {\n                mc.get(eventName).set(this.overrides[eventName]);\n            }\n            return mc;\n        };\n        HammerGestureConfig = __decorate([\n            core.Injectable()\n        ], HammerGestureConfig);\n        return HammerGestureConfig;\n    }());\n    var HammerGesturesPlugin = /** @class */ (function (_super) {\n        __extends(HammerGesturesPlugin, _super);\n        function HammerGesturesPlugin(doc, _config, console, loader) {\n            var _this = _super.call(this, doc) || this;\n            _this._config = _config;\n            _this.console = console;\n            _this.loader = loader;\n            return _this;\n        }\n        HammerGesturesPlugin.prototype.supports = function (eventName) {\n            if (!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase()) && !this.isCustomEvent(eventName)) {\n                return false;\n            }\n            if (!window.Hammer && !this.loader) {\n                this.console.warn(\"The \\\"\" + eventName + \"\\\" event cannot be bound because Hammer.JS is not \" +\n                    \"loaded and no custom loader has been specified.\");\n                return false;\n            }\n            return true;\n        };\n        HammerGesturesPlugin.prototype.addEventListener = function (element, eventName, handler) {\n            var _this = this;\n            var zone = this.manager.getZone();\n            eventName = eventName.toLowerCase();\n            // If Hammer is not present but a loader is specified, we defer adding the event listener\n            // until Hammer is loaded.\n            if (!window.Hammer && this.loader) {\n                // This `addEventListener` method returns a function to remove the added listener.\n                // Until Hammer is loaded, the returned function needs to *cancel* the registration rather\n                // than remove anything.\n                var cancelRegistration_1 = false;\n                var deregister_1 = function () { cancelRegistration_1 = true; };\n                this.loader()\n                    .then(function () {\n                    // If Hammer isn't actually loaded when the custom loader resolves, give up.\n                    if (!window.Hammer) {\n                        _this.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\");\n                        deregister_1 = function () { };\n                        return;\n                    }\n                    if (!cancelRegistration_1) {\n                        // Now that Hammer is loaded and the listener is being loaded for real,\n                        // the deregistration function changes from canceling registration to removal.\n                        deregister_1 = _this.addEventListener(element, eventName, handler);\n                    }\n                })\n                    .catch(function () {\n                    _this.console.warn(\"The \\\"\" + eventName + \"\\\" event cannot be bound because the custom \" +\n                        \"Hammer.JS loader failed.\");\n                    deregister_1 = function () { };\n                });\n                // Return a function that *executes* `deregister` (and not `deregister` itself) so that we\n                // can change the behavior of `deregister` once the listener is added. Using a closure in\n                // this way allows us to avoid any additional data structures to track listener removal.\n                return function () { deregister_1(); };\n            }\n            return zone.runOutsideAngular(function () {\n                // Creating the manager bind events, must be done outside of angular\n                var mc = _this._config.buildHammer(element);\n                var callback = function (eventObj) {\n                    zone.runGuarded(function () { handler(eventObj); });\n                };\n                mc.on(eventName, callback);\n                return function () {\n                    mc.off(eventName, callback);\n                    // destroy mc to prevent memory leak\n                    if (typeof mc.destroy === 'function') {\n                        mc.destroy();\n                    }\n                };\n            });\n        };\n        HammerGesturesPlugin.prototype.isCustomEvent = function (eventName) { return this._config.events.indexOf(eventName) > -1; };\n        HammerGesturesPlugin = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(DOCUMENT)),\n            __param(1, core.Inject(HAMMER_GESTURE_CONFIG)),\n            __param(3, core.Optional()), __param(3, core.Inject(HAMMER_LOADER)),\n            __metadata(\"design:paramtypes\", [Object, HammerGestureConfig, core.ɵConsole, Object])\n        ], HammerGesturesPlugin);\n        return HammerGesturesPlugin;\n    }(EventManagerPlugin));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Defines supported modifiers for key events.\n     */\n    var MODIFIER_KEYS = ['alt', 'control', 'meta', 'shift'];\n    var ɵ0$1 = function (event) { return event.altKey; }, ɵ1$1 = function (event) { return event.ctrlKey; }, ɵ2$1 = function (event) { return event.metaKey; }, ɵ3 = function (event) { return event.shiftKey; };\n    /**\n     * Retrieves modifiers from key-event objects.\n     */\n    var MODIFIER_KEY_GETTERS = {\n        'alt': ɵ0$1,\n        'control': ɵ1$1,\n        'meta': ɵ2$1,\n        'shift': ɵ3\n    };\n    /**\n     * @experimental\n     * A browser plug-in that provides support for handling of key events in Angular.\n     */\n    var KeyEventsPlugin = /** @class */ (function (_super) {\n        __extends(KeyEventsPlugin, _super);\n        /**\n         * Initializes an instance of the browser plug-in.\n         * @param doc The document in which key events will be detected.\n         */\n        function KeyEventsPlugin(doc) {\n            return _super.call(this, doc) || this;\n        }\n        KeyEventsPlugin_1 = KeyEventsPlugin;\n        /**\n          * Reports whether a named key event is supported.\n          * @param eventName The event name to query.\n          * @return True if the named key event is supported.\n         */\n        KeyEventsPlugin.prototype.supports = function (eventName) { return KeyEventsPlugin_1.parseEventName(eventName) != null; };\n        /**\n         * Registers a handler for a specific element and key event.\n         * @param element The HTML element to receive event notifications.\n         * @param eventName The name of the key event to listen for.\n         * @param handler A function to call when the notification occurs. Receives the\n         * event object as an argument.\n         * @returns The key event that was registered.\n        */\n        KeyEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {\n            var parsedEvent = KeyEventsPlugin_1.parseEventName(eventName);\n            var outsideHandler = KeyEventsPlugin_1.eventCallback(parsedEvent['fullKey'], handler, this.manager.getZone());\n            return this.manager.getZone().runOutsideAngular(function () {\n                return getDOM().onAndCancel(element, parsedEvent['domEventName'], outsideHandler);\n            });\n        };\n        KeyEventsPlugin.parseEventName = function (eventName) {\n            var parts = eventName.toLowerCase().split('.');\n            var domEventName = parts.shift();\n            if ((parts.length === 0) || !(domEventName === 'keydown' || domEventName === 'keyup')) {\n                return null;\n            }\n            var key = KeyEventsPlugin_1._normalizeKey(parts.pop());\n            var fullKey = '';\n            MODIFIER_KEYS.forEach(function (modifierName) {\n                var index = parts.indexOf(modifierName);\n                if (index > -1) {\n                    parts.splice(index, 1);\n                    fullKey += modifierName + '.';\n                }\n            });\n            fullKey += key;\n            if (parts.length != 0 || key.length === 0) {\n                // returning null instead of throwing to let another plugin process the event\n                return null;\n            }\n            var result = {};\n            result['domEventName'] = domEventName;\n            result['fullKey'] = fullKey;\n            return result;\n        };\n        KeyEventsPlugin.getEventFullKey = function (event) {\n            var fullKey = '';\n            var key = getDOM().getEventKey(event);\n            key = key.toLowerCase();\n            if (key === ' ') {\n                key = 'space'; // for readability\n            }\n            else if (key === '.') {\n                key = 'dot'; // because '.' is used as a separator in event names\n            }\n            MODIFIER_KEYS.forEach(function (modifierName) {\n                if (modifierName != key) {\n                    var modifierGetter = MODIFIER_KEY_GETTERS[modifierName];\n                    if (modifierGetter(event)) {\n                        fullKey += modifierName + '.';\n                    }\n                }\n            });\n            fullKey += key;\n            return fullKey;\n        };\n        /**\n         * Configures a handler callback for a key event.\n         * @param fullKey The event name that combines all simultaneous keystrokes.\n         * @param handler The function that responds to the key event.\n         * @param zone The zone in which the event occurred.\n         * @returns A callback function.\n         */\n        KeyEventsPlugin.eventCallback = function (fullKey, handler, zone) {\n            return function (event /** TODO #9100 */) {\n                if (KeyEventsPlugin_1.getEventFullKey(event) === fullKey) {\n                    zone.runGuarded(function () { return handler(event); });\n                }\n            };\n        };\n        /** @internal */\n        KeyEventsPlugin._normalizeKey = function (keyName) {\n            // TODO: switch to a Map if the mapping grows too much\n            switch (keyName) {\n                case 'esc':\n                    return 'escape';\n                default:\n                    return keyName;\n            }\n        };\n        var KeyEventsPlugin_1;\n        KeyEventsPlugin = KeyEventsPlugin_1 = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(DOCUMENT)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], KeyEventsPlugin);\n        return KeyEventsPlugin;\n    }(EventManagerPlugin));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * DomSanitizer helps preventing Cross Site Scripting Security bugs (XSS) by sanitizing\n     * values to be safe to use in the different DOM contexts.\n     *\n     * For example, when binding a URL in an `<a [href]=\"someValue\">` hyperlink, `someValue` will be\n     * sanitized so that an attacker cannot inject e.g. a `javascript:` URL that would execute code on\n     * the website.\n     *\n     * In specific situations, it might be necessary to disable sanitization, for example if the\n     * application genuinely needs to produce a `javascript:` style link with a dynamic value in it.\n     * Users can bypass security by constructing a value with one of the `bypassSecurityTrust...`\n     * methods, and then binding to that value from the template.\n     *\n     * These situations should be very rare, and extraordinary care must be taken to avoid creating a\n     * Cross Site Scripting (XSS) security bug!\n     *\n     * When using `bypassSecurityTrust...`, make sure to call the method as early as possible and as\n     * close as possible to the source of the value, to make it easy to verify no security bug is\n     * created by its use.\n     *\n     * It is not required (and not recommended) to bypass security if the value is safe, e.g. a URL that\n     * does not start with a suspicious protocol, or an HTML snippet that does not contain dangerous\n     * code. The sanitizer leaves safe values intact.\n     *\n     * @security Calling any of the `bypassSecurityTrust...` APIs disables Angular's built-in\n     * sanitization for the value passed in. Carefully check and audit all values and code paths going\n     * into this call. Make sure any user data is appropriately escaped for this security context.\n     * For more detail, see the [Security Guide](http://g.co/ng/security).\n     *\n     *\n     */\n    var DomSanitizer = /** @class */ (function () {\n        function DomSanitizer() {\n        }\n        return DomSanitizer;\n    }());\n    var DomSanitizerImpl = /** @class */ (function (_super) {\n        __extends(DomSanitizerImpl, _super);\n        function DomSanitizerImpl(_doc) {\n            var _this = _super.call(this) || this;\n            _this._doc = _doc;\n            return _this;\n        }\n        DomSanitizerImpl.prototype.sanitize = function (ctx, value) {\n            if (value == null)\n                return null;\n            switch (ctx) {\n                case core.SecurityContext.NONE:\n                    return value;\n                case core.SecurityContext.HTML:\n                    if (value instanceof SafeHtmlImpl)\n                        return value.changingThisBreaksApplicationSecurity;\n                    this.checkNotSafeValue(value, 'HTML');\n                    return core.ɵ_sanitizeHtml(this._doc, String(value));\n                case core.SecurityContext.STYLE:\n                    if (value instanceof SafeStyleImpl)\n                        return value.changingThisBreaksApplicationSecurity;\n                    this.checkNotSafeValue(value, 'Style');\n                    return core.ɵ_sanitizeStyle(value);\n                case core.SecurityContext.SCRIPT:\n                    if (value instanceof SafeScriptImpl)\n                        return value.changingThisBreaksApplicationSecurity;\n                    this.checkNotSafeValue(value, 'Script');\n                    throw new Error('unsafe value used in a script context');\n                case core.SecurityContext.URL:\n                    if (value instanceof SafeResourceUrlImpl || value instanceof SafeUrlImpl) {\n                        // Allow resource URLs in URL contexts, they are strictly more trusted.\n                        return value.changingThisBreaksApplicationSecurity;\n                    }\n                    this.checkNotSafeValue(value, 'URL');\n                    return core.ɵ_sanitizeUrl(String(value));\n                case core.SecurityContext.RESOURCE_URL:\n                    if (value instanceof SafeResourceUrlImpl) {\n                        return value.changingThisBreaksApplicationSecurity;\n                    }\n                    this.checkNotSafeValue(value, 'ResourceURL');\n                    throw new Error('unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');\n                default:\n                    throw new Error(\"Unexpected SecurityContext \" + ctx + \" (see http://g.co/ng/security#xss)\");\n            }\n        };\n        DomSanitizerImpl.prototype.checkNotSafeValue = function (value, expectedType) {\n            if (value instanceof SafeValueImpl) {\n                throw new Error(\"Required a safe \" + expectedType + \", got a \" + value.getTypeName() + \" \" +\n                    \"(see http://g.co/ng/security#xss)\");\n            }\n        };\n        DomSanitizerImpl.prototype.bypassSecurityTrustHtml = function (value) { return new SafeHtmlImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustStyle = function (value) { return new SafeStyleImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustScript = function (value) { return new SafeScriptImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustUrl = function (value) { return new SafeUrlImpl(value); };\n        DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl = function (value) {\n            return new SafeResourceUrlImpl(value);\n        };\n        DomSanitizerImpl = __decorate([\n            core.Injectable(),\n            __param(0, core.Inject(DOCUMENT)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], DomSanitizerImpl);\n        return DomSanitizerImpl;\n    }(DomSanitizer));\n    var SafeValueImpl = /** @class */ (function () {\n        function SafeValueImpl(changingThisBreaksApplicationSecurity) {\n            this.changingThisBreaksApplicationSecurity = changingThisBreaksApplicationSecurity;\n            // empty\n        }\n        SafeValueImpl.prototype.toString = function () {\n            return \"SafeValue must use [property]=binding: \" + this.changingThisBreaksApplicationSecurity +\n                \" (see http://g.co/ng/security#xss)\";\n        };\n        return SafeValueImpl;\n    }());\n    var SafeHtmlImpl = /** @class */ (function (_super) {\n        __extends(SafeHtmlImpl, _super);\n        function SafeHtmlImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeHtmlImpl.prototype.getTypeName = function () { return 'HTML'; };\n        return SafeHtmlImpl;\n    }(SafeValueImpl));\n    var SafeStyleImpl = /** @class */ (function (_super) {\n        __extends(SafeStyleImpl, _super);\n        function SafeStyleImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeStyleImpl.prototype.getTypeName = function () { return 'Style'; };\n        return SafeStyleImpl;\n    }(SafeValueImpl));\n    var SafeScriptImpl = /** @class */ (function (_super) {\n        __extends(SafeScriptImpl, _super);\n        function SafeScriptImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeScriptImpl.prototype.getTypeName = function () { return 'Script'; };\n        return SafeScriptImpl;\n    }(SafeValueImpl));\n    var SafeUrlImpl = /** @class */ (function (_super) {\n        __extends(SafeUrlImpl, _super);\n        function SafeUrlImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeUrlImpl.prototype.getTypeName = function () { return 'URL'; };\n        return SafeUrlImpl;\n    }(SafeValueImpl));\n    var SafeResourceUrlImpl = /** @class */ (function (_super) {\n        __extends(SafeResourceUrlImpl, _super);\n        function SafeResourceUrlImpl() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        SafeResourceUrlImpl.prototype.getTypeName = function () { return 'ResourceURL'; };\n        return SafeResourceUrlImpl;\n    }(SafeValueImpl));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var INTERNAL_BROWSER_PLATFORM_PROVIDERS = [\n        { provide: core.PLATFORM_ID, useValue: common.ɵPLATFORM_BROWSER_ID },\n        { provide: core.PLATFORM_INITIALIZER, useValue: initDomAdapter, multi: true },\n        { provide: common.PlatformLocation, useClass: BrowserPlatformLocation, deps: [DOCUMENT] },\n        { provide: DOCUMENT, useFactory: _document, deps: [] },\n    ];\n    /**\n     * @security Replacing built-in sanitization providers exposes the application to XSS risks.\n     * Attacker-controlled data introduced by an unsanitized provider could expose your\n     * application to XSS risks. For more detail, see the [Security Guide](http://g.co/ng/security).\n     * @experimental\n     */\n    var BROWSER_SANITIZATION_PROVIDERS = [\n        { provide: core.Sanitizer, useExisting: DomSanitizer },\n        { provide: DomSanitizer, useClass: DomSanitizerImpl, deps: [DOCUMENT] },\n    ];\n    var platformBrowser = core.createPlatformFactory(core.platformCore, 'browser', INTERNAL_BROWSER_PLATFORM_PROVIDERS);\n    function initDomAdapter() {\n        BrowserDomAdapter.makeCurrent();\n        BrowserGetTestability.init();\n    }\n    function errorHandler() {\n        return new core.ErrorHandler();\n    }\n    function _document() {\n        return document;\n    }\n    var BROWSER_MODULE_PROVIDERS = [\n        BROWSER_SANITIZATION_PROVIDERS,\n        { provide: core.ɵAPP_ROOT, useValue: true },\n        { provide: core.ErrorHandler, useFactory: errorHandler, deps: [] },\n        {\n            provide: EVENT_MANAGER_PLUGINS,\n            useClass: DomEventsPlugin,\n            multi: true,\n            deps: [DOCUMENT, core.NgZone, core.PLATFORM_ID]\n        },\n        { provide: EVENT_MANAGER_PLUGINS, useClass: KeyEventsPlugin, multi: true, deps: [DOCUMENT] },\n        {\n            provide: EVENT_MANAGER_PLUGINS,\n            useClass: HammerGesturesPlugin,\n            multi: true,\n            deps: [DOCUMENT, HAMMER_GESTURE_CONFIG, core.ɵConsole, [new core.Optional(), HAMMER_LOADER]]\n        },\n        { provide: HAMMER_GESTURE_CONFIG, useClass: HammerGestureConfig, deps: [] },\n        {\n            provide: DomRendererFactory2,\n            useClass: DomRendererFactory2,\n            deps: [EventManager, DomSharedStylesHost]\n        },\n        { provide: core.RendererFactory2, useExisting: DomRendererFactory2 },\n        { provide: SharedStylesHost, useExisting: DomSharedStylesHost },\n        { provide: DomSharedStylesHost, useClass: DomSharedStylesHost, deps: [DOCUMENT] },\n        { provide: core.Testability, useClass: core.Testability, deps: [core.NgZone] },\n        { provide: EventManager, useClass: EventManager, deps: [EVENT_MANAGER_PLUGINS, core.NgZone] },\n        ELEMENT_PROBE_PROVIDERS,\n    ];\n    /**\n     * Exports required infrastructure for all Angular apps.\n     * Included by defaults in all Angular apps created with the CLI\n     * `new` command.\n     * Re-exports `CommonModule` and `ApplicationModule`, making their\n     * exports and providers available to all apps.\n     *\n     *\n     */\n    var BrowserModule = /** @class */ (function () {\n        function BrowserModule(parentModule) {\n            if (parentModule) {\n                throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\");\n            }\n        }\n        BrowserModule_1 = BrowserModule;\n        /**\n         * Configures a browser-based app to transition from a server-rendered app, if\n         * one is present on the page.\n         *\n         * @param params An object containing an identifier for the app to transition.\n         * The ID must match between the client and server versions of the app.\n         * @returns The reconfigured `BrowserModule` to import into the app's root `AppModule`.\n         *\n         * @experimental\n         */\n        BrowserModule.withServerTransition = function (params) {\n            return {\n                ngModule: BrowserModule_1,\n                providers: [\n                    { provide: core.APP_ID, useValue: params.appId },\n                    { provide: TRANSITION_ID, useExisting: core.APP_ID },\n                    SERVER_TRANSITION_PROVIDERS,\n                ],\n            };\n        };\n        var BrowserModule_1;\n        BrowserModule = BrowserModule_1 = __decorate([\n            core.NgModule({ providers: BROWSER_MODULE_PROVIDERS, exports: [common.CommonModule, core.ApplicationModule] }),\n            __param(0, core.Optional()), __param(0, core.SkipSelf()), __param(0, core.Inject(BrowserModule_1)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], BrowserModule);\n        return BrowserModule;\n    }());\n\n    /**\n     * Factory to create Meta service.\n     */\n    function createMeta() {\n        return new Meta(core.inject(DOCUMENT));\n    }\n    /**\n     * A service that can be used to get and add meta tags.\n     *\n     * @experimental\n     */\n    var Meta = /** @class */ (function () {\n        function Meta(_doc) {\n            this._doc = _doc;\n            this._dom = getDOM();\n        }\n        Meta.prototype.addTag = function (tag, forceCreation) {\n            if (forceCreation === void 0) { forceCreation = false; }\n            if (!tag)\n                return null;\n            return this._getOrCreateElement(tag, forceCreation);\n        };\n        Meta.prototype.addTags = function (tags, forceCreation) {\n            var _this = this;\n            if (forceCreation === void 0) { forceCreation = false; }\n            if (!tags)\n                return [];\n            return tags.reduce(function (result, tag) {\n                if (tag) {\n                    result.push(_this._getOrCreateElement(tag, forceCreation));\n                }\n                return result;\n            }, []);\n        };\n        Meta.prototype.getTag = function (attrSelector) {\n            if (!attrSelector)\n                return null;\n            return this._dom.querySelector(this._doc, \"meta[\" + attrSelector + \"]\") || null;\n        };\n        Meta.prototype.getTags = function (attrSelector) {\n            if (!attrSelector)\n                return [];\n            var list /*NodeList*/ = this._dom.querySelectorAll(this._doc, \"meta[\" + attrSelector + \"]\");\n            return list ? [].slice.call(list) : [];\n        };\n        Meta.prototype.updateTag = function (tag, selector) {\n            if (!tag)\n                return null;\n            selector = selector || this._parseSelector(tag);\n            var meta = this.getTag(selector);\n            if (meta) {\n                return this._setMetaElementAttributes(tag, meta);\n            }\n            return this._getOrCreateElement(tag, true);\n        };\n        Meta.prototype.removeTag = function (attrSelector) { this.removeTagElement(this.getTag(attrSelector)); };\n        Meta.prototype.removeTagElement = function (meta) {\n            if (meta) {\n                this._dom.remove(meta);\n            }\n        };\n        Meta.prototype._getOrCreateElement = function (meta, forceCreation) {\n            if (forceCreation === void 0) { forceCreation = false; }\n            if (!forceCreation) {\n                var selector = this._parseSelector(meta);\n                var elem = this.getTag(selector);\n                // It's allowed to have multiple elements with the same name so it's not enough to\n                // just check that element with the same name already present on the page. We also need to\n                // check if element has tag attributes\n                if (elem && this._containsAttributes(meta, elem))\n                    return elem;\n            }\n            var element = this._dom.createElement('meta');\n            this._setMetaElementAttributes(meta, element);\n            var head = this._dom.getElementsByTagName(this._doc, 'head')[0];\n            this._dom.appendChild(head, element);\n            return element;\n        };\n        Meta.prototype._setMetaElementAttributes = function (tag, el) {\n            var _this = this;\n            Object.keys(tag).forEach(function (prop) { return _this._dom.setAttribute(el, prop, tag[prop]); });\n            return el;\n        };\n        Meta.prototype._parseSelector = function (tag) {\n            var attr = tag.name ? 'name' : 'property';\n            return attr + \"=\\\"\" + tag[attr] + \"\\\"\";\n        };\n        Meta.prototype._containsAttributes = function (tag, elem) {\n            var _this = this;\n            return Object.keys(tag).every(function (key) { return _this._dom.getAttribute(elem, key) === tag[key]; });\n        };\n        Meta.ngInjectableDef = core.defineInjectable({ factory: createMeta, token: Meta, providedIn: \"root\" });\n        Meta = __decorate([\n            core.Injectable({ providedIn: 'root', useFactory: createMeta, deps: [] }),\n            __param(0, core.Inject(DOCUMENT)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], Meta);\n        return Meta;\n    }());\n\n    /**\n     * Factory to create Title service.\n     */\n    function createTitle() {\n        return new Title(core.inject(DOCUMENT));\n    }\n    /**\n     * A service that can be used to get and set the title of a current HTML document.\n     *\n     * Since an Angular application can't be bootstrapped on the entire HTML document (`<html>` tag)\n     * it is not possible to bind to the `text` property of the `HTMLTitleElement` elements\n     * (representing the `<title>` tag). Instead, this service can be used to set and get the current\n     * title value.\n     *\n     * @experimental\n     */\n    var Title = /** @class */ (function () {\n        function Title(_doc) {\n            this._doc = _doc;\n        }\n        /**\n         * Get the title of the current HTML document.\n         */\n        Title.prototype.getTitle = function () { return getDOM().getTitle(this._doc); };\n        /**\n         * Set the title of the current HTML document.\n         * @param newTitle\n         */\n        Title.prototype.setTitle = function (newTitle) { getDOM().setTitle(this._doc, newTitle); };\n        Title.ngInjectableDef = core.defineInjectable({ factory: createTitle, token: Title, providedIn: \"root\" });\n        Title = __decorate([\n            core.Injectable({ providedIn: 'root', useFactory: createTitle, deps: [] }),\n            __param(0, core.Inject(DOCUMENT)),\n            __metadata(\"design:paramtypes\", [Object])\n        ], Title);\n        return Title;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var win = typeof window !== 'undefined' && window || {};\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ChangeDetectionPerfRecord = /** @class */ (function () {\n        function ChangeDetectionPerfRecord(msPerTick, numTicks) {\n            this.msPerTick = msPerTick;\n            this.numTicks = numTicks;\n        }\n        return ChangeDetectionPerfRecord;\n    }());\n    /**\n     * Entry point for all Angular profiling-related debug tools. This object\n     * corresponds to the `ng.profiler` in the dev console.\n     */\n    var AngularProfiler = /** @class */ (function () {\n        function AngularProfiler(ref) {\n            this.appRef = ref.injector.get(core.ApplicationRef);\n        }\n        // tslint:disable:no-console\n        /**\n         * Exercises change detection in a loop and then prints the average amount of\n         * time in milliseconds how long a single round of change detection takes for\n         * the current state of the UI. It runs a minimum of 5 rounds for a minimum\n         * of 500 milliseconds.\n         *\n         * Optionally, a user may pass a `config` parameter containing a map of\n         * options. Supported options are:\n         *\n         * `record` (boolean) - causes the profiler to record a CPU profile while\n         * it exercises the change detector. Example:\n         *\n         * ```\n         * ng.profiler.timeChangeDetection({record: true})\n         * ```\n         */\n        AngularProfiler.prototype.timeChangeDetection = function (config) {\n            var record = config && config['record'];\n            var profileName = 'Change Detection';\n            // Profiler is not available in Android browsers, nor in IE 9 without dev tools opened\n            var isProfilerAvailable = win.console.profile != null;\n            if (record && isProfilerAvailable) {\n                win.console.profile(profileName);\n            }\n            var start = getDOM().performanceNow();\n            var numTicks = 0;\n            while (numTicks < 5 || (getDOM().performanceNow() - start) < 500) {\n                this.appRef.tick();\n                numTicks++;\n            }\n            var end = getDOM().performanceNow();\n            if (record && isProfilerAvailable) {\n                // need to cast to <any> because type checker thinks there's no argument\n                // while in fact there is:\n                //\n                // https://developer.mozilla.org/en-US/docs/Web/API/Console/profileEnd\n                win.console.profileEnd(profileName);\n            }\n            var msPerTick = (end - start) / numTicks;\n            win.console.log(\"ran \" + numTicks + \" change detection cycles\");\n            win.console.log(msPerTick.toFixed(2) + \" ms per check\");\n            return new ChangeDetectionPerfRecord(msPerTick, numTicks);\n        };\n        return AngularProfiler;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var PROFILER_GLOBAL_NAME = 'profiler';\n    /**\n     * Enabled Angular debug tools that are accessible via your browser's\n     * developer console.\n     *\n     * Usage:\n     *\n     * 1. Open developer console (e.g. in Chrome Ctrl + Shift + j)\n     * 1. Type `ng.` (usually the console will show auto-complete suggestion)\n     * 1. Try the change detection profiler `ng.profiler.timeChangeDetection()`\n     *    then hit Enter.\n     *\n     * @experimental All debugging apis are currently experimental.\n     */\n    function enableDebugTools(ref) {\n        exportNgVar(PROFILER_GLOBAL_NAME, new AngularProfiler(ref));\n        return ref;\n    }\n    /**\n     * Disables Angular tools.\n     *\n     * @experimental All debugging apis are currently experimental.\n     */\n    function disableDebugTools() {\n        exportNgVar(PROFILER_GLOBAL_NAME, null);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function escapeHtml(text) {\n        var escapedText = {\n            '&': '&a;',\n            '\"': '&q;',\n            '\\'': '&s;',\n            '<': '&l;',\n            '>': '&g;',\n        };\n        return text.replace(/[&\"'<>]/g, function (s) { return escapedText[s]; });\n    }\n    function unescapeHtml(text) {\n        var unescapedText = {\n            '&a;': '&',\n            '&q;': '\"',\n            '&s;': '\\'',\n            '&l;': '<',\n            '&g;': '>',\n        };\n        return text.replace(/&[^;]+;/g, function (s) { return unescapedText[s]; });\n    }\n    /**\n     * Create a `StateKey<T>` that can be used to store value of type T with `TransferState`.\n     *\n     * Example:\n     *\n     * ```\n     * const COUNTER_KEY = makeStateKey<number>('counter');\n     * let value = 10;\n     *\n     * transferState.set(COUNTER_KEY, value);\n     * ```\n     *\n     * @experimental\n     */\n    function makeStateKey(key) {\n        return key;\n    }\n    /**\n     * A key value store that is transferred from the application on the server side to the application\n     * on the client side.\n     *\n     * `TransferState` will be available as an injectable token. To use it import\n     * `ServerTransferStateModule` on the server and `BrowserTransferStateModule` on the client.\n     *\n     * The values in the store are serialized/deserialized using JSON.stringify/JSON.parse. So only\n     * boolean, number, string, null and non-class objects will be serialized and deserialzied in a\n     * non-lossy manner.\n     *\n     * @experimental\n     */\n    var TransferState = /** @class */ (function () {\n        function TransferState() {\n            this.store = {};\n            this.onSerializeCallbacks = {};\n        }\n        TransferState_1 = TransferState;\n        /** @internal */\n        TransferState.init = function (initState) {\n            var transferState = new TransferState_1();\n            transferState.store = initState;\n            return transferState;\n        };\n        /**\n         * Get the value corresponding to a key. Return `defaultValue` if key is not found.\n         */\n        TransferState.prototype.get = function (key, defaultValue) {\n            return this.store[key] !== undefined ? this.store[key] : defaultValue;\n        };\n        /**\n         * Set the value corresponding to a key.\n         */\n        TransferState.prototype.set = function (key, value) { this.store[key] = value; };\n        /**\n         * Remove a key from the store.\n         */\n        TransferState.prototype.remove = function (key) { delete this.store[key]; };\n        /**\n         * Test whether a key exists in the store.\n         */\n        TransferState.prototype.hasKey = function (key) { return this.store.hasOwnProperty(key); };\n        /**\n         * Register a callback to provide the value for a key when `toJson` is called.\n         */\n        TransferState.prototype.onSerialize = function (key, callback) {\n            this.onSerializeCallbacks[key] = callback;\n        };\n        /**\n         * Serialize the current state of the store to JSON.\n         */\n        TransferState.prototype.toJson = function () {\n            // Call the onSerialize callbacks and put those values into the store.\n            for (var key in this.onSerializeCallbacks) {\n                if (this.onSerializeCallbacks.hasOwnProperty(key)) {\n                    try {\n                        this.store[key] = this.onSerializeCallbacks[key]();\n                    }\n                    catch (e) {\n                        console.warn('Exception in onSerialize callback: ', e);\n                    }\n                }\n            }\n            return JSON.stringify(this.store);\n        };\n        var TransferState_1;\n        TransferState = TransferState_1 = __decorate([\n            core.Injectable()\n        ], TransferState);\n        return TransferState;\n    }());\n    function initTransferState(doc, appId) {\n        // Locate the script tag with the JSON data transferred from the server.\n        // The id of the script tag is set to the Angular appId + 'state'.\n        var script = doc.getElementById(appId + '-state');\n        var initialState = {};\n        if (script && script.textContent) {\n            try {\n                initialState = JSON.parse(unescapeHtml(script.textContent));\n            }\n            catch (e) {\n                console.warn('Exception while restoring TransferState for app ' + appId, e);\n            }\n        }\n        return TransferState.init(initialState);\n    }\n    /**\n     * NgModule to install on the client side while using the `TransferState` to transfer state from\n     * server to client.\n     *\n     * @experimental\n     */\n    var BrowserTransferStateModule = /** @class */ (function () {\n        function BrowserTransferStateModule() {\n        }\n        BrowserTransferStateModule = __decorate([\n            core.NgModule({\n                providers: [{ provide: TransferState, useFactory: initTransferState, deps: [DOCUMENT, core.APP_ID] }],\n            })\n        ], BrowserTransferStateModule);\n        return BrowserTransferStateModule;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Predicates for use with {@link DebugElement}'s query functions.\n     *\n     * @experimental All debugging apis are currently experimental.\n     */\n    var By = /** @class */ (function () {\n        function By() {\n        }\n        /**\n         * Match all elements.\n         *\n         * @usageNotes\n         * ### Example\n         *\n         * {@example platform-browser/dom/debug/ts/by/by.ts region='by_all'}\n         */\n        By.all = function () { return function (debugElement) { return true; }; };\n        /**\n         * Match elements by the given CSS selector.\n         *\n         * @usageNotes\n         * ### Example\n         *\n         * {@example platform-browser/dom/debug/ts/by/by.ts region='by_css'}\n         */\n        By.css = function (selector) {\n            return function (debugElement) {\n                return debugElement.nativeElement != null ?\n                    getDOM().elementMatches(debugElement.nativeElement, selector) :\n                    false;\n            };\n        };\n        /**\n         * Match elements that have the given directive present.\n         *\n         * @usageNotes\n         * ### Example\n         *\n         * {@example platform-browser/dom/debug/ts/by/by.ts region='by_directive'}\n         */\n        By.directive = function (type) {\n            return function (debugElement) { return debugElement.providerTokens.indexOf(type) !== -1; };\n        };\n        return By;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var VERSION = new core.Version('6.1.10');\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // This file only reexports content of the `src` folder. Keep it that way.\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * Generated bundle index. Do not edit.\n     */\n\n    exports.ɵangular_packages_platform_browser_platform_browser_c = BROWSER_MODULE_PROVIDERS;\n    exports.ɵangular_packages_platform_browser_platform_browser_b = _document;\n    exports.ɵangular_packages_platform_browser_platform_browser_a = errorHandler;\n    exports.ɵangular_packages_platform_browser_platform_browser_k = GenericBrowserDomAdapter;\n    exports.ɵangular_packages_platform_browser_platform_browser_d = createMeta;\n    exports.ɵangular_packages_platform_browser_platform_browser_i = SERVER_TRANSITION_PROVIDERS;\n    exports.ɵangular_packages_platform_browser_platform_browser_h = appInitializerFactory;\n    exports.ɵangular_packages_platform_browser_platform_browser_e = createTitle;\n    exports.ɵangular_packages_platform_browser_platform_browser_f = initTransferState;\n    exports.ɵangular_packages_platform_browser_platform_browser_j = _createNgProbe;\n    exports.ɵangular_packages_platform_browser_platform_browser_g = EventManagerPlugin;\n    exports.BrowserModule = BrowserModule;\n    exports.platformBrowser = platformBrowser;\n    exports.Meta = Meta;\n    exports.Title = Title;\n    exports.disableDebugTools = disableDebugTools;\n    exports.enableDebugTools = enableDebugTools;\n    exports.BrowserTransferStateModule = BrowserTransferStateModule;\n    exports.TransferState = TransferState;\n    exports.makeStateKey = makeStateKey;\n    exports.By = By;\n    exports.DOCUMENT = DOCUMENT;\n    exports.EVENT_MANAGER_PLUGINS = EVENT_MANAGER_PLUGINS;\n    exports.EventManager = EventManager;\n    exports.HAMMER_GESTURE_CONFIG = HAMMER_GESTURE_CONFIG;\n    exports.HAMMER_LOADER = HAMMER_LOADER;\n    exports.HammerGestureConfig = HammerGestureConfig;\n    exports.DomSanitizer = DomSanitizer;\n    exports.VERSION = VERSION;\n    exports.ɵBROWSER_SANITIZATION_PROVIDERS = BROWSER_SANITIZATION_PROVIDERS;\n    exports.ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS = INTERNAL_BROWSER_PLATFORM_PROVIDERS;\n    exports.ɵinitDomAdapter = initDomAdapter;\n    exports.ɵBrowserDomAdapter = BrowserDomAdapter;\n    exports.ɵBrowserPlatformLocation = BrowserPlatformLocation;\n    exports.ɵTRANSITION_ID = TRANSITION_ID;\n    exports.ɵBrowserGetTestability = BrowserGetTestability;\n    exports.ɵescapeHtml = escapeHtml;\n    exports.ɵELEMENT_PROBE_PROVIDERS = ELEMENT_PROBE_PROVIDERS;\n    exports.ɵDomAdapter = DomAdapter;\n    exports.ɵgetDOM = getDOM;\n    exports.ɵsetRootDomAdapter = setRootDomAdapter;\n    exports.ɵDomRendererFactory2 = DomRendererFactory2;\n    exports.ɵNAMESPACE_URIS = NAMESPACE_URIS;\n    exports.ɵflattenStyles = flattenStyles;\n    exports.ɵshimContentAttribute = shimContentAttribute;\n    exports.ɵshimHostAttribute = shimHostAttribute;\n    exports.ɵDomEventsPlugin = DomEventsPlugin;\n    exports.ɵHammerGesturesPlugin = HammerGesturesPlugin;\n    exports.ɵKeyEventsPlugin = KeyEventsPlugin;\n    exports.ɵDomSharedStylesHost = DomSharedStylesHost;\n    exports.ɵSharedStylesHost = SharedStylesHost;\n    exports.ɵDomSanitizerImpl = DomSanitizerImpl;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-browser.umd.js.map\n"]}