{"version":3,"sources":["platform-browser.js"],"names":["ɵparseCookieValue","DOCUMENT","PlatformLocation","isPlatformServer","CommonModule","ɵPLATFORM_BROWSER_ID","ɵglobal","Inject","Injectable","APP_INITIALIZER","ApplicationInitStatus","InjectionToken","Injector","setTestabilityGetter","inject","APP_ID","NgModule","NgZone","Optional","ɵConsole","SecurityContext","ɵ_sanitizeHtml","ɵ_sanitizeStyle","ɵ_sanitizeUrl","RendererStyleFlags2","ViewEncapsulation","Version","ApplicationRef","defineInjectable","getDebugNode","NgProbeToken","PLATFORM_ID","PLATFORM_INITIALIZER","Sanitizer","createPlatformFactory","platformCore","ErrorHandler","ɵAPP_ROOT","RendererFactory2","Testability","ApplicationModule","SkipSelf","_DOM","getDOM","setRootDomAdapter","adapter","DomAdapter","constructor","resourceLoaderType","attrToPropMap","_attrToPropMap","value","GenericBrowserDomAdapter","_animationPrefix","_transitionEnd","element","createElement","document","getStyle","domPrefixes","i","length","toLowerCase","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","Object","keys","forEach","key","e","getDistributedNodes","el","resolveAndSetHref","baseUrl","href","supportsDOMEvents","supportsNativeShadowDOM","body","createShadowRoot","getAnimationPrefix","getTransitionEnd","supportsAnimation","DOM_KEY_LOCATION_NUMPAD","_keyMap","_chromeNumKeyPadMap","nodeContains","prototype","contains","node","compareDocumentPosition","BrowserDomAdapter","parse","templateHtml","Error","makeCurrent","hasProperty","name","setProperty","getProperty","invoke","methodName","args","logError","error","window","console","log","logGroup","group","logGroupEnd","groupEnd","nodeA","nodeB","call","querySelector","selector","querySelectorAll","on","evt","listener","addEventListener","onAndCancel","removeEventListener","dispatchEvent","createMouseEvent","eventType","getDefaultDocument","createEvent","initEvent","preventDefault","returnValue","isPrevented","defaultPrevented","getInnerHTML","innerHTML","getTemplateContent","isTemplateElement","content","getOuterHTML","outerHTML","nodeName","nodeValue","type","firstChild","nextSibling","parentElement","parentNode","childNodes","childNodesAsList","res","Array","clearNodes","removeChild","appendChild","replaceChild","newChild","oldChild","remove","insertBefore","parent","ref","insertAllBefore","nodes","n","insertAfter","setInnerHTML","getText","textContent","setText","getValue","setValue","getChecked","checked","setChecked","createComment","text","createTemplate","html","t","tagName","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","setAttribute","createStyleElement","css","style","getShadowRoot","shadowRoot","getHost","host","clone","cloneNode","getElementsByClassName","getElementsByTagName","classList","slice","addClass","className","add","removeClass","hasClass","setStyle","styleName","styleValue","removeStyle","stylename","hasStyle","attributeMap","Map","elAttrs","attributes","attrib","item","set","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttribute","removeAttributeNS","templateAwareRoot","createHtmlDocument","implementation","createHTMLDocument","getBoundingClientRect","top","bottom","left","right","width","height","getTitle","title","setTitle","newTitle","elementMatches","isElementNode","matches","msMatchesSelector","webkitMatchesSelector","isTextNode","nodeType","Node","TEXT_NODE","isCommentNode","COMMENT_NODE","ELEMENT_NODE","hasShadowRoot","HTMLElement","isShadowRoot","DocumentFragment","importIntoDoc","importNode","adoptNode","getHref","getEventKey","event","keyIdentifier","startsWith","String","fromCharCode","parseInt","substring","location","hasOwnProperty","getGlobalEventTarget","target","getHistory","history","getLocation","getBaseHref","getBaseElementHref","relativePath","resetBaseElement","baseElement","getUserAgent","navigator","userAgent","setData","getData","getComputedStyle","supportsWebAnimation","Element","performanceNow","performance","now","Date","getTime","supportsCookies","getCookie","cookie","setCookie","encodeURIComponent","urlParsingNode","url","pathname","charAt","DOCUMENT$1","supportsState","pushState","BrowserPlatformLocation","_doc","_init","_history","getBaseHrefFromDOM","onPopState","fn","onHashChange","search","hash","newPath","state","replaceState","forward","back","decorators","ctorParameters","undefined","TRANSITION_ID","appInitializerFactory","transitionId","injector","get","donePromise","then","dom","styles","apply","filter","SERVER_TRANSITION_PROVIDERS","provide","useFactory","deps","multi","BrowserGetTestability","init","addToWindow","registry","elem","findInAncestors","testability","findTestabilityInTree","getAllTestabilities","getAllRootElements","whenAllStable","callback","testabilities","count","didWork","decrement","didWork_","whenStable","push","getTestability","exportNgVar","COMPILED","ng","CORE_TOKENS","INSPECT_GLOBAL_NAME","CORE_TOKENS_GLOBAL_NAME","inspectNativeElement","_createNgProbe","coreTokens","assign","_ngProbeTokensToMap","tokens","reduce","prev","token","ELEMENT_PROBE_PROVIDERS","EVENT_MANAGER_PLUGINS","EventManager","plugins","_zone","_eventNameToPlugin","p","manager","_plugins","reverse","eventName","handler","plugin","_findPluginFor","addGlobalEventListener","getZone","supports","EventManagerPlugin","SharedStylesHost","_stylesSet","Set","addStyles","additions","has","onStylesAdded","getAllStyles","from","DomSharedStylesHost","_hostNodes","_styleNodes","head","_addStylesToHost","styleEl","addHost","hostNode","removeHost","delete","ngOnDestroy","styleNode","NAMESPACE_URIS","COMPONENT_REGEX","COMPONENT_VARIABLE","HOST_ATTR","CONTENT_ATTR","shimContentAttribute","componentShortId","replace","shimHostAttribute","flattenStyles","compId","isArray","decoratePreventDefault","eventHandler","allowDefaultBehavior","DomRendererFactory2","eventManager","sharedStylesHost","rendererByCompId","defaultRenderer","DefaultDomRenderer2","createRenderer","encapsulation","Emulated","renderer","id","EmulatedEncapsulationDomRenderer2","applyToHost","Native","ShadowDom","ShadowDomRenderer","begin","end","data","create","destroy","namespace","createText","refChild","selectRootElement","selectorOrNode","namespaceUri","flags","DashCase","Important","removeProperty","checkNoSyntheticProp","listen","AT_CHARCODE","charCodeAt","nameKind","component","contentAttr","hostAttr","hostEl","attachShadow","mode","nodeOrShadowRoot","ɵ0","v","__symbol__","Zone","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","symbolNames","FALSE","ANGULAR","NATIVE_ADD_LISTENER","NATIVE_REMOVE_LISTENER","stopSymbol","stopMethodSymbol","blackListedEvents","blackListedMap","isBlackListedEvent","globalListener","symbolName","taskDatas","taskData","zone","current","run","copiedTasks","DomEventsPlugin","ngZone","platformId","patchEvent","Event","delegate","stopImmediatePropagation","arguments","zoneJsLoaded","isInAngularZone","globalListenerRegistered","root","callbackRegistered","underlyingRemove","found","splice","EVENT_NAMES","HAMMER_GESTURE_CONFIG","HAMMER_LOADER","HammerGestureConfig","events","overrides","buildHammer","mc","Hammer","options","enable","HammerGesturesPlugin","_config","loader","isCustomEvent","warn","cancelRegistration","deregister","catch","runOutsideAngular","eventObj","runGuarded","off","indexOf","MODIFIER_KEYS","ɵ0$1","altKey","ɵ1$1","ctrlKey","ɵ2$1","metaKey","ɵ3","shiftKey","MODIFIER_KEY_GETTERS","KeyEventsPlugin","parseEventName","parsedEvent","outsideHandler","eventCallback","parts","split","domEventName","shift","_normalizeKey","pop","fullKey","modifierName","index","result","getEventFullKey","modifierGetter","keyName","DomSanitizer","DomSanitizerImpl","sanitize","ctx","NONE","HTML","SafeHtmlImpl","changingThisBreaksApplicationSecurity","checkNotSafeValue","STYLE","SafeStyleImpl","SCRIPT","SafeScriptImpl","URL","SafeResourceUrlImpl","SafeUrlImpl","RESOURCE_URL","expectedType","SafeValueImpl","getTypeName","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","toString","INTERNAL_BROWSER_PLATFORM_PROVIDERS","useValue","initDomAdapter","useClass","_document","BROWSER_SANITIZATION_PROVIDERS","useExisting","platformBrowser","errorHandler","BROWSER_MODULE_PROVIDERS","BrowserModule","parentModule","withServerTransition","params","ngModule","providers","appId","exports","createMeta","Meta","_dom","addTag","tag","forceCreation","_getOrCreateElement","addTags","tags","getTag","attrSelector","getTags","list","updateTag","_parseSelector","meta","_setMetaElementAttributes","removeTag","removeTagElement","_containsAttributes","prop","attr","every","providedIn","ngInjectableDef","factory","createTitle","Title","win","ChangeDetectionPerfRecord","msPerTick","numTicks","AngularProfiler","appRef","timeChangeDetection","config","record","profileName","isProfilerAvailable","profile","start","tick","profileEnd","toFixed","PROFILER_GLOBAL_NAME","enableDebugTools","disableDebugTools","escapeHtml","escapedText","s","unescapeHtml","unescapedText","makeStateKey","TransferState","store","onSerializeCallbacks","initState","transferState","defaultValue","hasKey","onSerialize","toJson","JSON","stringify","initTransferState","script","getElementById","initialState","BrowserTransferStateModule","By","all","debugElement","nativeElement","directive","providerTokens","VERSION","ɵangular_packages_platform_browser_platform_browser_c","ɵangular_packages_platform_browser_platform_browser_b","ɵangular_packages_platform_browser_platform_browser_a","ɵangular_packages_platform_browser_platform_browser_k","ɵangular_packages_platform_browser_platform_browser_d","ɵangular_packages_platform_browser_platform_browser_i","ɵangular_packages_platform_browser_platform_browser_h","ɵangular_packages_platform_browser_platform_browser_e","ɵangular_packages_platform_browser_platform_browser_f","ɵangular_packages_platform_browser_platform_browser_j","ɵangular_packages_platform_browser_platform_browser_g","ɵBROWSER_SANITIZATION_PROVIDERS","ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS","ɵinitDomAdapter","ɵBrowserDomAdapter","ɵBrowserPlatformLocation","ɵTRANSITION_ID","ɵBrowserGetTestability","ɵescapeHtml","ɵELEMENT_PROBE_PROVIDERS","ɵDomAdapter","ɵgetDOM","ɵsetRootDomAdapter","ɵDomRendererFactory2","ɵNAMESPACE_URIS","ɵflattenStyles","ɵshimContentAttribute","ɵshimHostAttribute","ɵDomEventsPlugin","ɵHammerGesturesPlugin","ɵKeyEventsPlugin","ɵDomSharedStylesHost","ɵSharedStylesHost","ɵDomSanitizerImpl"],"mappings":"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","file":"platform-browser.js","sourcesContent":["/**\n * @license Angular v6.1.10\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\nimport { ɵparseCookieValue, DOCUMENT, PlatformLocation, isPlatformServer, CommonModule, ɵPLATFORM_BROWSER_ID } from '@angular/common';\nimport { ɵglobal, Inject, Injectable, APP_INITIALIZER, ApplicationInitStatus, InjectionToken, Injector, setTestabilityGetter, inject, APP_ID, NgModule, NgZone, Optional, ɵConsole, SecurityContext, ɵ_sanitizeHtml, ɵ_sanitizeStyle, ɵ_sanitizeUrl, RendererStyleFlags2, ViewEncapsulation, Version, ApplicationRef, defineInjectable, getDebugNode, NgProbeToken, PLATFORM_ID, PLATFORM_INITIALIZER, Sanitizer, createPlatformFactory, platformCore, ErrorHandler, ɵAPP_ROOT, RendererFactory2, Testability, ApplicationModule, SkipSelf } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** @type {?} */\nlet _DOM = /** @type {?} */ ((null));\n/**\n * @return {?}\n */\nfunction getDOM() {\n    return _DOM;\n}\n/**\n * @param {?} adapter\n * @return {?}\n */\nfunction setRootDomAdapter(adapter) {\n    if (!_DOM) {\n        _DOM = adapter;\n    }\n}\n/**\n * Provides DOM operations in an environment-agnostic way.\n *\n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n * @abstract\n */\nclass DomAdapter {\n    constructor() {\n        this.resourceLoaderType = /** @type {?} */ ((null));\n    }\n    /**\n     * Maps attribute names to their corresponding property names for cases\n     * where attribute name doesn't match property name.\n     * @return {?}\n     */\n    get attrToPropMap() { return this._attrToPropMap; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set attrToPropMap(value) { this._attrToPropMap = value; }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * Provides DOM operations in any browser environment.\n *\n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n * @abstract\n */\nclass GenericBrowserDomAdapter extends DomAdapter {\n    constructor() {\n        super();\n        this._animationPrefix = null;\n        this._transitionEnd = null;\n        try {\n            /** @type {?} */\n            const element = this.createElement('div', document);\n            if (this.getStyle(element, 'animationName') != null) {\n                this._animationPrefix = '';\n            }\n            else {\n                /** @type {?} */\n                const domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n                for (let i = 0; i < domPrefixes.length; i++) {\n                    if (this.getStyle(element, domPrefixes[i] + 'AnimationName') != null) {\n                        this._animationPrefix = '-' + domPrefixes[i].toLowerCase() + '-';\n                        break;\n                    }\n                }\n            }\n            /** @type {?} */\n            const transEndEventNames = {\n                WebkitTransition: 'webkitTransitionEnd',\n                MozTransition: 'transitionend',\n                OTransition: 'oTransitionEnd otransitionend',\n                transition: 'transitionend'\n            };\n            Object.keys(transEndEventNames).forEach((key) => {\n                if (this.getStyle(element, key) != null) {\n                    this._transitionEnd = transEndEventNames[key];\n                }\n            });\n        }\n        catch (e) {\n            this._animationPrefix = null;\n            this._transitionEnd = null;\n        }\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getDistributedNodes(el) { return (/** @type {?} */ (el)).getDistributedNodes(); }\n    /**\n     * @param {?} el\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    resolveAndSetHref(el, baseUrl, href) {\n        el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n    }\n    /**\n     * @return {?}\n     */\n    supportsDOMEvents() { return true; }\n    /**\n     * @return {?}\n     */\n    supportsNativeShadowDOM() {\n        return typeof (/** @type {?} */ (document.body)).createShadowRoot === 'function';\n    }\n    /**\n     * @return {?}\n     */\n    getAnimationPrefix() { return this._animationPrefix ? this._animationPrefix : ''; }\n    /**\n     * @return {?}\n     */\n    getTransitionEnd() { return this._transitionEnd ? this._transitionEnd : ''; }\n    /**\n     * @return {?}\n     */\n    supportsAnimation() {\n        return this._animationPrefix != null && this._transitionEnd != null;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst _attrToPropMap = {\n    'class': 'className',\n    'innerHtml': 'innerHTML',\n    'readonly': 'readOnly',\n    'tabindex': 'tabIndex',\n};\n/** @type {?} */\nconst DOM_KEY_LOCATION_NUMPAD = 3;\n/** @type {?} */\nconst _keyMap = {\n    // The following values are here for cross-browser compatibility and to match the W3C standard\n    // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n    '\\b': 'Backspace',\n    '\\t': 'Tab',\n    '\\x7F': 'Delete',\n    '\\x1B': 'Escape',\n    'Del': 'Delete',\n    'Esc': 'Escape',\n    'Left': 'ArrowLeft',\n    'Right': 'ArrowRight',\n    'Up': 'ArrowUp',\n    'Down': 'ArrowDown',\n    'Menu': 'ContextMenu',\n    'Scroll': 'ScrollLock',\n    'Win': 'OS'\n};\n/** @type {?} */\nconst _chromeNumKeyPadMap = {\n    'A': '1',\n    'B': '2',\n    'C': '3',\n    'D': '4',\n    'E': '5',\n    'F': '6',\n    'G': '7',\n    'H': '8',\n    'I': '9',\n    'J': '*',\n    'K': '+',\n    'M': '-',\n    'N': '.',\n    'O': '/',\n    '\\x60': '0',\n    '\\x90': 'NumLock'\n};\n/** @type {?} */\nlet nodeContains;\nif (ɵglobal['Node']) {\n    nodeContains = ɵglobal['Node'].prototype.contains || function (node) {\n        return !!(this.compareDocumentPosition(node) & 16);\n    };\n}\n/**\n * A `DomAdapter` powered by full browser DOM APIs.\n *\n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\nclass BrowserDomAdapter extends GenericBrowserDomAdapter {\n    /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    parse(templateHtml) { throw new Error('parse not implemented'); }\n    /**\n     * @return {?}\n     */\n    static makeCurrent() { setRootDomAdapter(new BrowserDomAdapter()); }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    hasProperty(element, name) { return name in element; }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    setProperty(el, name, value) { (/** @type {?} */ (el))[name] = value; }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    getProperty(el, name) { return (/** @type {?} */ (el))[name]; }\n    /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    invoke(el, methodName, args) { (/** @type {?} */ (el))[methodName](...args); }\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    logError(error) {\n        if (window.console) {\n            if (console.error) {\n                console.error(error);\n            }\n            else {\n                console.log(error);\n            }\n        }\n    }\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    log(error) {\n        if (window.console) {\n            window.console.log && window.console.log(error);\n        }\n    }\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    logGroup(error) {\n        if (window.console) {\n            window.console.group && window.console.group(error);\n        }\n    }\n    /**\n     * @return {?}\n     */\n    logGroupEnd() {\n        if (window.console) {\n            window.console.groupEnd && window.console.groupEnd();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get attrToPropMap() { return _attrToPropMap; }\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    contains(nodeA, nodeB) { return nodeContains.call(nodeA, nodeB); }\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    querySelector(el, selector) { return el.querySelector(selector); }\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    querySelectorAll(el, selector) { return el.querySelectorAll(selector); }\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    on(el, evt, listener) { el.addEventListener(evt, listener, false); }\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    onAndCancel(el, evt, listener) {\n        el.addEventListener(evt, listener, false);\n        // Needed to follow Dart's subscription semantic, until fix of\n        // https://code.google.com/p/dart/issues/detail?id=17406\n        return () => { el.removeEventListener(evt, listener, false); };\n    }\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    dispatchEvent(el, evt) { el.dispatchEvent(evt); }\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    createMouseEvent(eventType) {\n        /** @type {?} */\n        const evt = this.getDefaultDocument().createEvent('MouseEvent');\n        evt.initEvent(eventType, true, true);\n        return evt;\n    }\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    createEvent(eventType) {\n        /** @type {?} */\n        const evt = this.getDefaultDocument().createEvent('Event');\n        evt.initEvent(eventType, true, true);\n        return evt;\n    }\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    preventDefault(evt) {\n        evt.preventDefault();\n        evt.returnValue = false;\n    }\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    isPrevented(evt) {\n        return evt.defaultPrevented || evt.returnValue != null && !evt.returnValue;\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getInnerHTML(el) { return el.innerHTML; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getTemplateContent(el) {\n        return 'content' in el && this.isTemplateElement(el) ? (/** @type {?} */ (el)).content : null;\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getOuterHTML(el) { return el.outerHTML; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    nodeName(node) { return node.nodeName; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    nodeValue(node) { return node.nodeValue; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    type(node) { return node.type; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    content(node) {\n        if (this.hasProperty(node, 'content')) {\n            return (/** @type {?} */ (node)).content;\n        }\n        else {\n            return node;\n        }\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    firstChild(el) { return el.firstChild; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    nextSibling(el) { return el.nextSibling; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    parentElement(el) { return el.parentNode; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    childNodes(el) { return el.childNodes; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    childNodesAsList(el) {\n        /** @type {?} */\n        const childNodes = el.childNodes;\n        /** @type {?} */\n        const res = new Array(childNodes.length);\n        for (let i = 0; i < childNodes.length; i++) {\n            res[i] = childNodes[i];\n        }\n        return res;\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    clearNodes(el) {\n        while (el.firstChild) {\n            el.removeChild(el.firstChild);\n        }\n    }\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    appendChild(el, node) { el.appendChild(node); }\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    removeChild(el, node) { el.removeChild(node); }\n    /**\n     * @param {?} el\n     * @param {?} newChild\n     * @param {?} oldChild\n     * @return {?}\n     */\n    replaceChild(el, newChild, oldChild) { el.replaceChild(newChild, oldChild); }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    remove(node) {\n        if (node.parentNode) {\n            node.parentNode.removeChild(node);\n        }\n        return node;\n    }\n    /**\n     * @param {?} parent\n     * @param {?} ref\n     * @param {?} node\n     * @return {?}\n     */\n    insertBefore(parent, ref, node) { parent.insertBefore(node, ref); }\n    /**\n     * @param {?} parent\n     * @param {?} ref\n     * @param {?} nodes\n     * @return {?}\n     */\n    insertAllBefore(parent, ref, nodes) {\n        nodes.forEach((n) => parent.insertBefore(n, ref));\n    }\n    /**\n     * @param {?} parent\n     * @param {?} ref\n     * @param {?} node\n     * @return {?}\n     */\n    insertAfter(parent, ref, node) { parent.insertBefore(node, ref.nextSibling); }\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    setInnerHTML(el, value) { el.innerHTML = value; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getText(el) { return el.textContent; }\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    setText(el, value) { el.textContent = value; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getValue(el) { return el.value; }\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    setValue(el, value) { el.value = value; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getChecked(el) { return el.checked; }\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    setChecked(el, value) { el.checked = value; }\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    createComment(text) { return this.getDefaultDocument().createComment(text); }\n    /**\n     * @param {?} html\n     * @return {?}\n     */\n    createTemplate(html) {\n        /** @type {?} */\n        const t = this.getDefaultDocument().createElement('template');\n        t.innerHTML = html;\n        return t;\n    }\n    /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    createElement(tagName, doc) {\n        doc = doc || this.getDefaultDocument();\n        return doc.createElement(tagName);\n    }\n    /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    createElementNS(ns, tagName, doc) {\n        doc = doc || this.getDefaultDocument();\n        return doc.createElementNS(ns, tagName);\n    }\n    /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    createTextNode(text, doc) {\n        doc = doc || this.getDefaultDocument();\n        return doc.createTextNode(text);\n    }\n    /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    createScriptTag(attrName, attrValue, doc) {\n        doc = doc || this.getDefaultDocument();\n        /** @type {?} */\n        const el = /** @type {?} */ (doc.createElement('SCRIPT'));\n        el.setAttribute(attrName, attrValue);\n        return el;\n    }\n    /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    createStyleElement(css, doc) {\n        doc = doc || this.getDefaultDocument();\n        /** @type {?} */\n        const style = /** @type {?} */ (doc.createElement('style'));\n        this.appendChild(style, this.createTextNode(css, doc));\n        return style;\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    createShadowRoot(el) { return (/** @type {?} */ (el)).createShadowRoot(); }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getShadowRoot(el) { return (/** @type {?} */ (el)).shadowRoot; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getHost(el) { return (/** @type {?} */ (el)).host; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    clone(node) { return node.cloneNode(true); }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    getElementsByClassName(element, name) {\n        return element.getElementsByClassName(name);\n    }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    getElementsByTagName(element, name) {\n        return element.getElementsByTagName(name);\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    classList(element) { return Array.prototype.slice.call(element.classList, 0); }\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    addClass(element, className) { element.classList.add(className); }\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    removeClass(element, className) { element.classList.remove(className); }\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    hasClass(element, className) {\n        return element.classList.contains(className);\n    }\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    setStyle(element, styleName, styleValue) {\n        element.style[styleName] = styleValue;\n    }\n    /**\n     * @param {?} element\n     * @param {?} stylename\n     * @return {?}\n     */\n    removeStyle(element, stylename) {\n        // IE requires '' instead of null\n        // see https://github.com/angular/angular/issues/7916\n        element.style[stylename] = '';\n    }\n    /**\n     * @param {?} element\n     * @param {?} stylename\n     * @return {?}\n     */\n    getStyle(element, stylename) { return element.style[stylename]; }\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    hasStyle(element, styleName, styleValue) {\n        /** @type {?} */\n        const value = this.getStyle(element, styleName) || '';\n        return styleValue ? value == styleValue : value.length > 0;\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    tagName(element) { return element.tagName; }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    attributeMap(element) {\n        /** @type {?} */\n        const res = new Map();\n        /** @type {?} */\n        const elAttrs = element.attributes;\n        for (let i = 0; i < elAttrs.length; i++) {\n            /** @type {?} */\n            const attrib = elAttrs.item(i);\n            res.set(attrib.name, attrib.value);\n        }\n        return res;\n    }\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    hasAttribute(element, attribute) {\n        return element.hasAttribute(attribute);\n    }\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    hasAttributeNS(element, ns, attribute) {\n        return element.hasAttributeNS(ns, attribute);\n    }\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    getAttribute(element, attribute) {\n        return element.getAttribute(attribute);\n    }\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @return {?}\n     */\n    getAttributeNS(element, ns, name) {\n        return element.getAttributeNS(ns, name);\n    }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    setAttribute(element, name, value) { element.setAttribute(name, value); }\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    setAttributeNS(element, ns, name, value) {\n        element.setAttributeNS(ns, name, value);\n    }\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    removeAttribute(element, attribute) { element.removeAttribute(attribute); }\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @return {?}\n     */\n    removeAttributeNS(element, ns, name) {\n        element.removeAttributeNS(ns, name);\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    templateAwareRoot(el) { return this.isTemplateElement(el) ? this.content(el) : el; }\n    /**\n     * @return {?}\n     */\n    createHtmlDocument() {\n        return document.implementation.createHTMLDocument('fakeTitle');\n    }\n    /**\n     * @return {?}\n     */\n    getDefaultDocument() { return document; }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getBoundingClientRect(el) {\n        try {\n            return el.getBoundingClientRect();\n        }\n        catch (e) {\n            return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };\n        }\n    }\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    getTitle(doc) { return doc.title; }\n    /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    setTitle(doc, newTitle) { doc.title = newTitle || ''; }\n    /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    elementMatches(n, selector) {\n        if (this.isElementNode(n)) {\n            return n.matches && n.matches(selector) ||\n                n.msMatchesSelector && n.msMatchesSelector(selector) ||\n                n.webkitMatchesSelector && n.webkitMatchesSelector(selector);\n        }\n        return false;\n    }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    isTemplateElement(el) {\n        return this.isElementNode(el) && el.nodeName === 'TEMPLATE';\n    }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    isTextNode(node) { return node.nodeType === Node.TEXT_NODE; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    isCommentNode(node) { return node.nodeType === Node.COMMENT_NODE; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    isElementNode(node) { return node.nodeType === Node.ELEMENT_NODE; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    hasShadowRoot(node) {\n        return node.shadowRoot != null && node instanceof HTMLElement;\n    }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    isShadowRoot(node) { return node instanceof DocumentFragment; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    importIntoDoc(node) { return document.importNode(this.templateAwareRoot(node), true); }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    adoptNode(node) { return document.adoptNode(node); }\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    getHref(el) { return /** @type {?} */ ((el.getAttribute('href'))); }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    getEventKey(event) {\n        /** @type {?} */\n        let key = event.key;\n        if (key == null) {\n            key = event.keyIdentifier;\n            // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n            // Safari cf\n            // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n            if (key == null) {\n                return 'Unidentified';\n            }\n            if (key.startsWith('U+')) {\n                key = String.fromCharCode(parseInt(key.substring(2), 16));\n                if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n                    // There is a bug in Chrome for numeric keypad keys:\n                    // https://code.google.com/p/chromium/issues/detail?id=155654\n                    // 1, 2, 3 ... are reported as A, B, C ...\n                    key = (/** @type {?} */ (_chromeNumKeyPadMap))[key];\n                }\n            }\n        }\n        return _keyMap[key] || key;\n    }\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    getGlobalEventTarget(doc, target) {\n        if (target === 'window') {\n            return window;\n        }\n        if (target === 'document') {\n            return doc;\n        }\n        if (target === 'body') {\n            return doc.body;\n        }\n        return null;\n    }\n    /**\n     * @return {?}\n     */\n    getHistory() { return window.history; }\n    /**\n     * @return {?}\n     */\n    getLocation() { return window.location; }\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    getBaseHref(doc) {\n        /** @type {?} */\n        const href = getBaseElementHref();\n        return href == null ? null : relativePath(href);\n    }\n    /**\n     * @return {?}\n     */\n    resetBaseElement() { baseElement = null; }\n    /**\n     * @return {?}\n     */\n    getUserAgent() { return window.navigator.userAgent; }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    setData(element, name, value) {\n        this.setAttribute(element, 'data-' + name, value);\n    }\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    getData(element, name) {\n        return this.getAttribute(element, 'data-' + name);\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    getComputedStyle(element) { return getComputedStyle(element); }\n    /**\n     * @return {?}\n     */\n    supportsWebAnimation() {\n        return typeof (/** @type {?} */ (Element)).prototype['animate'] === 'function';\n    }\n    /**\n     * @return {?}\n     */\n    performanceNow() {\n        // performance.now() is not available in all browsers, see\n        // http://caniuse.com/#search=performance.now\n        return window.performance && window.performance.now ? window.performance.now() :\n            new Date().getTime();\n    }\n    /**\n     * @return {?}\n     */\n    supportsCookies() { return true; }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    getCookie(name) { return ɵparseCookieValue(document.cookie, name); }\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    setCookie(name, value) {\n        // document.cookie is magical, assigning into it assigns/overrides one cookie value, but does\n        // not clear other cookies.\n        document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n    }\n}\n/** @type {?} */\nlet baseElement = null;\n/**\n * @return {?}\n */\nfunction getBaseElementHref() {\n    if (!baseElement) {\n        baseElement = /** @type {?} */ ((document.querySelector('base')));\n        if (!baseElement) {\n            return null;\n        }\n    }\n    return baseElement.getAttribute('href');\n}\n/** @type {?} */\nlet urlParsingNode;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction relativePath(url) {\n    if (!urlParsingNode) {\n        urlParsingNode = document.createElement('a');\n    }\n    urlParsingNode.setAttribute('href', url);\n    return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n        '/' + urlParsingNode.pathname;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** *\n * A DI Token representing the main rendering context. In a browser this is the DOM Document.\n *\n * Note: Document might not be available in the Application Context when Application and Rendering\n * Contexts are not the same (e.g. when running the application into a Web Worker).\n *\n * @deprecated import from `\\@angular/common` instead.\n  @type {?} */\nconst DOCUMENT$1 = DOCUMENT;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @return {?}\n */\nfunction supportsState() {\n    return !!window.history.pushState;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * `PlatformLocation` encapsulates all of the direct calls to platform APIs.\n * This class should not be used directly by an application developer. Instead, use\n * {\\@link Location}.\n */\nclass BrowserPlatformLocation extends PlatformLocation {\n    /**\n     * @param {?} _doc\n     */\n    constructor(_doc) {\n        super();\n        this._doc = _doc;\n        this._init();\n    }\n    /**\n     * \\@internal\n     * @return {?}\n     */\n    _init() {\n        (/** @type {?} */ (this)).location = getDOM().getLocation();\n        this._history = getDOM().getHistory();\n    }\n    /**\n     * @return {?}\n     */\n    getBaseHrefFromDOM() { return /** @type {?} */ ((getDOM().getBaseHref(this._doc))); }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    onPopState(fn) {\n        getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('popstate', fn, false);\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    onHashChange(fn) {\n        getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('hashchange', fn, false);\n    }\n    /**\n     * @return {?}\n     */\n    get pathname() { return this.location.pathname; }\n    /**\n     * @return {?}\n     */\n    get search() { return this.location.search; }\n    /**\n     * @return {?}\n     */\n    get hash() { return this.location.hash; }\n    /**\n     * @param {?} newPath\n     * @return {?}\n     */\n    set pathname(newPath) { this.location.pathname = newPath; }\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    pushState(state, title, url) {\n        if (supportsState()) {\n            this._history.pushState(state, title, url);\n        }\n        else {\n            this.location.hash = url;\n        }\n    }\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    replaceState(state, title, url) {\n        if (supportsState()) {\n            this._history.replaceState(state, title, url);\n        }\n        else {\n            this.location.hash = url;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    forward() { this._history.forward(); }\n    /**\n     * @return {?}\n     */\n    back() { this._history.back(); }\n}\nBrowserPlatformLocation.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nBrowserPlatformLocation.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** *\n * An id that identifies a particular application being bootstrapped, that should\n * match across the client/server boundary.\n  @type {?} */\nconst TRANSITION_ID = new InjectionToken('TRANSITION_ID');\n/**\n * @param {?} transitionId\n * @param {?} document\n * @param {?} injector\n * @return {?}\n */\nfunction appInitializerFactory(transitionId, document, injector) {\n    return () => {\n        // Wait for all application initializers to be completed before removing the styles set by\n        // the server.\n        injector.get(ApplicationInitStatus).donePromise.then(() => {\n            /** @type {?} */\n            const dom = getDOM();\n            /** @type {?} */\n            const styles = Array.prototype.slice.apply(dom.querySelectorAll(document, `style[ng-transition]`));\n            styles.filter(el => dom.getAttribute(el, 'ng-transition') === transitionId)\n                .forEach(el => dom.remove(el));\n        });\n    };\n}\n/** @type {?} */\nconst SERVER_TRANSITION_PROVIDERS = [\n    {\n        provide: APP_INITIALIZER,\n        useFactory: appInitializerFactory,\n        deps: [TRANSITION_ID, DOCUMENT$1, Injector],\n        multi: true\n    },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass BrowserGetTestability {\n    /**\n     * @return {?}\n     */\n    static init() { setTestabilityGetter(new BrowserGetTestability()); }\n    /**\n     * @param {?} registry\n     * @return {?}\n     */\n    addToWindow(registry) {\n        ɵglobal['getAngularTestability'] = (elem, findInAncestors = true) => {\n            /** @type {?} */\n            const testability = registry.findTestabilityInTree(elem, findInAncestors);\n            if (testability == null) {\n                throw new Error('Could not find testability for element.');\n            }\n            return testability;\n        };\n        ɵglobal['getAllAngularTestabilities'] = () => registry.getAllTestabilities();\n        ɵglobal['getAllAngularRootElements'] = () => registry.getAllRootElements();\n        /** @type {?} */\n        const whenAllStable = (callback /** TODO #9100 */) => {\n            /** @type {?} */\n            const testabilities = ɵglobal['getAllAngularTestabilities']();\n            /** @type {?} */\n            let count = testabilities.length;\n            /** @type {?} */\n            let didWork = false;\n            /** @type {?} */\n            const decrement = function (didWork_ /** TODO #9100 */) {\n                didWork = didWork || didWork_;\n                count--;\n                if (count == 0) {\n                    callback(didWork);\n                }\n            };\n            testabilities.forEach(function (testability /** TODO #9100 */) {\n                testability.whenStable(decrement);\n            });\n        };\n        if (!ɵglobal['frameworkStabilizers']) {\n            ɵglobal['frameworkStabilizers'] = [];\n        }\n        ɵglobal['frameworkStabilizers'].push(whenAllStable);\n    }\n    /**\n     * @param {?} registry\n     * @param {?} elem\n     * @param {?} findInAncestors\n     * @return {?}\n     */\n    findTestabilityInTree(registry, elem, findInAncestors) {\n        if (elem == null) {\n            return null;\n        }\n        /** @type {?} */\n        const t = registry.getTestability(elem);\n        if (t != null) {\n            return t;\n        }\n        else if (!findInAncestors) {\n            return null;\n        }\n        if (getDOM().isShadowRoot(elem)) {\n            return this.findTestabilityInTree(registry, getDOM().getHost(elem), true);\n        }\n        return this.findTestabilityInTree(registry, getDOM().parentElement(elem), true);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * Exports the value under a given `name` in the global property `ng`. For example `ng.probe` if\n * `name` is `'probe'`.\n * @param {?} name Name under which it will be exported. Keep in mind this will be a property of the\n * global `ng` object.\n * @param {?} value The value to export.\n * @return {?}\n */\nfunction exportNgVar(name, value) {\n    if (typeof COMPILED === 'undefined' || !COMPILED) {\n        /** @type {?} */\n        const ng = ɵglobal['ng'] = (/** @type {?} */ (ɵglobal['ng'])) || {};\n        ng[name] = value;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst CORE_TOKENS = {\n    'ApplicationRef': ApplicationRef,\n    'NgZone': NgZone,\n};\n/** @type {?} */\nconst INSPECT_GLOBAL_NAME = 'probe';\n/** @type {?} */\nconst CORE_TOKENS_GLOBAL_NAME = 'coreTokens';\n/**\n * Returns a {\\@link DebugElement} for the given native DOM element, or\n * null if the given native element does not have an Angular view associated\n * with it.\n * @param {?} element\n * @return {?}\n */\nfunction inspectNativeElement(element) {\n    return getDebugNode(element);\n}\n/**\n * @param {?} coreTokens\n * @return {?}\n */\nfunction _createNgProbe(coreTokens) {\n    exportNgVar(INSPECT_GLOBAL_NAME, inspectNativeElement);\n    exportNgVar(CORE_TOKENS_GLOBAL_NAME, Object.assign({}, CORE_TOKENS, _ngProbeTokensToMap(coreTokens || [])));\n    return () => inspectNativeElement;\n}\n/**\n * @param {?} tokens\n * @return {?}\n */\nfunction _ngProbeTokensToMap(tokens) {\n    return tokens.reduce((prev, t) => (prev[t.name] = t.token, prev), {});\n}\n/** *\n * Providers which support debugging Angular applications (e.g. via `ng.probe`).\n  @type {?} */\nconst ELEMENT_PROBE_PROVIDERS = [\n    {\n        provide: APP_INITIALIZER,\n        useFactory: _createNgProbe,\n        deps: [\n            [NgProbeToken, new Optional()],\n        ],\n        multi: true,\n    },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** *\n * The injection token for the event-manager plug-in service.\n  @type {?} */\nconst EVENT_MANAGER_PLUGINS = new InjectionToken('EventManagerPlugins');\n/**\n * An injectable service that provides event management for Angular\n * through a browser plug-in.\n */\nclass EventManager {\n    /**\n     * Initializes an instance of the event-manager service.\n     * @param {?} plugins\n     * @param {?} _zone\n     */\n    constructor(plugins, _zone) {\n        this._zone = _zone;\n        this._eventNameToPlugin = new Map();\n        plugins.forEach(p => p.manager = this);\n        this._plugins = plugins.slice().reverse();\n    }\n    /**\n     * Registers a handler for a specific element and event.\n     *\n     * @param {?} element The HTML element to receive event notifications.\n     * @param {?} eventName The name of the event to listen for.\n     * @param {?} handler A function to call when the notification occurs. Receives the\n     * event object as an argument.\n     * @return {?} A callback function that can be used to remove the handler.\n     */\n    addEventListener(element, eventName, handler) {\n        /** @type {?} */\n        const plugin = this._findPluginFor(eventName);\n        return plugin.addEventListener(element, eventName, handler);\n    }\n    /**\n     * Registers a global handler for an event in a target view.\n     *\n     * @param {?} target A target for global event notifications. One of \"window\", \"document\", or \"body\".\n     * @param {?} eventName The name of the event to listen for.\n     * @param {?} handler A function to call when the notification occurs. Receives the\n     * event object as an argument.\n     * @return {?} A callback function that can be used to remove the handler.\n     */\n    addGlobalEventListener(target, eventName, handler) {\n        /** @type {?} */\n        const plugin = this._findPluginFor(eventName);\n        return plugin.addGlobalEventListener(target, eventName, handler);\n    }\n    /**\n     * Retrieves the compilation zone in which event listeners are registered.\n     * @return {?}\n     */\n    getZone() { return this._zone; }\n    /**\n     * \\@internal\n     * @param {?} eventName\n     * @return {?}\n     */\n    _findPluginFor(eventName) {\n        /** @type {?} */\n        const plugin = this._eventNameToPlugin.get(eventName);\n        if (plugin) {\n            return plugin;\n        }\n        /** @type {?} */\n        const plugins = this._plugins;\n        for (let i = 0; i < plugins.length; i++) {\n            /** @type {?} */\n            const plugin = plugins[i];\n            if (plugin.supports(eventName)) {\n                this._eventNameToPlugin.set(eventName, plugin);\n                return plugin;\n            }\n        }\n        throw new Error(`No event manager plugin found for event ${eventName}`);\n    }\n}\nEventManager.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nEventManager.ctorParameters = () => [\n    { type: Array, decorators: [{ type: Inject, args: [EVENT_MANAGER_PLUGINS,] }] },\n    { type: NgZone }\n];\n/**\n * @abstract\n */\nclass EventManagerPlugin {\n    /**\n     * @param {?} _doc\n     */\n    constructor(_doc) {\n        this._doc = _doc;\n    }\n    /**\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} handler\n     * @return {?}\n     */\n    addGlobalEventListener(element, eventName, handler) {\n        /** @type {?} */\n        const target = getDOM().getGlobalEventTarget(this._doc, element);\n        if (!target) {\n            throw new Error(`Unsupported event target ${target} for event ${eventName}`);\n        }\n        return this.addEventListener(target, eventName, handler);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass SharedStylesHost {\n    constructor() {\n        /**\n         * \\@internal\n         */\n        this._stylesSet = new Set();\n    }\n    /**\n     * @param {?} styles\n     * @return {?}\n     */\n    addStyles(styles) {\n        /** @type {?} */\n        const additions = new Set();\n        styles.forEach(style => {\n            if (!this._stylesSet.has(style)) {\n                this._stylesSet.add(style);\n                additions.add(style);\n            }\n        });\n        this.onStylesAdded(additions);\n    }\n    /**\n     * @param {?} additions\n     * @return {?}\n     */\n    onStylesAdded(additions) { }\n    /**\n     * @return {?}\n     */\n    getAllStyles() { return Array.from(this._stylesSet); }\n}\nSharedStylesHost.decorators = [\n    { type: Injectable }\n];\nclass DomSharedStylesHost extends SharedStylesHost {\n    /**\n     * @param {?} _doc\n     */\n    constructor(_doc) {\n        super();\n        this._doc = _doc;\n        this._hostNodes = new Set();\n        this._styleNodes = new Set();\n        this._hostNodes.add(_doc.head);\n    }\n    /**\n     * @param {?} styles\n     * @param {?} host\n     * @return {?}\n     */\n    _addStylesToHost(styles, host) {\n        styles.forEach((style) => {\n            /** @type {?} */\n            const styleEl = this._doc.createElement('style');\n            styleEl.textContent = style;\n            this._styleNodes.add(host.appendChild(styleEl));\n        });\n    }\n    /**\n     * @param {?} hostNode\n     * @return {?}\n     */\n    addHost(hostNode) {\n        this._addStylesToHost(this._stylesSet, hostNode);\n        this._hostNodes.add(hostNode);\n    }\n    /**\n     * @param {?} hostNode\n     * @return {?}\n     */\n    removeHost(hostNode) { this._hostNodes.delete(hostNode); }\n    /**\n     * @param {?} additions\n     * @return {?}\n     */\n    onStylesAdded(additions) {\n        this._hostNodes.forEach(hostNode => this._addStylesToHost(additions, hostNode));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() { this._styleNodes.forEach(styleNode => getDOM().remove(styleNode)); }\n}\nDomSharedStylesHost.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nDomSharedStylesHost.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst NAMESPACE_URIS = {\n    'svg': 'http://www.w3.org/2000/svg',\n    'xhtml': 'http://www.w3.org/1999/xhtml',\n    'xlink': 'http://www.w3.org/1999/xlink',\n    'xml': 'http://www.w3.org/XML/1998/namespace',\n    'xmlns': 'http://www.w3.org/2000/xmlns/',\n};\n/** @type {?} */\nconst COMPONENT_REGEX = /%COMP%/g;\n/** @type {?} */\nconst COMPONENT_VARIABLE = '%COMP%';\n/** @type {?} */\nconst HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;\n/** @type {?} */\nconst CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;\n/**\n * @param {?} componentShortId\n * @return {?}\n */\nfunction shimContentAttribute(componentShortId) {\n    return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n/**\n * @param {?} componentShortId\n * @return {?}\n */\nfunction shimHostAttribute(componentShortId) {\n    return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n/**\n * @param {?} compId\n * @param {?} styles\n * @param {?} target\n * @return {?}\n */\nfunction flattenStyles(compId, styles, target) {\n    for (let i = 0; i < styles.length; i++) {\n        /** @type {?} */\n        let style = styles[i];\n        if (Array.isArray(style)) {\n            flattenStyles(compId, style, target);\n        }\n        else {\n            style = style.replace(COMPONENT_REGEX, compId);\n            target.push(style);\n        }\n    }\n    return target;\n}\n/**\n * @param {?} eventHandler\n * @return {?}\n */\nfunction decoratePreventDefault(eventHandler) {\n    return (event) => {\n        /** @type {?} */\n        const allowDefaultBehavior = eventHandler(event);\n        if (allowDefaultBehavior === false) {\n            // TODO(tbosch): move preventDefault into event plugins...\n            event.preventDefault();\n            event.returnValue = false;\n        }\n    };\n}\nclass DomRendererFactory2 {\n    /**\n     * @param {?} eventManager\n     * @param {?} sharedStylesHost\n     */\n    constructor(eventManager, sharedStylesHost) {\n        this.eventManager = eventManager;\n        this.sharedStylesHost = sharedStylesHost;\n        this.rendererByCompId = new Map();\n        this.defaultRenderer = new DefaultDomRenderer2(eventManager);\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    createRenderer(element, type) {\n        if (!element || !type) {\n            return this.defaultRenderer;\n        }\n        switch (type.encapsulation) {\n            case ViewEncapsulation.Emulated: {\n                /** @type {?} */\n                let renderer = this.rendererByCompId.get(type.id);\n                if (!renderer) {\n                    renderer =\n                        new EmulatedEncapsulationDomRenderer2(this.eventManager, this.sharedStylesHost, type);\n                    this.rendererByCompId.set(type.id, renderer);\n                }\n                (/** @type {?} */ (renderer)).applyToHost(element);\n                return renderer;\n            }\n            case ViewEncapsulation.Native:\n            case ViewEncapsulation.ShadowDom:\n                return new ShadowDomRenderer(this.eventManager, this.sharedStylesHost, element, type);\n            default: {\n                if (!this.rendererByCompId.has(type.id)) {\n                    /** @type {?} */\n                    const styles = flattenStyles(type.id, type.styles, []);\n                    this.sharedStylesHost.addStyles(styles);\n                    this.rendererByCompId.set(type.id, this.defaultRenderer);\n                }\n                return this.defaultRenderer;\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    begin() { }\n    /**\n     * @return {?}\n     */\n    end() { }\n}\nDomRendererFactory2.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nDomRendererFactory2.ctorParameters = () => [\n    { type: EventManager },\n    { type: DomSharedStylesHost }\n];\nclass DefaultDomRenderer2 {\n    /**\n     * @param {?} eventManager\n     */\n    constructor(eventManager) {\n        this.eventManager = eventManager;\n        this.data = Object.create(null);\n    }\n    /**\n     * @return {?}\n     */\n    destroy() { }\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    createElement(name, namespace) {\n        if (namespace) {\n            return document.createElementNS(NAMESPACE_URIS[namespace], name);\n        }\n        return document.createElement(name);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    createComment(value) { return document.createComment(value); }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    createText(value) { return document.createTextNode(value); }\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    appendChild(parent, newChild) { parent.appendChild(newChild); }\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    insertBefore(parent, newChild, refChild) {\n        if (parent) {\n            parent.insertBefore(newChild, refChild);\n        }\n    }\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    removeChild(parent, oldChild) {\n        if (parent) {\n            parent.removeChild(oldChild);\n        }\n    }\n    /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    selectRootElement(selectorOrNode) {\n        /** @type {?} */\n        let el = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n            selectorOrNode;\n        if (!el) {\n            throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n        }\n        el.textContent = '';\n        return el;\n    }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    parentNode(node) { return node.parentNode; }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    nextSibling(node) { return node.nextSibling; }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    setAttribute(el, name, value, namespace) {\n        if (namespace) {\n            name = `${namespace}:${name}`;\n            /** @type {?} */\n            const namespaceUri = NAMESPACE_URIS[namespace];\n            if (namespaceUri) {\n                el.setAttributeNS(namespaceUri, name, value);\n            }\n            else {\n                el.setAttribute(name, value);\n            }\n        }\n        else {\n            el.setAttribute(name, value);\n        }\n    }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    removeAttribute(el, name, namespace) {\n        if (namespace) {\n            /** @type {?} */\n            const namespaceUri = NAMESPACE_URIS[namespace];\n            if (namespaceUri) {\n                el.removeAttributeNS(namespaceUri, name);\n            }\n            else {\n                el.removeAttribute(`${namespace}:${name}`);\n            }\n        }\n        else {\n            el.removeAttribute(name);\n        }\n    }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    addClass(el, name) { el.classList.add(name); }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    removeClass(el, name) { el.classList.remove(name); }\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    setStyle(el, style, value, flags) {\n        if (flags & RendererStyleFlags2.DashCase) {\n            el.style.setProperty(style, value, !!(flags & RendererStyleFlags2.Important) ? 'important' : '');\n        }\n        else {\n            el.style[style] = value;\n        }\n    }\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    removeStyle(el, style, flags) {\n        if (flags & RendererStyleFlags2.DashCase) {\n            el.style.removeProperty(style);\n        }\n        else {\n            // IE requires '' instead of null\n            // see https://github.com/angular/angular/issues/7916\n            el.style[style] = '';\n        }\n    }\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    setProperty(el, name, value) {\n        checkNoSyntheticProp(name, 'property');\n        el[name] = value;\n    }\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    setValue(node, value) { node.nodeValue = value; }\n    /**\n     * @param {?} target\n     * @param {?} event\n     * @param {?} callback\n     * @return {?}\n     */\n    listen(target, event, callback) {\n        checkNoSyntheticProp(event, 'listener');\n        if (typeof target === 'string') {\n            return /** @type {?} */ (this.eventManager.addGlobalEventListener(target, event, decoratePreventDefault(callback)));\n        }\n        return /** @type {?} */ ((this.eventManager.addEventListener(target, event, decoratePreventDefault(callback))));\n    }\n}\n/** @type {?} */\nconst AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name, nameKind) {\n    if (name.charCodeAt(0) === AT_CHARCODE) {\n        throw new Error(`Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n    }\n}\nclass EmulatedEncapsulationDomRenderer2 extends DefaultDomRenderer2 {\n    /**\n     * @param {?} eventManager\n     * @param {?} sharedStylesHost\n     * @param {?} component\n     */\n    constructor(eventManager, sharedStylesHost, component) {\n        super(eventManager);\n        this.component = component;\n        /** @type {?} */\n        const styles = flattenStyles(component.id, component.styles, []);\n        sharedStylesHost.addStyles(styles);\n        this.contentAttr = shimContentAttribute(component.id);\n        this.hostAttr = shimHostAttribute(component.id);\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    applyToHost(element) { super.setAttribute(element, this.hostAttr, ''); }\n    /**\n     * @param {?} parent\n     * @param {?} name\n     * @return {?}\n     */\n    createElement(parent, name) {\n        /** @type {?} */\n        const el = super.createElement(parent, name);\n        super.setAttribute(el, this.contentAttr, '');\n        return el;\n    }\n}\nclass ShadowDomRenderer extends DefaultDomRenderer2 {\n    /**\n     * @param {?} eventManager\n     * @param {?} sharedStylesHost\n     * @param {?} hostEl\n     * @param {?} component\n     */\n    constructor(eventManager, sharedStylesHost, hostEl, component) {\n        super(eventManager);\n        this.sharedStylesHost = sharedStylesHost;\n        this.hostEl = hostEl;\n        this.component = component;\n        if (component.encapsulation === ViewEncapsulation.ShadowDom) {\n            this.shadowRoot = (/** @type {?} */ (hostEl)).attachShadow({ mode: 'open' });\n        }\n        else {\n            this.shadowRoot = (/** @type {?} */ (hostEl)).createShadowRoot();\n        }\n        this.sharedStylesHost.addHost(this.shadowRoot);\n        /** @type {?} */\n        const styles = flattenStyles(component.id, component.styles, []);\n        for (let i = 0; i < styles.length; i++) {\n            /** @type {?} */\n            const styleEl = document.createElement('style');\n            styleEl.textContent = styles[i];\n            this.shadowRoot.appendChild(styleEl);\n        }\n    }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    nodeOrShadowRoot(node) { return node === this.hostEl ? this.shadowRoot : node; }\n    /**\n     * @return {?}\n     */\n    destroy() { this.sharedStylesHost.removeHost(this.shadowRoot); }\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    appendChild(parent, newChild) {\n        return super.appendChild(this.nodeOrShadowRoot(parent), newChild);\n    }\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    insertBefore(parent, newChild, refChild) {\n        return super.insertBefore(this.nodeOrShadowRoot(parent), newChild, refChild);\n    }\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    removeChild(parent, oldChild) {\n        return super.removeChild(this.nodeOrShadowRoot(parent), oldChild);\n    }\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    parentNode(node) {\n        return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)));\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nconst ɵ0 = function (v) {\n    return '__zone_symbol__' + v;\n};\n/** *\n * Detect if Zone is present. If it is then use simple zone aware 'addEventListener'\n * since Angular can do much more\n * efficient bookkeeping than Zone can, because we have additional information. This speeds up\n * addEventListener by 3x.\n  @type {?} */\nconst __symbol__ = (typeof Zone !== 'undefined') && (/** @type {?} */ (Zone))['__symbol__'] || ɵ0;\n/** @type {?} */\nconst ADD_EVENT_LISTENER = __symbol__('addEventListener');\n/** @type {?} */\nconst REMOVE_EVENT_LISTENER = __symbol__('removeEventListener');\n/** @type {?} */\nconst symbolNames = {};\n/** @type {?} */\nconst FALSE = 'FALSE';\n/** @type {?} */\nconst ANGULAR = 'ANGULAR';\n/** @type {?} */\nconst NATIVE_ADD_LISTENER = 'addEventListener';\n/** @type {?} */\nconst NATIVE_REMOVE_LISTENER = 'removeEventListener';\n/** @type {?} */\nconst stopSymbol = '__zone_symbol__propagationStopped';\n/** @type {?} */\nconst stopMethodSymbol = '__zone_symbol__stopImmediatePropagation';\n/** @type {?} */\nconst blackListedEvents = (typeof Zone !== 'undefined') && (/** @type {?} */ (Zone))[__symbol__('BLACK_LISTED_EVENTS')];\n/** @type {?} */\nlet blackListedMap;\nif (blackListedEvents) {\n    blackListedMap = {};\n    blackListedEvents.forEach(eventName => { blackListedMap[eventName] = eventName; });\n}\n/** @type {?} */\nconst isBlackListedEvent = function (eventName) {\n    if (!blackListedMap) {\n        return false;\n    }\n    return blackListedMap.hasOwnProperty(eventName);\n};\n/** @type {?} */\nconst globalListener = function (event) {\n    /** @type {?} */\n    const symbolName = symbolNames[event.type];\n    if (!symbolName) {\n        return;\n    }\n    /** @type {?} */\n    const taskDatas = this[symbolName];\n    if (!taskDatas) {\n        return;\n    }\n    /** @type {?} */\n    const args = [event];\n    if (taskDatas.length === 1) {\n        /** @type {?} */\n        const taskData = taskDatas[0];\n        if (taskData.zone !== Zone.current) {\n            // only use Zone.run when Zone.current not equals to stored zone\n            return taskData.zone.run(taskData.handler, this, args);\n        }\n        else {\n            return taskData.handler.apply(this, args);\n        }\n    }\n    else {\n        /** @type {?} */\n        const copiedTasks = taskDatas.slice();\n        for (let i = 0; i < copiedTasks.length; i++) {\n            // if other listener call event.stopImmediatePropagation\n            // just break\n            if ((/** @type {?} */ (event))[stopSymbol] === true) {\n                break;\n            }\n            /** @type {?} */\n            const taskData = copiedTasks[i];\n            if (taskData.zone !== Zone.current) {\n                // only use Zone.run when Zone.current not equals to stored zone\n                taskData.zone.run(taskData.handler, this, args);\n            }\n            else {\n                taskData.handler.apply(this, args);\n            }\n        }\n    }\n};\nclass DomEventsPlugin extends EventManagerPlugin {\n    /**\n     * @param {?} doc\n     * @param {?} ngZone\n     * @param {?} platformId\n     */\n    constructor(doc, ngZone, platformId) {\n        super(doc);\n        this.ngZone = ngZone;\n        if (!platformId || !isPlatformServer(platformId)) {\n            this.patchEvent();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    patchEvent() {\n        if (typeof Event === 'undefined' || !Event || !Event.prototype) {\n            return;\n        }\n        if ((/** @type {?} */ (Event.prototype))[stopMethodSymbol]) {\n            // already patched by zone.js\n            return;\n        }\n        /** @type {?} */\n        const delegate = (/** @type {?} */ (Event.prototype))[stopMethodSymbol] =\n            Event.prototype.stopImmediatePropagation;\n        Event.prototype.stopImmediatePropagation = function () {\n            if (this) {\n                this[stopSymbol] = true;\n            }\n            // should call native delegate in case\n            // in some environment part of the application\n            // will not use the patched Event\n            delegate && delegate.apply(this, arguments);\n        };\n    }\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    supports(eventName) { return true; }\n    /**\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} handler\n     * @return {?}\n     */\n    addEventListener(element, eventName, handler) {\n        /** @type {?} */\n        const zoneJsLoaded = element[ADD_EVENT_LISTENER];\n        /** @type {?} */\n        let callback = /** @type {?} */ (handler);\n        // if zonejs is loaded and current zone is not ngZone\n        // we keep Zone.current on target for later restoration.\n        if (zoneJsLoaded && (!NgZone.isInAngularZone() || isBlackListedEvent(eventName))) {\n            /** @type {?} */\n            let symbolName = symbolNames[eventName];\n            if (!symbolName) {\n                symbolName = symbolNames[eventName] = __symbol__(ANGULAR + eventName + FALSE);\n            }\n            /** @type {?} */\n            let taskDatas = (/** @type {?} */ (element))[symbolName];\n            /** @type {?} */\n            const globalListenerRegistered = taskDatas && taskDatas.length > 0;\n            if (!taskDatas) {\n                taskDatas = (/** @type {?} */ (element))[symbolName] = [];\n            }\n            /** @type {?} */\n            const zone = isBlackListedEvent(eventName) ? Zone.root : Zone.current;\n            if (taskDatas.length === 0) {\n                taskDatas.push({ zone: zone, handler: callback });\n            }\n            else {\n                /** @type {?} */\n                let callbackRegistered = false;\n                for (let i = 0; i < taskDatas.length; i++) {\n                    if (taskDatas[i].handler === callback) {\n                        callbackRegistered = true;\n                        break;\n                    }\n                }\n                if (!callbackRegistered) {\n                    taskDatas.push({ zone: zone, handler: callback });\n                }\n            }\n            if (!globalListenerRegistered) {\n                element[ADD_EVENT_LISTENER](eventName, globalListener, false);\n            }\n        }\n        else {\n            element[NATIVE_ADD_LISTENER](eventName, callback, false);\n        }\n        return () => this.removeEventListener(element, eventName, callback);\n    }\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    removeEventListener(target, eventName, callback) {\n        /** @type {?} */\n        let underlyingRemove = target[REMOVE_EVENT_LISTENER];\n        // zone.js not loaded, use native removeEventListener\n        if (!underlyingRemove) {\n            return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n        }\n        /** @type {?} */\n        let symbolName = symbolNames[eventName];\n        /** @type {?} */\n        let taskDatas = symbolName && target[symbolName];\n        if (!taskDatas) {\n            // addEventListener not using patched version\n            // just call native removeEventListener\n            return target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n        }\n        /** @type {?} */\n        let found = false;\n        for (let i = 0; i < taskDatas.length; i++) {\n            // remove listener from taskDatas if the callback equals\n            if (taskDatas[i].handler === callback) {\n                found = true;\n                taskDatas.splice(i, 1);\n                break;\n            }\n        }\n        if (found) {\n            if (taskDatas.length === 0) {\n                // all listeners are removed, we can remove the globalListener from target\n                underlyingRemove.apply(target, [eventName, globalListener, false]);\n            }\n        }\n        else {\n            // not found in taskDatas, the callback may be added inside of ngZone\n            // use native remove listener to remove the callback\n            target[NATIVE_REMOVE_LISTENER].apply(target, [eventName, callback, false]);\n        }\n    }\n}\nDomEventsPlugin.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nDomEventsPlugin.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] },\n    { type: NgZone },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [PLATFORM_ID,] }] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** *\n * Supported HammerJS recognizer event names.\n  @type {?} */\nconst EVENT_NAMES = {\n    // pan\n    'pan': true,\n    'panstart': true,\n    'panmove': true,\n    'panend': true,\n    'pancancel': true,\n    'panleft': true,\n    'panright': true,\n    'panup': true,\n    'pandown': true,\n    // pinch\n    'pinch': true,\n    'pinchstart': true,\n    'pinchmove': true,\n    'pinchend': true,\n    'pinchcancel': true,\n    'pinchin': true,\n    'pinchout': true,\n    // press\n    'press': true,\n    'pressup': true,\n    // rotate\n    'rotate': true,\n    'rotatestart': true,\n    'rotatemove': true,\n    'rotateend': true,\n    'rotatecancel': true,\n    // swipe\n    'swipe': true,\n    'swipeleft': true,\n    'swiperight': true,\n    'swipeup': true,\n    'swipedown': true,\n    // tap\n    'tap': true,\n};\n/** *\n * DI token for providing [HammerJS](http://hammerjs.github.io/) support to Angular.\n * @see `HammerGestureConfig`\n *\n * \\@experimental\n  @type {?} */\nconst HAMMER_GESTURE_CONFIG = new InjectionToken('HammerGestureConfig');\n/** *\n * Injection token used to provide a {\\@link HammerLoader} to Angular.\n  @type {?} */\nconst HAMMER_LOADER = new InjectionToken('HammerLoader');\n/**\n * An injectable [HammerJS Manager](http://hammerjs.github.io/api/#hammer.manager)\n * for gesture recognition. Configures specific event recognition.\n * \\@experimental\n */\nclass HammerGestureConfig {\n    constructor() {\n        /**\n         * A set of supported event names for gestures to be used in Angular.\n         * Angular supports all built-in recognizers, as listed in\n         * [HammerJS documentation](http://hammerjs.github.io/).\n         */\n        this.events = [];\n        /**\n         * Maps gesture event names to a set of configuration options\n         * that specify overrides to the default values for specific properties.\n         *\n         * The key is a supported event name to be configured,\n         * and the options object contains a set of properties, with override values\n         * to be applied to the named recognizer event.\n         * For example, to disable recognition of the rotate event, specify\n         *  `{\"rotate\": {\"enable\": false}}`.\n         *\n         * Properties that are not present take the HammerJS default values.\n         * For information about which properties are supported for which events,\n         * and their allowed and default values, see\n         * [HammerJS documentation](http://hammerjs.github.io/).\n         *\n         */\n        this.overrides = {};\n    }\n    /**\n     * Creates a [HammerJS Manager](http://hammerjs.github.io/api/#hammer.manager)\n     * and attaches it to a given HTML element.\n     * @param {?} element The element that will recognize gestures.\n     * @return {?} A HammerJS event-manager object.\n     */\n    buildHammer(element) {\n        /** @type {?} */\n        const mc = new /** @type {?} */ ((Hammer))(element, this.options);\n        mc.get('pinch').set({ enable: true });\n        mc.get('rotate').set({ enable: true });\n        for (const eventName in this.overrides) {\n            mc.get(eventName).set(this.overrides[eventName]);\n        }\n        return mc;\n    }\n}\nHammerGestureConfig.decorators = [\n    { type: Injectable }\n];\nclass HammerGesturesPlugin extends EventManagerPlugin {\n    /**\n     * @param {?} doc\n     * @param {?} _config\n     * @param {?} console\n     * @param {?=} loader\n     */\n    constructor(doc, _config, console, loader) {\n        super(doc);\n        this._config = _config;\n        this.console = console;\n        this.loader = loader;\n    }\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    supports(eventName) {\n        if (!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase()) && !this.isCustomEvent(eventName)) {\n            return false;\n        }\n        if (!(/** @type {?} */ (window)).Hammer && !this.loader) {\n            this.console.warn(`The \"${eventName}\" event cannot be bound because Hammer.JS is not ` +\n                `loaded and no custom loader has been specified.`);\n            return false;\n        }\n        return true;\n    }\n    /**\n     * @param {?} element\n     * @param {?} eventName\n     * @param {?} handler\n     * @return {?}\n     */\n    addEventListener(element, eventName, handler) {\n        /** @type {?} */\n        const zone = this.manager.getZone();\n        eventName = eventName.toLowerCase();\n        // If Hammer is not present but a loader is specified, we defer adding the event listener\n        // until Hammer is loaded.\n        if (!(/** @type {?} */ (window)).Hammer && this.loader) {\n            /** @type {?} */\n            let cancelRegistration = false;\n            /** @type {?} */\n            let deregister = () => { cancelRegistration = true; };\n            this.loader()\n                .then(() => {\n                // If Hammer isn't actually loaded when the custom loader resolves, give up.\n                if (!(/** @type {?} */ (window)).Hammer) {\n                    this.console.warn(`The custom HAMMER_LOADER completed, but Hammer.JS is not present.`);\n                    deregister = () => { };\n                    return;\n                }\n                if (!cancelRegistration) {\n                    // Now that Hammer is loaded and the listener is being loaded for real,\n                    // the deregistration function changes from canceling registration to removal.\n                    deregister = this.addEventListener(element, eventName, handler);\n                }\n            })\n                .catch(() => {\n                this.console.warn(`The \"${eventName}\" event cannot be bound because the custom ` +\n                    `Hammer.JS loader failed.`);\n                deregister = () => { };\n            });\n            // Return a function that *executes* `deregister` (and not `deregister` itself) so that we\n            // can change the behavior of `deregister` once the listener is added. Using a closure in\n            // this way allows us to avoid any additional data structures to track listener removal.\n            return () => { deregister(); };\n        }\n        return zone.runOutsideAngular(() => {\n            /** @type {?} */\n            const mc = this._config.buildHammer(element);\n            /** @type {?} */\n            const callback = function (eventObj) {\n                zone.runGuarded(function () { handler(eventObj); });\n            };\n            mc.on(eventName, callback);\n            return () => {\n                mc.off(eventName, callback);\n                // destroy mc to prevent memory leak\n                if (typeof mc.destroy === 'function') {\n                    mc.destroy();\n                }\n            };\n        });\n    }\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    isCustomEvent(eventName) { return this._config.events.indexOf(eventName) > -1; }\n}\nHammerGesturesPlugin.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nHammerGesturesPlugin.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] },\n    { type: HammerGestureConfig, decorators: [{ type: Inject, args: [HAMMER_GESTURE_CONFIG,] }] },\n    { type: ɵConsole },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [HAMMER_LOADER,] }] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** *\n * Defines supported modifiers for key events.\n  @type {?} */\nconst MODIFIER_KEYS = ['alt', 'control', 'meta', 'shift'];\nconst ɵ0$1 = (event) => event.altKey, ɵ1$1 = (event) => event.ctrlKey, ɵ2$1 = (event) => event.metaKey, ɵ3 = (event) => event.shiftKey;\n/** *\n * Retrieves modifiers from key-event objects.\n  @type {?} */\nconst MODIFIER_KEY_GETTERS = {\n    'alt': ɵ0$1,\n    'control': ɵ1$1,\n    'meta': ɵ2$1,\n    'shift': ɵ3\n};\n/**\n * \\@experimental\n * A browser plug-in that provides support for handling of key events in Angular.\n */\nclass KeyEventsPlugin extends EventManagerPlugin {\n    /**\n     * Initializes an instance of the browser plug-in.\n     * @param {?} doc The document in which key events will be detected.\n     */\n    constructor(doc) { super(doc); }\n    /**\n     * Reports whether a named key event is supported.\n     * @param {?} eventName The event name to query.\n     * @return {?} True if the named key event is supported.\n     */\n    supports(eventName) { return KeyEventsPlugin.parseEventName(eventName) != null; }\n    /**\n     * Registers a handler for a specific element and key event.\n     * @param {?} element The HTML element to receive event notifications.\n     * @param {?} eventName The name of the key event to listen for.\n     * @param {?} handler A function to call when the notification occurs. Receives the\n     * event object as an argument.\n     * @return {?} The key event that was registered.\n     */\n    addEventListener(element, eventName, handler) {\n        /** @type {?} */\n        const parsedEvent = /** @type {?} */ ((KeyEventsPlugin.parseEventName(eventName)));\n        /** @type {?} */\n        const outsideHandler = KeyEventsPlugin.eventCallback(parsedEvent['fullKey'], handler, this.manager.getZone());\n        return this.manager.getZone().runOutsideAngular(() => {\n            return getDOM().onAndCancel(element, parsedEvent['domEventName'], outsideHandler);\n        });\n    }\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    static parseEventName(eventName) {\n        /** @type {?} */\n        const parts = eventName.toLowerCase().split('.');\n        /** @type {?} */\n        const domEventName = parts.shift();\n        if ((parts.length === 0) || !(domEventName === 'keydown' || domEventName === 'keyup')) {\n            return null;\n        }\n        /** @type {?} */\n        const key = KeyEventsPlugin._normalizeKey(/** @type {?} */ ((parts.pop())));\n        /** @type {?} */\n        let fullKey = '';\n        MODIFIER_KEYS.forEach(modifierName => {\n            /** @type {?} */\n            const index = parts.indexOf(modifierName);\n            if (index > -1) {\n                parts.splice(index, 1);\n                fullKey += modifierName + '.';\n            }\n        });\n        fullKey += key;\n        if (parts.length != 0 || key.length === 0) {\n            // returning null instead of throwing to let another plugin process the event\n            return null;\n        }\n        /** @type {?} */\n        const result = {};\n        result['domEventName'] = domEventName;\n        result['fullKey'] = fullKey;\n        return result;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    static getEventFullKey(event) {\n        /** @type {?} */\n        let fullKey = '';\n        /** @type {?} */\n        let key = getDOM().getEventKey(event);\n        key = key.toLowerCase();\n        if (key === ' ') {\n            key = 'space'; // for readability\n        }\n        else if (key === '.') {\n            key = 'dot'; // because '.' is used as a separator in event names\n        }\n        MODIFIER_KEYS.forEach(modifierName => {\n            if (modifierName != key) {\n                /** @type {?} */\n                const modifierGetter = MODIFIER_KEY_GETTERS[modifierName];\n                if (modifierGetter(event)) {\n                    fullKey += modifierName + '.';\n                }\n            }\n        });\n        fullKey += key;\n        return fullKey;\n    }\n    /**\n     * Configures a handler callback for a key event.\n     * @param {?} fullKey The event name that combines all simultaneous keystrokes.\n     * @param {?} handler The function that responds to the key event.\n     * @param {?} zone The zone in which the event occurred.\n     * @return {?} A callback function.\n     */\n    static eventCallback(fullKey, handler, zone) {\n        return (event /** TODO #9100 */) => {\n            if (KeyEventsPlugin.getEventFullKey(event) === fullKey) {\n                zone.runGuarded(() => handler(event));\n            }\n        };\n    }\n    /**\n     * \\@internal\n     * @param {?} keyName\n     * @return {?}\n     */\n    static _normalizeKey(keyName) {\n        // TODO: switch to a Map if the mapping grows too much\n        switch (keyName) {\n            case 'esc':\n                return 'escape';\n            default:\n                return keyName;\n        }\n    }\n}\nKeyEventsPlugin.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nKeyEventsPlugin.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * DomSanitizer helps preventing Cross Site Scripting Security bugs (XSS) by sanitizing\n * values to be safe to use in the different DOM contexts.\n *\n * For example, when binding a URL in an `<a [href]=\"someValue\">` hyperlink, `someValue` will be\n * sanitized so that an attacker cannot inject e.g. a `javascript:` URL that would execute code on\n * the website.\n *\n * In specific situations, it might be necessary to disable sanitization, for example if the\n * application genuinely needs to produce a `javascript:` style link with a dynamic value in it.\n * Users can bypass security by constructing a value with one of the `bypassSecurityTrust...`\n * methods, and then binding to that value from the template.\n *\n * These situations should be very rare, and extraordinary care must be taken to avoid creating a\n * Cross Site Scripting (XSS) security bug!\n *\n * When using `bypassSecurityTrust...`, make sure to call the method as early as possible and as\n * close as possible to the source of the value, to make it easy to verify no security bug is\n * created by its use.\n *\n * It is not required (and not recommended) to bypass security if the value is safe, e.g. a URL that\n * does not start with a suspicious protocol, or an HTML snippet that does not contain dangerous\n * code. The sanitizer leaves safe values intact.\n *\n * \\@security Calling any of the `bypassSecurityTrust...` APIs disables Angular's built-in\n * sanitization for the value passed in. Carefully check and audit all values and code paths going\n * into this call. Make sure any user data is appropriately escaped for this security context.\n * For more detail, see the [Security Guide](http://g.co/ng/security).\n *\n *\n * @abstract\n */\nclass DomSanitizer {\n}\nclass DomSanitizerImpl extends DomSanitizer {\n    /**\n     * @param {?} _doc\n     */\n    constructor(_doc) {\n        super();\n        this._doc = _doc;\n    }\n    /**\n     * @param {?} ctx\n     * @param {?} value\n     * @return {?}\n     */\n    sanitize(ctx, value) {\n        if (value == null)\n            return null;\n        switch (ctx) {\n            case SecurityContext.NONE:\n                return /** @type {?} */ (value);\n            case SecurityContext.HTML:\n                if (value instanceof SafeHtmlImpl)\n                    return value.changingThisBreaksApplicationSecurity;\n                this.checkNotSafeValue(value, 'HTML');\n                return ɵ_sanitizeHtml(this._doc, String(value));\n            case SecurityContext.STYLE:\n                if (value instanceof SafeStyleImpl)\n                    return value.changingThisBreaksApplicationSecurity;\n                this.checkNotSafeValue(value, 'Style');\n                return ɵ_sanitizeStyle(/** @type {?} */ (value));\n            case SecurityContext.SCRIPT:\n                if (value instanceof SafeScriptImpl)\n                    return value.changingThisBreaksApplicationSecurity;\n                this.checkNotSafeValue(value, 'Script');\n                throw new Error('unsafe value used in a script context');\n            case SecurityContext.URL:\n                if (value instanceof SafeResourceUrlImpl || value instanceof SafeUrlImpl) {\n                    // Allow resource URLs in URL contexts, they are strictly more trusted.\n                    return value.changingThisBreaksApplicationSecurity;\n                }\n                this.checkNotSafeValue(value, 'URL');\n                return ɵ_sanitizeUrl(String(value));\n            case SecurityContext.RESOURCE_URL:\n                if (value instanceof SafeResourceUrlImpl) {\n                    return value.changingThisBreaksApplicationSecurity;\n                }\n                this.checkNotSafeValue(value, 'ResourceURL');\n                throw new Error('unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');\n            default:\n                throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`);\n        }\n    }\n    /**\n     * @param {?} value\n     * @param {?} expectedType\n     * @return {?}\n     */\n    checkNotSafeValue(value, expectedType) {\n        if (value instanceof SafeValueImpl) {\n            throw new Error(`Required a safe ${expectedType}, got a ${value.getTypeName()} ` +\n                `(see http://g.co/ng/security#xss)`);\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    bypassSecurityTrustHtml(value) { return new SafeHtmlImpl(value); }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    bypassSecurityTrustStyle(value) { return new SafeStyleImpl(value); }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    bypassSecurityTrustScript(value) { return new SafeScriptImpl(value); }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    bypassSecurityTrustUrl(value) { return new SafeUrlImpl(value); }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    bypassSecurityTrustResourceUrl(value) {\n        return new SafeResourceUrlImpl(value);\n    }\n}\nDomSanitizerImpl.decorators = [\n    { type: Injectable }\n];\n/** @nocollapse */\nDomSanitizerImpl.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] }\n];\n/**\n * @abstract\n */\nclass SafeValueImpl {\n    /**\n     * @param {?} changingThisBreaksApplicationSecurity\n     */\n    constructor(changingThisBreaksApplicationSecurity) {\n        // empty\n        this.changingThisBreaksApplicationSecurity = changingThisBreaksApplicationSecurity;\n    }\n    /**\n     * @return {?}\n     */\n    toString() {\n        return `SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}` +\n            ` (see http://g.co/ng/security#xss)`;\n    }\n}\nclass SafeHtmlImpl extends SafeValueImpl {\n    /**\n     * @return {?}\n     */\n    getTypeName() { return 'HTML'; }\n}\nclass SafeStyleImpl extends SafeValueImpl {\n    /**\n     * @return {?}\n     */\n    getTypeName() { return 'Style'; }\n}\nclass SafeScriptImpl extends SafeValueImpl {\n    /**\n     * @return {?}\n     */\n    getTypeName() { return 'Script'; }\n}\nclass SafeUrlImpl extends SafeValueImpl {\n    /**\n     * @return {?}\n     */\n    getTypeName() { return 'URL'; }\n}\nclass SafeResourceUrlImpl extends SafeValueImpl {\n    /**\n     * @return {?}\n     */\n    getTypeName() { return 'ResourceURL'; }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst INTERNAL_BROWSER_PLATFORM_PROVIDERS = [\n    { provide: PLATFORM_ID, useValue: ɵPLATFORM_BROWSER_ID },\n    { provide: PLATFORM_INITIALIZER, useValue: initDomAdapter, multi: true },\n    { provide: PlatformLocation, useClass: BrowserPlatformLocation, deps: [DOCUMENT$1] },\n    { provide: DOCUMENT$1, useFactory: _document, deps: [] },\n];\n/** *\n * \\@security Replacing built-in sanitization providers exposes the application to XSS risks.\n * Attacker-controlled data introduced by an unsanitized provider could expose your\n * application to XSS risks. For more detail, see the [Security Guide](http://g.co/ng/security).\n * \\@experimental\n  @type {?} */\nconst BROWSER_SANITIZATION_PROVIDERS = [\n    { provide: Sanitizer, useExisting: DomSanitizer },\n    { provide: DomSanitizer, useClass: DomSanitizerImpl, deps: [DOCUMENT$1] },\n];\n/** @type {?} */\nconst platformBrowser = createPlatformFactory(platformCore, 'browser', INTERNAL_BROWSER_PLATFORM_PROVIDERS);\n/**\n * @return {?}\n */\nfunction initDomAdapter() {\n    BrowserDomAdapter.makeCurrent();\n    BrowserGetTestability.init();\n}\n/**\n * @return {?}\n */\nfunction errorHandler() {\n    return new ErrorHandler();\n}\n/**\n * @return {?}\n */\nfunction _document() {\n    return document;\n}\n/** @type {?} */\nconst BROWSER_MODULE_PROVIDERS = [\n    BROWSER_SANITIZATION_PROVIDERS,\n    { provide: ɵAPP_ROOT, useValue: true },\n    { provide: ErrorHandler, useFactory: errorHandler, deps: [] },\n    {\n        provide: EVENT_MANAGER_PLUGINS,\n        useClass: DomEventsPlugin,\n        multi: true,\n        deps: [DOCUMENT$1, NgZone, PLATFORM_ID]\n    },\n    { provide: EVENT_MANAGER_PLUGINS, useClass: KeyEventsPlugin, multi: true, deps: [DOCUMENT$1] },\n    {\n        provide: EVENT_MANAGER_PLUGINS,\n        useClass: HammerGesturesPlugin,\n        multi: true,\n        deps: [DOCUMENT$1, HAMMER_GESTURE_CONFIG, ɵConsole, [new Optional(), HAMMER_LOADER]]\n    },\n    { provide: HAMMER_GESTURE_CONFIG, useClass: HammerGestureConfig, deps: [] },\n    {\n        provide: DomRendererFactory2,\n        useClass: DomRendererFactory2,\n        deps: [EventManager, DomSharedStylesHost]\n    },\n    { provide: RendererFactory2, useExisting: DomRendererFactory2 },\n    { provide: SharedStylesHost, useExisting: DomSharedStylesHost },\n    { provide: DomSharedStylesHost, useClass: DomSharedStylesHost, deps: [DOCUMENT$1] },\n    { provide: Testability, useClass: Testability, deps: [NgZone] },\n    { provide: EventManager, useClass: EventManager, deps: [EVENT_MANAGER_PLUGINS, NgZone] },\n    ELEMENT_PROBE_PROVIDERS,\n];\n/**\n * Exports required infrastructure for all Angular apps.\n * Included by defaults in all Angular apps created with the CLI\n * `new` command.\n * Re-exports `CommonModule` and `ApplicationModule`, making their\n * exports and providers available to all apps.\n *\n *\n */\nclass BrowserModule {\n    /**\n     * @param {?} parentModule\n     */\n    constructor(parentModule) {\n        if (parentModule) {\n            throw new Error(`BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);\n        }\n    }\n    /**\n     * Configures a browser-based app to transition from a server-rendered app, if\n     * one is present on the page.\n     *\n     * \\@experimental\n     * @param {?} params An object containing an identifier for the app to transition.\n     * The ID must match between the client and server versions of the app.\n     * @return {?} The reconfigured `BrowserModule` to import into the app's root `AppModule`.\n     *\n     */\n    static withServerTransition(params) {\n        return {\n            ngModule: BrowserModule,\n            providers: [\n                { provide: APP_ID, useValue: params.appId },\n                { provide: TRANSITION_ID, useExisting: APP_ID },\n                SERVER_TRANSITION_PROVIDERS,\n            ],\n        };\n    }\n}\nBrowserModule.decorators = [\n    { type: NgModule, args: [{ providers: BROWSER_MODULE_PROVIDERS, exports: [CommonModule, ApplicationModule] },] }\n];\n/** @nocollapse */\nBrowserModule.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Optional }, { type: SkipSelf }, { type: Inject, args: [BrowserModule,] }] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * Factory to create Meta service.\n * @return {?}\n */\nfunction createMeta() {\n    return new Meta(inject(DOCUMENT$1));\n}\n/**\n * A service that can be used to get and add meta tags.\n *\n * \\@experimental\n */\nclass Meta {\n    /**\n     * @param {?} _doc\n     */\n    constructor(_doc) {\n        this._doc = _doc;\n        this._dom = getDOM();\n    }\n    /**\n     * @param {?} tag\n     * @param {?=} forceCreation\n     * @return {?}\n     */\n    addTag(tag, forceCreation = false) {\n        if (!tag)\n            return null;\n        return this._getOrCreateElement(tag, forceCreation);\n    }\n    /**\n     * @param {?} tags\n     * @param {?=} forceCreation\n     * @return {?}\n     */\n    addTags(tags, forceCreation = false) {\n        if (!tags)\n            return [];\n        return tags.reduce((result, tag) => {\n            if (tag) {\n                result.push(this._getOrCreateElement(tag, forceCreation));\n            }\n            return result;\n        }, []);\n    }\n    /**\n     * @param {?} attrSelector\n     * @return {?}\n     */\n    getTag(attrSelector) {\n        if (!attrSelector)\n            return null;\n        return this._dom.querySelector(this._doc, `meta[${attrSelector}]`) || null;\n    }\n    /**\n     * @param {?} attrSelector\n     * @return {?}\n     */\n    getTags(attrSelector) {\n        if (!attrSelector)\n            return [];\n        /** @type {?} */\n        const list = this._dom.querySelectorAll(this._doc, `meta[${attrSelector}]`);\n        return list ? [].slice.call(list) : [];\n    }\n    /**\n     * @param {?} tag\n     * @param {?=} selector\n     * @return {?}\n     */\n    updateTag(tag, selector) {\n        if (!tag)\n            return null;\n        selector = selector || this._parseSelector(tag);\n        /** @type {?} */\n        const meta = /** @type {?} */ ((this.getTag(selector)));\n        if (meta) {\n            return this._setMetaElementAttributes(tag, meta);\n        }\n        return this._getOrCreateElement(tag, true);\n    }\n    /**\n     * @param {?} attrSelector\n     * @return {?}\n     */\n    removeTag(attrSelector) { this.removeTagElement(/** @type {?} */ ((this.getTag(attrSelector)))); }\n    /**\n     * @param {?} meta\n     * @return {?}\n     */\n    removeTagElement(meta) {\n        if (meta) {\n            this._dom.remove(meta);\n        }\n    }\n    /**\n     * @param {?} meta\n     * @param {?=} forceCreation\n     * @return {?}\n     */\n    _getOrCreateElement(meta, forceCreation = false) {\n        if (!forceCreation) {\n            /** @type {?} */\n            const selector = this._parseSelector(meta);\n            /** @type {?} */\n            const elem = /** @type {?} */ ((this.getTag(selector)));\n            // It's allowed to have multiple elements with the same name so it's not enough to\n            // just check that element with the same name already present on the page. We also need to\n            // check if element has tag attributes\n            if (elem && this._containsAttributes(meta, elem))\n                return elem;\n        }\n        /** @type {?} */\n        const element = /** @type {?} */ (this._dom.createElement('meta'));\n        this._setMetaElementAttributes(meta, element);\n        /** @type {?} */\n        const head = this._dom.getElementsByTagName(this._doc, 'head')[0];\n        this._dom.appendChild(head, element);\n        return element;\n    }\n    /**\n     * @param {?} tag\n     * @param {?} el\n     * @return {?}\n     */\n    _setMetaElementAttributes(tag, el) {\n        Object.keys(tag).forEach((prop) => this._dom.setAttribute(el, prop, tag[prop]));\n        return el;\n    }\n    /**\n     * @param {?} tag\n     * @return {?}\n     */\n    _parseSelector(tag) {\n        /** @type {?} */\n        const attr = tag.name ? 'name' : 'property';\n        return `${attr}=\"${tag[attr]}\"`;\n    }\n    /**\n     * @param {?} tag\n     * @param {?} elem\n     * @return {?}\n     */\n    _containsAttributes(tag, elem) {\n        return Object.keys(tag).every((key) => this._dom.getAttribute(elem, key) === tag[key]);\n    }\n}\nMeta.decorators = [\n    { type: Injectable, args: [{ providedIn: 'root', useFactory: createMeta, deps: [] },] }\n];\n/** @nocollapse */\nMeta.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] }\n];\n/** @nocollapse */ Meta.ngInjectableDef = defineInjectable({ factory: createMeta, token: Meta, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * Factory to create Title service.\n * @return {?}\n */\nfunction createTitle() {\n    return new Title(inject(DOCUMENT$1));\n}\n/**\n * A service that can be used to get and set the title of a current HTML document.\n *\n * Since an Angular application can't be bootstrapped on the entire HTML document (`<html>` tag)\n * it is not possible to bind to the `text` property of the `HTMLTitleElement` elements\n * (representing the `<title>` tag). Instead, this service can be used to set and get the current\n * title value.\n *\n * \\@experimental\n */\nclass Title {\n    /**\n     * @param {?} _doc\n     */\n    constructor(_doc) {\n        this._doc = _doc;\n    }\n    /**\n     * Get the title of the current HTML document.\n     * @return {?}\n     */\n    getTitle() { return getDOM().getTitle(this._doc); }\n    /**\n     * Set the title of the current HTML document.\n     * @param {?} newTitle\n     * @return {?}\n     */\n    setTitle(newTitle) { getDOM().setTitle(this._doc, newTitle); }\n}\nTitle.decorators = [\n    { type: Injectable, args: [{ providedIn: 'root', useFactory: createTitle, deps: [] },] }\n];\n/** @nocollapse */\nTitle.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT$1,] }] }\n];\n/** @nocollapse */ Title.ngInjectableDef = defineInjectable({ factory: createTitle, token: Title, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** @type {?} */\nconst win = typeof window !== 'undefined' && window || /** @type {?} */ ({});\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nclass ChangeDetectionPerfRecord {\n    /**\n     * @param {?} msPerTick\n     * @param {?} numTicks\n     */\n    constructor(msPerTick, numTicks) {\n        this.msPerTick = msPerTick;\n        this.numTicks = numTicks;\n    }\n}\n/**\n * Entry point for all Angular profiling-related debug tools. This object\n * corresponds to the `ng.profiler` in the dev console.\n */\nclass AngularProfiler {\n    /**\n     * @param {?} ref\n     */\n    constructor(ref) { this.appRef = ref.injector.get(ApplicationRef); }\n    /**\n     * Exercises change detection in a loop and then prints the average amount of\n     * time in milliseconds how long a single round of change detection takes for\n     * the current state of the UI. It runs a minimum of 5 rounds for a minimum\n     * of 500 milliseconds.\n     *\n     * Optionally, a user may pass a `config` parameter containing a map of\n     * options. Supported options are:\n     *\n     * `record` (boolean) - causes the profiler to record a CPU profile while\n     * it exercises the change detector. Example:\n     *\n     * ```\n     * ng.profiler.timeChangeDetection({record: true})\n     * ```\n     * @param {?} config\n     * @return {?}\n     */\n    timeChangeDetection(config) {\n        /** @type {?} */\n        const record = config && config['record'];\n        /** @type {?} */\n        const profileName = 'Change Detection';\n        /** @type {?} */\n        const isProfilerAvailable = win.console.profile != null;\n        if (record && isProfilerAvailable) {\n            win.console.profile(profileName);\n        }\n        /** @type {?} */\n        const start = getDOM().performanceNow();\n        /** @type {?} */\n        let numTicks = 0;\n        while (numTicks < 5 || (getDOM().performanceNow() - start) < 500) {\n            this.appRef.tick();\n            numTicks++;\n        }\n        /** @type {?} */\n        const end = getDOM().performanceNow();\n        if (record && isProfilerAvailable) {\n            // need to cast to <any> because type checker thinks there's no argument\n            // while in fact there is:\n            //\n            // https://developer.mozilla.org/en-US/docs/Web/API/Console/profileEnd\n            (/** @type {?} */ (win.console.profileEnd))(profileName);\n        }\n        /** @type {?} */\n        const msPerTick = (end - start) / numTicks;\n        win.console.log(`ran ${numTicks} change detection cycles`);\n        win.console.log(`${msPerTick.toFixed(2)} ms per check`);\n        return new ChangeDetectionPerfRecord(msPerTick, numTicks);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst PROFILER_GLOBAL_NAME = 'profiler';\n/**\n * Enabled Angular debug tools that are accessible via your browser's\n * developer console.\n *\n * Usage:\n *\n * 1. Open developer console (e.g. in Chrome Ctrl + Shift + j)\n * 1. Type `ng.` (usually the console will show auto-complete suggestion)\n * 1. Try the change detection profiler `ng.profiler.timeChangeDetection()`\n *    then hit Enter.\n *\n * \\@experimental All debugging apis are currently experimental.\n * @template T\n * @param {?} ref\n * @return {?}\n */\nfunction enableDebugTools(ref) {\n    exportNgVar(PROFILER_GLOBAL_NAME, new AngularProfiler(ref));\n    return ref;\n}\n/**\n * Disables Angular tools.\n *\n * \\@experimental All debugging apis are currently experimental.\n * @return {?}\n */\nfunction disableDebugTools() {\n    exportNgVar(PROFILER_GLOBAL_NAME, null);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * @param {?} text\n * @return {?}\n */\nfunction escapeHtml(text) {\n    /** @type {?} */\n    const escapedText = {\n        '&': '&a;',\n        '\"': '&q;',\n        '\\'': '&s;',\n        '<': '&l;',\n        '>': '&g;',\n    };\n    return text.replace(/[&\"'<>]/g, s => escapedText[s]);\n}\n/**\n * @param {?} text\n * @return {?}\n */\nfunction unescapeHtml(text) {\n    /** @type {?} */\n    const unescapedText = {\n        '&a;': '&',\n        '&q;': '\"',\n        '&s;': '\\'',\n        '&l;': '<',\n        '&g;': '>',\n    };\n    return text.replace(/&[^;]+;/g, s => unescapedText[s]);\n}\n/**\n * Create a `StateKey<T>` that can be used to store value of type T with `TransferState`.\n *\n * Example:\n *\n * ```\n * const COUNTER_KEY = makeStateKey<number>('counter');\n * let value = 10;\n *\n * transferState.set(COUNTER_KEY, value);\n * ```\n *\n * \\@experimental\n * @template T\n * @param {?} key\n * @return {?}\n */\nfunction makeStateKey(key) {\n    return /** @type {?} */ (key);\n}\n/**\n * A key value store that is transferred from the application on the server side to the application\n * on the client side.\n *\n * `TransferState` will be available as an injectable token. To use it import\n * `ServerTransferStateModule` on the server and `BrowserTransferStateModule` on the client.\n *\n * The values in the store are serialized/deserialized using JSON.stringify/JSON.parse. So only\n * boolean, number, string, null and non-class objects will be serialized and deserialzied in a\n * non-lossy manner.\n *\n * \\@experimental\n */\nclass TransferState {\n    constructor() {\n        this.store = {};\n        this.onSerializeCallbacks = {};\n    }\n    /**\n     * \\@internal\n     * @param {?} initState\n     * @return {?}\n     */\n    static init(initState) {\n        /** @type {?} */\n        const transferState = new TransferState();\n        transferState.store = initState;\n        return transferState;\n    }\n    /**\n     * Get the value corresponding to a key. Return `defaultValue` if key is not found.\n     * @template T\n     * @param {?} key\n     * @param {?} defaultValue\n     * @return {?}\n     */\n    get(key, defaultValue) {\n        return this.store[key] !== undefined ? /** @type {?} */ (this.store[key]) : defaultValue;\n    }\n    /**\n     * Set the value corresponding to a key.\n     * @template T\n     * @param {?} key\n     * @param {?} value\n     * @return {?}\n     */\n    set(key, value) { this.store[key] = value; }\n    /**\n     * Remove a key from the store.\n     * @template T\n     * @param {?} key\n     * @return {?}\n     */\n    remove(key) { delete this.store[key]; }\n    /**\n     * Test whether a key exists in the store.\n     * @template T\n     * @param {?} key\n     * @return {?}\n     */\n    hasKey(key) { return this.store.hasOwnProperty(key); }\n    /**\n     * Register a callback to provide the value for a key when `toJson` is called.\n     * @template T\n     * @param {?} key\n     * @param {?} callback\n     * @return {?}\n     */\n    onSerialize(key, callback) {\n        this.onSerializeCallbacks[key] = callback;\n    }\n    /**\n     * Serialize the current state of the store to JSON.\n     * @return {?}\n     */\n    toJson() {\n        // Call the onSerialize callbacks and put those values into the store.\n        for (const key in this.onSerializeCallbacks) {\n            if (this.onSerializeCallbacks.hasOwnProperty(key)) {\n                try {\n                    this.store[key] = this.onSerializeCallbacks[key]();\n                }\n                catch (e) {\n                    console.warn('Exception in onSerialize callback: ', e);\n                }\n            }\n        }\n        return JSON.stringify(this.store);\n    }\n}\nTransferState.decorators = [\n    { type: Injectable }\n];\n/**\n * @param {?} doc\n * @param {?} appId\n * @return {?}\n */\nfunction initTransferState(doc, appId) {\n    /** @type {?} */\n    const script = doc.getElementById(appId + '-state');\n    /** @type {?} */\n    let initialState = {};\n    if (script && script.textContent) {\n        try {\n            initialState = JSON.parse(unescapeHtml(script.textContent));\n        }\n        catch (e) {\n            console.warn('Exception while restoring TransferState for app ' + appId, e);\n        }\n    }\n    return TransferState.init(initialState);\n}\n/**\n * NgModule to install on the client side while using the `TransferState` to transfer state from\n * server to client.\n *\n * \\@experimental\n */\nclass BrowserTransferStateModule {\n}\nBrowserTransferStateModule.decorators = [\n    { type: NgModule, args: [{\n                providers: [{ provide: TransferState, useFactory: initTransferState, deps: [DOCUMENT$1, APP_ID] }],\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * Predicates for use with {\\@link DebugElement}'s query functions.\n *\n * \\@experimental All debugging apis are currently experimental.\n */\nclass By {\n    /**\n     * Match all elements.\n     *\n     * \\@usageNotes\n     * ### Example\n     *\n     * {\\@example platform-browser/dom/debug/ts/by/by.ts region='by_all'}\n     * @return {?}\n     */\n    static all() { return (debugElement) => true; }\n    /**\n     * Match elements by the given CSS selector.\n     *\n     * \\@usageNotes\n     * ### Example\n     *\n     * {\\@example platform-browser/dom/debug/ts/by/by.ts region='by_css'}\n     * @param {?} selector\n     * @return {?}\n     */\n    static css(selector) {\n        return (debugElement) => {\n            return debugElement.nativeElement != null ?\n                getDOM().elementMatches(debugElement.nativeElement, selector) :\n                false;\n        };\n    }\n    /**\n     * Match elements that have the given directive present.\n     *\n     * \\@usageNotes\n     * ### Example\n     *\n     * {\\@example platform-browser/dom/debug/ts/by/by.ts region='by_directive'}\n     * @param {?} type\n     * @return {?}\n     */\n    static directive(type) {\n        return (debugElement) => /** @type {?} */ ((debugElement.providerTokens)).indexOf(type) !== -1;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst VERSION = new Version('6.1.10');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BROWSER_MODULE_PROVIDERS as ɵangular_packages_platform_browser_platform_browser_c, _document as ɵangular_packages_platform_browser_platform_browser_b, errorHandler as ɵangular_packages_platform_browser_platform_browser_a, GenericBrowserDomAdapter as ɵangular_packages_platform_browser_platform_browser_k, createMeta as ɵangular_packages_platform_browser_platform_browser_d, SERVER_TRANSITION_PROVIDERS as ɵangular_packages_platform_browser_platform_browser_i, appInitializerFactory as ɵangular_packages_platform_browser_platform_browser_h, createTitle as ɵangular_packages_platform_browser_platform_browser_e, initTransferState as ɵangular_packages_platform_browser_platform_browser_f, _createNgProbe as ɵangular_packages_platform_browser_platform_browser_j, EventManagerPlugin as ɵangular_packages_platform_browser_platform_browser_g, BrowserModule, platformBrowser, Meta, Title, disableDebugTools, enableDebugTools, BrowserTransferStateModule, TransferState, makeStateKey, By, DOCUMENT$1 as DOCUMENT, EVENT_MANAGER_PLUGINS, EventManager, HAMMER_GESTURE_CONFIG, HAMMER_LOADER, HammerGestureConfig, DomSanitizer, VERSION, BROWSER_SANITIZATION_PROVIDERS as ɵBROWSER_SANITIZATION_PROVIDERS, INTERNAL_BROWSER_PLATFORM_PROVIDERS as ɵINTERNAL_BROWSER_PLATFORM_PROVIDERS, initDomAdapter as ɵinitDomAdapter, BrowserDomAdapter as ɵBrowserDomAdapter, BrowserPlatformLocation as ɵBrowserPlatformLocation, TRANSITION_ID as ɵTRANSITION_ID, BrowserGetTestability as ɵBrowserGetTestability, escapeHtml as ɵescapeHtml, ELEMENT_PROBE_PROVIDERS as ɵELEMENT_PROBE_PROVIDERS, DomAdapter as ɵDomAdapter, getDOM as ɵgetDOM, setRootDomAdapter as ɵsetRootDomAdapter, DomRendererFactory2 as ɵDomRendererFactory2, NAMESPACE_URIS as ɵNAMESPACE_URIS, flattenStyles as ɵflattenStyles, shimContentAttribute as ɵshimContentAttribute, shimHostAttribute as ɵshimHostAttribute, DomEventsPlugin as ɵDomEventsPlugin, HammerGesturesPlugin as ɵHammerGesturesPlugin, KeyEventsPlugin as ɵKeyEventsPlugin, DomSharedStylesHost as ɵDomSharedStylesHost, SharedStylesHost as ɵSharedStylesHost, DomSanitizerImpl as ɵDomSanitizerImpl };\n//# sourceMappingURL=platform-browser.js.map\n"]}