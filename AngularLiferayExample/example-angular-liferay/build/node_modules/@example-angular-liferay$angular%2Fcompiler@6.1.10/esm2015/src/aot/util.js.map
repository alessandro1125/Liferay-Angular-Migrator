{"version":3,"sources":["../../../../../../../packages/compiler/src/aot/util.ts"],"names":[],"mappings":";;;;;;;;;AAQA,UAAM,0BAA0B,kCAAhC;AACA,UAAM,iBAAiB,6BAAvB;AACA,UAAM,mBAAmB,eAAzB;AACA,UAAM,mBAAmB,YAAzB;AAEA,WAAM,SAAA,iBAAA,CAA4B,QAA5B,EAA8C,kBAAkB,KAAhE,EAAqE;AACzE,cAAM,gBAAgB,sBAAsB,QAAtB,EAAgC,eAAhC,CAAtB;AACA,eAAO,GAAG,cAAc,CAAd,CAAgB,aAAa,uBAAuB,cAAc,CAAd,CAAvB,CAAwC,EAA/E;AACD;AAED,WAAM,SAAA,wBAAA,CAAmC,QAAnC,EAAmD;AACvD,eAAO,SAAS,OAAT,CAAiB,cAAjB,EAAiC,GAAjC,CAAP;AACD;AAED,WAAM,SAAA,eAAA,CAA0B,QAA1B,EAA0C;AAC9C,eAAO,eAAe,IAAf,CAAoB,QAApB,CAAP;AACD;AAED,WAAM,SAAA,qBAAA,CAAgC,IAAhC,EAA8C,kBAAkB,KAAhE,EAAqE;AACzE,YAAI,KAAK,QAAL,CAAc,OAAd,CAAJ,EAA4B;AAC1B,mBAAO,CAAC,KAAK,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAD,EAAoB,kBAAkB,KAAlB,GAA0B,OAA9C,CAAP;AACD;AAED,cAAM,UAAU,KAAK,WAAL,CAAiB,GAAjB,CAAhB;AAEA,YAAI,YAAY,CAAC,CAAjB,EAAoB;AAClB,mBAAO,CAAC,KAAK,SAAL,CAAe,CAAf,EAAkB,OAAlB,CAAD,EAA6B,KAAK,SAAL,CAAe,OAAf,CAA7B,CAAP;AACD;AAED,eAAO,CAAC,IAAD,EAAO,EAAP,CAAP;AACD;AAED,WAAM,SAAA,sBAAA,CAAiC,aAAjC,EAAsD;AAC1D,eAAO,kBAAkB,MAAlB,GAA2B,KAA3B,GAAmC,aAA1C;AACD;AAED,WAAM,SAAA,eAAA,CAA0B,QAA1B,EAA0C;AAC9C,cAAM,wBAAwB,SAAS,OAAT,CAAiB,uBAAjB,EAA0C,EAA1C,CAA9B;AACA,eAAO,GAAG,qBAAqB,iBAA/B;AACD;AAED,WAAM,SAAA,qBAAA,CAAgC,QAAhC,EAAkD,kBAAkB,KAApE,EAAyE;AAC7E,cAAM,gBAAgB,sBAAsB,yBAAyB,QAAzB,CAAtB,EAA0D,eAA1D,CAAtB;AACA,eAAO,GAAG,cAAc,CAAd,CAAgB,aAAa,cAAc,CAAd,CAAgB,EAAvD;AACD;AAED,WAAM,SAAA,4BAAA,CAAuC,QAAvC,EAAuD;AAC3D,eAAO,SAAS,OAAT,CAAiB,gBAAjB,EAAmC,GAAnC,CAAP;AACD;AAED,WAAM,SAAA,iBAAA,CAA4B,UAA5B,EAA8C;AAClD,eAAO,GAAG,UAAU,WAApB;AACD;AAED,WAAM,SAAA,4BAAA,CAAuC,UAAvC,EAAyD;AAC7D,eAAO,WAAW,OAAX,CAAmB,gBAAnB,EAAqC,EAArC,CAAP;AACD;AAED,UAAM,iBAAiB,WAAvB;AAEA,WAAM,SAAA,eAAA,CAA0B,IAA1B,EAAsC;AAC1C,eAAO,eAAe,IAAf,CAAoB,IAApB,CAAP;AACD;AAED,WAAM,SAAA,mBAAA,CAA8B,EAA9B,EAAwC;AAC5C,eAAO,SAAS,EAAE,EAAlB;AACD","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nconst STRIP_SRC_FILE_SUFFIXES = /(\\.ts|\\.d\\.ts|\\.js|\\.jsx|\\.tsx)$/;\nconst GENERATED_FILE = /\\.ngfactory\\.|\\.ngsummary\\./;\nconst JIT_SUMMARY_FILE = /\\.ngsummary\\./;\nconst JIT_SUMMARY_NAME = /NgSummary$/;\n\nexport function ngfactoryFilePath(filePath: string, forceSourceFile = false): string {\n  const urlWithSuffix = splitTypescriptSuffix(filePath, forceSourceFile);\n  return `${urlWithSuffix[0]}.ngfactory${normalizeGenFileSuffix(urlWithSuffix[1])}`;\n}\n\nexport function stripGeneratedFileSuffix(filePath: string): string {\n  return filePath.replace(GENERATED_FILE, '.');\n}\n\nexport function isGeneratedFile(filePath: string): boolean {\n  return GENERATED_FILE.test(filePath);\n}\n\nexport function splitTypescriptSuffix(path: string, forceSourceFile = false): string[] {\n  if (path.endsWith('.d.ts')) {\n    return [path.slice(0, -5), forceSourceFile ? '.ts' : '.d.ts'];\n  }\n\n  const lastDot = path.lastIndexOf('.');\n\n  if (lastDot !== -1) {\n    return [path.substring(0, lastDot), path.substring(lastDot)];\n  }\n\n  return [path, ''];\n}\n\nexport function normalizeGenFileSuffix(srcFileSuffix: string): string {\n  return srcFileSuffix === '.tsx' ? '.ts' : srcFileSuffix;\n}\n\nexport function summaryFileName(fileName: string): string {\n  const fileNameWithoutSuffix = fileName.replace(STRIP_SRC_FILE_SUFFIXES, '');\n  return `${fileNameWithoutSuffix}.ngsummary.json`;\n}\n\nexport function summaryForJitFileName(fileName: string, forceSourceFile = false): string {\n  const urlWithSuffix = splitTypescriptSuffix(stripGeneratedFileSuffix(fileName), forceSourceFile);\n  return `${urlWithSuffix[0]}.ngsummary${urlWithSuffix[1]}`;\n}\n\nexport function stripSummaryForJitFileSuffix(filePath: string): string {\n  return filePath.replace(JIT_SUMMARY_FILE, '.');\n}\n\nexport function summaryForJitName(symbolName: string): string {\n  return `${symbolName}NgSummary`;\n}\n\nexport function stripSummaryForJitNameSuffix(symbolName: string): string {\n  return symbolName.replace(JIT_SUMMARY_NAME, '');\n}\n\nconst LOWERED_SYMBOL = /\\u0275\\d+/;\n\nexport function isLoweredSymbol(name: string) {\n  return LOWERED_SYMBOL.test(name);\n}\n\nexport function createLoweredSymbol(id: number): string {\n  return `\\u0275${id}`;\n}\n"],"sourceRoot":""}