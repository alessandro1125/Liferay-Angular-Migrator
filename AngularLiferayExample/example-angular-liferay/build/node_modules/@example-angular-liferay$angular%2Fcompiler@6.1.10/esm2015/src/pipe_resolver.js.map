{"version":3,"sources":["../../../../../../packages/compiler/src/pipe_resolver.ts"],"names":[],"mappings":";;;;;;;;;AASA,aAAoB,UAApB,QAAqC,QAArC;AACA,aAAQ,QAAR,QAAuB,sBAAvB;AACA,aAAQ,iBAAR,EAA2B,SAA3B,QAA2C,QAA3C;AAEA;;;;;;;AAOA,WAAM,MAAA,YAAA,CAAA;AACJ,oBAAoB,UAApB,EAAgD;AAA5B,iBAAA,UAAA,GAAA,UAAA;AAAgC;AAEpD,eAAO,IAAP,EAAiB;AACf,kBAAM,eAAe,KAAK,UAAL,CAAgB,WAAhB,CAA4B,kBAAkB,IAAlB,CAA5B,CAArB;AACA,mBAAO,gBAAgB,aAAa,IAAb,CAAkB,WAAW,QAA7B,CAAvB;AACD;AAED;;;AAGA,gBAAQ,IAAR,EAAoB,kBAAkB,IAAtC,EAA0C;AACxC,kBAAM,QAAQ,KAAK,UAAL,CAAgB,WAAhB,CAA4B,kBAAkB,IAAlB,CAA5B,CAAd;AACA,gBAAI,KAAJ,EAAW;AACT,sBAAM,aAAa,SAAS,KAAT,EAAgB,WAAW,QAA3B,CAAnB;AACA,oBAAI,UAAJ,EAAgB;AACd,2BAAO,UAAP;AACD;AACF;AACD,gBAAI,eAAJ,EAAqB;AACnB,sBAAM,IAAI,KAAJ,CAAU,8BAA8B,UAAU,IAAV,CAAe,EAAvD,CAAN;AACD;AACD,mBAAO,IAAP;AACD;AAvBG","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CompileReflector} from './compile_reflector';\nimport {Pipe, Type, createPipe} from './core';\nimport {findLast} from './directive_resolver';\nimport {resolveForwardRef, stringify} from './util';\n\n/**\n * Resolve a `Type` for {@link Pipe}.\n *\n * This interface can be overridden by the application developer to create custom behavior.\n *\n * See {@link Compiler}\n */\nexport class PipeResolver {\n  constructor(private _reflector: CompileReflector) {}\n\n  isPipe(type: Type) {\n    const typeMetadata = this._reflector.annotations(resolveForwardRef(type));\n    return typeMetadata && typeMetadata.some(createPipe.isTypeOf);\n  }\n\n  /**\n   * Return {@link Pipe} for a given `Type`.\n   */\n  resolve(type: Type, throwIfNotFound = true): Pipe|null {\n    const metas = this._reflector.annotations(resolveForwardRef(type));\n    if (metas) {\n      const annotation = findLast(metas, createPipe.isTypeOf);\n      if (annotation) {\n        return annotation;\n      }\n    }\n    if (throwIfNotFound) {\n      throw new Error(`No Pipe decorator found on ${stringify(type)}`);\n    }\n    return null;\n  }\n}\n"],"sourceRoot":""}