{"version":3,"sources":["../../../../../../../../../../packages/compiler/src/ml_parser/html_tags.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {TagContentType, TagDefinition} from './tags';\n\nexport class HtmlTagDefinition implements TagDefinition {\n  private closedByChildren: {[key: string]: boolean} = {};\n\n  closedByParent: boolean = false;\n  // TODO(issue/24571): remove '!'.\n  requiredParents !: {[key: string]: boolean};\n  // TODO(issue/24571): remove '!'.\n  parentToAdd !: string;\n  implicitNamespacePrefix: string|null;\n  contentType: TagContentType;\n  isVoid: boolean;\n  ignoreFirstLf: boolean;\n  canSelfClose: boolean = false;\n\n  constructor(\n      {closedByChildren, requiredParents, implicitNamespacePrefix,\n       contentType = TagContentType.PARSABLE_DATA, closedByParent = false, isVoid = false,\n       ignoreFirstLf = false}: {\n        closedByChildren?: string[],\n        closedByParent?: boolean,\n        requiredParents?: string[],\n        implicitNamespacePrefix?: string,\n        contentType?: TagContentType,\n        isVoid?: boolean,\n        ignoreFirstLf?: boolean\n      } = {}) {\n    if (closedByChildren && closedByChildren.length > 0) {\n      closedByChildren.forEach(tagName => this.closedByChildren[tagName] = true);\n    }\n    this.isVoid = isVoid;\n    this.closedByParent = closedByParent || isVoid;\n    if (requiredParents && requiredParents.length > 0) {\n      this.requiredParents = {};\n      // The first parent is the list is automatically when none of the listed parents are present\n      this.parentToAdd = requiredParents[0];\n      requiredParents.forEach(tagName => this.requiredParents[tagName] = true);\n    }\n    this.implicitNamespacePrefix = implicitNamespacePrefix || null;\n    this.contentType = contentType;\n    this.ignoreFirstLf = ignoreFirstLf;\n  }\n\n  requireExtraParent(currentParent: string): boolean {\n    if (!this.requiredParents) {\n      return false;\n    }\n\n    if (!currentParent) {\n      return true;\n    }\n\n    const lcParent = currentParent.toLowerCase();\n    const isParentTemplate = lcParent === 'template' || currentParent === 'ng-template';\n    return !isParentTemplate && this.requiredParents[lcParent] != true;\n  }\n\n  isClosedByChild(name: string): boolean {\n    return this.isVoid || name.toLowerCase() in this.closedByChildren;\n  }\n}\n\nlet _DEFAULT_TAG_DEFINITION !: HtmlTagDefinition;\n\n// see http://www.w3.org/TR/html51/syntax.html#optional-tags\n// This implementation does not fully conform to the HTML5 spec.\nlet TAG_DEFINITIONS !: {[key: string]: HtmlTagDefinition};\n\nexport function getHtmlTagDefinition(tagName: string): HtmlTagDefinition {\n  if (!TAG_DEFINITIONS) {\n    _DEFAULT_TAG_DEFINITION = new HtmlTagDefinition();\n    TAG_DEFINITIONS = {\n      'base': new HtmlTagDefinition({isVoid: true}),\n      'meta': new HtmlTagDefinition({isVoid: true}),\n      'area': new HtmlTagDefinition({isVoid: true}),\n      'embed': new HtmlTagDefinition({isVoid: true}),\n      'link': new HtmlTagDefinition({isVoid: true}),\n      'img': new HtmlTagDefinition({isVoid: true}),\n      'input': new HtmlTagDefinition({isVoid: true}),\n      'param': new HtmlTagDefinition({isVoid: true}),\n      'hr': new HtmlTagDefinition({isVoid: true}),\n      'br': new HtmlTagDefinition({isVoid: true}),\n      'source': new HtmlTagDefinition({isVoid: true}),\n      'track': new HtmlTagDefinition({isVoid: true}),\n      'wbr': new HtmlTagDefinition({isVoid: true}),\n      'p': new HtmlTagDefinition({\n        closedByChildren: [\n          'address', 'article', 'aside',   'blockquote', 'div',  'dl',  'fieldset',\n          'footer',  'form',    'h1',      'h2',         'h3',   'h4',  'h5',\n          'h6',      'header',  'hgroup',  'hr',         'main', 'nav', 'ol',\n          'p',       'pre',     'section', 'table',      'ul'\n        ],\n        closedByParent: true\n      }),\n      'thead': new HtmlTagDefinition({closedByChildren: ['tbody', 'tfoot']}),\n      'tbody': new HtmlTagDefinition({closedByChildren: ['tbody', 'tfoot'], closedByParent: true}),\n      'tfoot': new HtmlTagDefinition({closedByChildren: ['tbody'], closedByParent: true}),\n      'tr': new HtmlTagDefinition({\n        closedByChildren: ['tr'],\n        requiredParents: ['tbody', 'tfoot', 'thead'],\n        closedByParent: true\n      }),\n      'td': new HtmlTagDefinition({closedByChildren: ['td', 'th'], closedByParent: true}),\n      'th': new HtmlTagDefinition({closedByChildren: ['td', 'th'], closedByParent: true}),\n      'col': new HtmlTagDefinition({requiredParents: ['colgroup'], isVoid: true}),\n      'svg': new HtmlTagDefinition({implicitNamespacePrefix: 'svg'}),\n      'math': new HtmlTagDefinition({implicitNamespacePrefix: 'math'}),\n      'li': new HtmlTagDefinition({closedByChildren: ['li'], closedByParent: true}),\n      'dt': new HtmlTagDefinition({closedByChildren: ['dt', 'dd']}),\n      'dd': new HtmlTagDefinition({closedByChildren: ['dt', 'dd'], closedByParent: true}),\n      'rb': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'rt': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'rtc': new HtmlTagDefinition({closedByChildren: ['rb', 'rtc', 'rp'], closedByParent: true}),\n      'rp': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'optgroup': new HtmlTagDefinition({closedByChildren: ['optgroup'], closedByParent: true}),\n      'option':\n          new HtmlTagDefinition({closedByChildren: ['option', 'optgroup'], closedByParent: true}),\n      'pre': new HtmlTagDefinition({ignoreFirstLf: true}),\n      'listing': new HtmlTagDefinition({ignoreFirstLf: true}),\n      'style': new HtmlTagDefinition({contentType: TagContentType.RAW_TEXT}),\n      'script': new HtmlTagDefinition({contentType: TagContentType.RAW_TEXT}),\n      'title': new HtmlTagDefinition({contentType: TagContentType.ESCAPABLE_RAW_TEXT}),\n      'textarea': new HtmlTagDefinition(\n          {contentType: TagContentType.ESCAPABLE_RAW_TEXT, ignoreFirstLf: true}),\n    };\n  }\n  return TAG_DEFINITIONS[tagName.toLowerCase()] || _DEFAULT_TAG_DEFINITION;\n}\n"],"sourceRoot":""}