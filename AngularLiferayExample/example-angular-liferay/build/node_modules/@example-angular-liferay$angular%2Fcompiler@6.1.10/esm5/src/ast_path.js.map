{"version":3,"sources":["../../../../../../../../../packages/compiler/src/ast_path.ts"],"names":[],"mappings":";;;;;;;;;AAQA;;;;;;;;;;;;;;;;;AAiBA,QAAA,UAAA,aAAA,YAAA;AACE,iBAAA,OAAA,CAAoB,IAApB,EAAsC,QAAtC,EAA2D;AAArB,gBAAA,aAAA,KAAA,CAAA,EAAA;AAAA,2BAAA,CAAoB,CAApB;AAAqB;AAAvC,iBAAA,IAAA,GAAA,IAAA;AAAkB,iBAAA,QAAA,GAAA,QAAA;AAAyB;AAE/D,eAAA,cAAA,CAAI,QAAA,SAAJ,EAAI,OAAJ,EAAS;iBAAT,YAAA;AAAuB,uBAAO,CAAC,KAAK,IAAN,IAAc,CAAC,KAAK,IAAL,CAAU,MAAhC;AAAyC,aAAvD;4BAAA;;AAAA,SAAT;AACA,eAAA,cAAA,CAAI,QAAA,SAAJ,EAAI,MAAJ,EAAQ;iBAAR,YAAA;AAA0B,uBAAO,KAAK,IAAL,CAAU,CAAV,CAAP;AAAsB,aAAxC;4BAAA;;AAAA,SAAR;AACA,eAAA,cAAA,CAAI,QAAA,SAAJ,EAAI,MAAJ,EAAQ;iBAAR,YAAA;AAA0B,uBAAO,KAAK,IAAL,CAAU,KAAK,IAAL,CAAU,MAAV,GAAmB,CAA7B,CAAP;AAAyC,aAA3D;4BAAA;;AAAA,SAAR;AAEA,gBAAA,SAAA,CAAA,QAAA,GAAA,UAAS,IAAT,EAA0B;AACxB,mBAAO,QAAQ,KAAK,IAAL,CAAU,KAAK,IAAL,CAAU,OAAV,CAAkB,IAAlB,IAA0B,CAApC,CAAf;AACD,SAFD;AAGA,gBAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,IAAR,EAAe;AAAiB,mBAAO,KAAK,IAAL,CAAU,KAAK,IAAL,CAAU,OAAV,CAAkB,IAAlB,IAA0B,CAApC,CAAP;AAAgD,SAAhF;AAEA,gBAAA,SAAA,CAAA,KAAA,GAAA,UAAmB,IAAnB,EAAkD;AAChD,iBAAK,IAAI,IAAI,KAAK,IAAL,CAAU,MAAV,GAAmB,CAAhC,EAAmC,KAAK,CAAxC,EAA2C,GAA3C,EAAgD;AAC9C,oBAAI,OAAO,KAAK,IAAL,CAAU,CAAV,CAAX;AACA,oBAAI,gBAAgB,IAApB,EAA0B,OAAU,IAAV;AAC3B;AACF,SALD;AAOA,gBAAA,SAAA,CAAA,IAAA,GAAA,UAAK,IAAL,EAAY;AAAI,iBAAK,IAAL,CAAU,IAAV,CAAe,IAAf;AAAuB,SAAvC;AAEA,gBAAA,SAAA,CAAA,GAAA,GAAA,YAAA;AAAW,mBAAO,KAAK,IAAL,CAAU,GAAV,EAAP;AAA2B,SAAtC;AACF,eAAA,OAAA;AAAC,KAtBD,EAAA","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * A path is an ordered set of elements. Typically a path is to  a\n * particular offset in a source file. The head of the list is the top\n * most node. The tail is the node that contains the offset directly.\n *\n * For example, the expression `a + b + c` might have an ast that looks\n * like:\n *     +\n *    / \\\n *   a   +\n *      / \\\n *     b   c\n *\n * The path to the node at offset 9 would be `['+' at 1-10, '+' at 7-10,\n * 'c' at 9-10]` and the path the node at offset 1 would be\n * `['+' at 1-10, 'a' at 1-2]`.\n */\nexport class AstPath<T> {\n  constructor(private path: T[], public position: number = -1) {}\n\n  get empty(): boolean { return !this.path || !this.path.length; }\n  get head(): T|undefined { return this.path[0]; }\n  get tail(): T|undefined { return this.path[this.path.length - 1]; }\n\n  parentOf(node: T|undefined): T|undefined {\n    return node && this.path[this.path.indexOf(node) - 1];\n  }\n  childOf(node: T): T|undefined { return this.path[this.path.indexOf(node) + 1]; }\n\n  first<N extends T>(ctor: {new (...args: any[]): N}): N|undefined {\n    for (let i = this.path.length - 1; i >= 0; i--) {\n      let item = this.path[i];\n      if (item instanceof ctor) return <N>item;\n    }\n  }\n\n  push(node: T) { this.path.push(node); }\n\n  pop(): T { return this.path.pop() !; }\n}\n"],"sourceRoot":""}