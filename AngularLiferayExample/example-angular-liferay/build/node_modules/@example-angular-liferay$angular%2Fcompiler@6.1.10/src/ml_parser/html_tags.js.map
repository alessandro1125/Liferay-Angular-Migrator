{"version":3,"sources":["../../../../../../../packages/compiler/src/ml_parser/html_tags.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {TagContentType, TagDefinition} from './tags';\n\nexport class HtmlTagDefinition implements TagDefinition {\n  private closedByChildren: {[key: string]: boolean} = {};\n\n  closedByParent: boolean = false;\n  // TODO(issue/24571): remove '!'.\n  requiredParents !: {[key: string]: boolean};\n  // TODO(issue/24571): remove '!'.\n  parentToAdd !: string;\n  implicitNamespacePrefix: string|null;\n  contentType: TagContentType;\n  isVoid: boolean;\n  ignoreFirstLf: boolean;\n  canSelfClose: boolean = false;\n\n  constructor(\n      {closedByChildren, requiredParents, implicitNamespacePrefix,\n       contentType = TagContentType.PARSABLE_DATA, closedByParent = false, isVoid = false,\n       ignoreFirstLf = false}: {\n        closedByChildren?: string[],\n        closedByParent?: boolean,\n        requiredParents?: string[],\n        implicitNamespacePrefix?: string,\n        contentType?: TagContentType,\n        isVoid?: boolean,\n        ignoreFirstLf?: boolean\n      } = {}) {\n    if (closedByChildren && closedByChildren.length > 0) {\n      closedByChildren.forEach(tagName => this.closedByChildren[tagName] = true);\n    }\n    this.isVoid = isVoid;\n    this.closedByParent = closedByParent || isVoid;\n    if (requiredParents && requiredParents.length > 0) {\n      this.requiredParents = {};\n      // The first parent is the list is automatically when none of the listed parents are present\n      this.parentToAdd = requiredParents[0];\n      requiredParents.forEach(tagName => this.requiredParents[tagName] = true);\n    }\n    this.implicitNamespacePrefix = implicitNamespacePrefix || null;\n    this.contentType = contentType;\n    this.ignoreFirstLf = ignoreFirstLf;\n  }\n\n  requireExtraParent(currentParent: string): boolean {\n    if (!this.requiredParents) {\n      return false;\n    }\n\n    if (!currentParent) {\n      return true;\n    }\n\n    const lcParent = currentParent.toLowerCase();\n    const isParentTemplate = lcParent === 'template' || currentParent === 'ng-template';\n    return !isParentTemplate && this.requiredParents[lcParent] != true;\n  }\n\n  isClosedByChild(name: string): boolean {\n    return this.isVoid || name.toLowerCase() in this.closedByChildren;\n  }\n}\n\nlet _DEFAULT_TAG_DEFINITION !: HtmlTagDefinition;\n\n// see http://www.w3.org/TR/html51/syntax.html#optional-tags\n// This implementation does not fully conform to the HTML5 spec.\nlet TAG_DEFINITIONS !: {[key: string]: HtmlTagDefinition};\n\nexport function getHtmlTagDefinition(tagName: string): HtmlTagDefinition {\n  if (!TAG_DEFINITIONS) {\n    _DEFAULT_TAG_DEFINITION = new HtmlTagDefinition();\n    TAG_DEFINITIONS = {\n      'base': new HtmlTagDefinition({isVoid: true}),\n      'meta': new HtmlTagDefinition({isVoid: true}),\n      'area': new HtmlTagDefinition({isVoid: true}),\n      'embed': new HtmlTagDefinition({isVoid: true}),\n      'link': new HtmlTagDefinition({isVoid: true}),\n      'img': new HtmlTagDefinition({isVoid: true}),\n      'input': new HtmlTagDefinition({isVoid: true}),\n      'param': new HtmlTagDefinition({isVoid: true}),\n      'hr': new HtmlTagDefinition({isVoid: true}),\n      'br': new HtmlTagDefinition({isVoid: true}),\n      'source': new HtmlTagDefinition({isVoid: true}),\n      'track': new HtmlTagDefinition({isVoid: true}),\n      'wbr': new HtmlTagDefinition({isVoid: true}),\n      'p': new HtmlTagDefinition({\n        closedByChildren: [\n          'address', 'article', 'aside',   'blockquote', 'div',  'dl',  'fieldset',\n          'footer',  'form',    'h1',      'h2',         'h3',   'h4',  'h5',\n          'h6',      'header',  'hgroup',  'hr',         'main', 'nav', 'ol',\n          'p',       'pre',     'section', 'table',      'ul'\n        ],\n        closedByParent: true\n      }),\n      'thead': new HtmlTagDefinition({closedByChildren: ['tbody', 'tfoot']}),\n      'tbody': new HtmlTagDefinition({closedByChildren: ['tbody', 'tfoot'], closedByParent: true}),\n      'tfoot': new HtmlTagDefinition({closedByChildren: ['tbody'], closedByParent: true}),\n      'tr': new HtmlTagDefinition({\n        closedByChildren: ['tr'],\n        requiredParents: ['tbody', 'tfoot', 'thead'],\n        closedByParent: true\n      }),\n      'td': new HtmlTagDefinition({closedByChildren: ['td', 'th'], closedByParent: true}),\n      'th': new HtmlTagDefinition({closedByChildren: ['td', 'th'], closedByParent: true}),\n      'col': new HtmlTagDefinition({requiredParents: ['colgroup'], isVoid: true}),\n      'svg': new HtmlTagDefinition({implicitNamespacePrefix: 'svg'}),\n      'math': new HtmlTagDefinition({implicitNamespacePrefix: 'math'}),\n      'li': new HtmlTagDefinition({closedByChildren: ['li'], closedByParent: true}),\n      'dt': new HtmlTagDefinition({closedByChildren: ['dt', 'dd']}),\n      'dd': new HtmlTagDefinition({closedByChildren: ['dt', 'dd'], closedByParent: true}),\n      'rb': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'rt': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'rtc': new HtmlTagDefinition({closedByChildren: ['rb', 'rtc', 'rp'], closedByParent: true}),\n      'rp': new HtmlTagDefinition(\n          {closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true}),\n      'optgroup': new HtmlTagDefinition({closedByChildren: ['optgroup'], closedByParent: true}),\n      'option':\n          new HtmlTagDefinition({closedByChildren: ['option', 'optgroup'], closedByParent: true}),\n      'pre': new HtmlTagDefinition({ignoreFirstLf: true}),\n      'listing': new HtmlTagDefinition({ignoreFirstLf: true}),\n      'style': new HtmlTagDefinition({contentType: TagContentType.RAW_TEXT}),\n      'script': new HtmlTagDefinition({contentType: TagContentType.RAW_TEXT}),\n      'title': new HtmlTagDefinition({contentType: TagContentType.ESCAPABLE_RAW_TEXT}),\n      'textarea': new HtmlTagDefinition(\n          {contentType: TagContentType.ESCAPABLE_RAW_TEXT, ignoreFirstLf: true}),\n    };\n  }\n  return TAG_DEFINITIONS[tagName.toLowerCase()] || _DEFAULT_TAG_DEFINITION;\n}\n"],"sourceRoot":""}