{"version":3,"sources":["compiler.umd.js"],"names":["global","factory","exports","module","define","amd","ng","compiler","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__values","o","m","Symbol","iterator","next","value","done","__read","r","ar","e","push","error","__spread","concat","TagContentType","splitNsName","elementName","colonIndex","indexOf","Error","slice","isNgContainer","tagName","isNgContent","isNgTemplate","getNsPrefix","fullName","mergeNsAndName","prefix","localName","NAMED_ENTITIES","NGSP_UNICODE","HtmlTagDefinition","_a","_b","closedByChildren","requiredParents","implicitNamespacePrefix","_c","contentType","PARSABLE_DATA","_d","closedByParent","_e","isVoid","_f","ignoreFirstLf","_this","canSelfClose","forEach","parentToAdd","requireExtraParent","currentParent","lcParent","toLowerCase","isParentTemplate","isClosedByChild","name","_DEFAULT_TAG_DEFINITION","TAG_DEFINITIONS","getHtmlTagDefinition","RAW_TEXT","ESCAPABLE_RAW_TEXT","_SELECTOR_REGEXP","RegExp","CssSelector","element","classNames","attrs","notSelectors","parse","selector","results","_addResult","res","cssSel","cssSelector","match","current","inNot","lastIndex","exec","setElement","addClassName","addAttribute","isElementSelector","hasElementSelector","getMatchingElementTemplate","classAttr","join","attrName","attrValue","getAttrs","result","toString","klass","name_1","notSelector","SelectorMatcher","_elementMap","Map","_elementPartialMap","_classMap","_classPartialMap","_attrValueMap","_attrValuePartialMap","_listContexts","createNotMatcher","notMatcher","addSelectables","cssSelectors","callbackCtxt","listContext","SelectorListContext","_addSelectable","matcher","selectable","SelectorContext","isTerminal","_addTerminal","_addPartial","className","name_2","terminalMap","terminalValuesMap","get","set","partialMap","partialValuesMap","map","terminalList","matchedCallback","alreadyMatched","_matchTerminal","_matchPartial","name_3","selectables","starSelectables","finalize","nestedSelector","selectors","cbContext","callback","createInject","makeMetadataFactory","token","createInjectionToken","desc","_desc","ngInjectableDef","undefined","createAttribute","attributeName","createContentChildren","data","first","isViewQuery","descendants","createContentChild","createViewChildren","createViewChild","createDirective","dir","ViewEncapsulation","ChangeDetectionStrategy","createComponent","c","changeDetection","Default","createPipe","pure","createInput","bindingPropertyName","createOutput","createHostBinding","hostPropertyName","createHostListener","eventName","args","createNgModule","ngModule","createInjectable","injectable","CUSTOM_ELEMENTS_SCHEMA","NO_ERRORS_SCHEMA","createOptional","createSelf","createSkipSelf","createHost","Type","Function","SecurityContext","MissingTranslationStrategy","props","_i","values","ngMetadataName","isTypeOf","obj","parserSelectorToSimpleSelector","classes","parserSelectorToNegativeSelector","parserSelectorToR3Selector","positive","negative","parseSelectorToR3Selector","core","freeze","DASH_CASE_REGEXP","dashCaseToCamelCase","input","replace","toUpperCase","splitAtColon","defaultValues","_splitAt","splitAtPeriod","character","characterIndex","trim","visitValue","visitor","context","isArray","visitArray","isStrictStringMap","visitStringMap","visitPrimitive","visitOther","isDefined","val","noUndefined","ValueTransformer","arr","keys","key","SyncAsync","assertSync","isPromise","then","cb","all","syncAsyncValues","some","Promise","msg","syntaxError","parseErrors","ERROR_SYNTAX_ERROR","ERROR_PARSE_ERRORS","isSyntaxError","getParseErrors","escapeRegExp","STRING_MAP_PROTO","getPrototypeOf","utf8Encode","str","encoded","index","codePoint","charCodeAt","low","String","fromCharCode","stringify","overriddenName","newLineIndex","substring","resolveForwardRef","type","Version","full","splits","split","major","minor","patch","VERSION","TextAst","ngContentIndex","sourceSpan","visit","visitText","BoundTextAst","visitBoundText","AttrAst","visitAttr","BoundPropertyMapping","BoundElementPropertyAst","securityContext","unit","isAnimation","fromBoundProperty","prop","visitElementProperty","BoundEventAst","target","phase","handler","calcFullName","fromParsedEvent","event","targetOrPhase","visitEvent","ReferenceAst","originalValue","visitReference","VariableAst","fromParsedVariable","v","visitVariable","ElementAst","inputs","outputs","references","directives","providers","hasViewContainer","queryMatches","children","endSourceSpan","visitElement","EmbeddedTemplateAst","variables","visitEmbeddedTemplate","BoundDirectivePropertyAst","directiveName","templateName","visitDirectiveProperty","DirectiveAst","directive","hostProperties","hostEvents","contentQueryStartId","visitDirective","ProviderAst","multiProvider","eager","providerType","lifecycleHooks","isModule","ProviderAstType","NgContentAst","visitNgContent","NullTemplateVisitor","ast","RecursiveTemplateAstVisitor","_super","visitChildren","templateVisitAll","asts","astResult","CompilerConfig","defaultEncapsulation","Emulated","useJit","jitDevMode","missingTranslation","preserveWhitespaces","strictInjectionParameters","preserveWhitespacesDefault","preserveWhitespacesOption","defaultSetting","StaticSymbol","filePath","members","assertNoMembers","JSON","StaticSymbolCache","cache","declarationFile","memberSuffix","HOST_REG_EXP","sanitizeIdentifier","_anonymousTypeIndex","identifierName","compileIdentifier","reference","ref","identifier","identifierModuleUrl","viewClassName","compType","embeddedTemplateIndex","rendererTypeName","hostViewClassName","componentFactoryName","CompileSummaryKind","tokenName","tokenReference","CompileStylesheetMetadata","moduleUrl","styles","styleUrls","_normalizeArray","CompileTemplateMetadata","encapsulation","template","templateUrl","htmlAst","externalStylesheets","animations","ngContentSelectors","interpolation","isInline","flatten","toSummary","CompileDirectiveMetadata","isHost","isComponent","exportAs","hostListeners","hostAttributes","viewProviders","queries","guards","viewQueries","entryComponents","componentViewType","rendererType","componentFactory","host","matches","inputsMap","bindConfig","parts","outputsMap","summaryKind","Directive","CompilePipeMetadata","Pipe","CompileShallowModuleMetadata","CompileNgModuleMetadata","declaredDirectives","exportedDirectives","declaredPipes","exportedPipes","bootstrapComponents","importedModules","exportedModules","schemas","transitiveModule","id","NgModule","modules","TransitiveCompileNgModuleMetadata","directivesSet","Set","exportedDirectivesSet","pipesSet","pipes","exportedPipesSet","modulesSet","entryComponentsSet","addProvider","provider","addDirective","has","add","addExportedDirective","addPipe","addExportedPipe","addModule","addEntryComponent","ec","componentType","ProviderMeta","useClass","useValue","useExisting","useFactory","deps","multi","dependencies","list","reduce","flat","item","flatItem","jitSourceUrl","url","templateSourceUrl","ngModuleType","compMeta","templateMeta","sharedStylesheetJitUrl","meta","pathParts","baseName","ngModuleJitUrl","moduleMeta","templateJitUrl","AstPath","path","position","defineProperty","enumerable","configurable","parentOf","node","childOf","ctor","pop","Text","Expansion","switchValue","cases","switchValueSourceSpan","visitExpansion","ExpansionCase","expression","valueSourceSpan","expSourceSpan","visitExpansionCase","Attribute","valueSpan","visitAttribute","Element","startSourceSpan","Comment","visitComment","visitAll","nodes","RecursiveVisitor","spanOf","start","offset","end","findNode","class_1","span","assertArrayOfStrings","INTERPOLATION_BLACKLIST_REGEXPS","assertInterpolationSymbols","start_1","end_1","regexp","test","InterpolationConfig","fromArray","markers","DEFAULT_INTERPOLATION_CONFIG","StyleWithImports","style","isStyleUrlResolvable","schemeMatch","URL_WITH_SCHEMA_REGEXP","extractStyleUrls","resolver","baseUrl","cssText","foundUrls","modifiedCssText","CSS_STRIPPABLE_COMMENT_REGEXP","CSS_IMPORT_REGEXP","resolve","NG_CONTENT_SELECT_ATTR","LINK_ELEMENT","LINK_STYLE_REL_ATTR","LINK_STYLE_HREF_ATTR","LINK_STYLE_REL_VALUE","STYLE_ELEMENT","SCRIPT_ELEMENT","NG_NON_BINDABLE_ATTR","NG_PROJECT_AS","preparseElement","selectAttr","hrefAttr","relAttr","nonBindable","projectAs","attr","lcAttrName","normalizeNgContentSelect","nodeName","PreparsedElementType","OTHER","NG_CONTENT","STYLE","SCRIPT","STYLESHEET","PreparsedElement","DirectiveNormalizer","_resourceLoader","_urlResolver","_htmlParser","_config","_resourceLoaderCache","clearCache","clear","clearCacheFor","normalizedDirective","delete","stylesheet","_fetch","normalizeTemplate","prenormData","_preParseTemplate","preparsedTemplate","_normalizeTemplateMetadata","prenomData","_preparseLoadedTemplate","templateAbsUrl","interpolationConfig","rootNodesAndErrors","errors","errorString","templateMetadataStyles","_normalizeStylesheet","TemplatePreparseVisitor","rootNodes","templateStyles","inlineStyleUrls","_loadMissingExternalStylesheets","_normalizeLoadedTemplateMetadata","stylesheets","_inlineStyles","styleUrl","None","targetStyles","loadedStylesheets","filter","loadedStyle","_","allStyleUrls","allStyles","styleWithImports","ngNonBindableStackCount","preparsedElement","textContent_1","child","QUERY_METADATA_IDENTIFIERS","DirectiveResolver","_reflector","isDirective","typeMetadata","annotations","isDirectiveMetadata","throwIfNotFound","metadata","findLast","propertyMetadata","propMetadata","_mergeWithPropertyMetadata","dm","directiveType","propName","a","output","hostBindings","hostBinding","startWith","hostListener","query","_merge","_extractPublicName","def","_dedupeBindings","bindings","names","publicNames","reversedResult","binding","reverse","mergedInputs","mergedOutputs","mergedHost","mergedQueries","comp","moduleId","condition","$EOF","$TAB","$LF","$VTAB","$FF","$CR","$SPACE","$BANG","$DQ","$HASH","$$","$PERCENT","$AMPERSAND","$SQ","$LPAREN","$RPAREN","$STAR","$PLUS","$COMMA","$MINUS","$PERIOD","$SLASH","$COLON","$SEMICOLON","$LT","$EQ","$GT","$QUESTION","$0","$9","$A","$E","$F","$X","$Z","$LBRACKET","$BACKSLASH","$RBRACKET","$CARET","$_","$a","$e","$f","$n","$r","$t","$u","$v","$x","$z","$LBRACE","$BAR","$RBRACE","$NBSP","$BT","isWhitespace","code","isDigit","isAsciiLetter","isAsciiHexDigit","TokenType","KEYWORDS","Lexer","tokenize","text","scanner","_Scanner","tokens","scanToken","Token","numValue","strValue","isCharacter","Character","isNumber","Number","isString","isOperator","operater","Operator","isIdentifier","Identifier","isKeyword","Keyword","isKeywordLet","isKeywordAs","isKeywordNull","isKeywordUndefined","isKeywordTrue","isKeywordFalse","isKeywordThis","isError","toNumber","newCharacterToken","newIdentifierToken","newKeywordToken","newOperatorToken","newStringToken","newNumberToken","newErrorToken","message","EOF","peek","advance","isIdentifierStart","scanIdentifier","scanNumber","scanCharacter","scanString","scanOperator","scanComplexOperator","one","twoCode","two","threeCode","three","isIdentifierPart","simple","isExponentStart","isExponentSign","parseIntAutoRadix","parseFloat","quote","buffer","marker","unescapedCode","hex","parseInt","unescape","last","isQuote","isNaN","ParserError","errLocation","ctxLocation","ParseSpan","AST","Quote","uninterpretedExpression","location","visitQuote","EmptyExpr","ImplicitReceiver","visitImplicitReceiver","Chain","expressions","visitChain","Conditional","trueExp","falseExp","visitConditional","PropertyRead","receiver","visitPropertyRead","PropertyWrite","visitPropertyWrite","SafePropertyRead","visitSafePropertyRead","KeyedRead","visitKeyedRead","KeyedWrite","visitKeyedWrite","BindingPipe","exp","visitPipe","LiteralPrimitive","visitLiteralPrimitive","LiteralArray","visitLiteralArray","LiteralMap","visitLiteralMap","Interpolation","strings","visitInterpolation","Binary","operation","left","right","visitBinary","PrefixNot","visitPrefixNot","NonNullAssert","visitNonNullAssert","MethodCall","visitMethodCall","SafeMethodCall","visitSafeMethodCall","FunctionCall","visitFunctionCall","ASTWithSource","source","TemplateBinding","keyIsVar","NullAstVisitor","RecursiveAstVisitor","AstTransformer","AstMemoryEfficientTransformer","modified","original","visitAstChildren","ParsedProperty","isLiteral","ParsedPropertyType","LITERAL_ATTR","ANIMATION","ParsedEvent","ParsedVariable","BoundElementProperty","SplitInterpolation","offsets","TemplateBindingParseResult","templateBindings","warnings","_createInterpolateRegExp","config","pattern","Parser","_lexer","parseAction","_checkNoInterpolation","sourceToLex","_stripComments","_ParseAST","parseChain","parseBinding","_parseBindingAst","parseSimpleBinding","SimpleExpressionChecker","check","_reportError","_parseQuote","prefixSeparatorIndex","parseTemplateBindings","tplKey","tplValue","parseInterpolation","splitInterpolation","expressionText","part","_findInterpolationErrorColumn","wrapLiteralPrimitive","_commentStart","outerQuote","char","nextChar","partInErrIdx","j","inputLength","rparensExpected","rbracketsExpected","rbracesExpected","inputIndex","optionalCharacter","peekKeywordLet","peekKeywordAs","expectCharacter","optionalOperator","op","expectOperator","operator","expectIdentifierOrKeyword","expectIdentifierOrKeywordOrString","exprs","expr","parsePipe","parseExpression","parseConditional","parseLogicalOr","yes","no","parseLogicalAnd","parseEquality","parseRelational","parseAdditive","parseMultiplicative","parsePrefix","parseCallChain","parsePrimary","parseAccessMemberOrMethodCall","parseCallArguments","elements","parseExpressionList","parseLiteralMap","literalValue","terminator","quoted","isSafe","positionals","expectTemplateBindingKey","operatorFound","firstBinding","rawKey","isVar","letStart","letName","locationText","skip","ParseLocation","file","line","col","moveBy","delta","content","len","ch","priorLine","substr","lastIndexOf","getContext","maxChars","maxLines","startOffset","endOffset","ctxChars","ctxLines","before","after","ParseSourceFile","ParseSourceSpan","details","ParseErrorLevel","ParseError","level","ERROR","contextualMessage","ctx","typeSourceSpan","kind","sourceFileName","sourceFile","Token$1","TokenError","errorMsg","tokenType","TokenizeResult","getTagDefinition","tokenizeExpansionForms","_Tokenizer","_CR_OR_CRLF_REGEXP","_unexpectedCharacterErrorMsg","charCode","_unknownEntityErrorMsg","entitySrc","_ControlFlowError","_file","_getTagDefinition","_tokenizeIcu","_interpolationConfig","_peek","_nextPeek","_index","_line","_column","_expansionCaseStack","_inInterpolation","_input","_length","_advance","_processCarriageReturns","_getLocation","_attemptCharCode","_consumeCdata","_consumeComment","_consumeDocType","_consumeTagClose","_consumeTagOpen","_tokenizeExpansionForm","_consumeText","_beginToken","_endToken","mergeTextTokens","isExpansionFormStart","_consumeExpansionFormStart","isExpansionCaseStart","_isInExpansionForm","_consumeExpansionCaseStart","_isInExpansionCase","_consumeExpansionCaseEnd","_consumeExpansionFormEnd","_getSpan","_currentTokenStart","_currentTokenType","_createError","_attemptCharCodeCaseInsensitive","compareCharCodeCaseInsensitive","_requireCharCode","_attemptStr","chars","initialPosition","_savePosition","_restorePosition","_attemptStrCaseInsensitive","_requireStr","_attemptCharCodeUntilFn","predicate","_requireCharCodeUntilFn","_attemptUntilChar","_readChar","decodeEntities","_decodeEntity","isHex","numberStart","isDigitEntityEnd","strNum","entity","startPosition","isNamedEntityEnd","_consumeRawText","firstCharOfEnd","attemptEndRest","tagCloseStart","textStart","COMMENT_START","textToken","COMMENT_END","CDATA_START","CDATA_END","DOC_TYPE","_consumePrefixAndName","nameOrPrefixStart","isPrefixEnd","nameStart","isNameEnd","savedPos","lowercaseTagName","_consumeTagOpenStart","isNotWhitespace","_consumeAttributeName","_consumeAttributeValue","_consumeTagOpenEnd","TEXT","contentTokenType","_consumeRawTextWithTagClose","TAG_CLOSE","TAG_OPEN_START","ATTR_NAME","prefixAndName","ATTR_VALUE","quoteChar","valueStart","TAG_OPEN_END_VOID","TAG_OPEN_END","EXPANSION_FORM_START","_readUntil","EXPANSION_CASE_VALUE","EXPANSION_CASE_EXP_START","EXPANSION_CASE_EXP_END","EXPANSION_FORM_END","_isTextEnd","nbTokens","isInterpolationStart","code1","code2","toUpperCaseCharCode","srcTokens","dstTokens","lastDstToken","TreeError","ParseTreeResult","Parser$1","parseExpansionForms","tokensAndErrors","treeAndErrors","_TreeBuilder","build","_rootNodes","_errors","_elementStack","_consumeStartTag","_consumeEndTag","_closeVoidElement","_consumeExpansion","prev","_advanceIf","startToken","_addToParent","expCase","_parseExpansionCase","_collectExpansionExpTokens","parsedExp","expansionFormStack","lastOnStack","parent_1","_getParentElement","el","startTagToken","_consumeAttr","_getElementFullName","selfClosing","tagDef","_pushElement","_popElement","parentEl","_getParentElementSkippingContainers","parent","container","newParent","_insertBeforeContainer","endTagToken","errMsg","stackIndex","splice","valueToken","parentElement","stack","digest","sha1","serializeNodes","meaning","decimalDigest","_SerializerIgnoreIcuExpVisitor","computeMsgId","_SerializerVisitor","visitContainer","visitIcu","icu","strCases","k","visitTagPlaceholder","ph","startName","closeName","visitPlaceholder","visitIcuPlaceholder","serializerVisitor","utf8","words32","stringToWords32","Endian","Big","w","h0","h1","h2","h3","h4","rol32","fk","f","temp","add32","byteStringToHexString","words32ToByteString","fingerprint","hash32","hi","lo","him","lom","add64","rol64","byteStringToDecString","wordAt","Little","mix","sub32","add32to64","high","ah","al","bh","bl","carry","l","h","count","endian","byteAt","word","word32ToByteString","decimal","toThePower","addBigInt","numberTimesBigInt","x","y","sum","Math","max","tmpSum","num","product","bToThePower","Message","placeholders","placeholderToMessage","description","sources","startLine","startCol","endLine","endCol","Text$1","Container","Icu","TagPlaceholder","tag","Placeholder","IcuPlaceholder","CloneVisitor","expressionPlaceholder","RecurseVisitor","TAG_TO_PLACEHOLDER_NAMES","PlaceholderRegistry","_placeHolderNameCounts","_signatureToName","getStartTagPlaceholderName","signature","_hashTag","upperTag","_generateUniqueName","getCloseTagPlaceholderName","_hashClosingTag","getPlaceholderName","upperName","uniqueName","getUniquePlaceholder","strAttrs","sort","base","seen","_expParser","createI18nMessageFactory","_I18nVisitor","toI18nMessage","_expressionParser","_isIcu","_icuDepth","_placeholderRegistry","_placeholderToContent","_placeholderToMessage","i18nodes","startPhName","closePhName","attribute","_visitTextWithInterpolation","comment","i18nIcuCases","i18nIcu","caze","expPh","phName","icuCase","sDelimiter","eDelimiter","_extractPlaceholderName","lastStringIdx","_CUSTOM_PH_EXP","I18nError","_I18N_ATTR","_I18N_ATTR_PREFIX","_I18N_COMMENT_PREFIX_REGEXP","MEANING_SEPARATOR","ID_SEPARATOR","i18nCommentsWarned","extractMessages","implicitTags","implicitAttrs","_Visitor","extract","mergeTranslations","translations","merge","ExtractionResult","messages","_VisitorMode","_implicitTags","_implicitAttrs","_init","Extract","_inI18nBlock","_messages","Merge","_translations","wrapper","translatedNode","_mode","_mayBeAddBlockChildren","wasInIcu","_inIcu","_isInTranslatableSection","_addMessage","isOpening","_isOpeningComment","isClosing","_isClosingComment","_inI18nNode","console","warn","_blockStartDepth","_depth","_blockChildren","_blockMeaningAndDesc","_openTranslatableSection","_closeTranslatableSection","_translateMessage","wasInI18nNode","wasInImplicitNode","_inImplicitNode","childNodes","translatedChildNodes","i18nAttr","_getI18nAttr","i18nMeta","isImplicit","isTopLevelImplicit","isTranslatable","visitNodes","visited","_visitAttributesOf","translatedAttrs","_translateAttributes","mode","_msgCountAtSectionStart","_createI18nMessage","explicitAttrNameToValue","implicitAttrNames","startsWith","msgMeta","_parseMessageMeta","attributes","i18nParsedMessageMeta","translatedAttributes","directChildren","startIndex","significantChildren","find","i18n","idIndex","descIndex","meaningAndDesc","XmlTagDefinition","_TAG_DEFINITION","getXmlTagDefinition","XmlParser","Serializer","createNameMapper","SimplePlaceholderMapper","mapName","internalToPublic","publicToNextId","publicToInternal","toPublicName","internalName","toInternalName","publicName","visitPlaceholderName","nextId","_Visitor$1","visitTag","_serializeAttributes","strChildren","visitDeclaration","decl","visitDoctype","doctype","rootTag","dtd","_visitor","serialize","Declaration","unescapedAttrs","escapeXml","Doctype","Tag","Text$2","unescapedValue","CR","ws","_ESCAPED_CHARS","entry","_VERSION","_XMLNS","_DEFAULT_SOURCE_LANG","_PLACEHOLDER_TAG","_MARKER_TAG","_FILE_TAG","_SOURCE_TAG","_SEGMENT_SOURCE_TAG","_TARGET_TAG","_UNIT_TAG","_CONTEXT_GROUP_TAG","_CONTEXT_TAG","Xliff","write","locale","_WriteVisitor","transUnits","contextTags","contextGroupTag","purpose","transUnit","datatype","priority","from","body","xliff","version","xmlns","encoding","load","xliffParser","XliffParser","msgIdToHtml","i18nNodesByMsgId","converter","XmlToI18n","msgId","convert","i18nNodes","ctype","getCtypeForTag","startTagPh","closeTagPh","equivText","_locale","_unitMlString","_msgIdToHtml","xml","idAttr","_addError","innerTextStart","innerTextEnd","innerText","localeAttr","expansion","expansionCase","xmlIcu","nameAttr","caseMap","_VERSION$1","_XMLNS$1","_DEFAULT_SOURCE_LANG$1","_PLACEHOLDER_TAG$1","_PLACEHOLDER_SPANNING_TAG","_MARKER_TAG$1","_XLIFF_TAG","_SOURCE_TAG$1","_TARGET_TAG$1","_UNIT_TAG$1","Xliff2","_WriteVisitor$1","units","notes","category","segment","srcLang","xliff2Parser","Xliff2Parser","XmlToI18n$1","getTypeForTag","tagPh","_nextPlaceholderId","equiv","disp","tagPc","equivStart","equivEnd","dispStart","dispEnd","idStr","versionAttr","startAttr","endAttr","startId","endId","_MESSAGES_TAG","_MESSAGE_TAG","_PLACEHOLDER_TAG$2","_EXEMPLE_TAG","_SOURCE_TAG$2","_DOCTYPE","Xmb","exampleVisitor","ExampleVisitor","_Visitor$2","rootNode","sourceTags","addDefaultExamples","digest$1","startEx","closeEx","exTag","exText","_TRANSLATIONS_TAG","_TRANSLATION_TAG","_PLACEHOLDER_TAG$3","Xtb","xtbParser","XtbParser","XmlToI18n$2","valueFn","createLazyProperty","xtb","_bundleDepth","langAttr","HtmlParser","TranslationBundle","_i18nNodesByMsgId","mapperFactory","missingTranslationStrategy","Warning","_i18nToHtml","I18nToHtmlVisitor","serializer","digestFn","srcMsg","html","_digest","_mapperFactory","_missingTranslationStrategy","_console","_contextStack","_convertToText","_srcMsg","_mapper","mapper","I18NHtmlParser","translationsFormat","createSerializer","_translationBundle","parseResult","format","CORE","Identifiers","ANALYZE_FOR_ENTRY_COMPONENTS","moduleName","ElementRef","NgModuleRef","ViewContainerRef","ChangeDetectorRef","QueryList","TemplateRef","CodegenComponentFactoryResolver","ComponentFactoryResolver","ComponentFactory","ComponentRef","NgModuleFactory","createModuleFactory","moduleDef","moduleProviderDef","RegisterModuleFactoryFn","inject","INJECTOR","Injector","defineInjectable","InjectableDef","LOCALE_ID","TRANSLATIONS_FORMAT","inlineInterpolate","interpolate","EMPTY_ARRAY","EMPTY_MAP","Renderer","viewDef","elementDef","anchorDef","textDef","directiveDef","providerDef","queryDef","pureArrayDef","pureObjectDef","purePipeDef","pipeDef","nodeValue","ngContentDef","unwrapValue","createRendererType2","RendererType2","ViewDefinition","createComponentFactory","createTokenForReference","createTokenForExternalReference","reflector","resolveExternalReference","TypeModifier","Type$1","modifiers","hasModifier","modifier","BuiltinTypeName","BuiltinType","visitType","visitBuiltinType","ExpressionType","typeParams","visitExpressionType","ArrayType","of","visitArrayType","MapType","valueType","visitMapType","DYNAMIC_TYPE","Dynamic","INFERRED_TYPE","Inferred","BOOL_TYPE","Bool","INT_TYPE","Int","NUMBER_TYPE","STRING_TYPE","FUNCTION_TYPE","NONE_TYPE","BinaryOperator","nullSafeIsEquivalent","other","isEquivalent","areAllEquivalent","Expression","ReadPropExpr","ReadKeyExpr","callMethod","params","InvokeMethodExpr","callFn","InvokeFunctionExpr","instantiate","InstantiateExpr","conditional","trueCase","falseCase","ConditionalExpr","equals","rhs","BinaryOperatorExpr","Equals","notEquals","NotEquals","identical","Identical","notIdentical","NotIdentical","minus","Minus","plus","Plus","divide","Divide","multiply","Multiply","modulo","Modulo","and","And","bitwiseAnd","parens","BitwiseAnd","or","Or","lower","Lower","lowerEquals","LowerEquals","bigger","Bigger","biggerEquals","BiggerEquals","isBlank","TYPED_NULL_EXPR","cast","CastExpr","toStmt","ExpressionStatement","BuiltinVar","ReadVarExpr","builtin","isConstant","visitExpression","visitReadVarExpr","WriteVarExpr","TypeofExpr","visitTypeofExpr","WrappedNodeExpr","visitWrappedNodeExpr","visitWriteVarExpr","toDeclStmt","DeclareVarStmt","WriteKeyExpr","visitWriteKeyExpr","WritePropExpr","visitWritePropExpr","BuiltinMethod","method","visitInvokeMethodExpr","fn","visitInvokeFunctionExpr","classExpr","visitInstantiateExpr","LiteralExpr","visitLiteralExpr","ExternalExpr","runtime","visitExternalExpr","ExternalReference","visitConditionalExpr","NotExpr","visitNotExpr","AssertNotNull","visitAssertNotNullExpr","visitCastExpr","FnParam","param","FunctionExpr","statements","visitFunctionExpr","DeclareFunctionStmt","lhs","visitBinaryOperatorExpr","visitReadPropExpr","visitReadKeyExpr","LiteralArrayExpr","entries","every","visitLiteralArrayExpr","LiteralMapEntry","LiteralMapExpr","visitLiteralMapExpr","CommaExpr","visitCommaExpr","THIS_EXPR","This","SUPER_EXPR","Super","CATCH_ERROR_VAR","CatchError","CATCH_STACK_VAR","CatchStack","NULL_EXPR","StmtModifier","Statement","stmt","visitStatement","visitDeclareVarStmt","visitDeclareFunctionStmt","visitExpressionStmt","ReturnStatement","visitReturnStmt","AbstractClassPart","ClassField","initializer","ClassMethod","ClassGetter","ClassStmt","fields","getters","constructorMethod","methods","visitDeclareClassStmt","IfStmt","visitIfStmt","CommentStmt","multiline","visitCommentStmt","JSDocCommentStmt","tags","visitJSDocCommentStmt","serializeTags","TryCatchStmt","bodyStmts","catchStmts","visitTryCatchStmt","ThrowStmt","visitThrowStmt","AstTransformer$1","transformExpr","transformStmt","visitAllExpressions","visitAllStatements","mapType","getter","ctorMethod","stmts","RecursiveAstVisitor$1","findReadVarNames","_ReadVarVisitor","varNames","collectExternalReferences","_FindExternalReferencesVisitor","externalReferences","applySourceSpanToStatementIfNeeded","transformer","_ApplySourceSpanTransformer","applySourceSpanToExpressionIfNeeded","_clone","clone","variable","importExpr","importType","typeModifiers","expressionType","typeofExpr","literalArr","literalMap","not","assertNotNull","ifStmt","thenClause","elseClause","literal","isNull","tagToString","out","e_1","tags_1","tags_1_1","e_1_1","return","QUOTED_KEYS","convertValueToOutputAst","_ValueOutputAstTransformer","quotedSet","mapEntry","InjectableCompiler","alwaysGenerateDef","tokenInjector","depsArray","dep","flags","tokenExpr","factoryFor","retValue","clazz","symbol","depArgs","parameters","injectableDef","providedIn","compile","Static","STRIP_SRC_FILE_SUFFIXES","GENERATED_FILE","JIT_SUMMARY_FILE","JIT_SUMMARY_NAME","ngfactoryFilePath","forceSourceFile","urlWithSuffix","splitTypescriptSuffix","normalizeGenFileSuffix","stripGeneratedFileSuffix","isGeneratedFile","endsWith","lastDot","srcFileSuffix","summaryFileName","fileName","fileNameWithoutSuffix","summaryForJitFileName","stripSummaryForJitFileSuffix","summaryForJitName","symbolName","stripSummaryForJitNameSuffix","LOWERED_SYMBOL","isLoweredSymbol","createLoweredSymbol","LifecycleHooks","LIFECYCLE_HOOKS_VALUES","OnInit","OnDestroy","DoCheck","OnChanges","AfterContentInit","AfterContentChecked","AfterViewInit","AfterViewChecked","hasLifecycleHook","hook","getHookName","getAllLifecycleHooks","ERROR_COMPONENT_TYPE","CompileMetadataResolver","_ngModuleResolver","_directiveResolver","_pipeResolver","_summaryResolver","_schemaRegistry","_directiveNormalizer","_staticSymbolCache","_errorCollector","_nonNormalizedDirectiveCache","_directiveCache","_summaryCache","_pipeCache","_ngModuleCache","_ngModuleOfTypes","_shallowModuleCache","getReflector","dirMeta","_createProxyClass","baseType","delegate","proxyClass","setDelegate","getGeneratedClass","dirType","getComponentViewClass","getHostComponentViewClass","getHostComponentType","HostClass","getRendererType","getComponentFactory","hostView","initComponentFactory","_loadSummary","typeSummary","summary","resolveSummary","getHostComponentMetadata","hostViewType","hostType","diDeps","loadDirectiveMetadata","isSync","getNonNormalizedDirectiveMetadata","annotation","createDirectiveMetadata","templateMetadata","normalizedDirMeta","componentModuleUrl","componentStillLoadingError","cacheEntry","nonNormalizedTemplateMetadata","changeDetectionStrategy","entryComponentMetadata","_getProvidersMetadata","stringifyType","flattenAndDedupeArray","_getEntryComponentMetadata","getDefaultComponentElementName","_getQueriesMetadata","_getTypeMetadata","getDirectiveMetadata","getDirectiveSummary","dirSummary","isPipe","isNgModule","getNgModuleSummary","moduleType","alreadyCollecting","moduleSummary","getNgModuleMetadata","loadNgModuleDirectiveAndPipeMetadata","loading","promise","_loadPipeMetadata","getShallowModuleMetadata","compileMeta","ngModuleMeta","shallowAnnotations","rawExports","rawImports","imports","rawProviders","exportedNonModuleIdentifiers","importedType","importedModuleType","isValidType","moduleWithProviders","_checkSelfImport","_getTypeDescriptor","importedModuleSummary","exportedType","exportedModuleSummary","_getIdentifierMetadata","_getTransitiveNgModuleMetadata","declarations","declaredType","declaredIdentifier","_addTypeToModule","exportedId","bootstrap","provide","oldModule","modulesByToken","modSummary","mod","addedTokens","tokenRef","prevModules","moduleRef","isInjectable","tryAnnotations","ann","getInjectableSummary","Injectable","getInjectableMetadata","throwOnUnknownDeps","_getDependenciesMetadata","_getFactoryMetadata","getPipeMetadata","pipeType","pipeMeta","getPipeSummary","pipeSummary","getOrLoadPipeMetadata","pipeAnnotation","typeOrFunc","hasUnknownDeps","dependenciesMetadata","isAttribute","isSelf","isSkipSelf","isOptional","paramEntry","_getTokenMetadata","depsTokens","compileToken","targetEntryComponents","debugInfo","compileProviders","providerIdx","providerMeta","_validateProvider","providersInfo","soFar","seenProvider","seenProviderIdx","_getEntryComponentsFromProvider","getProviderMetadata","components","collectedIdentifiers","extractIdentifiers","_getInjectableTypeMetadata","compileDeps","compileTypeMetadata","compileFactoryMetadata","propertyName","_getQueryMetadata","_queryVarBindings","q","varName","read","error$$1","otherType","flattenArray","tree","dedupeArray","array","targetIdentifiers","_CompileValueConverter","ProviderError","ProviderViewContext","component","_getViewQueries","ProviderElementContext","viewContext","_parent","_isViewRoot","_directiveAsts","refs","isTemplate","_sourceSpan","_transformedProviders","_seenProviders","_queriedTokens","transformedHasViewContainer","_attrs","attrAst","directivesMeta","directiveAst","_allProviders","_resolveProvidersFromDirectives","_contentQueries","_getContentQueries","_addQueryReadsTo","templateRefId","refAst","defaultQueryValue","_getOrCreateLocalProvider","afterElement","lazyProviders","eagerProviders","sortedProviderTypes","transformProviders","sortedDirectives","dir1","dir2","allMatches","defaultValue","queryReadTokens","_getQueriesFor","queryValue","queryId","currentEl","distance","requestingProviderType","resolvedProvider","PublicService","PrivateService","Builtin","transformedProviderAst","transformedProviders","transformedUseValue","transformedUseExisting","transformedDeps","existingDiDep","_getDependency","_transformProvider","_transformProviderAst","_getLocalDependency","isValue","Component","currElement","currEager","prevElement","NgModuleProviderAnalyzer","extraProviders","ngModuleProvider","_resolveProviders","requestorSourceSpan","targetErrors","providersByToken","dirProvider","directivesWithComponentFirst","targetProvidersByToken","isUseValue","viewQueryId","_addQueryToTokenMap","contentQueryId","contentQueries","directiveIndex","providerAst","lifecycleHook","lifecycleHookToNodeFlag","multiProviderDef","singleProviderDef","providerExpr","providerFlags","depsExpr","allDepDefs","allParams","providerIndex","depExprs","convertDeps","depIndex","paramName","depDef","tokenMeta","nodeFlag","componentFactoryResolverProviderDef","entryComponentFactories","entryComponent","classMeta","NgModuleCompileResult","ngModuleFactoryVar","LOG_VAR","NgModuleCompiler","providerParser","providerDefs","ngModuleDef","ngModuleDefFactory","_createNgModuleFactory","registerFactoryStmt","createStub","ngModuleReference","ngModuleFactoryStmt","Const","Final","Exported","NgModuleResolver","VERSION$1","JS_B64_PREFIX","SourceMapGenerator","sourcesContent","lines","lastCol0","hasMappings","addSource","addLine","addMapping","col0","sourceUrl","sourceLine0","sourceCol0","currentLine","toJSON","sourcesIndex","mappings","lastSourceIndex","lastSourceLine0","lastSourceCol0","segments","segAsStr","toBase64VLQ","toJsComment","toBase64String","b64","i1","i2","i3","toBase64Digit","digit","B64_DIGITS","_SINGLE_QUOTE_ESCAPE_STRING_RE","_LEGAL_IDENTIFIER_RE","_INDENT_WITH","CATCH_ERROR_VAR$1","CATCH_STACK_VAR$1","_EmittedLine","indent","partsLength","srcSpans","EmitterVisitorContext","_indent","_classes","_preambleLineCount","_lines","createRoot","println","lastPart","print","lineIsEmpty","_currentLine","lineLength","newLine","removeEmptyLastLine","incIndent","decIndent","pushClass","popClass","toSource","sourceLines","_createIndent","toSourceMapGenerator","genFilePath","startsAtLine","firstOffsetMapped","mapFirstOffsetIfNeeded","lineIdx","spans","spanIdx","sourceLine","sourceCol","setPreambleLineCount","column","emittedLine","columnsLeft","partIndex","AbstractEmitterVisitor","_escapeDollarInStrings","hasElseCase","lineWasEmpty","getBuiltinMethodName","escapeIdentifier","opStr","visitAllObjects","separator","incrementedIndent","escapeDollar","alwaysQuote","requiresQuotes","debugOutputAstAsTypeScript","_TsEmitterVisitor","TypeScriptEmitter","emitStatementsAndContext","preamble","emitSourceMaps","referenceFilter","importFilter","preambleLines","reexports","exportedModuleName","reexportsCode","reexport","as","importsWithPrefixes","importedModuleName","sm","sourceText","emitStatements","typeExpression","defaultType","_visitIdentifier","_printColonType","field","_visitClassField","_visitClassConstructor","_visitClassGetter","_visitClassMethod","Private","_visitParams","typeStr","ConcatArray","SubscribeObservable","Bind","size","suppliedParameters","PipeResolver","metas","_SECURITY_SCHEMA","SECURITY_SCHEMA","registerContext","HTML","URL","RESOURCE_URL","specs","specs_1","specs_1_1","spec","ElementSchemaRegistry","BOOLEAN","NUMBER","STRING","OBJECT","SCHEMA","_ATTR_TO_PROP","DomElementSchemaRegistry","_schema","encodedType","strType","strProperties","properties","typeNames","superName","superType","property","hasProperty","schemaMetas","schema","elementProperties","hasElement","getMappedPropName","NONE","validateProperty","validateAttribute","allKnownElementNames","normalizeAnimationStyleProperty","normalizeAnimationStyleValue","camelCaseProp","userProvidedProp","strVal","_isPixelDimensionStyle","valAndSuffixMatch","ShadowCss","strictStyling","shimCssText","hostSelector","commentsWithHash","extractCommentsWithHash","stripComments","_insertDirectives","scopedCssText","_scopeCssText","_insertPolyfillDirectivesInCssText","_insertPolyfillRulesInCssText","_cssContentNextSelectorRe","_cssContentRuleRe","rule","scopeSelector","unscopedRules","_extractUnscopedRulesFromCssText","_insertPolyfillHostInCssText","_convertColonHost","_convertColonHostContext","_convertShadowDOMSelectors","_scopeSelectors","_cssContentUnscopedRuleRe","_convertColonRule","_cssColonHostRe","_colonHostPartReplacer","_cssColonHostContextRe","_colonHostContextPartReplacer","regExp","partReplacer","_polyfillHostNoCombinator","suffix","_polyfillHost","_shadowDOMSelectorsRe","processRules","_scopeSelector","CssRule","strict","_shadowDeepSelectors","deepParts","shallowPart","otherParts","applyScope","_selectorNeedsScoping","_applyStrictSelectorScope","_applySelectorScope","re","_makeScopeMatcher","lre","rre","_selectorReSuffix","_applySimpleSelectorScope","_polyfillHostRe","replaceBy_1","_polyfillHostNoCombinatorRe","hnc","colon","isRe","_scopeSelectorPart","scopedP","safeContent","SafeSelector","scopedSelector","sep","hasHost","shouldScope","part_1","scopedPart","restore","_colonHostContextRe","_polyfillHostContext","_colonHostRe","keep","replaceBy","_content","pseudo","_parenSuffix","_commentRe","_commentWithHashRe","_ruleRe","_curlyRe","OPEN_CURLY","CLOSE_CURLY","BLOCK_PLACEHOLDER","ruleCallback","inputWithEscapedBlocks","escapeBlocks","nextBlockIndex","escapedString","contentPrefix","blocks","StringWithEscapedBlocks","inputParts","resultParts","escapedBlocks","bracketCount","currentBlockParts","COMPONENT_VARIABLE","HOST_ATTR","CONTENT_ATTR","StylesCompileDependency","setValue","CompiledStylesheet","outputCtx","stylesVar","isShimmed","StyleCompiler","_shadowCss","compileComponent","_compileStyles","needsStyleShim","compileStyles","shim","isComponentStylesheet","styleExpressions","plainStyle","_shimIfNeeded","exprIndex","getStylesVarName","PRESERVE_WS_ATTR_NAME","SKIP_WS_TRIM_TAGS","WS_CHARS","NO_WS_REGEXP","WS_REPLACE_REGEXP","hasPreserveWhitespacesAttr","replaceNgsp","WhitespaceVisitor","isNotBlank","removeWhitespaces","htmlAstWithErrors","PLURAL_CASES","expandNodes","expander","_Expander","ExpansionResult","isExpanded","expanded","ExpansionError","_expandPluralForm","_expandDefaultForm","expansionResult","switchAttr","PROPERTY_PARTS_SEPARATOR","ATTRIBUTE_PREFIX","CLASS_PREFIX","STYLE_PREFIX","ANIMATE_PROP_PREFIX","BindingParser","_exprParser","pipesByName","_usedPipes","pipesByName_1","pipe","getUsedPipes","createBoundHostProperties","boundProps_1","parsePropertyBinding","createDirectiveHostPropertyAsts","elementSelector","boundProps","createBoundElementProperty","createDirectiveHostEventAsts","targetEvents_1","parseEvent","sourceInfo","_reportExpressionParserErrors","_checkPipes","parseInlineTemplateBinding","targetMatchableAttrs","targetProps","targetVars","_parseTemplateBindings","_parsePropertyAst","parseLiteralAttr","bindingsResult","warning","WARNING","isAnimationLabel","_parseAnimation","isAnimationProp","_parseBinding","parsePropertyInterpolation","DEFAULT","isHostBinding","boundProp","bindingType","boundPropertyName","securityContexts","_validatePropertyOrAttributeName","calcPossibleSecurityContexts","nsSeparatorIdx","ns","targetEvents","_parseAnimationEvent","_parseRegularEvent","_parseAction","errors_1","errors_1_1","collector","PipeCollector","pipeName","isAttr","report","registry","ctxs","elementNames","notElementNames","possibleElementNames","BIND_NAME_REGEXP","KW_BIND_IDX","KW_LET_IDX","KW_REF_IDX","KW_ON_IDX","KW_BINDON_IDX","KW_AT_IDX","IDENT_KW_IDX","IDENT_BANANA_BOX_IDX","IDENT_PROPERTY_IDX","IDENT_EVENT_IDX","TEMPLATE_ATTR_PREFIX","CLASS_ATTR","_TEXT_CSS_SELECTOR","TEXT_CSS_SELECTOR","TemplateParseError","TemplateParseResult","templateAst","usedPipes","TemplateParser","transforms","tryParse","htmlParseResult","getInterpolationConfig","tryParseHtml","expandHtml","uniqDirectives","removeSummaryDuplicates","uniqPipes","providerViewContext","bindingParser","parseVisitor","TemplateParseVisitor","EMPTY_ELEMENT_CONTEXT","_assertNoReferenceDuplicationOnTemplate","transform","forced","expandedHtmlAst","existingReferences","_bindingParser","_schemas","_targetErrors","selectorMatcher","directivesIndex","ngContentCount","findNgContentIndex","valueNoNgsp","queryStartIndex","elName","matchableAttrs","elementOrDirectiveProps","elementOrDirectiveRefs","elementVars","events","templateElementOrDirectiveProps","templateMatchableAttrs","templateElementVars","hasInlineTemplates","isTemplateElement","parsedVariables","hasBinding","_parseAttr","templateValue","templateKey","normalizedName","_normalizeAttributeName","hasTemplateBinding","parsedVariables_1","elementCssSelector","createElementCssSelector","_parseDirectives","directiveMetas","matchElement","boundDirectivePropNames","directiveAsts","_createDirectiveAsts","elementProps","_createElementPropertyAsts","isViewRoot","providerContext","NON_BINDABLE_VISITOR","ElementContext","projectionSelector","parsedElement","_isEmptyTextNode","_assertAllEventsPublishedByDirectives","_assertNoComponentsNorElementBindingsOnTemplate","transformedDirectiveAsts","_assertElementExists","_assertOnlyOneComponent","ngContentIndex_1","templateQueryStartIndex","templateSelector","templateBoundDirectivePropNames","templateDirectiveAsts","templateElementProps","templateProviderContext","targetRefs","srcSpan","boundEvents","bindParts","_parseVariable","_parseReference","_parseAssignmentEvent","ElementOrDirectiveRef","elementSourceSpan","targetReferences","targetBoundDirectivePropNames","matchedReferences","directiveProperties","boundProperties","_checkPropertiesInSchema","parsedEvents","_createDirectivePropertyAsts","elOrDirRef","isReferenceToDirective","refToken","targetBoundDirectiveProps","boundPropsByName_1","prevValue","dirProp","elProp","isEmptyExpression","boundElementProps","_findComponentDirectives","_findComponentDirectiveNames","componentTypeNames","allDirectiveEvents","NonBindableVisitor","attrNameAndValues","splitExportAs","splitClasses","classAttrValue","_ngContentIndexMatcher","_wildcardNgContentIndex","wildcardNgContentIndex","ngContentIndices","elNameNoNs","attrNameNoNs","items","EventHandlerVars","ConvertActionBindingResult","allowDefault","render3Stmts","statement","convertActionBinding","localResolver","implicitReceiver","action","bindingId","interpolationFunction","DefaultLocalResolver","actionWithoutBuiltins","convertPropertyBindingBuiltins","createLiteralArrayConverter","argCount","createLiteralMapConverter","createPipeConverter","_AstToIrVisitor","actionStmts","flattenStatements","_Mode","prependTemporaryDecls","temporaryCount","preventDefaultVar","lastStatement","returnExpr","convertStmtIntoExpression","createPreventDefaultVar","converterFactory","convertBuiltins","ConvertPropertyBindingResult","currValExpr","BindingForm","convertPropertyBinding","expressionWithoutBuiltins","form","createCurrValueExpr","outputExpr","temporaryDeclaration","TrySimple","_BuiltinAstConverter","temporaryName","temporaryNumber","unshift","ensureStatementMode","ensureExpressionMode","convertToStatementIfNeeded","_converterFactory","BuiltinFunctionCall","_localResolver","_implicitReceiver","_nodeMap","_resultMap","_currentTemporary","_visit","convertedArgs","fnResult","leftMostSafe","leftMostSafeNode","convertSafeAccess","_getLocal","getLocal","varExpr","guardedExpression","temporary","needsTemporary","allocateTemporary","access","releaseTemporary","visitSome","tempNumber","arg","TypeCheckCompiler","options","componentId","externalReferenceVars","embeddedViewCount","viewBuilderFactory","embeddedViewIndex","ViewBuilder","DYNAMIC_VAR_NAME","TypeCheckLocalResolver","defaultResolver","isHostComponent","refOutputVars","updates","actions","getOutputVar","getTypeGuardExpressions","e_2","guard","useIf","e_2_1","astNodes","targetStatements","e_3","viewStmts","bindingCount","preprocessUpdateExpression","nameResolver","General","guardExpression","guardClause","e_3_1","viewName","viewFactory","astWithSource","inter","visitElementOrTemplate","fullTemplateTypeCheck","childVisitor","inputAst","dirAst","outputVarType","outputAst","hostEventAst","currBuilder","varAst","pipeOutputVar","pipeExpr","CLASS_ATTR$1","STYLE_ATTR","IMPLICIT_TEMPLATE_VAR","ViewCompileResult","viewClassVar","rendererTypeVar","ViewCompiler","staticQueryIds","findStaticQueryIds","renderComponentVarName","template_1","customRenderData","renderComponentVar","ViewBuilder$1","LOG_VAR$1","VIEW_VAR","CHECK_VAR","COMP_VAR","EVENT_NAME_VAR","ALLOW_DEFAULT_VAR","purePipeNodeIndices","refNodeIndices","_createPipe","queryIds_1","staticViewQueryIds","queryIndex","calcStaticDynamicQueryFlags","nodeFlags","nodeDef","needsAdditionalRootNode","_createNodeExpressions","updateRendererStmts","updateDirectivesStmts","nodeDefExprs","updateRendererFn","_createUpdateFn","updateDirectivesFn","viewFlags","OnPush","updateStmts","updateFn","preStmts","checkIndex","nodeIndex","updateRendererExpressions","bindingIndex","_preprocessUpdateExpression","updateRenderer","_visitElementOrTemplate","queryMatchesExpr","childCount","_createElementHandleEventFn","usedEvents","dirHostBindings","inputDefs","outputDefs","elementBindingDef","compAst","compRendererType","compView","fixedAttrsDef","elementEventNameAndTarget","elementEventFullName","_visitComponentFactoryResolverProvider","dirIndex","localDirAst","_visitDirective","dirHostEvents","_visitProvider","queryMatchExprs","eventAst","elementNodeIndex","queryIds","_visitProviderOrDirective","mapValue","updateDirectiveExpressions","dirContextExpr","updateDirectives","_addProviderNode","componentDirMeta","currViewExpr","refNodeIndex","varValue","_createLiteralArrayConverter","valueExpr_1","callCheckStmt","_createLiteralMapConverter","valueExpr_2","_createPipeConverter","checkIndex_1","compViewExpr","compBuilder","pipeNodeIndex","pipeValueExpr_1","callUnwrapValue","nodeValueExpr_1","diDep","self","updateBindingCount","createUpdateStatements","logWithNodeDef","allowEmptyExprs","handlers","handleEventStmts","handleEventBindingCount","trueStmts","eventTarget","fullEventName","handleEventFn","lastAstNode","elementAst","mapResult","mergeAttributeValue","attrValue1","attrValue2","bindingIdx","dynamicQueryIds","childData","nodeStaticQueryIds","isFirst","CONSTANT_PREFIX","TRANSLATION_PREFIX","GOOG_GET_MSG","KEY_CONTEXT","FixupExpression","resolved","fixup","shared","ConstantPool","literals","literalFactories","injectorDefinitions","directiveDefinitions","componentDefinitions","pipeDefinitions","nextNameIndex","getConstLiteral","literal$$1","forceShared","keyOf","newValue","freshName","getTranslation","docStmt","i18nMetaToDocStmt","variable$$1","freshTranslationName","fnCall","msgStmt","getDefinition","definitions","definitionsOf","propertyNameOf","getLiteralFactory","argumentsForKey","_getLiteralFactory","expressionForKey","resultMap","literalFactory","literalFactoryArguments","resultExpressions","isVariable","pureFunctionDeclaration","KeyVisitor","invalid","mapKey","MessageBundle","updateFromTemplate","htmlParserResult","i18nParserResult","getMessages","filterSources","mapperVisitor","MapPlaceholderNames","msgList","src","transformedMessage","mapLiteral","CORE$1","Identifiers$1","NEW_METHOD","TRANSFORM_METHOD","PATCH_DEPS","namespaceHTML","namespaceMathML","namespaceSVG","elementStart","elementEnd","elementProperty","elementAttribute","elementClassProp","elementStyling","elementStylingMap","elementStyleProp","elementStylingApply","containerCreate","textBinding","bind","interpolation1","interpolation2","interpolation3","interpolation4","interpolation5","interpolation6","interpolation7","interpolation8","interpolationV","pureFunction0","pureFunction1","pureFunction2","pureFunction3","pureFunction4","pureFunction5","pureFunction6","pureFunction7","pureFunction8","pureFunctionV","pipeBind1","pipeBind2","pipeBind3","pipeBind4","pipeBindV","loadDirective","loadQueryList","projection","projectionDef","injectAttribute","injectElementRef","injectTemplateRef","injectViewContainerRef","injectChangeDetectorRef","directiveInject","defineComponent","ComponentDef","defineDirective","DirectiveDef","InjectorDef","defineInjector","NgModuleDef","defineNgModule","PipeDef","definePipe","queryRefresh","registerContentQuery","NgOnChangesFeature","InheritDefinitionFeature","listener","reserveSlots","sanitizeHtml","sanitizeStyle","defaultStyleSanitizer","sanitizeResourceUrl","sanitizeScript","sanitizeUrl","TEMPORARY_NAME","CONTEXT_NAME","RENDER_FLAGS","REFERENCE_PREFIX","IMPLICIT_REFERENCE","I18N_ATTR","I18N_ATTR_PREFIX","MEANING_SEPARATOR$1","ID_SEPARATOR$1","temporaryAllocator","unsupported","feature","invalid$1","asLiteral","conditionallyCreateMapObjectLiteral","getOwnPropertyNames","mapToExpression","trimTrailingNulls","getQueryPredicate","constantPool","noop","DefinitionMap","toLiteralMap","R3ResolvedDependencyType","compileFactoryFunction","compileInjectDependency","injectFn","useNew","fnOrClass","skipSelf","optional","injectArgs","dependenciesFromGlobalMetadata","elementRef","templateRef","viewContainerRef","injectorRef","dependency","mapToMapExpression","convertMetaToOutput","typeWithParameters","numParams","compileNgModule","tupleTypeOf","additionalStatements","compileInjector","compileNgModuleFromRender2","injectableCompiler","injectorDefArg","injectorDef","types","compilePipeFromMetadata","definitionMapValues","templateFactory","compilePipeFromRender2","definitionField","Text$3","BoundText","TextAttribute","visitTextAttribute","BoundAttribute","fromBoundElementProperty","visitBoundAttribute","BoundEvent","visitBoundEvent","Element$1","Template","visitTemplate","Content","selectorIndex","visitContent","Variable","Reference","visitAll$1","nodes_1","nodes_1_1","newNode","nodes_2","nodes_2_1","BIND_NAME_REGEXP$1","KW_BIND_IDX$1","KW_LET_IDX$1","KW_REF_IDX$1","KW_ON_IDX$1","KW_BINDON_IDX$1","KW_AT_IDX$1","IDENT_KW_IDX$1","IDENT_BANANA_BOX_IDX$1","IDENT_PROPERTY_IDX$1","IDENT_EVENT_IDX$1","TEMPLATE_ATTR_PREFIX$1","DEFAULT_CONTENT_SELECTOR","htmlAstToRender3Ast","htmlNodes","HtmlAstToIvyAst","ivyNodes","allErrors","hasNgContent","matchableAttributes","parsedProperties","templateMatchableAttributes","inlineTemplateSourceSpan","templateParsedProperties","templateVariables","elementHasInlineTemplate","normalizeAttributeName","isTemplateBinding","reportError","parseAttribute","NON_BINDABLE_VISITOR$1","isEmptyTextNode","attributes_1","boundAttributes","createBoundAttributes","attributes_2","parseVariable","parseReference","addEvents","parseAssignmentEvent","NonBindableVisitor$1","parseStyle","parenDepth","propStart","currentProp","valueHasQuotes","hyphenate","styleVal","stripUnnecessaryQuotes","qS","qE","tempValue","charAt","mapBindingToInstruction","renderFlagCheckIfStmt","TemplateDefinitionBuilder","contextParameter","parentBindingScope","contextName","directiveMatcher","pipeTypeByName","_namespace","_dataIndex","_bindingContext","_prefixCode","_creationCode","_variableCode","_bindingCode","_postfixCode","_unsupported","_inI18nSection","_i18nSectionIndex","_phToNodeIdxes","_pureFunctionSlots","_bindingScope","nestedScope","lhsVar","_valueConverter","ValueConverter","allocateDataSlot","numSlots","slot","buildTemplateFunction","instruction","variables_1","variables_1_1","variableName","scopedName","freshReferenceName","r3Selectors","parsed","unParsed","creationCode","updateCode","phToNodeIdx","phMap","ngContent","attributeAsList","getNamespaceInstruction","namespaceKey","addNamespaceInstruction","nsInstruction","elementIndex","referenceDataSlots","wasInI18nSection","outputAttrs","attrI18nMetas","createCssSelector","sel","staticType","i18nMessages","initialStyleDeclarations","initialClassDeclarations","styleInputs","classInputs","allOtherInputs","isClassBinding","currStyleIndex","currClassIndex","staticStylesMap","staticClassesMap","stylesIndexMap","classesIndexMap","parseI18nMeta","hasMapBasedStyling","isMapBasedStyleBinding","isMapBasedClassBinding","useDefaultStyleSanitizer","isStyleSanitizable","hasStylingInstructions","attrArg","wasInNamespace","currentNamespace","implicit","createSelfClosingInstruction","paramsList","evName","functionName","localVars","bindingScope","rhsExpression","bindingExpr","indexLiteral","firstStyle","mapBasedStyleInput","firstClass","mapBasedClassInput","stylingInput","lastInputCommand","convertedBinding","sanitizationRef","resolveSanitizationFn","styleIndex","classIndex","visitSingleI18nTextChild","templateIndex","templateContext","attributeNames","attributeMap","templateVisitor","templateFunctionExpr","bindingContext","skipBindFn","pipesConvertedValue","convertedPropertyBinding","valExpr","allocateSlot","allocatePureFunctionSlots","slotPseudoLocal","pureFunctionSlot","pipeBindingCallInfo","isVarLength","pipeBindingIdentifiers","pureFunctionIdentifiers","pureFunctionCallInfo","allocateSlots","startSlot","BindingScope","declareLocalVarCallback","referenceNameIndex","_ROOT_SCOPE","declared","declareCallback","parseTemplate","makeBindingParser","htmlParser","baseDirectiveFields","definitionMap","createDirectiveSelector","createContentQueriesFunction","createContentQueriesRefreshFunction","createHostBindingsFunction","createHostAttributesArray","features","usesInheritance","lifecycle","usesOnChanges","compileDirectiveFromMetadata","selectorForType","typeArgumentCount","compileComponentFromMetadata","firstSelector","selectorAttributes","matcher_1","createViewQueriesFunction","templateTypeName","directivesUsed","pipesUsed","templateFunctionExpression","ROOT_SCOPE","compileDirectiveFromRender2","directiveMetadataFromGlobalMetadata","compileComponentFromRender2","render3Ast","directiveTypeBySel","typeMapToExpressionMap","queriesFromGlobalMetadata","listeners","selectorsFromGlobalMetadata","selectorStrings","createQueryDefinition","idx","queryDefinition","typeName","statements_1","directiveInstanceVar_1","temporary_1","loadQLArg","getQueryList","assignToTemporary","callQueryRefresh","updateDirective","refreshQueryAndUpdateDirective","createStatements","updateStatements","tempAllocator","refresh","viewQueryFnName","hostBindingSourceSpan","directiveSummary","metadataAsSummary","bindings_1","bindings_1_1","eventBindings","eventBindings_1","eventBindings_1_1","bindingName","HOST_REG_EXP$1","parseHostBindings","GeneratedFile","srcFileUrl","genFileUrl","sourceOrStmts","toTypeScript","listLazyRoutes","allLazyRoutes","ROUTES","loadChildren","_collectLoadChildren","loadChildren_1","loadChildren_1_1","route","parseLazyRoute","routes","routes_1","routes_1_1","routePath","routeName","referencedModule","TS","ResolvedStaticSymbol","SUPPORTED_SCHEMA_VERSION","StaticSymbolResolver","staticSymbolCache","summaryResolver","errorRecorder","metadataCache","resolvedSymbols","resolvedFilePaths","importAs","symbolResourcePaths","symbolFromFile","knownFileNameToModuleNames","resolveSymbol","staticSymbol","_resolveSymbolMembers","resultFromSummary","_resolveSymbolFromSummary","resultFromCache","_createSymbolsOf","getImportAs","useSummaries","baseSymbol","getStaticSymbol","baseImportAs","summarizedFileName","summarizedName","getResourcePath","getTypeArity","resolvedSymbol","unwrapResolvedMetadata","arity","getKnownModuleName","recordImportAs","sourceSymbol","targetSymbol","recordModuleNameForFileName","invalidateFile","symbols","symbols_1","symbols_1_1","ignoreErrorsFor","recorder","baseResolvedSymbol","baseMetadata","__symbolic","statics","hasDecorators","getModuleMetadata","metadataKey","decorators","getSymbolsOf","summarySymbols","metadataSymbols","_loop_1","moduleExport","export","exportSymbol","unescapeIdentifier","symName","resolvedModule","resolveModule","createExport","this_1","nestedExports","topLevelSymbolNames_1","origins_1","symbolMeta","origin","originFilePath","createResolvedSymbol","topLevelPath","topLevelSymbolNames","isTsFile","isLibraryFile","transformedMeta_1","_originalFileMemo","getOriginalName","getOutputName","ReferenceTransformer","functionParams","symbolic","oldLen","transformedMeta","unwrappedTransformedMeta","moduleMetadata","moduleMetadatas","getMetadataFor","maxVersion_1","md","errorMessage","getSymbolByModule","containingFile","moduleNameToFileName","serializeSummaries","srcFileName","forJitCtx","symbolResolver","toJsonSerializer","ToJsonSerializer","addSummary","json","forJitSerializer_1","ForJitSerializer","addSourceType","unprocessedSymbolSummariesBySymbol","addLibType","deserializeSummaries","symbolCache","libraryFileName","deserializer","FromJsonDeserializer","deserialize","createForJitStub","createSummaryForJitFunction","fnName","indexBySymbol","reexportedBy","processedSummaryBySymbol","processedSummaries","unprocessedSummary","processedSummary","processValue","metadata_1","clone_1","isCall","isFunctionCall","isMethodCallOnVariable","declarationSymbol","ngModuleSummary","summary_1","summaries","reexportSymbol","__symbol","toSummaryFileName","visitStaticSymbol","loadSummary","isLibrary","exportAsArr","exportAsBySymbol","exportAsArr_1","exportAsArr_1_1","ngModuleSymbols","_g","_h","_j","serializeSummaryWithDeps","ngModuleSymbol","jitExportAsName","serializeSummaryRef","serializeSummary","typeSymbol","jitImportedSymbol","Transformer","allImportAs","serializedSymbol","fromSummaryFileName","AotCompiler","_options","_host","_metadataResolver","_templateParser","_styleCompiler","_viewCompiler","_typeCheckCompiler","_ngModuleCompiler","_injectableCompiler","_outputEmitter","_symbolResolver","_templateAstCache","_analyzedFiles","_analyzedFilesForInjectables","analyzeModulesSync","rootFiles","analyzeResult","analyzeAndValidateNgModules","ngModules","analyzeModulesAsync","_analyzeFile","analyzedFile","analyzeFile","_analyzeFileForInjectables","analyzeFileForInjectables","findGeneratedFileNames","genFileNames","allowEmptyCodegenFiles","injectables","exportsNonSourceFiles","enableSummariesForJit","fileSuffix","dirSymbol","normalizedUrl","resourceNameToFileName","needsShim","_stylesModuleUrl","emitBasicStub","genFileName","originalFileName","_createOutputContext","originalFile","_createNgFactoryStub","_createEmptyStub","_codegenSourceModule","emitTypeCheckStub","loadFilesAsync","fileNames","tsFiles","files","loadingPromises","analyzedInjectables","tsFile","analyzedModules","mergeAndValidateNgFiles","loadFilesSync","emitFlags","ngModuleIndex","_externalIdentifierReferences","typeIndex","dirId","_createTypeCheckBlock","references_1","references_1_1","_parseTemplate","parsedTemplate","emitMessageBundle","messageBundle","compMetas","emitAllPartialModules","r3Files","ngModuleByPipeOrDirective","contextMap","_compilePartialModule","_compileShallowModules","shallowModules","schemaRegistry","hostBindingParser","expressionParser","directiveMetadata","directiveTypeBySel_1","directives_1","pipeTypeByName_1","pipes_1","pipeMetadata","emitAllPartialModules2","_emitPartialModule2","emitAllImpls","sourceModules","_compileImplFile","generatedFiles","_createSummary","_compileModule","componentStylesheet","stylesheetMeta","_codegenStyles","compViewVars","_compileComponent","_compileComponentFactory","srcModule","ngFactoryCtx","symbolSummaries","typeData","forJitOutputCtx","summaryJson","normalizedLocale","i18nFormat","hostMeta","hostViewFactoryVar","compFactoryVar","inputsExprs","outputsExprs","directiveIdentifiers","componentStyles","stylesExpr","viewResult","_resolveStyleStatements","importExpr$$1","importModule","_fileNameToModuleName","selfReference","suppliedTypeParams","missingTypeParamsCount","allTypeParams","fill","memberName","importedFilePath","containingFilePath","fileNameToModuleName","stylesheetMetadata","compiledStylesheet","entryRoute","visitLazyRoute","lazyRoutes","lazyRoutes_1","lazyRoutes_1_1","lazyRoute","seenRoutes","e_4","lazyRoutes_2","lazyRoutes_2_1","e_4_1","compileResult","stylesheetUrl","analyzeNgModules","staticSymbolResolver","metadataResolver","_analyzeFilesIncludingNonProgramFiles","mergeAnalyzedFiles","validateAnalyzedModules","symbolsMissingModule","seenFiles","visitFile","isSourceFile","modMeta","isNgSymbol","isValueExportingNonSourceFile","Visitor","analyzedFiles","allNgModules","allPipesAndDirectives","af","FORMATTED_MESSAGE","indentStr","half","floor","formatChain","chain","postfix","formattedError","isFormattedError","ANGULAR_CORE","ANGULAR_ROUTER","HIDDEN_KEY","IGNORE","USE_VALUE","PROVIDE","REFERENCE_SET","TYPEGUARD_POSTFIX","USE_IF","shouldIgnore","StaticReflector","knownMetadataClasses","knownMetadataFunctions","annotationCache","shallowAnnotationCache","propertyCache","parameterCache","methodCache","staticCache","conversionMap","resolvedExternalReferences","annotationForParentClassWithSummaryKind","initializeConversionMap","kc","_registerDecoratorOrConstructor","kf","_registerFunction","findSymbolDeclaration","declarationSymbol_1","refSymbol","findDeclaration","tryFindDeclaration","resolvedMetadata","originalRecorder","_annotations","simplify","classMetadata","getTypeMetadata","parentType","findParentType","parentAnnotations","ownAnnotations_1","requiredAnnotationTypes","typeHasRequiredAnnotation","requiredType","formatMetadataError","metadataError","parentPropMetadata_1","parentProp","members_1","propData","parameters_1","ctorData","rawParameterTypes","parameterDecorators_1","rawParamType","nestedResult","paramType","trySimplify","_methodNames","methodNames","parentMethodNames_1","members_2","isMethod","_staticMembers","staticMembers","staticMemberData","lcProperty","staticMembers_1","staticMembers_1_1","injectionToken","opaqueToken","lazy","scope","BindingScope$1","empty","calling","simplifyInContext","depth","resolveReferenceValue","simplifyEagerly","simplifyLazily","simplifyNested","nestedContext","isMetadataError","summaryMsg","errorSummary","advise","simplifyCall","functionSymbol","targetFunction","targetExpression","value_1","defaults","functionScope","oldScope","result_1","FUNCTION_CALL_NOT_SUPPORTED","isPrimitive","result_2","spreadArray","spreadArray_1","spreadArray_1_1","spreadItem","value_2","declarationValue","operand","indexTarget","member","selectContext","selectTarget","localValue","missing","argExpressions","mapStringMap","reportingContext","METADATA_ERROR","REFERENCE_TO_NONEXPORTED_CLASS","VARIABLE_NOT_INITIALIZED","DESTRUCTURE_NOT_SUPPORTED","COULD_NOT_RESOLVE_TYPE","REFERENCE_TO_LOCAL_SYMBOL","LAMBDA_NOT_SUPPORTED","expandedMessage","messageAdvise","PopulatedScope","formatMetadataMessageChain","nesting","AotSummaryResolver","summaryCache","loadedFilePaths","referringSrcFileName","referringLibFileName","rootSymbol","_loadSummaryFile","hasSummary","summaryFilePath","createAotUrlResolver","basePath","createAotCompiler","compilerHost","errorCollector","urlResolver","staticReflector","enableIvy","normalizer","loadResource","elementSchemaRegistry","tmplParser","viewCompiler","typeCheckCompiler","SummaryResolver","JitSummaryResolver","_summaries","interpretStatements","_ExecutionContext","StatementInterpreter","exportName","vars","_executeFunctionStatements","varValues","childCtx","createChildWihtLocalVars","instance","ReturnValue","createDynamicClass","_classStmt","_ctx","propertyDescriptors","instanceCtx","paramNames","writable","ctorParamNames","superClass","debugAst","initialValue","currCtx","CATCH_ERROR_VAR$2","CATCH_STACK_VAR$2","subscribe","fnExpr","fn$$1","_declareFn","AbstractJsEmitterVisitor","currentClass","evalExpression","createSourceMap","fnBody","fnArgNames","fnArgValues","argName","emptyFn","headerLines","jitStatements","createSourceMaps","JitEmitterVisitor","createReturnStmt","getArgs","_evalArgNames","_evalArgValues","_evalExportedVars","resultVar","_emitReferenceToExternal","JitCompiler","_compilerConfig","getExtraNgModuleProviders","_compiledTemplateCache","_compiledHostTemplateCache","_compiledDirectiveWrapperCache","_compiledNgModuleCache","_sharedStylesheetCount","_addedAotSummaries","compileModuleSync","_compileModuleAndComponents","compileModuleAsync","compileModuleAndAllComponentsSync","_compileModuleAndAllComponents","compileModuleAndAllComponentsAsync","loadAotSummaries","_addAotSummaries","hasAotSummary","_filterJitIdentifiers","ids","_loadModules","_compileComponents","componentFactories","ngModuleFactory","mainModule","mainNgModule","nestedNgModule","createOutputContext","_interpretOrJit","allComponentFactories","moduleByJitDirective","templates","transJitModules","localMod","localModuleMeta","dirRef","_createCompiledTemplate","_createCompiledHostTemplate","entryComponentType","_compileTemplate","compiledTemplate","assertComponent","viewDefFactory","CompiledTemplate","isCompiled","externalStylesheetsByModuleUrl","outputContext","_resolveStylesCompileResult","evalResult","viewClass","compiled","nestedCompileResult","nestedStylesArr","_resolveAndEvalStylesCompileResult","_viewClass","CompileReflector","createUrlResolverWithoutPackagePrefix","UrlResolver","createOfflineCompileUrlResolver","UrlResolverImpl","_packagePrefix","resolvedUrl","_resolveUrl","resolvedParts","_split","_ComponentIndex","Scheme","Path","getUrlScheme","_buildFromEncodedParts","opt_scheme","opt_userInfo","opt_domain","opt_port","opt_path","opt_queryData","opt_fragment","_splitRe","uri","_removeDotSegments","leadingSlash","trailingSlash","up","pos","_joinAndCanonicalizePath","UserInfo","Domain","Port","QueryData","Fragment","encodeURI","baseParts","ResourceLoader","Extractor","extractor","compileInjectable","makeFn","ret","R3JitReflector","cmpMetadata","jitExpression"],"mappings":"mLAAA;;;;GAMC,UAAUA,MAAV,CAAkBC,OAAlB,CAA2B,CACxB,MAAOC,QAAP,GAAmB,QAAnB,EAA+B,MAAOC,OAAP,GAAkB,WAAjD,CAA+DF,QAAQC,OAAR,CAA/D,CACA,MAAOE,OAAP,GAAkB,UAAlB,EAAgCA,OAAOC,GAAvC,CAA6CD,OAAO,mBAAP,CAA4B,CAAC,SAAD,CAA5B,CAAyCH,OAAzC,CAA7C,CACCA,SAASD,OAAOM,EAAP,CAAYN,OAAOM,EAAP,EAAa,EAAzB,CAA6BN,OAAOM,EAAP,CAAUC,QAAV,CAAqB,EAA3D,EAFD,CAGH,CAJA,EAIC,IAJD,CAIQ,SAAUL,OAAV,CAAmB,CAAE,aAE1B;;;;;;;;;;;;;oFAcA,6BAEA,GAAIM,eAAgB,SAASC,CAAT,CAAYC,CAAZ,CAAe,CAC/BF,cAAgBG,OAAOC,cAAP,EACX,CAAEC,UAAW,EAAb,WAA6BC,MAA7B,EAAsC,SAAUL,CAAV,CAAaC,CAAb,CAAgB,CAAED,EAAEI,SAAF,CAAcH,CAAd,CAAkB,CAD/D,EAEZ,SAAUD,CAAV,CAAaC,CAAb,CAAgB,CAAE,IAAK,GAAIK,EAAT,GAAcL,EAAd,CAAiB,GAAIA,EAAEM,cAAF,CAAiBD,CAAjB,CAAJ,CAAyBN,EAAEM,CAAF,EAAOL,EAAEK,CAAF,CAAP,CAAc,CAF9E,CAGA,MAAOP,eAAcC,CAAd,CAAiBC,CAAjB,CAAP,CACH,CALD,CAOA,QAASO,UAAT,CAAmBR,CAAnB,CAAsBC,CAAtB,CAAyB,CACrBF,cAAcC,CAAd,CAAiBC,CAAjB,EACA,QAASQ,GAAT,EAAc,CAAE,KAAKC,WAAL,CAAmBV,CAAnB,CAAuB,CACvCA,EAAEW,SAAF,CAAcV,IAAM,IAAN,CAAaC,OAAOU,MAAP,CAAcX,CAAd,CAAb,EAAiCQ,GAAGE,SAAH,CAAeV,EAAEU,SAAjB,CAA4B,GAAIF,GAAJ,EAA7D,CAAd,CACH,CAED,GAAII,UAAW,UAAW,CACtBA,SAAWX,OAAOY,MAAP,EAAiB,QAASD,SAAT,CAAkBE,CAAlB,CAAqB,CAC7C,IAAK,GAAIC,EAAJ,CAAOC,EAAI,CAAX,CAAcC,EAAIC,UAAUC,MAAjC,CAAyCH,EAAIC,CAA7C,CAAgDD,GAAhD,CAAqD,CACjDD,EAAIG,UAAUF,CAAV,CAAJ,CACA,IAAK,GAAIX,EAAT,GAAcU,EAAd,CAAiB,GAAId,OAAOS,SAAP,CAAiBJ,cAAjB,CAAgCc,IAAhC,CAAqCL,CAArC,CAAwCV,CAAxC,CAAJ,CAAgDS,EAAET,CAAF,EAAOU,EAAEV,CAAF,CAAP,CACpE,CACD,MAAOS,EAAP,CACH,CAND,CAOA,MAAOF,UAASS,KAAT,CAAe,IAAf,CAAqBH,SAArB,CAAP,CACH,CATD,CAWA,QAASI,SAAT,CAAkBC,CAAlB,CAAqB,CACjB,GAAIC,GAAI,MAAOC,OAAP,GAAkB,UAAlB,EAAgCF,EAAEE,OAAOC,QAAT,CAAxC,CAA4DV,EAAI,CAAhE,CACA,GAAIQ,CAAJ,CAAO,MAAOA,GAAEJ,IAAF,CAAOG,CAAP,CAAP,CACP,MAAO,CACHI,KAAM,UAAY,CACd,GAAIJ,GAAKP,GAAKO,EAAEJ,MAAhB,CAAwBI,EAAI,IAAK,EAAT,CACxB,MAAO,CAAEK,MAAOL,GAAKA,EAAEP,GAAF,CAAd,CAAsBa,KAAM,CAACN,CAA7B,CAAP,CACH,CAJE,CAAP,CAMH,CAED,QAASO,OAAT,CAAgBP,CAAhB,CAAmBN,CAAnB,CAAsB,CAClB,GAAIO,GAAI,MAAOC,OAAP,GAAkB,UAAlB,EAAgCF,EAAEE,OAAOC,QAAT,CAAxC,CACA,GAAI,CAACF,CAAL,CAAQ,MAAOD,EAAP,CACR,GAAIP,GAAIQ,EAAEJ,IAAF,CAAOG,CAAP,CAAR,CAAmBQ,CAAnB,CAAsBC,GAAK,EAA3B,CAA+BC,CAA/B,CACA,GAAI,CACA,MAAO,CAAChB,IAAM,IAAK,EAAX,EAAgBA,IAAM,CAAvB,GAA6B,CAAC,CAACc,EAAIf,EAAEW,IAAF,EAAL,EAAeE,IAApD,CAA0DG,GAAGE,IAAH,CAAQH,EAAEH,KAAV,EAC7D,CACD,MAAOO,KAAP,CAAc,CAAEF,EAAI,CAAEE,MAAOA,KAAT,CAAJ,CAAuB,CAHvC,OAIQ,CACJ,GAAI,CACA,GAAIJ,GAAK,CAACA,EAAEF,IAAR,GAAiBL,EAAIR,EAAE,QAAF,CAArB,CAAJ,CAAuCQ,EAAEJ,IAAF,CAAOJ,CAAP,EAC1C,CAFD,OAGQ,CAAE,GAAIiB,CAAJ,CAAO,KAAMA,GAAEE,KAAR,CAAgB,CACpC,CACD,MAAOH,GAAP,CACH,CAED,QAASI,SAAT,EAAoB,CAChB,IAAK,GAAIJ,IAAK,EAAT,CAAahB,EAAI,CAAtB,CAAyBA,EAAIE,UAAUC,MAAvC,CAA+CH,GAA/C,CACIgB,GAAKA,GAAGK,MAAH,CAAUP,OAAOZ,UAAUF,CAAV,CAAP,CAAV,CAAL,CACJ,MAAOgB,GAAP,CACH,CAED;;;;;;OAOA,CAAC,SAAUM,cAAV,CAA0B,CACvBA,eAAeA,eAAe,UAAf,EAA6B,CAA5C,EAAiD,UAAjD,CACAA,eAAeA,eAAe,oBAAf,EAAuC,CAAtD,EAA2D,oBAA3D,CACAA,eAAeA,eAAe,eAAf,EAAkC,CAAjD,EAAsD,eAAtD,CACH,CAJD,EAIG9C,QAAQ8C,cAAR,GAA2B9C,QAAQ8C,cAAR,CAAyB,EAApD,CAJH,EAKA,QAASC,YAAT,CAAqBC,WAArB,CAAkC,CAC9B,GAAIA,YAAY,CAAZ,GAAkB,GAAtB,CAA2B,CACvB,MAAO,CAAC,IAAD,CAAOA,WAAP,CAAP,CACH,CACD,GAAIC,YAAaD,YAAYE,OAAZ,CAAoB,GAApB,CAAyB,CAAzB,CAAjB,CACA,GAAID,YAAc,CAAC,CAAnB,CAAsB,CAClB,KAAM,IAAIE,MAAJ,CAAU,wBAA0BH,WAA1B,CAAwC,kCAAlD,CAAN,CACH,CACD,MAAO,CAACA,YAAYI,KAAZ,CAAkB,CAAlB,CAAqBH,UAArB,CAAD,CAAmCD,YAAYI,KAAZ,CAAkBH,WAAa,CAA/B,CAAnC,CAAP,CACH,CACD;AACA,QAASI,cAAT,CAAuBC,OAAvB,CAAgC,CAC5B,MAAOP,aAAYO,OAAZ,EAAqB,CAArB,IAA4B,cAAnC,CACH,CACD;AACA,QAASC,YAAT,CAAqBD,OAArB,CAA8B,CAC1B,MAAOP,aAAYO,OAAZ,EAAqB,CAArB,IAA4B,YAAnC,CACH,CACD;AACA,QAASE,aAAT,CAAsBF,OAAtB,CAA+B,CAC3B,MAAOP,aAAYO,OAAZ,EAAqB,CAArB,IAA4B,aAAnC,CACH,CACD,QAASG,YAAT,CAAqBC,QAArB,CAA+B,CAC3B,MAAOA,YAAa,IAAb,CAAoB,IAApB,CAA2BX,YAAYW,QAAZ,EAAsB,CAAtB,CAAlC,CACH,CACD,QAASC,eAAT,CAAwBC,MAAxB,CAAgCC,SAAhC,CAA2C,CACvC,MAAOD,QAAS,IAAMA,MAAN,CAAe,GAAf,CAAqBC,SAA9B,CAA0CA,SAAjD,CACH,CACD;AACA;AACA;AACA;AACA;AACA,GAAIC,gBAAiB,CACjB,SAAU,QADO,CAEjB,SAAU,QAFO,CAGjB,QAAS,QAHQ,CAIjB,QAAS,QAJQ,CAKjB,QAAS,QALQ,CAMjB,QAAS,QANQ,CAOjB,QAAS,QAPQ,CAQjB,SAAU,QARO,CASjB,SAAU,QATO,CAUjB,UAAW,QAVM,CAWjB,QAAS,QAXQ,CAYjB,QAAS,QAZQ,CAajB,MAAO,GAbU,CAcjB,MAAO,QAdU,CAejB,MAAO,QAfU,CAgBjB,OAAQ,QAhBS,CAiBjB,QAAS,QAjBQ,CAkBjB,QAAS,QAlBQ,CAmBjB,QAAS,QAnBQ,CAoBjB,SAAU,QApBO,CAqBjB,SAAU,QArBO,CAsBjB,OAAQ,QAtBS,CAuBjB,OAAQ,QAvBS,CAwBjB,QAAS,QAxBQ,CAyBjB,OAAQ,QAzBS,CA0BjB,OAAQ,QA1BS,CA2BjB,SAAU,QA3BO,CA4BjB,OAAQ,QA5BS,CA6BjB,MAAO,QA7BU,CA8BjB,SAAU,QA9BO,CA+BjB,SAAU,QA/BO,CAgCjB,QAAS,QAhCQ,CAiCjB,OAAQ,QAjCS,CAkCjB,MAAO,QAlCU,CAmCjB,MAAO,QAnCU,CAoCjB,OAAQ,QApCS,CAqCjB,QAAS,QArCQ,CAsCjB,OAAQ,QAtCS,CAuCjB,OAAQ,QAvCS,CAwCjB,QAAS,QAxCQ,CAyCjB,MAAO,QAzCU,CA0CjB,SAAU,QA1CO,CA2CjB,SAAU,QA3CO,CA4CjB,SAAU,QA5CO,CA6CjB,OAAQ,QA7CS,CA8CjB,OAAQ,QA9CS,CA+CjB,MAAO,QA/CU,CAgDjB,QAAS,QAhDQ,CAiDjB,QAAS,QAjDQ,CAkDjB,QAAS,QAlDQ,CAmDjB,SAAU,QAnDO,CAoDjB,SAAU,QApDO,CAqDjB,SAAU,QArDO,CAsDjB,QAAS,QAtDQ,CAuDjB,QAAS,QAvDQ,CAwDjB,SAAU,QAxDO,CAyDjB,SAAU,QAzDO,CA0DjB,QAAS,QA1DQ,CA2DjB,OAAQ,QA3DS,CA4DjB,OAAQ,QA5DS,CA6DjB,UAAW,QA7DM,CA8DjB,UAAW,QA9DM,CA+DjB,QAAS,QA/DQ,CAgEjB,MAAO,QAhEU,CAiEjB,MAAO,QAjEU,CAkEjB,MAAO,QAlEU,CAmEjB,MAAO,QAnEU,CAoEjB,OAAQ,QApES,CAqEjB,OAAQ,QArES,CAsEjB,OAAQ,QAtES,CAuEjB,QAAS,QAvEQ,CAwEjB,OAAQ,QAxES,CAyEjB,SAAU,QAzEO,CA0EjB,SAAU,QA1EO,CA2EjB,SAAU,QA3EO,CA4EjB,SAAU,QA5EO,CA6EjB,QAAS,QA7EQ,CA8EjB,QAAS,QA9EQ,CA+EjB,QAAS,QA/EQ,CAgFjB,KAAM,QAhFW,CAiFjB,KAAM,GAjFW,CAkFjB,OAAQ,QAlFS,CAmFjB,OAAQ,QAnFS,CAoFjB,SAAU,QApFO,CAqFjB,SAAU,QArFO,CAsFjB,SAAU,QAtFO,CAuFjB,SAAU,QAvFO,CAwFjB,QAAS,QAxFQ,CAyFjB,QAAS,QAzFQ,CA0FjB,QAAS,QA1FQ,CA2FjB,SAAU,QA3FO,CA4FjB,SAAU,QA5FO,CA6FjB,QAAS,QA7FQ,CA8FjB,QAAS,QA9FQ,CA+FjB,MAAO,QA/FU,CAgGjB,OAAQ,QAhGS,CAiGjB,OAAQ,QAjGS,CAkGjB,SAAU,QAlGO,CAmGjB,OAAQ,QAnGS,CAoGjB,OAAQ,QApGS,CAqGjB,OAAQ,QArGS,CAsGjB,QAAS,QAtGQ,CAuGjB,QAAS,QAvGQ,CAwGjB,SAAU,QAxGO,CAyGjB,SAAU,QAzGO,CA0GjB,OAAQ,QA1GS,CA2GjB,QAAS,QA3GQ,CA4GjB,OAAQ,QA5GS,CA6GjB,OAAQ,QA7GS,CA8GjB,QAAS,QA9GQ,CA+GjB,QAAS,QA/GQ,CAgHjB,KAAM,QAhHW,CAiHjB,SAAU,QAjHO,CAkHjB,SAAU,QAlHO,CAmHjB,MAAO,QAnHU,CAoHjB,MAAO,QApHU,CAqHjB,SAAU,QArHO,CAsHjB,QAAS,QAtHQ,CAuHjB,KAAM,GAvHW,CAwHjB,OAAQ,QAxHS,CAyHjB,QAAS,QAzHQ,CA0HjB,QAAS,QA1HQ,CA2HjB,SAAU,QA3HO,CA4HjB,QAAS,QA5HQ,CA6HjB,KAAM,QA7HW,CA8HjB,KAAM,QA9HW,CA+HjB,QAAS,QA/HQ,CAgIjB,OAAQ,QAhIS,CAiIjB,QAAS,QAjIQ,CAkIjB,KAAM,QAlIW,CAmIjB,KAAM,QAnIW,CAoIjB,MAAO,QApIU,CAqIjB,QAAS,QArIQ,CAsIjB,OAAQ,QAtIS,CAuIjB,SAAU,QAvIO,CAwIjB,SAAU,QAxIO,CAyIjB,KAAM,QAzIW,CA0IjB,KAAM,QA1IW,CA2IjB,SAAU,QA3IO,CA4IjB,SAAU,QA5IO,CA6IjB,QAAS,QA7IQ,CA8IjB,QAAS,QA9IQ,CA+IjB,QAAS,QA/IQ,CAgJjB,QAAS,QAhJQ,CAiJjB,SAAU,QAjJO,CAkJjB,SAAU,QAlJO,CAmJjB,QAAS,QAnJQ,CAoJjB,QAAS,QApJQ,CAqJjB,QAAS,QArJQ,CAsJjB,UAAW,QAtJM,CAuJjB,UAAW,QAvJM,CAwJjB,QAAS,QAxJQ,CAyJjB,KAAM,QAzJW,CA0JjB,OAAQ,QA1JS,CA2JjB,OAAQ,QA3JS,CA4JjB,SAAU,QA5JO,CA6JjB,SAAU,QA7JO,CA8JjB,SAAU,QA9JO,CA+JjB,SAAU,QA/JO,CAgKjB,SAAU,QAhKO,CAiKjB,OAAQ,QAjKS,CAkKjB,OAAQ,QAlKS,CAmKjB,OAAQ,QAnKS,CAoKjB,SAAU,QApKO,CAqKjB,OAAQ,QArKS,CAsKjB,MAAO,QAtKU,CAuKjB,MAAO,QAvKU,CAwKjB,KAAM,QAxKW,CAyKjB,KAAM,QAzKW,CA0KjB,MAAO,QA1KU,CA2KjB,SAAU,QA3KO,CA4KjB,QAAS,QA5KQ,CA6KjB,QAAS,QA7KQ,CA8KjB,QAAS,QA9KQ,CA+KjB,OAAQ,QA/KS,CAgLjB,OAAQ,QAhLS,CAiLjB,MAAO,QAjLU,CAkLjB,MAAO,QAlLU,CAmLjB,OAAQ,QAnLS,CAoLjB,QAAS,QApLQ,CAqLjB,OAAQ,QArLS,CAsLjB,QAAS,QAtLQ,CAuLjB,OAAQ,QAvLS,CAwLjB,OAAQ,QAxLS,CAyLjB,QAAS,QAzLQ,CA0LjB,QAAS,QA1LQ,CA2LjB,OAAQ,QA3LS,CA4LjB,MAAO,QA5LU,CA6LjB,SAAU,QA7LO,CA8LjB,MAAO,QA9LU,CA+LjB,MAAO,QA/LU,CAgMjB,MAAO,QAhMU,CAiMjB,SAAU,QAjMO,CAkMjB,QAAS,QAlMQ,CAmMjB,QAAS,QAnMQ,CAoMjB,SAAU,QApMO,CAqMjB,SAAU,QArMO,CAsMjB,OAAQ,QAtMS,CAuMjB,OAAQ,QAvMS,CAwMjB,MAAO,QAxMU,CAyMjB,QAAS,QAzMQ,CA0MjB,QAAS,QA1MQ,CA2MjB,SAAU,QA3MO,CA4MjB,MAAO,QA5MU,CA6MjB,SAAU,QA7MO,CA8MjB,MAAO,QA9MU,CA+MjB,OAAQ,QA/MS,CAgNjB,MAAO,QAhNU,CAiNjB,MAAO,QAjNU,CAkNjB,OAAQ,QAlNS,CAmNjB,OAAQ,QAnNS,CAoNjB,OAAQ,QApNS,CAqNjB,OAAQ,QArNS,CAsNjB,QAAS,QAtNQ,CAuNjB,MAAO,QAvNU,CAwNjB,MAAO,QAxNU,CAyNjB,SAAU,QAzNO,CA0NjB,QAAS,QA1NQ,CA2NjB,QAAS,QA3NQ,CA4NjB,WAAY,QA5NK,CA6NjB,SAAU,QA7NO,CA8NjB,QAAS,QA9NQ,CA+NjB,QAAS,QA/NQ,CAgOjB,QAAS,QAhOQ,CAiOjB,QAAS,QAjOQ,CAkOjB,QAAS,QAlOQ,CAmOjB,SAAU,QAnOO,CAoOjB,SAAU,QApOO,CAqOjB,OAAQ,QArOS,CAsOjB,OAAQ,QAtOS,CAuOjB,QAAS,QAvOQ,CAwOjB,QAAS,QAxOQ,CAyOjB,SAAU,QAzOO,CA0OjB,SAAU,QA1OO,CA2OjB,MAAO,QA3OU,CA4OjB,QAAS,QA5OQ,CA6OjB,UAAW,QA7OM,CA8OjB,UAAW,QA9OM,CA+OjB,OAAQ,QA/OS,CAgPjB,OAAQ,QAhPS,CAiPjB,SAAU,QAjPO,CAkPjB,KAAM,QAlPW,CAmPjB,KAAM,QAnPW,CAoPjB,SAAU,QApPO,CAqPjB,SAAU,QArPO,CAsPjB,MAAO,QAtPU,CAuPjB,OAAQ,QAvPS,CAwPjB,OAAQ,QAxPS,CAyPjB,OAAQ,QAzPS,CA0PjB,OAAQ,QA1PS,CA2PjB,MAAO,QA3PU,CA4PjB,OAAQ,QA5PS,CAArB,CA8PA;AACA;AACA,GAAIC,cAAe,QAAnB,CACAD,eAAe,MAAf,EAAyBC,YAAzB,CAEA;;;;;;OAOA,GAAIC,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BC,EAA3B,CAA+B,CAC3B,GAAIC,IAAKD,KAAO,IAAK,EAAZ,CAAgB,EAAhB,CAAqBA,EAA9B,CAAkCE,iBAAmBD,GAAGC,gBAAxD,CAA0EC,gBAAkBF,GAAGE,eAA/F,CAAgHC,wBAA0BH,GAAGG,uBAA7I,CAAsKC,GAAKJ,GAAGK,WAA9K,CAA2LA,YAAcD,KAAO,IAAK,EAAZ,CAAgBtE,QAAQ8C,cAAR,CAAuB0B,aAAvC,CAAuDF,EAAhQ,CAAoQG,GAAKP,GAAGQ,cAA5Q,CAA4RA,eAAiBD,KAAO,IAAK,EAAZ,CAAgB,KAAhB,CAAwBA,EAArU,CAAyUE,GAAKT,GAAGU,MAAjV,CAAyVA,OAASD,KAAO,IAAK,EAAZ,CAAgB,KAAhB,CAAwBA,EAA1X,CAA8XE,GAAKX,GAAGY,aAAtY,CAAqZA,cAAgBD,KAAO,IAAK,EAAZ,CAAgB,KAAhB,CAAwBA,EAA7b,CACA,GAAIE,OAAQ,IAAZ,CACA,KAAKZ,gBAAL,CAAwB,EAAxB,CACA,KAAKO,cAAL,CAAsB,KAAtB,CACA,KAAKM,YAAL,CAAoB,KAApB,CACA,GAAIb,kBAAoBA,iBAAiBxC,MAAjB,CAA0B,CAAlD,CAAqD,CACjDwC,iBAAiBc,OAAjB,CAAyB,SAAU3B,OAAV,CAAmB,CAAE,MAAOyB,OAAMZ,gBAAN,CAAuBb,OAAvB,EAAkC,IAAzC,CAAgD,CAA9F,EACH,CACD,KAAKsB,MAAL,CAAcA,MAAd,CACA,KAAKF,cAAL,CAAsBA,gBAAkBE,MAAxC,CACA,GAAIR,iBAAmBA,gBAAgBzC,MAAhB,CAAyB,CAAhD,CAAmD,CAC/C,KAAKyC,eAAL,CAAuB,EAAvB,CACA;AACA,KAAKc,WAAL,CAAmBd,gBAAgB,CAAhB,CAAnB,CACAA,gBAAgBa,OAAhB,CAAwB,SAAU3B,OAAV,CAAmB,CAAE,MAAOyB,OAAMX,eAAN,CAAsBd,OAAtB,EAAiC,IAAxC,CAA+C,CAA5F,EACH,CACD,KAAKe,uBAAL,CAA+BA,yBAA2B,IAA1D,CACA,KAAKE,WAAL,CAAmBA,WAAnB,CACA,KAAKO,aAAL,CAAqBA,aAArB,CACH,CACDd,kBAAkB9C,SAAlB,CAA4BiE,kBAA5B,CAAiD,SAAUC,aAAV,CAAyB,CACtE,GAAI,CAAC,KAAKhB,eAAV,CAA2B,CACvB,MAAO,MAAP,CACH,CACD,GAAI,CAACgB,aAAL,CAAoB,CAChB,MAAO,KAAP,CACH,CACD,GAAIC,UAAWD,cAAcE,WAAd,EAAf,CACA,GAAIC,kBAAmBF,WAAa,UAAb,EAA2BD,gBAAkB,aAApE,CACA,MAAO,CAACG,gBAAD,EAAqB,KAAKnB,eAAL,CAAqBiB,QAArB,GAAkC,IAA9D,CACH,CAVD,CAWArB,kBAAkB9C,SAAlB,CAA4BsE,eAA5B,CAA8C,SAAUC,IAAV,CAAgB,CAC1D,MAAO,MAAKb,MAAL,EAAea,KAAKH,WAAL,IAAsB,MAAKnB,gBAAjD,CACH,CAFD,CAGA,MAAOH,kBAAP,CACH,CArCsC,EAAvC,CAsCA,GAAI0B,wBAAJ,CACA;AACA;AACA,GAAIC,gBAAJ,CACA,QAASC,qBAAT,CAA8BtC,OAA9B,CAAuC,CACnC,GAAI,CAACqC,eAAL,CAAsB,CAClBD,wBAA0B,GAAI1B,kBAAJ,EAA1B,CACA2B,gBAAkB,CACd,OAAQ,GAAI3B,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CADM,CAEd,OAAQ,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAFM,CAGd,OAAQ,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAHM,CAId,QAAS,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAJK,CAKd,OAAQ,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CALM,CAMd,MAAO,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CANO,CAOd,QAAS,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAPK,CAQd,QAAS,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CARK,CASd,KAAM,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CATQ,CAUd,KAAM,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAVQ,CAWd,SAAU,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAXI,CAYd,QAAS,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAZK,CAad,MAAO,GAAIZ,kBAAJ,CAAsB,CAAEY,OAAQ,IAAV,CAAtB,CAbO,CAcd,IAAK,GAAIZ,kBAAJ,CAAsB,CACvBG,iBAAkB,CACd,SADc,CACH,SADG,CACQ,OADR,CACiB,YADjB,CAC+B,KAD/B,CACsC,IADtC,CAC4C,UAD5C,CAEd,QAFc,CAEJ,MAFI,CAEI,IAFJ,CAEU,IAFV,CAEgB,IAFhB,CAEsB,IAFtB,CAE4B,IAF5B,CAGd,IAHc,CAGR,QAHQ,CAGE,QAHF,CAGY,IAHZ,CAGkB,MAHlB,CAG0B,KAH1B,CAGiC,IAHjC,CAId,GAJc,CAIT,KAJS,CAIF,SAJE,CAIS,OAJT,CAIkB,IAJlB,CADK,CAOvBO,eAAgB,IAPO,CAAtB,CAdS,CAuBd,QAAS,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,OAAD,CAAU,OAAV,CAApB,CAAtB,CAvBK,CAwBd,QAAS,GAAIH,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,OAAD,CAAU,OAAV,CAApB,CAAwCO,eAAgB,IAAxD,CAAtB,CAxBK,CAyBd,QAAS,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,OAAD,CAApB,CAA+BO,eAAgB,IAA/C,CAAtB,CAzBK,CA0Bd,KAAM,GAAIV,kBAAJ,CAAsB,CACxBG,iBAAkB,CAAC,IAAD,CADM,CAExBC,gBAAiB,CAAC,OAAD,CAAU,OAAV,CAAmB,OAAnB,CAFO,CAGxBM,eAAgB,IAHQ,CAAtB,CA1BQ,CA+Bd,KAAM,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAApB,CAAkCO,eAAgB,IAAlD,CAAtB,CA/BQ,CAgCd,KAAM,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAApB,CAAkCO,eAAgB,IAAlD,CAAtB,CAhCQ,CAiCd,MAAO,GAAIV,kBAAJ,CAAsB,CAAEI,gBAAiB,CAAC,UAAD,CAAnB,CAAiCQ,OAAQ,IAAzC,CAAtB,CAjCO,CAkCd,MAAO,GAAIZ,kBAAJ,CAAsB,CAAEK,wBAAyB,KAA3B,CAAtB,CAlCO,CAmCd,OAAQ,GAAIL,kBAAJ,CAAsB,CAAEK,wBAAyB,MAA3B,CAAtB,CAnCM,CAoCd,KAAM,GAAIL,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAApB,CAA4BO,eAAgB,IAA5C,CAAtB,CApCQ,CAqCd,KAAM,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAApB,CAAtB,CArCQ,CAsCd,KAAM,GAAIH,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAApB,CAAkCO,eAAgB,IAAlD,CAAtB,CAtCQ,CAuCd,KAAM,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAAa,KAAb,CAAoB,IAApB,CAApB,CAA+CO,eAAgB,IAA/D,CAAtB,CAvCQ,CAwCd,KAAM,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAAa,KAAb,CAAoB,IAApB,CAApB,CAA+CO,eAAgB,IAA/D,CAAtB,CAxCQ,CAyCd,MAAO,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,KAAP,CAAc,IAAd,CAApB,CAAyCO,eAAgB,IAAzD,CAAtB,CAzCO,CA0Cd,KAAM,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,IAAD,CAAO,IAAP,CAAa,KAAb,CAAoB,IAApB,CAApB,CAA+CO,eAAgB,IAA/D,CAAtB,CA1CQ,CA2Cd,WAAY,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,UAAD,CAApB,CAAkCO,eAAgB,IAAlD,CAAtB,CA3CE,CA4Cd,SAAU,GAAIV,kBAAJ,CAAsB,CAAEG,iBAAkB,CAAC,QAAD,CAAW,UAAX,CAApB,CAA4CO,eAAgB,IAA5D,CAAtB,CA5CI,CA6Cd,MAAO,GAAIV,kBAAJ,CAAsB,CAAEc,cAAe,IAAjB,CAAtB,CA7CO,CA8Cd,UAAW,GAAId,kBAAJ,CAAsB,CAAEc,cAAe,IAAjB,CAAtB,CA9CG,CA+Cd,QAAS,GAAId,kBAAJ,CAAsB,CAAEO,YAAavE,QAAQ8C,cAAR,CAAuB+C,QAAtC,CAAtB,CA/CK,CAgDd,SAAU,GAAI7B,kBAAJ,CAAsB,CAAEO,YAAavE,QAAQ8C,cAAR,CAAuB+C,QAAtC,CAAtB,CAhDI,CAiDd,QAAS,GAAI7B,kBAAJ,CAAsB,CAAEO,YAAavE,QAAQ8C,cAAR,CAAuBgD,kBAAtC,CAAtB,CAjDK,CAkDd,WAAY,GAAI9B,kBAAJ,CAAsB,CAAEO,YAAavE,QAAQ8C,cAAR,CAAuBgD,kBAAtC,CAA0DhB,cAAe,IAAzE,CAAtB,CAlDE,CAAlB,CAoDH,CACD,MAAOa,iBAAgBrC,QAAQgC,WAAR,EAAhB,GAA0CI,uBAAjD,CACH,CAED;;;;;;OAOA,GAAIK,kBAAmB,GAAIC,OAAJ,CAAW,eAAiB;AAC/C,YAD8B,CACf;AACf,mBAF8B,CAER;AACtB;AACA,uDAJ8B,CAI4B;AAC1D;AACA;AACA,QAP8B,CAOnB;AACX,aARmB,CAQJ;AACnB,GATuB,CAAvB,CAUA;;;;OAKA,GAAIC,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,EAAuB,CACnB,KAAKC,OAAL,CAAe,IAAf,CACA,KAAKC,UAAL,CAAkB,EAAlB,CACA;;;;;;;;;;eAWA,KAAKC,KAAL,CAAa,EAAb,CACA,KAAKC,YAAL,CAAoB,EAApB,CACH,CACDJ,YAAYK,KAAZ,CAAoB,SAAUC,QAAV,CAAoB,CACpC,GAAIC,SAAU,EAAd,CACA,GAAIC,YAAa,SAAUC,GAAV,CAAeC,MAAf,CAAuB,CACpC,GAAIA,OAAON,YAAP,CAAoB1E,MAApB,CAA6B,CAA7B,EAAkC,CAACgF,OAAOT,OAA1C,EAAqDS,OAAOR,UAAP,CAAkBxE,MAAlB,EAA4B,CAAjF,EACAgF,OAAOP,KAAP,CAAazE,MAAb,EAAuB,CAD3B,CAC8B,CAC1BgF,OAAOT,OAAP,CAAiB,GAAjB,CACH,CACDQ,IAAIhE,IAAJ,CAASiE,MAAT,EACH,CAND,CAOA,GAAIC,aAAc,GAAIX,YAAJ,EAAlB,CACA,GAAIY,MAAJ,CACA,GAAIC,SAAUF,WAAd,CACA,GAAIG,OAAQ,KAAZ,CACAhB,iBAAiBiB,SAAjB,CAA6B,CAA7B,CACA,MAAOH,MAAQd,iBAAiBkB,IAAjB,CAAsBV,QAAtB,CAAf,CAAgD,CAC5C,GAAIM,MAAM,CAAN,CAAJ,CAAc,CACV,GAAIE,KAAJ,CAAW,CACP,KAAM,IAAI5D,MAAJ,CAAU,2CAAV,CAAN,CACH,CACD4D,MAAQ,IAAR,CACAD,QAAU,GAAIb,YAAJ,EAAV,CACAW,YAAYP,YAAZ,CAAyB3D,IAAzB,CAA8BoE,OAA9B,EACH,CACD,GAAID,MAAM,CAAN,CAAJ,CAAc,CACVC,QAAQI,UAAR,CAAmBL,MAAM,CAAN,CAAnB,EACH,CACD,GAAIA,MAAM,CAAN,CAAJ,CAAc,CACVC,QAAQK,YAAR,CAAqBN,MAAM,CAAN,CAArB,EACH,CACD,GAAIA,MAAM,CAAN,CAAJ,CAAc,CACVC,QAAQM,YAAR,CAAqBP,MAAM,CAAN,CAArB,CAA+BA,MAAM,CAAN,CAA/B,EACH,CACD,GAAIA,MAAM,CAAN,CAAJ,CAAc,CACVE,MAAQ,KAAR,CACAD,QAAUF,WAAV,CACH,CACD,GAAIC,MAAM,CAAN,CAAJ,CAAc,CACV,GAAIE,KAAJ,CAAW,CACP,KAAM,IAAI5D,MAAJ,CAAU,8CAAV,CAAN,CACH,CACDsD,WAAWD,OAAX,CAAoBI,WAApB,EACAA,YAAcE,QAAU,GAAIb,YAAJ,EAAxB,CACH,CACJ,CACDQ,WAAWD,OAAX,CAAoBI,WAApB,EACA,MAAOJ,QAAP,CACH,CA9CD,CA+CAP,YAAY/E,SAAZ,CAAsBmG,iBAAtB,CAA0C,UAAY,CAClD,MAAO,MAAKC,kBAAL,IAA6B,KAAKnB,UAAL,CAAgBxE,MAAhB,EAA0B,CAAvD,EAA4D,KAAKyE,KAAL,CAAWzE,MAAX,EAAqB,CAAjF,EACH,KAAK0E,YAAL,CAAkB1E,MAAlB,GAA6B,CADjC,CAEH,CAHD,CAIAsE,YAAY/E,SAAZ,CAAsBoG,kBAAtB,CAA2C,UAAY,CAAE,MAAO,CAAC,CAAC,KAAKpB,OAAd,CAAwB,CAAjF,CACAD,YAAY/E,SAAZ,CAAsBgG,UAAtB,CAAmC,SAAUhB,OAAV,CAAmB,CAClD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,KAAKA,OAAL,CAAeA,OAAf,CACH,CAHD,CAIA,uEACAD,YAAY/E,SAAZ,CAAsBqG,0BAAtB,CAAmD,UAAY,CAC3D,GAAIjE,SAAU,KAAK4C,OAAL,EAAgB,KAA9B,CACA,GAAIsB,WAAY,KAAKrB,UAAL,CAAgBxE,MAAhB,CAAyB,CAAzB,CAA6B,YAAc,KAAKwE,UAAL,CAAgBsB,IAAhB,CAAqB,GAArB,CAAd,CAA0C,IAAvE,CAA8E,EAA9F,CACA,GAAIrB,OAAQ,EAAZ,CACA,IAAK,GAAI5E,GAAI,CAAb,CAAgBA,EAAI,KAAK4E,KAAL,CAAWzE,MAA/B,CAAuCH,GAAK,CAA5C,CAA+C,CAC3C,GAAIkG,UAAW,KAAKtB,KAAL,CAAW5E,CAAX,CAAf,CACA,GAAImG,WAAY,KAAKvB,KAAL,CAAW5E,EAAI,CAAf,IAAsB,EAAtB,CAA2B,MAAQ,KAAK4E,KAAL,CAAW5E,EAAI,CAAf,CAAR,CAA4B,IAAvD,CAA8D,EAA9E,CACA4E,OAAS,IAAMsB,QAAN,CAAiBC,SAA1B,CACH,CACD,MAAO/B,sBAAqBtC,OAArB,EAA8BsB,MAA9B,CAAuC,IAAMtB,OAAN,CAAgBkE,SAAhB,CAA4BpB,KAA5B,CAAoC,IAA3E,CACH,IAAM9C,OAAN,CAAgBkE,SAAhB,CAA4BpB,KAA5B,CAAoC,KAApC,CAA4C9C,OAA5C,CAAsD,GAD1D,CAEH,CAXD,CAYA2C,YAAY/E,SAAZ,CAAsB0G,QAAtB,CAAiC,UAAY,CACzC,GAAIC,QAAS,EAAb,CACA,GAAI,KAAK1B,UAAL,CAAgBxE,MAAhB,CAAyB,CAA7B,CAAgC,CAC5BkG,OAAOnF,IAAP,CAAY,OAAZ,CAAqB,KAAKyD,UAAL,CAAgBsB,IAAhB,CAAqB,GAArB,CAArB,EACH,CACD,MAAOI,QAAOhF,MAAP,CAAc,KAAKuD,KAAnB,CAAP,CACH,CAND,CAOAH,YAAY/E,SAAZ,CAAsBkG,YAAtB,CAAqC,SAAU3B,IAAV,CAAgBrD,KAAhB,CAAuB,CACxD,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,EAAR,CAAa,CACrC,KAAKgE,KAAL,CAAW1D,IAAX,CAAgB+C,IAAhB,CAAsBrD,OAASA,MAAMkD,WAAN,EAAT,EAAgC,EAAtD,EACH,CAHD,CAIAW,YAAY/E,SAAZ,CAAsBiG,YAAtB,CAAqC,SAAU1B,IAAV,CAAgB,CAAE,KAAKU,UAAL,CAAgBzD,IAAhB,CAAqB+C,KAAKH,WAAL,EAArB,EAA2C,CAAlG,CACAW,YAAY/E,SAAZ,CAAsB4G,QAAtB,CAAiC,UAAY,CACzC,GAAIpB,KAAM,KAAKR,OAAL,EAAgB,EAA1B,CACA,GAAI,KAAKC,UAAT,CAAqB,CACjB,KAAKA,UAAL,CAAgBlB,OAAhB,CAAwB,SAAU8C,KAAV,CAAiB,CAAE,MAAOrB,MAAO,IAAMqB,KAApB,CAA4B,CAAvE,EACH,CACD,GAAI,KAAK3B,KAAT,CAAgB,CACZ,IAAK,GAAI5E,GAAI,CAAb,CAAgBA,EAAI,KAAK4E,KAAL,CAAWzE,MAA/B,CAAuCH,GAAK,CAA5C,CAA+C,CAC3C,GAAIwG,QAAS,KAAK5B,KAAL,CAAW5E,CAAX,CAAb,CACA,GAAIY,OAAQ,KAAKgE,KAAL,CAAW5E,EAAI,CAAf,CAAZ,CACAkF,KAAO,IAAMsB,MAAN,EAAgB5F,MAAQ,IAAMA,KAAd,CAAsB,EAAtC,EAA4C,GAAnD,CACH,CACJ,CACD,KAAKiE,YAAL,CAAkBpB,OAAlB,CAA0B,SAAUgD,WAAV,CAAuB,CAAE,MAAOvB,MAAO,QAAUuB,WAAV,CAAwB,GAAtC,CAA4C,CAA/F,EACA,MAAOvB,IAAP,CACH,CAdD,CAeA,MAAOT,YAAP,CACH,CAnHgC,EAAjC,CAoHA;;;OAIA,GAAIiC,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,EAA2B,CACvB,KAAKC,WAAL,CAAmB,GAAIC,IAAJ,EAAnB,CACA,KAAKC,kBAAL,CAA0B,GAAID,IAAJ,EAA1B,CACA,KAAKE,SAAL,CAAiB,GAAIF,IAAJ,EAAjB,CACA,KAAKG,gBAAL,CAAwB,GAAIH,IAAJ,EAAxB,CACA,KAAKI,aAAL,CAAqB,GAAIJ,IAAJ,EAArB,CACA,KAAKK,oBAAL,CAA4B,GAAIL,IAAJ,EAA5B,CACA,KAAKM,aAAL,CAAqB,EAArB,CACH,CACDR,gBAAgBS,gBAAhB,CAAmC,SAAUtC,YAAV,CAAwB,CACvD,GAAIuC,YAAa,GAAIV,gBAAJ,EAAjB,CACAU,WAAWC,cAAX,CAA0BxC,YAA1B,CAAwC,IAAxC,EACA,MAAOuC,WAAP,CACH,CAJD,CAKAV,gBAAgBhH,SAAhB,CAA0B2H,cAA1B,CAA2C,SAAUC,YAAV,CAAwBC,YAAxB,CAAsC,CAC7E,GAAIC,aAAc,IAAlB,CACA,GAAIF,aAAanH,MAAb,CAAsB,CAA1B,CAA6B,CACzBqH,YAAc,GAAIC,oBAAJ,CAAwBH,YAAxB,CAAd,CACA,KAAKJ,aAAL,CAAmBhG,IAAnB,CAAwBsG,WAAxB,EACH,CACD,IAAK,GAAIxH,GAAI,CAAb,CAAgBA,EAAIsH,aAAanH,MAAjC,CAAyCH,GAAzC,CAA8C,CAC1C,KAAK0H,cAAL,CAAoBJ,aAAatH,CAAb,CAApB,CAAqCuH,YAArC,CAAmDC,WAAnD,EACH,CACJ,CATD,CAUA;;;;WAKAd,gBAAgBhH,SAAhB,CAA0BgI,cAA1B,CAA2C,SAAUtC,WAAV,CAAuBmC,YAAvB,CAAqCC,WAArC,CAAkD,CACzF,GAAIG,SAAU,IAAd,CACA,GAAIjD,SAAUU,YAAYV,OAA1B,CACA,GAAIC,YAAaS,YAAYT,UAA7B,CACA,GAAIC,OAAQQ,YAAYR,KAAxB,CACA,GAAIgD,YAAa,GAAIC,gBAAJ,CAAoBzC,WAApB,CAAiCmC,YAAjC,CAA+CC,WAA/C,CAAjB,CACA,GAAI9C,OAAJ,CAAa,CACT,GAAIoD,YAAalD,MAAMzE,MAAN,GAAiB,CAAjB,EAAsBwE,WAAWxE,MAAX,GAAsB,CAA7D,CACA,GAAI2H,UAAJ,CAAgB,CACZ,KAAKC,YAAL,CAAkBJ,QAAQhB,WAA1B,CAAuCjC,OAAvC,CAAgDkD,UAAhD,EACH,CAFD,IAGK,CACDD,QAAU,KAAKK,WAAL,CAAiBL,QAAQd,kBAAzB,CAA6CnC,OAA7C,CAAV,CACH,CACJ,CACD,GAAIC,UAAJ,CAAgB,CACZ,IAAK,GAAI3E,GAAI,CAAb,CAAgBA,EAAI2E,WAAWxE,MAA/B,CAAuCH,GAAvC,CAA4C,CACxC,GAAI8H,YAAalD,MAAMzE,MAAN,GAAiB,CAAjB,EAAsBH,IAAM2E,WAAWxE,MAAX,CAAoB,CAAjE,CACA,GAAI8H,WAAYtD,WAAW3E,CAAX,CAAhB,CACA,GAAI8H,UAAJ,CAAgB,CACZ,KAAKC,YAAL,CAAkBJ,QAAQb,SAA1B,CAAqCmB,SAArC,CAAgDL,UAAhD,EACH,CAFD,IAGK,CACDD,QAAU,KAAKK,WAAL,CAAiBL,QAAQZ,gBAAzB,CAA2CkB,SAA3C,CAAV,CACH,CACJ,CACJ,CACD,GAAIrD,KAAJ,CAAW,CACP,IAAK,GAAI5E,GAAI,CAAb,CAAgBA,EAAI4E,MAAMzE,MAA1B,CAAkCH,GAAK,CAAvC,CAA0C,CACtC,GAAI8H,YAAa9H,IAAM4E,MAAMzE,MAAN,CAAe,CAAtC,CACA,GAAI+H,QAAStD,MAAM5E,CAAN,CAAb,CACA,GAAIY,OAAQgE,MAAM5E,EAAI,CAAV,CAAZ,CACA,GAAI8H,UAAJ,CAAgB,CACZ,GAAIK,aAAcR,QAAQX,aAA1B,CACA,GAAIoB,mBAAoBD,YAAYE,GAAZ,CAAgBH,MAAhB,CAAxB,CACA,GAAI,CAACE,iBAAL,CAAwB,CACpBA,kBAAoB,GAAIxB,IAAJ,EAApB,CACAuB,YAAYG,GAAZ,CAAgBJ,MAAhB,CAAwBE,iBAAxB,EACH,CACD,KAAKL,YAAL,CAAkBK,iBAAlB,CAAqCxH,KAArC,CAA4CgH,UAA5C,EACH,CARD,IASK,CACD,GAAIW,YAAaZ,QAAQV,oBAAzB,CACA,GAAIuB,kBAAmBD,WAAWF,GAAX,CAAeH,MAAf,CAAvB,CACA,GAAI,CAACM,gBAAL,CAAuB,CACnBA,iBAAmB,GAAI5B,IAAJ,EAAnB,CACA2B,WAAWD,GAAX,CAAeJ,MAAf,CAAuBM,gBAAvB,EACH,CACDb,QAAU,KAAKK,WAAL,CAAiBQ,gBAAjB,CAAmC5H,KAAnC,CAAV,CACH,CACJ,CACJ,CACJ,CApDD,CAqDA8F,gBAAgBhH,SAAhB,CAA0BqI,YAA1B,CAAyC,SAAUU,GAAV,CAAexE,IAAf,CAAqB2D,UAArB,CAAiC,CACtE,GAAIc,cAAeD,IAAIJ,GAAJ,CAAQpE,IAAR,CAAnB,CACA,GAAI,CAACyE,YAAL,CAAmB,CACfA,aAAe,EAAf,CACAD,IAAIH,GAAJ,CAAQrE,IAAR,CAAcyE,YAAd,EACH,CACDA,aAAaxH,IAAb,CAAkB0G,UAAlB,EACH,CAPD,CAQAlB,gBAAgBhH,SAAhB,CAA0BsI,WAA1B,CAAwC,SAAUS,GAAV,CAAexE,IAAf,CAAqB,CACzD,GAAI0D,SAAUc,IAAIJ,GAAJ,CAAQpE,IAAR,CAAd,CACA,GAAI,CAAC0D,OAAL,CAAc,CACVA,QAAU,GAAIjB,gBAAJ,EAAV,CACA+B,IAAIH,GAAJ,CAAQrE,IAAR,CAAc0D,OAAd,EACH,CACD,MAAOA,QAAP,CACH,CAPD,CAQA;;;;;;UAOAjB,gBAAgBhH,SAAhB,CAA0B2F,KAA1B,CAAkC,SAAUD,WAAV,CAAuBuD,eAAvB,CAAwC,CACtE,GAAItC,QAAS,KAAb,CACA,GAAI3B,SAAUU,YAAYV,OAA1B,CACA,GAAIC,YAAaS,YAAYT,UAA7B,CACA,GAAIC,OAAQQ,YAAYR,KAAxB,CACA,IAAK,GAAI5E,GAAI,CAAb,CAAgBA,EAAI,KAAKkH,aAAL,CAAmB/G,MAAvC,CAA+CH,GAA/C,CAAoD,CAChD,KAAKkH,aAAL,CAAmBlH,CAAnB,EAAsB4I,cAAtB,CAAuC,KAAvC,CACH,CACDvC,OAAS,KAAKwC,cAAL,CAAoB,KAAKlC,WAAzB,CAAsCjC,OAAtC,CAA+CU,WAA/C,CAA4DuD,eAA5D,GAAgFtC,MAAzF,CACAA,OAAS,KAAKyC,aAAL,CAAmB,KAAKjC,kBAAxB,CAA4CnC,OAA5C,CAAqDU,WAArD,CAAkEuD,eAAlE,GACLtC,MADJ,CAEA,GAAI1B,UAAJ,CAAgB,CACZ,IAAK,GAAI3E,GAAI,CAAb,CAAgBA,EAAI2E,WAAWxE,MAA/B,CAAuCH,GAAvC,CAA4C,CACxC,GAAIiI,WAAYtD,WAAW3E,CAAX,CAAhB,CACAqG,OACI,KAAKwC,cAAL,CAAoB,KAAK/B,SAAzB,CAAoCmB,SAApC,CAA+C7C,WAA/C,CAA4DuD,eAA5D,GAAgFtC,MADpF,CAEAA,OACI,KAAKyC,aAAL,CAAmB,KAAK/B,gBAAxB,CAA0CkB,SAA1C,CAAqD7C,WAArD,CAAkEuD,eAAlE,GACItC,MAFR,CAGH,CACJ,CACD,GAAIzB,KAAJ,CAAW,CACP,IAAK,GAAI5E,GAAI,CAAb,CAAgBA,EAAI4E,MAAMzE,MAA1B,CAAkCH,GAAK,CAAvC,CAA0C,CACtC,GAAI+I,QAASnE,MAAM5E,CAAN,CAAb,CACA,GAAIY,OAAQgE,MAAM5E,EAAI,CAAV,CAAZ,CACA,GAAIoI,mBAAoB,KAAKpB,aAAL,CAAmBqB,GAAnB,CAAuBU,MAAvB,CAAxB,CACA,GAAInI,KAAJ,CAAW,CACPyF,OACI,KAAKwC,cAAL,CAAoBT,iBAApB,CAAuC,EAAvC,CAA2ChD,WAA3C,CAAwDuD,eAAxD,GAA4EtC,MADhF,CAEH,CACDA,OACI,KAAKwC,cAAL,CAAoBT,iBAApB,CAAuCxH,KAAvC,CAA8CwE,WAA9C,CAA2DuD,eAA3D,GAA+EtC,MADnF,CAEA,GAAImC,kBAAmB,KAAKvB,oBAAL,CAA0BoB,GAA1B,CAA8BU,MAA9B,CAAvB,CACA,GAAInI,KAAJ,CAAW,CACPyF,OAAS,KAAKyC,aAAL,CAAmBN,gBAAnB,CAAqC,EAArC,CAAyCpD,WAAzC,CAAsDuD,eAAtD,GAA0EtC,MAAnF,CACH,CACDA,OACI,KAAKyC,aAAL,CAAmBN,gBAAnB,CAAqC5H,KAArC,CAA4CwE,WAA5C,CAAyDuD,eAAzD,GAA6EtC,MADjF,CAEH,CACJ,CACD,MAAOA,OAAP,CACH,CAzCD,CA0CA,gBACAK,gBAAgBhH,SAAhB,CAA0BmJ,cAA1B,CAA2C,SAAUJ,GAAV,CAAexE,IAAf,CAAqBmB,WAArB,CAAkCuD,eAAlC,CAAmD,CAC1F,GAAI,CAACF,GAAD,EAAQ,MAAOxE,KAAP,GAAgB,QAA5B,CAAsC,CAClC,MAAO,MAAP,CACH,CACD,GAAI+E,aAAcP,IAAIJ,GAAJ,CAAQpE,IAAR,GAAiB,EAAnC,CACA,GAAIgF,iBAAkBR,IAAIJ,GAAJ,CAAQ,GAAR,CAAtB,CACA,GAAIY,eAAJ,CAAqB,CACjBD,YAAcA,YAAY3H,MAAZ,CAAmB4H,eAAnB,CAAd,CACH,CACD,GAAID,YAAY7I,MAAZ,GAAuB,CAA3B,CAA8B,CAC1B,MAAO,MAAP,CACH,CACD,GAAIyH,WAAJ,CACA,GAAIvB,QAAS,KAAb,CACA,IAAK,GAAIrG,GAAI,CAAb,CAAgBA,EAAIgJ,YAAY7I,MAAhC,CAAwCH,GAAxC,CAA6C,CACzC4H,WAAaoB,YAAYhJ,CAAZ,CAAb,CACAqG,OAASuB,WAAWsB,QAAX,CAAoB9D,WAApB,CAAiCuD,eAAjC,GAAqDtC,MAA9D,CACH,CACD,MAAOA,OAAP,CACH,CAnBD,CAoBA,gBACAK,gBAAgBhH,SAAhB,CAA0BoJ,aAA1B,CAA0C,SAAUL,GAAV,CAAexE,IAAf,CAAqBmB,WAArB,CAAkCuD,eAAlC,CAAmD,CACzF,GAAI,CAACF,GAAD,EAAQ,MAAOxE,KAAP,GAAgB,QAA5B,CAAsC,CAClC,MAAO,MAAP,CACH,CACD,GAAIkF,gBAAiBV,IAAIJ,GAAJ,CAAQpE,IAAR,CAArB,CACA,GAAI,CAACkF,cAAL,CAAqB,CACjB,MAAO,MAAP,CACH,CACD;AACA;AACA;AACA,MAAOA,gBAAe9D,KAAf,CAAqBD,WAArB,CAAkCuD,eAAlC,CAAP,CACH,CAZD,CAaA,MAAOjC,gBAAP,CACH,CAxLoC,EAArC,CAyLA,GAAIe,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6B2B,SAA7B,CAAwC,CACpC,KAAKA,SAAL,CAAiBA,SAAjB,CACA,KAAKR,cAAL,CAAsB,KAAtB,CACH,CACD,MAAOnB,oBAAP,CACH,CANwC,EAAzC,CAOA;AACA,GAAII,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyB9C,QAAzB,CAAmCsE,SAAnC,CAA8C7B,WAA9C,CAA2D,CACvD,KAAKzC,QAAL,CAAgBA,QAAhB,CACA,KAAKsE,SAAL,CAAiBA,SAAjB,CACA,KAAK7B,WAAL,CAAmBA,WAAnB,CACA,KAAK3C,YAAL,CAAoBE,SAASF,YAA7B,CACH,CACDgD,gBAAgBnI,SAAhB,CAA0BwJ,QAA1B,CAAqC,SAAU9D,WAAV,CAAuBkE,QAAvB,CAAiC,CAClE,GAAIjD,QAAS,IAAb,CACA,GAAI,KAAKxB,YAAL,CAAkB1E,MAAlB,CAA2B,CAA3B,GAAiC,CAAC,KAAKqH,WAAN,EAAqB,CAAC,KAAKA,WAAL,CAAiBoB,cAAxE,CAAJ,CAA6F,CACzF,GAAIxB,YAAaV,gBAAgBS,gBAAhB,CAAiC,KAAKtC,YAAtC,CAAjB,CACAwB,OAAS,CAACe,WAAW/B,KAAX,CAAiBD,WAAjB,CAA8B,IAA9B,CAAV,CACH,CACD,GAAIiB,QAAUiD,QAAV,GAAuB,CAAC,KAAK9B,WAAN,EAAqB,CAAC,KAAKA,WAAL,CAAiBoB,cAA9D,CAAJ,CAAmF,CAC/E,GAAI,KAAKpB,WAAT,CAAsB,CAClB,KAAKA,WAAL,CAAiBoB,cAAjB,CAAkC,IAAlC,CACH,CACDU,SAAS,KAAKvE,QAAd,CAAwB,KAAKsE,SAA7B,EACH,CACD,MAAOhD,OAAP,CACH,CAbD,CAcA,MAAOwB,gBAAP,CACH,CAtBoC,EAArC,CAwBA;;;;;;OAOA,GAAI0B,cAAeC,oBAAoB,QAApB,CAA8B,SAAUC,KAAV,CAAiB,CAAE,MAAQ,CAAEA,MAAOA,KAAT,CAAR,CAA4B,CAA7E,CAAnB,CACA,GAAIC,sBAAuBF,oBAAoB,gBAApB,CAAsC,SAAUG,IAAV,CAAgB,CAAE,MAAQ,CAAEC,MAAOD,IAAT,CAAeE,gBAAiBC,SAAhC,CAAR,CAAuD,CAA/G,CAA3B,CACA,GAAIC,iBAAkBP,oBAAoB,WAApB,CAAiC,SAAUQ,aAAV,CAAyB,CAAE,MAAQ,CAAEA,cAAeA,aAAjB,CAAR,CAA4C,CAAxG,CAAtB,CACA,GAAIC,uBAAwBT,oBAAoB,iBAApB,CAAuC,SAAUzE,QAAV,CAAoBmF,IAApB,CAA0B,CACzF,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,EAAP,CAAY,CACnC,MAAQtK,UAAS,CAAEmF,SAAUA,QAAZ,CAAsBoF,MAAO,KAA7B,CAAoCC,YAAa,KAAjD,CAAwDC,YAAa,KAArE,CAAT,CAAuFH,IAAvF,CAAR,CACH,CAH2B,CAA5B,CAIA,GAAII,oBAAqBd,oBAAoB,cAApB,CAAoC,SAAUzE,QAAV,CAAoBmF,IAApB,CAA0B,CACnF,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,EAAP,CAAY,CACnC,MAAQtK,UAAS,CAAEmF,SAAUA,QAAZ,CAAsBoF,MAAO,IAA7B,CAAmCC,YAAa,KAAhD,CAAuDC,YAAa,IAApE,CAAT,CAAqFH,IAArF,CAAR,CACH,CAHwB,CAAzB,CAIA,GAAIK,oBAAqBf,oBAAoB,cAApB,CAAoC,SAAUzE,QAAV,CAAoBmF,IAApB,CAA0B,CACnF,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,EAAP,CAAY,CACnC,MAAQtK,UAAS,CAAEmF,SAAUA,QAAZ,CAAsBoF,MAAO,KAA7B,CAAoCC,YAAa,IAAjD,CAAuDC,YAAa,IAApE,CAAT,CAAqFH,IAArF,CAAR,CACH,CAHwB,CAAzB,CAIA,GAAIM,iBAAkBhB,oBAAoB,WAApB,CAAiC,SAAUzE,QAAV,CAAoBmF,IAApB,CAA0B,CAC7E,MAAQtK,UAAS,CAAEmF,SAAUA,QAAZ,CAAsBoF,MAAO,IAA7B,CAAmCC,YAAa,IAAhD,CAAsDC,YAAa,IAAnE,CAAT,CAAoFH,IAApF,CAAR,CACH,CAFqB,CAAtB,CAGA,GAAIO,iBAAkBjB,oBAAoB,WAApB,CAAiC,SAAUkB,GAAV,CAAe,CAClE,GAAIA,MAAQ,IAAK,EAAjB,CAAoB,CAAEA,IAAM,EAAN,CAAW,CACjC,MAAOA,IAAP,CACH,CAHqB,CAAtB,CAIA,GAAIC,kBAAJ,CACA,CAAC,SAAUA,iBAAV,CAA6B,CAC1BA,kBAAkBA,kBAAkB,UAAlB,EAAgC,CAAlD,EAAuD,UAAvD,CACAA,kBAAkBA,kBAAkB,QAAlB,EAA8B,CAAhD,EAAqD,QAArD,CACAA,kBAAkBA,kBAAkB,MAAlB,EAA4B,CAA9C,EAAmD,MAAnD,CACAA,kBAAkBA,kBAAkB,WAAlB,EAAiC,CAAnD,EAAwD,WAAxD,CACH,CALD,EAKGA,oBAAsBA,kBAAoB,EAA1C,CALH,EAMA,GAAIC,wBAAJ,CACA,CAAC,SAAUA,uBAAV,CAAmC,CAChCA,wBAAwBA,wBAAwB,QAAxB,EAAoC,CAA5D,EAAiE,QAAjE,CACAA,wBAAwBA,wBAAwB,SAAxB,EAAqC,CAA7D,EAAkE,SAAlE,CACH,CAHD,EAGGA,0BAA4BA,wBAA0B,EAAtD,CAHH,EAIA,GAAIC,iBAAkBrB,oBAAoB,WAApB,CAAiC,SAAUsB,CAAV,CAAa,CAChE,GAAIA,IAAM,IAAK,EAAf,CAAkB,CAAEA,EAAI,EAAJ,CAAS,CAC7B,MAAQlL,UAAS,CAAEmL,gBAAiBH,wBAAwBI,OAA3C,CAAT,CAA+DF,CAA/D,CAAR,CACH,CAHqB,CAAtB,CAIA,GAAIG,YAAazB,oBAAoB,MAApB,CAA4B,SAAUnK,CAAV,CAAa,CAAE,MAAQO,UAAS,CAAEsL,KAAM,IAAR,CAAT,CAAyB7L,CAAzB,CAAR,CAAuC,CAAlF,CAAjB,CACA,GAAI8L,aAAc3B,oBAAoB,OAApB,CAA6B,SAAU4B,mBAAV,CAA+B,CAAE,MAAQ,CAAEA,oBAAqBA,mBAAvB,CAAR,CAAwD,CAAtH,CAAlB,CACA,GAAIC,cAAe7B,oBAAoB,QAApB,CAA8B,SAAU4B,mBAAV,CAA+B,CAAE,MAAQ,CAAEA,oBAAqBA,mBAAvB,CAAR,CAAwD,CAAvH,CAAnB,CACA,GAAIE,mBAAoB9B,oBAAoB,aAApB,CAAmC,SAAU+B,gBAAV,CAA4B,CAAE,MAAQ,CAAEA,iBAAkBA,gBAApB,CAAR,CAAkD,CAAnH,CAAxB,CACA,GAAIC,oBAAqBhC,oBAAoB,cAApB,CAAoC,SAAUiC,SAAV,CAAqBC,IAArB,CAA2B,CAAE,MAAQ,CAAED,UAAWA,SAAb,CAAwBC,KAAMA,IAA9B,CAAR,CAAgD,CAAjH,CAAzB,CACA,GAAIC,gBAAiBnC,oBAAoB,UAApB,CAAgC,SAAUoC,QAAV,CAAoB,CAAE,MAAOA,SAAP,CAAkB,CAAxE,CAArB,CACA,GAAIC,kBAAmBrC,oBAAoB,YAApB,CAAkC,SAAUsC,UAAV,CAAsB,CAC3E,GAAIA,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,EAAb,CAAkB,CAC/C,MAAOA,WAAP,CACH,CAHsB,CAAvB,CAIA,GAAIC,wBAAyB,CACzB9H,KAAM,iBADmB,CAA7B,CAGA,GAAI+H,kBAAmB,CACnB/H,KAAM,kBADa,CAAvB,CAGA,GAAIgI,gBAAiBzC,oBAAoB,UAApB,CAArB,CACA,GAAI0C,YAAa1C,oBAAoB,MAApB,CAAjB,CACA,GAAI2C,gBAAiB3C,oBAAoB,UAApB,CAArB,CACA,GAAI4C,YAAa5C,oBAAoB,MAApB,CAAjB,CACA,GAAI6C,MAAOC,QAAX,CACA,GAAIC,gBAAJ,CACA,CAAC,SAAUA,eAAV,CAA2B,CACxBA,gBAAgBA,gBAAgB,MAAhB,EAA0B,CAA1C,EAA+C,MAA/C,CACAA,gBAAgBA,gBAAgB,MAAhB,EAA0B,CAA1C,EAA+C,MAA/C,CACAA,gBAAgBA,gBAAgB,OAAhB,EAA2B,CAA3C,EAAgD,OAAhD,CACAA,gBAAgBA,gBAAgB,QAAhB,EAA4B,CAA5C,EAAiD,QAAjD,CACAA,gBAAgBA,gBAAgB,KAAhB,EAAyB,CAAzC,EAA8C,KAA9C,CACAA,gBAAgBA,gBAAgB,cAAhB,EAAkC,CAAlD,EAAuD,cAAvD,CACH,CAPD,EAOGA,kBAAoBA,gBAAkB,EAAtC,CAPH,EAQA,GAAIC,2BAAJ,CACA,CAAC,SAAUA,0BAAV,CAAsC,CACnCA,2BAA2BA,2BAA2B,OAA3B,EAAsC,CAAjE,EAAsE,OAAtE,CACAA,2BAA2BA,2BAA2B,SAA3B,EAAwC,CAAnE,EAAwE,SAAxE,CACAA,2BAA2BA,2BAA2B,QAA3B,EAAuC,CAAlE,EAAuE,QAAvE,CACH,CAJD,EAIGA,6BAA+BA,2BAA6B,EAA5D,CAJH,EAKA,QAAShD,oBAAT,CAA6BvF,IAA7B,CAAmCwI,KAAnC,CAA0C,CACtC,GAAIlO,SAAU,UAAY,CACtB,GAAImN,MAAO,EAAX,CACA,IAAK,GAAIgB,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ChB,KAAKgB,EAAL,EAAWxM,UAAUwM,EAAV,CAAX,CACH,CACD,GAAIC,QAASF,MAAQA,MAAMpM,KAAN,CAAY,IAAK,EAAjB,CAAoBe,SAASsK,IAAT,CAApB,CAAR,CAA8C,EAA3D,CACA,MAAO9L,UAAS,CAAEgN,eAAgB3I,IAAlB,CAAT,CAAmC0I,MAAnC,CAAP,CACH,CAPD,CAQApO,QAAQsO,QAAR,CAAmB,SAAUC,GAAV,CAAe,CAAE,MAAOA,MAAOA,IAAIF,cAAJ,GAAuB3I,IAArC,CAA4C,CAAhF,CACA1F,QAAQqO,cAAR,CAAyB3I,IAAzB,CACA,MAAO1F,QAAP,CACH,CACD,QAASwO,+BAAT,CAAwChI,QAAxC,CAAkD,CAC9C,GAAIiI,SAAUjI,SAASJ,UAAT,EAAuBI,SAASJ,UAAT,CAAoBxE,MAA3C,CAAoDiB,SAAS,CAAC,CAAE,WAAH,CAAT,CAA0B2D,SAASJ,UAAnC,CAApD,CACV,EADJ,CAEA,GAAInD,aAAcuD,SAASL,OAAT,EAAoBK,SAASL,OAAT,GAAqB,GAAzC,CAA+CK,SAASL,OAAxD,CAAkE,EAApF,CACA,MAAOtD,UAAS,CAACI,WAAD,CAAT,CAAwBuD,SAASH,KAAjC,CAAwCoI,OAAxC,CAAP,CACH,CACD,QAASC,iCAAT,CAA0ClI,QAA1C,CAAoD,CAChD,GAAIiI,SAAUjI,SAASJ,UAAT,EAAuBI,SAASJ,UAAT,CAAoBxE,MAA3C,CAAoDiB,SAAS,CAAC,CAAE,WAAH,CAAT,CAA0B2D,SAASJ,UAAnC,CAApD,CACV,EADJ,CAEA,GAAII,SAASL,OAAb,CAAsB,CAClB,MAAOtD,UAAS,CACZ,CAAE,SAAF,CAAc,CAAE,aADJ,CACmB2D,SAASL,OAD5B,CAAT,CAEJK,SAASH,KAFL,CAEYoI,OAFZ,CAAP,CAGH,CAJD,IAKK,IAAIjI,SAASH,KAAT,CAAezE,MAAnB,CAA2B,CAC5B,MAAOiB,UAAS,CAAC,CAAE,SAAF,CAAc,CAAE,eAAjB,CAAT,CAA4C2D,SAASH,KAArD,CAA4DoI,OAA5D,CAAP,CACH,CAFI,IAGA,CACD,MAAOjI,UAASJ,UAAT,EAAuBI,SAASJ,UAAT,CAAoBxE,MAA3C,CAAoDiB,SAAS,CAAC,CAAE,SAAF,CAAc,CAAE,WAAjB,CAAT,CAAwC2D,SAASJ,UAAjD,CAApD,CACH,EADJ,CAEH,CACJ,CACD,QAASuI,2BAAT,CAAoCnI,QAApC,CAA8C,CAC1C,GAAIoI,UAAWJ,+BAA+BhI,QAA/B,CAAf,CACA,GAAIqI,UAAWrI,SAASF,YAAT,EAAyBE,SAASF,YAAT,CAAsB1E,MAA/C,CACX4E,SAASF,YAAT,CAAsB4D,GAAtB,CAA0B,SAAUhC,WAAV,CAAuB,CAAE,MAAOwG,kCAAiCxG,WAAjC,CAAP,CAAuD,CAA1G,CADW,CAEX,EAFJ,CAGA,MAAO0G,UAAS9L,MAAT,CAAgBhB,KAAhB,CAAsB8M,QAAtB,CAAgC/L,SAASgM,QAAT,CAAhC,CAAP,CACH,CACD,QAASC,0BAAT,CAAmCtI,QAAnC,CAA6C,CACzC,GAAIqE,WAAY3E,YAAYK,KAAZ,CAAkBC,QAAlB,CAAhB,CACA,MAAOqE,WAAUX,GAAV,CAAcyE,0BAAd,CAAP,CACH,CAED,GAAII,MAAO,aAAarO,OAAOsO,MAAP,CAAc,CAClChE,aAAcA,YADoB,CAElCG,qBAAsBA,oBAFY,CAGlCK,gBAAiBA,eAHiB,CAIlCE,sBAAuBA,qBAJW,CAKlCK,mBAAoBA,kBALc,CAMlCC,mBAAoBA,kBANc,CAOlCC,gBAAiBA,eAPiB,CAQlCC,gBAAiBA,eARiB,CASlC,GAAIE,kBAAJ,EAAyB,CAAE,MAAOA,kBAAP,CAA2B,CATpB,CAUlC,GAAIC,wBAAJ,EAA+B,CAAE,MAAOA,wBAAP,CAAiC,CAVhC,CAWlCC,gBAAiBA,eAXiB,CAYlCI,WAAYA,UAZsB,CAalCE,YAAaA,WAbqB,CAclCE,aAAcA,YAdoB,CAelCC,kBAAmBA,iBAfe,CAgBlCE,mBAAoBA,kBAhBc,CAiBlCG,eAAgBA,cAjBkB,CAkBlCE,iBAAkBA,gBAlBgB,CAmBlCE,uBAAwBA,sBAnBU,CAoBlCC,iBAAkBA,gBApBgB,CAqBlCC,eAAgBA,cArBkB,CAsBlCC,WAAYA,UAtBsB,CAuBlCC,eAAgBA,cAvBkB,CAwBlCC,WAAYA,UAxBsB,CAyBlCC,KAAMA,IAzB4B,CA0BlC,GAAIE,gBAAJ,EAAuB,CAAE,MAAOA,gBAAP,CAAyB,CA1BhB,CA2BlC,GAAIC,2BAAJ,EAAkC,CAAE,MAAOA,2BAAP,CAAoC,CA3BtC,CA4BlCa,0BAA2BA,yBA5BO,CAAd,CAAxB,CA+BA;;;;;;OAOA,GAAIG,kBAAmB,eAAvB,CACA,QAASC,oBAAT,CAA6BC,KAA7B,CAAoC,CAChC,MAAOA,OAAMC,OAAN,CAAcH,gBAAd,CAAgC,UAAY,CAC/C,GAAIhN,GAAI,EAAR,CACA,IAAK,GAAIkM,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ClM,EAAEkM,EAAF,EAAQxM,UAAUwM,EAAV,CAAR,CACH,CACD,MAAOlM,GAAE,CAAF,EAAKoN,WAAL,EAAP,CACH,CANM,CAAP,CAOH,CACD,QAASC,aAAT,CAAsBH,KAAtB,CAA6BI,aAA7B,CAA4C,CACxC,MAAOC,UAASL,KAAT,CAAgB,GAAhB,CAAqBI,aAArB,CAAP,CACH,CACD,QAASE,cAAT,CAAuBN,KAAvB,CAA8BI,aAA9B,CAA6C,CACzC,MAAOC,UAASL,KAAT,CAAgB,GAAhB,CAAqBI,aAArB,CAAP,CACH,CACD,QAASC,SAAT,CAAkBL,KAAlB,CAAyBO,SAAzB,CAAoCH,aAApC,CAAmD,CAC/C,GAAII,gBAAiBR,MAAMhM,OAAN,CAAcuM,SAAd,CAArB,CACA,GAAIC,gBAAkB,CAAC,CAAvB,CACI,MAAOJ,cAAP,CACJ,MAAO,CAACJ,MAAM9L,KAAN,CAAY,CAAZ,CAAesM,cAAf,EAA+BC,IAA/B,EAAD,CAAwCT,MAAM9L,KAAN,CAAYsM,eAAiB,CAA7B,EAAgCC,IAAhC,EAAxC,CAAP,CACH,CACD,QAASC,WAAT,CAAoBxN,KAApB,CAA2ByN,OAA3B,CAAoCC,OAApC,CAA6C,CACzC,GAAIlP,MAAMmP,OAAN,CAAc3N,KAAd,CAAJ,CAA0B,CACtB,MAAOyN,SAAQG,UAAR,CAAmB5N,KAAnB,CAA0B0N,OAA1B,CAAP,CACH,CACD,GAAIG,kBAAkB7N,KAAlB,CAAJ,CAA8B,CAC1B,MAAOyN,SAAQK,cAAR,CAAuB9N,KAAvB,CAA8B0N,OAA9B,CAAP,CACH,CACD,GAAI1N,OAAS,IAAT,EAAiB,MAAOA,MAAP,EAAgB,QAAjC,EAA6C,MAAOA,MAAP,EAAgB,QAA7D,EACA,MAAOA,MAAP,EAAgB,SADpB,CAC+B,CAC3B,MAAOyN,SAAQM,cAAR,CAAuB/N,KAAvB,CAA8B0N,OAA9B,CAAP,CACH,CACD,MAAOD,SAAQO,UAAR,CAAmBhO,KAAnB,CAA0B0N,OAA1B,CAAP,CACH,CACD,QAASO,UAAT,CAAmBC,GAAnB,CAAwB,CACpB,MAAOA,OAAQ,IAAR,EAAgBA,MAAQhF,SAA/B,CACH,CACD,QAASiF,YAAT,CAAqBD,GAArB,CAA0B,CACtB,MAAOA,OAAQhF,SAAR,CAAoB,IAApB,CAA2BgF,GAAlC,CACH,CACD,GAAIE,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,EAA4B,CAC3B,CACDA,iBAAiBtP,SAAjB,CAA2B8O,UAA3B,CAAwC,SAAUS,GAAV,CAAeX,OAAf,CAAwB,CAC5D,GAAI/K,OAAQ,IAAZ,CACA,MAAO0L,KAAIxG,GAAJ,CAAQ,SAAU7H,KAAV,CAAiB,CAAE,MAAOwN,YAAWxN,KAAX,CAAkB2C,KAAlB,CAAyB+K,OAAzB,CAAP,CAA2C,CAAtE,CAAP,CACH,CAHD,CAIAU,iBAAiBtP,SAAjB,CAA2BgP,cAA3B,CAA4C,SAAUjG,GAAV,CAAe6F,OAAf,CAAwB,CAChE,GAAI/K,OAAQ,IAAZ,CACA,GAAI8C,QAAS,EAAb,CACApH,OAAOiQ,IAAP,CAAYzG,GAAZ,EAAiBhF,OAAjB,CAAyB,SAAU0L,GAAV,CAAe,CAAE9I,OAAO8I,GAAP,EAAcf,WAAW3F,IAAI0G,GAAJ,CAAX,CAAqB5L,KAArB,CAA4B+K,OAA5B,CAAd,CAAqD,CAA/F,EACA,MAAOjI,OAAP,CACH,CALD,CAMA2I,iBAAiBtP,SAAjB,CAA2BiP,cAA3B,CAA4C,SAAU/N,KAAV,CAAiB0N,OAAjB,CAA0B,CAAE,MAAO1N,MAAP,CAAe,CAAvF,CACAoO,iBAAiBtP,SAAjB,CAA2BkP,UAA3B,CAAwC,SAAUhO,KAAV,CAAiB0N,OAAjB,CAA0B,CAAE,MAAO1N,MAAP,CAAe,CAAnF,CACA,MAAOoO,iBAAP,CACH,CAhBqC,EAAtC,CAiBA,GAAII,WAAY,CACZC,WAAY,SAAUzO,KAAV,CAAiB,CACzB,GAAI0O,UAAU1O,KAAV,CAAJ,CAAsB,CAClB,KAAM,IAAIe,MAAJ,CAAU,0CAAV,CAAN,CACH,CACD,MAAOf,MAAP,CACH,CANW,CAOZ2O,KAAM,SAAU3O,KAAV,CAAiB4O,EAAjB,CAAqB,CAAE,MAAOF,WAAU1O,KAAV,EAAmBA,MAAM2O,IAAN,CAAWC,EAAX,CAAnB,CAAoCA,GAAG5O,KAAH,CAA3C,CAAuD,CAPxE,CAQZ6O,IAAK,SAAUC,eAAV,CAA2B,CAC5B,MAAOA,iBAAgBC,IAAhB,CAAqBL,SAArB,EAAkCM,QAAQH,GAAR,CAAYC,eAAZ,CAAlC,CAAiEA,eAAxE,CACH,CAVW,CAAhB,CAYA,QAASvO,MAAT,CAAe0O,GAAf,CAAoB,CAChB,KAAM,IAAIlO,MAAJ,CAAU,mBAAqBkO,GAA/B,CAAN,CACH,CACD,QAASC,YAAT,CAAqBD,GAArB,CAA0BE,WAA1B,CAAuC,CACnC,GAAI5O,OAAQQ,MAAMkO,GAAN,CAAZ,CACA1O,MAAM6O,kBAAN,EAA4B,IAA5B,CACA,GAAID,WAAJ,CACI5O,MAAM8O,kBAAN,EAA4BF,WAA5B,CACJ,MAAO5O,MAAP,CACH,CACD,GAAI6O,oBAAqB,eAAzB,CACA,GAAIC,oBAAqB,eAAzB,CACA,QAASC,cAAT,CAAuB/O,KAAvB,CAA8B,CAC1B,MAAOA,OAAM6O,kBAAN,CAAP,CACH,CACD,QAASG,eAAT,CAAwBhP,KAAxB,CAA+B,CAC3B,MAAOA,OAAM8O,kBAAN,GAA6B,EAApC,CACH,CACD;AACA,QAASG,aAAT,CAAsBrQ,CAAtB,CAAyB,CACrB,MAAOA,GAAE4N,OAAF,CAAU,4BAAV,CAAwC,MAAxC,CAAP,CACH,CACD,GAAI0C,kBAAmBpR,OAAOqR,cAAP,CAAsB,EAAtB,CAAvB,CACA,QAAS7B,kBAAT,CAA2B3B,GAA3B,CAAgC,CAC5B,MAAO,OAAOA,IAAP,GAAe,QAAf,EAA2BA,MAAQ,IAAnC,EAA2C7N,OAAOqR,cAAP,CAAsBxD,GAAtB,IAA+BuD,gBAAjF,CACH,CACD,QAASE,WAAT,CAAoBC,GAApB,CAAyB,CACrB,GAAIC,SAAU,EAAd,CACA,IAAK,GAAIC,OAAQ,CAAjB,CAAoBA,MAAQF,IAAIrQ,MAAhC,CAAwCuQ,OAAxC,CAAiD,CAC7C,GAAIC,WAAYH,IAAII,UAAJ,CAAeF,KAAf,CAAhB,CACA;AACA;AACA,GAAIC,WAAa,MAAb,EAAuBA,WAAa,MAApC,EAA8CH,IAAIrQ,MAAJ,CAAcuQ,MAAQ,CAAxE,CAA4E,CACxE,GAAIG,KAAML,IAAII,UAAJ,CAAeF,MAAQ,CAAvB,CAAV,CACA,GAAIG,KAAO,MAAP,EAAiBA,KAAO,MAA5B,CAAoC,CAChCH,QACAC,UAAY,CAAEA,UAAY,MAAb,EAAwB,EAAzB,EAA+BE,GAA/B,CAAqC,MAArC,CAA8C,OAA1D,CACH,CACJ,CACD,GAAIF,WAAa,IAAjB,CAAuB,CACnBF,SAAWK,OAAOC,YAAP,CAAoBJ,SAApB,CAAX,CACH,CAFD,IAGK,IAAIA,WAAa,KAAjB,CAAwB,CACzBF,SAAWK,OAAOC,YAAP,CAAsBJ,WAAa,CAAd,CAAmB,IAApB,CAA4B,IAAhD,CAAuDA,UAAY,IAAb,CAAqB,IAA3E,CAAX,CACH,CAFI,IAGA,IAAIA,WAAa,MAAjB,CAAyB,CAC1BF,SAAWK,OAAOC,YAAP,CAAqBJ,WAAa,EAAd,CAAoB,IAAxC,CAAgDA,WAAa,CAAd,CAAmB,IAApB,CAA4B,IAA1E,CAAiFA,UAAY,IAAb,CAAqB,IAArG,CAAX,CACH,CAFI,IAGA,IAAIA,WAAa,QAAjB,CAA2B,CAC5BF,SAAWK,OAAOC,YAAP,CAAsBJ,WAAa,EAAd,CAAoB,IAArB,CAA6B,IAAjD,CAAyDA,WAAa,EAAd,CAAoB,IAArB,CAA6B,IAApF,CAA4FA,WAAa,CAAd,CAAmB,IAApB,CAA4B,IAAtH,CAA6HA,UAAY,IAAb,CAAqB,IAAjJ,CAAX,CACH,CACJ,CACD,MAAOF,QAAP,CACH,CACD,QAASO,UAAT,CAAmBvH,KAAnB,CAA0B,CACtB,GAAI,MAAOA,MAAP,GAAiB,QAArB,CAA+B,CAC3B,MAAOA,MAAP,CACH,CACD,GAAIA,gBAAiBrK,MAArB,CAA4B,CACxB,MAAO,IAAMqK,MAAMhB,GAAN,CAAUuI,SAAV,EAAqB/K,IAArB,CAA0B,IAA1B,CAAN,CAAwC,GAA/C,CACH,CACD,GAAIwD,OAAS,IAAb,CAAmB,CACf,MAAO,GAAKA,KAAZ,CACH,CACD,GAAIA,MAAMwH,cAAV,CAA0B,CACtB,MAAO,GAAKxH,MAAMwH,cAAlB,CACH,CACD,GAAIxH,MAAMxF,IAAV,CAAgB,CACZ,MAAO,GAAKwF,MAAMxF,IAAlB,CACH,CACD;AACA;AACA,GAAIiB,KAAMuE,MAAMnD,QAAN,EAAV,CACA,GAAIpB,KAAO,IAAX,CAAiB,CACb,MAAO,GAAKA,GAAZ,CACH,CACD,GAAIgM,cAAehM,IAAIxD,OAAJ,CAAY,IAAZ,CAAnB,CACA,MAAOwP,gBAAiB,CAAC,CAAlB,CAAsBhM,GAAtB,CAA4BA,IAAIiM,SAAJ,CAAc,CAAd,CAAiBD,YAAjB,CAAnC,CACH,CACD;;OAGA,QAASE,kBAAT,CAA2BC,IAA3B,CAAiC,CAC7B,GAAI,MAAOA,KAAP,GAAgB,UAAhB,EAA8BA,KAAK/R,cAAL,CAAoB,iBAApB,CAAlC,CAA0E,CACtE,MAAO+R,OAAP,CACH,CAFD,IAGK,CACD,MAAOA,KAAP,CACH,CACJ,CACD;;OAGA,QAAS/B,UAAT,CAAmBxC,GAAnB,CAAwB,CACpB;AACA;AACA,MAAO,CAAC,CAACA,GAAF,EAAS,MAAOA,KAAIyC,IAAX,GAAoB,UAApC,CACH,CACD,GAAI+B,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBC,IAAjB,CAAuB,CACnB,KAAKA,IAAL,CAAYA,IAAZ,CACA,GAAIC,QAASD,KAAKE,KAAL,CAAW,GAAX,CAAb,CACA,KAAKC,KAAL,CAAaF,OAAO,CAAP,CAAb,CACA,KAAKG,KAAL,CAAaH,OAAO,CAAP,CAAb,CACA,KAAKI,KAAL,CAAaJ,OAAO5P,KAAP,CAAa,CAAb,EAAgBqE,IAAhB,CAAqB,GAArB,CAAb,CACH,CACD,MAAOqL,QAAP,CACH,CAT4B,EAA7B,CAWA;;;;;;OAOA,GAAIO,SAAU,GAAIP,QAAJ,CAAY,QAAZ,CAAd,CAEA;;;;;;OAOA,GAAI7O,GAAJ,CACA;;OAGA,GAAIqP,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBlR,KAAjB,CAAwBmR,cAAxB,CAAwCC,UAAxC,CAAoD,CAChD,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKmR,cAAL,CAAsBA,cAAtB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACH,CACDF,QAAQpS,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ6D,SAAR,CAAkB,IAAlB,CAAwB5D,OAAxB,CAAP,CAA0C,CAAlG,CACA,MAAOwD,QAAP,CACH,CAR4B,EAA7B,CASA;;OAGA,GAAIK,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBvR,KAAtB,CAA6BmR,cAA7B,CAA6CC,UAA7C,CAAyD,CACrD,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKmR,cAAL,CAAsBA,cAAtB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACH,CACDG,aAAazS,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,MAAOD,SAAQ+D,cAAR,CAAuB,IAAvB,CAA6B9D,OAA7B,CAAP,CACH,CAFD,CAGA,MAAO6D,aAAP,CACH,CAViC,EAAlC,CAWA;;OAGA,GAAIE,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBpO,IAAjB,CAAuBrD,KAAvB,CAA8BoR,UAA9B,CAA0C,CACtC,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACDK,QAAQ3S,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQiE,SAAR,CAAkB,IAAlB,CAAwBhE,OAAxB,CAAP,CAA0C,CAAlG,CACA,MAAO+D,QAAP,CACH,CAR4B,EAA7B,CASA,GAAIE,uBAAwB9P,GAAK,EAAL,CACxBA,GAAG,CAAE,eAAL,EAAwB,CAAE,eADF,CAExBA,GAAG,CAAE,eAAL,EAAwB,CAAE,eAFF,CAGxBA,GAAG,CAAE,WAAL,EAAoB,CAAE,WAHE,CAIxBA,GAAG,CAAE,cAAL,EAAuB,CAAE,cAJD,CAKxBA,GAAG,CAAE,WAAL,EAAoB,CAAE,WALE,CAMxBA,EANA,CAAJ,CAOA;;;OAIA,GAAI+P,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,CAAiCvO,IAAjC,CAAuCoN,IAAvC,CAA6CoB,eAA7C,CAA8D7R,KAA9D,CAAqE8R,IAArE,CAA2EV,UAA3E,CAAuF,CACnF,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKoN,IAAL,CAAYA,IAAZ,CACA,KAAKoB,eAAL,CAAuBA,eAAvB,CACA,KAAK7R,KAAL,CAAaA,KAAb,CACA,KAAK8R,IAAL,CAAYA,IAAZ,CACA,KAAKV,UAAL,CAAkBA,UAAlB,CACA,KAAKW,WAAL,CAAmB,KAAKtB,IAAL,GAAc,CAAE,eAAnC,CACH,CACDmB,wBAAwBI,iBAAxB,CAA4C,SAAUC,IAAV,CAAgB,CACxD,GAAIxB,MAAOkB,qBAAqBM,KAAKxB,IAA1B,CAAX,CACA,MAAO,IAAImB,wBAAJ,CAA4BK,KAAK5O,IAAjC,CAAuCoN,IAAvC,CAA6CwB,KAAKJ,eAAlD,CAAmEI,KAAKjS,KAAxE,CAA+EiS,KAAKH,IAApF,CAA0FG,KAAKb,UAA/F,CAAP,CACH,CAHD,CAIAQ,wBAAwB9S,SAAxB,CAAkCuS,KAAlC,CAA0C,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAClE,MAAOD,SAAQyE,oBAAR,CAA6B,IAA7B,CAAmCxE,OAAnC,CAAP,CACH,CAFD,CAGA,MAAOkE,wBAAP,CACH,CAlB4C,EAA7C,CAmBA;;;OAIA,GAAIO,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuB9O,IAAvB,CAA6B+O,MAA7B,CAAqCC,KAArC,CAA4CC,OAA5C,CAAqDlB,UAArD,CAAiE,CAC7D,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAK+O,MAAL,CAAcA,MAAd,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKlB,UAAL,CAAkBA,UAAlB,CACA,KAAK9P,QAAL,CAAgB6Q,cAAcI,YAAd,CAA2B,KAAKlP,IAAhC,CAAsC,KAAK+O,MAA3C,CAAmD,KAAKC,KAAxD,CAAhB,CACA,KAAKN,WAAL,CAAmB,CAAC,CAAC,KAAKM,KAA1B,CACH,CACDF,cAAcI,YAAd,CAA6B,SAAUlP,IAAV,CAAgB+O,MAAhB,CAAwBC,KAAxB,CAA+B,CACxD,GAAID,MAAJ,CAAY,CACR,MAAOA,QAAS,GAAT,CAAe/O,IAAtB,CACH,CACD,GAAIgP,KAAJ,CAAW,CACP,MAAO,IAAMhP,IAAN,CAAa,GAAb,CAAmBgP,KAA1B,CACH,CACD,MAAOhP,KAAP,CACH,CARD,CASA8O,cAAcK,eAAd,CAAgC,SAAUC,KAAV,CAAiB,CAC7C,GAAIL,QAASK,MAAMhC,IAAN,GAAe,CAAE,aAAjB,CAAiCgC,MAAMC,aAAvC,CAAuD,IAApE,CACA,GAAIL,OAAQI,MAAMhC,IAAN,GAAe,CAAE,eAAjB,CAAmCgC,MAAMC,aAAzC,CAAyD,IAArE,CACA,MAAO,IAAIP,cAAJ,CAAkBM,MAAMpP,IAAxB,CAA8B+O,MAA9B,CAAsCC,KAAtC,CAA6CI,MAAMH,OAAnD,CAA4DG,MAAMrB,UAAlE,CAAP,CACH,CAJD,CAKAe,cAAcrT,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACxD,MAAOD,SAAQkF,UAAR,CAAmB,IAAnB,CAAyBjF,OAAzB,CAAP,CACH,CAFD,CAGA,MAAOyE,cAAP,CACH,CA5BkC,EAAnC,CA6BA;;OAGA,GAAIS,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBvP,IAAtB,CAA4BrD,KAA5B,CAAmC6S,aAAnC,CAAkDzB,UAAlD,CAA8D,CAC1D,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAK6S,aAAL,CAAqBA,aAArB,CACA,KAAKzB,UAAL,CAAkBA,UAAlB,CACH,CACDwB,aAAa9T,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,MAAOD,SAAQqF,cAAR,CAAuB,IAAvB,CAA6BpF,OAA7B,CAAP,CACH,CAFD,CAGA,MAAOkF,aAAP,CACH,CAXiC,EAAlC,CAYA;;OAGA,GAAIG,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqB1P,IAArB,CAA2BrD,KAA3B,CAAkCoR,UAAlC,CAA8C,CAC1C,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD2B,YAAYC,kBAAZ,CAAiC,SAAUC,CAAV,CAAa,CAC1C,MAAO,IAAIF,YAAJ,CAAgBE,EAAE5P,IAAlB,CAAwB4P,EAAEjT,KAA1B,CAAiCiT,EAAE7B,UAAnC,CAAP,CACH,CAFD,CAGA2B,YAAYjU,SAAZ,CAAsBuS,KAAtB,CAA8B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACtD,MAAOD,SAAQyF,aAAR,CAAsB,IAAtB,CAA4BxF,OAA5B,CAAP,CACH,CAFD,CAGA,MAAOqF,YAAP,CACH,CAbgC,EAAjC,CAcA;;OAGA,GAAII,YAAa,aAAe,UAAY,CACxC,QAASA,WAAT,CAAoB9P,IAApB,CAA0BW,KAA1B,CAAiCoP,MAAjC,CAAyCC,OAAzC,CAAkDC,UAAlD,CAA8DC,UAA9D,CAA0EC,SAA1E,CAAqFC,gBAArF,CAAuGC,YAAvG,CAAqHC,QAArH,CAA+HxC,cAA/H,CAA+IC,UAA/I,CAA2JwC,aAA3J,CAA0K,CACtK,KAAKvQ,IAAL,CAAYA,IAAZ,CACA,KAAKW,KAAL,CAAaA,KAAb,CACA,KAAKoP,MAAL,CAAcA,MAAd,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKC,SAAL,CAAiBA,SAAjB,CACA,KAAKC,gBAAL,CAAwBA,gBAAxB,CACA,KAAKC,YAAL,CAAoBA,YAApB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKxC,cAAL,CAAsBA,cAAtB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKwC,aAAL,CAAqBA,aAArB,CACH,CACDT,WAAWrU,SAAX,CAAqBuS,KAArB,CAA6B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACrD,MAAOD,SAAQoG,YAAR,CAAqB,IAArB,CAA2BnG,OAA3B,CAAP,CACH,CAFD,CAGA,MAAOyF,WAAP,CACH,CApB+B,EAAhC,CAqBA;;OAGA,GAAIW,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6B9P,KAA7B,CAAoCqP,OAApC,CAA6CC,UAA7C,CAAyDS,SAAzD,CAAoER,UAApE,CAAgFC,SAAhF,CAA2FC,gBAA3F,CAA6GC,YAA7G,CAA2HC,QAA3H,CAAqIxC,cAArI,CAAqJC,UAArJ,CAAiK,CAC7J,KAAKpN,KAAL,CAAaA,KAAb,CACA,KAAKqP,OAAL,CAAeA,OAAf,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKS,SAAL,CAAiBA,SAAjB,CACA,KAAKR,UAAL,CAAkBA,UAAlB,CACA,KAAKC,SAAL,CAAiBA,SAAjB,CACA,KAAKC,gBAAL,CAAwBA,gBAAxB,CACA,KAAKC,YAAL,CAAoBA,YAApB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKxC,cAAL,CAAsBA,cAAtB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACH,CACD0C,oBAAoBhV,SAApB,CAA8BuS,KAA9B,CAAsC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAC9D,MAAOD,SAAQuG,qBAAR,CAA8B,IAA9B,CAAoCtG,OAApC,CAAP,CACH,CAFD,CAGA,MAAOoG,oBAAP,CACH,CAlBwC,EAAzC,CAmBA;;OAGA,GAAIG,2BAA4B,aAAe,UAAY,CACvD,QAASA,0BAAT,CAAmCC,aAAnC,CAAkDC,YAAlD,CAAgEnU,KAAhE,CAAuEoR,UAAvE,CAAmF,CAC/E,KAAK8C,aAAL,CAAqBA,aAArB,CACA,KAAKC,YAAL,CAAoBA,YAApB,CACA,KAAKnU,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD6C,0BAA0BnV,SAA1B,CAAoCuS,KAApC,CAA4C,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACpE,MAAOD,SAAQ2G,sBAAR,CAA+B,IAA/B,CAAqC1G,OAArC,CAAP,CACH,CAFD,CAGA,MAAOuG,0BAAP,CACH,CAX8C,EAA/C,CAYA;;OAGA,GAAII,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBC,SAAtB,CAAiClB,MAAjC,CAAyCmB,cAAzC,CAAyDC,UAAzD,CAAqEC,mBAArE,CAA0FrD,UAA1F,CAAsG,CAClG,KAAKkD,SAAL,CAAiBA,SAAjB,CACA,KAAKlB,MAAL,CAAcA,MAAd,CACA,KAAKmB,cAAL,CAAsBA,cAAtB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKC,mBAAL,CAA2BA,mBAA3B,CACA,KAAKrD,UAAL,CAAkBA,UAAlB,CACH,CACDiD,aAAavV,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,MAAOD,SAAQiH,cAAR,CAAuB,IAAvB,CAA6BhH,OAA7B,CAAP,CACH,CAFD,CAGA,MAAO2G,aAAP,CACH,CAbiC,EAAlC,CAcA;;OAGA,GAAIM,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqB9L,KAArB,CAA4B+L,aAA5B,CAA2CC,KAA3C,CAAkDrB,SAAlD,CAA6DsB,YAA7D,CAA2EC,cAA3E,CAA2F3D,UAA3F,CAAuG4D,QAAvG,CAAiH,CAC7G,KAAKnM,KAAL,CAAaA,KAAb,CACA,KAAK+L,aAAL,CAAqBA,aAArB,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKrB,SAAL,CAAiBA,SAAjB,CACA,KAAKsB,YAAL,CAAoBA,YAApB,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAK3D,UAAL,CAAkBA,UAAlB,CACA,KAAK4D,QAAL,CAAgBA,QAAhB,CACH,CACDL,YAAY7V,SAAZ,CAAsBuS,KAAtB,CAA8B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACtD;AACA,MAAO,KAAP,CACH,CAHD,CAIA,MAAOiH,YAAP,CACH,CAhBgC,EAAjC,CAiBA,CAAC,SAAUM,eAAV,CAA2B,CACxBA,gBAAgBA,gBAAgB,eAAhB,EAAmC,CAAnD,EAAwD,eAAxD,CACAA,gBAAgBA,gBAAgB,gBAAhB,EAAoC,CAApD,EAAyD,gBAAzD,CACAA,gBAAgBA,gBAAgB,WAAhB,EAA+B,CAA/C,EAAoD,WAApD,CACAA,gBAAgBA,gBAAgB,WAAhB,EAA+B,CAA/C,EAAoD,WAApD,CACAA,gBAAgBA,gBAAgB,SAAhB,EAA6B,CAA7C,EAAkD,SAAlD,CACH,CAND,EAMGrX,QAAQqX,eAAR,GAA4BrX,QAAQqX,eAAR,CAA0B,EAAtD,CANH,EAOA;;OAGA,GAAIC,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBpF,KAAtB,CAA6BqB,cAA7B,CAA6CC,UAA7C,CAAyD,CACrD,KAAKtB,KAAL,CAAaA,KAAb,CACA,KAAKqB,cAAL,CAAsBA,cAAtB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACH,CACD8D,aAAapW,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,MAAOD,SAAQ0H,cAAR,CAAuB,IAAvB,CAA6BzH,OAA7B,CAAP,CACH,CAFD,CAGA,MAAOwH,aAAP,CACH,CAViC,EAAlC,CAWA;;;OAIA,GAAIE,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,EAA+B,CAC9B,CACDA,oBAAoBtW,SAApB,CAA8BqW,cAA9B,CAA+C,SAAUE,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACA0H,oBAAoBtW,SAApB,CAA8BkV,qBAA9B,CAAsD,SAAUqB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjF,CACA0H,oBAAoBtW,SAApB,CAA8B+U,YAA9B,CAA6C,SAAUwB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAxE,CACA0H,oBAAoBtW,SAApB,CAA8BgU,cAA9B,CAA+C,SAAUuC,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACA0H,oBAAoBtW,SAApB,CAA8BoU,aAA9B,CAA8C,SAAUmC,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAzE,CACA0H,oBAAoBtW,SAApB,CAA8B6T,UAA9B,CAA2C,SAAU0C,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAtE,CACA0H,oBAAoBtW,SAApB,CAA8BoT,oBAA9B,CAAqD,SAAUmD,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAhF,CACA0H,oBAAoBtW,SAApB,CAA8B4S,SAA9B,CAA0C,SAAU2D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArE,CACA0H,oBAAoBtW,SAApB,CAA8B0S,cAA9B,CAA+C,SAAU6D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACA0H,oBAAoBtW,SAApB,CAA8BwS,SAA9B,CAA0C,SAAU+D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArE,CACA0H,oBAAoBtW,SAApB,CAA8B4V,cAA9B,CAA+C,SAAUW,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACA0H,oBAAoBtW,SAApB,CAA8BsV,sBAA9B,CAAuD,SAAUiB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlF,CACA,MAAO0H,oBAAP,CACH,CAhBwC,EAAzC,CAiBA;;;OAIA,GAAIE,6BAA8B,aAAe,SAAUC,MAAV,CAAkB,CAC/D5W,UAAU2W,2BAAV,CAAuCC,MAAvC,EACA,QAASD,4BAAT,EAAuC,CACnC,MAAOC,QAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAA5B,CACH,CACD;AACA8V,4BAA4BxW,SAA5B,CAAsCkV,qBAAtC,CAA8D,SAAUqB,GAAV,CAAe3H,OAAf,CAAwB,CAClF,MAAO,MAAK8H,aAAL,CAAmB9H,OAAnB,CAA4B,SAAU2D,KAAV,CAAiB,CAChDA,MAAMgE,IAAIrR,KAAV,EACAqN,MAAMgE,IAAI/B,UAAV,EACAjC,MAAMgE,IAAItB,SAAV,EACA1C,MAAMgE,IAAI9B,UAAV,EACAlC,MAAMgE,IAAI7B,SAAV,EACAnC,MAAMgE,IAAI1B,QAAV,EACH,CAPM,CAAP,CAQH,CATD,CAUA2B,4BAA4BxW,SAA5B,CAAsC+U,YAAtC,CAAqD,SAAUwB,GAAV,CAAe3H,OAAf,CAAwB,CACzE,MAAO,MAAK8H,aAAL,CAAmB9H,OAAnB,CAA4B,SAAU2D,KAAV,CAAiB,CAChDA,MAAMgE,IAAIrR,KAAV,EACAqN,MAAMgE,IAAIjC,MAAV,EACA/B,MAAMgE,IAAIhC,OAAV,EACAhC,MAAMgE,IAAI/B,UAAV,EACAjC,MAAMgE,IAAI9B,UAAV,EACAlC,MAAMgE,IAAI7B,SAAV,EACAnC,MAAMgE,IAAI1B,QAAV,EACH,CARM,CAAP,CASH,CAVD,CAWA2B,4BAA4BxW,SAA5B,CAAsC4V,cAAtC,CAAuD,SAAUW,GAAV,CAAe3H,OAAf,CAAwB,CAC3E,MAAO,MAAK8H,aAAL,CAAmB9H,OAAnB,CAA4B,SAAU2D,KAAV,CAAiB,CAChDA,MAAMgE,IAAIjC,MAAV,EACA/B,MAAMgE,IAAId,cAAV,EACAlD,MAAMgE,IAAIb,UAAV,EACH,CAJM,CAAP,CAKH,CAND,CAOAc,4BAA4BxW,SAA5B,CAAsC0W,aAAtC,CAAsD,SAAU9H,OAAV,CAAmBkB,EAAnB,CAAuB,CACzE,GAAIxK,SAAU,EAAd,CACA,GAAIlF,GAAI,IAAR,CACA,QAASmS,MAAT,CAAesC,QAAf,CAAyB,CACrB,GAAIA,UAAYA,SAASpU,MAAzB,CACI6E,QAAQ9D,IAAR,CAAamV,iBAAiBvW,CAAjB,CAAoByU,QAApB,CAA8BjG,OAA9B,CAAb,EACP,CACDkB,GAAGyC,KAAH,EACA,MAAO,GAAG5Q,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoB2E,OAApB,CAAP,CACH,CATD,CAUA,MAAOkR,4BAAP,CACH,CA7CgD,CA6C/CF,mBA7C+C,CAAjD,CA8CA;;OAGA,QAASK,iBAAT,CAA0BhI,OAA1B,CAAmCiI,IAAnC,CAAyChI,OAAzC,CAAkD,CAC9C,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,GAAIjI,QAAS,EAAb,CACA,GAAI4L,OAAQ5D,QAAQ4D,KAAR,CACR,SAAUgE,GAAV,CAAe,CAAE,MAAO5H,SAAQ4D,KAAR,CAAcgE,GAAd,CAAmB3H,OAAnB,GAA+B2H,IAAIhE,KAAJ,CAAU5D,OAAV,CAAmBC,OAAnB,CAAtC,CAAoE,CAD7E,CAER,SAAU2H,GAAV,CAAe,CAAE,MAAOA,KAAIhE,KAAJ,CAAU5D,OAAV,CAAmBC,OAAnB,CAAP,CAAqC,CAF1D,CAGAgI,KAAK7S,OAAL,CAAa,SAAUwS,GAAV,CAAe,CACxB,GAAIM,WAAYtE,MAAMgE,GAAN,CAAhB,CACA,GAAIM,SAAJ,CAAe,CACXlQ,OAAOnF,IAAP,CAAYqV,SAAZ,EACH,CACJ,CALD,EAMA,MAAOlQ,OAAP,CACH,CAED;;;;;;OAOA,GAAImQ,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwB/T,EAAxB,CAA4B,CACxB,GAAIC,IAAKD,KAAO,IAAK,EAAZ,CAAgB,EAAhB,CAAqBA,EAA9B,CAAkCK,GAAKJ,GAAG+T,oBAA1C,CAAgEA,qBAAuB3T,KAAO,IAAK,EAAZ,CAAgB6H,kBAAkB+L,QAAlC,CAA6C5T,EAApI,CAAwIG,GAAKP,GAAGiU,MAAhJ,CAAwJA,OAAS1T,KAAO,IAAK,EAAZ,CAAgB,IAAhB,CAAuBA,EAAxL,CAA4LE,GAAKT,GAAGkU,UAApM,CAAgNA,WAAazT,KAAO,IAAK,EAAZ,CAAgB,KAAhB,CAAwBA,EAArP,CAAyPE,GAAKX,GAAGmU,kBAAjQ,CAAqRA,mBAAqBxT,KAAO,IAAK,EAAZ,CAAgB,IAAhB,CAAuBA,EAAjU,CAAqUyT,oBAAsBpU,GAAGoU,mBAA9V,CAAmXC,0BAA4BrU,GAAGqU,yBAAlZ,CACA,KAAKN,oBAAL,CAA4BA,oBAA5B,CACA,KAAKE,MAAL,CAAc,CAAC,CAACA,MAAhB,CACA,KAAKC,UAAL,CAAkB,CAAC,CAACA,UAApB,CACA,KAAKC,kBAAL,CAA0BA,kBAA1B,CACA,KAAKC,mBAAL,CAA2BE,2BAA2BjI,YAAY+H,mBAAZ,CAA3B,CAA3B,CACA,KAAKC,yBAAL,CAAiCA,4BAA8B,IAA/D,CACH,CACD,MAAOP,eAAP,CACH,CAXmC,EAApC,CAYA,QAASQ,2BAAT,CAAoCC,yBAApC,CAA+DC,cAA/D,CAA+E,CAC3E,GAAIA,iBAAmB,IAAK,EAA5B,CAA+B,CAAEA,eAAiB,KAAjB,CAAyB,CAC1D,MAAOD,6BAA8B,IAA9B,CAAqCC,cAArC,CAAsDD,yBAA7D,CACH,CAED;;;;;;OAOA;;;;OAKA,GAAIE,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBC,QAAtB,CAAgCnT,IAAhC,CAAsCoT,OAAtC,CAA+C,CAC3C,KAAKD,QAAL,CAAgBA,QAAhB,CACA,KAAKnT,IAAL,CAAYA,IAAZ,CACA,KAAKoT,OAAL,CAAeA,OAAf,CACH,CACDF,aAAazX,SAAb,CAAuB4X,eAAvB,CAAyC,UAAY,CACjD,GAAI,KAAKD,OAAL,CAAalX,MAAjB,CAAyB,CACrB,KAAM,IAAIwB,MAAJ,CAAU,2DAA6D4V,KAAKvG,SAAL,CAAe,IAAf,CAA7D,CAAoF,GAA9F,CAAN,CACH,CACJ,CAJD,CAKA,MAAOmG,aAAP,CACH,CAZiC,EAAlC,CAaA;;;OAIA,GAAIK,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,EAA6B,CACzB,KAAKC,KAAL,CAAa,GAAI7Q,IAAJ,EAAb,CACH,CACD4Q,kBAAkB9X,SAAlB,CAA4B2I,GAA5B,CAAkC,SAAUqP,eAAV,CAA2BzT,IAA3B,CAAiCoT,OAAjC,CAA0C,CACxEA,QAAUA,SAAW,EAArB,CACA,GAAIM,cAAeN,QAAQlX,MAAR,CAAiB,IAAMkX,QAAQpR,IAAR,CAAa,GAAb,CAAvB,CAA2C,EAA9D,CACA,GAAIkJ,KAAM,KAAOuI,eAAP,CAAyB,KAAzB,CAAiCzT,IAAjC,CAAwC0T,YAAlD,CACA,GAAItR,QAAS,KAAKoR,KAAL,CAAWpP,GAAX,CAAe8G,GAAf,CAAb,CACA,GAAI,CAAC9I,MAAL,CAAa,CACTA,OAAS,GAAI8Q,aAAJ,CAAiBO,eAAjB,CAAkCzT,IAAlC,CAAwCoT,OAAxC,CAAT,CACA,KAAKI,KAAL,CAAWnP,GAAX,CAAe6G,GAAf,CAAoB9I,MAApB,EACH,CACD,MAAOA,OAAP,CACH,CAVD,CAWA,MAAOmR,kBAAP,CACH,CAhBsC,EAAvC,CAkBA;;;;;;OAOA;AACA;AACA;AACA;AACA,GAAII,cAAe,oDAAnB,CACA,QAASC,mBAAT,CAA4B5T,IAA5B,CAAkC,CAC9B,MAAOA,MAAK0J,OAAL,CAAa,KAAb,CAAoB,GAApB,CAAP,CACH,CACD,GAAImK,qBAAsB,CAA1B,CACA,QAASC,eAAT,CAAwBC,iBAAxB,CAA2C,CACvC,GAAI,CAACA,iBAAD,EAAsB,CAACA,kBAAkBC,SAA7C,CAAwD,CACpD,MAAO,KAAP,CACH,CACD,GAAIC,KAAMF,kBAAkBC,SAA5B,CACA,GAAIC,cAAef,aAAnB,CAAiC,CAC7B,MAAOe,KAAIjU,IAAX,CACH,CACD,GAAIiU,IAAI,iBAAJ,CAAJ,CAA4B,CACxB,MAAOA,KAAI,iBAAJ,CAAP,CACH,CACD,GAAIC,YAAanH,UAAUkH,GAAV,CAAjB,CACA,GAAIC,WAAWzW,OAAX,CAAmB,GAAnB,GAA2B,CAA/B,CAAkC,CAC9B;AACAyW,WAAa,aAAeL,qBAA5B,CACAI,IAAI,iBAAJ,EAAyBC,UAAzB,CACH,CAJD,IAKK,CACDA,WAAaN,mBAAmBM,UAAnB,CAAb,CACH,CACD,MAAOA,WAAP,CACH,CACD,QAASC,oBAAT,CAA6BJ,iBAA7B,CAAgD,CAC5C,GAAIE,KAAMF,kBAAkBC,SAA5B,CACA,GAAIC,cAAef,aAAnB,CAAiC,CAC7B,MAAOe,KAAId,QAAX,CACH,CACD;AACA,MAAO,KAAOpG,UAAUkH,GAAV,CAAd,CACH,CACD,QAASG,cAAT,CAAuBC,QAAvB,CAAiCC,qBAAjC,CAAwD,CACpD,MAAO,QAAUR,eAAe,CAAEE,UAAWK,QAAb,CAAf,CAAV,CAAoD,GAApD,CAA0DC,qBAAjE,CACH,CACD,QAASC,iBAAT,CAA0BF,QAA1B,CAAoC,CAChC,MAAO,cAAgBP,eAAe,CAAEE,UAAWK,QAAb,CAAf,CAAvB,CACH,CACD,QAASG,kBAAT,CAA2BH,QAA3B,CAAqC,CACjC,MAAO,YAAcP,eAAe,CAAEE,UAAWK,QAAb,CAAf,CAArB,CACH,CACD,QAASI,qBAAT,CAA8BJ,QAA9B,CAAwC,CACpC,MAAOP,gBAAe,CAAEE,UAAWK,QAAb,CAAf,EAA0C,WAAjD,CACH,CACD,CAAC,SAAUK,kBAAV,CAA8B,CAC3BA,mBAAmBA,mBAAmB,MAAnB,EAA6B,CAAhD,EAAqD,MAArD,CACAA,mBAAmBA,mBAAmB,WAAnB,EAAkC,CAArD,EAA0D,WAA1D,CACAA,mBAAmBA,mBAAmB,UAAnB,EAAiC,CAApD,EAAyD,UAAzD,CACAA,mBAAmBA,mBAAmB,YAAnB,EAAmC,CAAtD,EAA2D,YAA3D,CACH,CALD,EAKGna,QAAQma,kBAAR,GAA+Bna,QAAQma,kBAAR,CAA6B,EAA5D,CALH,EAMA,QAASC,UAAT,CAAmBnP,KAAnB,CAA0B,CACtB,MAAOA,OAAM7I,KAAN,EAAe,IAAf,CAAsBiX,mBAAmBpO,MAAM7I,KAAzB,CAAtB,CAAwDmX,eAAetO,MAAM0O,UAArB,CAA/D,CACH,CACD,QAASU,eAAT,CAAwBpP,KAAxB,CAA+B,CAC3B,GAAIA,MAAM0O,UAAN,EAAoB,IAAxB,CAA8B,CAC1B,MAAO1O,OAAM0O,UAAN,CAAiBF,SAAxB,CACH,CAFD,IAGK,CACD,MAAOxO,OAAM7I,KAAb,CACH,CACJ,CACD;;OAGA,GAAIkY,2BAA4B,aAAe,UAAY,CACvD,QAASA,0BAAT,CAAmCrW,EAAnC,CAAuC,CACnC,GAAIC,IAAKD,KAAO,IAAK,EAAZ,CAAgB,EAAhB,CAAqBA,EAA9B,CAAkCsW,UAAYrW,GAAGqW,SAAjD,CAA4DC,OAAStW,GAAGsW,MAAxE,CAAgFC,UAAYvW,GAAGuW,SAA/F,CACA,KAAKF,SAAL,CAAiBA,WAAa,IAA9B,CACA,KAAKC,MAAL,CAAcE,gBAAgBF,MAAhB,CAAd,CACA,KAAKC,SAAL,CAAiBC,gBAAgBD,SAAhB,CAAjB,CACH,CACD,MAAOH,0BAAP,CACH,CAR8C,EAA/C,CASA;;OAGA,GAAIK,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,CAAiC1W,EAAjC,CAAqC,CACjC,GAAI2W,eAAgB3W,GAAG2W,aAAvB,CAAsCC,SAAW5W,GAAG4W,QAApD,CAA8DC,YAAc7W,GAAG6W,WAA/E,CAA4FC,QAAU9W,GAAG8W,OAAzG,CAAkHP,OAASvW,GAAGuW,MAA9H,CAAsIC,UAAYxW,GAAGwW,SAArJ,CAAgKO,oBAAsB/W,GAAG+W,mBAAzL,CAA8MC,WAAahX,GAAGgX,UAA9N,CAA0OC,mBAAqBjX,GAAGiX,kBAAlQ,CAAsRC,cAAgBlX,GAAGkX,aAAzS,CAAwTC,SAAWnX,GAAGmX,QAAtU,CAAgV9C,oBAAsBrU,GAAGqU,mBAAzW,CACA,KAAKsC,aAAL,CAAqBA,aAArB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKP,MAAL,CAAcE,gBAAgBF,MAAhB,CAAd,CACA,KAAKC,SAAL,CAAiBC,gBAAgBD,SAAhB,CAAjB,CACA,KAAKO,mBAAL,CAA2BN,gBAAgBM,mBAAhB,CAA3B,CACA,KAAKC,UAAL,CAAkBA,WAAaI,QAAQJ,UAAR,CAAb,CAAmC,EAArD,CACA,KAAKC,kBAAL,CAA0BA,oBAAsB,EAAhD,CACA,GAAIC,eAAiBA,cAAcxZ,MAAd,EAAwB,CAA7C,CAAgD,CAC5C,KAAM,IAAIwB,MAAJ,CAAU,wDAAV,CAAN,CACH,CACD,KAAKgY,aAAL,CAAqBA,aAArB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAK9C,mBAAL,CAA2BA,mBAA3B,CACH,CACDqC,wBAAwBzZ,SAAxB,CAAkCoa,SAAlC,CAA8C,UAAY,CACtD,MAAO,CACHJ,mBAAoB,KAAKA,kBADtB,CAEHN,cAAe,KAAKA,aAFjB,CAAP,CAIH,CALD,CAMA,MAAOD,wBAAP,CACH,CA1B4C,EAA7C,CA2BA;;OAGA,GAAIY,0BAA2B,aAAe,UAAY,CACtD,QAASA,yBAAT,CAAkCtX,EAAlC,CAAsC,CAClC,GAAIuX,QAASvX,GAAGuX,MAAhB,CAAwB3I,KAAO5O,GAAG4O,IAAlC,CAAwC4I,YAAcxX,GAAGwX,WAAzD,CAAsElV,SAAWtC,GAAGsC,QAApF,CAA8FmV,SAAWzX,GAAGyX,QAA5G,CAAsHnP,gBAAkBtI,GAAGsI,eAA3I,CAA4JiJ,OAASvR,GAAGuR,MAAxK,CAAgLC,QAAUxR,GAAGwR,OAA7L,CAAsMkG,cAAgB1X,GAAG0X,aAAzN,CAAwOhF,eAAiB1S,GAAG0S,cAA5P,CAA4QiF,eAAiB3X,GAAG2X,cAAhS,CAAgThG,UAAY3R,GAAG2R,SAA/T,CAA0UiG,cAAgB5X,GAAG4X,aAA7V,CAA4WC,QAAU7X,GAAG6X,OAAzX,CAAkYC,OAAS9X,GAAG8X,MAA9Y,CAAsZC,YAAc/X,GAAG+X,WAAva,CAAobC,gBAAkBhY,GAAGgY,eAAzc,CAA0dpB,SAAW5W,GAAG4W,QAAxe,CAAkfqB,kBAAoBjY,GAAGiY,iBAAzgB,CAA4hBC,aAAelY,GAAGkY,YAA9iB,CAA4jBC,iBAAmBnY,GAAGmY,gBAAllB,CACA,KAAKZ,MAAL,CAAc,CAAC,CAACA,MAAhB,CACA,KAAK3I,IAAL,CAAYA,IAAZ,CACA,KAAK4I,WAAL,CAAmBA,WAAnB,CACA,KAAKlV,QAAL,CAAgBA,QAAhB,CACA,KAAKmV,QAAL,CAAgBA,QAAhB,CACA,KAAKnP,eAAL,CAAuBA,eAAvB,CACA,KAAKiJ,MAAL,CAAcA,MAAd,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKkG,aAAL,CAAqBA,aAArB,CACA,KAAKhF,cAAL,CAAsBA,cAAtB,CACA,KAAKiF,cAAL,CAAsBA,cAAtB,CACA,KAAKhG,SAAL,CAAiB8E,gBAAgB9E,SAAhB,CAAjB,CACA,KAAKiG,aAAL,CAAqBnB,gBAAgBmB,aAAhB,CAArB,CACA,KAAKC,OAAL,CAAepB,gBAAgBoB,OAAhB,CAAf,CACA,KAAKC,MAAL,CAAcA,MAAd,CACA,KAAKC,WAAL,CAAmBtB,gBAAgBsB,WAAhB,CAAnB,CACA,KAAKC,eAAL,CAAuBvB,gBAAgBuB,eAAhB,CAAvB,CACA,KAAKpB,QAAL,CAAgBA,QAAhB,CACA,KAAKqB,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,YAAL,CAAoBA,YAApB,CACA,KAAKC,gBAAL,CAAwBA,gBAAxB,CACH,CACDb,yBAAyBpa,MAAzB,CAAkC,SAAU8C,EAAV,CAAc,CAC5C,GAAIuX,QAASvX,GAAGuX,MAAhB,CAAwB3I,KAAO5O,GAAG4O,IAAlC,CAAwC4I,YAAcxX,GAAGwX,WAAzD,CAAsElV,SAAWtC,GAAGsC,QAApF,CAA8FmV,SAAWzX,GAAGyX,QAA5G,CAAsHnP,gBAAkBtI,GAAGsI,eAA3I,CAA4JiJ,OAASvR,GAAGuR,MAAxK,CAAgLC,QAAUxR,GAAGwR,OAA7L,CAAsM4G,KAAOpY,GAAGoY,IAAhN,CAAsNzG,UAAY3R,GAAG2R,SAArO,CAAgPiG,cAAgB5X,GAAG4X,aAAnQ,CAAkRC,QAAU7X,GAAG6X,OAA/R,CAAwSC,OAAS9X,GAAG8X,MAApT,CAA4TC,YAAc/X,GAAG+X,WAA7U,CAA0VC,gBAAkBhY,GAAGgY,eAA/W,CAAgYpB,SAAW5W,GAAG4W,QAA9Y,CAAwZqB,kBAAoBjY,GAAGiY,iBAA/a,CAAkcC,aAAelY,GAAGkY,YAApd,CAAkeC,iBAAmBnY,GAAGmY,gBAAxf,CACA,GAAIT,eAAgB,EAApB,CACA,GAAIhF,gBAAiB,EAArB,CACA,GAAIiF,gBAAiB,EAArB,CACA,GAAIS,MAAQ,IAAZ,CAAkB,CACd5b,OAAOiQ,IAAP,CAAY2L,IAAZ,EAAkBpX,OAAlB,CAA0B,SAAU0L,GAAV,CAAe,CACrC,GAAIvO,OAAQia,KAAK1L,GAAL,CAAZ,CACA,GAAI2L,SAAU3L,IAAI9J,KAAJ,CAAUuS,YAAV,CAAd,CACA,GAAIkD,UAAY,IAAhB,CAAsB,CAClBV,eAAejL,GAAf,EAAsBvO,KAAtB,CACH,CAFD,IAGK,IAAIka,QAAQ,CAAR,GAAc,IAAlB,CAAwB,CACzB3F,eAAe2F,QAAQ,CAAR,CAAf,EAA6Bla,KAA7B,CACH,CAFI,IAGA,IAAIka,QAAQ,CAAR,GAAc,IAAlB,CAAwB,CACzBX,cAAcW,QAAQ,CAAR,CAAd,EAA4Bla,KAA5B,CACH,CACJ,CAZD,EAaH,CACD,GAAIma,WAAY,EAAhB,CACA,GAAI/G,QAAU,IAAd,CAAoB,CAChBA,OAAOvQ,OAAP,CAAe,SAAUuX,UAAV,CAAsB,CACjC;AACA;AACA,GAAIC,OAAQpN,aAAamN,UAAb,CAAyB,CAACA,UAAD,CAAaA,UAAb,CAAzB,CAAZ,CACAD,UAAUE,MAAM,CAAN,CAAV,EAAsBA,MAAM,CAAN,CAAtB,CACH,CALD,EAMH,CACD,GAAIC,YAAa,EAAjB,CACA,GAAIjH,SAAW,IAAf,CAAqB,CACjBA,QAAQxQ,OAAR,CAAgB,SAAUuX,UAAV,CAAsB,CAClC;AACA;AACA,GAAIC,OAAQpN,aAAamN,UAAb,CAAyB,CAACA,UAAD,CAAaA,UAAb,CAAzB,CAAZ,CACAE,WAAWD,MAAM,CAAN,CAAX,EAAuBA,MAAM,CAAN,CAAvB,CACH,CALD,EAMH,CACD,MAAO,IAAIlB,yBAAJ,CAA6B,CAChCC,OAAQA,MADwB,CAEhC3I,KAAMA,IAF0B,CAGhC4I,YAAa,CAAC,CAACA,WAHiB,CAGJlV,SAAUA,QAHN,CAGgBmV,SAAUA,QAH1B,CAGoCnP,gBAAiBA,eAHrD,CAIhCiJ,OAAQ+G,SAJwB,CAKhC9G,QAASiH,UALuB,CAMhCf,cAAeA,aANiB,CAOhChF,eAAgBA,cAPgB,CAQhCiF,eAAgBA,cARgB,CAShChG,UAAWA,SATqB,CAUhCiG,cAAeA,aAViB,CAWhCC,QAASA,OAXuB,CAYhCC,OAAQA,MAZwB,CAahCC,YAAaA,WAbmB,CAchCC,gBAAiBA,eAde,CAehCpB,SAAUA,QAfsB,CAgBhCqB,kBAAmBA,iBAhBa,CAiBhCC,aAAcA,YAjBkB,CAkBhCC,iBAAkBA,gBAlBc,CAA7B,CAAP,CAoBH,CA1DD,CA2DAb,yBAAyBra,SAAzB,CAAmCoa,SAAnC,CAA+C,UAAY,CACvD,MAAO,CACHqB,YAAa3c,QAAQma,kBAAR,CAA2ByC,SADrC,CAEH/J,KAAM,KAAKA,IAFR,CAGH4I,YAAa,KAAKA,WAHf,CAIHlV,SAAU,KAAKA,QAJZ,CAKHmV,SAAU,KAAKA,QALZ,CAMHlG,OAAQ,KAAKA,MANV,CAOHC,QAAS,KAAKA,OAPX,CAQHkG,cAAe,KAAKA,aARjB,CASHhF,eAAgB,KAAKA,cATlB,CAUHiF,eAAgB,KAAKA,cAVlB,CAWHhG,UAAW,KAAKA,SAXb,CAYHiG,cAAe,KAAKA,aAZjB,CAaHC,QAAS,KAAKA,OAbX,CAcHC,OAAQ,KAAKA,MAdV,CAeHC,YAAa,KAAKA,WAff,CAgBHC,gBAAiB,KAAKA,eAhBnB,CAiBH1P,gBAAiB,KAAKA,eAjBnB,CAkBHsO,SAAU,KAAKA,QAAL,EAAiB,KAAKA,QAAL,CAAcS,SAAd,EAlBxB,CAmBHY,kBAAmB,KAAKA,iBAnBrB,CAoBHC,aAAc,KAAKA,YApBhB,CAqBHC,iBAAkB,KAAKA,gBArBpB,CAAP,CAuBH,CAxBD,CAyBA,MAAOb,yBAAP,CACH,CA9G6C,EAA9C,CA+GA,GAAIsB,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6B5Y,EAA7B,CAAiC,CAC7B,GAAI4O,MAAO5O,GAAG4O,IAAd,CAAoBpN,KAAOxB,GAAGwB,IAA9B,CAAoCiH,KAAOzI,GAAGyI,IAA9C,CACA,KAAKmG,IAAL,CAAYA,IAAZ,CACA,KAAKpN,IAAL,CAAYA,IAAZ,CACA,KAAKiH,IAAL,CAAY,CAAC,CAACA,IAAd,CACH,CACDmQ,oBAAoB3b,SAApB,CAA8Boa,SAA9B,CAA0C,UAAY,CAClD,MAAO,CACHqB,YAAa3c,QAAQma,kBAAR,CAA2B2C,IADrC,CAEHjK,KAAM,KAAKA,IAFR,CAGHpN,KAAM,KAAKA,IAHR,CAIHiH,KAAM,KAAKA,IAJR,CAAP,CAMH,CAPD,CAQA,MAAOmQ,oBAAP,CACH,CAhBwC,EAAzC,CAiBA,GAAIE,8BAA+B,aAAe,UAAY,CAC1D,QAASA,6BAAT,EAAwC,CACvC,CACD,MAAOA,6BAAP,CACH,CAJiD,EAAlD,CAKA;;OAGA,GAAIC,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,CAAiC/Y,EAAjC,CAAqC,CACjC,GAAI4O,MAAO5O,GAAG4O,IAAd,CAAoB+C,UAAY3R,GAAG2R,SAAnC,CAA8CqH,mBAAqBhZ,GAAGgZ,kBAAtE,CAA0FC,mBAAqBjZ,GAAGiZ,kBAAlH,CAAsIC,cAAgBlZ,GAAGkZ,aAAzJ,CAAwKC,cAAgBnZ,GAAGmZ,aAA3L,CAA0MnB,gBAAkBhY,GAAGgY,eAA/N,CAAgPoB,oBAAsBpZ,GAAGoZ,mBAAzQ,CAA8RC,gBAAkBrZ,GAAGqZ,eAAnT,CAAoUC,gBAAkBtZ,GAAGsZ,eAAzV,CAA0WC,QAAUvZ,GAAGuZ,OAAvX,CAAgYC,iBAAmBxZ,GAAGwZ,gBAAtZ,CAAwaC,GAAKzZ,GAAGyZ,EAAhb,CACA,KAAK7K,IAAL,CAAYA,MAAQ,IAApB,CACA,KAAKoK,kBAAL,CAA0BvC,gBAAgBuC,kBAAhB,CAA1B,CACA,KAAKC,kBAAL,CAA0BxC,gBAAgBwC,kBAAhB,CAA1B,CACA,KAAKC,aAAL,CAAqBzC,gBAAgByC,aAAhB,CAArB,CACA,KAAKC,aAAL,CAAqB1C,gBAAgB0C,aAAhB,CAArB,CACA,KAAKxH,SAAL,CAAiB8E,gBAAgB9E,SAAhB,CAAjB,CACA,KAAKqG,eAAL,CAAuBvB,gBAAgBuB,eAAhB,CAAvB,CACA,KAAKoB,mBAAL,CAA2B3C,gBAAgB2C,mBAAhB,CAA3B,CACA,KAAKC,eAAL,CAAuB5C,gBAAgB4C,eAAhB,CAAvB,CACA,KAAKC,eAAL,CAAuB7C,gBAAgB6C,eAAhB,CAAvB,CACA,KAAKC,OAAL,CAAe9C,gBAAgB8C,OAAhB,CAAf,CACA,KAAKE,EAAL,CAAUA,IAAM,IAAhB,CACA,KAAKD,gBAAL,CAAwBA,kBAAoB,IAA5C,CACH,CACDT,wBAAwB9b,SAAxB,CAAkCoa,SAAlC,CAA8C,UAAY,CACtD,GAAIrb,QAAS,KAAKwd,gBAAlB,CACA,MAAO,CACHd,YAAa3c,QAAQma,kBAAR,CAA2BwD,QADrC,CAEH9K,KAAM,KAAKA,IAFR,CAGHoJ,gBAAiBhc,OAAOgc,eAHrB,CAIHrG,UAAW3V,OAAO2V,SAJf,CAKHgI,QAAS3d,OAAO2d,OALb,CAMHV,mBAAoBjd,OAAOid,kBANxB,CAOHE,cAAend,OAAOmd,aAPnB,CAAP,CASH,CAXD,CAYA,MAAOJ,wBAAP,CACH,CA9B4C,EAA7C,CA+BA,GAAIa,mCAAoC,aAAe,UAAY,CAC/D,QAASA,kCAAT,EAA6C,CACzC,KAAKC,aAAL,CAAqB,GAAIC,IAAJ,EAArB,CACA,KAAKpI,UAAL,CAAkB,EAAlB,CACA,KAAKqI,qBAAL,CAA6B,GAAID,IAAJ,EAA7B,CACA,KAAKb,kBAAL,CAA0B,EAA1B,CACA,KAAKe,QAAL,CAAgB,GAAIF,IAAJ,EAAhB,CACA,KAAKG,KAAL,CAAa,EAAb,CACA,KAAKC,gBAAL,CAAwB,GAAIJ,IAAJ,EAAxB,CACA,KAAKX,aAAL,CAAqB,EAArB,CACA,KAAKgB,UAAL,CAAkB,GAAIL,IAAJ,EAAlB,CACA,KAAKH,OAAL,CAAe,EAAf,CACA,KAAKS,kBAAL,CAA0B,GAAIN,IAAJ,EAA1B,CACA,KAAK9B,eAAL,CAAuB,EAAvB,CACA,KAAKrG,SAAL,CAAiB,EAAjB,CACH,CACDiI,kCAAkC3c,SAAlC,CAA4Cod,WAA5C,CAA0D,SAAUC,QAAV,CAAoBte,MAApB,CAA4B,CAClF,KAAK2V,SAAL,CAAelT,IAAf,CAAoB,CAAE6b,SAAUA,QAAZ,CAAsBte,OAAQA,MAA9B,CAApB,EACH,CAFD,CAGA4d,kCAAkC3c,SAAlC,CAA4Csd,YAA5C,CAA2D,SAAUd,EAAV,CAAc,CACrE,GAAI,CAAC,KAAKI,aAAL,CAAmBW,GAAnB,CAAuBf,GAAGjE,SAA1B,CAAL,CAA2C,CACvC,KAAKqE,aAAL,CAAmBY,GAAnB,CAAuBhB,GAAGjE,SAA1B,EACA,KAAK9D,UAAL,CAAgBjT,IAAhB,CAAqBgb,EAArB,EACH,CACJ,CALD,CAMAG,kCAAkC3c,SAAlC,CAA4Cyd,oBAA5C,CAAmE,SAAUjB,EAAV,CAAc,CAC7E,GAAI,CAAC,KAAKM,qBAAL,CAA2BS,GAA3B,CAA+Bf,GAAGjE,SAAlC,CAAL,CAAmD,CAC/C,KAAKuE,qBAAL,CAA2BU,GAA3B,CAA+BhB,GAAGjE,SAAlC,EACA,KAAKyD,kBAAL,CAAwBxa,IAAxB,CAA6Bgb,EAA7B,EACH,CACJ,CALD,CAMAG,kCAAkC3c,SAAlC,CAA4C0d,OAA5C,CAAsD,SAAUlB,EAAV,CAAc,CAChE,GAAI,CAAC,KAAKO,QAAL,CAAcQ,GAAd,CAAkBf,GAAGjE,SAArB,CAAL,CAAsC,CAClC,KAAKwE,QAAL,CAAcS,GAAd,CAAkBhB,GAAGjE,SAArB,EACA,KAAKyE,KAAL,CAAWxb,IAAX,CAAgBgb,EAAhB,EACH,CACJ,CALD,CAMAG,kCAAkC3c,SAAlC,CAA4C2d,eAA5C,CAA8D,SAAUnB,EAAV,CAAc,CACxE,GAAI,CAAC,KAAKS,gBAAL,CAAsBM,GAAtB,CAA0Bf,GAAGjE,SAA7B,CAAL,CAA8C,CAC1C,KAAK0E,gBAAL,CAAsBO,GAAtB,CAA0BhB,GAAGjE,SAA7B,EACA,KAAK2D,aAAL,CAAmB1a,IAAnB,CAAwBgb,EAAxB,EACH,CACJ,CALD,CAMAG,kCAAkC3c,SAAlC,CAA4C4d,SAA5C,CAAwD,SAAUpB,EAAV,CAAc,CAClE,GAAI,CAAC,KAAKU,UAAL,CAAgBK,GAAhB,CAAoBf,GAAGjE,SAAvB,CAAL,CAAwC,CACpC,KAAK2E,UAAL,CAAgBM,GAAhB,CAAoBhB,GAAGjE,SAAvB,EACA,KAAKmE,OAAL,CAAalb,IAAb,CAAkBgb,EAAlB,EACH,CACJ,CALD,CAMAG,kCAAkC3c,SAAlC,CAA4C6d,iBAA5C,CAAgE,SAAUC,EAAV,CAAc,CAC1E,GAAI,CAAC,KAAKX,kBAAL,CAAwBI,GAAxB,CAA4BO,GAAGC,aAA/B,CAAL,CAAoD,CAChD,KAAKZ,kBAAL,CAAwBK,GAAxB,CAA4BM,GAAGC,aAA/B,EACA,KAAKhD,eAAL,CAAqBvZ,IAArB,CAA0Bsc,EAA1B,EACH,CACJ,CALD,CAMA,MAAOnB,kCAAP,CACH,CAxDsD,EAAvD,CAyDA,QAASnD,gBAAT,CAAyBpM,GAAzB,CAA8B,CAC1B,MAAOA,MAAO,EAAd,CACH,CACD,GAAI4Q,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBjU,KAAtB,CAA6BhH,EAA7B,CAAiC,CAC7B,GAAIkb,UAAWlb,GAAGkb,QAAlB,CAA4BC,SAAWnb,GAAGmb,QAA1C,CAAoDC,YAAcpb,GAAGob,WAArE,CAAkFC,WAAarb,GAAGqb,UAAlG,CAA8GC,KAAOtb,GAAGsb,IAAxH,CAA8HC,MAAQvb,GAAGub,KAAzI,CACA,KAAKvU,KAAL,CAAaA,KAAb,CACA,KAAKkU,QAAL,CAAgBA,UAAY,IAA5B,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACA,KAAKC,UAAL,CAAkBA,YAAc,IAAhC,CACA,KAAKG,YAAL,CAAoBF,MAAQ,IAA5B,CACA,KAAKC,KAAL,CAAa,CAAC,CAACA,KAAf,CACH,CACD,MAAON,aAAP,CACH,CAZiC,EAAlC,CAaA,QAAS7D,QAAT,CAAiBqE,IAAjB,CAAuB,CACnB,MAAOA,MAAKC,MAAL,CAAY,SAAUC,IAAV,CAAgBC,IAAhB,CAAsB,CACrC,GAAIC,UAAWlf,MAAMmP,OAAN,CAAc8P,IAAd,EAAsBxE,QAAQwE,IAAR,CAAtB,CAAsCA,IAArD,CACA,MAAOD,MAAK/c,MAAL,CAAYid,QAAZ,CAAP,CACH,CAHM,CAGJ,EAHI,CAAP,CAIH,CACD,QAASC,aAAT,CAAsBC,GAAtB,CAA2B,CACvB;AACA;AACA,MAAOA,KAAI7Q,OAAJ,CAAY,0BAAZ,CAAwC,QAAxC,CAAP,CACH,CACD,QAAS8Q,kBAAT,CAA2BC,YAA3B,CAAyCC,QAAzC,CAAmDC,YAAnD,CAAiE,CAC7D,GAAIJ,IAAJ,CACA,GAAII,aAAahF,QAAjB,CAA2B,CACvB,GAAI+E,SAAStN,IAAT,CAAc4G,SAAd,WAAmCd,aAAvC,CAAqD,CACjD;AACA;AACAqH,IAAMG,SAAStN,IAAT,CAAc4G,SAAd,CAAwBb,QAAxB,CAAmC,GAAnC,CAAyCuH,SAAStN,IAAT,CAAc4G,SAAd,CAAwBhU,IAAjE,CAAwE,OAA9E,CACH,CAJD,IAKK,CACDua,IAAMzG,eAAe2G,YAAf,EAA+B,GAA/B,CAAqC3G,eAAe4G,SAAStN,IAAxB,CAArC,CAAqE,OAA3E,CACH,CACJ,CATD,IAUK,CACDmN,IAAMI,aAAatF,WAAnB,CACH,CACD,MAAOqF,UAAStN,IAAT,CAAc4G,SAAd,WAAmCd,aAAnC,CAAkDqH,GAAlD,CAAwDD,aAAaC,GAAb,CAA/D,CACH,CACD,QAASK,uBAAT,CAAgCC,IAAhC,CAAsC5C,EAAtC,CAA0C,CACtC,GAAI6C,WAAYD,KAAK/F,SAAL,CAAetH,KAAf,CAAqB,OAArB,CAAhB,CACA,GAAIuN,UAAWD,UAAUA,UAAU5e,MAAV,CAAmB,CAA7B,CAAf,CACA,MAAOoe,cAAa,OAASrC,EAAT,CAAc8C,QAAd,CAAyB,aAAtC,CAAP,CACH,CACD,QAASC,eAAT,CAAwBC,UAAxB,CAAoC,CAChC,MAAOX,cAAaxG,eAAemH,WAAW7N,IAA1B,EAAkC,sBAA/C,CAAP,CACH,CACD,QAAS8N,eAAT,CAAwBT,YAAxB,CAAsCC,QAAtC,CAAgD,CAC5C,MAAOJ,cAAaxG,eAAe2G,YAAf,EAA+B,GAA/B,CAAqC3G,eAAe4G,SAAStN,IAAxB,CAArC,CAAqE,eAAlF,CAAP,CACH,CAED;;;;;;OAOA;;;;;;;;;;;;;;;;OAiBA,GAAI+N,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBC,IAAjB,CAAuBC,QAAvB,CAAiC,CAC7B,GAAIA,WAAa,IAAK,EAAtB,CAAyB,CAAEA,SAAW,CAAC,CAAZ,CAAgB,CAC3C,KAAKD,IAAL,CAAYA,IAAZ,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACH,CACDrgB,OAAOsgB,cAAP,CAAsBH,QAAQ1f,SAA9B,CAAyC,OAAzC,CAAkD,CAC9C2I,IAAK,UAAY,CAAE,MAAO,CAAC,KAAKgX,IAAN,EAAc,CAAC,KAAKA,IAAL,CAAUlf,MAAhC,CAAyC,CADd,CAE9Cqf,WAAY,IAFkC,CAG9CC,aAAc,IAHgC,CAAlD,EAKAxgB,OAAOsgB,cAAP,CAAsBH,QAAQ1f,SAA9B,CAAyC,MAAzC,CAAiD,CAC7C2I,IAAK,UAAY,CAAE,MAAO,MAAKgX,IAAL,CAAU,CAAV,CAAP,CAAsB,CADI,CAE7CG,WAAY,IAFiC,CAG7CC,aAAc,IAH+B,CAAjD,EAKAxgB,OAAOsgB,cAAP,CAAsBH,QAAQ1f,SAA9B,CAAyC,MAAzC,CAAiD,CAC7C2I,IAAK,UAAY,CAAE,MAAO,MAAKgX,IAAL,CAAU,KAAKA,IAAL,CAAUlf,MAAV,CAAmB,CAA7B,CAAP,CAAyC,CADf,CAE7Cqf,WAAY,IAFiC,CAG7CC,aAAc,IAH+B,CAAjD,EAKAL,QAAQ1f,SAAR,CAAkBggB,QAAlB,CAA6B,SAAUC,IAAV,CAAgB,CACzC,MAAOA,OAAQ,KAAKN,IAAL,CAAU,KAAKA,IAAL,CAAU3d,OAAV,CAAkBie,IAAlB,EAA0B,CAApC,CAAf,CACH,CAFD,CAGAP,QAAQ1f,SAAR,CAAkBkgB,OAAlB,CAA4B,SAAUD,IAAV,CAAgB,CAAE,MAAO,MAAKN,IAAL,CAAU,KAAKA,IAAL,CAAU3d,OAAV,CAAkBie,IAAlB,EAA0B,CAApC,CAAP,CAAgD,CAA9F,CACAP,QAAQ1f,SAAR,CAAkByK,KAAlB,CAA0B,SAAU0V,IAAV,CAAgB,CACtC,IAAK,GAAI7f,GAAI,KAAKqf,IAAL,CAAUlf,MAAV,CAAmB,CAAhC,CAAmCH,GAAK,CAAxC,CAA2CA,GAA3C,CAAgD,CAC5C,GAAIqe,MAAO,KAAKgB,IAAL,CAAUrf,CAAV,CAAX,CACA,GAAIqe,eAAgBwB,KAApB,CACI,MAAOxB,KAAP,CACP,CACJ,CAND,CAOAe,QAAQ1f,SAAR,CAAkBwB,IAAlB,CAAyB,SAAUye,IAAV,CAAgB,CAAE,KAAKN,IAAL,CAAUne,IAAV,CAAeye,IAAf,EAAuB,CAAlE,CACAP,QAAQ1f,SAAR,CAAkBogB,GAAlB,CAAwB,UAAY,CAAE,MAAO,MAAKT,IAAL,CAAUS,GAAV,EAAP,CAAyB,CAA/D,CACA,MAAOV,QAAP,CACH,CAnC4B,EAA7B,CAqCA;;;;;;OAOA,GAAIW,MAAO,aAAe,UAAY,CAClC,QAASA,KAAT,CAAcnf,KAAd,CAAqBoR,UAArB,CAAiC,CAC7B,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD+N,KAAKrgB,SAAL,CAAeuS,KAAf,CAAuB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ6D,SAAR,CAAkB,IAAlB,CAAwB5D,OAAxB,CAAP,CAA0C,CAA/F,CACA,MAAOyR,KAAP,CACH,CAPyB,EAA1B,CAQA,GAAIC,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmBC,WAAnB,CAAgC5O,IAAhC,CAAsC6O,KAAtC,CAA6ClO,UAA7C,CAAyDmO,qBAAzD,CAAgF,CAC5E,KAAKF,WAAL,CAAmBA,WAAnB,CACA,KAAK5O,IAAL,CAAYA,IAAZ,CACA,KAAK6O,KAAL,CAAaA,KAAb,CACA,KAAKlO,UAAL,CAAkBA,UAAlB,CACA,KAAKmO,qBAAL,CAA6BA,qBAA7B,CACH,CACDH,UAAUtgB,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ+R,cAAR,CAAuB,IAAvB,CAA6B9R,OAA7B,CAAP,CAA+C,CAAzG,CACA,MAAO0R,UAAP,CACH,CAV8B,EAA/B,CAWA,GAAIK,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuBzf,KAAvB,CAA8B0f,UAA9B,CAA0CtO,UAA1C,CAAsDuO,eAAtD,CAAuEC,aAAvE,CAAsF,CAClF,KAAK5f,KAAL,CAAaA,KAAb,CACA,KAAK0f,UAAL,CAAkBA,UAAlB,CACA,KAAKtO,UAAL,CAAkBA,UAAlB,CACA,KAAKuO,eAAL,CAAuBA,eAAvB,CACA,KAAKC,aAAL,CAAqBA,aAArB,CACH,CACDH,cAAc3gB,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQoS,kBAAR,CAA2B,IAA3B,CAAiCnS,OAAjC,CAAP,CAAmD,CAAjH,CACA,MAAO+R,cAAP,CACH,CAVkC,EAAnC,CAWA,GAAIK,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmBzc,IAAnB,CAAyBrD,KAAzB,CAAgCoR,UAAhC,CAA4C2O,SAA5C,CAAuD,CACnD,KAAK1c,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACA,KAAK2O,SAAL,CAAiBA,SAAjB,CACH,CACDD,UAAUhhB,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQuS,cAAR,CAAuB,IAAvB,CAA6BtS,OAA7B,CAAP,CAA+C,CAAzG,CACA,MAAOoS,UAAP,CACH,CAT8B,EAA/B,CAUA,GAAIG,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiB5c,IAAjB,CAAuBW,KAAvB,CAA8B2P,QAA9B,CAAwCvC,UAAxC,CAAoD8O,eAApD,CAAqEtM,aAArE,CAAoF,CAChF,GAAIsM,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAItM,gBAAkB,IAAK,EAA3B,CAA8B,CAAEA,cAAgB,IAAhB,CAAuB,CACvD,KAAKvQ,IAAL,CAAYA,IAAZ,CACA,KAAKW,KAAL,CAAaA,KAAb,CACA,KAAK2P,QAAL,CAAgBA,QAAhB,CACA,KAAKvC,UAAL,CAAkBA,UAAlB,CACA,KAAK8O,eAAL,CAAuBA,eAAvB,CACA,KAAKtM,aAAL,CAAqBA,aAArB,CACH,CACDqM,QAAQnhB,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQoG,YAAR,CAAqB,IAArB,CAA2BnG,OAA3B,CAAP,CAA6C,CAArG,CACA,MAAOuS,QAAP,CACH,CAb4B,EAA7B,CAcA,GAAIE,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBngB,KAAjB,CAAwBoR,UAAxB,CAAoC,CAChC,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD+O,QAAQrhB,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ2S,YAAR,CAAqB,IAArB,CAA2B1S,OAA3B,CAAP,CAA6C,CAArG,CACA,MAAOyS,QAAP,CACH,CAP4B,EAA7B,CAQA,QAASE,SAAT,CAAkB5S,OAAlB,CAA2B6S,KAA3B,CAAkC5S,OAAlC,CAA2C,CACvC,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,GAAIjI,QAAS,EAAb,CACA,GAAI4L,OAAQ5D,QAAQ4D,KAAR,CACR,SAAUgE,GAAV,CAAe,CAAE,MAAO5H,SAAQ4D,KAAR,CAAcgE,GAAd,CAAmB3H,OAAnB,GAA+B2H,IAAIhE,KAAJ,CAAU5D,OAAV,CAAmBC,OAAnB,CAAtC,CAAoE,CAD7E,CAER,SAAU2H,GAAV,CAAe,CAAE,MAAOA,KAAIhE,KAAJ,CAAU5D,OAAV,CAAmBC,OAAnB,CAAP,CAAqC,CAF1D,CAGA4S,MAAMzd,OAAN,CAAc,SAAUwS,GAAV,CAAe,CACzB,GAAIM,WAAYtE,MAAMgE,GAAN,CAAhB,CACA,GAAIM,SAAJ,CAAe,CACXlQ,OAAOnF,IAAP,CAAYqV,SAAZ,EACH,CACJ,CALD,EAMA,MAAOlQ,OAAP,CACH,CACD,GAAI8a,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,EAA4B,CAC3B,CACDA,iBAAiBzhB,SAAjB,CAA2B+U,YAA3B,CAA0C,SAAUwB,GAAV,CAAe3H,OAAf,CAAwB,CAC9D,KAAK8H,aAAL,CAAmB9H,OAAnB,CAA4B,SAAU2D,KAAV,CAAiB,CACzCA,MAAMgE,IAAIrR,KAAV,EACAqN,MAAMgE,IAAI1B,QAAV,EACH,CAHD,EAIH,CALD,CAMA4M,iBAAiBzhB,SAAjB,CAA2BkhB,cAA3B,CAA4C,SAAU3K,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAvE,CACA6S,iBAAiBzhB,SAAjB,CAA2BwS,SAA3B,CAAuC,SAAU+D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlE,CACA6S,iBAAiBzhB,SAAjB,CAA2BshB,YAA3B,CAA0C,SAAU/K,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArE,CACA6S,iBAAiBzhB,SAAjB,CAA2B0gB,cAA3B,CAA4C,SAAUnK,GAAV,CAAe3H,OAAf,CAAwB,CAChE,MAAO,MAAK8H,aAAL,CAAmB9H,OAAnB,CAA4B,SAAU2D,KAAV,CAAiB,CAAEA,MAAMgE,IAAIiK,KAAV,EAAmB,CAAlE,CAAP,CACH,CAFD,CAGAiB,iBAAiBzhB,SAAjB,CAA2B+gB,kBAA3B,CAAgD,SAAUxK,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA3E,CACA6S,iBAAiBzhB,SAAjB,CAA2B0W,aAA3B,CAA2C,SAAU9H,OAAV,CAAmBkB,EAAnB,CAAuB,CAC9D,GAAIxK,SAAU,EAAd,CACA,GAAIlF,GAAI,IAAR,CACA,QAASmS,MAAT,CAAesC,QAAf,CAAyB,CACrB,GAAIA,QAAJ,CACIvP,QAAQ9D,IAAR,CAAa+f,SAASnhB,CAAT,CAAYyU,QAAZ,CAAsBjG,OAAtB,CAAb,EACP,CACDkB,GAAGyC,KAAH,EACA,MAAO,GAAG5Q,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoB2E,OAApB,CAAP,CACH,CATD,CAUA,MAAOmc,iBAAP,CACH,CA3BqC,EAAtC,CA4BA,QAASC,OAAT,CAAgBnL,GAAhB,CAAqB,CACjB,GAAIoL,OAAQpL,IAAIjE,UAAJ,CAAeqP,KAAf,CAAqBC,MAAjC,CACA,GAAIC,KAAMtL,IAAIjE,UAAJ,CAAeuP,GAAf,CAAmBD,MAA7B,CACA,GAAIrL,cAAe4K,QAAnB,CAA4B,CACxB,GAAI5K,IAAIzB,aAAR,CAAuB,CACnB+M,IAAMtL,IAAIzB,aAAJ,CAAkB+M,GAAlB,CAAsBD,MAA5B,CACH,CAFD,IAGK,IAAIrL,IAAI1B,QAAJ,EAAgB0B,IAAI1B,QAAJ,CAAapU,MAAjC,CAAyC,CAC1CohB,IAAMH,OAAOnL,IAAI1B,QAAJ,CAAa0B,IAAI1B,QAAJ,CAAapU,MAAb,CAAsB,CAAnC,CAAP,EAA8CohB,GAApD,CACH,CACJ,CACD,MAAO,CAAEF,MAAOA,KAAT,CAAgBE,IAAKA,GAArB,CAAP,CACH,CACD,QAASC,SAAT,CAAkBN,KAAlB,CAAyB5B,QAAzB,CAAmC,CAC/B,GAAID,MAAO,EAAX,CACA,GAAIhR,SAAU,IAAI,aAAe,SAAU8H,MAAV,CAAkB,CAC/C5W,UAAUkiB,OAAV,CAAmBtL,MAAnB,EACA,QAASsL,QAAT,EAAmB,CACf,MAAOtL,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDuhB,QAAQ/hB,SAAR,CAAkBuS,KAAlB,CAA0B,SAAUgE,GAAV,CAAe3H,OAAf,CAAwB,CAC9C,GAAIoT,MAAON,OAAOnL,GAAP,CAAX,CACA,GAAIyL,KAAKL,KAAL,EAAc/B,QAAd,EAA0BA,SAAWoC,KAAKH,GAA9C,CAAmD,CAC/ClC,KAAKne,IAAL,CAAU+U,GAAV,EACH,CAFD,IAGK,CACD;AACA,MAAO,KAAP,CACH,CACJ,CATD,CAUA,MAAOwL,QAAP,CACH,CAhBgC,CAgB/BN,gBAhB+B,CAAnB,GAAd,CAiBAF,SAAS5S,OAAT,CAAkB6S,KAAlB,EACA,MAAO,IAAI9B,QAAJ,CAAYC,IAAZ,CAAkBC,QAAlB,CAAP,CACH,CAED;;;;;;OAOA,QAASqC,qBAAT,CAA8BxJ,UAA9B,CAA0CvX,KAA1C,CAAiD,CAC7C,GAAIA,OAAS,IAAb,CAAmB,CACf,OACH,CACD,GAAI,CAACxB,MAAMmP,OAAN,CAAc3N,KAAd,CAAL,CAA2B,CACvB,KAAM,IAAIe,MAAJ,CAAU,aAAewW,UAAf,CAA4B,8BAAtC,CAAN,CACH,CACD,IAAK,GAAInY,GAAI,CAAb,CAAgBA,EAAIY,MAAMT,MAA1B,CAAkCH,GAAK,CAAvC,CAA0C,CACtC,GAAI,MAAOY,OAAMZ,CAAN,CAAP,GAAoB,QAAxB,CAAkC,CAC9B,KAAM,IAAI2B,MAAJ,CAAU,aAAewW,UAAf,CAA4B,8BAAtC,CAAN,CACH,CACJ,CACJ,CACD,GAAIyJ,iCAAkC,CAClC,OADkC,CAElC,MAFkC,CAGlC,QAHkC,CAIlC,aAJkC,CAKlC,OALkC,CAAtC,CAOA,QAASC,2BAAT,CAAoC1J,UAApC,CAAgDvX,KAAhD,CAAuD,CACnD,GAAIA,OAAS,IAAT,EAAiB,EAAExB,MAAMmP,OAAN,CAAc3N,KAAd,GAAwBA,MAAMT,MAAN,EAAgB,CAA1C,CAArB,CAAmE,CAC/D,KAAM,IAAIwB,MAAJ,CAAU,aAAewW,UAAf,CAA4B,iCAAtC,CAAN,CACH,CAFD,IAGK,IAAIvX,OAAS,IAAb,CAAmB,CACpB,GAAIkhB,SAAUlhB,MAAM,CAAN,CAAd,CACA,GAAImhB,OAAQnhB,MAAM,CAAN,CAAZ,CACA;AACAghB,gCAAgCne,OAAhC,CAAwC,SAAUue,MAAV,CAAkB,CACtD,GAAIA,OAAOC,IAAP,CAAYH,OAAZ,GAAwBE,OAAOC,IAAP,CAAYF,KAAZ,CAA5B,CAAgD,CAC5C,KAAM,IAAIpgB,MAAJ,CAAU,KAAOmgB,OAAP,CAAiB,MAAjB,CAA0BC,KAA1B,CAAkC,4CAA5C,CAAN,CACH,CACJ,CAJD,EAKH,CACJ,CAED;;;;;;OAOA,GAAIG,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6Bb,KAA7B,CAAoCE,GAApC,CAAyC,CACrC,KAAKF,KAAL,CAAaA,KAAb,CACA,KAAKE,GAAL,CAAWA,GAAX,CACH,CACDW,oBAAoBC,SAApB,CAAgC,SAAUC,OAAV,CAAmB,CAC/C,GAAI,CAACA,OAAL,CAAc,CACV,MAAOC,6BAAP,CACH,CACDR,2BAA2B,eAA3B,CAA4CO,OAA5C,EACA,MAAO,IAAIF,oBAAJ,CAAwBE,QAAQ,CAAR,CAAxB,CAAoCA,QAAQ,CAAR,CAApC,CAAP,CACH,CAND,CAOA,MAAOF,oBAAP,CACH,CAbwC,EAAzC,CAcA,GAAIG,8BAA+B,GAAIH,oBAAJ,CAAwB,IAAxB,CAA8B,IAA9B,CAAnC,CAEA;;;;;;OAOA,GAAII,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0BC,KAA1B,CAAiCtJ,SAAjC,CAA4C,CACxC,KAAKsJ,KAAL,CAAaA,KAAb,CACA,KAAKtJ,SAAL,CAAiBA,SAAjB,CACH,CACD,MAAOqJ,iBAAP,CACH,CANqC,EAAtC,CAOA,QAASE,qBAAT,CAA8BhE,GAA9B,CAAmC,CAC/B,GAAIA,KAAO,IAAP,EAAeA,IAAIre,MAAJ,GAAe,CAA9B,EAAmCqe,IAAI,CAAJ,GAAU,GAAjD,CACI,MAAO,MAAP,CACJ,GAAIiE,aAAcjE,IAAInZ,KAAJ,CAAUqd,sBAAV,CAAlB,CACA,MAAOD,eAAgB,IAAhB,EAAwBA,YAAY,CAAZ,GAAkB,SAA1C,EAAuDA,YAAY,CAAZ,GAAkB,OAAhF,CACH,CACD;;;OAIA,QAASE,iBAAT,CAA0BC,QAA1B,CAAoCC,OAApC,CAA6CC,OAA7C,CAAsD,CAClD,GAAIC,WAAY,EAAhB,CACA,GAAIC,iBAAkBF,QAAQnV,OAAR,CAAgBsV,6BAAhB,CAA+C,EAA/C,EACjBtV,OADiB,CACTuV,iBADS,CACU,UAAY,CACxC,GAAI1iB,GAAI,EAAR,CACA,IAAK,GAAIkM,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ClM,EAAEkM,EAAF,EAAQxM,UAAUwM,EAAV,CAAR,CACH,CACD,GAAI8R,KAAMhe,EAAE,CAAF,GAAQA,EAAE,CAAF,CAAlB,CACA,GAAI,CAACgiB,qBAAqBhE,GAArB,CAAL,CAAgC,CAC5B;AACA;AACA,MAAOhe,GAAE,CAAF,CAAP,CACH,CACDuiB,UAAU7hB,IAAV,CAAe0hB,SAASO,OAAT,CAAiBN,OAAjB,CAA0BrE,GAA1B,CAAf,EACA,MAAO,EAAP,CACH,CAdqB,CAAtB,CAeA,MAAO,IAAI8D,iBAAJ,CAAqBU,eAArB,CAAsCD,SAAtC,CAAP,CACH,CACD,GAAIG,mBAAoB,iEAAxB,CACA,GAAID,+BAAgC,0DAApC,CACA,GAAIP,wBAAyB,cAA7B,CAEA;;;;;;OAOA,GAAIU,wBAAyB,QAA7B,CACA,GAAIC,cAAe,MAAnB,CACA,GAAIC,qBAAsB,KAA1B,CACA,GAAIC,sBAAuB,MAA3B,CACA,GAAIC,sBAAuB,YAA3B,CACA,GAAIC,eAAgB,OAApB,CACA,GAAIC,gBAAiB,QAArB,CACA,GAAIC,sBAAuB,eAA3B,CACA,GAAIC,eAAgB,aAApB,CACA,QAASC,gBAAT,CAAyB5N,GAAzB,CAA8B,CAC1B,GAAI6N,YAAa,IAAjB,CACA,GAAIC,UAAW,IAAf,CACA,GAAIC,SAAU,IAAd,CACA,GAAIC,aAAc,KAAlB,CACA,GAAIC,WAAY,EAAhB,CACAjO,IAAIrR,KAAJ,CAAUnB,OAAV,CAAkB,SAAU0gB,IAAV,CAAgB,CAC9B,GAAIC,YAAaD,KAAKlgB,IAAL,CAAUH,WAAV,EAAjB,CACA,GAAIsgB,YAAchB,sBAAlB,CAA0C,CACtCU,WAAaK,KAAKvjB,KAAlB,CACH,CAFD,IAGK,IAAIwjB,YAAcb,oBAAlB,CAAwC,CACzCQ,SAAWI,KAAKvjB,KAAhB,CACH,CAFI,IAGA,IAAIwjB,YAAcd,mBAAlB,CAAuC,CACxCU,QAAUG,KAAKvjB,KAAf,CACH,CAFI,IAGA,IAAIujB,KAAKlgB,IAAL,EAAa0f,oBAAjB,CAAuC,CACxCM,YAAc,IAAd,CACH,CAFI,IAGA,IAAIE,KAAKlgB,IAAL,EAAa2f,aAAjB,CAAgC,CACjC,GAAIO,KAAKvjB,KAAL,CAAWT,MAAX,CAAoB,CAAxB,CAA2B,CACvB+jB,UAAYC,KAAKvjB,KAAjB,CACH,CACJ,CACJ,CAnBD,EAoBAkjB,WAAaO,yBAAyBP,UAAzB,CAAb,CACA,GAAIQ,UAAWrO,IAAIhS,IAAJ,CAASH,WAAT,EAAf,CACA,GAAIuN,MAAOkT,qBAAqBC,KAAhC,CACA,GAAIziB,YAAYuiB,QAAZ,CAAJ,CAA2B,CACvBjT,KAAOkT,qBAAqBE,UAA5B,CACH,CAFD,IAGK,IAAIH,UAAYb,aAAhB,CAA+B,CAChCpS,KAAOkT,qBAAqBG,KAA5B,CACH,CAFI,IAGA,IAAIJ,UAAYZ,cAAhB,CAAgC,CACjCrS,KAAOkT,qBAAqBI,MAA5B,CACH,CAFI,IAGA,IAAIL,UAAYjB,YAAZ,EAA4BW,SAAWR,oBAA3C,CAAiE,CAClEnS,KAAOkT,qBAAqBK,UAA5B,CACH,CACD,MAAO,IAAIC,iBAAJ,CAAqBxT,IAArB,CAA2ByS,UAA3B,CAAuCC,QAAvC,CAAiDE,WAAjD,CAA8DC,SAA9D,CAAP,CACH,CACD,GAAIK,qBAAJ,CACA,CAAC,SAAUA,oBAAV,CAAgC,CAC7BA,qBAAqBA,qBAAqB,YAArB,EAAqC,CAA1D,EAA+D,YAA/D,CACAA,qBAAqBA,qBAAqB,OAArB,EAAgC,CAArD,EAA0D,OAA1D,CACAA,qBAAqBA,qBAAqB,YAArB,EAAqC,CAA1D,EAA+D,YAA/D,CACAA,qBAAqBA,qBAAqB,QAArB,EAAiC,CAAtD,EAA2D,QAA3D,CACAA,qBAAqBA,qBAAqB,OAArB,EAAgC,CAArD,EAA0D,OAA1D,CACH,CAND,EAMGA,uBAAyBA,qBAAuB,EAAhD,CANH,EAOA,GAAIM,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0BxT,IAA1B,CAAgCyS,UAAhC,CAA4CC,QAA5C,CAAsDE,WAAtD,CAAmEC,SAAnE,CAA8E,CAC1E,KAAK7S,IAAL,CAAYA,IAAZ,CACA,KAAKyS,UAAL,CAAkBA,UAAlB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKE,WAAL,CAAmBA,WAAnB,CACA,KAAKC,SAAL,CAAiBA,SAAjB,CACH,CACD,MAAOW,iBAAP,CACH,CATqC,EAAtC,CAUA,QAASR,yBAAT,CAAkCP,UAAlC,CAA8C,CAC1C,GAAIA,aAAe,IAAf,EAAuBA,WAAW3jB,MAAX,GAAsB,CAAjD,CAAoD,CAChD,MAAO,GAAP,CACH,CACD,MAAO2jB,WAAP,CACH,CAED;;;;;;OAOA,GAAIgB,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6BC,eAA7B,CAA8CC,YAA9C,CAA4DC,WAA5D,CAAyEC,OAAzE,CAAkF,CAC9E,KAAKH,eAAL,CAAuBA,eAAvB,CACA,KAAKC,YAAL,CAAoBA,YAApB,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKC,oBAAL,CAA4B,GAAIve,IAAJ,EAA5B,CACH,CACDke,oBAAoBplB,SAApB,CAA8B0lB,UAA9B,CAA2C,UAAY,CAAE,KAAKD,oBAAL,CAA0BE,KAA1B,GAAoC,CAA7F,CACAP,oBAAoBplB,SAApB,CAA8B4lB,aAA9B,CAA8C,SAAUC,mBAAV,CAA+B,CACzE,GAAIhiB,OAAQ,IAAZ,CACA,GAAI,CAACgiB,oBAAoBtL,WAAzB,CAAsC,CAClC,OACH,CACD,GAAIZ,UAAWkM,oBAAoBlM,QAAnC,CACA,KAAK8L,oBAAL,CAA0BK,MAA1B,CAAiCnM,SAASC,WAA1C,EACAD,SAASG,mBAAT,CAA6B/V,OAA7B,CAAqC,SAAUgiB,UAAV,CAAsB,CAAEliB,MAAM4hB,oBAAN,CAA2BK,MAA3B,CAAkCC,WAAW1M,SAA7C,EAA0D,CAAvH,EACH,CARD,CASA+L,oBAAoBplB,SAApB,CAA8BgmB,MAA9B,CAAuC,SAAUlH,GAAV,CAAe,CAClD,GAAInY,QAAS,KAAK8e,oBAAL,CAA0B9c,GAA1B,CAA8BmW,GAA9B,CAAb,CACA,GAAI,CAACnY,MAAL,CAAa,CACTA,OAAS,KAAK0e,eAAL,CAAqB1c,GAArB,CAAyBmW,GAAzB,CAAT,CACA,KAAK2G,oBAAL,CAA0B7c,GAA1B,CAA8BkW,GAA9B,CAAmCnY,MAAnC,EACH,CACD,MAAOA,OAAP,CACH,CAPD,CAQAye,oBAAoBplB,SAApB,CAA8BimB,iBAA9B,CAAkD,SAAUC,WAAV,CAAuB,CACrE,GAAIriB,OAAQ,IAAZ,CACA,GAAIsL,UAAU+W,YAAYvM,QAAtB,CAAJ,CAAqC,CACjC,GAAIxK,UAAU+W,YAAYtM,WAAtB,CAAJ,CAAwC,CACpC,KAAMxJ,aAAY,IAAMkB,UAAU4U,YAAYnI,aAAtB,CAAN,CAA6C,yDAAzD,CAAN,CACH,CACD,GAAI,MAAOmI,aAAYvM,QAAnB,GAAgC,QAApC,CAA8C,CAC1C,KAAMvJ,aAAY,wCAA0CkB,UAAU4U,YAAYnI,aAAtB,CAA1C,CAAiF,kBAA7F,CAAN,CACH,CACJ,CAPD,IAQK,IAAI5O,UAAU+W,YAAYtM,WAAtB,CAAJ,CAAwC,CACzC,GAAI,MAAOsM,aAAYtM,WAAnB,GAAmC,QAAvC,CAAiD,CAC7C,KAAMxJ,aAAY,2CAA6CkB,UAAU4U,YAAYnI,aAAtB,CAA7C,CAAoF,kBAAhG,CAAN,CACH,CACJ,CAJI,IAKA,CACD,KAAM3N,aAAY,uCAAyCkB,UAAU4U,YAAYnI,aAAtB,CAArD,CAAN,CACH,CACD,GAAI5O,UAAU+W,YAAY9O,mBAAtB,GACA,MAAO8O,aAAY9O,mBAAnB,GAA2C,SAD/C,CAC0D,CACtD,KAAMhH,aAAY,gDAAkDkB,UAAU4U,YAAYnI,aAAtB,CAAlD,CAAyF,oBAArG,CAAN,CACH,CACD,MAAOrO,WAAUG,IAAV,CAAe,KAAKsW,iBAAL,CAAuBD,WAAvB,CAAf,CAAoD,SAAUE,iBAAV,CAA6B,CAAE,MAAOviB,OAAMwiB,0BAAN,CAAiCH,WAAjC,CAA8CE,iBAA9C,CAAP,CAA0E,CAA7J,CAAP,CACH,CAvBD,CAwBAhB,oBAAoBplB,SAApB,CAA8BmmB,iBAA9B,CAAkD,SAAUG,UAAV,CAAsB,CACpE,GAAIziB,OAAQ,IAAZ,CACA,GAAI8V,SAAJ,CACA,GAAIC,YAAJ,CACA,GAAI0M,WAAW3M,QAAX,EAAuB,IAA3B,CAAiC,CAC7BA,SAAW2M,WAAW3M,QAAtB,CACAC,YAAc0M,WAAWjN,SAAzB,CACH,CAHD,IAIK,CACDO,YAAc,KAAK0L,YAAL,CAAkB7B,OAAlB,CAA0B6C,WAAWjN,SAArC,CAAgDiN,WAAW1M,WAA3D,CAAd,CACAD,SAAW,KAAKqM,MAAL,CAAYpM,WAAZ,CAAX,CACH,CACD,MAAOlK,WAAUG,IAAV,CAAe8J,QAAf,CAAyB,SAAUA,QAAV,CAAoB,CAAE,MAAO9V,OAAM0iB,uBAAN,CAA8BD,UAA9B,CAA0C3M,QAA1C,CAAoDC,WAApD,CAAP,CAA0E,CAAzH,CAAP,CACH,CAbD,CAcAwL,oBAAoBplB,SAApB,CAA8BumB,uBAA9B,CAAwD,SAAUL,WAAV,CAAuBvM,QAAvB,CAAiC6M,cAAjC,CAAiD,CACrG,GAAItM,UAAW,CAAC,CAACgM,YAAYvM,QAA7B,CACA,GAAI8M,qBAAsBjE,oBAAoBC,SAApB,CAA8ByD,YAAYjM,aAA1C,CAA1B,CACA,GAAIyM,oBAAqB,KAAKnB,WAAL,CAAiBngB,KAAjB,CAAuBuU,QAAvB,CAAiCoF,kBAAkB,CAAExG,UAAW2N,YAAYlH,YAAzB,CAAlB,CAA2D,CAAErN,KAAM,CAAE4G,UAAW2N,YAAYnI,aAAzB,CAAR,CAA3D,CAA+G,CAAE7D,SAAUA,QAAZ,CAAsBN,YAAa4M,cAAnC,CAA/G,CAAjC,CAAsM,IAAtM,CAA4MC,mBAA5M,CAAzB,CACA,GAAIC,mBAAmBC,MAAnB,CAA0BlmB,MAA1B,CAAmC,CAAvC,CAA0C,CACtC,GAAImmB,aAAcF,mBAAmBC,MAAnB,CAA0BpgB,IAA1B,CAA+B,IAA/B,CAAlB,CACA,KAAM6J,aAAY,2BAA6BwW,WAAzC,CAAN,CACH,CACD,GAAIC,wBAAyB,KAAKC,oBAAL,CAA0B,GAAI1N,0BAAJ,CAA8B,CAAEE,OAAQ4M,YAAY5M,MAAtB,CAA8BD,UAAW6M,YAAY7M,SAArD,CAA9B,CAA1B,CAA7B,CACA,GAAI1K,SAAU,GAAIoY,wBAAJ,EAAd,CACAxF,SAAS5S,OAAT,CAAkB+X,mBAAmBM,SAArC,EACA,GAAIC,gBAAiB,KAAKH,oBAAL,CAA0B,GAAI1N,0BAAJ,CAA8B,CAAEE,OAAQ3K,QAAQ2K,MAAlB,CAA0BC,UAAW5K,QAAQ4K,SAA7C,CAAwDF,UAAWmN,cAAnE,CAA9B,CAA1B,CAArB,CACA,GAAIlN,QAASuN,uBAAuBvN,MAAvB,CAA8B3X,MAA9B,CAAqCslB,eAAe3N,MAApD,CAAb,CACA,GAAI4N,iBAAkBL,uBAAuBtN,SAAvB,CAAiC5X,MAAjC,CAAwCslB,eAAe1N,SAAvD,CAAtB,CACA,GAAIA,WAAY,KACXuN,oBADW,CACU,GAAI1N,0BAAJ,CAA8B,CAAEG,UAAW2M,YAAY3M,SAAzB,CAAoCF,UAAW6M,YAAY7M,SAA3D,CAA9B,CADV,EAEXE,SAFL,CAGA,MAAO,CACHI,SAAUA,QADP,CAEHC,YAAa4M,cAFV,CAE0BtM,SAAUA,QAFpC,CAGHL,QAAS6M,kBAHN,CAG0BpN,OAAQA,MAHlC,CAG0C4N,gBAAiBA,eAH3D,CAG4E3N,UAAWA,SAHvF,CAIHS,mBAAoBrL,QAAQqL,kBAJzB,CAAP,CAMH,CAvBD,CAwBAoL,oBAAoBplB,SAApB,CAA8BqmB,0BAA9B,CAA2D,SAAUH,WAAV,CAAuBE,iBAAvB,CAA0C,CACjG,GAAIviB,OAAQ,IAAZ,CACA,MAAO6L,WAAUG,IAAV,CAAe,KAAKsX,+BAAL,CAAqCf,kBAAkB7M,SAAlB,CAA4B5X,MAA5B,CAAmCykB,kBAAkBc,eAArD,CAArC,CAAf,CAA4H,SAAUpN,mBAAV,CAA+B,CAAE,MAAOjW,OAAMujB,gCAAN,CAAuClB,WAAvC,CAAoDE,iBAApD,CAAuEtM,mBAAvE,CAAP,CAAqG,CAAlQ,CAAP,CACH,CAHD,CAIAsL,oBAAoBplB,SAApB,CAA8BonB,gCAA9B,CAAiE,SAAUlB,WAAV,CAAuBE,iBAAvB,CAA0CiB,WAA1C,CAAuD,CACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIxjB,OAAQ,IAAZ,CACA,GAAIyV,QAAS5X,SAAS0kB,kBAAkB9M,MAA3B,CAAb,CACA,KAAKgO,aAAL,CAAmBlB,kBAAkBc,eAArC,CAAsDG,WAAtD,CAAmE/N,MAAnE,EACA,GAAIC,WAAY6M,kBAAkB7M,SAAlC,CACA,GAAIO,qBAAsBP,UAAUxQ,GAAV,CAAc,SAAUwe,QAAV,CAAoB,CACxD,GAAIxB,YAAasB,YAAY1e,GAAZ,CAAgB4e,QAAhB,CAAjB,CACA,GAAIjO,QAAS5X,SAASqkB,WAAWzM,MAApB,CAAb,CACAzV,MAAMyjB,aAAN,CAAoBvB,WAAWxM,SAA/B,CAA0C8N,WAA1C,CAAuD/N,MAAvD,EACA,MAAO,IAAIF,0BAAJ,CAA8B,CAAEC,UAAWkO,QAAb,CAAuBjO,OAAQA,MAA/B,CAA9B,CAAP,CACH,CALyB,CAA1B,CAMA,GAAII,eAAgBwM,YAAYxM,aAAhC,CACA,GAAIA,eAAiB,IAArB,CAA2B,CACvBA,cAAgB,KAAK8L,OAAL,CAAazO,oBAA7B,CACH,CACD,GAAI2C,gBAAkBzO,kBAAkB+L,QAApC,EAAgDsC,OAAO7Y,MAAP,GAAkB,CAAlE,EACA8Y,UAAU9Y,MAAV,GAAqB,CADzB,CAC4B,CACxBiZ,cAAgBzO,kBAAkBuc,IAAlC,CACH,CACD,MAAO,IAAI/N,wBAAJ,CAA4B,CAC/BC,cAAeA,aADgB,CAE/BC,SAAUyM,kBAAkBzM,QAFG,CAG/BC,YAAawM,kBAAkBxM,WAHA,CAI/BC,QAASuM,kBAAkBvM,OAJI,CAIKP,OAAQA,MAJb,CAIqBC,UAAWA,SAJhC,CAK/BS,mBAAoBoM,kBAAkBpM,kBALP,CAM/BD,WAAYmM,YAAYnM,UANO,CAO/BE,cAAeiM,YAAYjM,aAPI,CAQ/BC,SAAUkM,kBAAkBlM,QARG,CAQOJ,oBAAqBA,mBAR5B,CAS/B1C,oBAAqBE,2BAA2B4O,YAAY9O,mBAAvC,CAA4D,KAAKoO,OAAL,CAAapO,mBAAzE,CATU,CAA5B,CAAP,CAWH,CArCD,CAsCAgO,oBAAoBplB,SAApB,CAA8BsnB,aAA9B,CAA8C,SAAU/N,SAAV,CAAqB8N,WAArB,CAAkCI,YAAlC,CAAgD,CAC1F,GAAI5jB,OAAQ,IAAZ,CACA0V,UAAUxV,OAAV,CAAkB,SAAUwjB,QAAV,CAAoB,CAClC,GAAIxB,YAAasB,YAAY1e,GAAZ,CAAgB4e,QAAhB,CAAjB,CACAxB,WAAWzM,MAAX,CAAkBvV,OAAlB,CAA0B,SAAU8e,KAAV,CAAiB,CAAE,MAAO4E,cAAajmB,IAAb,CAAkBqhB,KAAlB,CAAP,CAAkC,CAA/E,EACAhf,MAAMyjB,aAAN,CAAoBvB,WAAWxM,SAA/B,CAA0C8N,WAA1C,CAAuDI,YAAvD,EACH,CAJD,EAKH,CAPD,CAQArC,oBAAoBplB,SAApB,CAA8BmnB,+BAA9B,CAAgE,SAAU5N,SAAV,CAAqBmO,iBAArB,CAAwC,CACpG,GAAI7jB,OAAQ,IAAZ,CACA,GAAI6jB,oBAAsB,IAAK,EAA/B,CAAkC,CAAEA,kBAAoB,GAAIxgB,IAAJ,EAApB,CAAgC,CACpE,MAAOwI,WAAUG,IAAV,CAAeH,UAAUK,GAAV,CAAcwJ,UAAUoO,MAAV,CAAiB,SAAUJ,QAAV,CAAoB,CAAE,MAAO,CAACG,kBAAkBnK,GAAlB,CAAsBgK,QAAtB,CAAR,CAA0C,CAAjF,EAC/Bxe,GAD+B,CAC3B,SAAUwe,QAAV,CAAoB,CAAE,MAAO7X,WAAUG,IAAV,CAAehM,MAAMmiB,MAAN,CAAauB,QAAb,CAAf,CAAuC,SAAUK,WAAV,CAAuB,CAChG,GAAI7B,YAAaliB,MAAMijB,oBAAN,CAA2B,GAAI1N,0BAAJ,CAA8B,CAAEE,OAAQ,CAACsO,WAAD,CAAV,CAAyBvO,UAAWkO,QAApC,CAA9B,CAA3B,CAAjB,CACAG,kBAAkB9e,GAAlB,CAAsB2e,QAAtB,CAAgCxB,UAAhC,EACA,MAAOliB,OAAMsjB,+BAAN,CAAsCpB,WAAWxM,SAAjD,CAA4DmO,iBAA5D,CAAP,CACH,CAJqC,CAAP,CAI1B,CAL+B,CAAd,CAAf,CAKE,SAAUG,CAAV,CAAa,CAAE,MAAOH,kBAAP,CAA2B,CAL5C,CAAP,CAMH,CATD,CAUAtC,oBAAoBplB,SAApB,CAA8B8mB,oBAA9B,CAAqD,SAAUf,UAAV,CAAsB,CACvE,GAAIliB,OAAQ,IAAZ,CACA,GAAIwV,WAAY0M,WAAW1M,SAA3B,CACA,GAAIyO,cAAe/B,WAAWxM,SAAX,CAAqBoO,MAArB,CAA4B7E,oBAA5B,EACd/Z,GADc,CACV,SAAU+V,GAAV,CAAe,CAAE,MAAOjb,OAAMyhB,YAAN,CAAmB7B,OAAnB,CAA2BpK,SAA3B,CAAsCyF,GAAtC,CAAP,CAAoD,CAD3D,CAAnB,CAEA,GAAIiJ,WAAYhC,WAAWzM,MAAX,CAAkBvQ,GAAlB,CAAsB,SAAU8Z,KAAV,CAAiB,CACnD,GAAImF,kBAAmB/E,iBAAiBpf,MAAMyhB,YAAvB,CAAqCjM,SAArC,CAAgDwJ,KAAhD,CAAvB,CACAiF,aAAatmB,IAAb,CAAkBb,KAAlB,CAAwBmnB,YAAxB,CAAsCpmB,SAASsmB,iBAAiBzO,SAA1B,CAAtC,EACA,MAAOyO,kBAAiBnF,KAAxB,CACH,CAJe,CAAhB,CAKA,MAAO,IAAIzJ,0BAAJ,CAA8B,CAAEE,OAAQyO,SAAV,CAAqBxO,UAAWuO,YAAhC,CAA8CzO,UAAWA,SAAzD,CAA9B,CAAP,CACH,CAXD,CAYA,MAAO+L,oBAAP,CACH,CAjKwC,EAAzC,CAkKA,GAAI2B,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,EAAmC,CAC/B,KAAK/M,kBAAL,CAA0B,EAA1B,CACA,KAAKV,MAAL,CAAc,EAAd,CACA,KAAKC,SAAL,CAAiB,EAAjB,CACA,KAAK0O,uBAAL,CAA+B,CAA/B,CACH,CACDlB,wBAAwB/mB,SAAxB,CAAkC+U,YAAlC,CAAiD,SAAUwB,GAAV,CAAe3H,OAAf,CAAwB,CACrE,GAAIsZ,kBAAmB/D,gBAAgB5N,GAAhB,CAAvB,CACA,OAAQ2R,iBAAiBvW,IAAzB,EACI,IAAKkT,sBAAqBE,UAA1B,CACI,GAAI,KAAKkD,uBAAL,GAAiC,CAArC,CAAwC,CACpC,KAAKjO,kBAAL,CAAwBxY,IAAxB,CAA6B0mB,iBAAiB9D,UAA9C,EACH,CACD,MACJ,IAAKS,sBAAqBG,KAA1B,CACI,GAAImD,eAAgB,EAApB,CACA5R,IAAI1B,QAAJ,CAAa9Q,OAAb,CAAqB,SAAUqkB,KAAV,CAAiB,CAClC,GAAIA,gBAAiB/H,KAArB,CAA2B,CACvB8H,eAAiBC,MAAMlnB,KAAvB,CACH,CACJ,CAJD,EAKA,KAAKoY,MAAL,CAAY9X,IAAZ,CAAiB2mB,aAAjB,EACA,MACJ,IAAKtD,sBAAqBK,UAA1B,CACI,KAAK3L,SAAL,CAAe/X,IAAf,CAAoB0mB,iBAAiB7D,QAArC,EACA,MACJ,QACI,MAnBR,CAqBA,GAAI6D,iBAAiB3D,WAArB,CAAkC,CAC9B,KAAK0D,uBAAL,GACH,CACD1G,SAAS,IAAT,CAAehL,IAAI1B,QAAnB,EACA,GAAIqT,iBAAiB3D,WAArB,CAAkC,CAC9B,KAAK0D,uBAAL,GACH,CACD,MAAO,KAAP,CACH,CA/BD,CAgCAlB,wBAAwB/mB,SAAxB,CAAkC0gB,cAAlC,CAAmD,SAAUnK,GAAV,CAAe3H,OAAf,CAAwB,CAAE2S,SAAS,IAAT,CAAehL,IAAIiK,KAAnB,EAA4B,CAAzG,CACAuG,wBAAwB/mB,SAAxB,CAAkC+gB,kBAAlC,CAAuD,SAAUxK,GAAV,CAAe3H,OAAf,CAAwB,CAC3E2S,SAAS,IAAT,CAAehL,IAAIqK,UAAnB,EACH,CAFD,CAGAmG,wBAAwB/mB,SAAxB,CAAkCshB,YAAlC,CAAiD,SAAU/K,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,KAAP,CAAc,CAAzF,CACAmY,wBAAwB/mB,SAAxB,CAAkCkhB,cAAlC,CAAmD,SAAU3K,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,KAAP,CAAc,CAA3F,CACAmY,wBAAwB/mB,SAAxB,CAAkCwS,SAAlC,CAA8C,SAAU+D,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,KAAP,CAAc,CAAtF,CACA,MAAOmY,wBAAP,CACH,CA/C4C,EAA7C,CAiDA;;;;;;OAOA,GAAIsB,4BAA6B,CAC7Bvd,eAD6B,CAE7BD,kBAF6B,CAG7BD,kBAH6B,CAI7BL,qBAJ6B,CAAjC,CAMA;;;;;;OAOA,GAAI+d,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BC,UAA3B,CAAuC,CACnC,KAAKA,UAAL,CAAkBA,UAAlB,CACH,CACDD,kBAAkBtoB,SAAlB,CAA4BwoB,WAA5B,CAA0C,SAAU7W,IAAV,CAAgB,CACtD,GAAI8W,cAAe,KAAKF,UAAL,CAAgBG,WAAhB,CAA4BhX,kBAAkBC,IAAlB,CAA5B,CAAnB,CACA,MAAO8W,eAAgBA,aAAaxY,IAAb,CAAkB0Y,mBAAlB,CAAvB,CACH,CAHD,CAIAL,kBAAkBtoB,SAAlB,CAA4ByjB,OAA5B,CAAsC,SAAU9R,IAAV,CAAgBiX,eAAhB,CAAiC,CACnE,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAIH,cAAe,KAAKF,UAAL,CAAgBG,WAAhB,CAA4BhX,kBAAkBC,IAAlB,CAA5B,CAAnB,CACA,GAAI8W,YAAJ,CAAkB,CACd,GAAII,UAAWC,SAASL,YAAT,CAAuBE,mBAAvB,CAAf,CACA,GAAIE,QAAJ,CAAc,CACV,GAAIE,kBAAmB,KAAKR,UAAL,CAAgBS,YAAhB,CAA6BrX,IAA7B,CAAvB,CACA,GAAIkJ,QAAS,KAAK0N,UAAL,CAAgB1N,MAAhB,CAAuBlJ,IAAvB,CAAb,CACA,MAAO,MAAKsX,0BAAL,CAAgCJ,QAAhC,CAA0CE,gBAA1C,CAA4DlO,MAA5D,CAAoElJ,IAApE,CAAP,CACH,CACJ,CACD,GAAIiX,eAAJ,CAAqB,CACjB,KAAM,IAAI3mB,MAAJ,CAAU,oCAAsCqP,UAAUK,IAAV,CAAhD,CAAN,CACH,CACD,MAAO,KAAP,CACH,CAfD,CAgBA2W,kBAAkBtoB,SAAlB,CAA4BipB,0BAA5B,CAAyD,SAAUC,EAAV,CAAcH,gBAAd,CAAgClO,MAAhC,CAAwCsO,aAAxC,CAAuD,CAC5G,GAAI7U,QAAS,EAAb,CACA,GAAIC,SAAU,EAAd,CACA,GAAI4G,MAAO,EAAX,CACA,GAAIP,SAAU,EAAd,CACArb,OAAOiQ,IAAP,CAAYuZ,gBAAZ,EAA8BhlB,OAA9B,CAAsC,SAAUqlB,QAAV,CAAoB,CACtD,GAAIpb,OAAQ8a,SAASC,iBAAiBK,QAAjB,CAAT,CAAqC,SAAUC,CAAV,CAAa,CAAE,MAAO5d,aAAY0B,QAAZ,CAAqBkc,CAArB,CAAP,CAAiC,CAArF,CAAZ,CACA,GAAIrb,KAAJ,CAAW,CACP,GAAIA,MAAMtC,mBAAV,CAA+B,CAC3B4I,OAAO9S,IAAP,CAAY4nB,SAAW,IAAX,CAAkBpb,MAAMtC,mBAApC,EACH,CAFD,IAGK,CACD4I,OAAO9S,IAAP,CAAY4nB,QAAZ,EACH,CACJ,CACD,GAAIE,QAASR,SAASC,iBAAiBK,QAAjB,CAAT,CAAqC,SAAUC,CAAV,CAAa,CAAE,MAAO1d,cAAawB,QAAb,CAAsBkc,CAAtB,CAAP,CAAkC,CAAtF,CAAb,CACA,GAAIC,MAAJ,CAAY,CACR,GAAIA,OAAO5d,mBAAX,CAAgC,CAC5B6I,QAAQ/S,IAAR,CAAa4nB,SAAW,IAAX,CAAkBE,OAAO5d,mBAAtC,EACH,CAFD,IAGK,CACD6I,QAAQ/S,IAAR,CAAa4nB,QAAb,EACH,CACJ,CACD,GAAIG,cAAeR,iBAAiBK,QAAjB,EAA2BzB,MAA3B,CAAkC,SAAU0B,CAAV,CAAa,CAAE,MAAOzd,mBAAkBuB,QAAlB,CAA2Bkc,CAA3B,CAAP,CAAuC,CAAxF,CAAnB,CACAE,aAAaxlB,OAAb,CAAqB,SAAUylB,WAAV,CAAuB,CACxC,GAAIA,YAAY3d,gBAAhB,CAAkC,CAC9B,GAAI4d,WAAYD,YAAY3d,gBAAZ,CAA6B,CAA7B,CAAhB,CACA,GAAI4d,YAAc,GAAlB,CAAuB,CACnB,KAAM,IAAIxnB,MAAJ,CAAU,iEAAV,CAAN,CACH,CAFD,IAGK,IAAIwnB,YAAc,GAAlB,CAAuB,CACxB,KAAM,IAAIxnB,MAAJ,CAAU,qFAAV,CAAN,CACH,CACDkZ,KAAK,IAAMqO,YAAY3d,gBAAlB,CAAqC,GAA1C,EAAiDud,QAAjD,CACH,CATD,IAUK,CACDjO,KAAK,IAAMiO,QAAN,CAAiB,GAAtB,EAA6BA,QAA7B,CACH,CACJ,CAdD,EAeA,GAAI3O,eAAgBsO,iBAAiBK,QAAjB,EAA2BzB,MAA3B,CAAkC,SAAU0B,CAAV,CAAa,CAAE,MAAOvd,oBAAmBqB,QAAnB,CAA4Bkc,CAA5B,CAAP,CAAwC,CAAzF,CAApB,CACA5O,cAAc1W,OAAd,CAAsB,SAAU2lB,YAAV,CAAwB,CAC1C,GAAI1d,MAAO0d,aAAa1d,IAAb,EAAqB,EAAhC,CACAmP,KAAK,IAAMuO,aAAa3d,SAAnB,CAA+B,GAApC,EAA2Cqd,SAAW,GAAX,CAAiBpd,KAAKzF,IAAL,CAAU,GAAV,CAAjB,CAAkC,GAA7E,CACH,CAHD,EAIA,GAAIojB,OAAQb,SAASC,iBAAiBK,QAAjB,CAAT,CAAqC,SAAUC,CAAV,CAAa,CAAE,MAAOhB,4BAA2BpY,IAA3B,CAAgC,SAAU3P,CAAV,CAAa,CAAE,MAAOA,GAAE6M,QAAF,CAAWkc,CAAX,CAAP,CAAuB,CAAtE,CAAP,CAAiF,CAArI,CAAZ,CACA,GAAIM,KAAJ,CAAW,CACP/O,QAAQwO,QAAR,EAAoBO,KAApB,CACH,CACJ,CA5CD,EA6CA,MAAO,MAAKC,MAAL,CAAYV,EAAZ,CAAgB5U,MAAhB,CAAwBC,OAAxB,CAAiC4G,IAAjC,CAAuCP,OAAvC,CAAgDC,MAAhD,CAAwDsO,aAAxD,CAAP,CACH,CAnDD,CAoDAb,kBAAkBtoB,SAAlB,CAA4B6pB,kBAA5B,CAAiD,SAAUC,GAAV,CAAe,CAAE,MAAO3b,cAAa2b,GAAb,CAAkB,CAAC,IAAD,CAAOA,GAAP,CAAlB,EAA+B,CAA/B,EAAkCrb,IAAlC,EAAP,CAAkD,CAApH,CACA6Z,kBAAkBtoB,SAAlB,CAA4B+pB,eAA5B,CAA8C,SAAUC,QAAV,CAAoB,CAC9D,GAAIC,OAAQ,GAAIpN,IAAJ,EAAZ,CACA,GAAIqN,aAAc,GAAIrN,IAAJ,EAAlB,CACA,GAAIsN,gBAAiB,EAArB,CACA;AACA,IAAK,GAAI7pB,GAAI0pB,SAASvpB,MAAT,CAAkB,CAA/B,CAAkCH,GAAK,CAAvC,CAA0CA,GAA1C,CAA+C,CAC3C,GAAI8pB,SAAUJ,SAAS1pB,CAAT,CAAd,CACA,GAAIwG,QAAS,KAAK+iB,kBAAL,CAAwBO,OAAxB,CAAb,CACAF,YAAY1M,GAAZ,CAAgB1W,MAAhB,EACA,GAAI,CAACmjB,MAAM1M,GAAN,CAAUzW,MAAV,CAAL,CAAwB,CACpBmjB,MAAMzM,GAAN,CAAU1W,MAAV,EACAqjB,eAAe3oB,IAAf,CAAoB4oB,OAApB,EACH,CACJ,CACD,MAAOD,gBAAeE,OAAf,EAAP,CACH,CAfD,CAgBA/B,kBAAkBtoB,SAAlB,CAA4B4pB,MAA5B,CAAqC,SAAUpU,SAAV,CAAqBlB,MAArB,CAA6BC,OAA7B,CAAsC4G,IAAtC,CAA4CP,OAA5C,CAAqDC,MAArD,CAA6DsO,aAA7D,CAA4E,CAC7G,GAAImB,cAAe,KAAKP,eAAL,CAAqBvU,UAAUlB,MAAV,CAAmBkB,UAAUlB,MAAV,CAAiB3S,MAAjB,CAAwB2S,MAAxB,CAAnB,CAAqDA,MAA1E,CAAnB,CACA,GAAIiW,eAAgB,KAAKR,eAAL,CAAqBvU,UAAUjB,OAAV,CAAoBiB,UAAUjB,OAAV,CAAkB5S,MAAlB,CAAyB4S,OAAzB,CAApB,CAAwDA,OAA7E,CAApB,CACA,GAAIiW,YAAahV,UAAU2F,IAAV,CAAiBjb,SAAS,EAAT,CAAasV,UAAU2F,IAAvB,CAA6BA,IAA7B,CAAjB,CAAsDA,IAAvE,CACA,GAAIsP,eAAgBjV,UAAUoF,OAAV,CAAoB1a,SAAS,EAAT,CAAasV,UAAUoF,OAAvB,CAAgCA,OAAhC,CAApB,CAA+DA,OAAnF,CACA,GAAIzP,gBAAgBgC,QAAhB,CAAyBqI,SAAzB,CAAJ,CAAyC,CACrC,GAAIkV,MAAOlV,SAAX,CACA,MAAOrK,iBAAgB,CACnB9F,SAAUqlB,KAAKrlB,QADI,CAEnBiP,OAAQgW,YAFW,CAGnB/V,QAASgW,aAHU,CAInBpP,KAAMqP,UAJa,CAKnBhQ,SAAUkQ,KAAKlQ,QALI,CAMnBmQ,SAAUD,KAAKC,QANI,CAOnB/P,QAAS6P,aAPU,CAQnBpf,gBAAiBqf,KAAKrf,eARH,CASnBqJ,UAAWgW,KAAKhW,SATG,CAUnBiG,cAAe+P,KAAK/P,aAVD,CAWnBI,gBAAiB2P,KAAK3P,eAXH,CAYnBpB,SAAU+Q,KAAK/Q,QAZI,CAanBC,YAAa8Q,KAAK9Q,WAbC,CAcnBN,OAAQoR,KAAKpR,MAdM,CAenBC,UAAWmR,KAAKnR,SAfG,CAgBnBG,cAAegR,KAAKhR,aAhBD,CAiBnBK,WAAY2Q,KAAK3Q,UAjBE,CAkBnBE,cAAeyQ,KAAKzQ,aAlBD,CAmBnB7C,oBAAqB5B,UAAU4B,mBAnBZ,CAAhB,CAAP,CAqBH,CAvBD,IAwBK,CACD,MAAOrM,iBAAgB,CACnB1F,SAAUmQ,UAAUnQ,QADD,CAEnBiP,OAAQgW,YAFW,CAGnB/V,QAASgW,aAHU,CAInBpP,KAAMqP,UAJa,CAKnBhQ,SAAUhF,UAAUgF,QALD,CAMnBI,QAAS6P,aANU,CAOnB/V,UAAWc,UAAUd,SAPF,CAOamG,OAAQA,MAPrB,CAAhB,CAAP,CASH,CACJ,CAxCD,CAyCA,MAAOyN,kBAAP,CACH,CAvIsC,EAAvC,CAwIA,QAASK,oBAAT,CAA6BhX,IAA7B,CAAmC,CAC/B,MAAO5G,iBAAgBoC,QAAhB,CAAyBwE,IAAzB,GAAkCxG,gBAAgBgC,QAAhB,CAAyBwE,IAAzB,CAAzC,CACH,CACD,QAASmX,SAAT,CAAkBvZ,GAAlB,CAAuBqb,SAAvB,CAAkC,CAC9B,IAAK,GAAItqB,GAAIiP,IAAI9O,MAAJ,CAAa,CAA1B,CAA6BH,GAAK,CAAlC,CAAqCA,GAArC,CAA0C,CACtC,GAAIsqB,UAAUrb,IAAIjP,CAAJ,CAAV,CAAJ,CAAuB,CACnB,MAAOiP,KAAIjP,CAAJ,CAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CAED;;;;;;OAOA,GAAIuqB,MAAO,CAAX,CACA,GAAIC,MAAO,CAAX,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,OAAQ,EAAZ,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,OAAQ,EAAZ,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,OAAQ,EAAZ,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,UAAW,EAAf,CACA,GAAIC,YAAa,EAAjB,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,SAAU,EAAd,CACA,GAAIC,SAAU,EAAd,CACA,GAAIC,OAAQ,EAAZ,CACA,GAAIC,OAAQ,EAAZ,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,SAAU,EAAd,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,YAAa,EAAjB,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,KAAM,EAAV,CACA,GAAIC,WAAY,EAAhB,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,WAAY,EAAhB,CACA,GAAIC,YAAa,EAAjB,CACA,GAAIC,WAAY,EAAhB,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,EAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,IAAK,GAAT,CACA,GAAIC,SAAU,GAAd,CACA,GAAIC,MAAO,GAAX,CACA,GAAIC,SAAU,GAAd,CACA,GAAIC,OAAQ,GAAZ,CACA,GAAIC,KAAM,EAAV,CACA,QAASC,aAAT,CAAsBC,IAAtB,CAA4B,CACxB,MAAQA,OAAQvD,IAAR,EAAgBuD,MAAQlD,MAAzB,EAAqCkD,MAAQH,KAApD,CACH,CACD,QAASI,QAAT,CAAiBD,IAAjB,CAAuB,CACnB,MAAO5B,KAAM4B,IAAN,EAAcA,MAAQ3B,EAA7B,CACH,CACD,QAAS6B,cAAT,CAAuBF,IAAvB,CAA6B,CACzB,MAAOA,OAAQhB,EAAR,EAAcgB,MAAQP,EAAtB,EAA4BO,MAAQ1B,EAAR,EAAc0B,MAAQtB,EAAzD,CACH,CACD,QAASyB,gBAAT,CAAyBH,IAAzB,CAA+B,CAC3B,MAAOA,OAAQhB,EAAR,EAAcgB,MAAQd,EAAtB,EAA4Bc,MAAQ1B,EAAR,EAAc0B,MAAQxB,EAAlD,EAAwDyB,QAAQD,IAAR,CAA/D,CACH,CAED;;;;;;OAOA,CAAC,SAAUI,SAAV,CAAqB,CAClBA,UAAUA,UAAU,WAAV,EAAyB,CAAnC,EAAwC,WAAxC,CACAA,UAAUA,UAAU,YAAV,EAA0B,CAApC,EAAyC,YAAzC,CACAA,UAAUA,UAAU,SAAV,EAAuB,CAAjC,EAAsC,SAAtC,CACAA,UAAUA,UAAU,QAAV,EAAsB,CAAhC,EAAqC,QAArC,CACAA,UAAUA,UAAU,UAAV,EAAwB,CAAlC,EAAuC,UAAvC,CACAA,UAAUA,UAAU,QAAV,EAAsB,CAAhC,EAAqC,QAArC,CACAA,UAAUA,UAAU,OAAV,EAAqB,CAA/B,EAAoC,OAApC,CACH,CARD,EAQG3vB,QAAQ2vB,SAAR,GAAsB3vB,QAAQ2vB,SAAR,CAAoB,EAA1C,CARH,EASA,GAAIC,UAAW,CAAC,KAAD,CAAQ,KAAR,CAAe,IAAf,CAAqB,MAArB,CAA6B,WAA7B,CAA0C,MAA1C,CAAkD,OAAlD,CAA2D,IAA3D,CAAiE,MAAjE,CAAyE,MAAzE,CAAf,CACA,GAAIC,OAAQ,aAAe,UAAY,CACnC,QAASA,MAAT,EAAiB,CAChB,CACDA,MAAM3uB,SAAN,CAAgB4uB,QAAhB,CAA2B,SAAUC,IAAV,CAAgB,CACvC,GAAIC,SAAU,GAAIC,SAAJ,CAAaF,IAAb,CAAd,CACA,GAAIG,QAAS,EAAb,CACA,GAAIjlB,OAAQ+kB,QAAQG,SAAR,EAAZ,CACA,MAAOllB,OAAS,IAAhB,CAAsB,CAClBilB,OAAOxtB,IAAP,CAAYuI,KAAZ,EACAA,MAAQ+kB,QAAQG,SAAR,EAAR,CACH,CACD,MAAOD,OAAP,CACH,CATD,CAUA,MAAOL,MAAP,CACH,CAd0B,EAA3B,CAeA,GAAIO,OAAQ,aAAe,UAAY,CACnC,QAASA,MAAT,CAAele,KAAf,CAAsBW,IAAtB,CAA4Bwd,QAA5B,CAAsCC,QAAtC,CAAgD,CAC5C,KAAKpe,KAAL,CAAaA,KAAb,CACA,KAAKW,IAAL,CAAYA,IAAZ,CACA,KAAKwd,QAAL,CAAgBA,QAAhB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACH,CACDF,MAAMlvB,SAAN,CAAgBqvB,WAAhB,CAA8B,SAAUhB,IAAV,CAAgB,CAC1C,MAAO,MAAK1c,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBa,SAA/B,EAA4C,KAAKH,QAAL,EAAiBd,IAApE,CACH,CAFD,CAGAa,MAAMlvB,SAAN,CAAgBuvB,QAAhB,CAA2B,UAAY,CAAE,MAAO,MAAK5d,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBe,MAAtC,CAA+C,CAAxF,CACAN,MAAMlvB,SAAN,CAAgByvB,QAAhB,CAA2B,UAAY,CAAE,MAAO,MAAK9d,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBrd,MAAtC,CAA+C,CAAxF,CACA8d,MAAMlvB,SAAN,CAAgB0vB,UAAhB,CAA6B,SAAUC,QAAV,CAAoB,CAC7C,MAAO,MAAKhe,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBmB,QAA/B,EAA2C,KAAKR,QAAL,EAAiBO,QAAnE,CACH,CAFD,CAGAT,MAAMlvB,SAAN,CAAgB6vB,YAAhB,CAA+B,UAAY,CAAE,MAAO,MAAKle,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBqB,UAAtC,CAAmD,CAAhG,CACAZ,MAAMlvB,SAAN,CAAgB+vB,SAAhB,CAA4B,UAAY,CAAE,MAAO,MAAKpe,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAAtC,CAAgD,CAA1F,CACAd,MAAMlvB,SAAN,CAAgBiwB,YAAhB,CAA+B,UAAY,CAAE,MAAO,MAAKte,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,KAAlE,CAA0E,CAAvH,CACAF,MAAMlvB,SAAN,CAAgBkwB,WAAhB,CAA8B,UAAY,CAAE,MAAO,MAAKve,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,IAAlE,CAAyE,CAArH,CACAF,MAAMlvB,SAAN,CAAgBmwB,aAAhB,CAAgC,UAAY,CAAE,MAAO,MAAKxe,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,MAAlE,CAA2E,CAAzH,CACAF,MAAMlvB,SAAN,CAAgBowB,kBAAhB,CAAqC,UAAY,CAC7C,MAAO,MAAKze,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,WAAlE,CACH,CAFD,CAGAF,MAAMlvB,SAAN,CAAgBqwB,aAAhB,CAAgC,UAAY,CAAE,MAAO,MAAK1e,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,MAAlE,CAA2E,CAAzH,CACAF,MAAMlvB,SAAN,CAAgBswB,cAAhB,CAAiC,UAAY,CAAE,MAAO,MAAK3e,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,OAAlE,CAA4E,CAA3H,CACAF,MAAMlvB,SAAN,CAAgBuwB,aAAhB,CAAgC,UAAY,CAAE,MAAO,MAAK5e,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBuB,OAA/B,EAA0C,KAAKZ,QAAL,EAAiB,MAAlE,CAA2E,CAAzH,CACAF,MAAMlvB,SAAN,CAAgBwwB,OAAhB,CAA0B,UAAY,CAAE,MAAO,MAAK7e,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBxsB,KAAtC,CAA8C,CAAtF,CACAitB,MAAMlvB,SAAN,CAAgBywB,QAAhB,CAA2B,UAAY,CAAE,MAAO,MAAK9e,IAAL,EAAa7S,QAAQ2vB,SAAR,CAAkBe,MAA/B,CAAwC,KAAKL,QAA7C,CAAwD,CAAC,CAAhE,CAAoE,CAA7G,CACAD,MAAMlvB,SAAN,CAAgB4G,QAAhB,CAA2B,UAAY,CACnC,OAAQ,KAAK+K,IAAb,EACI,IAAK7S,SAAQ2vB,SAAR,CAAkBa,SAAvB,CACA,IAAKxwB,SAAQ2vB,SAAR,CAAkBqB,UAAvB,CACA,IAAKhxB,SAAQ2vB,SAAR,CAAkBuB,OAAvB,CACA,IAAKlxB,SAAQ2vB,SAAR,CAAkBmB,QAAvB,CACA,IAAK9wB,SAAQ2vB,SAAR,CAAkBrd,MAAvB,CACA,IAAKtS,SAAQ2vB,SAAR,CAAkBxsB,KAAvB,CACI,MAAO,MAAKmtB,QAAZ,CACJ,IAAKtwB,SAAQ2vB,SAAR,CAAkBe,MAAvB,CACI,MAAO,MAAKL,QAAL,CAAcvoB,QAAd,EAAP,CACJ,QACI,MAAO,KAAP,CAXR,CAaH,CAdD,CAeA,MAAOsoB,MAAP,CACH,CA5C0B,EAA3B,CA6CA,QAASwB,kBAAT,CAA2B1f,KAA3B,CAAkCqd,IAAlC,CAAwC,CACpC,MAAO,IAAIa,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBa,SAAnC,CAA8CjB,IAA9C,CAAoDjd,OAAOC,YAAP,CAAoBgd,IAApB,CAApD,CAAP,CACH,CACD,QAASsC,mBAAT,CAA4B3f,KAA5B,CAAmC6d,IAAnC,CAAyC,CACrC,MAAO,IAAIK,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBqB,UAAnC,CAA+C,CAA/C,CAAkDjB,IAAlD,CAAP,CACH,CACD,QAAS+B,gBAAT,CAAyB5f,KAAzB,CAAgC6d,IAAhC,CAAsC,CAClC,MAAO,IAAIK,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBuB,OAAnC,CAA4C,CAA5C,CAA+CnB,IAA/C,CAAP,CACH,CACD,QAASgC,iBAAT,CAA0B7f,KAA1B,CAAiC6d,IAAjC,CAAuC,CACnC,MAAO,IAAIK,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBmB,QAAnC,CAA6C,CAA7C,CAAgDf,IAAhD,CAAP,CACH,CACD,QAASiC,eAAT,CAAwB9f,KAAxB,CAA+B6d,IAA/B,CAAqC,CACjC,MAAO,IAAIK,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBrd,MAAnC,CAA2C,CAA3C,CAA8Cyd,IAA9C,CAAP,CACH,CACD,QAASkC,eAAT,CAAwB/f,KAAxB,CAA+BzQ,CAA/B,CAAkC,CAC9B,MAAO,IAAI2uB,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBe,MAAnC,CAA2CjvB,CAA3C,CAA8C,EAA9C,CAAP,CACH,CACD,QAASywB,cAAT,CAAuBhgB,KAAvB,CAA8BigB,OAA9B,CAAuC,CACnC,MAAO,IAAI/B,MAAJ,CAAUle,KAAV,CAAiBlS,QAAQ2vB,SAAR,CAAkBxsB,KAAnC,CAA0C,CAA1C,CAA6CgvB,OAA7C,CAAP,CACH,CACD,GAAIC,KAAM,GAAIhC,MAAJ,CAAU,CAAC,CAAX,CAAcpwB,QAAQ2vB,SAAR,CAAkBa,SAAhC,CAA2C,CAA3C,CAA8C,EAA9C,CAAV,CACA,GAAIP,UAAW,aAAe,UAAY,CACtC,QAASA,SAAT,CAAkB/gB,KAAlB,CAAyB,CACrB,KAAKA,KAAL,CAAaA,KAAb,CACA,KAAKmjB,IAAL,CAAY,CAAZ,CACA,KAAKngB,KAAL,CAAa,CAAC,CAAd,CACA,KAAKvQ,MAAL,CAAcuN,MAAMvN,MAApB,CACA,KAAK2wB,OAAL,GACH,CACDrC,SAAS/uB,SAAT,CAAmBoxB,OAAnB,CAA6B,UAAY,CACrC,KAAKD,IAAL,CAAY,EAAE,KAAKngB,KAAP,EAAgB,KAAKvQ,MAArB,CAA8BoqB,IAA9B,CAAqC,KAAK7c,KAAL,CAAWkD,UAAX,CAAsB,KAAKF,KAA3B,CAAjD,CACH,CAFD,CAGA+d,SAAS/uB,SAAT,CAAmBivB,SAAnB,CAA+B,UAAY,CACvC,GAAIjhB,OAAQ,KAAKA,KAAjB,CAAwBvN,OAAS,KAAKA,MAAtC,CACA,GAAI0wB,MAAO,KAAKA,IAAhB,CAAsBngB,MAAQ,KAAKA,KAAnC,CACA;AACA,MAAOmgB,MAAQhG,MAAf,CAAuB,CACnB,GAAI,EAAEna,KAAF,EAAWvQ,MAAf,CAAuB,CACnB0wB,KAAOtG,IAAP,CACA,MACH,CAHD,IAIK,CACDsG,KAAOnjB,MAAMkD,UAAN,CAAiBF,KAAjB,CAAP,CACH,CACJ,CACD,KAAKmgB,IAAL,CAAYA,IAAZ,CACA,KAAKngB,KAAL,CAAaA,KAAb,CACA,GAAIA,OAASvQ,MAAb,CAAqB,CACjB,MAAO,KAAP,CACH,CACD;AACA,GAAI4wB,kBAAkBF,IAAlB,CAAJ,CACI,MAAO,MAAKG,cAAL,EAAP,CACJ,GAAIhD,QAAQ6C,IAAR,CAAJ,CACI,MAAO,MAAKI,UAAL,CAAgBvgB,KAAhB,CAAP,CACJ,GAAI2Q,OAAQ3Q,KAAZ,CACA,OAAQmgB,IAAR,EACI,IAAKlF,QAAL,CACI,KAAKmF,OAAL,GACA,MAAO9C,SAAQ,KAAK6C,IAAb,EAAqB,KAAKI,UAAL,CAAgB5P,KAAhB,CAArB,CACH+O,kBAAkB/O,KAAlB,CAAyBsK,OAAzB,CADJ,CAEJ,IAAKN,QAAL,CACA,IAAKC,QAAL,CACA,IAAKmC,QAAL,CACA,IAAKE,QAAL,CACA,IAAKjB,UAAL,CACA,IAAKE,UAAL,CACA,IAAKnB,OAAL,CACA,IAAKI,OAAL,CACA,IAAKC,WAAL,CACI,MAAO,MAAKoF,aAAL,CAAmB7P,KAAnB,CAA0BwP,IAA1B,CAAP,CACJ,IAAKzF,IAAL,CACA,IAAKL,IAAL,CACI,MAAO,MAAKoG,UAAL,EAAP,CACJ,IAAKnG,MAAL,CACA,IAAKQ,MAAL,CACA,IAAKE,OAAL,CACA,IAAKH,MAAL,CACA,IAAKK,OAAL,CACA,IAAKV,SAAL,CACA,IAAK2B,OAAL,CACI,MAAO,MAAKuE,YAAL,CAAkB/P,KAAlB,CAAyBvQ,OAAOC,YAAP,CAAoB8f,IAApB,CAAzB,CAAP,CACJ,IAAK3E,UAAL,CACI,MAAO,MAAKmF,mBAAL,CAAyBhQ,KAAzB,CAAgC,GAAhC,CAAqCsK,OAArC,CAA8C,GAA9C,CAAP,CACJ,IAAKI,IAAL,CACA,IAAKE,IAAL,CACI,MAAO,MAAKoF,mBAAL,CAAyBhQ,KAAzB,CAAgCvQ,OAAOC,YAAP,CAAoB8f,IAApB,CAAhC,CAA2D7E,GAA3D,CAAgE,GAAhE,CAAP,CACJ,IAAKlB,MAAL,CACA,IAAKkB,IAAL,CACI,MAAO,MAAKqF,mBAAL,CAAyBhQ,KAAzB,CAAgCvQ,OAAOC,YAAP,CAAoB8f,IAApB,CAAhC,CAA2D7E,GAA3D,CAAgE,GAAhE,CAAqEA,GAArE,CAA0E,GAA1E,CAAP,CACJ,IAAKb,WAAL,CACI,MAAO,MAAKkG,mBAAL,CAAyBhQ,KAAzB,CAAgC,GAAhC,CAAqC8J,UAArC,CAAiD,GAAjD,CAAP,CACJ,IAAKuC,KAAL,CACI,MAAO,MAAK2D,mBAAL,CAAyBhQ,KAAzB,CAAgC,GAAhC,CAAqCqM,IAArC,CAA2C,GAA3C,CAAP,CACJ,IAAKE,MAAL,CACI,MAAOE,aAAa,KAAK+C,IAAlB,CAAP,CACI,KAAKC,OAAL,GACJ,MAAO,MAAKnC,SAAL,EAAP,CAzCR,CA2CA,KAAKmC,OAAL,GACA,MAAO,MAAK3vB,KAAL,CAAW,yBAA2B2P,OAAOC,YAAP,CAAoB8f,IAApB,CAA3B,CAAuD,GAAlE,CAAuE,CAAvE,CAAP,CACH,CArED,CAsEApC,SAAS/uB,SAAT,CAAmBwxB,aAAnB,CAAmC,SAAU7P,KAAV,CAAiB0M,IAAjB,CAAuB,CACtD,KAAK+C,OAAL,GACA,MAAOV,mBAAkB/O,KAAlB,CAAyB0M,IAAzB,CAAP,CACH,CAHD,CAIAU,SAAS/uB,SAAT,CAAmB0xB,YAAnB,CAAkC,SAAU/P,KAAV,CAAiB7Q,GAAjB,CAAsB,CACpD,KAAKsgB,OAAL,GACA,MAAOP,kBAAiBlP,KAAjB,CAAwB7Q,GAAxB,CAAP,CACH,CAHD,CAIA;;;;;;;;;WAUAie,SAAS/uB,SAAT,CAAmB2xB,mBAAnB,CAAyC,SAAUhQ,KAAV,CAAiBiQ,GAAjB,CAAsBC,OAAtB,CAA+BC,GAA/B,CAAoCC,SAApC,CAA+CC,KAA/C,CAAsD,CAC3F,KAAKZ,OAAL,GACA,GAAItgB,KAAM8gB,GAAV,CACA,GAAI,KAAKT,IAAL,EAAaU,OAAjB,CAA0B,CACtB,KAAKT,OAAL,GACAtgB,KAAOghB,GAAP,CACH,CACD,GAAIC,WAAa,IAAb,EAAqB,KAAKZ,IAAL,EAAaY,SAAtC,CAAiD,CAC7C,KAAKX,OAAL,GACAtgB,KAAOkhB,KAAP,CACH,CACD,MAAOnB,kBAAiBlP,KAAjB,CAAwB7Q,GAAxB,CAAP,CACH,CAZD,CAaAie,SAAS/uB,SAAT,CAAmBsxB,cAAnB,CAAoC,UAAY,CAC5C,GAAI3P,OAAQ,KAAK3Q,KAAjB,CACA,KAAKogB,OAAL,GACA,MAAOa,iBAAiB,KAAKd,IAAtB,CAAP,CACI,KAAKC,OAAL,GACJ,GAAItgB,KAAM,KAAK9C,KAAL,CAAWyD,SAAX,CAAqBkQ,KAArB,CAA4B,KAAK3Q,KAAjC,CAAV,CACA,MAAO0d,UAAS1sB,OAAT,CAAiB8O,GAAjB,EAAwB,CAAC,CAAzB,CAA6B8f,gBAAgBjP,KAAhB,CAAuB7Q,GAAvB,CAA7B,CACH6f,mBAAmBhP,KAAnB,CAA0B7Q,GAA1B,CADJ,CAEH,CARD,CASAie,SAAS/uB,SAAT,CAAmBuxB,UAAnB,CAAgC,SAAU5P,KAAV,CAAiB,CAC7C,GAAIuQ,QAAU,KAAKlhB,KAAL,GAAe2Q,KAA7B,CACA,KAAKyP,OAAL,GAAgB;AAChB,MAAO,IAAP,CAAa,CACT,GAAI9C,QAAQ,KAAK6C,IAAb,CAAJ,CAAwB,CAAxB,IACK,IAAI,KAAKA,IAAL,EAAalF,OAAjB,CAA0B,CAC3BiG,OAAS,KAAT,CACH,CAFI,IAGA,IAAIC,gBAAgB,KAAKhB,IAArB,CAAJ,CAAgC,CACjC,KAAKC,OAAL,GACA,GAAIgB,eAAe,KAAKjB,IAApB,CAAJ,CACI,KAAKC,OAAL,GACJ,GAAI,CAAC9C,QAAQ,KAAK6C,IAAb,CAAL,CACI,MAAO,MAAK1vB,KAAL,CAAW,kBAAX,CAA+B,CAAC,CAAhC,CAAP,CACJywB,OAAS,KAAT,CACH,CAPI,IAQA,CACD,MACH,CACD,KAAKd,OAAL,GACH,CACD,GAAItgB,KAAM,KAAK9C,KAAL,CAAWyD,SAAX,CAAqBkQ,KAArB,CAA4B,KAAK3Q,KAAjC,CAAV,CACA,GAAI9P,OAAQgxB,OAASG,kBAAkBvhB,GAAlB,CAAT,CAAkCwhB,WAAWxhB,GAAX,CAA9C,CACA,MAAOigB,gBAAepP,KAAf,CAAsBzgB,KAAtB,CAAP,CACH,CAxBD,CAyBA6tB,SAAS/uB,SAAT,CAAmByxB,UAAnB,CAAgC,UAAY,CACxC,GAAI9P,OAAQ,KAAK3Q,KAAjB,CACA,GAAIuhB,OAAQ,KAAKpB,IAAjB,CACA,KAAKC,OAAL,GAAgB;AAChB,GAAIoB,QAAS,EAAb,CACA,GAAIC,QAAS,KAAKzhB,KAAlB,CACA,GAAIhD,OAAQ,KAAKA,KAAjB,CACA,MAAO,KAAKmjB,IAAL,EAAaoB,KAApB,CAA2B,CACvB,GAAI,KAAKpB,IAAL,EAAalE,UAAjB,CAA6B,CACzBuF,QAAUxkB,MAAMyD,SAAN,CAAgBghB,MAAhB,CAAwB,KAAKzhB,KAA7B,CAAV,CACA,KAAKogB,OAAL,GACA,GAAIsB,eAAgB,IAAK,EAAzB,CACA;AACA,KAAKvB,IAAL,CAAY,KAAKA,IAAjB,CACA,GAAI,KAAKA,IAAL,EAAaxD,EAAjB,CAAqB,CACjB;AACA,GAAIgF,KAAM3kB,MAAMyD,SAAN,CAAgB,KAAKT,KAAL,CAAa,CAA7B,CAAgC,KAAKA,KAAL,CAAa,CAA7C,CAAV,CACA,GAAI,eAAeuR,IAAf,CAAoBoQ,GAApB,CAAJ,CAA8B,CAC1BD,cAAgBE,SAASD,GAAT,CAAc,EAAd,CAAhB,CACH,CAFD,IAGK,CACD,MAAO,MAAKlxB,KAAL,CAAW,8BAAgCkxB,GAAhC,CAAsC,GAAjD,CAAsD,CAAtD,CAAP,CACH,CACD,IAAK,GAAIryB,GAAI,CAAb,CAAgBA,EAAI,CAApB,CAAuBA,GAAvB,CAA4B,CACxB,KAAK8wB,OAAL,GACH,CACJ,CAZD,IAaK,CACDsB,cAAgBG,SAAS,KAAK1B,IAAd,CAAhB,CACA,KAAKC,OAAL,GACH,CACDoB,QAAUphB,OAAOC,YAAP,CAAoBqhB,aAApB,CAAV,CACAD,OAAS,KAAKzhB,KAAd,CACH,CAzBD,IA0BK,IAAI,KAAKmgB,IAAL,EAAatG,IAAjB,CAAuB,CACxB,MAAO,MAAKppB,KAAL,CAAW,oBAAX,CAAiC,CAAjC,CAAP,CACH,CAFI,IAGA,CACD,KAAK2vB,OAAL,GACH,CACJ,CACD,GAAI0B,MAAO9kB,MAAMyD,SAAN,CAAgBghB,MAAhB,CAAwB,KAAKzhB,KAA7B,CAAX,CACA,KAAKogB,OAAL,GAAgB;AAChB,MAAON,gBAAenP,KAAf,CAAsB6Q,OAASM,IAA/B,CAAP,CACH,CA5CD,CA6CA/D,SAAS/uB,SAAT,CAAmByB,KAAnB,CAA2B,SAAUwvB,OAAV,CAAmBrP,MAAnB,CAA2B,CAClD,GAAIhC,UAAW,KAAK5O,KAAL,CAAa4Q,MAA5B,CACA,MAAOoP,eAAcpR,QAAd,CAAwB,gBAAkBqR,OAAlB,CAA4B,aAA5B,CAA4CrR,QAA5C,CAAuD,kBAAvD,CAA4E,KAAK5R,KAAjF,CAAyF,GAAjH,CAAP,CACH,CAHD,CAIA,MAAO+gB,SAAP,CACH,CApM6B,EAA9B,CAqMA,QAASsC,kBAAT,CAA2BhD,IAA3B,CAAiC,CAC7B,MAAQhB,KAAMgB,IAAN,EAAcA,MAAQP,EAAvB,EAA+BnB,IAAM0B,IAAN,EAAcA,MAAQtB,EAArD,EACFsB,MAAQjB,EADN,EACciB,MAAQ9C,EAD7B,CAEH,CACD,QAASsE,aAAT,CAAsB7hB,KAAtB,CAA6B,CACzB,GAAIA,MAAMvN,MAAN,EAAgB,CAApB,CACI,MAAO,MAAP,CACJ,GAAIquB,SAAU,GAAIC,SAAJ,CAAa/gB,KAAb,CAAd,CACA,GAAI,CAACqjB,kBAAkBvC,QAAQqC,IAA1B,CAAL,CACI,MAAO,MAAP,CACJrC,QAAQsC,OAAR,GACA,MAAOtC,QAAQqC,IAAR,GAAiBtG,IAAxB,CAA8B,CAC1B,GAAI,CAACoH,iBAAiBnD,QAAQqC,IAAzB,CAAL,CACI,MAAO,MAAP,CACJrC,QAAQsC,OAAR,GACH,CACD,MAAO,KAAP,CACH,CACD,QAASa,iBAAT,CAA0B5D,IAA1B,CAAgC,CAC5B,MAAOE,eAAcF,IAAd,GAAuBC,QAAQD,IAAR,CAAvB,EAAyCA,MAAQjB,EAAjD,EACFiB,MAAQ9C,EADb,CAEH,CACD,QAAS4G,gBAAT,CAAyB9D,IAAzB,CAA+B,CAC3B,MAAOA,OAAQf,EAAR,EAAce,MAAQzB,EAA7B,CACH,CACD,QAASwF,eAAT,CAAwB/D,IAAxB,CAA8B,CAC1B,MAAOA,OAAQrC,MAAR,EAAkBqC,MAAQvC,KAAjC,CACH,CACD,QAASiH,QAAT,CAAiB1E,IAAjB,CAAuB,CACnB,MAAOA,QAAS3C,GAAT,EAAgB2C,OAAShD,GAAzB,EAAgCgD,OAASF,GAAhD,CACH,CACD,QAAS0E,SAAT,CAAkBxE,IAAlB,CAAwB,CACpB,OAAQA,IAAR,EACI,IAAKb,GAAL,CACI,MAAOzC,IAAP,CACJ,IAAKwC,GAAL,CACI,MAAOtC,IAAP,CACJ,IAAKwC,GAAL,CACI,MAAOvC,IAAP,CACJ,IAAKwC,GAAL,CACI,MAAO5C,KAAP,CACJ,IAAK8C,GAAL,CACI,MAAO5C,MAAP,CACJ,QACI,MAAOqD,KAAP,CAZR,CAcH,CACD,QAASgE,kBAAT,CAA2BxD,IAA3B,CAAiC,CAC7B,GAAIloB,QAASisB,SAAS/D,IAAT,CAAb,CACA,GAAImE,MAAMrsB,MAAN,CAAJ,CAAmB,CACf,KAAM,IAAI1E,MAAJ,CAAU,wCAA0C4sB,IAApD,CAAN,CACH,CACD,MAAOloB,OAAP,CACH,CAED;;;;;;OAOA,GAAIssB,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqBhC,OAArB,CAA8BjjB,KAA9B,CAAqCklB,WAArC,CAAkDC,WAAlD,CAA+D,CAC3D,KAAKnlB,KAAL,CAAaA,KAAb,CACA,KAAKklB,WAAL,CAAmBA,WAAnB,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACA,KAAKlC,OAAL,CAAe,iBAAmBA,OAAnB,CAA6B,GAA7B,CAAmCiC,WAAnC,CAAiD,IAAjD,CAAwDllB,KAAxD,CAAgE,OAAhE,CAA0EmlB,WAAzF,CACH,CACD,MAAOF,YAAP,CACH,CARgC,EAAjC,CASA,GAAIG,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmBzR,KAAnB,CAA0BE,GAA1B,CAA+B,CAC3B,KAAKF,KAAL,CAAaA,KAAb,CACA,KAAKE,GAAL,CAAWA,GAAX,CACH,CACD,MAAOuR,UAAP,CACH,CAN8B,EAA/B,CAOA,GAAIC,KAAM,aAAe,UAAY,CACjC,QAASA,IAAT,CAAarR,IAAb,CAAmB,CACf,KAAKA,IAAL,CAAYA,IAAZ,CACH,CACDqR,IAAIrzB,SAAJ,CAAcuS,KAAd,CAAsB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAC9C,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAO,KAAP,CACH,CAHD,CAIAykB,IAAIrzB,SAAJ,CAAc4G,QAAd,CAAyB,UAAY,CAAE,MAAO,KAAP,CAAe,CAAtD,CACA,MAAOysB,IAAP,CACH,CAVwB,EAAzB,CAWA;;;;;;;;;;;;OAaA,GAAIC,OAAQ,aAAe,SAAU7c,MAAV,CAAkB,CACzC5W,UAAUyzB,KAAV,CAAiB7c,MAAjB,EACA,QAAS6c,MAAT,CAAetR,IAAf,CAAqBtf,MAArB,CAA6B6wB,uBAA7B,CAAsDC,QAAtD,CAAgE,CAC5D,GAAI3vB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMnB,MAAN,CAAeA,MAAf,CACAmB,MAAM0vB,uBAAN,CAAgCA,uBAAhC,CACA1vB,MAAM2vB,QAAN,CAAiBA,QAAjB,CACA,MAAO3vB,MAAP,CACH,CACDyvB,MAAMtzB,SAAN,CAAgBuS,KAAhB,CAAwB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAChD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ8kB,UAAR,CAAmB,IAAnB,CAAyB7kB,OAAzB,CAAP,CACH,CAHD,CAIA0kB,MAAMtzB,SAAN,CAAgB4G,QAAhB,CAA2B,UAAY,CAAE,MAAO,OAAP,CAAiB,CAA1D,CACA,MAAO0sB,MAAP,CACH,CAf0B,CAezBD,GAfyB,CAA3B,CAgBA,GAAIK,WAAY,aAAe,SAAUjd,MAAV,CAAkB,CAC7C5W,UAAU6zB,SAAV,CAAqBjd,MAArB,EACA,QAASid,UAAT,EAAqB,CACjB,MAAOjd,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDkzB,UAAU1zB,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACpD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C;AACH,CAHD,CAIA,MAAO8kB,UAAP,CACH,CAV8B,CAU7BL,GAV6B,CAA/B,CAWA,GAAIM,kBAAmB,aAAe,SAAUld,MAAV,CAAkB,CACpD5W,UAAU8zB,gBAAV,CAA4Bld,MAA5B,EACA,QAASkd,iBAAT,EAA4B,CACxB,MAAOld,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDmzB,iBAAiB3zB,SAAjB,CAA2BuS,KAA3B,CAAmC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAC3D,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQilB,qBAAR,CAA8B,IAA9B,CAAoChlB,OAApC,CAAP,CACH,CAHD,CAIA,MAAO+kB,iBAAP,CACH,CAVqC,CAUpCN,GAVoC,CAAtC,CAWA;;OAGA,GAAIQ,OAAQ,aAAe,SAAUpd,MAAV,CAAkB,CACzC5W,UAAUg0B,KAAV,CAAiBpd,MAAjB,EACA,QAASod,MAAT,CAAe7R,IAAf,CAAqB8R,WAArB,CAAkC,CAC9B,GAAIjwB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMiwB,WAAN,CAAoBA,WAApB,CACA,MAAOjwB,MAAP,CACH,CACDgwB,MAAM7zB,SAAN,CAAgBuS,KAAhB,CAAwB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAChD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQolB,UAAR,CAAmB,IAAnB,CAAyBnlB,OAAzB,CAAP,CACH,CAHD,CAIA,MAAOilB,MAAP,CACH,CAZ0B,CAYzBR,GAZyB,CAA3B,CAaA,GAAIW,aAAc,aAAe,SAAUvd,MAAV,CAAkB,CAC/C5W,UAAUm0B,WAAV,CAAuBvd,MAAvB,EACA,QAASud,YAAT,CAAqBhS,IAArB,CAA2B4I,SAA3B,CAAsCqJ,OAAtC,CAA+CC,QAA/C,CAAyD,CACrD,GAAIrwB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM+mB,SAAN,CAAkBA,SAAlB,CACA/mB,MAAMowB,OAAN,CAAgBA,OAAhB,CACApwB,MAAMqwB,QAAN,CAAiBA,QAAjB,CACA,MAAOrwB,MAAP,CACH,CACDmwB,YAAYh0B,SAAZ,CAAsBuS,KAAtB,CAA8B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACtD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQwlB,gBAAR,CAAyB,IAAzB,CAA+BvlB,OAA/B,CAAP,CACH,CAHD,CAIA,MAAOolB,YAAP,CACH,CAdgC,CAc/BX,GAd+B,CAAjC,CAeA,GAAIe,cAAe,aAAe,SAAU3d,MAAV,CAAkB,CAChD5W,UAAUu0B,YAAV,CAAwB3d,MAAxB,EACA,QAAS2d,aAAT,CAAsBpS,IAAtB,CAA4BqS,QAA5B,CAAsC9vB,IAAtC,CAA4C,CACxC,GAAIV,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACA,MAAOV,MAAP,CACH,CACDuwB,aAAap0B,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ2lB,iBAAR,CAA0B,IAA1B,CAAgC1lB,OAAhC,CAAP,CACH,CAHD,CAIA,MAAOwlB,aAAP,CACH,CAbiC,CAahCf,GAbgC,CAAlC,CAcA,GAAIkB,eAAgB,aAAe,SAAU9d,MAAV,CAAkB,CACjD5W,UAAU00B,aAAV,CAAyB9d,MAAzB,EACA,QAAS8d,cAAT,CAAuBvS,IAAvB,CAA6BqS,QAA7B,CAAuC9vB,IAAvC,CAA6CrD,KAA7C,CAAoD,CAChD,GAAI2C,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACD0wB,cAAcv0B,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACxD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ6lB,kBAAR,CAA2B,IAA3B,CAAiC5lB,OAAjC,CAAP,CACH,CAHD,CAIA,MAAO2lB,cAAP,CACH,CAdkC,CAcjClB,GAdiC,CAAnC,CAeA,GAAIoB,kBAAmB,aAAe,SAAUhe,MAAV,CAAkB,CACpD5W,UAAU40B,gBAAV,CAA4Bhe,MAA5B,EACA,QAASge,iBAAT,CAA0BzS,IAA1B,CAAgCqS,QAAhC,CAA0C9vB,IAA1C,CAAgD,CAC5C,GAAIV,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACA,MAAOV,MAAP,CACH,CACD4wB,iBAAiBz0B,SAAjB,CAA2BuS,KAA3B,CAAmC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAC3D,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ+lB,qBAAR,CAA8B,IAA9B,CAAoC9lB,OAApC,CAAP,CACH,CAHD,CAIA,MAAO6lB,iBAAP,CACH,CAbqC,CAapCpB,GAboC,CAAtC,CAcA,GAAIsB,WAAY,aAAe,SAAUle,MAAV,CAAkB,CAC7C5W,UAAU80B,SAAV,CAAqBle,MAArB,EACA,QAASke,UAAT,CAAmB3S,IAAnB,CAAyB5U,GAAzB,CAA8BqC,GAA9B,CAAmC,CAC/B,GAAI5L,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMuJ,GAAN,CAAYA,GAAZ,CACAvJ,MAAM4L,GAAN,CAAYA,GAAZ,CACA,MAAO5L,MAAP,CACH,CACD8wB,UAAU30B,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACpD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQimB,cAAR,CAAuB,IAAvB,CAA6BhmB,OAA7B,CAAP,CACH,CAHD,CAIA,MAAO+lB,UAAP,CACH,CAb8B,CAa7BtB,GAb6B,CAA/B,CAcA,GAAIwB,YAAa,aAAe,SAAUpe,MAAV,CAAkB,CAC9C5W,UAAUg1B,UAAV,CAAsBpe,MAAtB,EACA,QAASoe,WAAT,CAAoB7S,IAApB,CAA0B5U,GAA1B,CAA+BqC,GAA/B,CAAoCvO,KAApC,CAA2C,CACvC,GAAI2C,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMuJ,GAAN,CAAYA,GAAZ,CACAvJ,MAAM4L,GAAN,CAAYA,GAAZ,CACA5L,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDgxB,WAAW70B,SAAX,CAAqBuS,KAArB,CAA6B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACrD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQmmB,eAAR,CAAwB,IAAxB,CAA8BlmB,OAA9B,CAAP,CACH,CAHD,CAIA,MAAOimB,WAAP,CACH,CAd+B,CAc9BxB,GAd8B,CAAhC,CAeA,GAAI0B,aAAc,aAAe,SAAUte,MAAV,CAAkB,CAC/C5W,UAAUk1B,WAAV,CAAuBte,MAAvB,EACA,QAASse,YAAT,CAAqB/S,IAArB,CAA2BgT,GAA3B,CAAgCzwB,IAAhC,CAAsCyH,IAAtC,CAA4C,CACxC,GAAInI,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMmxB,GAAN,CAAYA,GAAZ,CACAnxB,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAMmI,IAAN,CAAaA,IAAb,CACA,MAAOnI,MAAP,CACH,CACDkxB,YAAY/0B,SAAZ,CAAsBuS,KAAtB,CAA8B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACtD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQsmB,SAAR,CAAkB,IAAlB,CAAwBrmB,OAAxB,CAAP,CACH,CAHD,CAIA,MAAOmmB,YAAP,CACH,CAdgC,CAc/B1B,GAd+B,CAAjC,CAeA,GAAI6B,kBAAmB,aAAe,SAAUze,MAAV,CAAkB,CACpD5W,UAAUq1B,gBAAV,CAA4Bze,MAA5B,EACA,QAASye,iBAAT,CAA0BlT,IAA1B,CAAgC9gB,KAAhC,CAAuC,CACnC,GAAI2C,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDqxB,iBAAiBl1B,SAAjB,CAA2BuS,KAA3B,CAAmC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAC3D,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQwmB,qBAAR,CAA8B,IAA9B,CAAoCvmB,OAApC,CAAP,CACH,CAHD,CAIA,MAAOsmB,iBAAP,CACH,CAZqC,CAYpC7B,GAZoC,CAAtC,CAaA,GAAI+B,cAAe,aAAe,SAAU3e,MAAV,CAAkB,CAChD5W,UAAUu1B,YAAV,CAAwB3e,MAAxB,EACA,QAAS2e,aAAT,CAAsBpT,IAAtB,CAA4B8R,WAA5B,CAAyC,CACrC,GAAIjwB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMiwB,WAAN,CAAoBA,WAApB,CACA,MAAOjwB,MAAP,CACH,CACDuxB,aAAap1B,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ0mB,iBAAR,CAA0B,IAA1B,CAAgCzmB,OAAhC,CAAP,CACH,CAHD,CAIA,MAAOwmB,aAAP,CACH,CAZiC,CAYhC/B,GAZgC,CAAlC,CAaA,GAAIiC,YAAa,aAAe,SAAU7e,MAAV,CAAkB,CAC9C5W,UAAUy1B,UAAV,CAAsB7e,MAAtB,EACA,QAAS6e,WAAT,CAAoBtT,IAApB,CAA0BxS,IAA1B,CAAgCvC,MAAhC,CAAwC,CACpC,GAAIpJ,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM2L,IAAN,CAAaA,IAAb,CACA3L,MAAMoJ,MAAN,CAAeA,MAAf,CACA,MAAOpJ,MAAP,CACH,CACDyxB,WAAWt1B,SAAX,CAAqBuS,KAArB,CAA6B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACrD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ4mB,eAAR,CAAwB,IAAxB,CAA8B3mB,OAA9B,CAAP,CACH,CAHD,CAIA,MAAO0mB,WAAP,CACH,CAb+B,CAa9BjC,GAb8B,CAAhC,CAcA,GAAImC,eAAgB,aAAe,SAAU/e,MAAV,CAAkB,CACjD5W,UAAU21B,aAAV,CAAyB/e,MAAzB,EACA,QAAS+e,cAAT,CAAuBxT,IAAvB,CAA6ByT,OAA7B,CAAsC3B,WAAtC,CAAmD,CAC/C,GAAIjwB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM4xB,OAAN,CAAgBA,OAAhB,CACA5xB,MAAMiwB,WAAN,CAAoBA,WAApB,CACA,MAAOjwB,MAAP,CACH,CACD2xB,cAAcx1B,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACxD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ+mB,kBAAR,CAA2B,IAA3B,CAAiC9mB,OAAjC,CAAP,CACH,CAHD,CAIA,MAAO4mB,cAAP,CACH,CAbkC,CAajCnC,GAbiC,CAAnC,CAcA,GAAIsC,QAAS,aAAe,SAAUlf,MAAV,CAAkB,CAC1C5W,UAAU81B,MAAV,CAAkBlf,MAAlB,EACA,QAASkf,OAAT,CAAgB3T,IAAhB,CAAsB4T,SAAtB,CAAiCC,IAAjC,CAAuCC,KAAvC,CAA8C,CAC1C,GAAIjyB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM+xB,SAAN,CAAkBA,SAAlB,CACA/xB,MAAMgyB,IAAN,CAAaA,IAAb,CACAhyB,MAAMiyB,KAAN,CAAcA,KAAd,CACA,MAAOjyB,MAAP,CACH,CACD8xB,OAAO31B,SAAP,CAAiBuS,KAAjB,CAAyB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACjD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQonB,WAAR,CAAoB,IAApB,CAA0BnnB,OAA1B,CAAP,CACH,CAHD,CAIA,MAAO+mB,OAAP,CACH,CAd2B,CAc1BtC,GAd0B,CAA5B,CAeA,GAAI2C,WAAY,aAAe,SAAUvf,MAAV,CAAkB,CAC7C5W,UAAUm2B,SAAV,CAAqBvf,MAArB,EACA,QAASuf,UAAT,CAAmBhU,IAAnB,CAAyBpB,UAAzB,CAAqC,CACjC,GAAI/c,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM+c,UAAN,CAAmBA,UAAnB,CACA,MAAO/c,MAAP,CACH,CACDmyB,UAAUh2B,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACpD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQsnB,cAAR,CAAuB,IAAvB,CAA6BrnB,OAA7B,CAAP,CACH,CAHD,CAIA,MAAOonB,UAAP,CACH,CAZ8B,CAY7B3C,GAZ6B,CAA/B,CAaA,GAAI6C,eAAgB,aAAe,SAAUzf,MAAV,CAAkB,CACjD5W,UAAUq2B,aAAV,CAAyBzf,MAAzB,EACA,QAASyf,cAAT,CAAuBlU,IAAvB,CAA6BpB,UAA7B,CAAyC,CACrC,GAAI/c,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAM+c,UAAN,CAAmBA,UAAnB,CACA,MAAO/c,MAAP,CACH,CACDqyB,cAAcl2B,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACxD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQwnB,kBAAR,CAA2B,IAA3B,CAAiCvnB,OAAjC,CAAP,CACH,CAHD,CAIA,MAAOsnB,cAAP,CACH,CAZkC,CAYjC7C,GAZiC,CAAnC,CAaA,GAAI+C,YAAa,aAAe,SAAU3f,MAAV,CAAkB,CAC9C5W,UAAUu2B,UAAV,CAAsB3f,MAAtB,EACA,QAAS2f,WAAT,CAAoBpU,IAApB,CAA0BqS,QAA1B,CAAoC9vB,IAApC,CAA0CyH,IAA1C,CAAgD,CAC5C,GAAInI,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAMmI,IAAN,CAAaA,IAAb,CACA,MAAOnI,MAAP,CACH,CACDuyB,WAAWp2B,SAAX,CAAqBuS,KAArB,CAA6B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACrD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ0nB,eAAR,CAAwB,IAAxB,CAA8BznB,OAA9B,CAAP,CACH,CAHD,CAIA,MAAOwnB,WAAP,CACH,CAd+B,CAc9B/C,GAd8B,CAAhC,CAeA,GAAIiD,gBAAiB,aAAe,SAAU7f,MAAV,CAAkB,CAClD5W,UAAUy2B,cAAV,CAA0B7f,MAA1B,EACA,QAAS6f,eAAT,CAAwBtU,IAAxB,CAA8BqS,QAA9B,CAAwC9vB,IAAxC,CAA8CyH,IAA9C,CAAoD,CAChD,GAAInI,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAMmI,IAAN,CAAaA,IAAb,CACA,MAAOnI,MAAP,CACH,CACDyyB,eAAet2B,SAAf,CAAyBuS,KAAzB,CAAiC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACzD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ4nB,mBAAR,CAA4B,IAA5B,CAAkC3nB,OAAlC,CAAP,CACH,CAHD,CAIA,MAAO0nB,eAAP,CACH,CAdmC,CAclCjD,GAdkC,CAApC,CAeA,GAAImD,cAAe,aAAe,SAAU/f,MAAV,CAAkB,CAChD5W,UAAU22B,YAAV,CAAwB/f,MAAxB,EACA,QAAS+f,aAAT,CAAsBxU,IAAtB,CAA4B1O,MAA5B,CAAoCtH,IAApC,CAA0C,CACtC,GAAInI,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,GAA2B,IAAvC,CACAne,MAAMyP,MAAN,CAAeA,MAAf,CACAzP,MAAMmI,IAAN,CAAaA,IAAb,CACA,MAAOnI,MAAP,CACH,CACD2yB,aAAax2B,SAAb,CAAuBuS,KAAvB,CAA+B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACvD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAOD,SAAQ8nB,iBAAR,CAA0B,IAA1B,CAAgC7nB,OAAhC,CAAP,CACH,CAHD,CAIA,MAAO4nB,aAAP,CACH,CAbiC,CAahCnD,GAbgC,CAAlC,CAcA,GAAIqD,eAAgB,aAAe,SAAUjgB,MAAV,CAAkB,CACjD5W,UAAU62B,aAAV,CAAyBjgB,MAAzB,EACA,QAASigB,cAAT,CAAuBngB,GAAvB,CAA4BogB,MAA5B,CAAoCnD,QAApC,CAA8C7M,MAA9C,CAAsD,CAClD,GAAI9iB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,GAAI0yB,UAAJ,CAAc,CAAd,CAAiBuD,QAAU,IAAV,CAAiB,CAAjB,CAAqBA,OAAOl2B,MAA7C,CAAlB,GAA2E,IAAvF,CACAoD,MAAM0S,GAAN,CAAYA,GAAZ,CACA1S,MAAM8yB,MAAN,CAAeA,MAAf,CACA9yB,MAAM2vB,QAAN,CAAiBA,QAAjB,CACA3vB,MAAM8iB,MAAN,CAAeA,MAAf,CACA,MAAO9iB,MAAP,CACH,CACD6yB,cAAc12B,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CACxD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,MAAO,MAAK2H,GAAL,CAAShE,KAAT,CAAe5D,OAAf,CAAwBC,OAAxB,CAAP,CACH,CAHD,CAIA8nB,cAAc12B,SAAd,CAAwB4G,QAAxB,CAAmC,UAAY,CAAE,MAAO,MAAK+vB,MAAL,CAAc,MAAd,CAAuB,KAAKnD,QAAnC,CAA8C,CAA/F,CACA,MAAOkD,cAAP,CACH,CAhBkC,CAgBjCrD,GAhBiC,CAAnC,CAiBA,GAAIuD,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyB5U,IAAzB,CAA+BvS,GAA/B,CAAoConB,QAApC,CAA8CtyB,IAA9C,CAAoDqc,UAApD,CAAgE,CAC5D,KAAKoB,IAAL,CAAYA,IAAZ,CACA,KAAKvS,GAAL,CAAWA,GAAX,CACA,KAAKonB,QAAL,CAAgBA,QAAhB,CACA,KAAKtyB,IAAL,CAAYA,IAAZ,CACA,KAAKqc,UAAL,CAAkBA,UAAlB,CACH,CACD,MAAOgW,gBAAP,CACH,CAToC,EAArC,CAUA,GAAIE,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,EAA0B,CACzB,CACDA,eAAe92B,SAAf,CAAyB+1B,WAAzB,CAAuC,SAAUxf,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlE,CACAkoB,eAAe92B,SAAf,CAAyB+zB,UAAzB,CAAsC,SAAUxd,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjE,CACAkoB,eAAe92B,SAAf,CAAyBm0B,gBAAzB,CAA4C,SAAU5d,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAvE,CACAkoB,eAAe92B,SAAf,CAAyBy2B,iBAAzB,CAA6C,SAAUlgB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAxE,CACAkoB,eAAe92B,SAAf,CAAyB4zB,qBAAzB,CAAiD,SAAUrd,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA5E,CACAkoB,eAAe92B,SAAf,CAAyB01B,kBAAzB,CAA8C,SAAUnf,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAzE,CACAkoB,eAAe92B,SAAf,CAAyB40B,cAAzB,CAA0C,SAAUre,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArE,CACAkoB,eAAe92B,SAAf,CAAyB80B,eAAzB,CAA2C,SAAUve,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAtE,CACAkoB,eAAe92B,SAAf,CAAyBq1B,iBAAzB,CAA6C,SAAU9e,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAxE,CACAkoB,eAAe92B,SAAf,CAAyBu1B,eAAzB,CAA2C,SAAUhf,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAtE,CACAkoB,eAAe92B,SAAf,CAAyBm1B,qBAAzB,CAAiD,SAAU5e,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA5E,CACAkoB,eAAe92B,SAAf,CAAyBq2B,eAAzB,CAA2C,SAAU9f,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAtE,CACAkoB,eAAe92B,SAAf,CAAyBi1B,SAAzB,CAAqC,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAhE,CACAkoB,eAAe92B,SAAf,CAAyBi2B,cAAzB,CAA0C,SAAU1f,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArE,CACAkoB,eAAe92B,SAAf,CAAyBm2B,kBAAzB,CAA8C,SAAU5f,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAzE,CACAkoB,eAAe92B,SAAf,CAAyBs0B,iBAAzB,CAA6C,SAAU/d,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAxE,CACAkoB,eAAe92B,SAAf,CAAyBw0B,kBAAzB,CAA8C,SAAUje,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAzE,CACAkoB,eAAe92B,SAAf,CAAyByzB,UAAzB,CAAsC,SAAUld,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjE,CACAkoB,eAAe92B,SAAf,CAAyBu2B,mBAAzB,CAA+C,SAAUhgB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACAkoB,eAAe92B,SAAf,CAAyB00B,qBAAzB,CAAiD,SAAUne,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA5E,CACA,MAAOkoB,eAAP,CACH,CAxBmC,EAApC,CAyBA,GAAIC,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,EAA+B,CAC9B,CACDA,oBAAoB/2B,SAApB,CAA8B+1B,WAA9B,CAA4C,SAAUxf,GAAV,CAAe3H,OAAf,CAAwB,CAChE2H,IAAIsf,IAAJ,CAAStjB,KAAT,CAAe,IAAf,EACAgE,IAAIuf,KAAJ,CAAUvjB,KAAV,CAAgB,IAAhB,EACA,MAAO,KAAP,CACH,CAJD,CAKAwkB,oBAAoB/2B,SAApB,CAA8B+zB,UAA9B,CAA2C,SAAUxd,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,MAAK2S,QAAL,CAAchL,IAAIud,WAAlB,CAA+BllB,OAA/B,CAAP,CAAiD,CAAtH,CACAmoB,oBAAoB/2B,SAApB,CAA8Bm0B,gBAA9B,CAAiD,SAAU5d,GAAV,CAAe3H,OAAf,CAAwB,CACrE2H,IAAIqU,SAAJ,CAAcrY,KAAd,CAAoB,IAApB,EACAgE,IAAI0d,OAAJ,CAAY1hB,KAAZ,CAAkB,IAAlB,EACAgE,IAAI2d,QAAJ,CAAa3hB,KAAb,CAAmB,IAAnB,EACA,MAAO,KAAP,CACH,CALD,CAMAwkB,oBAAoB/2B,SAApB,CAA8Bi1B,SAA9B,CAA0C,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CAC9D2H,IAAIye,GAAJ,CAAQziB,KAAR,CAAc,IAAd,EACA,KAAKgP,QAAL,CAAchL,IAAIvK,IAAlB,CAAwB4C,OAAxB,EACA,MAAO,KAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8By2B,iBAA9B,CAAkD,SAAUlgB,GAAV,CAAe3H,OAAf,CAAwB,CACtE2H,IAAIjD,MAAJ,CAAWf,KAAX,CAAiB,IAAjB,EACA,KAAKgP,QAAL,CAAchL,IAAIvK,IAAlB,CAAwB4C,OAAxB,EACA,MAAO,KAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8B4zB,qBAA9B,CAAsD,SAAUrd,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,KAAP,CAAc,CAA9F,CACAmoB,oBAAoB/2B,SAApB,CAA8B01B,kBAA9B,CAAmD,SAAUnf,GAAV,CAAe3H,OAAf,CAAwB,CACvE,MAAO,MAAK2S,QAAL,CAAchL,IAAIud,WAAlB,CAA+BllB,OAA/B,CAAP,CACH,CAFD,CAGAmoB,oBAAoB/2B,SAApB,CAA8B40B,cAA9B,CAA+C,SAAUre,GAAV,CAAe3H,OAAf,CAAwB,CACnE2H,IAAInJ,GAAJ,CAAQmF,KAAR,CAAc,IAAd,EACAgE,IAAI9G,GAAJ,CAAQ8C,KAAR,CAAc,IAAd,EACA,MAAO,KAAP,CACH,CAJD,CAKAwkB,oBAAoB/2B,SAApB,CAA8B80B,eAA9B,CAAgD,SAAUve,GAAV,CAAe3H,OAAf,CAAwB,CACpE2H,IAAInJ,GAAJ,CAAQmF,KAAR,CAAc,IAAd,EACAgE,IAAI9G,GAAJ,CAAQ8C,KAAR,CAAc,IAAd,EACAgE,IAAIrV,KAAJ,CAAUqR,KAAV,CAAgB,IAAhB,EACA,MAAO,KAAP,CACH,CALD,CAMAwkB,oBAAoB/2B,SAApB,CAA8Bq1B,iBAA9B,CAAkD,SAAU9e,GAAV,CAAe3H,OAAf,CAAwB,CACtE,MAAO,MAAK2S,QAAL,CAAchL,IAAIud,WAAlB,CAA+BllB,OAA/B,CAAP,CACH,CAFD,CAGAmoB,oBAAoB/2B,SAApB,CAA8Bu1B,eAA9B,CAAgD,SAAUhf,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,MAAK2S,QAAL,CAAchL,IAAItJ,MAAlB,CAA0B2B,OAA1B,CAAP,CAA4C,CAAtH,CACAmoB,oBAAoB/2B,SAApB,CAA8Bm1B,qBAA9B,CAAsD,SAAU5e,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,KAAP,CAAc,CAA9F,CACAmoB,oBAAoB/2B,SAApB,CAA8Bq2B,eAA9B,CAAgD,SAAU9f,GAAV,CAAe3H,OAAf,CAAwB,CACpE2H,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,EACA,MAAO,MAAKgP,QAAL,CAAchL,IAAIvK,IAAlB,CAAwB4C,OAAxB,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8Bi2B,cAA9B,CAA+C,SAAU1f,GAAV,CAAe3H,OAAf,CAAwB,CACnE2H,IAAIqK,UAAJ,CAAerO,KAAf,CAAqB,IAArB,EACA,MAAO,KAAP,CACH,CAHD,CAIAwkB,oBAAoB/2B,SAApB,CAA8Bm2B,kBAA9B,CAAmD,SAAU5f,GAAV,CAAe3H,OAAf,CAAwB,CACvE2H,IAAIqK,UAAJ,CAAerO,KAAf,CAAqB,IAArB,EACA,MAAO,KAAP,CACH,CAHD,CAIAwkB,oBAAoB/2B,SAApB,CAA8Bs0B,iBAA9B,CAAkD,SAAU/d,GAAV,CAAe3H,OAAf,CAAwB,CACtE2H,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,EACA,MAAO,KAAP,CACH,CAHD,CAIAwkB,oBAAoB/2B,SAApB,CAA8Bw0B,kBAA9B,CAAmD,SAAUje,GAAV,CAAe3H,OAAf,CAAwB,CACvE2H,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,EACAgE,IAAIrV,KAAJ,CAAUqR,KAAV,CAAgB,IAAhB,EACA,MAAO,KAAP,CACH,CAJD,CAKAwkB,oBAAoB/2B,SAApB,CAA8B00B,qBAA9B,CAAsD,SAAUne,GAAV,CAAe3H,OAAf,CAAwB,CAC1E2H,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,EACA,MAAO,KAAP,CACH,CAHD,CAIAwkB,oBAAoB/2B,SAApB,CAA8Bu2B,mBAA9B,CAAoD,SAAUhgB,GAAV,CAAe3H,OAAf,CAAwB,CACxE2H,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,EACA,MAAO,MAAKgP,QAAL,CAAchL,IAAIvK,IAAlB,CAAwB4C,OAAxB,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8BuhB,QAA9B,CAAyC,SAAU3K,IAAV,CAAgBhI,OAAhB,CAAyB,CAC9D,GAAI/K,OAAQ,IAAZ,CACA+S,KAAK7S,OAAL,CAAa,SAAUwS,GAAV,CAAe,CAAE,MAAOA,KAAIhE,KAAJ,CAAU1O,KAAV,CAAiB+K,OAAjB,CAAP,CAAmC,CAAjE,EACA,MAAO,KAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8ByzB,UAA9B,CAA2C,SAAUld,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,KAAP,CAAc,CAAnF,CACA,MAAOmoB,oBAAP,CACH,CAjFwC,EAAzC,CAkFA,GAAIC,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,EAA0B,CACzB,CACDA,eAAeh3B,SAAf,CAAyB4zB,qBAAzB,CAAiD,SAAUrd,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO2H,IAAP,CAAa,CAAxF,CACAygB,eAAeh3B,SAAf,CAAyB01B,kBAAzB,CAA8C,SAAUnf,GAAV,CAAe3H,OAAf,CAAwB,CAClE,MAAO,IAAI4mB,cAAJ,CAAkBjf,IAAIyL,IAAtB,CAA4BzL,IAAIkf,OAAhC,CAAyC,KAAKlU,QAAL,CAAchL,IAAIud,WAAlB,CAAzC,CAAP,CACH,CAFD,CAGAkD,eAAeh3B,SAAf,CAAyBm1B,qBAAzB,CAAiD,SAAU5e,GAAV,CAAe3H,OAAf,CAAwB,CACrE,MAAO,IAAIsmB,iBAAJ,CAAqB3e,IAAIyL,IAAzB,CAA+BzL,IAAIrV,KAAnC,CAAP,CACH,CAFD,CAGA81B,eAAeh3B,SAAf,CAAyBs0B,iBAAzB,CAA6C,SAAU/d,GAAV,CAAe3H,OAAf,CAAwB,CACjE,MAAO,IAAIwlB,aAAJ,CAAiB7d,IAAIyL,IAArB,CAA2BzL,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAA3B,CAAqDgE,IAAIhS,IAAzD,CAAP,CACH,CAFD,CAGAyyB,eAAeh3B,SAAf,CAAyBw0B,kBAAzB,CAA8C,SAAUje,GAAV,CAAe3H,OAAf,CAAwB,CAClE,MAAO,IAAI2lB,cAAJ,CAAkBhe,IAAIyL,IAAtB,CAA4BzL,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAA5B,CAAsDgE,IAAIhS,IAA1D,CAAgEgS,IAAIrV,KAAJ,CAAUqR,KAAV,CAAgB,IAAhB,CAAhE,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyB00B,qBAAzB,CAAiD,SAAUne,GAAV,CAAe3H,OAAf,CAAwB,CACrE,MAAO,IAAI6lB,iBAAJ,CAAqBle,IAAIyL,IAAzB,CAA+BzL,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAA/B,CAAyDgE,IAAIhS,IAA7D,CAAP,CACH,CAFD,CAGAyyB,eAAeh3B,SAAf,CAAyBq2B,eAAzB,CAA2C,SAAU9f,GAAV,CAAe3H,OAAf,CAAwB,CAC/D,MAAO,IAAIwnB,WAAJ,CAAe7f,IAAIyL,IAAnB,CAAyBzL,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAAzB,CAAmDgE,IAAIhS,IAAvD,CAA6D,KAAKgd,QAAL,CAAchL,IAAIvK,IAAlB,CAA7D,CAAP,CACH,CAFD,CAGAgrB,eAAeh3B,SAAf,CAAyBu2B,mBAAzB,CAA+C,SAAUhgB,GAAV,CAAe3H,OAAf,CAAwB,CACnE,MAAO,IAAI0nB,eAAJ,CAAmB/f,IAAIyL,IAAvB,CAA6BzL,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAA7B,CAAuDgE,IAAIhS,IAA3D,CAAiE,KAAKgd,QAAL,CAAchL,IAAIvK,IAAlB,CAAjE,CAAP,CACH,CAFD,CAGAgrB,eAAeh3B,SAAf,CAAyBy2B,iBAAzB,CAA6C,SAAUlgB,GAAV,CAAe3H,OAAf,CAAwB,CACjE,MAAO,IAAI4nB,aAAJ,CAAiBjgB,IAAIyL,IAArB,CAA2BzL,IAAIjD,MAAJ,CAAWf,KAAX,CAAiB,IAAjB,CAA3B,CAAmD,KAAKgP,QAAL,CAAchL,IAAIvK,IAAlB,CAAnD,CAAP,CACH,CAFD,CAGAgrB,eAAeh3B,SAAf,CAAyBq1B,iBAAzB,CAA6C,SAAU9e,GAAV,CAAe3H,OAAf,CAAwB,CACjE,MAAO,IAAIwmB,aAAJ,CAAiB7e,IAAIyL,IAArB,CAA2B,KAAKT,QAAL,CAAchL,IAAIud,WAAlB,CAA3B,CAAP,CACH,CAFD,CAGAkD,eAAeh3B,SAAf,CAAyBu1B,eAAzB,CAA2C,SAAUhf,GAAV,CAAe3H,OAAf,CAAwB,CAC/D,MAAO,IAAI0mB,WAAJ,CAAe/e,IAAIyL,IAAnB,CAAyBzL,IAAI/G,IAA7B,CAAmC,KAAK+R,QAAL,CAAchL,IAAItJ,MAAlB,CAAnC,CAAP,CACH,CAFD,CAGA+pB,eAAeh3B,SAAf,CAAyB+1B,WAAzB,CAAuC,SAAUxf,GAAV,CAAe3H,OAAf,CAAwB,CAC3D,MAAO,IAAI+mB,OAAJ,CAAWpf,IAAIyL,IAAf,CAAqBzL,IAAIqf,SAAzB,CAAoCrf,IAAIsf,IAAJ,CAAStjB,KAAT,CAAe,IAAf,CAApC,CAA0DgE,IAAIuf,KAAJ,CAAUvjB,KAAV,CAAgB,IAAhB,CAA1D,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyBi2B,cAAzB,CAA0C,SAAU1f,GAAV,CAAe3H,OAAf,CAAwB,CAC9D,MAAO,IAAIonB,UAAJ,CAAczf,IAAIyL,IAAlB,CAAwBzL,IAAIqK,UAAJ,CAAerO,KAAf,CAAqB,IAArB,CAAxB,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyBm2B,kBAAzB,CAA8C,SAAU5f,GAAV,CAAe3H,OAAf,CAAwB,CAClE,MAAO,IAAIsnB,cAAJ,CAAkB3f,IAAIyL,IAAtB,CAA4BzL,IAAIqK,UAAJ,CAAerO,KAAf,CAAqB,IAArB,CAA5B,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyBm0B,gBAAzB,CAA4C,SAAU5d,GAAV,CAAe3H,OAAf,CAAwB,CAChE,MAAO,IAAIolB,YAAJ,CAAgBzd,IAAIyL,IAApB,CAA0BzL,IAAIqU,SAAJ,CAAcrY,KAAd,CAAoB,IAApB,CAA1B,CAAqDgE,IAAI0d,OAAJ,CAAY1hB,KAAZ,CAAkB,IAAlB,CAArD,CAA8EgE,IAAI2d,QAAJ,CAAa3hB,KAAb,CAAmB,IAAnB,CAA9E,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyBi1B,SAAzB,CAAqC,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CACzD,MAAO,IAAImmB,YAAJ,CAAgBxe,IAAIyL,IAApB,CAA0BzL,IAAIye,GAAJ,CAAQziB,KAAR,CAAc,IAAd,CAA1B,CAA+CgE,IAAIhS,IAAnD,CAAyD,KAAKgd,QAAL,CAAchL,IAAIvK,IAAlB,CAAzD,CAAP,CACH,CAFD,CAGAgrB,eAAeh3B,SAAf,CAAyB40B,cAAzB,CAA0C,SAAUre,GAAV,CAAe3H,OAAf,CAAwB,CAC9D,MAAO,IAAI+lB,UAAJ,CAAcpe,IAAIyL,IAAlB,CAAwBzL,IAAInJ,GAAJ,CAAQmF,KAAR,CAAc,IAAd,CAAxB,CAA6CgE,IAAI9G,GAAJ,CAAQ8C,KAAR,CAAc,IAAd,CAA7C,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyB80B,eAAzB,CAA2C,SAAUve,GAAV,CAAe3H,OAAf,CAAwB,CAC/D,MAAO,IAAIimB,WAAJ,CAAete,IAAIyL,IAAnB,CAAyBzL,IAAInJ,GAAJ,CAAQmF,KAAR,CAAc,IAAd,CAAzB,CAA8CgE,IAAI9G,GAAJ,CAAQ8C,KAAR,CAAc,IAAd,CAA9C,CAAmEgE,IAAIrV,KAAJ,CAAUqR,KAAV,CAAgB,IAAhB,CAAnE,CAAP,CACH,CAFD,CAGAykB,eAAeh3B,SAAf,CAAyBuhB,QAAzB,CAAoC,SAAU3K,IAAV,CAAgB,CAChD,GAAIpR,KAAM,GAAI9F,MAAJ,CAAUkX,KAAKnW,MAAf,CAAV,CACA,IAAK,GAAIH,GAAI,CAAb,CAAgBA,EAAIsW,KAAKnW,MAAzB,CAAiC,EAAEH,CAAnC,CAAsC,CAClCkF,IAAIlF,CAAJ,EAASsW,KAAKtW,CAAL,EAAQiS,KAAR,CAAc,IAAd,CAAT,CACH,CACD,MAAO/M,IAAP,CACH,CAND,CAOAwxB,eAAeh3B,SAAf,CAAyB+zB,UAAzB,CAAsC,SAAUxd,GAAV,CAAe3H,OAAf,CAAwB,CAC1D,MAAO,IAAIilB,MAAJ,CAAUtd,IAAIyL,IAAd,CAAoB,KAAKT,QAAL,CAAchL,IAAIud,WAAlB,CAApB,CAAP,CACH,CAFD,CAGAkD,eAAeh3B,SAAf,CAAyByzB,UAAzB,CAAsC,SAAUld,GAAV,CAAe3H,OAAf,CAAwB,CAC1D,MAAO,IAAI0kB,MAAJ,CAAU/c,IAAIyL,IAAd,CAAoBzL,IAAI7T,MAAxB,CAAgC6T,IAAIgd,uBAApC,CAA6Dhd,IAAIid,QAAjE,CAAP,CACH,CAFD,CAGA,MAAOwD,eAAP,CACH,CArEmC,EAApC,CAsEA;AACA;AACA,GAAIC,+BAAgC,aAAe,UAAY,CAC3D,QAASA,8BAAT,EAAyC,CACxC,CACDA,8BAA8Bj3B,SAA9B,CAAwC4zB,qBAAxC,CAAgE,SAAUrd,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO2H,IAAP,CAAa,CAAvG,CACA0gB,8BAA8Bj3B,SAA9B,CAAwC01B,kBAAxC,CAA6D,SAAUnf,GAAV,CAAe3H,OAAf,CAAwB,CACjF,GAAIklB,aAAc,KAAKvS,QAAL,CAAchL,IAAIud,WAAlB,CAAlB,CACA,GAAIA,cAAgBvd,IAAIud,WAAxB,CACI,MAAO,IAAI0B,cAAJ,CAAkBjf,IAAIyL,IAAtB,CAA4BzL,IAAIkf,OAAhC,CAAyC3B,WAAzC,CAAP,CACJ,MAAOvd,IAAP,CACH,CALD,CAMA0gB,8BAA8Bj3B,SAA9B,CAAwCm1B,qBAAxC,CAAgE,SAAU5e,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO2H,IAAP,CAAa,CAAvG,CACA0gB,8BAA8Bj3B,SAA9B,CAAwCs0B,iBAAxC,CAA4D,SAAU/d,GAAV,CAAe3H,OAAf,CAAwB,CAChF,GAAIylB,UAAW9d,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAAf,CACA,GAAI8hB,WAAa9d,IAAI8d,QAArB,CAA+B,CAC3B,MAAO,IAAID,aAAJ,CAAiB7d,IAAIyL,IAArB,CAA2BqS,QAA3B,CAAqC9d,IAAIhS,IAAzC,CAAP,CACH,CACD,MAAOgS,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCw0B,kBAAxC,CAA6D,SAAUje,GAAV,CAAe3H,OAAf,CAAwB,CACjF,GAAIylB,UAAW9d,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAAf,CACA,GAAIrR,OAAQqV,IAAIrV,KAAJ,CAAUqR,KAAV,CAAgB,IAAhB,CAAZ,CACA,GAAI8hB,WAAa9d,IAAI8d,QAAjB,EAA6BnzB,QAAUqV,IAAIrV,KAA/C,CAAsD,CAClD,MAAO,IAAIqzB,cAAJ,CAAkBhe,IAAIyL,IAAtB,CAA4BqS,QAA5B,CAAsC9d,IAAIhS,IAA1C,CAAgDrD,KAAhD,CAAP,CACH,CACD,MAAOqV,IAAP,CACH,CAPD,CAQA0gB,8BAA8Bj3B,SAA9B,CAAwC00B,qBAAxC,CAAgE,SAAUne,GAAV,CAAe3H,OAAf,CAAwB,CACpF,GAAIylB,UAAW9d,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAAf,CACA,GAAI8hB,WAAa9d,IAAI8d,QAArB,CAA+B,CAC3B,MAAO,IAAII,iBAAJ,CAAqBle,IAAIyL,IAAzB,CAA+BqS,QAA/B,CAAyC9d,IAAIhS,IAA7C,CAAP,CACH,CACD,MAAOgS,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCq2B,eAAxC,CAA0D,SAAU9f,GAAV,CAAe3H,OAAf,CAAwB,CAC9E,GAAIylB,UAAW9d,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAAf,CACA,GAAI8hB,WAAa9d,IAAI8d,QAArB,CAA+B,CAC3B,MAAO,IAAI+B,WAAJ,CAAe7f,IAAIyL,IAAnB,CAAyBqS,QAAzB,CAAmC9d,IAAIhS,IAAvC,CAA6C,KAAKgd,QAAL,CAAchL,IAAIvK,IAAlB,CAA7C,CAAP,CACH,CACD,MAAOuK,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCu2B,mBAAxC,CAA8D,SAAUhgB,GAAV,CAAe3H,OAAf,CAAwB,CAClF,GAAIylB,UAAW9d,IAAI8d,QAAJ,CAAa9hB,KAAb,CAAmB,IAAnB,CAAf,CACA,GAAIvG,MAAO,KAAKuV,QAAL,CAAchL,IAAIvK,IAAlB,CAAX,CACA,GAAIqoB,WAAa9d,IAAI8d,QAAjB,EAA6BroB,OAASuK,IAAIvK,IAA9C,CAAoD,CAChD,MAAO,IAAIsqB,eAAJ,CAAmB/f,IAAIyL,IAAvB,CAA6BqS,QAA7B,CAAuC9d,IAAIhS,IAA3C,CAAiDyH,IAAjD,CAAP,CACH,CACD,MAAOuK,IAAP,CACH,CAPD,CAQA0gB,8BAA8Bj3B,SAA9B,CAAwCy2B,iBAAxC,CAA4D,SAAUlgB,GAAV,CAAe3H,OAAf,CAAwB,CAChF,GAAI0E,QAASiD,IAAIjD,MAAJ,EAAciD,IAAIjD,MAAJ,CAAWf,KAAX,CAAiB,IAAjB,CAA3B,CACA,GAAIvG,MAAO,KAAKuV,QAAL,CAAchL,IAAIvK,IAAlB,CAAX,CACA,GAAIsH,SAAWiD,IAAIjD,MAAf,EAAyBtH,OAASuK,IAAIvK,IAA1C,CAAgD,CAC5C,MAAO,IAAIwqB,aAAJ,CAAiBjgB,IAAIyL,IAArB,CAA2B1O,MAA3B,CAAmCtH,IAAnC,CAAP,CACH,CACD,MAAOuK,IAAP,CACH,CAPD,CAQA0gB,8BAA8Bj3B,SAA9B,CAAwCq1B,iBAAxC,CAA4D,SAAU9e,GAAV,CAAe3H,OAAf,CAAwB,CAChF,GAAIklB,aAAc,KAAKvS,QAAL,CAAchL,IAAIud,WAAlB,CAAlB,CACA,GAAIA,cAAgBvd,IAAIud,WAAxB,CAAqC,CACjC,MAAO,IAAIsB,aAAJ,CAAiB7e,IAAIyL,IAArB,CAA2B8R,WAA3B,CAAP,CACH,CACD,MAAOvd,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCu1B,eAAxC,CAA0D,SAAUhf,GAAV,CAAe3H,OAAf,CAAwB,CAC9E,GAAI3B,QAAS,KAAKsU,QAAL,CAAchL,IAAItJ,MAAlB,CAAb,CACA,GAAIA,SAAWsJ,IAAItJ,MAAnB,CAA2B,CACvB,MAAO,IAAIqoB,WAAJ,CAAe/e,IAAIyL,IAAnB,CAAyBzL,IAAI/G,IAA7B,CAAmCvC,MAAnC,CAAP,CACH,CACD,MAAOsJ,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwC+1B,WAAxC,CAAsD,SAAUxf,GAAV,CAAe3H,OAAf,CAAwB,CAC1E,GAAIinB,MAAOtf,IAAIsf,IAAJ,CAAStjB,KAAT,CAAe,IAAf,CAAX,CACA,GAAIujB,OAAQvf,IAAIuf,KAAJ,CAAUvjB,KAAV,CAAgB,IAAhB,CAAZ,CACA,GAAIsjB,OAAStf,IAAIsf,IAAb,EAAqBC,QAAUvf,IAAIuf,KAAvC,CAA8C,CAC1C,MAAO,IAAIH,OAAJ,CAAWpf,IAAIyL,IAAf,CAAqBzL,IAAIqf,SAAzB,CAAoCC,IAApC,CAA0CC,KAA1C,CAAP,CACH,CACD,MAAOvf,IAAP,CACH,CAPD,CAQA0gB,8BAA8Bj3B,SAA9B,CAAwCi2B,cAAxC,CAAyD,SAAU1f,GAAV,CAAe3H,OAAf,CAAwB,CAC7E,GAAIgS,YAAarK,IAAIqK,UAAJ,CAAerO,KAAf,CAAqB,IAArB,CAAjB,CACA,GAAIqO,aAAerK,IAAIqK,UAAvB,CAAmC,CAC/B,MAAO,IAAIoV,UAAJ,CAAczf,IAAIyL,IAAlB,CAAwBpB,UAAxB,CAAP,CACH,CACD,MAAOrK,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCm2B,kBAAxC,CAA6D,SAAU5f,GAAV,CAAe3H,OAAf,CAAwB,CACjF,GAAIgS,YAAarK,IAAIqK,UAAJ,CAAerO,KAAf,CAAqB,IAArB,CAAjB,CACA,GAAIqO,aAAerK,IAAIqK,UAAvB,CAAmC,CAC/B,MAAO,IAAIsV,cAAJ,CAAkB3f,IAAIyL,IAAtB,CAA4BpB,UAA5B,CAAP,CACH,CACD,MAAOrK,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCm0B,gBAAxC,CAA2D,SAAU5d,GAAV,CAAe3H,OAAf,CAAwB,CAC/E,GAAIgc,WAAYrU,IAAIqU,SAAJ,CAAcrY,KAAd,CAAoB,IAApB,CAAhB,CACA,GAAI0hB,SAAU1d,IAAI0d,OAAJ,CAAY1hB,KAAZ,CAAkB,IAAlB,CAAd,CACA,GAAI2hB,UAAW3d,IAAI2d,QAAJ,CAAa3hB,KAAb,CAAmB,IAAnB,CAAf,CACA,GAAIqY,YAAcrU,IAAIqU,SAAlB,EAA+BqJ,UAAY1d,IAAI0d,OAA/C,EAA0DC,WAAaA,QAA3E,CAAqF,CACjF,MAAO,IAAIF,YAAJ,CAAgBzd,IAAIyL,IAApB,CAA0B4I,SAA1B,CAAqCqJ,OAArC,CAA8CC,QAA9C,CAAP,CACH,CACD,MAAO3d,IAAP,CACH,CARD,CASA0gB,8BAA8Bj3B,SAA9B,CAAwCi1B,SAAxC,CAAoD,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CACxE,GAAIomB,KAAMze,IAAIye,GAAJ,CAAQziB,KAAR,CAAc,IAAd,CAAV,CACA,GAAIvG,MAAO,KAAKuV,QAAL,CAAchL,IAAIvK,IAAlB,CAAX,CACA,GAAIgpB,MAAQze,IAAIye,GAAZ,EAAmBhpB,OAASuK,IAAIvK,IAApC,CAA0C,CACtC,MAAO,IAAI+oB,YAAJ,CAAgBxe,IAAIyL,IAApB,CAA0BgT,GAA1B,CAA+Bze,IAAIhS,IAAnC,CAAyCyH,IAAzC,CAAP,CACH,CACD,MAAOuK,IAAP,CACH,CAPD,CAQA0gB,8BAA8Bj3B,SAA9B,CAAwC40B,cAAxC,CAAyD,SAAUre,GAAV,CAAe3H,OAAf,CAAwB,CAC7E,GAAIxB,KAAMmJ,IAAInJ,GAAJ,CAAQmF,KAAR,CAAc,IAAd,CAAV,CACA,GAAI9C,KAAM8G,IAAI9G,GAAJ,CAAQ8C,KAAR,CAAc,IAAd,CAAV,CACA,GAAInF,MAAQmJ,IAAInJ,GAAZ,EAAmBqC,MAAQ8G,IAAI9G,GAAnC,CAAwC,CACpC,MAAO,IAAIklB,UAAJ,CAAcpe,IAAIyL,IAAlB,CAAwB5U,GAAxB,CAA6BqC,GAA7B,CAAP,CACH,CACD,MAAO8G,IAAP,CACH,CAPD,CAQA0gB,8BAA8Bj3B,SAA9B,CAAwC80B,eAAxC,CAA0D,SAAUve,GAAV,CAAe3H,OAAf,CAAwB,CAC9E,GAAIxB,KAAMmJ,IAAInJ,GAAJ,CAAQmF,KAAR,CAAc,IAAd,CAAV,CACA,GAAI9C,KAAM8G,IAAI9G,GAAJ,CAAQ8C,KAAR,CAAc,IAAd,CAAV,CACA,GAAIrR,OAAQqV,IAAIrV,KAAJ,CAAUqR,KAAV,CAAgB,IAAhB,CAAZ,CACA,GAAInF,MAAQmJ,IAAInJ,GAAZ,EAAmBqC,MAAQ8G,IAAI9G,GAA/B,EAAsCvO,QAAUqV,IAAIrV,KAAxD,CAA+D,CAC3D,MAAO,IAAI2zB,WAAJ,CAAete,IAAIyL,IAAnB,CAAyB5U,GAAzB,CAA8BqC,GAA9B,CAAmCvO,KAAnC,CAAP,CACH,CACD,MAAOqV,IAAP,CACH,CARD,CASA0gB,8BAA8Bj3B,SAA9B,CAAwCuhB,QAAxC,CAAmD,SAAU3K,IAAV,CAAgB,CAC/D,GAAIpR,KAAM,GAAI9F,MAAJ,CAAUkX,KAAKnW,MAAf,CAAV,CACA,GAAIy2B,UAAW,KAAf,CACA,IAAK,GAAI52B,GAAI,CAAb,CAAgBA,EAAIsW,KAAKnW,MAAzB,CAAiC,EAAEH,CAAnC,CAAsC,CAClC,GAAI62B,UAAWvgB,KAAKtW,CAAL,CAAf,CACA,GAAIY,OAAQi2B,SAAS5kB,KAAT,CAAe,IAAf,CAAZ,CACA/M,IAAIlF,CAAJ,EAASY,KAAT,CACAg2B,SAAWA,UAAYh2B,QAAUi2B,QAAjC,CACH,CACD,MAAOD,UAAW1xB,GAAX,CAAiBoR,IAAxB,CACH,CAVD,CAWAqgB,8BAA8Bj3B,SAA9B,CAAwC+zB,UAAxC,CAAqD,SAAUxd,GAAV,CAAe3H,OAAf,CAAwB,CACzE,GAAIklB,aAAc,KAAKvS,QAAL,CAAchL,IAAIud,WAAlB,CAAlB,CACA,GAAIA,cAAgBvd,IAAIud,WAAxB,CAAqC,CACjC,MAAO,IAAID,MAAJ,CAAUtd,IAAIyL,IAAd,CAAoB8R,WAApB,CAAP,CACH,CACD,MAAOvd,IAAP,CACH,CAND,CAOA0gB,8BAA8Bj3B,SAA9B,CAAwCyzB,UAAxC,CAAqD,SAAUld,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO2H,IAAP,CAAa,CAA5F,CACA,MAAO0gB,8BAAP,CACH,CAlJkD,EAAnD,CAmJA,QAASG,iBAAT,CAA0B7gB,GAA1B,CAA+B5H,OAA/B,CAAwCC,OAAxC,CAAiD,CAC7C,QAAS2D,MAAT,CAAegE,GAAf,CAAoB,CAChB5H,QAAQ4D,KAAR,EAAiB5D,QAAQ4D,KAAR,CAAcgE,GAAd,CAAmB3H,OAAnB,CAAjB,EAAgD2H,IAAIhE,KAAJ,CAAU5D,OAAV,CAAmBC,OAAnB,CAAhD,CACH,CACD,QAAS2S,SAAT,CAAkB3K,IAAlB,CAAwB,CAAEA,KAAK7S,OAAL,CAAawO,KAAb,EAAsB,CAChDgE,IAAIhE,KAAJ,CAAU,CACNwjB,YAAa,SAAUxf,GAAV,CAAe,CACxBhE,MAAMgE,IAAIsf,IAAV,EACAtjB,MAAMgE,IAAIuf,KAAV,EACH,CAJK,CAKN/B,WAAY,SAAUxd,GAAV,CAAe,CAAEgL,SAAShL,IAAIud,WAAb,EAA4B,CALnD,CAMNK,iBAAkB,SAAU5d,GAAV,CAAe,CAC7BhE,MAAMgE,IAAIqU,SAAV,EACArY,MAAMgE,IAAI0d,OAAV,EACA1hB,MAAMgE,IAAI2d,QAAV,EACH,CAVK,CAWNuC,kBAAmB,SAAUlgB,GAAV,CAAe,CAC9B,GAAIA,IAAIjD,MAAR,CAAgB,CACZf,MAAMgE,IAAIjD,MAAV,EACH,CACDiO,SAAShL,IAAIvK,IAAb,EACH,CAhBK,CAiBN4nB,sBAAuB,SAAUrd,GAAV,CAAe,CAAG,CAjBnC,CAkBNmf,mBAAoB,SAAUnf,GAAV,CAAe,CAAEgL,SAAShL,IAAIud,WAAb,EAA4B,CAlB3D,CAmBNc,eAAgB,SAAUre,GAAV,CAAe,CAC3BhE,MAAMgE,IAAInJ,GAAV,EACAmF,MAAMgE,IAAI9G,GAAV,EACH,CAtBK,CAuBNqlB,gBAAiB,SAAUve,GAAV,CAAe,CAC5BhE,MAAMgE,IAAInJ,GAAV,EACAmF,MAAMgE,IAAI9G,GAAV,EACA8C,MAAMgE,IAAInJ,GAAV,EACH,CA3BK,CA4BNioB,kBAAmB,SAAU9e,GAAV,CAAe,CAAEgL,SAAShL,IAAIud,WAAb,EAA4B,CA5B1D,CA6BNyB,gBAAiB,SAAUhf,GAAV,CAAe,CAAG,CA7B7B,CA8BN4e,sBAAuB,SAAU5e,GAAV,CAAe,CAAG,CA9BnC,CA+BN8f,gBAAiB,SAAU9f,GAAV,CAAe,CAC5BhE,MAAMgE,IAAI8d,QAAV,EACA9S,SAAShL,IAAIvK,IAAb,EACH,CAlCK,CAmCNipB,UAAW,SAAU1e,GAAV,CAAe,CACtBhE,MAAMgE,IAAIye,GAAV,EACAzT,SAAShL,IAAIvK,IAAb,EACH,CAtCK,CAuCNiqB,eAAgB,SAAU1f,GAAV,CAAe,CAAEhE,MAAMgE,IAAIqK,UAAV,EAAwB,CAvCnD,CAwCNuV,mBAAoB,SAAU5f,GAAV,CAAe,CAAEhE,MAAMgE,IAAIqK,UAAV,EAAwB,CAxCvD,CAyCN0T,kBAAmB,SAAU/d,GAAV,CAAe,CAAEhE,MAAMgE,IAAI8d,QAAV,EAAsB,CAzCpD,CA0CNG,mBAAoB,SAAUje,GAAV,CAAe,CAC/BhE,MAAMgE,IAAI8d,QAAV,EACA9hB,MAAMgE,IAAIrV,KAAV,EACH,CA7CK,CA8CNuyB,WAAY,SAAUld,GAAV,CAAe,CAAG,CA9CxB,CA+CNggB,oBAAqB,SAAUhgB,GAAV,CAAe,CAChChE,MAAMgE,IAAI8d,QAAV,EACA9S,SAAShL,IAAIvK,IAAb,EACH,CAlDK,CAmDN0oB,sBAAuB,SAAUne,GAAV,CAAe,CAAEhE,MAAMgE,IAAI8d,QAAV,EAAsB,CAnDxD,CAAV,EAqDH,CACD;AACA,GAAIgD,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwB9yB,IAAxB,CAA8Bqc,UAA9B,CAA0CjP,IAA1C,CAAgDW,UAAhD,CAA4D,CACxD,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKqc,UAAL,CAAkBA,UAAlB,CACA,KAAKjP,IAAL,CAAYA,IAAZ,CACA,KAAKW,UAAL,CAAkBA,UAAlB,CACA,KAAKglB,SAAL,CAAiB,KAAK3lB,IAAL,GAAc7S,QAAQy4B,kBAAR,CAA2BC,YAA1D,CACA,KAAKvkB,WAAL,CAAmB,KAAKtB,IAAL,GAAc7S,QAAQy4B,kBAAR,CAA2BE,SAA5D,CACH,CACD,MAAOJ,eAAP,CACH,CAVmC,EAApC,CAWA,CAAC,SAAUE,kBAAV,CAA8B,CAC3BA,mBAAmBA,mBAAmB,SAAnB,EAAgC,CAAnD,EAAwD,SAAxD,CACAA,mBAAmBA,mBAAmB,cAAnB,EAAqC,CAAxD,EAA6D,cAA7D,CACAA,mBAAmBA,mBAAmB,WAAnB,EAAkC,CAArD,EAA0D,WAA1D,CACH,CAJD,EAIGz4B,QAAQy4B,kBAAR,GAA+Bz4B,QAAQy4B,kBAAR,CAA6B,EAA5D,CAJH,EAKA,GAAIG,aAAc,aAAe,UAAY,CACzC;AACA;AACA,QAASA,YAAT,CAAqBnzB,IAArB,CAA2BqP,aAA3B,CAA0CjC,IAA1C,CAAgD6B,OAAhD,CAAyDlB,UAAzD,CAAqE,CACjE,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKqP,aAAL,CAAqBA,aAArB,CACA,KAAKjC,IAAL,CAAYA,IAAZ,CACA,KAAK6B,OAAL,CAAeA,OAAf,CACA,KAAKlB,UAAL,CAAkBA,UAAlB,CACH,CACD,MAAOolB,YAAP,CACH,CAXgC,EAAjC,CAYA,GAAIC,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwBpzB,IAAxB,CAA8BrD,KAA9B,CAAqCoR,UAArC,CAAiD,CAC7C,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD,MAAOqlB,eAAP,CACH,CAPmC,EAApC,CAQA,GAAIC,sBAAuB,aAAe,UAAY,CAClD,QAASA,qBAAT,CAA8BrzB,IAA9B,CAAoCoN,IAApC,CAA0CoB,eAA1C,CAA2D7R,KAA3D,CAAkE8R,IAAlE,CAAwEV,UAAxE,CAAoF,CAChF,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKoN,IAAL,CAAYA,IAAZ,CACA,KAAKoB,eAAL,CAAuBA,eAAvB,CACA,KAAK7R,KAAL,CAAaA,KAAb,CACA,KAAK8R,IAAL,CAAYA,IAAZ,CACA,KAAKV,UAAL,CAAkBA,UAAlB,CACH,CACD,MAAOslB,qBAAP,CACH,CAVyC,EAA1C,CAYA;;;;;;OAOA,GAAIC,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,CAA4BpC,OAA5B,CAAqC3B,WAArC,CAAkDgE,OAAlD,CAA2D,CACvD,KAAKrC,OAAL,CAAeA,OAAf,CACA,KAAK3B,WAAL,CAAmBA,WAAnB,CACA,KAAKgE,OAAL,CAAeA,OAAf,CACH,CACD,MAAOD,mBAAP,CACH,CAPuC,EAAxC,CAQA,GAAIE,4BAA6B,aAAe,UAAY,CACxD,QAASA,2BAAT,CAAoCC,gBAApC,CAAsDC,QAAtD,CAAgEtR,MAAhE,CAAwE,CACpE,KAAKqR,gBAAL,CAAwBA,gBAAxB,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKtR,MAAL,CAAcA,MAAd,CACH,CACD,MAAOoR,2BAAP,CACH,CAP+C,EAAhD,CAQA,QAASG,yBAAT,CAAkCC,MAAlC,CAA0C,CACtC,GAAIC,SAAU1nB,aAAaynB,OAAOxW,KAApB,EAA6B,cAA7B,CAA8CjR,aAAaynB,OAAOtW,GAApB,CAA5D,CACA,MAAO,IAAI/c,OAAJ,CAAWszB,OAAX,CAAoB,GAApB,CAAP,CACH,CACD,GAAIC,QAAS,aAAe,UAAY,CACpC,QAASA,OAAT,CAAgBC,MAAhB,CAAwB,CACpB,KAAKA,MAAL,CAAcA,MAAd,CACA,KAAK3R,MAAL,CAAc,EAAd,CACH,CACD0R,OAAOr4B,SAAP,CAAiBu4B,WAAjB,CAA+B,SAAUvqB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CAC3E,GAAIA,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,KAAK6V,qBAAL,CAA2BxqB,KAA3B,CAAkCwlB,QAAlC,CAA4C/M,mBAA5C,EACA,GAAIgS,aAAc,KAAKC,cAAL,CAAoB1qB,KAApB,CAAlB,CACA,GAAIghB,QAAS,KAAKsJ,MAAL,CAAY1J,QAAZ,CAAqB,KAAK8J,cAAL,CAAoB1qB,KAApB,CAArB,CAAb,CACA,GAAIuI,KAAM,GAAIoiB,UAAJ,CAAc3qB,KAAd,CAAqBwlB,QAArB,CAA+BxE,MAA/B,CAAuCyJ,YAAYh4B,MAAnD,CAA2D,IAA3D,CAAiE,KAAKkmB,MAAtE,CAA8E3Y,MAAMvN,MAAN,CAAeg4B,YAAYh4B,MAAzG,EACLm4B,UADK,EAAV,CAEA,MAAO,IAAIlC,cAAJ,CAAkBngB,GAAlB,CAAuBvI,KAAvB,CAA8BwlB,QAA9B,CAAwC,KAAK7M,MAA7C,CAAP,CACH,CARD,CASA0R,OAAOr4B,SAAP,CAAiB64B,YAAjB,CAAgC,SAAU7qB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CAC5E,GAAIA,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,GAAIpM,KAAM,KAAKuiB,gBAAL,CAAsB9qB,KAAtB,CAA6BwlB,QAA7B,CAAuC/M,mBAAvC,CAAV,CACA,MAAO,IAAIiQ,cAAJ,CAAkBngB,GAAlB,CAAuBvI,KAAvB,CAA8BwlB,QAA9B,CAAwC,KAAK7M,MAA7C,CAAP,CACH,CAJD,CAKA0R,OAAOr4B,SAAP,CAAiB+4B,kBAAjB,CAAsC,SAAU/qB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CAClF,GAAIA,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,GAAIpM,KAAM,KAAKuiB,gBAAL,CAAsB9qB,KAAtB,CAA6BwlB,QAA7B,CAAuC/M,mBAAvC,CAAV,CACA,GAAIE,QAASqS,wBAAwBC,KAAxB,CAA8B1iB,GAA9B,CAAb,CACA,GAAIoQ,OAAOlmB,MAAP,CAAgB,CAApB,CAAuB,CACnB,KAAKy4B,YAAL,CAAkB,0CAA4CvS,OAAOpgB,IAAP,CAAY,GAAZ,CAA9D,CAAgFyH,KAAhF,CAAuFwlB,QAAvF,EACH,CACD,MAAO,IAAIkD,cAAJ,CAAkBngB,GAAlB,CAAuBvI,KAAvB,CAA8BwlB,QAA9B,CAAwC,KAAK7M,MAA7C,CAAP,CACH,CARD,CASA0R,OAAOr4B,SAAP,CAAiBk5B,YAAjB,CAAgC,SAAUjI,OAAV,CAAmBjjB,KAAnB,CAA0BklB,WAA1B,CAAuCC,WAAvC,CAAoD,CAChF,KAAKxM,MAAL,CAAYnlB,IAAZ,CAAiB,GAAIyxB,YAAJ,CAAgBhC,OAAhB,CAAyBjjB,KAAzB,CAAgCklB,WAAhC,CAA6CC,WAA7C,CAAjB,EACH,CAFD,CAGAkF,OAAOr4B,SAAP,CAAiB84B,gBAAjB,CAAoC,SAAU9qB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CAChF;AACA;AACA,GAAI8L,OAAQ,KAAK4G,WAAL,CAAiBnrB,KAAjB,CAAwBwlB,QAAxB,CAAZ,CACA,GAAIjB,OAAS,IAAb,CAAmB,CACf,MAAOA,MAAP,CACH,CACD,KAAKiG,qBAAL,CAA2BxqB,KAA3B,CAAkCwlB,QAAlC,CAA4C/M,mBAA5C,EACA,GAAIgS,aAAc,KAAKC,cAAL,CAAoB1qB,KAApB,CAAlB,CACA,GAAIghB,QAAS,KAAKsJ,MAAL,CAAY1J,QAAZ,CAAqB6J,WAArB,CAAb,CACA,MAAO,IAAIE,UAAJ,CAAc3qB,KAAd,CAAqBwlB,QAArB,CAA+BxE,MAA/B,CAAuCyJ,YAAYh4B,MAAnD,CAA2D,KAA3D,CAAkE,KAAKkmB,MAAvE,CAA+E3Y,MAAMvN,MAAN,CAAeg4B,YAAYh4B,MAA1G,EACFm4B,UADE,EAAP,CAEH,CAZD,CAaAP,OAAOr4B,SAAP,CAAiBm5B,WAAjB,CAA+B,SAAUnrB,KAAV,CAAiBwlB,QAAjB,CAA2B,CACtD,GAAIxlB,OAAS,IAAb,CACI,MAAO,KAAP,CACJ,GAAIorB,sBAAuBprB,MAAMhM,OAAN,CAAc,GAAd,CAA3B,CACA,GAAIo3B,sBAAwB,CAAC,CAA7B,CACI,MAAO,KAAP,CACJ,GAAI12B,QAASsL,MAAMyD,SAAN,CAAgB,CAAhB,CAAmB2nB,oBAAnB,EAAyC3qB,IAAzC,EAAb,CACA,GAAI,CAACohB,aAAantB,MAAb,CAAL,CACI,MAAO,KAAP,CACJ,GAAI6wB,yBAA0BvlB,MAAMyD,SAAN,CAAgB2nB,qBAAuB,CAAvC,CAA9B,CACA,MAAO,IAAI9F,MAAJ,CAAU,GAAIF,UAAJ,CAAc,CAAd,CAAiBplB,MAAMvN,MAAvB,CAAV,CAA0CiC,MAA1C,CAAkD6wB,uBAAlD,CAA2EC,QAA3E,CAAP,CACH,CAXD,CAYA6E,OAAOr4B,SAAP,CAAiBq5B,qBAAjB,CAAyC,SAAUC,MAAV,CAAkBC,QAAlB,CAA4B/F,QAA5B,CAAsC,CAC3E,GAAIxE,QAAS,KAAKsJ,MAAL,CAAY1J,QAAZ,CAAqB2K,QAArB,CAAb,CACA,MAAO,IAAIZ,UAAJ,CAAcY,QAAd,CAAwB/F,QAAxB,CAAkCxE,MAAlC,CAA0CuK,SAAS94B,MAAnD,CAA2D,KAA3D,CAAkE,KAAKkmB,MAAvE,CAA+E,CAA/E,EACF0S,qBADE,CACoBC,MADpB,CAAP,CAEH,CAJD,CAKAjB,OAAOr4B,SAAP,CAAiBw5B,kBAAjB,CAAsC,SAAUxrB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CAClF,GAAIA,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,GAAI5Q,OAAQ,KAAK0nB,kBAAL,CAAwBzrB,KAAxB,CAA+BwlB,QAA/B,CAAyC/M,mBAAzC,CAAZ,CACA,GAAI1U,OAAS,IAAb,CACI,MAAO,KAAP,CACJ,GAAI+hB,aAAc,EAAlB,CACA,IAAK,GAAIxzB,GAAI,CAAb,CAAgBA,EAAIyR,MAAM+hB,WAAN,CAAkBrzB,MAAtC,CAA8C,EAAEH,CAAhD,CAAmD,CAC/C,GAAIo5B,gBAAiB3nB,MAAM+hB,WAAN,CAAkBxzB,CAAlB,CAArB,CACA,GAAIm4B,aAAc,KAAKC,cAAL,CAAoBgB,cAApB,CAAlB,CACA,GAAI1K,QAAS,KAAKsJ,MAAL,CAAY1J,QAAZ,CAAqB6J,WAArB,CAAb,CACA,GAAIliB,KAAM,GAAIoiB,UAAJ,CAAc3qB,KAAd,CAAqBwlB,QAArB,CAA+BxE,MAA/B,CAAuCyJ,YAAYh4B,MAAnD,CAA2D,KAA3D,CAAkE,KAAKkmB,MAAvE,CAA+E5U,MAAM+lB,OAAN,CAAcx3B,CAAd,GAAoBo5B,eAAej5B,MAAf,CAAwBg4B,YAAYh4B,MAAxD,CAA/E,EACLm4B,UADK,EAAV,CAEA9E,YAAYtyB,IAAZ,CAAiB+U,GAAjB,EACH,CACD,MAAO,IAAImgB,cAAJ,CAAkB,GAAIlB,cAAJ,CAAkB,GAAIpC,UAAJ,CAAc,CAAd,CAAiBplB,OAAS,IAAT,CAAgB,CAAhB,CAAoBA,MAAMvN,MAA3C,CAAlB,CAAsEsR,MAAM0jB,OAA5E,CAAqF3B,WAArF,CAAlB,CAAqH9lB,KAArH,CAA4HwlB,QAA5H,CAAsI,KAAK7M,MAA3I,CAAP,CACH,CAfD,CAgBA0R,OAAOr4B,SAAP,CAAiBy5B,kBAAjB,CAAsC,SAAUzrB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CAClF,GAAIA,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,GAAIL,QAAS4V,yBAAyBzR,mBAAzB,CAAb,CACA,GAAIlL,OAAQvN,MAAM+D,KAAN,CAAYuQ,MAAZ,CAAZ,CACA,GAAI/G,MAAM9a,MAAN,EAAgB,CAApB,CAAuB,CACnB,MAAO,KAAP,CACH,CACD,GAAIg1B,SAAU,EAAd,CACA,GAAI3B,aAAc,EAAlB,CACA,GAAIgE,SAAU,EAAd,CACA,GAAIlW,QAAS,CAAb,CACA,IAAK,GAAIthB,GAAI,CAAb,CAAgBA,EAAIib,MAAM9a,MAA1B,CAAkCH,GAAlC,CAAuC,CACnC,GAAIq5B,MAAOpe,MAAMjb,CAAN,CAAX,CACA,GAAIA,EAAI,CAAJ,GAAU,CAAd,CAAiB,CACb;AACAm1B,QAAQj0B,IAAR,CAAam4B,IAAb,EACA/X,QAAU+X,KAAKl5B,MAAf,CACH,CAJD,IAKK,IAAIk5B,KAAKlrB,IAAL,GAAYhO,MAAZ,CAAqB,CAAzB,CAA4B,CAC7BmhB,QAAU6E,oBAAoB9E,KAApB,CAA0BlhB,MAApC,CACAqzB,YAAYtyB,IAAZ,CAAiBm4B,IAAjB,EACA7B,QAAQt2B,IAAR,CAAaogB,MAAb,EACAA,QAAU+X,KAAKl5B,MAAL,CAAcgmB,oBAAoB5E,GAApB,CAAwBphB,MAAhD,CACH,CALI,IAMA,CACD,KAAKy4B,YAAL,CAAkB,2DAAlB,CAA+ElrB,KAA/E,CAAsF,aAAe,KAAK4rB,6BAAL,CAAmCre,KAAnC,CAA0Cjb,CAA1C,CAA6CmmB,mBAA7C,CAAf,CAAmF,KAAzK,CAAgL+M,QAAhL,EACAM,YAAYtyB,IAAZ,CAAiB,UAAjB,EACAs2B,QAAQt2B,IAAR,CAAaogB,MAAb,EACH,CACJ,CACD,MAAO,IAAIiW,mBAAJ,CAAuBpC,OAAvB,CAAgC3B,WAAhC,CAA6CgE,OAA7C,CAAP,CACH,CA/BD,CAgCAO,OAAOr4B,SAAP,CAAiB65B,oBAAjB,CAAwC,SAAU7rB,KAAV,CAAiBwlB,QAAjB,CAA2B,CAC/D,MAAO,IAAIkD,cAAJ,CAAkB,GAAIxB,iBAAJ,CAAqB,GAAI9B,UAAJ,CAAc,CAAd,CAAiBplB,OAAS,IAAT,CAAgB,CAAhB,CAAoBA,MAAMvN,MAA3C,CAArB,CAAyEuN,KAAzE,CAAlB,CAAmGA,KAAnG,CAA0GwlB,QAA1G,CAAoH,KAAK7M,MAAzH,CAAP,CACH,CAFD,CAGA0R,OAAOr4B,SAAP,CAAiB04B,cAAjB,CAAkC,SAAU1qB,KAAV,CAAiB,CAC/C,GAAI1N,GAAI,KAAKw5B,aAAL,CAAmB9rB,KAAnB,CAAR,CACA,MAAO1N,IAAK,IAAL,CAAY0N,MAAMyD,SAAN,CAAgB,CAAhB,CAAmBnR,CAAnB,EAAsBmO,IAAtB,EAAZ,CAA2CT,KAAlD,CACH,CAHD,CAIAqqB,OAAOr4B,SAAP,CAAiB85B,aAAjB,CAAiC,SAAU9rB,KAAV,CAAiB,CAC9C,GAAI+rB,YAAa,IAAjB,CACA,IAAK,GAAIz5B,GAAI,CAAb,CAAgBA,EAAI0N,MAAMvN,MAAN,CAAe,CAAnC,CAAsCH,GAAtC,CAA2C,CACvC,GAAI05B,MAAOhsB,MAAMkD,UAAN,CAAiB5Q,CAAjB,CAAX,CACA,GAAI25B,UAAWjsB,MAAMkD,UAAN,CAAiB5Q,EAAI,CAArB,CAAf,CACA,GAAI05B,OAAS9N,MAAT,EAAmB+N,UAAY/N,MAA/B,EAAyC6N,YAAc,IAA3D,CACI,MAAOz5B,EAAP,CACJ,GAAIy5B,aAAeC,IAAnB,CAAyB,CACrBD,WAAa,IAAb,CACH,CAFD,IAGK,IAAIA,YAAc,IAAd,EAAsBhH,QAAQiH,IAAR,CAA1B,CAAyC,CAC1CD,WAAaC,IAAb,CACH,CACJ,CACD,MAAO,KAAP,CACH,CAfD,CAgBA3B,OAAOr4B,SAAP,CAAiBw4B,qBAAjB,CAAyC,SAAUxqB,KAAV,CAAiBwlB,QAAjB,CAA2B/M,mBAA3B,CAAgD,CACrF,GAAInE,QAAS4V,yBAAyBzR,mBAAzB,CAAb,CACA,GAAIlL,OAAQvN,MAAM+D,KAAN,CAAYuQ,MAAZ,CAAZ,CACA,GAAI/G,MAAM9a,MAAN,CAAe,CAAnB,CAAsB,CAClB,KAAKy4B,YAAL,CAAkB,sBAAwBzS,oBAAoB9E,KAA5C,CAAoD8E,oBAAoB5E,GAAxE,CAA8E,iCAAhG,CAAmI7T,KAAnI,CAA0I,aAAe,KAAK4rB,6BAAL,CAAmCre,KAAnC,CAA0C,CAA1C,CAA6CkL,mBAA7C,CAAf,CAAmF,KAA7N,CAAoO+M,QAApO,EACH,CACJ,CAND,CAOA6E,OAAOr4B,SAAP,CAAiB45B,6BAAjB,CAAiD,SAAUre,KAAV,CAAiB2e,YAAjB,CAA+BzT,mBAA/B,CAAoD,CACjG,GAAIyM,aAAc,EAAlB,CACA,IAAK,GAAIiH,GAAI,CAAb,CAAgBA,EAAID,YAApB,CAAkCC,GAAlC,CAAuC,CACnCjH,aAAeiH,EAAI,CAAJ,GAAU,CAAV,CACX5e,MAAM4e,CAAN,CADW,CAEX,GAAK1T,oBAAoB9E,KAAzB,CAAiCpG,MAAM4e,CAAN,CAAjC,CAA4C1T,oBAAoB5E,GAFpE,CAGH,CACD,MAAOqR,aAAYzyB,MAAnB,CACH,CARD,CASA,MAAO43B,OAAP,CACH,CArJ2B,EAA5B,CAsJA,GAAIM,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmB3qB,KAAnB,CAA0BwlB,QAA1B,CAAoCxE,MAApC,CAA4CoL,WAA5C,CAAyD7B,WAAzD,CAAsE5R,MAAtE,CAA8E/E,MAA9E,CAAsF,CAClF,KAAK5T,KAAL,CAAaA,KAAb,CACA,KAAKwlB,QAAL,CAAgBA,QAAhB,CACA,KAAKxE,MAAL,CAAcA,MAAd,CACA,KAAKoL,WAAL,CAAmBA,WAAnB,CACA,KAAK7B,WAAL,CAAmBA,WAAnB,CACA,KAAK5R,MAAL,CAAcA,MAAd,CACA,KAAK/E,MAAL,CAAcA,MAAd,CACA,KAAKyY,eAAL,CAAuB,CAAvB,CACA,KAAKC,iBAAL,CAAyB,CAAzB,CACA,KAAKC,eAAL,CAAuB,CAAvB,CACA,KAAKvpB,KAAL,CAAa,CAAb,CACH,CACD2nB,UAAU34B,SAAV,CAAoBmxB,IAApB,CAA2B,SAAUvP,MAAV,CAAkB,CACzC,GAAIthB,GAAI,KAAK0Q,KAAL,CAAa4Q,MAArB,CACA,MAAOthB,GAAI,KAAK0uB,MAAL,CAAYvuB,MAAhB,CAAyB,KAAKuuB,MAAL,CAAY1uB,CAAZ,CAAzB,CAA0C4wB,GAAjD,CACH,CAHD,CAIA3xB,OAAOsgB,cAAP,CAAsB8Y,UAAU34B,SAAhC,CAA2C,MAA3C,CAAmD,CAC/C2I,IAAK,UAAY,CAAE,MAAO,MAAKwoB,IAAL,CAAU,CAAV,CAAP,CAAsB,CADM,CAE/CrR,WAAY,IAFmC,CAG/CC,aAAc,IAHiC,CAAnD,EAKAxgB,OAAOsgB,cAAP,CAAsB8Y,UAAU34B,SAAhC,CAA2C,YAA3C,CAAyD,CACrD2I,IAAK,UAAY,CACb,MAAQ,MAAKqI,KAAL,CAAa,KAAKge,MAAL,CAAYvuB,MAA1B,CAAoC,KAAKQ,IAAL,CAAU+P,KAAV,CAAkB,KAAK4Q,MAA3D,CACH,KAAKwY,WAAL,CAAmB,KAAKxY,MAD5B,CAEH,CAJoD,CAKrD9B,WAAY,IALyC,CAMrDC,aAAc,IANuC,CAAzD,EAQA4Y,UAAU34B,SAAV,CAAoBgiB,IAApB,CAA2B,SAAUL,KAAV,CAAiB,CAAE,MAAO,IAAIyR,UAAJ,CAAczR,KAAd,CAAqB,KAAK6Y,UAA1B,CAAP,CAA+C,CAA7F,CACA7B,UAAU34B,SAAV,CAAoBoxB,OAApB,CAA8B,UAAY,CAAE,KAAKpgB,KAAL,GAAe,CAA3D,CACA2nB,UAAU34B,SAAV,CAAoBy6B,iBAApB,CAAwC,SAAUpM,IAAV,CAAgB,CACpD,GAAI,KAAKptB,IAAL,CAAUouB,WAAV,CAAsBhB,IAAtB,CAAJ,CAAiC,CAC7B,KAAK+C,OAAL,GACA,MAAO,KAAP,CACH,CAHD,IAIK,CACD,MAAO,MAAP,CACH,CACJ,CARD,CASAuH,UAAU34B,SAAV,CAAoB06B,cAApB,CAAqC,UAAY,CAAE,MAAO,MAAKz5B,IAAL,CAAUgvB,YAAV,EAAP,CAAkC,CAArF,CACA0I,UAAU34B,SAAV,CAAoB26B,aAApB,CAAoC,UAAY,CAAE,MAAO,MAAK15B,IAAL,CAAUivB,WAAV,EAAP,CAAiC,CAAnF,CACAyI,UAAU34B,SAAV,CAAoB46B,eAApB,CAAsC,SAAUvM,IAAV,CAAgB,CAClD,GAAI,KAAKoM,iBAAL,CAAuBpM,IAAvB,CAAJ,CACI,OACJ,KAAK5sB,KAAL,CAAW,oBAAsB2P,OAAOC,YAAP,CAAoBgd,IAApB,CAAjC,EACH,CAJD,CAKAsK,UAAU34B,SAAV,CAAoB66B,gBAApB,CAAuC,SAAUC,EAAV,CAAc,CACjD,GAAI,KAAK75B,IAAL,CAAUyuB,UAAV,CAAqBoL,EAArB,CAAJ,CAA8B,CAC1B,KAAK1J,OAAL,GACA,MAAO,KAAP,CACH,CAHD,IAIK,CACD,MAAO,MAAP,CACH,CACJ,CARD,CASAuH,UAAU34B,SAAV,CAAoB+6B,cAApB,CAAqC,SAAUC,QAAV,CAAoB,CACrD,GAAI,KAAKH,gBAAL,CAAsBG,QAAtB,CAAJ,CACI,OACJ,KAAKv5B,KAAL,CAAW,6BAA+Bu5B,QAA1C,EACH,CAJD,CAKArC,UAAU34B,SAAV,CAAoBi7B,yBAApB,CAAgD,UAAY,CACxD,GAAI16B,GAAI,KAAKU,IAAb,CACA,GAAI,CAACV,EAAEsvB,YAAF,EAAD,EAAqB,CAACtvB,EAAEwvB,SAAF,EAA1B,CAAyC,CACrC,KAAKtuB,KAAL,CAAW,oBAAsBlB,CAAtB,CAA0B,kCAArC,EACA,MAAO,EAAP,CACH,CACD,KAAK6wB,OAAL,GACA,MAAO7wB,GAAEqG,QAAF,EAAP,CACH,CARD,CASA+xB,UAAU34B,SAAV,CAAoBk7B,iCAApB,CAAwD,UAAY,CAChE,GAAI36B,GAAI,KAAKU,IAAb,CACA,GAAI,CAACV,EAAEsvB,YAAF,EAAD,EAAqB,CAACtvB,EAAEwvB,SAAF,EAAtB,EAAuC,CAACxvB,EAAEkvB,QAAF,EAA5C,CAA0D,CACtD,KAAKhuB,KAAL,CAAW,oBAAsBlB,CAAtB,CAA0B,2CAArC,EACA,MAAO,EAAP,CACH,CACD,KAAK6wB,OAAL,GACA,MAAO7wB,GAAEqG,QAAF,EAAP,CACH,CARD,CASA+xB,UAAU34B,SAAV,CAAoB44B,UAApB,CAAiC,UAAY,CACzC,GAAIuC,OAAQ,EAAZ,CACA,GAAIxZ,OAAQ,KAAK6Y,UAAjB,CACA,MAAO,KAAKxpB,KAAL,CAAa,KAAKge,MAAL,CAAYvuB,MAAhC,CAAwC,CACpC,GAAI26B,MAAO,KAAKC,SAAL,EAAX,CACAF,MAAM35B,IAAN,CAAW45B,IAAX,EACA,GAAI,KAAKX,iBAAL,CAAuBrO,UAAvB,CAAJ,CAAwC,CACpC,GAAI,CAAC,KAAKmM,WAAV,CAAuB,CACnB,KAAK92B,KAAL,CAAW,sDAAX,EACH,CACD,MAAO,KAAKg5B,iBAAL,CAAuBrO,UAAvB,CAAP,CAA2C,CAC1C,CAAC;AACL,CAND,IAOK,IAAI,KAAKpb,KAAL,CAAa,KAAKge,MAAL,CAAYvuB,MAA7B,CAAqC,CACtC,KAAKgB,KAAL,CAAW,qBAAuB,KAAKR,IAA5B,CAAmC,GAA9C,EACH,CACJ,CACD,GAAIk6B,MAAM16B,MAAN,EAAgB,CAApB,CACI,MAAO,IAAIizB,UAAJ,CAAc,KAAK1R,IAAL,CAAUL,KAAV,CAAd,CAAP,CACJ,GAAIwZ,MAAM16B,MAAN,EAAgB,CAApB,CACI,MAAO06B,OAAM,CAAN,CAAP,CACJ,MAAO,IAAItH,MAAJ,CAAU,KAAK7R,IAAL,CAAUL,KAAV,CAAV,CAA4BwZ,KAA5B,CAAP,CACH,CAtBD,CAuBAxC,UAAU34B,SAAV,CAAoBq7B,SAApB,CAAgC,UAAY,CACxC,GAAI10B,QAAS,KAAK20B,eAAL,EAAb,CACA,GAAI,KAAKT,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CAC5B,GAAI,KAAKtC,WAAT,CAAsB,CAClB,KAAK92B,KAAL,CAAW,4CAAX,EACH,CACD,EAAG,CACC,GAAIqF,QAAS,KAAKm0B,yBAAL,EAAb,CACA,GAAIjvB,MAAO,EAAX,CACA,MAAO,KAAKyuB,iBAAL,CAAuBtO,MAAvB,CAAP,CAAuC,CACnCngB,KAAKxK,IAAL,CAAU,KAAK85B,eAAL,EAAV,EACH,CACD30B,OAAS,GAAIouB,YAAJ,CAAgB,KAAK/S,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAhB,CAA8Chb,MAA9C,CAAsDG,MAAtD,CAA8DkF,IAA9D,CAAT,CACH,CAPD,MAOS,KAAK6uB,gBAAL,CAAsB,GAAtB,CAPT,EAQH,CACD,MAAOl0B,OAAP,CACH,CAhBD,CAiBAgyB,UAAU34B,SAAV,CAAoBs7B,eAApB,CAAsC,UAAY,CAAE,MAAO,MAAKC,gBAAL,EAAP,CAAiC,CAArF,CACA5C,UAAU34B,SAAV,CAAoBu7B,gBAApB,CAAuC,UAAY,CAC/C,GAAI5Z,OAAQ,KAAK6Y,UAAjB,CACA,GAAI7zB,QAAS,KAAK60B,cAAL,EAAb,CACA,GAAI,KAAKX,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CAC5B,GAAIY,KAAM,KAAKJ,SAAL,EAAV,CACA,GAAIK,IAAK,IAAK,EAAd,CACA,GAAI,CAAC,KAAKjB,iBAAL,CAAuBtO,MAAvB,CAAL,CAAqC,CACjC,GAAItK,KAAM,KAAK2Y,UAAf,CACA,GAAI5Z,YAAa,KAAK5S,KAAL,CAAWyD,SAAX,CAAqBkQ,KAArB,CAA4BE,GAA5B,CAAjB,CACA,KAAKpgB,KAAL,CAAW,0BAA4Bmf,UAA5B,CAAyC,6BAApD,EACA8a,GAAK,GAAIhI,UAAJ,CAAc,KAAK1R,IAAL,CAAUL,KAAV,CAAd,CAAL,CACH,CALD,IAMK,CACD+Z,GAAK,KAAKL,SAAL,EAAL,CACH,CACD,MAAO,IAAIrH,YAAJ,CAAgB,KAAKhS,IAAL,CAAUL,KAAV,CAAhB,CAAkChb,MAAlC,CAA0C80B,GAA1C,CAA+CC,EAA/C,CAAP,CACH,CAbD,IAcK,CACD,MAAO/0B,OAAP,CACH,CACJ,CApBD,CAqBAgyB,UAAU34B,SAAV,CAAoBw7B,cAApB,CAAqC,UAAY,CAC7C;AACA,GAAI70B,QAAS,KAAKg1B,eAAL,EAAb,CACA,MAAO,KAAKd,gBAAL,CAAsB,IAAtB,CAAP,CAAoC,CAChC,GAAI/E,OAAQ,KAAK6F,eAAL,EAAZ,CACAh1B,OAAS,GAAIgvB,OAAJ,CAAW,KAAK3T,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAX,CAAyC,IAAzC,CAA+Chb,MAA/C,CAAuDmvB,KAAvD,CAAT,CACH,CACD,MAAOnvB,OAAP,CACH,CARD,CASAgyB,UAAU34B,SAAV,CAAoB27B,eAApB,CAAsC,UAAY,CAC9C;AACA,GAAIh1B,QAAS,KAAKi1B,aAAL,EAAb,CACA,MAAO,KAAKf,gBAAL,CAAsB,IAAtB,CAAP,CAAoC,CAChC,GAAI/E,OAAQ,KAAK8F,aAAL,EAAZ,CACAj1B,OAAS,GAAIgvB,OAAJ,CAAW,KAAK3T,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAX,CAAyC,IAAzC,CAA+Chb,MAA/C,CAAuDmvB,KAAvD,CAAT,CACH,CACD,MAAOnvB,OAAP,CACH,CARD,CASAgyB,UAAU34B,SAAV,CAAoB47B,aAApB,CAAoC,UAAY,CAC5C;AACA,GAAIj1B,QAAS,KAAKk1B,eAAL,EAAb,CACA,MAAO,KAAK56B,IAAL,CAAU0Q,IAAV,EAAkB7S,QAAQ2vB,SAAR,CAAkBmB,QAA3C,CAAqD,CACjD,GAAIoL,UAAW,KAAK/5B,IAAL,CAAUmuB,QAAzB,CACA,OAAQ4L,QAAR,EACI,IAAK,IAAL,CACA,IAAK,KAAL,CACA,IAAK,IAAL,CACA,IAAK,KAAL,CACI,KAAK5J,OAAL,GACA,GAAI0E,OAAQ,KAAK+F,eAAL,EAAZ,CACAl1B,OAAS,GAAIgvB,OAAJ,CAAW,KAAK3T,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAX,CAAyCqZ,QAAzC,CAAmDr0B,MAAnD,CAA2DmvB,KAA3D,CAAT,CACA,SARR,CAUA,MACH,CACD,MAAOnvB,OAAP,CACH,CAlBD,CAmBAgyB,UAAU34B,SAAV,CAAoB67B,eAApB,CAAsC,UAAY,CAC9C;AACA,GAAIl1B,QAAS,KAAKm1B,aAAL,EAAb,CACA,MAAO,KAAK76B,IAAL,CAAU0Q,IAAV,EAAkB7S,QAAQ2vB,SAAR,CAAkBmB,QAA3C,CAAqD,CACjD,GAAIoL,UAAW,KAAK/5B,IAAL,CAAUmuB,QAAzB,CACA,OAAQ4L,QAAR,EACI,IAAK,GAAL,CACA,IAAK,GAAL,CACA,IAAK,IAAL,CACA,IAAK,IAAL,CACI,KAAK5J,OAAL,GACA,GAAI0E,OAAQ,KAAKgG,aAAL,EAAZ,CACAn1B,OAAS,GAAIgvB,OAAJ,CAAW,KAAK3T,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAX,CAAyCqZ,QAAzC,CAAmDr0B,MAAnD,CAA2DmvB,KAA3D,CAAT,CACA,SARR,CAUA,MACH,CACD,MAAOnvB,OAAP,CACH,CAlBD,CAmBAgyB,UAAU34B,SAAV,CAAoB87B,aAApB,CAAoC,UAAY,CAC5C;AACA,GAAIn1B,QAAS,KAAKo1B,mBAAL,EAAb,CACA,MAAO,KAAK96B,IAAL,CAAU0Q,IAAV,EAAkB7S,QAAQ2vB,SAAR,CAAkBmB,QAA3C,CAAqD,CACjD,GAAIoL,UAAW,KAAK/5B,IAAL,CAAUmuB,QAAzB,CACA,OAAQ4L,QAAR,EACI,IAAK,GAAL,CACA,IAAK,GAAL,CACI,KAAK5J,OAAL,GACA,GAAI0E,OAAQ,KAAKiG,mBAAL,EAAZ,CACAp1B,OAAS,GAAIgvB,OAAJ,CAAW,KAAK3T,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAX,CAAyCqZ,QAAzC,CAAmDr0B,MAAnD,CAA2DmvB,KAA3D,CAAT,CACA,SANR,CAQA,MACH,CACD,MAAOnvB,OAAP,CACH,CAhBD,CAiBAgyB,UAAU34B,SAAV,CAAoB+7B,mBAApB,CAA0C,UAAY,CAClD;AACA,GAAIp1B,QAAS,KAAKq1B,WAAL,EAAb,CACA,MAAO,KAAK/6B,IAAL,CAAU0Q,IAAV,EAAkB7S,QAAQ2vB,SAAR,CAAkBmB,QAA3C,CAAqD,CACjD,GAAIoL,UAAW,KAAK/5B,IAAL,CAAUmuB,QAAzB,CACA,OAAQ4L,QAAR,EACI,IAAK,GAAL,CACA,IAAK,GAAL,CACA,IAAK,GAAL,CACI,KAAK5J,OAAL,GACA,GAAI0E,OAAQ,KAAKkG,WAAL,EAAZ,CACAr1B,OAAS,GAAIgvB,OAAJ,CAAW,KAAK3T,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAX,CAAyCqZ,QAAzC,CAAmDr0B,MAAnD,CAA2DmvB,KAA3D,CAAT,CACA,SAPR,CASA,MACH,CACD,MAAOnvB,OAAP,CACH,CAjBD,CAkBAgyB,UAAU34B,SAAV,CAAoBg8B,WAApB,CAAkC,UAAY,CAC1C,GAAI,KAAK/6B,IAAL,CAAU0Q,IAAV,EAAkB7S,QAAQ2vB,SAAR,CAAkBmB,QAAxC,CAAkD,CAC9C,GAAIjO,OAAQ,KAAK6Y,UAAjB,CACA,GAAIQ,UAAW,KAAK/5B,IAAL,CAAUmuB,QAAzB,CACA,GAAIzoB,QAAS,IAAK,EAAlB,CACA,OAAQq0B,QAAR,EACI,IAAK,GAAL,CACI,KAAK5J,OAAL,GACAzqB,OAAS,KAAKq1B,WAAL,EAAT,CACA,MAAO,IAAIrG,OAAJ,CAAW,KAAK3T,IAAL,CAAUL,KAAV,CAAX,CAA6B,GAA7B,CAAkChb,MAAlC,CAA0C,GAAIuuB,iBAAJ,CAAqB,GAAI9B,UAAJ,CAAczR,KAAd,CAAqBA,KAArB,CAArB,CAAkD,CAAlD,CAA1C,CAAP,CACJ,IAAK,GAAL,CACI,KAAKyP,OAAL,GACAzqB,OAAS,KAAKq1B,WAAL,EAAT,CACA,MAAO,IAAIrG,OAAJ,CAAW,KAAK3T,IAAL,CAAUL,KAAV,CAAX,CAA6BqZ,QAA7B,CAAuC,GAAI9F,iBAAJ,CAAqB,GAAI9B,UAAJ,CAAczR,KAAd,CAAqBA,KAArB,CAArB,CAAkD,CAAlD,CAAvC,CAA6Fhb,MAA7F,CAAP,CACJ,IAAK,GAAL,CACI,KAAKyqB,OAAL,GACAzqB,OAAS,KAAKq1B,WAAL,EAAT,CACA,MAAO,IAAIhG,UAAJ,CAAc,KAAKhU,IAAL,CAAUL,KAAV,CAAd,CAAgChb,MAAhC,CAAP,CAZR,CAcH,CACD,MAAO,MAAKs1B,cAAL,EAAP,CACH,CArBD,CAsBAtD,UAAU34B,SAAV,CAAoBi8B,cAApB,CAAqC,UAAY,CAC7C,GAAIt1B,QAAS,KAAKu1B,YAAL,EAAb,CACA,MAAO,IAAP,CAAa,CACT,GAAI,KAAKzB,iBAAL,CAAuBxO,OAAvB,CAAJ,CAAqC,CACjCtlB,OAAS,KAAKw1B,6BAAL,CAAmCx1B,MAAnC,CAA2C,KAA3C,CAAT,CACH,CAFD,IAGK,IAAI,KAAKk0B,gBAAL,CAAsB,IAAtB,CAAJ,CAAiC,CAClCl0B,OAAS,KAAKw1B,6BAAL,CAAmCx1B,MAAnC,CAA2C,IAA3C,CAAT,CACH,CAFI,IAGA,IAAI,KAAK8zB,iBAAL,CAAuBzN,SAAvB,CAAJ,CAAuC,CACxC,KAAKsN,iBAAL,GACA,GAAI7qB,KAAM,KAAK4rB,SAAL,EAAV,CACA,KAAKf,iBAAL,GACA,KAAKM,eAAL,CAAqB1N,SAArB,EACA,GAAI,KAAK2N,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CAC5B,GAAI35B,OAAQ,KAAKq6B,gBAAL,EAAZ,CACA50B,OAAS,GAAIkuB,WAAJ,CAAe,KAAK7S,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAf,CAA6Chb,MAA7C,CAAqD8I,GAArD,CAA0DvO,KAA1D,CAAT,CACH,CAHD,IAIK,CACDyF,OAAS,GAAIguB,UAAJ,CAAc,KAAK3S,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAd,CAA4Chb,MAA5C,CAAoD8I,GAApD,CAAT,CACH,CACJ,CAZI,IAaA,IAAI,KAAKgrB,iBAAL,CAAuB9O,OAAvB,CAAJ,CAAqC,CACtC,KAAK0O,eAAL,GACA,GAAIruB,MAAO,KAAKowB,kBAAL,EAAX,CACA,KAAK/B,eAAL,GACA,KAAKO,eAAL,CAAqBhP,OAArB,EACAjlB,OAAS,GAAI6vB,aAAJ,CAAiB,KAAKxU,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAjB,CAA+Chb,MAA/C,CAAuDqF,IAAvD,CAAT,CACH,CANI,IAOA,IAAI,KAAK6uB,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CACjCl0B,OAAS,GAAIuvB,cAAJ,CAAkB,KAAKlU,IAAL,CAAUrb,OAAOqb,IAAP,CAAYL,KAAtB,CAAlB,CAAgDhb,MAAhD,CAAT,CACH,CAFI,IAGA,CACD,MAAOA,OAAP,CACH,CACJ,CACJ,CApCD,CAqCAgyB,UAAU34B,SAAV,CAAoBk8B,YAApB,CAAmC,UAAY,CAC3C,GAAIva,OAAQ,KAAK6Y,UAAjB,CACA,GAAI,KAAKC,iBAAL,CAAuB9O,OAAvB,CAAJ,CAAqC,CACjC,KAAK0O,eAAL,GACA,GAAI1zB,QAAS,KAAK00B,SAAL,EAAb,CACA,KAAKhB,eAAL,GACA,KAAKO,eAAL,CAAqBhP,OAArB,EACA,MAAOjlB,OAAP,CACH,CAND,IAOK,IAAI,KAAK1F,IAAL,CAAUkvB,aAAV,EAAJ,CAA+B,CAChC,KAAKiB,OAAL,GACA,MAAO,IAAI8D,iBAAJ,CAAqB,KAAKlT,IAAL,CAAUL,KAAV,CAArB,CAAuC,IAAvC,CAAP,CACH,CAHI,IAIA,IAAI,KAAK1gB,IAAL,CAAUmvB,kBAAV,EAAJ,CAAoC,CACrC,KAAKgB,OAAL,GACA,MAAO,IAAI8D,iBAAJ,CAAqB,KAAKlT,IAAL,CAAUL,KAAV,CAArB,CAAuC,IAAK,EAA5C,CAAP,CACH,CAHI,IAIA,IAAI,KAAK1gB,IAAL,CAAUovB,aAAV,EAAJ,CAA+B,CAChC,KAAKe,OAAL,GACA,MAAO,IAAI8D,iBAAJ,CAAqB,KAAKlT,IAAL,CAAUL,KAAV,CAArB,CAAuC,IAAvC,CAAP,CACH,CAHI,IAIA,IAAI,KAAK1gB,IAAL,CAAUqvB,cAAV,EAAJ,CAAgC,CACjC,KAAKc,OAAL,GACA,MAAO,IAAI8D,iBAAJ,CAAqB,KAAKlT,IAAL,CAAUL,KAAV,CAArB,CAAuC,KAAvC,CAAP,CACH,CAHI,IAIA,IAAI,KAAK1gB,IAAL,CAAUsvB,aAAV,EAAJ,CAA+B,CAChC,KAAKa,OAAL,GACA,MAAO,IAAIuC,iBAAJ,CAAqB,KAAK3R,IAAL,CAAUL,KAAV,CAArB,CAAP,CACH,CAHI,IAIA,IAAI,KAAK8Y,iBAAL,CAAuBzN,SAAvB,CAAJ,CAAuC,CACxC,KAAKsN,iBAAL,GACA,GAAI+B,UAAW,KAAKC,mBAAL,CAAyBpP,SAAzB,CAAf,CACA,KAAKoN,iBAAL,GACA,KAAKM,eAAL,CAAqB1N,SAArB,EACA,MAAO,IAAIkI,aAAJ,CAAiB,KAAKpT,IAAL,CAAUL,KAAV,CAAjB,CAAmC0a,QAAnC,CAAP,CACH,CANI,IAOA,IAAI,KAAKp7B,IAAL,CAAUouB,WAAV,CAAsBtB,OAAtB,CAAJ,CAAoC,CACrC,MAAO,MAAKwO,eAAL,EAAP,CACH,CAFI,IAGA,IAAI,KAAKt7B,IAAL,CAAU4uB,YAAV,EAAJ,CAA8B,CAC/B,MAAO,MAAKsM,6BAAL,CAAmC,GAAIxI,iBAAJ,CAAqB,KAAK3R,IAAL,CAAUL,KAAV,CAArB,CAAnC,CAA2E,KAA3E,CAAP,CACH,CAFI,IAGA,IAAI,KAAK1gB,IAAL,CAAUsuB,QAAV,EAAJ,CAA0B,CAC3B,GAAIruB,OAAQ,KAAKD,IAAL,CAAUwvB,QAAV,EAAZ,CACA,KAAKW,OAAL,GACA,MAAO,IAAI8D,iBAAJ,CAAqB,KAAKlT,IAAL,CAAUL,KAAV,CAArB,CAAuCzgB,KAAvC,CAAP,CACH,CAJI,IAKA,IAAI,KAAKD,IAAL,CAAUwuB,QAAV,EAAJ,CAA0B,CAC3B,GAAI+M,cAAe,KAAKv7B,IAAL,CAAU2F,QAAV,EAAnB,CACA,KAAKwqB,OAAL,GACA,MAAO,IAAI8D,iBAAJ,CAAqB,KAAKlT,IAAL,CAAUL,KAAV,CAArB,CAAuC6a,YAAvC,CAAP,CACH,CAJI,IAKA,IAAI,KAAKxrB,KAAL,EAAc,KAAKge,MAAL,CAAYvuB,MAA9B,CAAsC,CACvC,KAAKgB,KAAL,CAAW,iCAAmC,KAAKuM,KAAnD,EACA,MAAO,IAAI0lB,UAAJ,CAAc,KAAK1R,IAAL,CAAUL,KAAV,CAAd,CAAP,CACH,CAHI,IAIA,CACD,KAAKlgB,KAAL,CAAW,oBAAsB,KAAKR,IAAtC,EACA,MAAO,IAAIyyB,UAAJ,CAAc,KAAK1R,IAAL,CAAUL,KAAV,CAAd,CAAP,CACH,CACJ,CA5DD,CA6DAgX,UAAU34B,SAAV,CAAoBs8B,mBAApB,CAA0C,SAAUG,UAAV,CAAsB,CAC5D,GAAI91B,QAAS,EAAb,CACA,GAAI,CAAC,KAAK1F,IAAL,CAAUouB,WAAV,CAAsBoN,UAAtB,CAAL,CAAwC,CACpC,EAAG,CACC91B,OAAOnF,IAAP,CAAY,KAAK65B,SAAL,EAAZ,EACH,CAFD,MAES,KAAKZ,iBAAL,CAAuB1O,MAAvB,CAFT,EAGH,CACD,MAAOplB,OAAP,CACH,CARD,CASAgyB,UAAU34B,SAAV,CAAoBu8B,eAApB,CAAsC,UAAY,CAC9C,GAAI/sB,MAAO,EAAX,CACA,GAAIvC,QAAS,EAAb,CACA,GAAI0U,OAAQ,KAAK6Y,UAAjB,CACA,KAAKI,eAAL,CAAqB7M,OAArB,EACA,GAAI,CAAC,KAAK0M,iBAAL,CAAuBxM,OAAvB,CAAL,CAAsC,CAClC,KAAKsM,eAAL,GACA,EAAG,CACC,GAAImC,QAAS,KAAKz7B,IAAL,CAAUwuB,QAAV,EAAb,CACA,GAAIhgB,KAAM,KAAKyrB,iCAAL,EAAV,CACA1rB,KAAKhO,IAAL,CAAU,CAAEiO,IAAKA,GAAP,CAAYitB,OAAQA,MAApB,CAAV,EACA,KAAK9B,eAAL,CAAqBzO,MAArB,EACAlf,OAAOzL,IAAP,CAAY,KAAK65B,SAAL,EAAZ,EACH,CAND,MAMS,KAAKZ,iBAAL,CAAuB1O,MAAvB,CANT,EAOA,KAAKwO,eAAL,GACA,KAAKK,eAAL,CAAqB3M,OAArB,EACH,CACD,MAAO,IAAIqH,WAAJ,CAAe,KAAKtT,IAAL,CAAUL,KAAV,CAAf,CAAiCnS,IAAjC,CAAuCvC,MAAvC,CAAP,CACH,CAlBD,CAmBA0rB,UAAU34B,SAAV,CAAoBm8B,6BAApB,CAAoD,SAAU9H,QAAV,CAAoBsI,MAApB,CAA4B,CAC5E,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,KAAT,CAAiB,CAC1C,GAAIhb,OAAQ0S,SAASrS,IAAT,CAAcL,KAA1B,CACA,GAAInF,IAAK,KAAKye,yBAAL,EAAT,CACA,GAAI,KAAKR,iBAAL,CAAuB9O,OAAvB,CAAJ,CAAqC,CACjC,KAAK0O,eAAL,GACA,GAAIruB,MAAO,KAAKowB,kBAAL,EAAX,CACA,KAAKxB,eAAL,CAAqBhP,OAArB,EACA,KAAKyO,eAAL,GACA,GAAIrY,MAAO,KAAKA,IAAL,CAAUL,KAAV,CAAX,CACA,MAAOgb,QAAS,GAAIrG,eAAJ,CAAmBtU,IAAnB,CAAyBqS,QAAzB,CAAmC7X,EAAnC,CAAuCxQ,IAAvC,CAAT,CACH,GAAIoqB,WAAJ,CAAepU,IAAf,CAAqBqS,QAArB,CAA+B7X,EAA/B,CAAmCxQ,IAAnC,CADJ,CAEH,CARD,IASK,CACD,GAAI2wB,MAAJ,CAAY,CACR,GAAI,KAAK9B,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CAC5B,KAAKp5B,KAAL,CAAW,sDAAX,EACA,MAAO,IAAIiyB,UAAJ,CAAc,KAAK1R,IAAL,CAAUL,KAAV,CAAd,CAAP,CACH,CAHD,IAIK,CACD,MAAO,IAAI8S,iBAAJ,CAAqB,KAAKzS,IAAL,CAAUL,KAAV,CAArB,CAAuC0S,QAAvC,CAAiD7X,EAAjD,CAAP,CACH,CACJ,CARD,IASK,CACD,GAAI,KAAKqe,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CAC5B,GAAI,CAAC,KAAKtC,WAAV,CAAuB,CACnB,KAAK92B,KAAL,CAAW,qCAAX,EACA,MAAO,IAAIiyB,UAAJ,CAAc,KAAK1R,IAAL,CAAUL,KAAV,CAAd,CAAP,CACH,CACD,GAAIzgB,OAAQ,KAAKq6B,gBAAL,EAAZ,CACA,MAAO,IAAIhH,cAAJ,CAAkB,KAAKvS,IAAL,CAAUL,KAAV,CAAlB,CAAoC0S,QAApC,CAA8C7X,EAA9C,CAAkDtb,KAAlD,CAAP,CACH,CAPD,IAQK,CACD,MAAO,IAAIkzB,aAAJ,CAAiB,KAAKpS,IAAL,CAAUL,KAAV,CAAjB,CAAmC0S,QAAnC,CAA6C7X,EAA7C,CAAP,CACH,CACJ,CACJ,CACJ,CArCD,CAsCAmc,UAAU34B,SAAV,CAAoBo8B,kBAApB,CAAyC,UAAY,CACjD,GAAI,KAAKn7B,IAAL,CAAUouB,WAAV,CAAsBzD,OAAtB,CAAJ,CACI,MAAO,EAAP,CACJ,GAAIgR,aAAc,EAAlB,CACA,EAAG,CACCA,YAAYp7B,IAAZ,CAAiB,KAAK65B,SAAL,EAAjB,EACH,CAFD,MAES,KAAKZ,iBAAL,CAAuB1O,MAAvB,CAFT,EAGA,MAAO6Q,YAAP,CACH,CARD,CASA;;WAGAjE,UAAU34B,SAAV,CAAoB68B,wBAApB,CAA+C,UAAY,CACvD,GAAIl2B,QAAS,EAAb,CACA,GAAIm2B,eAAgB,KAApB,CACA,EAAG,CACCn2B,QAAU,KAAKu0B,iCAAL,EAAV,CACA4B,cAAgB,KAAKjC,gBAAL,CAAsB,GAAtB,CAAhB,CACA,GAAIiC,aAAJ,CAAmB,CACfn2B,QAAU,GAAV,CACH,CACJ,CAND,MAMSm2B,aANT,EAOA,MAAOn2B,QAAOC,QAAP,EAAP,CACH,CAXD,CAYA;AACA+xB,UAAU34B,SAAV,CAAoBq5B,qBAApB,CAA4C,SAAUC,MAAV,CAAkB,CAC1D,GAAIyD,cAAe,IAAnB,CACA,GAAI/S,UAAW,EAAf,CACA,GAAIiO,UAAW,EAAf,CACA,EAAG,CACC,GAAItW,OAAQ,KAAK6Y,UAAjB,CACA,GAAIwC,QAAS,IAAK,EAAlB,CACA,GAAIvtB,KAAM,IAAK,EAAf,CACA,GAAIwtB,OAAQ,KAAZ,CACA,GAAIF,YAAJ,CAAkB,CACdC,OAASvtB,IAAM6pB,MAAf,CACAyD,aAAe,KAAf,CACH,CAHD,IAIK,CACDE,MAAQ,KAAKvC,cAAL,EAAR,CACA,GAAIuC,KAAJ,CACI,KAAK7L,OAAL,GACJ4L,OAAS,KAAKH,wBAAL,EAAT,CACAptB,IAAMwtB,MAAQD,MAAR,CAAiB1D,OAAS0D,OAAO,CAAP,EAAU9uB,WAAV,EAAT,CAAmC8uB,OAAOvrB,SAAP,CAAiB,CAAjB,CAA1D,CACA,KAAKgpB,iBAAL,CAAuBtO,MAAvB,EACH,CACD,GAAI3jB,QAAS,IAAb,CACA,GAAIoY,YAAa,IAAjB,CACA,GAAIqc,KAAJ,CAAW,CACP,GAAI,KAAKpC,gBAAL,CAAsB,GAAtB,CAAJ,CAAgC,CAC5BryB,OAAS,KAAKq0B,wBAAL,EAAT,CACH,CAFD,IAGK,CACDr0B,OAAS,YAAT,CACH,CACJ,CAPD,IAQK,IAAI,KAAKmyB,aAAL,EAAJ,CAA0B,CAC3B,KAAKvJ,OAAL,GAAgB;AAChB5oB,OAASw0B,MAAT,CACAvtB,IAAM,KAAKotB,wBAAL,EAAN,CAAuC;AACvCI,MAAQ,IAAR,CACH,CALI,IAMA,IAAI,KAAKh8B,IAAL,GAAciwB,GAAd,EAAqB,CAAC,KAAKwJ,cAAL,EAA1B,CAAiD,CAClD,GAAItY,SAAU,KAAKoY,UAAnB,CACA,GAAIjkB,KAAM,KAAK8kB,SAAL,EAAV,CACA,GAAI1E,QAAS,KAAK3oB,KAAL,CAAWyD,SAAX,CAAqB2Q,QAAU,KAAKR,MAApC,CAA4C,KAAK4Y,UAAL,CAAkB,KAAK5Y,MAAnE,CAAb,CACAhB,WAAa,GAAI8V,cAAJ,CAAkBngB,GAAlB,CAAuBogB,MAAvB,CAA+B,KAAKnD,QAApC,CAA8C,KAAK7M,MAAnD,CAAb,CACH,CACDqD,SAASxoB,IAAT,CAAc,GAAIo1B,gBAAJ,CAAoB,KAAK5U,IAAL,CAAUL,KAAV,CAApB,CAAsClS,GAAtC,CAA2CwtB,KAA3C,CAAkDz0B,MAAlD,CAA0DoY,UAA1D,CAAd,EACA,GAAI,KAAK+Z,aAAL,IAAwB,CAACsC,KAA7B,CAAoC,CAChC,GAAIC,UAAW,KAAK1C,UAApB,CACA,KAAKpJ,OAAL,GAAgB;AAChB,GAAI+L,SAAU,KAAKN,wBAAL,EAAd,CAA+C;AAC/C7S,SAASxoB,IAAT,CAAc,GAAIo1B,gBAAJ,CAAoB,KAAK5U,IAAL,CAAUkb,QAAV,CAApB,CAAyCC,OAAzC,CAAkD,IAAlD,CAAwD1tB,GAAxD,CAA6D,IAA7D,CAAd,EACH,CACD,GAAI,CAAC,KAAKgrB,iBAAL,CAAuBrO,UAAvB,CAAL,CAAyC,CACrC,KAAKqO,iBAAL,CAAuB1O,MAAvB,EACH,CACJ,CAjDD,MAiDS,KAAK/a,KAAL,CAAa,KAAKge,MAAL,CAAYvuB,MAjDlC,EAkDA,MAAO,IAAIs3B,2BAAJ,CAA+B/N,QAA/B,CAAyCiO,QAAzC,CAAmD,KAAKtR,MAAxD,CAAP,CACH,CAvDD,CAwDAgS,UAAU34B,SAAV,CAAoByB,KAApB,CAA4B,SAAUwvB,OAAV,CAAmBjgB,KAAnB,CAA0B,CAClD,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,IAAR,CAAe,CACvC,KAAK2V,MAAL,CAAYnlB,IAAZ,CAAiB,GAAIyxB,YAAJ,CAAgBhC,OAAhB,CAAyB,KAAKjjB,KAA9B,CAAqC,KAAKovB,YAAL,CAAkBpsB,KAAlB,CAArC,CAA+D,KAAKwiB,QAApE,CAAjB,EACA,KAAK6J,IAAL,GACH,CAJD,CAKA1E,UAAU34B,SAAV,CAAoBo9B,YAApB,CAAmC,SAAUpsB,KAAV,CAAiB,CAChD,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,IAAR,CAAe,CACvC,GAAIA,OAAS,IAAb,CACIA,MAAQ,KAAKA,KAAb,CACJ,MAAQA,OAAQ,KAAKge,MAAL,CAAYvuB,MAArB,CAA+B,cAAgB,KAAKuuB,MAAL,CAAYhe,KAAZ,EAAmBA,KAAnB,CAA2B,CAA3C,EAAgD,KAA/E,CACH,8BADJ,CAEH,CAND,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA2nB,UAAU34B,SAAV,CAAoBq9B,IAApB,CAA2B,UAAY,CACnC,GAAI98B,GAAI,KAAKU,IAAb,CACA,MAAO,KAAK+P,KAAL,CAAa,KAAKge,MAAL,CAAYvuB,MAAzB,EAAmC,CAACF,EAAE8uB,WAAF,CAAcjD,UAAd,CAApC,GACF,KAAKiO,eAAL,EAAwB,CAAxB,EAA6B,CAAC95B,EAAE8uB,WAAF,CAAczD,OAAd,CAD5B,IAEF,KAAK2O,eAAL,EAAwB,CAAxB,EAA6B,CAACh6B,EAAE8uB,WAAF,CAAcpB,OAAd,CAF5B,IAGF,KAAKqM,iBAAL,EAA0B,CAA1B,EAA+B,CAAC/5B,EAAE8uB,WAAF,CAAcnC,SAAd,CAH9B,CAAP,CAGgE,CAC5D,GAAI,KAAKjsB,IAAL,CAAUuvB,OAAV,EAAJ,CAAyB,CACrB,KAAK7J,MAAL,CAAYnlB,IAAZ,CAAiB,GAAIyxB,YAAJ,CAAgB,KAAKhyB,IAAL,CAAU2F,QAAV,EAAhB,CAAsC,KAAKoH,KAA3C,CAAkD,KAAKovB,YAAL,EAAlD,CAAuE,KAAK5J,QAA5E,CAAjB,EACH,CACD,KAAKpC,OAAL,GACA7wB,EAAI,KAAKU,IAAT,CACH,CACJ,CAZD,CAaA,MAAO03B,UAAP,CACH,CA3hB8B,EAA/B,CA4hBA,GAAIK,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,EAAmC,CAC/B,KAAKrS,MAAL,CAAc,EAAd,CACH,CACDqS,wBAAwBC,KAAxB,CAAgC,SAAU1iB,GAAV,CAAe,CAC3C,GAAIlW,GAAI,GAAI24B,wBAAJ,EAAR,CACAziB,IAAIhE,KAAJ,CAAUlS,CAAV,EACA,MAAOA,GAAEsmB,MAAT,CACH,CAJD,CAKAqS,wBAAwBh5B,SAAxB,CAAkC4zB,qBAAlC,CAA0D,SAAUrd,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArF,CACAoqB,wBAAwBh5B,SAAxB,CAAkC01B,kBAAlC,CAAuD,SAAUnf,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCm1B,qBAAlC,CAA0D,SAAU5e,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCs0B,iBAAlC,CAAsD,SAAU/d,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCw0B,kBAAlC,CAAuD,SAAUje,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlF,CACAoqB,wBAAwBh5B,SAAxB,CAAkC00B,qBAAlC,CAA0D,SAAUne,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAArF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCq2B,eAAlC,CAAoD,SAAU9f,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA/E,CACAoqB,wBAAwBh5B,SAAxB,CAAkCu2B,mBAAlC,CAAwD,SAAUhgB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAnF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCy2B,iBAAlC,CAAsD,SAAUlgB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCq1B,iBAAlC,CAAsD,SAAU9e,GAAV,CAAe3H,OAAf,CAAwB,CAAE,KAAK2S,QAAL,CAAchL,IAAIud,WAAlB,EAAiC,CAAjH,CACAkF,wBAAwBh5B,SAAxB,CAAkCu1B,eAAlC,CAAoD,SAAUhf,GAAV,CAAe3H,OAAf,CAAwB,CAAE,KAAK2S,QAAL,CAAchL,IAAItJ,MAAlB,EAA4B,CAA1G,CACA+rB,wBAAwBh5B,SAAxB,CAAkC+1B,WAAlC,CAAgD,SAAUxf,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA3E,CACAoqB,wBAAwBh5B,SAAxB,CAAkCi2B,cAAlC,CAAmD,SAAU1f,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA9E,CACAoqB,wBAAwBh5B,SAAxB,CAAkCm2B,kBAAlC,CAAuD,SAAU5f,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCm0B,gBAAlC,CAAqD,SAAU5d,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAhF,CACAoqB,wBAAwBh5B,SAAxB,CAAkCi1B,SAAlC,CAA8C,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CAAE,KAAK+X,MAAL,CAAYnlB,IAAZ,CAAiB,OAAjB,EAA4B,CAApG,CACAw3B,wBAAwBh5B,SAAxB,CAAkC40B,cAAlC,CAAmD,SAAUre,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA9E,CACAoqB,wBAAwBh5B,SAAxB,CAAkC80B,eAAlC,CAAoD,SAAUve,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA/E,CACAoqB,wBAAwBh5B,SAAxB,CAAkCuhB,QAAlC,CAA6C,SAAU3K,IAAV,CAAgB,CACzD,GAAI/S,OAAQ,IAAZ,CACA,MAAO+S,MAAK7N,GAAL,CAAS,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAtD,CAAP,CACH,CAHD,CAIAm1B,wBAAwBh5B,SAAxB,CAAkC+zB,UAAlC,CAA+C,SAAUxd,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACAoqB,wBAAwBh5B,SAAxB,CAAkCyzB,UAAlC,CAA+C,SAAUld,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACA,MAAOoqB,wBAAP,CACH,CAlC4C,EAA7C,CAoCA;;;;;;OAOA,GAAIsE,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuBC,IAAvB,CAA6B3b,MAA7B,CAAqC4b,IAArC,CAA2CC,GAA3C,CAAgD,CAC5C,KAAKF,IAAL,CAAYA,IAAZ,CACA,KAAK3b,MAAL,CAAcA,MAAd,CACA,KAAK4b,IAAL,CAAYA,IAAZ,CACA,KAAKC,GAAL,CAAWA,GAAX,CACH,CACDH,cAAct9B,SAAd,CAAwB4G,QAAxB,CAAmC,UAAY,CAC3C,MAAO,MAAKgb,MAAL,EAAe,IAAf,CAAsB,KAAK2b,IAAL,CAAUze,GAAV,CAAgB,GAAhB,CAAsB,KAAK0e,IAA3B,CAAkC,GAAlC,CAAwC,KAAKC,GAAnE,CAAyE,KAAKF,IAAL,CAAUze,GAA1F,CACH,CAFD,CAGAwe,cAAct9B,SAAd,CAAwB09B,MAAxB,CAAiC,SAAUC,KAAV,CAAiB,CAC9C,GAAIhH,QAAS,KAAK4G,IAAL,CAAUK,OAAvB,CACA,GAAIC,KAAMlH,OAAOl2B,MAAjB,CACA,GAAImhB,QAAS,KAAKA,MAAlB,CACA,GAAI4b,MAAO,KAAKA,IAAhB,CACA,GAAIC,KAAM,KAAKA,GAAf,CACA,MAAO7b,OAAS,CAAT,EAAc+b,MAAQ,CAA7B,CAAgC,CAC5B/b,SACA+b,QACA,GAAIG,IAAKnH,OAAOzlB,UAAP,CAAkB0Q,MAAlB,CAAT,CACA,GAAIkc,IAAM/S,GAAV,CAAe,CACXyS,OACA,GAAIO,WAAYpH,OAAOqH,MAAP,CAAc,CAAd,CAAiBpc,OAAS,CAA1B,EAA6Bqc,WAA7B,CAAyC7sB,OAAOC,YAAP,CAAoB0Z,GAApB,CAAzC,CAAhB,CACA0S,IAAMM,UAAY,CAAZ,CAAgBnc,OAASmc,SAAzB,CAAqCnc,MAA3C,CACH,CAJD,IAKK,CACD6b,MACH,CACJ,CACD,MAAO7b,OAASic,GAAT,EAAgBF,MAAQ,CAA/B,CAAkC,CAC9B,GAAIG,IAAKnH,OAAOzlB,UAAP,CAAkB0Q,MAAlB,CAAT,CACAA,SACA+b,QACA,GAAIG,IAAM/S,GAAV,CAAe,CACXyS,OACAC,IAAM,CAAN,CACH,CAHD,IAIK,CACDA,MACH,CACJ,CACD,MAAO,IAAIH,cAAJ,CAAkB,KAAKC,IAAvB,CAA6B3b,MAA7B,CAAqC4b,IAArC,CAA2CC,GAA3C,CAAP,CACH,CAhCD,CAiCA;AACA;AACAH,cAAct9B,SAAd,CAAwBk+B,UAAxB,CAAqC,SAAUC,QAAV,CAAoBC,QAApB,CAA8B,CAC/D,GAAIR,SAAU,KAAKL,IAAL,CAAUK,OAAxB,CACA,GAAIS,aAAc,KAAKzc,MAAvB,CACA,GAAIyc,aAAe,IAAnB,CAAyB,CACrB,GAAIA,YAAcT,QAAQn9B,MAAR,CAAiB,CAAnC,CAAsC,CAClC49B,YAAcT,QAAQn9B,MAAR,CAAiB,CAA/B,CACH,CACD,GAAI69B,WAAYD,WAAhB,CACA,GAAIE,UAAW,CAAf,CACA,GAAIC,UAAW,CAAf,CACA,MAAOD,SAAWJ,QAAX,EAAuBE,YAAc,CAA5C,CAA+C,CAC3CA,cACAE,WACA,GAAIX,QAAQS,WAAR,GAAwB,IAA5B,CAAkC,CAC9B,GAAI,EAAEG,QAAF,EAAcJ,QAAlB,CAA4B,CACxB,MACH,CACJ,CACJ,CACDG,SAAW,CAAX,CACAC,SAAW,CAAX,CACA,MAAOD,SAAWJ,QAAX,EAAuBG,UAAYV,QAAQn9B,MAAR,CAAiB,CAA3D,CAA8D,CAC1D69B,YACAC,WACA,GAAIX,QAAQU,SAAR,GAAsB,IAA1B,CAAgC,CAC5B,GAAI,EAAEE,QAAF,EAAcJ,QAAlB,CAA4B,CACxB,MACH,CACJ,CACJ,CACD,MAAO,CACHK,OAAQb,QAAQnsB,SAAR,CAAkB4sB,WAAlB,CAA+B,KAAKzc,MAApC,CADL,CAEH8c,MAAOd,QAAQnsB,SAAR,CAAkB,KAAKmQ,MAAvB,CAA+B0c,UAAY,CAA3C,CAFJ,CAAP,CAIH,CACD,MAAO,KAAP,CACH,CApCD,CAqCA,MAAOhB,cAAP,CACH,CAnFkC,EAAnC,CAoFA,GAAIqB,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBf,OAAzB,CAAkC9e,GAAlC,CAAuC,CACnC,KAAK8e,OAAL,CAAeA,OAAf,CACA,KAAK9e,GAAL,CAAWA,GAAX,CACH,CACD,MAAO6f,gBAAP,CACH,CANoC,EAArC,CAOA,GAAIC,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBjd,KAAzB,CAAgCE,GAAhC,CAAqCgd,OAArC,CAA8C,CAC1C,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,KAAKld,KAAL,CAAaA,KAAb,CACA,KAAKE,GAAL,CAAWA,GAAX,CACA,KAAKgd,OAAL,CAAeA,OAAf,CACH,CACDD,gBAAgB5+B,SAAhB,CAA0B4G,QAA1B,CAAqC,UAAY,CAC7C,MAAO,MAAK+a,KAAL,CAAW4b,IAAX,CAAgBK,OAAhB,CAAwBnsB,SAAxB,CAAkC,KAAKkQ,KAAL,CAAWC,MAA7C,CAAqD,KAAKC,GAAL,CAASD,MAA9D,CAAP,CACH,CAFD,CAGA,MAAOgd,gBAAP,CACH,CAXoC,EAArC,CAYA,CAAC,SAAUE,eAAV,CAA2B,CACxBA,gBAAgBA,gBAAgB,SAAhB,EAA6B,CAA7C,EAAkD,SAAlD,CACAA,gBAAgBA,gBAAgB,OAAhB,EAA2B,CAA3C,EAAgD,OAAhD,CACH,CAHD,EAGGhgC,QAAQggC,eAAR,GAA4BhgC,QAAQggC,eAAR,CAA0B,EAAtD,CAHH,EAIA,GAAIC,YAAa,aAAe,UAAY,CACxC,QAASA,WAAT,CAAoB/c,IAApB,CAA0B7R,GAA1B,CAA+B6uB,KAA/B,CAAsC,CAClC,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQlgC,QAAQggC,eAAR,CAAwBG,KAAhC,CAAwC,CAChE,KAAKjd,IAAL,CAAYA,IAAZ,CACA,KAAK7R,GAAL,CAAWA,GAAX,CACA,KAAK6uB,KAAL,CAAaA,KAAb,CACH,CACDD,WAAW/+B,SAAX,CAAqBk/B,iBAArB,CAAyC,UAAY,CACjD,GAAIC,KAAM,KAAKnd,IAAL,CAAUL,KAAV,CAAgBuc,UAAhB,CAA2B,GAA3B,CAAgC,CAAhC,CAAV,CACA,MAAOiB,KAAM,KAAKhvB,GAAL,CAAW,MAAX,CAAoBgvB,IAAIV,MAAxB,CAAiC,GAAjC,CAAuC3/B,QAAQggC,eAAR,CAAwB,KAAKE,KAA7B,CAAvC,CAA6E,MAA7E,CAAsFG,IAAIT,KAA1F,CAAkG,KAAxG,CACH,KAAKvuB,GADT,CAEH,CAJD,CAKA4uB,WAAW/+B,SAAX,CAAqB4G,QAArB,CAAgC,UAAY,CACxC,GAAIi4B,SAAU,KAAK7c,IAAL,CAAU6c,OAAV,CAAoB,KAAO,KAAK7c,IAAL,CAAU6c,OAArC,CAA+C,EAA7D,CACA,MAAO,MAAKK,iBAAL,GAA2B,IAA3B,CAAkC,KAAKld,IAAL,CAAUL,KAA5C,CAAoDkd,OAA3D,CACH,CAHD,CAIA,MAAOE,WAAP,CACH,CAjB+B,EAAhC,CAkBA,QAASK,eAAT,CAAwBC,IAAxB,CAA8B1tB,IAA9B,CAAoC,CAChC,GAAI0H,WAAYX,oBAAoB/G,IAApB,CAAhB,CACA,GAAI2tB,gBAAiBjmB,WAAa,IAAb,CAAoB,MAAQgmB,IAAR,CAAe,GAAf,CAAqBhnB,eAAe1G,IAAf,CAArB,CAA4C,MAA5C,CAAqD0H,SAAzE,CACjB,MAAQgmB,IAAR,CAAe,GAAf,CAAqBhnB,eAAe1G,IAAf,CADzB,CAEA,GAAI4tB,YAAa,GAAIZ,gBAAJ,CAAoB,EAApB,CAAwBW,cAAxB,CAAjB,CACA,MAAO,IAAIV,gBAAJ,CAAoB,GAAItB,cAAJ,CAAkBiC,UAAlB,CAA8B,CAAC,CAA/B,CAAkC,CAAC,CAAnC,CAAsC,CAAC,CAAvC,CAApB,CAA+D,GAAIjC,cAAJ,CAAkBiC,UAAlB,CAA8B,CAAC,CAA/B,CAAkC,CAAC,CAAnC,CAAsC,CAAC,CAAvC,CAA/D,CAAP,CACH,CAED;;;;;;OAOA,GAAI9Q,UAAJ,CACA,CAAC,SAAUA,SAAV,CAAqB,CAClBA,UAAUA,UAAU,gBAAV,EAA8B,CAAxC,EAA6C,gBAA7C,CACAA,UAAUA,UAAU,cAAV,EAA4B,CAAtC,EAA2C,cAA3C,CACAA,UAAUA,UAAU,mBAAV,EAAiC,CAA3C,EAAgD,mBAAhD,CACAA,UAAUA,UAAU,WAAV,EAAyB,CAAnC,EAAwC,WAAxC,CACAA,UAAUA,UAAU,MAAV,EAAoB,CAA9B,EAAmC,MAAnC,CACAA,UAAUA,UAAU,oBAAV,EAAkC,CAA5C,EAAiD,oBAAjD,CACAA,UAAUA,UAAU,UAAV,EAAwB,CAAlC,EAAuC,UAAvC,CACAA,UAAUA,UAAU,eAAV,EAA6B,CAAvC,EAA4C,eAA5C,CACAA,UAAUA,UAAU,aAAV,EAA2B,CAArC,EAA0C,aAA1C,CACAA,UAAUA,UAAU,aAAV,EAA2B,CAArC,EAA0C,aAA1C,CACAA,UAAUA,UAAU,WAAV,EAAyB,EAAnC,EAAyC,WAAzC,CACAA,UAAUA,UAAU,WAAV,EAAyB,EAAnC,EAAyC,WAAzC,CACAA,UAAUA,UAAU,YAAV,EAA0B,EAApC,EAA0C,YAA1C,CACAA,UAAUA,UAAU,UAAV,EAAwB,EAAlC,EAAwC,UAAxC,CACAA,UAAUA,UAAU,sBAAV,EAAoC,EAA9C,EAAoD,sBAApD,CACAA,UAAUA,UAAU,sBAAV,EAAoC,EAA9C,EAAoD,sBAApD,CACAA,UAAUA,UAAU,0BAAV,EAAwC,EAAlD,EAAwD,0BAAxD,CACAA,UAAUA,UAAU,wBAAV,EAAsC,EAAhD,EAAsD,wBAAtD,CACAA,UAAUA,UAAU,oBAAV,EAAkC,EAA5C,EAAkD,oBAAlD,CACAA,UAAUA,UAAU,KAAV,EAAmB,EAA7B,EAAmC,KAAnC,CACH,CArBD,EAqBGA,YAAcA,UAAY,EAA1B,CArBH,EAsBA,GAAI+Q,SAAU,aAAe,UAAY,CACrC,QAAStQ,MAAT,CAAevd,IAAf,CAAqB4J,KAArB,CAA4BjJ,UAA5B,CAAwC,CACpC,KAAKX,IAAL,CAAYA,IAAZ,CACA,KAAK4J,KAAL,CAAaA,KAAb,CACA,KAAKjJ,UAAL,CAAkBA,UAAlB,CACH,CACD,MAAO4c,MAAP,CACH,CAP4B,EAA7B,CAQA,GAAIuQ,YAAa,aAAe,SAAUhpB,MAAV,CAAkB,CAC9C5W,UAAU4/B,UAAV,CAAsBhpB,MAAtB,EACA,QAASgpB,WAAT,CAAoBC,QAApB,CAA8BC,SAA9B,CAAyC3d,IAAzC,CAA+C,CAC3C,GAAIne,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwB0d,QAAxB,GAAqC,IAAjD,CACA77B,MAAM87B,SAAN,CAAkBA,SAAlB,CACA,MAAO97B,MAAP,CACH,CACD,MAAO47B,WAAP,CACH,CAR+B,CAQ9BV,UAR8B,CAAhC,CASA,GAAIa,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwB5Q,MAAxB,CAAgCrI,MAAhC,CAAwC,CACpC,KAAKqI,MAAL,CAAcA,MAAd,CACA,KAAKrI,MAAL,CAAcA,MAAd,CACH,CACD,MAAOiZ,eAAP,CACH,CANmC,EAApC,CAOA,QAAShR,SAAT,CAAkB+H,MAAlB,CAA0B7X,GAA1B,CAA+B+gB,gBAA/B,CAAiDC,sBAAjD,CAAyErZ,mBAAzE,CAA8F,CAC1F,GAAIqZ,yBAA2B,IAAK,EAApC,CAAuC,CAAEA,uBAAyB,KAAzB,CAAiC,CAC1E,GAAIrZ,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,MAAO,IAAIod,WAAJ,CAAe,GAAIpB,gBAAJ,CAAoBhI,MAApB,CAA4B7X,GAA5B,CAAf,CAAiD+gB,gBAAjD,CAAmEC,sBAAnE,CAA2FrZ,mBAA3F,EACFmI,QADE,EAAP,CAEH,CACD,GAAIoR,oBAAqB,QAAzB,CACA,QAASC,6BAAT,CAAsCC,QAAtC,CAAgD,CAC5C,GAAIlG,MAAOkG,WAAarV,IAAb,CAAoB,KAApB,CAA4BzZ,OAAOC,YAAP,CAAoB6uB,QAApB,CAAvC,CACA,MAAO,0BAA4BlG,IAA5B,CAAmC,IAA1C,CACH,CACD,QAASmG,uBAAT,CAAgCC,SAAhC,CAA2C,CACvC,MAAO,oBAAsBA,SAAtB,CAAkC,wDAAzC,CACH,CACD,GAAIC,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2B5+B,KAA3B,CAAkC,CAC9B,KAAKA,KAAL,CAAaA,KAAb,CACH,CACD,MAAO4+B,kBAAP,CACH,CALsC,EAAvC,CAMA;AACA,GAAIN,YAAa,aAAe,UAAY,CACxC;;;;;WAMA,QAASA,WAAT,CAAoBO,KAApB,CAA2BC,iBAA3B,CAA8CC,YAA9C,CAA4DC,oBAA5D,CAAkF,CAC9E,GAAIA,uBAAyB,IAAK,EAAlC,CAAqC,CAAEA,qBAAuB9d,4BAAvB,CAAsD,CAC7F,KAAK2d,KAAL,CAAaA,KAAb,CACA,KAAKC,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,YAAL,CAAoBA,YAApB,CACA,KAAKC,oBAAL,CAA4BA,oBAA5B,CACA;AACA,KAAKC,KAAL,CAAa,CAAC,CAAd,CACA,KAAKC,SAAL,CAAiB,CAAC,CAAlB,CACA,KAAKC,MAAL,CAAc,CAAC,CAAf,CACA,KAAKC,KAAL,CAAa,CAAb,CACA,KAAKC,OAAL,CAAe,CAAC,CAAhB,CACA,KAAKC,mBAAL,CAA2B,EAA3B,CACA,KAAKC,gBAAL,CAAwB,KAAxB,CACA,KAAKhS,MAAL,CAAc,EAAd,CACA,KAAKrI,MAAL,CAAc,EAAd,CACA,KAAKsa,MAAL,CAAcX,MAAM1C,OAApB,CACA,KAAKsD,OAAL,CAAeZ,MAAM1C,OAAN,CAAcn9B,MAA7B,CACA,KAAK0gC,QAAL,GACH,CACDpB,WAAW//B,SAAX,CAAqBohC,uBAArB,CAA+C,SAAUxD,OAAV,CAAmB,CAC9D;AACA;AACA;AACA;AACA,MAAOA,SAAQ3vB,OAAR,CAAgB+xB,kBAAhB,CAAoC,IAApC,CAAP,CACH,CAND,CAOAD,WAAW//B,SAAX,CAAqB4uB,QAArB,CAAgC,UAAY,CACxC,MAAO,KAAK8R,KAAL,GAAe7V,IAAtB,CAA4B,CACxB,GAAIlJ,OAAQ,KAAK0f,YAAL,EAAZ,CACA,GAAI,CACA,GAAI,KAAKC,gBAAL,CAAsBjV,GAAtB,CAAJ,CAAgC,CAC5B,GAAI,KAAKiV,gBAAL,CAAsBlW,KAAtB,CAAJ,CAAkC,CAC9B,GAAI,KAAKkW,gBAAL,CAAsBtU,SAAtB,CAAJ,CAAsC,CAClC,KAAKuU,aAAL,CAAmB5f,KAAnB,EACH,CAFD,IAGK,IAAI,KAAK2f,gBAAL,CAAsBtV,MAAtB,CAAJ,CAAmC,CACpC,KAAKwV,eAAL,CAAqB7f,KAArB,EACH,CAFI,IAGA,CACD,KAAK8f,eAAL,CAAqB9f,KAArB,EACH,CACJ,CAVD,IAWK,IAAI,KAAK2f,gBAAL,CAAsBpV,MAAtB,CAAJ,CAAmC,CACpC,KAAKwV,gBAAL,CAAsB/f,KAAtB,EACH,CAFI,IAGA,CACD,KAAKggB,eAAL,CAAqBhgB,KAArB,EACH,CACJ,CAlBD,IAmBK,IAAI,EAAE,KAAK6e,YAAL,EAAqB,KAAKoB,sBAAL,EAAvB,CAAJ,CAA2D,CAC5D,KAAKC,YAAL,GACH,CACJ,CACD,MAAOtgC,CAAP,CAAU,CACN,GAAIA,YAAa8+B,kBAAjB,CAAoC,CAChC,KAAK1Z,MAAL,CAAYnlB,IAAZ,CAAiBD,EAAEE,KAAnB,EACH,CAFD,IAGK,CACD,KAAMF,EAAN,CACH,CACJ,CACJ,CACD,KAAKugC,WAAL,CAAiBrT,UAAUyC,GAA3B,EACA,KAAK6Q,SAAL,CAAe,EAAf,EACA,MAAO,IAAInC,eAAJ,CAAmBoC,gBAAgB,KAAKhT,MAArB,CAAnB,CAAiD,KAAKrI,MAAtD,CAAP,CACH,CAvCD,CAwCA;;;WAIAoZ,WAAW//B,SAAX,CAAqB4hC,sBAArB,CAA8C,UAAY,CACtD,GAAIK,qBAAqB,KAAKhB,MAA1B,CAAkC,KAAKL,MAAvC,CAA+C,KAAKH,oBAApD,CAAJ,CAA+E,CAC3E,KAAKyB,0BAAL,GACA,MAAO,KAAP,CACH,CACD,GAAIC,qBAAqB,KAAKzB,KAA1B,GAAoC,KAAK0B,kBAAL,EAAxC,CAAmE,CAC/D,KAAKC,0BAAL,GACA,MAAO,KAAP,CACH,CACD,GAAI,KAAK3B,KAAL,GAAezS,OAAnB,CAA4B,CACxB,GAAI,KAAKqU,kBAAL,EAAJ,CAA+B,CAC3B,KAAKC,wBAAL,GACA,MAAO,KAAP,CACH,CACD,GAAI,KAAKH,kBAAL,EAAJ,CAA+B,CAC3B,KAAKI,wBAAL,GACA,MAAO,KAAP,CACH,CACJ,CACD,MAAO,MAAP,CACH,CApBD,CAqBAzC,WAAW//B,SAAX,CAAqBqhC,YAArB,CAAoC,UAAY,CAC5C,MAAO,IAAI/D,cAAJ,CAAkB,KAAKgD,KAAvB,CAA8B,KAAKM,MAAnC,CAA2C,KAAKC,KAAhD,CAAuD,KAAKC,OAA5D,CAAP,CACH,CAFD,CAGAf,WAAW//B,SAAX,CAAqByiC,QAArB,CAAgC,SAAU9gB,KAAV,CAAiBE,GAAjB,CAAsB,CAClD,GAAIF,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,KAAK0f,YAAL,EAAR,CAA8B,CACtD,GAAIxf,MAAQ,IAAK,EAAjB,CAAoB,CAAEA,IAAM,KAAKwf,YAAL,EAAN,CAA4B,CAClD,MAAO,IAAIzC,gBAAJ,CAAoBjd,KAApB,CAA2BE,GAA3B,CAAP,CACH,CAJD,CAKAke,WAAW//B,SAAX,CAAqB8hC,WAArB,CAAmC,SAAUnwB,IAAV,CAAgBgQ,KAAhB,CAAuB,CACtD,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,KAAK0f,YAAL,EAAR,CAA8B,CACtD,KAAKqB,kBAAL,CAA0B/gB,KAA1B,CACA,KAAKghB,iBAAL,CAAyBhxB,IAAzB,CACH,CAJD,CAKAouB,WAAW//B,SAAX,CAAqB+hC,SAArB,CAAiC,SAAUxmB,KAAV,CAAiBsG,GAAjB,CAAsB,CACnD,GAAIA,MAAQ,IAAK,EAAjB,CAAoB,CAAEA,IAAM,KAAKwf,YAAL,EAAN,CAA4B,CAClD,GAAIt3B,OAAQ,GAAIy1B,QAAJ,CAAY,KAAKmD,iBAAjB,CAAoCpnB,KAApC,CAA2C,GAAIqjB,gBAAJ,CAAoB,KAAK8D,kBAAzB,CAA6C7gB,GAA7C,CAA3C,CAAZ,CACA,KAAKmN,MAAL,CAAYxtB,IAAZ,CAAiBuI,KAAjB,EACA,KAAK24B,kBAAL,CAA0B,IAA1B,CACA,KAAKC,iBAAL,CAAyB,IAAzB,CACA,MAAO54B,MAAP,CACH,CAPD,CAQAg2B,WAAW//B,SAAX,CAAqB4iC,YAArB,CAAoC,SAAUzyB,GAAV,CAAe6R,IAAf,CAAqB,CACrD,GAAI,KAAKogB,kBAAL,EAAJ,CAA+B,CAC3BjyB,KAAO,sFAAP,CACH,CACD,GAAI1O,OAAQ,GAAIg+B,WAAJ,CAAetvB,GAAf,CAAoB,KAAKwyB,iBAAzB,CAA4C3gB,IAA5C,CAAZ,CACA,KAAK0gB,kBAAL,CAA0B,IAA1B,CACA,KAAKC,iBAAL,CAAyB,IAAzB,CACA,MAAO,IAAItC,kBAAJ,CAAsB5+B,KAAtB,CAAP,CACH,CARD,CASAs+B,WAAW//B,SAAX,CAAqBmhC,QAArB,CAAgC,UAAY,CACxC,GAAI,KAAKP,MAAL,EAAe,KAAKM,OAAxB,CAAiC,CAC7B,KAAM,MAAK0B,YAAL,CAAkB3C,6BAA6BpV,IAA7B,CAAlB,CAAsD,KAAK4X,QAAL,EAAtD,CAAN,CACH,CACD,GAAI,KAAK/B,KAAL,GAAe3V,GAAnB,CAAwB,CACpB,KAAK8V,KAAL,GACA,KAAKC,OAAL,CAAe,CAAf,CACH,CAHD,IAIK,IAAI,KAAKJ,KAAL,GAAe3V,GAAf,EAAsB,KAAK2V,KAAL,GAAexV,GAAzC,CAA8C,CAC/C,KAAK4V,OAAL,GACH,CACD,KAAKF,MAAL,GACA,KAAKF,KAAL,CAAa,KAAKE,MAAL,EAAe,KAAKM,OAApB,CAA8BrW,IAA9B,CAAqC,KAAKoW,MAAL,CAAY/vB,UAAZ,CAAuB,KAAK0vB,MAA5B,CAAlD,CACA,KAAKD,SAAL,CACI,KAAKC,MAAL,CAAc,CAAd,EAAmB,KAAKM,OAAxB,CAAkCrW,IAAlC,CAAyC,KAAKoW,MAAL,CAAY/vB,UAAZ,CAAuB,KAAK0vB,MAAL,CAAc,CAArC,CAD7C,CAEH,CAfD,CAgBAb,WAAW//B,SAAX,CAAqBshC,gBAArB,CAAwC,SAAUpB,QAAV,CAAoB,CACxD,GAAI,KAAKQ,KAAL,GAAeR,QAAnB,CAA6B,CACzB,KAAKiB,QAAL,GACA,MAAO,KAAP,CACH,CACD,MAAO,MAAP,CACH,CAND,CAOApB,WAAW//B,SAAX,CAAqB6iC,+BAArB,CAAuD,SAAU3C,QAAV,CAAoB,CACvE,GAAI4C,+BAA+B,KAAKpC,KAApC,CAA2CR,QAA3C,CAAJ,CAA0D,CACtD,KAAKiB,QAAL,GACA,MAAO,KAAP,CACH,CACD,MAAO,MAAP,CACH,CAND,CAOApB,WAAW//B,SAAX,CAAqB+iC,gBAArB,CAAwC,SAAU7C,QAAV,CAAoB,CACxD,GAAI1M,UAAW,KAAK6N,YAAL,EAAf,CACA,GAAI,CAAC,KAAKC,gBAAL,CAAsBpB,QAAtB,CAAL,CAAsC,CAClC,KAAM,MAAK0C,YAAL,CAAkB3C,6BAA6B,KAAKS,KAAlC,CAAlB,CAA4D,KAAK+B,QAAL,CAAcjP,QAAd,CAAwBA,QAAxB,CAA5D,CAAN,CACH,CACJ,CALD,CAMAuM,WAAW//B,SAAX,CAAqBgjC,WAArB,CAAmC,SAAUC,KAAV,CAAiB,CAChD,GAAIpF,KAAMoF,MAAMxiC,MAAhB,CACA,GAAI,KAAKmgC,MAAL,CAAc/C,GAAd,CAAoB,KAAKqD,OAA7B,CAAsC,CAClC,MAAO,MAAP,CACH,CACD,GAAIgC,iBAAkB,KAAKC,aAAL,EAAtB,CACA,IAAK,GAAI7iC,GAAI,CAAb,CAAgBA,EAAIu9B,GAApB,CAAyBv9B,GAAzB,CAA8B,CAC1B,GAAI,CAAC,KAAKghC,gBAAL,CAAsB2B,MAAM/xB,UAAN,CAAiB5Q,CAAjB,CAAtB,CAAL,CAAiD,CAC7C;AACA;AACA,KAAK8iC,gBAAL,CAAsBF,eAAtB,EACA,MAAO,MAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CAfD,CAgBAnD,WAAW//B,SAAX,CAAqBqjC,0BAArB,CAAkD,SAAUJ,KAAV,CAAiB,CAC/D,IAAK,GAAI3iC,GAAI,CAAb,CAAgBA,EAAI2iC,MAAMxiC,MAA1B,CAAkCH,GAAlC,CAAuC,CACnC,GAAI,CAAC,KAAKuiC,+BAAL,CAAqCI,MAAM/xB,UAAN,CAAiB5Q,CAAjB,CAArC,CAAL,CAAgE,CAC5D,MAAO,MAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CAPD,CAQAy/B,WAAW//B,SAAX,CAAqBsjC,WAArB,CAAmC,SAAUL,KAAV,CAAiB,CAChD,GAAIzP,UAAW,KAAK6N,YAAL,EAAf,CACA,GAAI,CAAC,KAAK2B,WAAL,CAAiBC,KAAjB,CAAL,CAA8B,CAC1B,KAAM,MAAKL,YAAL,CAAkB3C,6BAA6B,KAAKS,KAAlC,CAAlB,CAA4D,KAAK+B,QAAL,CAAcjP,QAAd,CAA5D,CAAN,CACH,CACJ,CALD,CAMAuM,WAAW//B,SAAX,CAAqBujC,uBAArB,CAA+C,SAAUC,SAAV,CAAqB,CAChE,MAAO,CAACA,UAAU,KAAK9C,KAAf,CAAR,CAA+B,CAC3B,KAAKS,QAAL,GACH,CACJ,CAJD,CAKApB,WAAW//B,SAAX,CAAqByjC,uBAArB,CAA+C,SAAUD,SAAV,CAAqB3F,GAArB,CAA0B,CACrE,GAAIlc,OAAQ,KAAK0f,YAAL,EAAZ,CACA,KAAKkC,uBAAL,CAA6BC,SAA7B,EACA,GAAI,KAAK5C,MAAL,CAAcjf,MAAMC,MAApB,CAA6Bic,GAAjC,CAAsC,CAClC,KAAM,MAAK+E,YAAL,CAAkB3C,6BAA6B,KAAKS,KAAlC,CAAlB,CAA4D,KAAK+B,QAAL,CAAc9gB,KAAd,CAAqBA,KAArB,CAA5D,CAAN,CACH,CACJ,CAND,CAOAoe,WAAW//B,SAAX,CAAqB0jC,iBAArB,CAAyC,SAAU1J,IAAV,CAAgB,CACrD,MAAO,KAAK0G,KAAL,GAAe1G,IAAtB,CAA4B,CACxB,KAAKmH,QAAL,GACH,CACJ,CAJD,CAKApB,WAAW//B,SAAX,CAAqB2jC,SAArB,CAAiC,SAAUC,cAAV,CAA0B,CACvD,GAAIA,gBAAkB,KAAKlD,KAAL,GAAejV,UAArC,CAAiD,CAC7C,MAAO,MAAKoY,aAAL,EAAP,CACH,CAFD,IAGK,CACD,GAAI7yB,OAAQ,KAAK4vB,MAAjB,CACA,KAAKO,QAAL,GACA,MAAO,MAAKF,MAAL,CAAYjwB,KAAZ,CAAP,CACH,CACJ,CATD,CAUA+uB,WAAW//B,SAAX,CAAqB6jC,aAArB,CAAqC,UAAY,CAC7C,GAAIliB,OAAQ,KAAK0f,YAAL,EAAZ,CACA,KAAKF,QAAL,GACA,GAAI,KAAKG,gBAAL,CAAsBhW,KAAtB,CAAJ,CAAkC,CAC9B,GAAIwY,OAAQ,KAAKxC,gBAAL,CAAsBzT,EAAtB,GAA6B,KAAKyT,gBAAL,CAAsBxU,EAAtB,CAAzC,CACA,GAAIiX,aAAc,KAAK1C,YAAL,GAAoBzf,MAAtC,CACA,KAAK2hB,uBAAL,CAA6BS,gBAA7B,EACA,GAAI,KAAKtD,KAAL,EAActU,UAAlB,CAA8B,CAC1B,KAAM,MAAKwW,YAAL,CAAkB3C,6BAA6B,KAAKS,KAAlC,CAAlB,CAA4D,KAAK+B,QAAL,EAA5D,CAAN,CACH,CACD,KAAKtB,QAAL,GACA,GAAI8C,QAAS,KAAKhD,MAAL,CAAYxvB,SAAZ,CAAsBsyB,WAAtB,CAAmC,KAAKnD,MAAL,CAAc,CAAjD,CAAb,CACA,GAAI,CACA,GAAIV,UAAWtN,SAASqR,MAAT,CAAiBH,MAAQ,EAAR,CAAa,EAA9B,CAAf,CACA,MAAO1yB,QAAOC,YAAP,CAAoB6uB,QAApB,CAAP,CACH,CACD,MAAO3+B,CAAP,CAAU,CACN,GAAI2iC,QAAS,KAAKjD,MAAL,CAAYxvB,SAAZ,CAAsBkQ,MAAMC,MAAN,CAAe,CAArC,CAAwC,KAAKgf,MAAL,CAAc,CAAtD,CAAb,CACA,KAAM,MAAKgC,YAAL,CAAkBzC,uBAAuB+D,MAAvB,CAAlB,CAAkD,KAAKzB,QAAL,CAAc9gB,KAAd,CAAlD,CAAN,CACH,CACJ,CAjBD,IAkBK,CACD,GAAIwiB,eAAgB,KAAKhB,aAAL,EAApB,CACA,KAAKI,uBAAL,CAA6Ba,gBAA7B,EACA,GAAI,KAAK1D,KAAL,EAActU,UAAlB,CAA8B,CAC1B,KAAKgX,gBAAL,CAAsBe,aAAtB,EACA,MAAO,GAAP,CACH,CACD,KAAKhD,QAAL,GACA,GAAIr6B,QAAS,KAAKm6B,MAAL,CAAYxvB,SAAZ,CAAsBkQ,MAAMC,MAAN,CAAe,CAArC,CAAwC,KAAKgf,MAAL,CAAc,CAAtD,CAAb,CACA,GAAI5G,MAAOp3B,eAAekE,MAAf,CAAX,CACA,GAAI,CAACkzB,IAAL,CAAW,CACP,KAAM,MAAK4I,YAAL,CAAkBzC,uBAAuBr5B,MAAvB,CAAlB,CAAkD,KAAK27B,QAAL,CAAc9gB,KAAd,CAAlD,CAAN,CACH,CACD,MAAOqY,KAAP,CACH,CACJ,CApCD,CAqCA+F,WAAW//B,SAAX,CAAqBqkC,eAArB,CAAuC,SAAUT,cAAV,CAA0BU,cAA1B,CAA0CC,cAA1C,CAA0D,CAC7F,GAAIC,cAAJ,CACA,GAAIC,WAAY,KAAKpD,YAAL,EAAhB,CACA,KAAKS,WAAL,CAAiB8B,eAAiBnV,UAAU7pB,kBAA3B,CAAgD6pB,UAAU9pB,QAA3E,CAAqF8/B,SAArF,EACA,GAAIlpB,OAAQ,EAAZ,CACA,MAAO,IAAP,CAAa,CACTipB,cAAgB,KAAKnD,YAAL,EAAhB,CACA,GAAI,KAAKC,gBAAL,CAAsBgD,cAAtB,GAAyCC,gBAA7C,CAA+D,CAC3D,MACH,CACD,GAAI,KAAK3D,MAAL,CAAc4D,cAAc5iB,MAAhC,CAAwC,CACpC;AACArG,MAAM/Z,IAAN,CAAW,KAAKy/B,MAAL,CAAYxvB,SAAZ,CAAsB+yB,cAAc5iB,MAApC,CAA4C,KAAKgf,MAAjD,CAAX,EACH,CACD,MAAO,KAAKF,KAAL,GAAe4D,cAAtB,CAAsC,CAClC/oB,MAAM/Z,IAAN,CAAW,KAAKmiC,SAAL,CAAeC,cAAf,CAAX,EACH,CACJ,CACD,MAAO,MAAK7B,SAAL,CAAe,CAAC,KAAKX,uBAAL,CAA6B7lB,MAAMhV,IAAN,CAAW,EAAX,CAA7B,CAAD,CAAf,CAA+Di+B,aAA/D,CAAP,CACH,CAnBD,CAoBAzE,WAAW//B,SAAX,CAAqBwhC,eAArB,CAAuC,SAAU7f,KAAV,CAAiB,CACpD,GAAI9d,OAAQ,IAAZ,CACA,KAAKi+B,WAAL,CAAiBrT,UAAUiW,aAA3B,CAA0C/iB,KAA1C,EACA,KAAKohB,gBAAL,CAAsB/W,MAAtB,EACA,KAAK+V,SAAL,CAAe,EAAf,EACA,GAAI4C,WAAY,KAAKN,eAAL,CAAqB,KAArB,CAA4BrY,MAA5B,CAAoC,UAAY,CAAE,MAAOnoB,OAAMm/B,WAAN,CAAkB,IAAlB,CAAP,CAAiC,CAAnF,CAAhB,CACA,KAAKlB,WAAL,CAAiBrT,UAAUmW,WAA3B,CAAwCD,UAAUryB,UAAV,CAAqBuP,GAA7D,EACA,KAAKkgB,SAAL,CAAe,EAAf,EACH,CARD,CASAhC,WAAW//B,SAAX,CAAqBuhC,aAArB,CAAqC,SAAU5f,KAAV,CAAiB,CAClD,GAAI9d,OAAQ,IAAZ,CACA,KAAKi+B,WAAL,CAAiBrT,UAAUoW,WAA3B,CAAwCljB,KAAxC,EACA,KAAK2hB,WAAL,CAAiB,QAAjB,EACA,KAAKvB,SAAL,CAAe,EAAf,EACA,GAAI4C,WAAY,KAAKN,eAAL,CAAqB,KAArB,CAA4BnX,SAA5B,CAAuC,UAAY,CAAE,MAAOrpB,OAAMm/B,WAAN,CAAkB,IAAlB,CAAP,CAAiC,CAAtF,CAAhB,CACA,KAAKlB,WAAL,CAAiBrT,UAAUqW,SAA3B,CAAsCH,UAAUryB,UAAV,CAAqBuP,GAA3D,EACA,KAAKkgB,SAAL,CAAe,EAAf,EACH,CARD,CASAhC,WAAW//B,SAAX,CAAqByhC,eAArB,CAAuC,SAAU9f,KAAV,CAAiB,CACpD,KAAKmgB,WAAL,CAAiBrT,UAAUsW,QAA3B,CAAqCpjB,KAArC,EACA,KAAK+hB,iBAAL,CAAuBnX,GAAvB,EACA,KAAK4U,QAAL,GACA,KAAKY,SAAL,CAAe,CAAC,KAAKd,MAAL,CAAYxvB,SAAZ,CAAsBkQ,MAAMC,MAAN,CAAe,CAArC,CAAwC,KAAKgf,MAAL,CAAc,CAAtD,CAAD,CAAf,EACH,CALD,CAMAb,WAAW//B,SAAX,CAAqBglC,qBAArB,CAA6C,UAAY,CACrD,GAAIC,mBAAoB,KAAKrE,MAA7B,CACA,GAAIl+B,QAAS,IAAb,CACA,MAAO,KAAKg+B,KAAL,GAAevU,MAAf,EAAyB,CAAC+Y,YAAY,KAAKxE,KAAjB,CAAjC,CAA0D,CACtD,KAAKS,QAAL,GACH,CACD,GAAIgE,UAAJ,CACA,GAAI,KAAKzE,KAAL,GAAevU,MAAnB,CAA2B,CACvB,KAAKgV,QAAL,GACAz+B,OAAS,KAAKu+B,MAAL,CAAYxvB,SAAZ,CAAsBwzB,iBAAtB,CAAyC,KAAKrE,MAAL,CAAc,CAAvD,CAAT,CACAuE,UAAY,KAAKvE,MAAjB,CACH,CAJD,IAKK,CACDuE,UAAYF,iBAAZ,CACH,CACD,KAAKxB,uBAAL,CAA6B2B,SAA7B,CAAwC,KAAKxE,MAAL,GAAgBuE,SAAhB,CAA4B,CAA5B,CAAgC,CAAxE,EACA,GAAI5gC,MAAO,KAAK08B,MAAL,CAAYxvB,SAAZ,CAAsB0zB,SAAtB,CAAiC,KAAKvE,MAAtC,CAAX,CACA,MAAO,CAACl+B,MAAD,CAAS6B,IAAT,CAAP,CACH,CAlBD,CAmBAw7B,WAAW//B,SAAX,CAAqB2hC,eAArB,CAAuC,SAAUhgB,KAAV,CAAiB,CACpD,GAAI0jB,UAAW,KAAKlC,aAAL,EAAf,CACA,GAAI/gC,QAAJ,CACA,GAAIkjC,iBAAJ,CACA,GAAI,CACA,GAAI,CAAC/W,cAAc,KAAKmS,KAAnB,CAAL,CAAgC,CAC5B,KAAM,MAAKkC,YAAL,CAAkB3C,6BAA6B,KAAKS,KAAlC,CAAlB,CAA4D,KAAK+B,QAAL,EAA5D,CAAN,CACH,CACD,GAAI0C,WAAY,KAAKvE,MAArB,CACA,KAAK2E,oBAAL,CAA0B5jB,KAA1B,EACAvf,QAAU,KAAK6+B,MAAL,CAAYxvB,SAAZ,CAAsB0zB,SAAtB,CAAiC,KAAKvE,MAAtC,CAAV,CACA0E,iBAAmBljC,QAAQgC,WAAR,EAAnB,CACA,KAAKm/B,uBAAL,CAA6BiC,eAA7B,EACA,MAAO,KAAK9E,KAAL,GAAexU,MAAf,EAAyB,KAAKwU,KAAL,GAAenU,GAA/C,CAAoD,CAChD,KAAKkZ,qBAAL,GACA,KAAKlC,uBAAL,CAA6BiC,eAA7B,EACA,GAAI,KAAKlE,gBAAL,CAAsBhV,GAAtB,CAAJ,CAAgC,CAC5B,KAAKiX,uBAAL,CAA6BiC,eAA7B,EACA,KAAKE,sBAAL,GACH,CACD,KAAKnC,uBAAL,CAA6BiC,eAA7B,EACH,CACD,KAAKG,kBAAL,GACH,CACD,MAAOpkC,CAAP,CAAU,CACN,GAAIA,YAAa8+B,kBAAjB,CAAoC,CAChC;AACA,KAAK+C,gBAAL,CAAsBiC,QAAtB,EACA;AACA,KAAKvD,WAAL,CAAiBrT,UAAUmX,IAA3B,CAAiCjkB,KAAjC,EACA,KAAKogB,SAAL,CAAe,CAAC,GAAD,CAAf,EACA,OACH,CACD,KAAMxgC,EAAN,CACH,CACD,GAAIskC,kBAAmB,KAAKtF,iBAAL,CAAuBn+B,OAAvB,EAAgCiB,WAAvD,CACA,GAAIwiC,mBAAqB/mC,QAAQ8C,cAAR,CAAuB+C,QAAhD,CAA0D,CACtD,KAAKmhC,2BAAL,CAAiCR,gBAAjC,CAAmD,KAAnD,EACH,CAFD,IAGK,IAAIO,mBAAqB/mC,QAAQ8C,cAAR,CAAuBgD,kBAAhD,CAAoE,CACrE,KAAKkhC,2BAAL,CAAiCR,gBAAjC,CAAmD,IAAnD,EACH,CACJ,CA1CD,CA2CAvF,WAAW//B,SAAX,CAAqB8lC,2BAArB,CAAmD,SAAUR,gBAAV,CAA4B1B,cAA5B,CAA4C,CAC3F,GAAI//B,OAAQ,IAAZ,CACA,GAAI8gC,WAAY,KAAKN,eAAL,CAAqBT,cAArB,CAAqCvX,GAArC,CAA0C,UAAY,CAClE,GAAI,CAACxoB,MAAMy9B,gBAAN,CAAuBpV,MAAvB,CAAL,CACI,MAAO,MAAP,CACJroB,MAAM0/B,uBAAN,CAA8BiC,eAA9B,EACA,GAAI,CAAC3hC,MAAMw/B,0BAAN,CAAiCiC,gBAAjC,CAAL,CACI,MAAO,MAAP,CACJzhC,MAAM0/B,uBAAN,CAA8BiC,eAA9B,EACA,MAAO3hC,OAAMy9B,gBAAN,CAAuB/U,GAAvB,CAAP,CACH,CARe,CAAhB,CASA,KAAKuV,WAAL,CAAiBrT,UAAUsX,SAA3B,CAAsCpB,UAAUryB,UAAV,CAAqBuP,GAA3D,EACA,KAAKkgB,SAAL,CAAe,CAAC,IAAD,CAAOuD,gBAAP,CAAf,EACH,CAbD,CAcAvF,WAAW//B,SAAX,CAAqBulC,oBAArB,CAA4C,SAAU5jB,KAAV,CAAiB,CACzD,KAAKmgB,WAAL,CAAiBrT,UAAUuX,cAA3B,CAA2CrkB,KAA3C,EACA,GAAIpG,OAAQ,KAAKypB,qBAAL,EAAZ,CACA,KAAKjD,SAAL,CAAexmB,KAAf,EACH,CAJD,CAKAwkB,WAAW//B,SAAX,CAAqBylC,qBAArB,CAA6C,UAAY,CACrD,KAAK3D,WAAL,CAAiBrT,UAAUwX,SAA3B,EACA,GAAIC,eAAgB,KAAKlB,qBAAL,EAApB,CACA,KAAKjD,SAAL,CAAemE,aAAf,EACH,CAJD,CAKAnG,WAAW//B,SAAX,CAAqB0lC,sBAArB,CAA8C,UAAY,CACtD,KAAK5D,WAAL,CAAiBrT,UAAU0X,UAA3B,EACA,GAAIjlC,MAAJ,CACA,GAAI,KAAKw/B,KAAL,GAAehV,GAAf,EAAsB,KAAKgV,KAAL,GAAerV,GAAzC,CAA8C,CAC1C,GAAI+a,WAAY,KAAK1F,KAArB,CACA,KAAKS,QAAL,GACA,GAAI5lB,OAAQ,EAAZ,CACA,MAAO,KAAKmlB,KAAL,GAAe0F,SAAtB,CAAiC,CAC7B7qB,MAAM/Z,IAAN,CAAW,KAAKmiC,SAAL,CAAe,IAAf,CAAX,EACH,CACDziC,MAAQqa,MAAMhV,IAAN,CAAW,EAAX,CAAR,CACA,KAAK46B,QAAL,GACH,CATD,IAUK,CACD,GAAIkF,YAAa,KAAKzF,MAAtB,CACA,KAAK6C,uBAAL,CAA6B2B,SAA7B,CAAwC,CAAxC,EACAlkC,MAAQ,KAAK+/B,MAAL,CAAYxvB,SAAZ,CAAsB40B,UAAtB,CAAkC,KAAKzF,MAAvC,CAAR,CACH,CACD,KAAKmB,SAAL,CAAe,CAAC,KAAKX,uBAAL,CAA6BlgC,KAA7B,CAAD,CAAf,EACH,CAnBD,CAoBA6+B,WAAW//B,SAAX,CAAqB2lC,kBAArB,CAA0C,UAAY,CAClD,GAAIhG,WAAY,KAAK2B,gBAAL,CAAsBpV,MAAtB,EAAgCuC,UAAU6X,iBAA1C,CAA8D7X,UAAU8X,YAAxF,CACA,KAAKzE,WAAL,CAAiBnC,SAAjB,EACA,KAAKoD,gBAAL,CAAsBxW,GAAtB,EACA,KAAKwV,SAAL,CAAe,EAAf,EACH,CALD,CAMAhC,WAAW//B,SAAX,CAAqB0hC,gBAArB,CAAwC,SAAU/f,KAAV,CAAiB,CACrD,KAAKmgB,WAAL,CAAiBrT,UAAUsX,SAA3B,CAAsCpkB,KAAtC,EACA,KAAK4hB,uBAAL,CAA6BiC,eAA7B,EACA,GAAIU,eAAgB,KAAKlB,qBAAL,EAApB,CACA,KAAKzB,uBAAL,CAA6BiC,eAA7B,EACA,KAAKzC,gBAAL,CAAsBxW,GAAtB,EACA,KAAKwV,SAAL,CAAemE,aAAf,EACH,CAPD,CAQAnG,WAAW//B,SAAX,CAAqBkiC,0BAArB,CAAkD,UAAY,CAC1D,KAAKJ,WAAL,CAAiBrT,UAAU+X,oBAA3B,CAAiD,KAAKnF,YAAL,EAAjD,EACA,KAAK0B,gBAAL,CAAsBhV,OAAtB,EACA,KAAKgU,SAAL,CAAe,EAAf,EACA,KAAKhB,mBAAL,CAAyBv/B,IAAzB,CAA8BitB,UAAU+X,oBAAxC,EACA,KAAK1E,WAAL,CAAiBrT,UAAU9pB,QAA3B,CAAqC,KAAK08B,YAAL,EAArC,EACA,GAAIzW,WAAY,KAAK6b,UAAL,CAAgB1a,MAAhB,CAAhB,CACA,KAAKgW,SAAL,CAAe,CAACnX,SAAD,CAAf,CAA4B,KAAKyW,YAAL,EAA5B,EACA,KAAK0B,gBAAL,CAAsBhX,MAAtB,EACA,KAAKwX,uBAAL,CAA6BiC,eAA7B,EACA,KAAK1D,WAAL,CAAiBrT,UAAU9pB,QAA3B,CAAqC,KAAK08B,YAAL,EAArC,EACA,GAAI1vB,MAAO,KAAK80B,UAAL,CAAgB1a,MAAhB,CAAX,CACA,KAAKgW,SAAL,CAAe,CAACpwB,IAAD,CAAf,CAAuB,KAAK0vB,YAAL,EAAvB,EACA,KAAK0B,gBAAL,CAAsBhX,MAAtB,EACA,KAAKwX,uBAAL,CAA6BiC,eAA7B,EACH,CAfD,CAgBAzF,WAAW//B,SAAX,CAAqBqiC,0BAArB,CAAkD,UAAY,CAC1D,KAAKP,WAAL,CAAiBrT,UAAUiY,oBAA3B,CAAiD,KAAKrF,YAAL,EAAjD,EACA,GAAIngC,OAAQ,KAAKulC,UAAL,CAAgB1Y,OAAhB,EAAyBtf,IAAzB,EAAZ,CACA,KAAKszB,SAAL,CAAe,CAAC7gC,KAAD,CAAf,CAAwB,KAAKmgC,YAAL,EAAxB,EACA,KAAKkC,uBAAL,CAA6BiC,eAA7B,EACA,KAAK1D,WAAL,CAAiBrT,UAAUkY,wBAA3B,CAAqD,KAAKtF,YAAL,EAArD,EACA,KAAK0B,gBAAL,CAAsBhV,OAAtB,EACA,KAAKgU,SAAL,CAAe,EAAf,CAAmB,KAAKV,YAAL,EAAnB,EACA,KAAKkC,uBAAL,CAA6BiC,eAA7B,EACA,KAAKzE,mBAAL,CAAyBv/B,IAAzB,CAA8BitB,UAAUkY,wBAAxC,EACH,CAVD,CAWA5G,WAAW//B,SAAX,CAAqBuiC,wBAArB,CAAgD,UAAY,CACxD,KAAKT,WAAL,CAAiBrT,UAAUmY,sBAA3B,CAAmD,KAAKvF,YAAL,EAAnD,EACA,KAAK0B,gBAAL,CAAsB9U,OAAtB,EACA,KAAK8T,SAAL,CAAe,EAAf,CAAmB,KAAKV,YAAL,EAAnB,EACA,KAAKkC,uBAAL,CAA6BiC,eAA7B,EACA,KAAKzE,mBAAL,CAAyB3gB,GAAzB,GACH,CAND,CAOA2f,WAAW//B,SAAX,CAAqBwiC,wBAArB,CAAgD,UAAY,CACxD,KAAKV,WAAL,CAAiBrT,UAAUoY,kBAA3B,CAA+C,KAAKxF,YAAL,EAA/C,EACA,KAAK0B,gBAAL,CAAsB9U,OAAtB,EACA,KAAK8T,SAAL,CAAe,EAAf,EACA,KAAKhB,mBAAL,CAAyB3gB,GAAzB,GACH,CALD,CAMA2f,WAAW//B,SAAX,CAAqB6hC,YAArB,CAAoC,UAAY,CAC5C,GAAIlgB,OAAQ,KAAK0f,YAAL,EAAZ,CACA,KAAKS,WAAL,CAAiBrT,UAAUmX,IAA3B,CAAiCjkB,KAAjC,EACA,GAAIpG,OAAQ,EAAZ,CACA,EAAG,CACC,GAAI,KAAKklB,oBAAL,EAA6B,KAAKuC,WAAL,CAAiB,KAAKvC,oBAAL,CAA0B9e,KAA3C,CAAjC,CAAoF,CAChFpG,MAAM/Z,IAAN,CAAW,KAAKi/B,oBAAL,CAA0B9e,KAArC,EACA,KAAKqf,gBAAL,CAAwB,IAAxB,CACH,CAHD,IAIK,IAAI,KAAKP,oBAAL,EAA6B,KAAKO,gBAAlC,EACL,KAAKgC,WAAL,CAAiB,KAAKvC,oBAAL,CAA0B5e,GAA3C,CADC,CACgD,CACjDtG,MAAM/Z,IAAN,CAAW,KAAKi/B,oBAAL,CAA0B5e,GAArC,EACA,KAAKmf,gBAAL,CAAwB,KAAxB,CACH,CAJI,IAKA,CACDzlB,MAAM/Z,IAAN,CAAW,KAAKmiC,SAAL,CAAe,IAAf,CAAX,EACH,CACJ,CAbD,MAaS,CAAC,KAAKmD,UAAL,EAbV,EAcA,KAAK/E,SAAL,CAAe,CAAC,KAAKX,uBAAL,CAA6B7lB,MAAMhV,IAAN,CAAW,EAAX,CAA7B,CAAD,CAAf,EACH,CAnBD,CAoBAw5B,WAAW//B,SAAX,CAAqB8mC,UAArB,CAAkC,UAAY,CAC1C,GAAI,KAAKpG,KAAL,GAAerU,GAAf,EAAsB,KAAKqU,KAAL,GAAe7V,IAAzC,CAA+C,CAC3C,MAAO,KAAP,CACH,CACD,GAAI,KAAK2V,YAAL,EAAqB,CAAC,KAAKQ,gBAA/B,CAAiD,CAC7C,GAAIiB,qBAAqB,KAAKhB,MAA1B,CAAkC,KAAKL,MAAvC,CAA+C,KAAKH,oBAApD,CAAJ,CAA+E,CAC3E;AACA,MAAO,KAAP,CACH,CACD,GAAI,KAAKC,KAAL,GAAezS,OAAf,EAA0B,KAAKqU,kBAAL,EAA9B,CAAyD,CACrD;AACA,MAAO,KAAP,CACH,CACJ,CACD,MAAO,MAAP,CACH,CAfD,CAgBAvC,WAAW//B,SAAX,CAAqBmjC,aAArB,CAAqC,UAAY,CAC7C,MAAO,CAAC,KAAKzC,KAAN,CAAa,KAAKE,MAAlB,CAA0B,KAAKE,OAA/B,CAAwC,KAAKD,KAA7C,CAAoD,KAAK7R,MAAL,CAAYvuB,MAAhE,CAAP,CACH,CAFD,CAGAs/B,WAAW//B,SAAX,CAAqBymC,UAArB,CAAkC,SAAUzM,IAAV,CAAgB,CAC9C,GAAIrY,OAAQ,KAAKif,MAAjB,CACA,KAAK8C,iBAAL,CAAuB1J,IAAvB,EACA,MAAO,MAAKiH,MAAL,CAAYxvB,SAAZ,CAAsBkQ,KAAtB,CAA6B,KAAKif,MAAlC,CAAP,CACH,CAJD,CAKAb,WAAW//B,SAAX,CAAqBojC,gBAArB,CAAwC,SAAUxjB,QAAV,CAAoB,CACxD,KAAK8gB,KAAL,CAAa9gB,SAAS,CAAT,CAAb,CACA,KAAKghB,MAAL,CAAchhB,SAAS,CAAT,CAAd,CACA,KAAKkhB,OAAL,CAAelhB,SAAS,CAAT,CAAf,CACA,KAAKihB,KAAL,CAAajhB,SAAS,CAAT,CAAb,CACA,GAAImnB,UAAWnnB,SAAS,CAAT,CAAf,CACA,GAAImnB,SAAW,KAAK/X,MAAL,CAAYvuB,MAA3B,CAAmC,CAC/B;AACA,KAAKuuB,MAAL,CAAc,KAAKA,MAAL,CAAY9sB,KAAZ,CAAkB,CAAlB,CAAqB6kC,QAArB,CAAd,CACH,CACJ,CAVD,CAWAhH,WAAW//B,SAAX,CAAqBsiC,kBAArB,CAA0C,UAAY,CAClD,MAAO,MAAKvB,mBAAL,CAAyBtgC,MAAzB,CAAkC,CAAlC,EACH,KAAKsgC,mBAAL,CAAyB,KAAKA,mBAAL,CAAyBtgC,MAAzB,CAAkC,CAA3D,IACIguB,UAAUkY,wBAFlB,CAGH,CAJD,CAKA5G,WAAW//B,SAAX,CAAqBoiC,kBAArB,CAA0C,UAAY,CAClD,MAAO,MAAKrB,mBAAL,CAAyBtgC,MAAzB,CAAkC,CAAlC,EACH,KAAKsgC,mBAAL,CAAyB,KAAKA,mBAAL,CAAyBtgC,MAAzB,CAAkC,CAA3D,IACIguB,UAAU+X,oBAFlB,CAGH,CAJD,CAKA,MAAOzG,WAAP,CACH,CAjhB+B,EAAhC,CAkhBA,QAASyF,gBAAT,CAAyBnX,IAAzB,CAA+B,CAC3B,MAAO,CAACD,aAAaC,IAAb,CAAD,EAAuBA,OAASxD,IAAvC,CACH,CACD,QAASua,UAAT,CAAmB/W,IAAnB,CAAyB,CACrB,MAAOD,cAAaC,IAAb,GAAsBA,OAAS9B,GAA/B,EAAsC8B,OAASnC,MAA/C,EACHmC,OAAS3C,GADN,EACa2C,OAAShD,GADtB,EAC6BgD,OAAS/B,GAD7C,CAEH,CACD,QAAS4Y,YAAT,CAAqB7W,IAArB,CAA2B,CACvB,MAAO,CAACA,KAAOhB,EAAP,EAAaS,GAAKO,IAAnB,IAA6BA,KAAO1B,EAAP,EAAaI,GAAKsB,IAA/C,IACFA,KAAO5B,EAAP,EAAa4B,KAAO3B,EADlB,CAAP,CAEH,CACD,QAASsX,iBAAT,CAA0B3V,IAA1B,CAAgC,CAC5B,MAAOA,OAAQjC,UAAR,EAAsBiC,MAAQxD,IAA9B,EAAsC,CAAC2D,gBAAgBH,IAAhB,CAA9C,CACH,CACD,QAAS+V,iBAAT,CAA0B/V,IAA1B,CAAgC,CAC5B,MAAOA,OAAQjC,UAAR,EAAsBiC,MAAQxD,IAA9B,EAAsC,CAAC0D,cAAcF,IAAd,CAA9C,CACH,CACD,QAAS4T,qBAAT,CAA8Bj0B,KAA9B,CAAqC4T,MAArC,CAA6C6E,mBAA7C,CAAkE,CAC9D,GAAIugB,sBAAuBvgB,oBAAsBzY,MAAMhM,OAAN,CAAcykB,oBAAoB9E,KAAlC,CAAyCC,MAAzC,GAAoDA,MAA1E,CAAmF,KAA9G,CACA,MAAO5T,OAAMkD,UAAN,CAAiB0Q,MAAjB,GAA4BmM,OAA5B,EAAuC,CAACiZ,oBAA/C,CACH,CACD,QAAS7E,qBAAT,CAA8BhR,IAA9B,CAAoC,CAChC,MAAOA,QAAS7E,GAAT,EAAgBiC,cAAc4C,IAAd,CAAhB,EAAuC7C,QAAQ6C,IAAR,CAA9C,CACH,CACD,QAAS2R,+BAAT,CAAwCmE,KAAxC,CAA+CC,KAA/C,CAAsD,CAClD,MAAOC,qBAAoBF,KAApB,GAA8BE,oBAAoBD,KAApB,CAArC,CACH,CACD,QAASC,oBAAT,CAA6B9Y,IAA7B,CAAmC,CAC/B,MAAOA,OAAQhB,EAAR,EAAcgB,MAAQP,EAAtB,CAA2BO,KAAOhB,EAAP,CAAYV,EAAvC,CAA4C0B,IAAnD,CACH,CACD,QAAS2T,gBAAT,CAAyBoF,SAAzB,CAAoC,CAChC,GAAIC,WAAY,EAAhB,CACA,GAAIC,cAAel9B,SAAnB,CACA,IAAK,GAAI9J,GAAI,CAAb,CAAgBA,EAAI8mC,UAAU3mC,MAA9B,CAAsCH,GAAtC,CAA2C,CACvC,GAAIyJ,OAAQq9B,UAAU9mC,CAAV,CAAZ,CACA,GAAIgnC,cAAgBA,aAAa31B,IAAb,EAAqB8c,UAAUmX,IAA/C,EAAuD77B,MAAM4H,IAAN,EAAc8c,UAAUmX,IAAnF,CAAyF,CACrF0B,aAAa/rB,KAAb,CAAmB,CAAnB,GAAyBxR,MAAMwR,KAAN,CAAY,CAAZ,CAAzB,CACA+rB,aAAah1B,UAAb,CAAwBuP,GAAxB,CAA8B9X,MAAMuI,UAAN,CAAiBuP,GAA/C,CACH,CAHD,IAIK,CACDylB,aAAev9B,KAAf,CACAs9B,UAAU7lC,IAAV,CAAe8lC,YAAf,EACH,CACJ,CACD,MAAOD,UAAP,CACH,CAED;;;;;;OAOA,GAAIE,WAAY,aAAe,SAAU9wB,MAAV,CAAkB,CAC7C5W,UAAU0nC,SAAV,CAAqB9wB,MAArB,EACA,QAAS8wB,UAAT,CAAmBzlC,WAAnB,CAAgCkgB,IAAhC,CAAsC7R,GAAtC,CAA2C,CACvC,GAAItM,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwB7R,GAAxB,GAAgC,IAA5C,CACAtM,MAAM/B,WAAN,CAAoBA,WAApB,CACA,MAAO+B,MAAP,CACH,CACD0jC,UAAUtnC,MAAV,CAAmB,SAAU6B,WAAV,CAAuBkgB,IAAvB,CAA6B7R,GAA7B,CAAkC,CACjD,MAAO,IAAIo3B,UAAJ,CAAczlC,WAAd,CAA2BkgB,IAA3B,CAAiC7R,GAAjC,CAAP,CACH,CAFD,CAGA,MAAOo3B,UAAP,CACH,CAX8B,CAW7BxI,UAX6B,CAA/B,CAYA,GAAIyI,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBxgB,SAAzB,CAAoCL,MAApC,CAA4C,CACxC,KAAKK,SAAL,CAAiBA,SAAjB,CACA,KAAKL,MAAL,CAAcA,MAAd,CACH,CACD,MAAO6gB,gBAAP,CACH,CANoC,EAArC,CAOA,GAAIC,UAAW,aAAe,UAAY,CACtC,QAASpP,OAAT,CAAgBwH,gBAAhB,CAAkC,CAC9B,KAAKA,gBAAL,CAAwBA,gBAAxB,CACH,CACDxH,OAAOr4B,SAAP,CAAiBoF,KAAjB,CAAyB,SAAUuxB,MAAV,CAAkB7X,GAAlB,CAAuB4oB,mBAAvB,CAA4CjhB,mBAA5C,CAAiE,CACtF,GAAIihB,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB,KAAtB,CAA8B,CACpE,GAAIjhB,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,GAAIglB,iBAAkB/Y,SAAS+H,MAAT,CAAiB7X,GAAjB,CAAsB,KAAK+gB,gBAA3B,CAA6C6H,mBAA7C,CAAkEjhB,mBAAlE,CAAtB,CACA,GAAImhB,eAAgB,GAAIC,aAAJ,CAAiBF,gBAAgB3Y,MAAjC,CAAyC,KAAK6Q,gBAA9C,EAAgEiI,KAAhE,EAApB,CACA,MAAO,IAAIN,gBAAJ,CAAoBI,cAAc5gB,SAAlC,CAA6C2gB,gBAAgBhhB,MAAhB,CAAuBhlB,MAAvB,CAA8BimC,cAAcjhB,MAA5C,CAA7C,CAAP,CACH,CAND,CAOA,MAAO0R,OAAP,CACH,CAZ6B,EAA9B,CAaA,GAAIwP,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsB7Y,MAAtB,CAA8B6Q,gBAA9B,CAAgD,CAC5C,KAAK7Q,MAAL,CAAcA,MAAd,CACA,KAAK6Q,gBAAL,CAAwBA,gBAAxB,CACA,KAAKe,MAAL,CAAc,CAAC,CAAf,CACA,KAAKmH,UAAL,CAAkB,EAAlB,CACA,KAAKC,OAAL,CAAe,EAAf,CACA,KAAKC,aAAL,CAAqB,EAArB,CACA,KAAK9G,QAAL,GACH,CACD0G,aAAa7nC,SAAb,CAAuB8nC,KAAvB,CAA+B,UAAY,CACvC,MAAO,KAAKpH,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUyC,GAArC,CAA0C,CACtC,GAAI,KAAKwP,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUuX,cAAlC,CAAkD,CAC9C,KAAKkC,gBAAL,CAAsB,KAAK/G,QAAL,EAAtB,EACH,CAFD,IAGK,IAAI,KAAKT,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUsX,SAAlC,CAA6C,CAC9C,KAAKoC,cAAL,CAAoB,KAAKhH,QAAL,EAApB,EACH,CAFI,IAGA,IAAI,KAAKT,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUoW,WAAlC,CAA+C,CAChD,KAAKuD,iBAAL,GACA,KAAK7G,aAAL,CAAmB,KAAKJ,QAAL,EAAnB,EACH,CAHI,IAIA,IAAI,KAAKT,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUiW,aAAlC,CAAiD,CAClD,KAAK0D,iBAAL,GACA,KAAK5G,eAAL,CAAqB,KAAKL,QAAL,EAArB,EACH,CAHI,IAIA,IAAI,KAAKT,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUmX,IAA9B,EAAsC,KAAKlF,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU9pB,QAApE,EACL,KAAK+7B,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU7pB,kBAD7B,CACiD,CAClD,KAAKwjC,iBAAL,GACA,KAAKvG,YAAL,CAAkB,KAAKV,QAAL,EAAlB,EACH,CAJI,IAKA,IAAI,KAAKT,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU+X,oBAAlC,CAAwD,CACzD,KAAK6B,iBAAL,CAAuB,KAAKlH,QAAL,EAAvB,EACH,CAFI,IAGA,CACD;AACA,KAAKA,QAAL,GACH,CACJ,CACD,MAAO,IAAIqG,gBAAJ,CAAoB,KAAKO,UAAzB,CAAqC,KAAKC,OAA1C,CAAP,CACH,CA9BD,CA+BAH,aAAa7nC,SAAb,CAAuBmhC,QAAvB,CAAkC,UAAY,CAC1C,GAAImH,MAAO,KAAK5H,KAAhB,CACA,GAAI,KAAKE,MAAL,CAAc,KAAK5R,MAAL,CAAYvuB,MAAZ,CAAqB,CAAvC,CAA0C,CACtC;AACA,KAAKmgC,MAAL,GACH,CACD,KAAKF,KAAL,CAAa,KAAK1R,MAAL,CAAY,KAAK4R,MAAjB,CAAb,CACA,MAAO0H,KAAP,CACH,CARD,CASAT,aAAa7nC,SAAb,CAAuBuoC,UAAvB,CAAoC,SAAU52B,IAAV,CAAgB,CAChD,GAAI,KAAK+uB,KAAL,CAAW/uB,IAAX,GAAoBA,IAAxB,CAA8B,CAC1B,MAAO,MAAKwvB,QAAL,EAAP,CACH,CACD,MAAO,KAAP,CACH,CALD,CAMA0G,aAAa7nC,SAAb,CAAuBuhC,aAAvB,CAAuC,SAAUiH,UAAV,CAAsB,CACzD,KAAK3G,YAAL,CAAkB,KAAKV,QAAL,EAAlB,EACA,KAAKoH,UAAL,CAAgB9Z,UAAUqW,SAA1B,EACH,CAHD,CAIA+C,aAAa7nC,SAAb,CAAuBwhC,eAAvB,CAAyC,SAAUz3B,KAAV,CAAiB,CACtD,GAAI8kB,MAAO,KAAK0Z,UAAL,CAAgB9Z,UAAU9pB,QAA1B,CAAX,CACA,KAAK4jC,UAAL,CAAgB9Z,UAAUmW,WAA1B,EACA,GAAI1jC,OAAQ2tB,MAAQ,IAAR,CAAeA,KAAKtT,KAAL,CAAW,CAAX,EAAc9M,IAAd,EAAf,CAAsC,IAAlD,CACA,KAAKg6B,YAAL,CAAkB,GAAIpnB,QAAJ,CAAYngB,KAAZ,CAAmB6I,MAAMuI,UAAzB,CAAlB,EACH,CALD,CAMAu1B,aAAa7nC,SAAb,CAAuBqoC,iBAAvB,CAA2C,SAAUt+B,KAAV,CAAiB,CACxD,GAAIwW,aAAc,KAAK4gB,QAAL,EAAlB,CACA,GAAIxvB,MAAO,KAAKwvB,QAAL,EAAX,CACA,GAAI3gB,OAAQ,EAAZ,CACA;AACA,MAAO,KAAKkgB,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUiY,oBAArC,CAA2D,CACvD,GAAIgC,SAAU,KAAKC,mBAAL,EAAd,CACA,GAAI,CAACD,OAAL,CACI,OAAQ;AACZloB,MAAMhf,IAAN,CAAWknC,OAAX,EACH,CACD;AACA,GAAI,KAAKhI,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUoY,kBAAlC,CAAsD,CAClD,KAAKmB,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiB,IAAjB,CAAuB,KAAKygC,KAAL,CAAWpuB,UAAlC,CAA8C,mCAA9C,CAAlB,EACA,OACH,CACD,GAAIA,YAAa,GAAIssB,gBAAJ,CAAoB70B,MAAMuI,UAAN,CAAiBqP,KAArC,CAA4C,KAAK+e,KAAL,CAAWpuB,UAAX,CAAsBuP,GAAlE,CAAjB,CACA,KAAK4mB,YAAL,CAAkB,GAAInoB,UAAJ,CAAcC,YAAYhF,KAAZ,CAAkB,CAAlB,CAAd,CAAoC5J,KAAK4J,KAAL,CAAW,CAAX,CAApC,CAAmDiF,KAAnD,CAA0DlO,UAA1D,CAAsEiO,YAAYjO,UAAlF,CAAlB,EACA,KAAK6uB,QAAL,GACH,CAnBD,CAoBA0G,aAAa7nC,SAAb,CAAuB2oC,mBAAvB,CAA6C,UAAY,CACrD,GAAIznC,OAAQ,KAAKigC,QAAL,EAAZ,CACA;AACA,GAAI,KAAKT,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUkY,wBAAlC,CAA4D,CACxD,KAAKqB,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiB,IAAjB,CAAuB,KAAKygC,KAAL,CAAWpuB,UAAlC,CAA8C,mCAA9C,CAAlB,EACA,MAAO,KAAP,CACH,CACD;AACA,GAAIqP,OAAQ,KAAKwf,QAAL,EAAZ,CACA,GAAInM,KAAM,KAAK4T,0BAAL,CAAgCjnB,KAAhC,CAAV,CACA,GAAI,CAACqT,GAAL,CACI,MAAO,KAAP,CACJ,GAAInT,KAAM,KAAKsf,QAAL,EAAV,CACAnM,IAAIxzB,IAAJ,CAAS,GAAIg+B,QAAJ,CAAY/Q,UAAUyC,GAAtB,CAA2B,EAA3B,CAA+BrP,IAAIvP,UAAnC,CAAT,EACA;AACA,GAAIu2B,WAAY,GAAIhB,aAAJ,CAAiB7S,GAAjB,CAAsB,KAAK6K,gBAA3B,EAA6CiI,KAA7C,EAAhB,CACA,GAAIe,UAAUliB,MAAV,CAAiBlmB,MAAjB,CAA0B,CAA9B,CAAiC,CAC7B,KAAKunC,OAAL,CAAe,KAAKA,OAAL,CAAarmC,MAAb,CAAoBknC,UAAUliB,MAA9B,CAAf,CACA,MAAO,KAAP,CACH,CACD,GAAIrU,YAAa,GAAIssB,gBAAJ,CAAoB19B,MAAMoR,UAAN,CAAiBqP,KAArC,CAA4CE,IAAIvP,UAAJ,CAAeuP,GAA3D,CAAjB,CACA,GAAIf,eAAgB,GAAI8d,gBAAJ,CAAoBjd,MAAMrP,UAAN,CAAiBqP,KAArC,CAA4CE,IAAIvP,UAAJ,CAAeuP,GAA3D,CAApB,CACA,MAAO,IAAIlB,cAAJ,CAAkBzf,MAAMqa,KAAN,CAAY,CAAZ,CAAlB,CAAkCstB,UAAU7hB,SAA5C,CAAuD1U,UAAvD,CAAmEpR,MAAMoR,UAAzE,CAAqFwO,aAArF,CAAP,CACH,CAvBD,CAwBA+mB,aAAa7nC,SAAb,CAAuB4oC,0BAAvB,CAAoD,SAAUjnB,KAAV,CAAiB,CACjE,GAAIqT,KAAM,EAAV,CACA,GAAI8T,oBAAqB,CAACra,UAAUkY,wBAAX,CAAzB,CACA,MAAO,IAAP,CAAa,CACT,GAAI,KAAKjG,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU+X,oBAA9B,EACA,KAAK9F,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUkY,wBADlC,CAC4D,CACxDmC,mBAAmBtnC,IAAnB,CAAwB,KAAKk/B,KAAL,CAAW/uB,IAAnC,EACH,CACD,GAAI,KAAK+uB,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUmY,sBAAlC,CAA0D,CACtD,GAAImC,YAAYD,kBAAZ,CAAgCra,UAAUkY,wBAA1C,CAAJ,CAAyE,CACrEmC,mBAAmB1oB,GAAnB,GACA,GAAI0oB,mBAAmBroC,MAAnB,EAA6B,CAAjC,CACI,MAAOu0B,IAAP,CACP,CAJD,IAKK,CACD,KAAKgT,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiB,IAAjB,CAAuB0hB,MAAMrP,UAA7B,CAAyC,mCAAzC,CAAlB,EACA,MAAO,KAAP,CACH,CACJ,CACD,GAAI,KAAKouB,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUoY,kBAAlC,CAAsD,CAClD,GAAIkC,YAAYD,kBAAZ,CAAgCra,UAAU+X,oBAA1C,CAAJ,CAAqE,CACjEsC,mBAAmB1oB,GAAnB,GACH,CAFD,IAGK,CACD,KAAK4nB,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiB,IAAjB,CAAuB0hB,MAAMrP,UAA7B,CAAyC,mCAAzC,CAAlB,EACA,MAAO,KAAP,CACH,CACJ,CACD,GAAI,KAAKouB,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUyC,GAAlC,CAAuC,CACnC,KAAK8W,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiB,IAAjB,CAAuB0hB,MAAMrP,UAA7B,CAAyC,mCAAzC,CAAlB,EACA,MAAO,KAAP,CACH,CACD0iB,IAAIxzB,IAAJ,CAAS,KAAK2/B,QAAL,EAAT,EACH,CACJ,CAlCD,CAmCA0G,aAAa7nC,SAAb,CAAuB6hC,YAAvB,CAAsC,SAAU93B,KAAV,CAAiB,CACnD,GAAI8kB,MAAO9kB,MAAMwR,KAAN,CAAY,CAAZ,CAAX,CACA,GAAIsT,KAAKpuB,MAAL,CAAc,CAAd,EAAmBouB,KAAK,CAAL,GAAW,IAAlC,CAAwC,CACpC,GAAIma,UAAW,KAAKC,iBAAL,EAAf,CACA,GAAID,UAAY,IAAZ,EAAoBA,SAASn0B,QAAT,CAAkBpU,MAAlB,EAA4B,CAAhD,EACA,KAAKo/B,gBAAL,CAAsBmJ,SAASzkC,IAA/B,EAAqCX,aADzC,CACwD,CACpDirB,KAAOA,KAAKpd,SAAL,CAAe,CAAf,CAAP,CACH,CACJ,CACD,GAAIod,KAAKpuB,MAAL,CAAc,CAAlB,CAAqB,CACjB,KAAKgoC,YAAL,CAAkB,GAAIpoB,KAAJ,CAASwO,IAAT,CAAe9kB,MAAMuI,UAArB,CAAlB,EACH,CACJ,CAZD,CAaAu1B,aAAa7nC,SAAb,CAAuBooC,iBAAvB,CAA2C,UAAY,CACnD,GAAIc,IAAK,KAAKD,iBAAL,EAAT,CACA,GAAIC,IAAM,KAAKrJ,gBAAL,CAAsBqJ,GAAG3kC,IAAzB,EAA+Bb,MAAzC,CAAiD,CAC7C,KAAKukC,aAAL,CAAmB7nB,GAAnB,GACH,CACJ,CALD,CAMAynB,aAAa7nC,SAAb,CAAuBkoC,gBAAvB,CAA0C,SAAUiB,aAAV,CAAyB,CAC/D,GAAIzmC,QAASymC,cAAc5tB,KAAd,CAAoB,CAApB,CAAb,CACA,GAAIhX,MAAO4kC,cAAc5tB,KAAd,CAAoB,CAApB,CAAX,CACA,GAAIrW,OAAQ,EAAZ,CACA,MAAO,KAAKw7B,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAUwX,SAArC,CAAgD,CAC5C/gC,MAAM1D,IAAN,CAAW,KAAK4nC,YAAL,CAAkB,KAAKjI,QAAL,EAAlB,CAAX,EACH,CACD,GAAI3+B,UAAW,KAAK6mC,mBAAL,CAAyB3mC,MAAzB,CAAiC6B,IAAjC,CAAuC,KAAK0kC,iBAAL,EAAvC,CAAf,CACA,GAAIK,aAAc,KAAlB,CACA;AACA;AACA,GAAI,KAAK5I,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU6X,iBAAlC,CAAqD,CACjD,KAAKnF,QAAL,GACAmI,YAAc,IAAd,CACA,GAAIC,QAAS,KAAK1J,gBAAL,CAAsBr9B,QAAtB,CAAb,CACA,GAAI,EAAE+mC,OAAOzlC,YAAP,EAAuBvB,YAAYC,QAAZ,IAA0B,IAAjD,EAAyD+mC,OAAO7lC,MAAlE,CAAJ,CAA+E,CAC3E,KAAKskC,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiBuC,QAAjB,CAA2B2mC,cAAc72B,UAAzC,CAAqD,uDAAyD62B,cAAc5tB,KAAd,CAAoB,CAApB,CAAzD,CAAkF,IAAvI,CAAlB,EACH,CACJ,CAPD,IAQK,IAAI,KAAKmlB,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU8X,YAAlC,CAAgD,CACjD,KAAKpF,QAAL,GACAmI,YAAc,KAAd,CACH,CACD,GAAIznB,KAAM,KAAK6e,KAAL,CAAWpuB,UAAX,CAAsBqP,KAAhC,CACA,GAAIK,MAAO,GAAI4c,gBAAJ,CAAoBuK,cAAc72B,UAAd,CAAyBqP,KAA7C,CAAoDE,GAApD,CAAX,CACA,GAAIqnB,IAAK,GAAI/nB,QAAJ,CAAY3e,QAAZ,CAAsB0C,KAAtB,CAA6B,EAA7B,CAAiC8c,IAAjC,CAAuCA,IAAvC,CAA6C5X,SAA7C,CAAT,CACA,KAAKo/B,YAAL,CAAkBN,EAAlB,EACA,GAAII,WAAJ,CAAiB,CACb,KAAKG,WAAL,CAAiBjnC,QAAjB,EACA0mC,GAAGp0B,aAAH,CAAmBkN,IAAnB,CACH,CACJ,CA/BD,CAgCA6lB,aAAa7nC,SAAb,CAAuBwpC,YAAvB,CAAsC,SAAUN,EAAV,CAAc,CAChD,GAAIQ,UAAW,KAAKT,iBAAL,EAAf,CACA,GAAIS,UAAY,KAAK7J,gBAAL,CAAsB6J,SAASnlC,IAA/B,EAAqCD,eAArC,CAAqD4kC,GAAG3kC,IAAxD,CAAhB,CAA+E,CAC3E,KAAK0jC,aAAL,CAAmB7nB,GAAnB,GACH,CACD,GAAImpB,QAAS,KAAK1J,gBAAL,CAAsBqJ,GAAG3kC,IAAzB,CAAb,CACA,GAAIxB,IAAK,KAAK4mC,mCAAL,EAAT,CAAqDC,OAAS7mC,GAAG6mC,MAAjE,CAAyEC,UAAY9mC,GAAG8mC,SAAxF,CACA,GAAID,QAAUL,OAAOtlC,kBAAP,CAA0B2lC,OAAOrlC,IAAjC,CAAd,CAAsD,CAClD,GAAIulC,WAAY,GAAI3oB,QAAJ,CAAYooB,OAAOvlC,WAAnB,CAAgC,EAAhC,CAAoC,EAApC,CAAwCklC,GAAG52B,UAA3C,CAAuD42B,GAAG9nB,eAA1D,CAA2E8nB,GAAGp0B,aAA9E,CAAhB,CACA,KAAKi1B,sBAAL,CAA4BH,MAA5B,CAAoCC,SAApC,CAA+CC,SAA/C,EACH,CACD,KAAKrB,YAAL,CAAkBS,EAAlB,EACA,KAAKjB,aAAL,CAAmBzmC,IAAnB,CAAwB0nC,EAAxB,EACH,CAbD,CAcArB,aAAa7nC,SAAb,CAAuBmoC,cAAvB,CAAwC,SAAU6B,WAAV,CAAuB,CAC3D,GAAIxnC,UAAW,KAAK6mC,mBAAL,CAAyBW,YAAYzuB,KAAZ,CAAkB,CAAlB,CAAzB,CAA+CyuB,YAAYzuB,KAAZ,CAAkB,CAAlB,CAA/C,CAAqE,KAAK0tB,iBAAL,EAArE,CAAf,CACA,GAAI,KAAKA,iBAAL,EAAJ,CAA8B,CAC1B,KAAKA,iBAAL,GAAyBn0B,aAAzB,CAAyCk1B,YAAY13B,UAArD,CACH,CACD,GAAI,KAAKutB,gBAAL,CAAsBr9B,QAAtB,EAAgCkB,MAApC,CAA4C,CACxC,KAAKskC,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiBuC,QAAjB,CAA2BwnC,YAAY13B,UAAvC,CAAmD,wCAA0C03B,YAAYzuB,KAAZ,CAAkB,CAAlB,CAA1C,CAAiE,IAApH,CAAlB,EACH,CAFD,IAGK,IAAI,CAAC,KAAKkuB,WAAL,CAAiBjnC,QAAjB,CAAL,CAAiC,CAClC,GAAIynC,QAAS,4BAA8BznC,QAA9B,CAAyC,8KAAtD,CACA,KAAKwlC,OAAL,CAAaxmC,IAAb,CAAkB+lC,UAAUtnC,MAAV,CAAiBuC,QAAjB,CAA2BwnC,YAAY13B,UAAvC,CAAmD23B,MAAnD,CAAlB,EACH,CACJ,CAZD,CAaApC,aAAa7nC,SAAb,CAAuBypC,WAAvB,CAAqC,SAAUjnC,QAAV,CAAoB,CACrD,IAAK,GAAI0nC,YAAa,KAAKjC,aAAL,CAAmBxnC,MAAnB,CAA4B,CAAlD,CAAqDypC,YAAc,CAAnE,CAAsEA,YAAtE,CAAoF,CAChF,GAAIhB,IAAK,KAAKjB,aAAL,CAAmBiC,UAAnB,CAAT,CACA,GAAIhB,GAAG3kC,IAAH,EAAW/B,QAAf,CAAyB,CACrB,KAAKylC,aAAL,CAAmBkC,MAAnB,CAA0BD,UAA1B,CAAsC,KAAKjC,aAAL,CAAmBxnC,MAAnB,CAA4BypC,UAAlE,EACA,MAAO,KAAP,CACH,CACD,GAAI,CAAC,KAAKrK,gBAAL,CAAsBqJ,GAAG3kC,IAAzB,EAA+Bf,cAApC,CAAoD,CAChD,MAAO,MAAP,CACH,CACJ,CACD,MAAO,MAAP,CACH,CAZD,CAaAqkC,aAAa7nC,SAAb,CAAuBopC,YAAvB,CAAsC,SAAU5iC,QAAV,CAAoB,CACtD,GAAIhE,UAAWC,eAAe+D,SAAS+U,KAAT,CAAe,CAAf,CAAf,CAAkC/U,SAAS+U,KAAT,CAAe,CAAf,CAAlC,CAAf,CACA,GAAIsG,KAAMrb,SAAS8L,UAAT,CAAoBuP,GAA9B,CACA,GAAI3gB,OAAQ,EAAZ,CACA,GAAI+f,WAAY7W,SAAhB,CACA,GAAI,KAAKs2B,KAAL,CAAW/uB,IAAX,GAAoB8c,UAAU0X,UAAlC,CAA8C,CAC1C,GAAIiE,YAAa,KAAKjJ,QAAL,EAAjB,CACAjgC,MAAQkpC,WAAW7uB,KAAX,CAAiB,CAAjB,CAAR,CACAsG,IAAMuoB,WAAW93B,UAAX,CAAsBuP,GAA5B,CACAZ,UAAYmpB,WAAW93B,UAAvB,CACH,CACD,MAAO,IAAI0O,UAAJ,CAAcxe,QAAd,CAAwBtB,KAAxB,CAA+B,GAAI09B,gBAAJ,CAAoBp4B,SAAS8L,UAAT,CAAoBqP,KAAxC,CAA+CE,GAA/C,CAA/B,CAAoFZ,SAApF,CAAP,CACH,CAZD,CAaA4mB,aAAa7nC,SAAb,CAAuBipC,iBAAvB,CAA2C,UAAY,CACnD,MAAO,MAAKhB,aAAL,CAAmBxnC,MAAnB,CAA4B,CAA5B,CAAgC,KAAKwnC,aAAL,CAAmB,KAAKA,aAAL,CAAmBxnC,MAAnB,CAA4B,CAA/C,CAAhC,CAAoF,IAA3F,CACH,CAFD,CAGA;;;;WAKAonC,aAAa7nC,SAAb,CAAuB2pC,mCAAvB,CAA6D,UAAY,CACrE,GAAIE,WAAY,IAAhB,CACA,IAAK,GAAIvpC,GAAI,KAAK2nC,aAAL,CAAmBxnC,MAAnB,CAA4B,CAAzC,CAA4CH,GAAK,CAAjD,CAAoDA,GAApD,CAAyD,CACrD,GAAI,CAAC6B,cAAc,KAAK8lC,aAAL,CAAmB3nC,CAAnB,EAAsBiE,IAApC,CAAL,CAAgD,CAC5C,MAAO,CAAEqlC,OAAQ,KAAK3B,aAAL,CAAmB3nC,CAAnB,CAAV,CAAiCupC,UAAWA,SAA5C,CAAP,CACH,CACDA,UAAY,KAAK5B,aAAL,CAAmB3nC,CAAnB,CAAZ,CACH,CACD,MAAO,CAAEspC,OAAQ,IAAV,CAAgBC,UAAWA,SAA3B,CAAP,CACH,CATD,CAUAhC,aAAa7nC,SAAb,CAAuByoC,YAAvB,CAAsC,SAAUxoB,IAAV,CAAgB,CAClD,GAAI2pB,QAAS,KAAKX,iBAAL,EAAb,CACA,GAAIW,QAAU,IAAd,CAAoB,CAChBA,OAAO/0B,QAAP,CAAgBrT,IAAhB,CAAqBye,IAArB,EACH,CAFD,IAGK,CACD,KAAK8nB,UAAL,CAAgBvmC,IAAhB,CAAqBye,IAArB,EACH,CACJ,CARD,CASA;;;;;;WAOA4nB,aAAa7nC,SAAb,CAAuB+pC,sBAAvB,CAAgD,SAAUH,MAAV,CAAkBC,SAAlB,CAA6B5pB,IAA7B,CAAmC,CAC/E,GAAI,CAAC4pB,SAAL,CAAgB,CACZ,KAAKpB,YAAL,CAAkBxoB,IAAlB,EACA,KAAKgoB,aAAL,CAAmBzmC,IAAnB,CAAwBye,IAAxB,EACH,CAHD,IAIK,CACD,GAAI2pB,MAAJ,CAAY,CACR;AACA,GAAI54B,OAAQ44B,OAAO/0B,QAAP,CAAgB7S,OAAhB,CAAwB6nC,SAAxB,CAAZ,CACAD,OAAO/0B,QAAP,CAAgB7D,KAAhB,EAAyBiP,IAAzB,CACH,CAJD,IAKK,CACD,KAAK8nB,UAAL,CAAgBvmC,IAAhB,CAAqBye,IAArB,EACH,CACDA,KAAKpL,QAAL,CAAcrT,IAAd,CAAmBqoC,SAAnB,EACA,KAAK5B,aAAL,CAAmBkC,MAAnB,CAA0B,KAAKlC,aAAL,CAAmBjmC,OAAnB,CAA2B6nC,SAA3B,CAA1B,CAAiE,CAAjE,CAAoE5pB,IAApE,EACH,CACJ,CAjBD,CAkBA4nB,aAAa7nC,SAAb,CAAuBqpC,mBAAvB,CAA6C,SAAU3mC,MAAV,CAAkBC,SAAlB,CAA6B0nC,aAA7B,CAA4C,CACrF,GAAI3nC,QAAU,IAAd,CAAoB,CAChBA,OAAS,KAAKm9B,gBAAL,CAAsBl9B,SAAtB,EAAiCQ,uBAA1C,CACA,GAAIT,QAAU,IAAV,EAAkB2nC,eAAiB,IAAvC,CAA6C,CACzC3nC,OAASH,YAAY8nC,cAAc9lC,IAA1B,CAAT,CACH,CACJ,CACD,MAAO9B,gBAAeC,MAAf,CAAuBC,SAAvB,CAAP,CACH,CARD,CASA,MAAOklC,aAAP,CACH,CAvTiC,EAAlC,CAwTA,QAASkB,YAAT,CAAqBuB,KAArB,CAA4BtlC,OAA5B,CAAqC,CACjC,MAAOslC,OAAM7pC,MAAN,CAAe,CAAf,EAAoB6pC,MAAMA,MAAM7pC,MAAN,CAAe,CAArB,IAA4BuE,OAAvD,CACH,CAED;;;;;;OAOA,QAASulC,OAAT,CAAgBtZ,OAAhB,CAAyB,CACrB,MAAOA,SAAQzU,EAAR,EAAcguB,KAAKC,eAAexZ,QAAQzP,KAAvB,EAA8Bjb,IAA9B,CAAmC,EAAnC,GAA0C,IAAM0qB,QAAQyZ,OAAd,CAAwB,GAAlE,CAAL,CAArB,CACH,CACD,QAASC,cAAT,CAAuB1Z,OAAvB,CAAgC,CAC5B,GAAIA,QAAQzU,EAAZ,CAAgB,CACZ,MAAOyU,SAAQzU,EAAf,CACH,CACD,GAAI7N,SAAU,GAAIi8B,+BAAJ,EAAd,CACA,GAAIrvB,OAAQ0V,QAAQzP,KAAR,CAAczY,GAAd,CAAkB,SAAUsgB,CAAV,CAAa,CAAE,MAAOA,GAAE9W,KAAF,CAAQ5D,OAAR,CAAiB,IAAjB,CAAP,CAAgC,CAAjE,CAAZ,CACA,MAAOk8B,cAAatvB,MAAMhV,IAAN,CAAW,EAAX,CAAb,CAA6B0qB,QAAQyZ,OAArC,CAAP,CACH,CACD;;;;;;OAOA,GAAII,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,EAA8B,CAC7B,CACDA,mBAAmB9qC,SAAnB,CAA6BwS,SAA7B,CAAyC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAOigB,MAAK3tB,KAAZ,CAAoB,CAAxF,CACA4pC,mBAAmB9qC,SAAnB,CAA6B+qC,cAA7B,CAA8C,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CACxE,GAAI/K,OAAQ,IAAZ,CACA,MAAO,IAAMgmC,UAAUh1B,QAAV,CAAmB9L,GAAnB,CAAuB,SAAUqf,KAAV,CAAiB,CAAE,MAAOA,OAAM7V,KAAN,CAAY1O,KAAZ,CAAP,CAA4B,CAAtE,EAAwE0C,IAAxE,CAA6E,IAA7E,CAAN,CAA2F,GAAlG,CACH,CAHD,CAIAukC,mBAAmB9qC,SAAnB,CAA6BgrC,QAA7B,CAAwC,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CAC5D,GAAI/K,OAAQ,IAAZ,CACA,GAAIqnC,UAAW3rC,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzX,GAAvB,CAA2B,SAAUoiC,CAAV,CAAa,CAAE,MAAOA,GAAI,IAAJ,CAAWF,IAAIzqB,KAAJ,CAAU2qB,CAAV,EAAa54B,KAAb,CAAmB1O,KAAnB,CAAX,CAAuC,GAA9C,CAAoD,CAA9F,CAAf,CACA,MAAO,IAAMonC,IAAIrqB,UAAV,CAAuB,IAAvB,CAA8BqqB,IAAIt5B,IAAlC,CAAyC,IAAzC,CAAgDu5B,SAAS3kC,IAAT,CAAc,IAAd,CAAhD,CAAsE,GAA7E,CACH,CAJD,CAKAukC,mBAAmB9qC,SAAnB,CAA6BorC,mBAA7B,CAAmD,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CACtE,GAAI/K,OAAQ,IAAZ,CACA,MAAOwnC,IAAG3nC,MAAH,CACH,kBAAoB2nC,GAAGC,SAAvB,CAAmC,MADhC,CAEH,kBAAoBD,GAAGC,SAAvB,CAAmC,KAAnC,CAA2CD,GAAGx2B,QAAH,CAAY9L,GAAZ,CAAgB,SAAUqf,KAAV,CAAiB,CAAE,MAAOA,OAAM7V,KAAN,CAAY1O,KAAZ,CAAP,CAA4B,CAA/D,EAAiE0C,IAAjE,CAAsE,IAAtE,CAA3C,CAAyH,cAAzH,CAA0I8kC,GAAGE,SAA7I,CAAyJ,KAF7J,CAGH,CALD,CAMAT,mBAAmB9qC,SAAnB,CAA6BwrC,gBAA7B,CAAgD,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CACnE,MAAOy8B,IAAGnqC,KAAH,CAAW,cAAgBmqC,GAAG9mC,IAAnB,CAA0B,KAA1B,CAAkC8mC,GAAGnqC,KAArC,CAA6C,OAAxD,CAAkE,cAAgBmqC,GAAG9mC,IAAnB,CAA0B,MAAnG,CACH,CAFD,CAGAumC,mBAAmB9qC,SAAnB,CAA6ByrC,mBAA7B,CAAmD,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CACtE,MAAO,kBAAoBy8B,GAAG9mC,IAAvB,CAA8B,KAA9B,CAAsC8mC,GAAGnqC,KAAH,CAASqR,KAAT,CAAe,IAAf,CAAtC,CAA6D,OAApE,CACH,CAFD,CAGA,MAAOu4B,mBAAP,CACH,CA1BuC,EAAxC,CA2BA,GAAIY,mBAAoB,GAAIZ,mBAAJ,EAAxB,CACA,QAASL,eAAT,CAAwBjpB,KAAxB,CAA+B,CAC3B,MAAOA,OAAMzY,GAAN,CAAU,SAAUsgB,CAAV,CAAa,CAAE,MAAOA,GAAE9W,KAAF,CAAQm5B,iBAAR,CAA2B,IAA3B,CAAP,CAA0C,CAAnE,CAAP,CACH,CACD;;;;;;OAOA,GAAId,gCAAiC,aAAe,SAAUn0B,MAAV,CAAkB,CAClE5W,UAAU+qC,8BAAV,CAA0Cn0B,MAA1C,EACA,QAASm0B,+BAAT,EAA0C,CACtC,MAAOn0B,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDoqC,+BAA+B5qC,SAA/B,CAAyCgrC,QAAzC,CAAoD,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CACxE,GAAI/K,OAAQ,IAAZ,CACA,GAAIqnC,UAAW3rC,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzX,GAAvB,CAA2B,SAAUoiC,CAAV,CAAa,CAAE,MAAOA,GAAI,IAAJ,CAAWF,IAAIzqB,KAAJ,CAAU2qB,CAAV,EAAa54B,KAAb,CAAmB1O,KAAnB,CAAX,CAAuC,GAA9C,CAAoD,CAA9F,CAAf,CACA;AACA,MAAO,IAAMonC,IAAIt5B,IAAV,CAAiB,IAAjB,CAAwBu5B,SAAS3kC,IAAT,CAAc,IAAd,CAAxB,CAA8C,GAArD,CACH,CALD,CAMA,MAAOqkC,+BAAP,CACH,CAZmD,CAYlDE,kBAZkD,CAApD,CAaA;;;;;;;OAQA,QAASN,KAAT,CAAc15B,GAAd,CAAmB,CACf,GAAI/N,GAAJ,CAAQC,EAAR,CACA,GAAI2oC,MAAO96B,WAAWC,GAAX,CAAX,CACA,GAAI86B,SAAUC,gBAAgBF,IAAhB,CAAsBG,OAAOC,GAA7B,CAAd,CACA,GAAIlO,KAAM8N,KAAKlrC,MAAL,CAAc,CAAxB,CACA,GAAIurC,GAAI,GAAItsC,MAAJ,CAAU,EAAV,CAAR,CACA,GAAI0D,IAAKhC,OAAO,CAAC,UAAD,CAAa,UAAb,CAAyB,UAAzB,CAAqC,UAArC,CAAiD,UAAjD,CAAP,CAAqE,CAArE,CAAT,CAAkFioB,EAAIjmB,GAAG,CAAH,CAAtF,CAA6F9D,EAAI8D,GAAG,CAAH,CAAjG,CAAwGgI,EAAIhI,GAAG,CAAH,CAA5G,CAAmH/D,EAAI+D,GAAG,CAAH,CAAvH,CAA8H7B,EAAI6B,GAAG,CAAH,CAAlI,CACAwoC,QAAQ/N,KAAO,CAAf,GAAqB,MAAS,GAAKA,IAAM,EAAzC,CACA+N,QAAQ,CAAE/N,IAAM,EAAN,EAAY,CAAb,EAAmB,CAApB,EAAyB,EAAjC,EAAuCA,GAAvC,CACA,IAAK,GAAIv9B,GAAI,CAAb,CAAgBA,EAAIsrC,QAAQnrC,MAA5B,CAAoCH,GAAK,EAAzC,CAA6C,CACzC,GAAIiD,IAAKnC,OAAO,CAACioB,CAAD,CAAI/pB,CAAJ,CAAO8L,CAAP,CAAU/L,CAAV,CAAakC,CAAb,CAAP,CAAwB,CAAxB,CAAT,CAAqC0qC,GAAK1oC,GAAG,CAAH,CAA1C,CAAiD2oC,GAAK3oC,GAAG,CAAH,CAAtD,CAA6D4oC,GAAK5oC,GAAG,CAAH,CAAlE,CAAyE6oC,GAAK7oC,GAAG,CAAH,CAA9E,CAAqF8oC,GAAK9oC,GAAG,CAAH,CAA1F,CACA,IAAK,GAAI42B,GAAI,CAAb,CAAgBA,EAAI,EAApB,CAAwBA,GAAxB,CAA6B,CACzB,GAAIA,EAAI,EAAR,CAAY,CACR6R,EAAE7R,CAAF,EAAOyR,QAAQtrC,EAAI65B,CAAZ,CAAP,CACH,CAFD,IAGK,CACD6R,EAAE7R,CAAF,EAAOmS,MAAMN,EAAE7R,EAAI,CAAN,EAAW6R,EAAE7R,EAAI,CAAN,CAAX,CAAsB6R,EAAE7R,EAAI,EAAN,CAAtB,CAAkC6R,EAAE7R,EAAI,EAAN,CAAxC,CAAmD,CAAnD,CAAP,CACH,CACD,GAAI12B,IAAKrC,OAAOmrC,GAAGpS,CAAH,CAAM76B,CAAN,CAAS8L,CAAT,CAAY/L,CAAZ,CAAP,CAAuB,CAAvB,CAAT,CAAoCmtC,EAAI/oC,GAAG,CAAH,CAAxC,CAA+C0nC,EAAI1nC,GAAG,CAAH,CAAnD,CACA,GAAIgpC,MAAO,CAACH,MAAMjjB,CAAN,CAAS,CAAT,CAAD,CAAcmjB,CAAd,CAAiBjrC,CAAjB,CAAoB4pC,CAApB,CAAuBa,EAAE7R,CAAF,CAAvB,EAA6B1b,MAA7B,CAAoCiuB,KAApC,CAAX,CACA3pC,GAAK3B,OAAO,CAAC/B,CAAD,CAAI+L,CAAJ,CAAOkhC,MAAMhtC,CAAN,CAAS,EAAT,CAAP,CAAqB+pB,CAArB,CAAwBojB,IAAxB,CAAP,CAAsC,CAAtC,CAAL,CAA+ClrC,EAAIwB,GAAG,CAAH,CAAnD,CAA0D1D,EAAI0D,GAAG,CAAH,CAA9D,CAAqEqI,EAAIrI,GAAG,CAAH,CAAzE,CAAgFzD,EAAIyD,GAAG,CAAH,CAApF,CAA2FsmB,EAAItmB,GAAG,CAAH,CAA/F,CACH,CACDC,GAAK5B,OAAO,CAACsrC,MAAMrjB,CAAN,CAAS4iB,EAAT,CAAD,CAAeS,MAAMptC,CAAN,CAAS4sC,EAAT,CAAf,CAA6BQ,MAAMthC,CAAN,CAAS+gC,EAAT,CAA7B,CAA2CO,MAAMrtC,CAAN,CAAS+sC,EAAT,CAA3C,CAAyDM,MAAMnrC,CAAN,CAAS8qC,EAAT,CAAzD,CAAP,CAA+E,CAA/E,CAAL,CAAwFhjB,EAAIrmB,GAAG,CAAH,CAA5F,CAAmG1D,EAAI0D,GAAG,CAAH,CAAvG,CAA8GoI,EAAIpI,GAAG,CAAH,CAAlH,CAAyH3D,EAAI2D,GAAG,CAAH,CAA7H,CAAoIzB,EAAIyB,GAAG,CAAH,CAAxI,CACH,CACD,MAAO2pC,uBAAsBC,oBAAoB,CAACvjB,CAAD,CAAI/pB,CAAJ,CAAO8L,CAAP,CAAU/L,CAAV,CAAakC,CAAb,CAApB,CAAtB,CAAP,CACH,CACD,QAASgrC,GAAT,CAAYv7B,KAAZ,CAAmB1R,CAAnB,CAAsB8L,CAAtB,CAAyB/L,CAAzB,CAA4B,CACxB,GAAI2R,MAAQ,EAAZ,CAAgB,CACZ,MAAO,CAAE1R,EAAI8L,CAAL,CAAW,CAAC9L,CAAD,CAAKD,CAAjB,CAAqB,UAArB,CAAP,CACH,CACD,GAAI2R,MAAQ,EAAZ,CAAgB,CACZ,MAAO,CAAC1R,EAAI8L,CAAJ,CAAQ/L,CAAT,CAAY,UAAZ,CAAP,CACH,CACD,GAAI2R,MAAQ,EAAZ,CAAgB,CACZ,MAAO,CAAE1R,EAAI8L,CAAL,CAAW9L,EAAID,CAAf,CAAqB+L,EAAI/L,CAA1B,CAA8B,UAA9B,CAAP,CACH,CACD,MAAO,CAACC,EAAI8L,CAAJ,CAAQ/L,CAAT,CAAY,UAAZ,CAAP,CACH,CACD;;;;;;;OAQA,QAASwtC,YAAT,CAAqB/7B,GAArB,CAA0B,CACtB,GAAI66B,MAAO96B,WAAWC,GAAX,CAAX,CACA,GAAI/N,IAAK3B,OAAO,CAAC0rC,OAAOnB,IAAP,CAAa,CAAb,CAAD,CAAkBmB,OAAOnB,IAAP,CAAa,MAAb,CAAlB,CAAP,CAAgD,CAAhD,CAAT,CAA6DoB,GAAKhqC,GAAG,CAAH,CAAlE,CAAyEiqC,GAAKjqC,GAAG,CAAH,CAA9E,CACA,GAAIgqC,IAAM,CAAN,GAAYC,IAAM,CAAN,EAAWA,IAAM,CAA7B,CAAJ,CAAqC,CACjCD,GAAKA,GAAK,UAAV,CACAC,GAAKA,GAAK,CAAC,UAAX,CACH,CACD,MAAO,CAACD,EAAD,CAAKC,EAAL,CAAP,CACH,CACD,QAASnC,aAAT,CAAsB16B,GAAtB,CAA2Bu6B,OAA3B,CAAoC,CAChC,GAAI3nC,GAAJ,CACA,GAAIC,IAAK5B,OAAOyrC,YAAY18B,GAAZ,CAAP,CAAyB,CAAzB,CAAT,CAAsC48B,GAAK/pC,GAAG,CAAH,CAA3C,CAAkDgqC,GAAKhqC,GAAG,CAAH,CAAvD,CACA,GAAI0nC,OAAJ,CAAa,CACT,GAAItnC,IAAKhC,OAAOyrC,YAAYnC,OAAZ,CAAP,CAA6B,CAA7B,CAAT,CAA0CuC,IAAM7pC,GAAG,CAAH,CAAhD,CAAuD8pC,IAAM9pC,GAAG,CAAH,CAA7D,CACAL,GAAK3B,OAAO+rC,MAAMC,MAAM,CAACL,EAAD,CAAKC,EAAL,CAAN,CAAgB,CAAhB,CAAN,CAA0B,CAACC,GAAD,CAAMC,GAAN,CAA1B,CAAP,CAA8C,CAA9C,CAAL,CAAuDH,GAAKhqC,GAAG,CAAH,CAA5D,CAAmEiqC,GAAKjqC,GAAG,CAAH,CAAxE,CACH,CACD,MAAOsqC,uBAAsBT,oBAAoB,CAACG,GAAK,UAAN,CAAkBC,EAAlB,CAApB,CAAtB,CAAP,CACH,CACD,QAASF,OAAT,CAAgBh8B,GAAhB,CAAqB1F,CAArB,CAAwB,CACpB,GAAIrI,GAAJ,CACA,GAAIC,IAAK5B,OAAO,CAAC,UAAD,CAAa,UAAb,CAAP,CAAiC,CAAjC,CAAT,CAA8CioB,EAAIrmB,GAAG,CAAH,CAAlD,CAAyD1D,EAAI0D,GAAG,CAAH,CAA7D,CACA,GAAI1C,EAAJ,CACA,GAAIu9B,KAAM/sB,IAAIrQ,MAAd,CACA,IAAKH,EAAI,CAAT,CAAYA,EAAI,EAAJ,EAAUu9B,GAAtB,CAA2Bv9B,GAAK,EAAhC,CAAoC,CAChC+oB,EAAIqjB,MAAMrjB,CAAN,CAASikB,OAAOx8B,GAAP,CAAYxQ,CAAZ,CAAewrC,OAAOyB,MAAtB,CAAT,CAAJ,CACAjuC,EAAIotC,MAAMptC,CAAN,CAASguC,OAAOx8B,GAAP,CAAYxQ,EAAI,CAAhB,CAAmBwrC,OAAOyB,MAA1B,CAAT,CAAJ,CACAniC,EAAIshC,MAAMthC,CAAN,CAASkiC,OAAOx8B,GAAP,CAAYxQ,EAAI,CAAhB,CAAmBwrC,OAAOyB,MAA1B,CAAT,CAAJ,CACAxqC,GAAK3B,OAAOosC,IAAI,CAACnkB,CAAD,CAAI/pB,CAAJ,CAAO8L,CAAP,CAAJ,CAAP,CAAuB,CAAvB,CAAL,CAAgCie,EAAItmB,GAAG,CAAH,CAApC,CAA2CzD,EAAIyD,GAAG,CAAH,CAA/C,CAAsDqI,EAAIrI,GAAG,CAAH,CAA1D,CACH,CACDsmB,EAAIqjB,MAAMrjB,CAAN,CAASikB,OAAOx8B,GAAP,CAAYxQ,CAAZ,CAAewrC,OAAOyB,MAAtB,CAAT,CAAJ,CACAjuC,EAAIotC,MAAMptC,CAAN,CAASguC,OAAOx8B,GAAP,CAAYxQ,EAAI,CAAhB,CAAmBwrC,OAAOyB,MAA1B,CAAT,CAAJ,CACA;AACAniC,EAAIshC,MAAMthC,CAAN,CAASyyB,GAAT,CAAJ,CACAzyB,EAAIshC,MAAMthC,CAAN,CAASkiC,OAAOx8B,GAAP,CAAYxQ,EAAI,CAAhB,CAAmBwrC,OAAOyB,MAA1B,GAAqC,CAA9C,CAAJ,CACA,MAAOC,KAAI,CAACnkB,CAAD,CAAI/pB,CAAJ,CAAO8L,CAAP,CAAJ,EAAe,CAAf,CAAP,CACH,CACD;AACA,QAASoiC,IAAT,CAAazqC,EAAb,CAAiB,CACb,GAAIC,IAAK5B,OAAO2B,EAAP,CAAW,CAAX,CAAT,CAAwBsmB,EAAIrmB,GAAG,CAAH,CAA5B,CAAmC1D,EAAI0D,GAAG,CAAH,CAAvC,CAA8CoI,EAAIpI,GAAG,CAAH,CAAlD,CACAqmB,EAAIokB,MAAMpkB,CAAN,CAAS/pB,CAAT,CAAJ,CACA+pB,EAAIokB,MAAMpkB,CAAN,CAASje,CAAT,CAAJ,CACAie,GAAKje,IAAM,EAAX,CACA9L,EAAImuC,MAAMnuC,CAAN,CAAS8L,CAAT,CAAJ,CACA9L,EAAImuC,MAAMnuC,CAAN,CAAS+pB,CAAT,CAAJ,CACA/pB,GAAK+pB,GAAK,CAAV,CACAje,EAAIqiC,MAAMriC,CAAN,CAASie,CAAT,CAAJ,CACAje,EAAIqiC,MAAMriC,CAAN,CAAS9L,CAAT,CAAJ,CACA8L,GAAK9L,IAAM,EAAX,CACA+pB,EAAIokB,MAAMpkB,CAAN,CAAS/pB,CAAT,CAAJ,CACA+pB,EAAIokB,MAAMpkB,CAAN,CAASje,CAAT,CAAJ,CACAie,GAAKje,IAAM,EAAX,CACA9L,EAAImuC,MAAMnuC,CAAN,CAAS8L,CAAT,CAAJ,CACA9L,EAAImuC,MAAMnuC,CAAN,CAAS+pB,CAAT,CAAJ,CACA/pB,GAAK+pB,GAAK,EAAV,CACAje,EAAIqiC,MAAMriC,CAAN,CAASie,CAAT,CAAJ,CACAje,EAAIqiC,MAAMriC,CAAN,CAAS9L,CAAT,CAAJ,CACA8L,GAAK9L,IAAM,CAAX,CACA+pB,EAAIokB,MAAMpkB,CAAN,CAAS/pB,CAAT,CAAJ,CACA+pB,EAAIokB,MAAMpkB,CAAN,CAASje,CAAT,CAAJ,CACAie,GAAKje,IAAM,CAAX,CACA9L,EAAImuC,MAAMnuC,CAAN,CAAS8L,CAAT,CAAJ,CACA9L,EAAImuC,MAAMnuC,CAAN,CAAS+pB,CAAT,CAAJ,CACA/pB,GAAK+pB,GAAK,EAAV,CACAje,EAAIqiC,MAAMriC,CAAN,CAASie,CAAT,CAAJ,CACAje,EAAIqiC,MAAMriC,CAAN,CAAS9L,CAAT,CAAJ,CACA8L,GAAK9L,IAAM,EAAX,CACA,MAAO,CAAC+pB,CAAD,CAAI/pB,CAAJ,CAAO8L,CAAP,CAAP,CACH,CACD;AACA;AACA,GAAI0gC,OAAJ,CACA,CAAC,SAAUA,MAAV,CAAkB,CACfA,OAAOA,OAAO,QAAP,EAAmB,CAA1B,EAA+B,QAA/B,CACAA,OAAOA,OAAO,KAAP,EAAgB,CAAvB,EAA4B,KAA5B,CACH,CAHD,EAGGA,SAAWA,OAAS,EAApB,CAHH,EAIA,QAASY,MAAT,CAAerjB,CAAf,CAAkB/pB,CAAlB,CAAqB,CACjB,MAAOouC,WAAUrkB,CAAV,CAAa/pB,CAAb,EAAgB,CAAhB,CAAP,CACH,CACD,QAASouC,UAAT,CAAmBrkB,CAAnB,CAAsB/pB,CAAtB,CAAyB,CACrB,GAAI6R,KAAM,CAACkY,EAAI,MAAL,GAAgB/pB,EAAI,MAApB,CAAV,CACA,GAAIquC,MAAO,CAACtkB,IAAM,EAAP,GAAc/pB,IAAM,EAApB,GAA2B6R,MAAQ,EAAnC,CAAX,CACA,MAAO,CAACw8B,OAAS,EAAV,CAAeA,MAAQ,EAAT,CAAgBx8B,IAAM,MAApC,CAAP,CACH,CACD,QAASg8B,MAAT,CAAepqC,EAAf,CAAmBC,EAAnB,CAAuB,CACnB,GAAII,IAAKhC,OAAO2B,EAAP,CAAW,CAAX,CAAT,CAAwB6qC,GAAKxqC,GAAG,CAAH,CAA7B,CAAoCyqC,GAAKzqC,GAAG,CAAH,CAAzC,CACA,GAAIG,IAAKnC,OAAO4B,EAAP,CAAW,CAAX,CAAT,CAAwB8qC,GAAKvqC,GAAG,CAAH,CAA7B,CAAoCwqC,GAAKxqC,GAAG,CAAH,CAAzC,CACA,GAAIE,IAAKrC,OAAOssC,UAAUG,EAAV,CAAcE,EAAd,CAAP,CAA0B,CAA1B,CAAT,CAAuCC,MAAQvqC,GAAG,CAAH,CAA/C,CAAsDwqC,EAAIxqC,GAAG,CAAH,CAA1D,CACA,GAAIyqC,GAAIxB,MAAMA,MAAMkB,EAAN,CAAUE,EAAV,CAAN,CAAqBE,KAArB,CAAR,CACA,MAAO,CAACE,CAAD,CAAID,CAAJ,CAAP,CACH,CACD,QAASR,MAAT,CAAepkB,CAAf,CAAkB/pB,CAAlB,CAAqB,CACjB,GAAI6R,KAAM,CAACkY,EAAI,MAAL,GAAgB/pB,EAAI,MAApB,CAAV,CACA,GAAIquC,MAAO,CAACtkB,GAAK,EAAN,GAAa/pB,GAAK,EAAlB,GAAyB6R,KAAO,EAAhC,CAAX,CACA,MAAQw8B,OAAQ,EAAT,CAAgBx8B,IAAM,MAA7B,CACH,CACD;AACA,QAASm7B,MAAT,CAAejjB,CAAf,CAAkB8kB,KAAlB,CAAyB,CACrB,MAAQ9kB,IAAK8kB,KAAN,CAAgB9kB,IAAO,GAAK8kB,KAAnC,CACH,CACD;AACA,QAASf,MAAT,CAAerqC,EAAf,CAAmBorC,KAAnB,CAA0B,CACtB,GAAInrC,IAAK5B,OAAO2B,EAAP,CAAW,CAAX,CAAT,CAAwBgqC,GAAK/pC,GAAG,CAAH,CAA7B,CAAoCgqC,GAAKhqC,GAAG,CAAH,CAAzC,CACA,GAAIkrC,GAAKnB,IAAMoB,KAAP,CAAiBnB,KAAQ,GAAKmB,KAAtC,CACA,GAAIF,GAAKjB,IAAMmB,KAAP,CAAiBpB,KAAQ,GAAKoB,KAAtC,CACA,MAAO,CAACD,CAAD,CAAID,CAAJ,CAAP,CACH,CACD,QAASpC,gBAAT,CAAyB/6B,GAAzB,CAA8Bs9B,MAA9B,CAAsC,CAClC,GAAIxC,SAAUlsC,MAAOoR,IAAIrQ,MAAJ,CAAa,CAAd,GAAqB,CAA3B,CAAd,CACA,IAAK,GAAIH,GAAI,CAAb,CAAgBA,EAAIsrC,QAAQnrC,MAA5B,CAAoCH,GAApC,CAAyC,CACrCsrC,QAAQtrC,CAAR,EAAagtC,OAAOx8B,GAAP,CAAYxQ,EAAI,CAAhB,CAAmB8tC,MAAnB,CAAb,CACH,CACD,MAAOxC,QAAP,CACH,CACD,QAASyC,OAAT,CAAgBv9B,GAAhB,CAAqBE,KAArB,CAA4B,CACxB,MAAOA,QAASF,IAAIrQ,MAAb,CAAsB,CAAtB,CAA0BqQ,IAAII,UAAJ,CAAeF,KAAf,EAAwB,IAAzD,CACH,CACD,QAASs8B,OAAT,CAAgBx8B,GAAhB,CAAqBE,KAArB,CAA4Bo9B,MAA5B,CAAoC,CAChC,GAAIE,MAAO,CAAX,CACA,GAAIF,SAAWtC,OAAOC,GAAtB,CAA2B,CACvB,IAAK,GAAIzrC,GAAI,CAAb,CAAgBA,EAAI,CAApB,CAAuBA,GAAvB,CAA4B,CACxBguC,MAAQD,OAAOv9B,GAAP,CAAYE,MAAQ1Q,CAApB,GAA2B,GAAK,EAAIA,CAA5C,CACH,CACJ,CAJD,IAKK,CACD,IAAK,GAAIA,GAAI,CAAb,CAAgBA,EAAI,CAApB,CAAuBA,GAAvB,CAA4B,CACxBguC,MAAQD,OAAOv9B,GAAP,CAAYE,MAAQ1Q,CAApB,GAA0B,EAAIA,CAAtC,CACH,CACJ,CACD,MAAOguC,KAAP,CACH,CACD,QAAS1B,oBAAT,CAA6BhB,OAA7B,CAAsC,CAClC,MAAOA,SAAQntB,MAAR,CAAe,SAAU3N,GAAV,CAAew9B,IAAf,CAAqB,CAAE,MAAOx9B,KAAMy9B,mBAAmBD,IAAnB,CAAb,CAAwC,CAA9E,CAAgF,EAAhF,CAAP,CACH,CACD,QAASC,mBAAT,CAA4BD,IAA5B,CAAkC,CAC9B,GAAIx9B,KAAM,EAAV,CACA,IAAK,GAAIxQ,GAAI,CAAb,CAAgBA,EAAI,CAApB,CAAuBA,GAAvB,CAA4B,CACxBwQ,KAAOM,OAAOC,YAAP,CAAqBi9B,OAAS,GAAK,EAAIhuC,CAAT,CAAV,CAAyB,IAA7C,CAAP,CACH,CACD,MAAOwQ,IAAP,CACH,CACD,QAAS67B,sBAAT,CAA+B77B,GAA/B,CAAoC,CAChC,GAAI6hB,KAAM,EAAV,CACA,IAAK,GAAIryB,GAAI,CAAb,CAAgBA,EAAIwQ,IAAIrQ,MAAxB,CAAgCH,GAAhC,CAAqC,CACjC,GAAIhB,GAAI+uC,OAAOv9B,GAAP,CAAYxQ,CAAZ,CAAR,CACAqyB,KAAO,CAACrzB,IAAM,CAAP,EAAUsH,QAAV,CAAmB,EAAnB,EAAyB,CAACtH,EAAI,IAAL,EAAWsH,QAAX,CAAoB,EAApB,CAAhC,CACH,CACD,MAAO+rB,KAAIvuB,WAAJ,EAAP,CACH,CACD;AACA,QAASipC,sBAAT,CAA+Bv8B,GAA/B,CAAoC,CAChC,GAAI09B,SAAU,EAAd,CACA,GAAIC,YAAa,GAAjB,CACA,IAAK,GAAInuC,GAAIwQ,IAAIrQ,MAAJ,CAAa,CAA1B,CAA6BH,GAAK,CAAlC,CAAqCA,GAArC,CAA0C,CACtCkuC,QAAUE,UAAUF,OAAV,CAAmBG,kBAAkBN,OAAOv9B,GAAP,CAAYxQ,CAAZ,CAAlB,CAAkCmuC,UAAlC,CAAnB,CAAV,CACAA,WAAaE,kBAAkB,GAAlB,CAAuBF,UAAvB,CAAb,CACH,CACD,MAAOD,SAAQz8B,KAAR,CAAc,EAAd,EAAkBsY,OAAlB,GAA4B9jB,IAA5B,CAAiC,EAAjC,CAAP,CACH,CACD;AACA,QAASmoC,UAAT,CAAmBE,CAAnB,CAAsBC,CAAtB,CAAyB,CACrB,GAAIC,KAAM,EAAV,CACA,GAAIjR,KAAMkR,KAAKC,GAAL,CAASJ,EAAEnuC,MAAX,CAAmBouC,EAAEpuC,MAArB,CAAV,CACA,IAAK,GAAIH,GAAI,CAAR,CAAW0tC,MAAQ,CAAxB,CAA2B1tC,EAAIu9B,GAAJ,EAAWmQ,KAAtC,CAA6C1tC,GAA7C,CAAkD,CAC9C,GAAI2uC,QAASjB,MAAQ,GAAEY,EAAEtuC,CAAF,GAAQ,CAAV,CAAR,CAAuB,GAAEuuC,EAAEvuC,CAAF,GAAQ,CAAV,CAApC,CACA,GAAI2uC,QAAU,EAAd,CAAkB,CACdjB,MAAQ,CAAR,CACAc,KAAOG,OAAS,EAAhB,CACH,CAHD,IAIK,CACDjB,MAAQ,CAAR,CACAc,KAAOG,MAAP,CACH,CACJ,CACD,MAAOH,IAAP,CACH,CACD,QAASH,kBAAT,CAA2BO,GAA3B,CAAgC5vC,CAAhC,CAAmC,CAC/B,GAAI6vC,SAAU,EAAd,CACA,GAAIC,aAAc9vC,CAAlB,CACA,KAAO4vC,MAAQ,CAAf,CAAkBA,IAAMA,MAAQ,CAAhC,CAAmC,CAC/B,GAAIA,IAAM,CAAV,CACIC,QAAUT,UAAUS,OAAV,CAAmBC,WAAnB,CAAV,CACJA,YAAcV,UAAUU,WAAV,CAAuBA,WAAvB,CAAd,CACH,CACD,MAAOD,QAAP,CACH,CAED;;;;;;OAOA,GAAIE,SAAU,aAAe,UAAY,CACrC;;;;;;;WAQA,QAASA,QAAT,CAAiB7tB,KAAjB,CAAwB8tB,YAAxB,CAAsCC,oBAAtC,CAA4D7E,OAA5D,CAAqE8E,WAArE,CAAkFhzB,EAAlF,CAAsF,CAClF,KAAKgF,KAAL,CAAaA,KAAb,CACA,KAAK8tB,YAAL,CAAoBA,YAApB,CACA,KAAKC,oBAAL,CAA4BA,oBAA5B,CACA,KAAK7E,OAAL,CAAeA,OAAf,CACA,KAAK8E,WAAL,CAAmBA,WAAnB,CACA,KAAKhzB,EAAL,CAAUA,EAAV,CACA,GAAIgF,MAAM/gB,MAAV,CAAkB,CACd,KAAKgvC,OAAL,CAAe,CAAC,CACR/3B,SAAU8J,MAAM,CAAN,EAASlP,UAAT,CAAoBqP,KAApB,CAA0B4b,IAA1B,CAA+Bze,GADjC,CAER4wB,UAAWluB,MAAM,CAAN,EAASlP,UAAT,CAAoBqP,KAApB,CAA0B6b,IAA1B,CAAiC,CAFpC,CAGRmS,SAAUnuB,MAAM,CAAN,EAASlP,UAAT,CAAoBqP,KAApB,CAA0B8b,GAA1B,CAAgC,CAHlC,CAIRmS,QAASpuB,MAAMA,MAAM/gB,MAAN,CAAe,CAArB,EAAwB6R,UAAxB,CAAmCuP,GAAnC,CAAuC2b,IAAvC,CAA8C,CAJ/C,CAKRqS,OAAQruB,MAAM,CAAN,EAASlP,UAAT,CAAoBqP,KAApB,CAA0B8b,GAA1B,CAAgC,CALhC,CAAD,CAAf,CAOH,CARD,IASK,CACD,KAAKgS,OAAL,CAAe,EAAf,CACH,CACJ,CACD,MAAOJ,QAAP,CACH,CA9B4B,EAA7B,CA+BA,GAAIS,QAAS,aAAe,UAAY,CACpC,QAASzvB,KAAT,CAAcnf,KAAd,CAAqBoR,UAArB,CAAiC,CAC7B,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD+N,KAAKrgB,SAAL,CAAeuS,KAAf,CAAuB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ6D,SAAR,CAAkB,IAAlB,CAAwB5D,OAAxB,CAAP,CAA0C,CAA/F,CACA,MAAOyR,KAAP,CACH,CAP2B,EAA5B,CAQA;AACA,GAAI0vB,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmBl7B,QAAnB,CAA6BvC,UAA7B,CAAyC,CACrC,KAAKuC,QAAL,CAAgBA,QAAhB,CACA,KAAKvC,UAAL,CAAkBA,UAAlB,CACH,CACDy9B,UAAU/vC,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQo8B,cAAR,CAAuB,IAAvB,CAA6Bn8B,OAA7B,CAAP,CAA+C,CAAzG,CACA,MAAOmhC,UAAP,CACH,CAP8B,EAA/B,CAQA,GAAIC,KAAM,aAAe,UAAY,CACjC,QAASA,IAAT,CAAapvB,UAAb,CAAyBjP,IAAzB,CAA+B6O,KAA/B,CAAsClO,UAAtC,CAAkD,CAC9C,KAAKsO,UAAL,CAAkBA,UAAlB,CACA,KAAKjP,IAAL,CAAYA,IAAZ,CACA,KAAK6O,KAAL,CAAaA,KAAb,CACA,KAAKlO,UAAL,CAAkBA,UAAlB,CACH,CACD09B,IAAIhwC,SAAJ,CAAcuS,KAAd,CAAsB,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQq8B,QAAR,CAAiB,IAAjB,CAAuBp8B,OAAvB,CAAP,CAAyC,CAA7F,CACA,MAAOohC,IAAP,CACH,CATwB,EAAzB,CAUA,GAAIC,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwBC,GAAxB,CAA6BhrC,KAA7B,CAAoComC,SAApC,CAA+CC,SAA/C,CAA0D12B,QAA1D,CAAoEnR,MAApE,CAA4E4O,UAA5E,CAAwF,CACpF,KAAK49B,GAAL,CAAWA,GAAX,CACA,KAAKhrC,KAAL,CAAaA,KAAb,CACA,KAAKomC,SAAL,CAAiBA,SAAjB,CACA,KAAKC,SAAL,CAAiBA,SAAjB,CACA,KAAK12B,QAAL,CAAgBA,QAAhB,CACA,KAAKnR,MAAL,CAAcA,MAAd,CACA,KAAK4O,UAAL,CAAkBA,UAAlB,CACH,CACD29B,eAAejwC,SAAf,CAAyBuS,KAAzB,CAAiC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQy8B,mBAAR,CAA4B,IAA5B,CAAkCx8B,OAAlC,CAAP,CAAoD,CAAnH,CACA,MAAOqhC,eAAP,CACH,CAZmC,EAApC,CAaA,GAAIE,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqBjvC,KAArB,CAA4BqD,IAA5B,CAAkC+N,UAAlC,CAA8C,CAC1C,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKqD,IAAL,CAAYA,IAAZ,CACA,KAAK+N,UAAL,CAAkBA,UAAlB,CACH,CACD69B,YAAYnwC,SAAZ,CAAsBuS,KAAtB,CAA8B,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ68B,gBAAR,CAAyB,IAAzB,CAA+B58B,OAA/B,CAAP,CAAiD,CAA7G,CACA,MAAOuhC,YAAP,CACH,CARgC,EAAjC,CASA,GAAIC,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwBlvC,KAAxB,CAA+BqD,IAA/B,CAAqC+N,UAArC,CAAiD,CAC7C,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKqD,IAAL,CAAYA,IAAZ,CACA,KAAK+N,UAAL,CAAkBA,UAAlB,CACH,CACD89B,eAAepwC,SAAf,CAAyBuS,KAAzB,CAAiC,SAAU5D,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQ88B,mBAAR,CAA4B,IAA5B,CAAkC78B,OAAlC,CAAP,CAAoD,CAAnH,CACA,MAAOwhC,eAAP,CACH,CARmC,EAApC,CASA;AACA,GAAIC,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,EAAwB,CACvB,CACDA,aAAarwC,SAAb,CAAuBwS,SAAvB,CAAmC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,IAAIkhC,OAAJ,CAAWjhB,KAAK3tB,KAAhB,CAAuB2tB,KAAKvc,UAA5B,CAAP,CAAiD,CAA/G,CACA+9B,aAAarwC,SAAb,CAAuB+qC,cAAvB,CAAwC,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CAClE,GAAI/K,OAAQ,IAAZ,CACA,GAAIgR,UAAWg1B,UAAUh1B,QAAV,CAAmB9L,GAAnB,CAAuB,SAAUxI,CAAV,CAAa,CAAE,MAAOA,GAAEgS,KAAF,CAAQ1O,KAAR,CAAe+K,OAAf,CAAP,CAAiC,CAAvE,CAAf,CACA,MAAO,IAAImhC,UAAJ,CAAcl7B,QAAd,CAAwBg1B,UAAUv3B,UAAlC,CAAP,CACH,CAJD,CAKA+9B,aAAarwC,SAAb,CAAuBgrC,QAAvB,CAAkC,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CACtD,GAAI/K,OAAQ,IAAZ,CACA,GAAI2c,OAAQ,EAAZ,CACAjhB,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzc,OAAvB,CAA+B,SAAU0L,GAAV,CAAe,CAAE,MAAO+Q,OAAM/Q,GAAN,EAAaw7B,IAAIzqB,KAAJ,CAAU/Q,GAAV,EAAe8C,KAAf,CAAqB1O,KAArB,CAA4B+K,OAA5B,CAApB,CAA2D,CAA3G,EACA,GAAIuB,KAAM,GAAI6/B,IAAJ,CAAQ/E,IAAIrqB,UAAZ,CAAwBqqB,IAAIt5B,IAA5B,CAAkC6O,KAAlC,CAAyCyqB,IAAI34B,UAA7C,CAAV,CACAnC,IAAImgC,qBAAJ,CAA4BrF,IAAIqF,qBAAhC,CACA,MAAOngC,IAAP,CACH,CAPD,CAQAkgC,aAAarwC,SAAb,CAAuBorC,mBAAvB,CAA6C,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CAChE,GAAI/K,OAAQ,IAAZ,CACA,GAAIgR,UAAWw2B,GAAGx2B,QAAH,CAAY9L,GAAZ,CAAgB,SAAUxI,CAAV,CAAa,CAAE,MAAOA,GAAEgS,KAAF,CAAQ1O,KAAR,CAAe+K,OAAf,CAAP,CAAiC,CAAhE,CAAf,CACA,MAAO,IAAIqhC,eAAJ,CAAmB5E,GAAG6E,GAAtB,CAA2B7E,GAAGnmC,KAA9B,CAAqCmmC,GAAGC,SAAxC,CAAmDD,GAAGE,SAAtD,CAAiE12B,QAAjE,CAA2Ew2B,GAAG3nC,MAA9E,CAAsF2nC,GAAG/4B,UAAzF,CAAP,CACH,CAJD,CAKA+9B,aAAarwC,SAAb,CAAuBwrC,gBAAvB,CAA0C,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CAC7D,MAAO,IAAIuhC,YAAJ,CAAgB9E,GAAGnqC,KAAnB,CAA0BmqC,GAAG9mC,IAA7B,CAAmC8mC,GAAG/4B,UAAtC,CAAP,CACH,CAFD,CAGA+9B,aAAarwC,SAAb,CAAuByrC,mBAAvB,CAA6C,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CAChE,MAAO,IAAIwhC,eAAJ,CAAmB/E,GAAGnqC,KAAtB,CAA6BmqC,GAAG9mC,IAAhC,CAAsC8mC,GAAG/4B,UAAzC,CAAP,CACH,CAFD,CAGA,MAAO+9B,aAAP,CACH,CA7BiC,EAAlC,CA8BA;AACA,GAAIE,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,EAA0B,CACzB,CACDA,eAAevwC,SAAf,CAAyBwS,SAAzB,CAAqC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAG,CAAjE,CACA2hC,eAAevwC,SAAf,CAAyB+qC,cAAzB,CAA0C,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CACpE,GAAI/K,OAAQ,IAAZ,CACAgmC,UAAUh1B,QAAV,CAAmB9Q,OAAnB,CAA2B,SAAUqkB,KAAV,CAAiB,CAAE,MAAOA,OAAM7V,KAAN,CAAY1O,KAAZ,CAAP,CAA4B,CAA1E,EACH,CAHD,CAIA0sC,eAAevwC,SAAf,CAAyBgrC,QAAzB,CAAoC,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CACxD,GAAI/K,OAAQ,IAAZ,CACAtE,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzc,OAAvB,CAA+B,SAAUonC,CAAV,CAAa,CAAEF,IAAIzqB,KAAJ,CAAU2qB,CAAV,EAAa54B,KAAb,CAAmB1O,KAAnB,EAA4B,CAA1E,EACH,CAHD,CAIA0sC,eAAevwC,SAAf,CAAyBorC,mBAAzB,CAA+C,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CAClE,GAAI/K,OAAQ,IAAZ,CACAwnC,GAAGx2B,QAAH,CAAY9Q,OAAZ,CAAoB,SAAUqkB,KAAV,CAAiB,CAAE,MAAOA,OAAM7V,KAAN,CAAY1O,KAAZ,CAAP,CAA4B,CAAnE,EACH,CAHD,CAIA0sC,eAAevwC,SAAf,CAAyBwrC,gBAAzB,CAA4C,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CAAG,CAAtE,CACA2hC,eAAevwC,SAAf,CAAyByrC,mBAAzB,CAA+C,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CAAG,CAAzE,CACA,MAAO2hC,eAAP,CACH,CAnBmC,EAApC,CAqBA;;;;;;OAOA,GAAIC,0BAA2B,CAC3B,IAAK,MADsB,CAE3B,IAAK,WAFsB,CAG3B,KAAM,YAHqB,CAI3B,KAAM,iBAJqB,CAK3B,KAAM,gBALqB,CAM3B,KAAM,gBANqB,CAO3B,KAAM,gBAPqB,CAQ3B,KAAM,gBARqB,CAS3B,KAAM,gBATqB,CAU3B,KAAM,gBAVqB,CAW3B,KAAM,iBAXqB,CAY3B,IAAK,aAZsB,CAa3B,KAAM,WAbqB,CAc3B,OAAQ,YAdmB,CAe3B,KAAM,cAfqB,CAgB3B,IAAK,WAhBsB,CAiB3B,IAAK,WAjBsB,CAkB3B,IAAK,oBAlBsB,CAmB3B,QAAS,YAnBkB,CAoB3B,MAAO,WApBoB,CAqB3B,MAAO,aArBoB,CAsB3B,QAAS,YAtBkB,CAuB3B,KAAM,YAvBqB,CAwB3B,QAAS,cAxBkB,CAyB3B,KAAM,mBAzBqB,CA0B3B,QAAS,cA1BkB,CA2B3B,KAAM,WA3BqB,CA4B3B,KAAM,iBA5BqB,CA6B3B,IAAK,iBA7BsB,CA8B3B,KAAM,gBA9BqB,CAA/B,CAgCA;;;;OAKA,GAAIC,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,EAA+B,CAC3B;AACA,KAAKC,sBAAL,CAA8B,EAA9B,CACA;AACA,KAAKC,gBAAL,CAAwB,EAAxB,CACH,CACDF,oBAAoBzwC,SAApB,CAA8B4wC,0BAA9B,CAA2D,SAAUV,GAAV,CAAehrC,KAAf,CAAsBxB,MAAtB,CAA8B,CACrF,GAAImtC,WAAY,KAAKC,QAAL,CAAcZ,GAAd,CAAmBhrC,KAAnB,CAA0BxB,MAA1B,CAAhB,CACA,GAAI,KAAKitC,gBAAL,CAAsBE,SAAtB,CAAJ,CAAsC,CAClC,MAAO,MAAKF,gBAAL,CAAsBE,SAAtB,CAAP,CACH,CACD,GAAIE,UAAWb,IAAIhiC,WAAJ,EAAf,CACA,GAAIoR,UAAWkxB,yBAAyBO,QAAzB,GAAsC,OAASA,QAA9D,CACA,GAAIxsC,MAAO,KAAKysC,mBAAL,CAAyBttC,OAAS4b,QAAT,CAAoB,SAAWA,QAAxD,CAAX,CACA,KAAKqxB,gBAAL,CAAsBE,SAAtB,EAAmCtsC,IAAnC,CACA,MAAOA,KAAP,CACH,CAVD,CAWAksC,oBAAoBzwC,SAApB,CAA8BixC,0BAA9B,CAA2D,SAAUf,GAAV,CAAe,CACtE,GAAIW,WAAY,KAAKK,eAAL,CAAqBhB,GAArB,CAAhB,CACA,GAAI,KAAKS,gBAAL,CAAsBE,SAAtB,CAAJ,CAAsC,CAClC,MAAO,MAAKF,gBAAL,CAAsBE,SAAtB,CAAP,CACH,CACD,GAAIE,UAAWb,IAAIhiC,WAAJ,EAAf,CACA,GAAIoR,UAAWkxB,yBAAyBO,QAAzB,GAAsC,OAASA,QAA9D,CACA,GAAIxsC,MAAO,KAAKysC,mBAAL,CAAyB,SAAW1xB,QAApC,CAAX,CACA,KAAKqxB,gBAAL,CAAsBE,SAAtB,EAAmCtsC,IAAnC,CACA,MAAOA,KAAP,CACH,CAVD,CAWAksC,oBAAoBzwC,SAApB,CAA8BmxC,kBAA9B,CAAmD,SAAU5sC,IAAV,CAAgBq5B,OAAhB,CAAyB,CACxE,GAAIwT,WAAY7sC,KAAK2J,WAAL,EAAhB,CACA,GAAI2iC,WAAY,OAASO,SAAT,CAAqB,GAArB,CAA2BxT,OAA3C,CACA,GAAI,KAAK+S,gBAAL,CAAsBE,SAAtB,CAAJ,CAAsC,CAClC,MAAO,MAAKF,gBAAL,CAAsBE,SAAtB,CAAP,CACH,CACD,GAAIQ,YAAa,KAAKL,mBAAL,CAAyBI,SAAzB,CAAjB,CACA,KAAKT,gBAAL,CAAsBE,SAAtB,EAAmCQ,UAAnC,CACA,MAAOA,WAAP,CACH,CATD,CAUAZ,oBAAoBzwC,SAApB,CAA8BsxC,oBAA9B,CAAqD,SAAU/sC,IAAV,CAAgB,CACjE,MAAO,MAAKysC,mBAAL,CAAyBzsC,KAAK2J,WAAL,EAAzB,CAAP,CACH,CAFD,CAGA;AACAuiC,oBAAoBzwC,SAApB,CAA8B8wC,QAA9B,CAAyC,SAAUZ,GAAV,CAAehrC,KAAf,CAAsBxB,MAAtB,CAA8B,CACnE,GAAIie,OAAQ,IAAMuuB,GAAlB,CACA,GAAIqB,UAAWhyC,OAAOiQ,IAAP,CAAYtK,KAAZ,EAAmBssC,IAAnB,GAA0BzoC,GAA1B,CAA8B,SAAUxE,IAAV,CAAgB,CAAE,MAAO,IAAMA,IAAN,CAAa,GAAb,CAAmBW,MAAMX,IAAN,CAA1B,CAAwC,CAAxF,EAA0FgC,IAA1F,CAA+F,EAA/F,CAAf,CACA,GAAIsb,KAAMne,OAAS,IAAT,CAAgB,MAAQwsC,GAAR,CAAc,GAAxC,CACA,MAAOvuB,OAAQ4vB,QAAR,CAAmB1vB,GAA1B,CACH,CALD,CAMA4uB,oBAAoBzwC,SAApB,CAA8BkxC,eAA9B,CAAgD,SAAUhB,GAAV,CAAe,CAAE,MAAO,MAAKY,QAAL,CAAc,IAAMZ,GAApB,CAAyB,EAAzB,CAA6B,KAA7B,CAAP,CAA6C,CAA9G,CACAO,oBAAoBzwC,SAApB,CAA8BgxC,mBAA9B,CAAoD,SAAUS,IAAV,CAAgB,CAChE,GAAIC,MAAO,KAAKhB,sBAAL,CAA4B9wC,cAA5B,CAA2C6xC,IAA3C,CAAX,CACA,GAAI,CAACC,IAAL,CAAW,CACP,KAAKhB,sBAAL,CAA4Be,IAA5B,EAAoC,CAApC,CACA,MAAOA,KAAP,CACH,CACD,GAAIj1B,IAAK,KAAKk0B,sBAAL,CAA4Be,IAA5B,CAAT,CACA,KAAKf,sBAAL,CAA4Be,IAA5B,EAAoCj1B,GAAK,CAAzC,CACA,MAAOi1B,MAAO,GAAP,CAAaj1B,EAApB,CACH,CATD,CAUA,MAAOi0B,oBAAP,CACH,CA7DwC,EAAzC,CA+DA;;;;;;OAOA,GAAIkB,YAAa,GAAItZ,OAAJ,CAAW,GAAI1J,MAAJ,EAAX,CAAjB,CACA;;OAGA,QAASijB,yBAAT,CAAkCnrB,mBAAlC,CAAuD,CACnD,GAAI9X,SAAU,GAAIkjC,aAAJ,CAAiBF,UAAjB,CAA6BlrB,mBAA7B,CAAd,CACA,MAAO,UAAUjF,KAAV,CAAiBkpB,OAAjB,CAA0B8E,WAA1B,CAAuChzB,EAAvC,CAA2C,CAC9C,MAAO7N,SAAQmjC,aAAR,CAAsBtwB,KAAtB,CAA6BkpB,OAA7B,CAAsC8E,WAAtC,CAAmDhzB,EAAnD,CAAP,CACH,CAFD,CAGH,CACD,GAAIq1B,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBE,iBAAtB,CAAyCtR,oBAAzC,CAA+D,CAC3D,KAAKsR,iBAAL,CAAyBA,iBAAzB,CACA,KAAKtR,oBAAL,CAA4BA,oBAA5B,CACH,CACDoR,aAAa7xC,SAAb,CAAuB8xC,aAAvB,CAAuC,SAAUtwB,KAAV,CAAiBkpB,OAAjB,CAA0B8E,WAA1B,CAAuChzB,EAAvC,CAA2C,CAC9E,KAAKw1B,MAAL,CAAcxwB,MAAM/gB,MAAN,EAAgB,CAAhB,EAAqB+gB,MAAM,CAAN,WAAoBlB,UAAvD,CACA,KAAK2xB,SAAL,CAAiB,CAAjB,CACA,KAAKC,oBAAL,CAA4B,GAAIzB,oBAAJ,EAA5B,CACA,KAAK0B,qBAAL,CAA6B,EAA7B,CACA,KAAKC,qBAAL,CAA6B,EAA7B,CACA,GAAIC,UAAW9wB,SAAS,IAAT,CAAeC,KAAf,CAAsB,EAAtB,CAAf,CACA,MAAO,IAAI6tB,QAAJ,CAAYgD,QAAZ,CAAsB,KAAKF,qBAA3B,CAAkD,KAAKC,qBAAvD,CAA8E1H,OAA9E,CAAuF8E,WAAvF,CAAoGhzB,EAApG,CAAP,CACH,CARD,CASAq1B,aAAa7xC,SAAb,CAAuB+U,YAAvB,CAAsC,SAAUm0B,EAAV,CAAct6B,OAAd,CAAuB,CACzD,GAAIiG,UAAW0M,SAAS,IAAT,CAAe2nB,GAAGr0B,QAAlB,CAAf,CACA,GAAI3P,OAAQ,EAAZ,CACAgkC,GAAGhkC,KAAH,CAASnB,OAAT,CAAiB,SAAU0gB,IAAV,CAAgB,CAC7B;AACAvf,MAAMuf,KAAKlgB,IAAX,EAAmBkgB,KAAKvjB,KAAxB,CACH,CAHD,EAIA,GAAIwC,QAASgB,qBAAqBwkC,GAAG3kC,IAAxB,EAA8Bb,MAA3C,CACA,GAAI4uC,aAAc,KAAKJ,oBAAL,CAA0BtB,0BAA1B,CAAqD1H,GAAG3kC,IAAxD,CAA8DW,KAA9D,CAAqExB,MAArE,CAAlB,CACA,KAAKyuC,qBAAL,CAA2BG,WAA3B,EAA0CpJ,GAAG52B,UAAH,CAAc1L,QAAd,EAA1C,CACA,GAAI2rC,aAAc,EAAlB,CACA,GAAI,CAAC7uC,MAAL,CAAa,CACT6uC,YAAc,KAAKL,oBAAL,CAA0BjB,0BAA1B,CAAqD/H,GAAG3kC,IAAxD,CAAd,CACA,KAAK4tC,qBAAL,CAA2BI,WAA3B,EAA0C,KAAOrJ,GAAG3kC,IAAV,CAAiB,GAA3D,CACH,CACD,MAAO,IAAI0rC,eAAJ,CAAmB/G,GAAG3kC,IAAtB,CAA4BW,KAA5B,CAAmCotC,WAAnC,CAAgDC,WAAhD,CAA6D19B,QAA7D,CAAuEnR,MAAvE,CAA+EwlC,GAAG52B,UAAlF,CAAP,CACH,CAhBD,CAiBAu/B,aAAa7xC,SAAb,CAAuBkhB,cAAvB,CAAwC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAClE,MAAO,MAAK6jC,2BAAL,CAAiCD,UAAUtxC,KAA3C,CAAkDsxC,UAAUlgC,UAA5D,CAAP,CACH,CAFD,CAGAu/B,aAAa7xC,SAAb,CAAuBwS,SAAvB,CAAmC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CACxD,MAAO,MAAK6jC,2BAAL,CAAiC5jB,KAAK3tB,KAAtC,CAA6C2tB,KAAKvc,UAAlD,CAAP,CACH,CAFD,CAGAu/B,aAAa7xC,SAAb,CAAuBshB,YAAvB,CAAsC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAE,MAAO,KAAP,CAAc,CAAlF,CACAijC,aAAa7xC,SAAb,CAAuB0gB,cAAvB,CAAwC,SAAUuqB,GAAV,CAAer8B,OAAf,CAAwB,CAC5D,GAAI/K,OAAQ,IAAZ,CACA,KAAKouC,SAAL,GACA,GAAIU,cAAe,EAAnB,CACA,GAAIC,SAAU,GAAI5C,IAAJ,CAAQ/E,IAAI1qB,WAAZ,CAAyB0qB,IAAIt5B,IAA7B,CAAmCghC,YAAnC,CAAiD1H,IAAI34B,UAArD,CAAd,CACA24B,IAAIzqB,KAAJ,CAAUzc,OAAV,CAAkB,SAAU8uC,IAAV,CAAgB,CAC9BF,aAAaE,KAAK3xC,KAAlB,EAA2B,GAAI6uC,UAAJ,CAAc8C,KAAKjyB,UAAL,CAAgB7X,GAAhB,CAAoB,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAkB,EAAlB,CAAP,CAA+B,CAArE,CAAd,CAAsFgvC,KAAK/xB,aAA3F,CAA3B,CACH,CAFD,EAGA,KAAKmxB,SAAL,GACA,GAAI,KAAKD,MAAL,EAAe,KAAKC,SAAL,CAAiB,CAApC,CAAuC,CACnC;AACA;AACA;AACA,GAAIa,OAAQ,KAAKZ,oBAAL,CAA0BZ,oBAA1B,CAA+C,OAASrG,IAAIt5B,IAA5D,CAAZ,CACAihC,QAAQtC,qBAAR,CAAgCwC,KAAhC,CACA,KAAKX,qBAAL,CAA2BW,KAA3B,EAAoC7H,IAAI1qB,WAAxC,CACA,MAAOqyB,QAAP,CACH,CACD;AACA;AACA;AACA;AACA;AACA,GAAIG,QAAS,KAAKb,oBAAL,CAA0Bf,kBAA1B,CAA6C,KAA7C,CAAoDlG,IAAI34B,UAAJ,CAAe1L,QAAf,EAApD,CAAb,CACA,GAAI+H,SAAU,GAAIkjC,aAAJ,CAAiB,KAAKE,iBAAtB,CAAyC,KAAKtR,oBAA9C,CAAd,CACA,KAAK2R,qBAAL,CAA2BW,MAA3B,EAAqCpkC,QAAQmjC,aAAR,CAAsB,CAAC7G,GAAD,CAAtB,CAA6B,EAA7B,CAAiC,EAAjC,CAAqC,EAArC,CAArC,CACA,MAAO,IAAImF,eAAJ,CAAmBwC,OAAnB,CAA4BG,MAA5B,CAAoC9H,IAAI34B,UAAxC,CAAP,CACH,CA3BD,CA4BAu/B,aAAa7xC,SAAb,CAAuB+gB,kBAAvB,CAA4C,SAAUiyB,OAAV,CAAmBpkC,OAAnB,CAA4B,CACpE,KAAM,IAAI3M,MAAJ,CAAU,kBAAV,CAAN,CACH,CAFD,CAGA4vC,aAAa7xC,SAAb,CAAuByyC,2BAAvB,CAAqD,SAAU5jB,IAAV,CAAgBvc,UAAhB,CAA4B,CAC7E,GAAImnB,oBAAqB,KAAKsY,iBAAL,CAAuBtY,kBAAvB,CAA0C5K,IAA1C,CAAgDvc,WAAWqP,KAAX,CAAiB/a,QAAjB,EAAhD,CAA6E,KAAK65B,oBAAlF,CAAzB,CACA,GAAI,CAAChH,kBAAL,CAAyB,CACrB;AACA,MAAO,IAAIqW,OAAJ,CAAWjhB,IAAX,CAAiBvc,UAAjB,CAAP,CACH,CACD;AACA,GAAIkP,OAAQ,EAAZ,CACA,GAAIqoB,WAAY,GAAIkG,UAAJ,CAAcvuB,KAAd,CAAqBlP,UAArB,CAAhB,CACA,GAAIvP,IAAK,KAAK09B,oBAAd,CAAoCwS,WAAalwC,GAAG4e,KAApD,CAA2DuxB,WAAanwC,GAAG8e,GAA3E,CACA,IAAK,GAAIvhB,GAAI,CAAb,CAAgBA,EAAIm5B,mBAAmBhE,OAAnB,CAA2Bh1B,MAA3B,CAAoC,CAAxD,CAA2DH,GAA3D,CAAgE,CAC5D,GAAIsgB,YAAa6Y,mBAAmB3F,WAAnB,CAA+BxzB,CAA/B,CAAjB,CACA,GAAIgf,UAAW6zB,wBAAwBvyB,UAAxB,GAAuC,eAAtD,CACA,GAAImyB,QAAS,KAAKb,oBAAL,CAA0Bf,kBAA1B,CAA6C7xB,QAA7C,CAAuDsB,UAAvD,CAAb,CACA,GAAI6Y,mBAAmBhE,OAAnB,CAA2Bn1B,CAA3B,EAA8BG,MAAlC,CAA0C,CACtC;AACA+gB,MAAMhgB,IAAN,CAAW,GAAIsuC,OAAJ,CAAWrW,mBAAmBhE,OAAnB,CAA2Bn1B,CAA3B,CAAX,CAA0CgS,UAA1C,CAAX,EACH,CACDkP,MAAMhgB,IAAN,CAAW,GAAI2uC,YAAJ,CAAgBvvB,UAAhB,CAA4BmyB,MAA5B,CAAoCzgC,UAApC,CAAX,EACA,KAAK6/B,qBAAL,CAA2BY,MAA3B,EAAqCE,WAAaryB,UAAb,CAA0BsyB,UAA/D,CACH,CACD;AACA,GAAIE,eAAgB3Z,mBAAmBhE,OAAnB,CAA2Bh1B,MAA3B,CAAoC,CAAxD,CACA,GAAIg5B,mBAAmBhE,OAAnB,CAA2B2d,aAA3B,EAA0C3yC,MAA9C,CAAsD,CAClD+gB,MAAMhgB,IAAN,CAAW,GAAIsuC,OAAJ,CAAWrW,mBAAmBhE,OAAnB,CAA2B2d,aAA3B,CAAX,CAAsD9gC,UAAtD,CAAX,EACH,CACD,MAAOu3B,UAAP,CACH,CA3BD,CA4BA,MAAOgI,aAAP,CACH,CAlGiC,EAAlC,CAmGA,GAAIwB,gBAAiB,6EAArB,CACA,QAASF,wBAAT,CAAiCnlC,KAAjC,CAAwC,CACpC,MAAOA,OAAM+D,KAAN,CAAYshC,cAAZ,EAA4B,CAA5B,CAAP,CACH,CAED;;;;;;OAOA;;OAGA,GAAIC,WAAY,aAAe,SAAU78B,MAAV,CAAkB,CAC7C5W,UAAUyzC,SAAV,CAAqB78B,MAArB,EACA,QAAS68B,UAAT,CAAmBtxB,IAAnB,CAAyB7R,GAAzB,CAA8B,CAC1B,MAAOsG,QAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwB7R,GAAxB,GAAgC,IAAvC,CACH,CACD,MAAOmjC,UAAP,CACH,CAN8B,CAM7BvU,UAN6B,CAA/B,CAQA;;;;;;OAOA,GAAIwU,YAAa,MAAjB,CACA,GAAIC,mBAAoB,OAAxB,CACA,GAAIC,6BAA8B,SAAlC,CACA,GAAIC,mBAAoB,GAAxB,CACA,GAAIC,cAAe,IAAnB,CACA,GAAIC,oBAAqB,KAAzB,CACA;;OAGA,QAASC,gBAAT,CAAyBryB,KAAzB,CAAgCiF,mBAAhC,CAAqDqtB,YAArD,CAAmEC,aAAnE,CAAkF,CAC9E,GAAIplC,SAAU,GAAIqlC,SAAJ,CAAaF,YAAb,CAA2BC,aAA3B,CAAd,CACA,MAAOplC,SAAQslC,OAAR,CAAgBzyB,KAAhB,CAAuBiF,mBAAvB,CAAP,CACH,CACD,QAASytB,kBAAT,CAA2B1yB,KAA3B,CAAkC2yB,YAAlC,CAAgD1tB,mBAAhD,CAAqEqtB,YAArE,CAAmFC,aAAnF,CAAkG,CAC9F,GAAIplC,SAAU,GAAIqlC,SAAJ,CAAaF,YAAb,CAA2BC,aAA3B,CAAd,CACA,MAAOplC,SAAQylC,KAAR,CAAc5yB,KAAd,CAAqB2yB,YAArB,CAAmC1tB,mBAAnC,CAAP,CACH,CACD,GAAI4tB,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0BC,QAA1B,CAAoC3tB,MAApC,CAA4C,CACxC,KAAK2tB,QAAL,CAAgBA,QAAhB,CACA,KAAK3tB,MAAL,CAAcA,MAAd,CACH,CACD,MAAO0tB,iBAAP,CACH,CANqC,EAAtC,CAOA,GAAIE,aAAJ,CACA,CAAC,SAAUA,YAAV,CAAwB,CACrBA,aAAaA,aAAa,SAAb,EAA0B,CAAvC,EAA4C,SAA5C,CACAA,aAAaA,aAAa,OAAb,EAAwB,CAArC,EAA0C,OAA1C,CACH,CAHD,EAGGA,eAAiBA,aAAe,EAAhC,CAHH,EAIA;;;;;;OAOA,GAAIP,UAAW,aAAe,UAAY,CACtC,QAASA,SAAT,CAAkBQ,aAAlB,CAAiCC,cAAjC,CAAiD,CAC7C,KAAKD,aAAL,CAAqBA,aAArB,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACH,CACD;;WAGAT,SAASh0C,SAAT,CAAmBi0C,OAAnB,CAA6B,SAAUzyB,KAAV,CAAiBiF,mBAAjB,CAAsC,CAC/D,GAAI5iB,OAAQ,IAAZ,CACA,KAAK6wC,KAAL,CAAWH,aAAaI,OAAxB,CAAiCluB,mBAAjC,EACAjF,MAAMzd,OAAN,CAAc,SAAUkc,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAkB,IAAlB,CAAP,CAAiC,CAAjE,EACA,GAAI,KAAK+wC,YAAT,CAAuB,CACnB,KAAK1b,YAAL,CAAkB1X,MAAMA,MAAM/gB,MAAN,CAAe,CAArB,CAAlB,CAA2C,gBAA3C,EACH,CACD,MAAO,IAAI4zC,iBAAJ,CAAqB,KAAKQ,SAA1B,CAAqC,KAAK7M,OAA1C,CAAP,CACH,CARD,CASA;;WAGAgM,SAASh0C,SAAT,CAAmBo0C,KAAnB,CAA2B,SAAU5yB,KAAV,CAAiB2yB,YAAjB,CAA+B1tB,mBAA/B,CAAoD,CAC3E,KAAKiuB,KAAL,CAAWH,aAAaO,KAAxB,CAA+BruB,mBAA/B,EACA,KAAKsuB,aAAL,CAAqBZ,YAArB,CACA;AACA,GAAIa,SAAU,GAAI7zB,QAAJ,CAAY,SAAZ,CAAuB,EAAvB,CAA2BK,KAA3B,CAAkCpX,SAAlC,CAA6CA,SAA7C,CAAwDA,SAAxD,CAAd,CACA,GAAI6qC,gBAAiBD,QAAQziC,KAAR,CAAc,IAAd,CAAoB,IAApB,CAArB,CACA,GAAI,KAAKqiC,YAAT,CAAuB,CACnB,KAAK1b,YAAL,CAAkB1X,MAAMA,MAAM/gB,MAAN,CAAe,CAArB,CAAlB,CAA2C,gBAA3C,EACH,CACD,MAAO,IAAI+mC,gBAAJ,CAAoByN,eAAepgC,QAAnC,CAA6C,KAAKmzB,OAAlD,CAAP,CACH,CAVD,CAWAgM,SAASh0C,SAAT,CAAmB+gB,kBAAnB,CAAwC,SAAUiyB,OAAV,CAAmBpkC,OAAnB,CAA4B,CAChE;AACA,GAAIgS,YAAaW,SAAS,IAAT,CAAeyxB,QAAQpyB,UAAvB,CAAmChS,OAAnC,CAAjB,CACA,GAAI,KAAKsmC,KAAL,GAAeX,aAAaO,KAAhC,CAAuC,CACnC,MAAO,IAAIn0B,cAAJ,CAAkBqyB,QAAQ9xC,KAA1B,CAAiC0f,UAAjC,CAA6CoyB,QAAQ1gC,UAArD,CAAiE0gC,QAAQnyB,eAAzE,CAA0FmyB,QAAQlyB,aAAlG,CAAP,CACH,CACJ,CAND,CAOAkzB,SAASh0C,SAAT,CAAmB0gB,cAAnB,CAAoC,SAAUuqB,GAAV,CAAer8B,OAAf,CAAwB,CACxD,KAAKumC,sBAAL,CAA4BlK,GAA5B,EACA,GAAImK,UAAW,KAAKC,MAApB,CACA,GAAI,CAAC,KAAKA,MAAV,CAAkB,CACd;AACA,GAAI,KAAKC,wBAAT,CAAmC,CAC/B,KAAKC,WAAL,CAAiB,CAACtK,GAAD,CAAjB,EACH,CACD,KAAKoK,MAAL,CAAc,IAAd,CACH,CACD,GAAI70B,OAAQe,SAAS,IAAT,CAAe0pB,IAAIzqB,KAAnB,CAA0B5R,OAA1B,CAAZ,CACA,GAAI,KAAKsmC,KAAL,GAAeX,aAAaO,KAAhC,CAAuC,CACnC7J,IAAM,GAAI3qB,UAAJ,CAAc2qB,IAAI1qB,WAAlB,CAA+B0qB,IAAIt5B,IAAnC,CAAyC6O,KAAzC,CAAgDyqB,IAAI34B,UAApD,CAAgE24B,IAAIxqB,qBAApE,CAAN,CACH,CACD,KAAK40B,MAAL,CAAcD,QAAd,CACA,MAAOnK,IAAP,CACH,CAhBD,CAiBA+I,SAASh0C,SAAT,CAAmBshB,YAAnB,CAAkC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAC1D,GAAI4mC,WAAYC,kBAAkB/C,OAAlB,CAAhB,CACA,GAAI8C,WAAa,KAAKF,wBAAtB,CAAgD,CAC5C,KAAKpc,YAAL,CAAkBwZ,OAAlB,CAA2B,uDAA3B,EACA,OACH,CACD,GAAIgD,WAAYC,kBAAkBjD,OAAlB,CAAhB,CACA,GAAIgD,WAAa,CAAC,KAAKd,YAAvB,CAAqC,CACjC,KAAK1b,YAAL,CAAkBwZ,OAAlB,CAA2B,mCAA3B,EACA,OACH,CACD,GAAI,CAAC,KAAKkD,WAAN,EAAqB,CAAC,KAAKP,MAA/B,CAAuC,CACnC,GAAI,CAAC,KAAKT,YAAV,CAAwB,CACpB,GAAIY,SAAJ,CAAe,CACX;AACA,GAAI,CAAC5B,kBAAD,EAAuBiC,OAAvB,EAAkCA,QAAQC,IAA9C,CAAoD,CAChDlC,mBAAqB,IAArB,CACA,GAAI/U,SAAU6T,QAAQpgC,UAAR,CAAmBusB,OAAnB,CAA6B,KAAO6T,QAAQpgC,UAAR,CAAmBusB,OAAvD,CAAiE,EAA/E,CACA;AACAgX,QAAQC,IAAR,CAAa,wEAA0EpD,QAAQpgC,UAAR,CAAmBqP,KAA7F,CAAqGkd,OAArG,CAA+G,GAA5H,EACH,CACD,KAAK+V,YAAL,CAAoB,IAApB,CACA,KAAKmB,gBAAL,CAAwB,KAAKC,MAA7B,CACA,KAAKC,cAAL,CAAsB,EAAtB,CACA,KAAKC,oBAAL,CACIxD,QAAQxxC,KAAR,CAAc+M,OAAd,CAAsBwlC,2BAAtB,CAAmD,EAAnD,EAAuDhlC,IAAvD,EADJ,CAEA,KAAK0nC,wBAAL,CAA8BzD,OAA9B,EACH,CACJ,CAhBD,IAiBK,CACD,GAAIgD,SAAJ,CAAe,CACX,GAAI,KAAKM,MAAL,EAAe,KAAKD,gBAAxB,CAA0C,CACtC,KAAKK,yBAAL,CAA+B1D,OAA/B,CAAwC,KAAKuD,cAA7C,EACA,KAAKrB,YAAL,CAAoB,KAApB,CACA,GAAI3jB,SAAU,KAAKskB,WAAL,CAAiB,KAAKU,cAAtB,CAAsC,KAAKC,oBAA3C,CAAd,CACA;AACA,GAAI10B,OAAQ,KAAK60B,iBAAL,CAAuB3D,OAAvB,CAAgCzhB,OAAhC,CAAZ,CACA,MAAO1P,UAAS,IAAT,CAAeC,KAAf,CAAP,CACH,CAPD,IAQK,CACD,KAAK0X,YAAL,CAAkBwZ,OAAlB,CAA2B,iDAA3B,EACA,OACH,CACJ,CACJ,CACJ,CACJ,CA9CD,CA+CAsB,SAASh0C,SAAT,CAAmBwS,SAAnB,CAA+B,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CACpD,GAAI,KAAK0mC,wBAAT,CAAmC,CAC/B,KAAKH,sBAAL,CAA4BtmB,IAA5B,EACH,CACD,MAAOA,KAAP,CACH,CALD,CAMAmlB,SAASh0C,SAAT,CAAmB+U,YAAnB,CAAkC,SAAUm0B,EAAV,CAAct6B,OAAd,CAAuB,CACrD,GAAI/K,OAAQ,IAAZ,CACA,KAAKsxC,sBAAL,CAA4BjM,EAA5B,EACA,KAAK8M,MAAL,GACA,GAAIM,eAAgB,KAAKV,WAAzB,CACA,GAAIW,mBAAoB,KAAKC,eAA7B,CACA,GAAIC,YAAa,EAAjB,CACA,GAAIC,sBAAuBtsC,SAA3B,CACA;AACA;AACA;AACA,GAAIusC,UAAWC,aAAa1N,EAAb,CAAf,CACA,GAAI2N,UAAWF,SAAWA,SAASz1C,KAApB,CAA4B,EAA3C,CACA,GAAI41C,YAAa,KAAKtC,aAAL,CAAmBvkC,IAAnB,CAAwB,SAAUigC,GAAV,CAAe,CAAE,MAAOhH,IAAG3kC,IAAH,GAAY2rC,GAAnB,CAAyB,CAAlE,GAAuE,CAAC,KAAKmF,MAA7E,EACb,CAAC,KAAKC,wBADV,CAEA,GAAIyB,oBAAqB,CAACR,iBAAD,EAAsBO,UAA/C,CACA,KAAKN,eAAL,CAAuBD,mBAAqBO,UAA5C,CACA,GAAI,CAAC,KAAKxB,wBAAN,EAAkC,CAAC,KAAKD,MAA5C,CAAoD,CAChD,GAAIsB,UAAYI,kBAAhB,CAAoC,CAChC,KAAKnB,WAAL,CAAmB,IAAnB,CACA,GAAI3kB,SAAU,KAAKskB,WAAL,CAAiBrM,GAAGr0B,QAApB,CAA8BgiC,QAA9B,CAAd,CACAH,qBAAuB,KAAKL,iBAAL,CAAuBnN,EAAvB,CAA2BjY,OAA3B,CAAvB,CACH,CACD,GAAI,KAAKikB,KAAL,EAAcX,aAAaI,OAA/B,CAAwC,CACpC,GAAIqC,gBAAiBL,UAAYI,kBAAjC,CACA,GAAIC,cAAJ,CACI,KAAKb,wBAAL,CAA8BjN,EAA9B,EACJ3nB,SAAS,IAAT,CAAe2nB,GAAGr0B,QAAlB,EACA,GAAImiC,cAAJ,CACI,KAAKZ,yBAAL,CAA+BlN,EAA/B,CAAmCA,GAAGr0B,QAAtC,EACP,CACJ,CAdD,IAeK,CACD,GAAI8hC,UAAYI,kBAAhB,CAAoC,CAChC,KAAK7d,YAAL,CAAkBgQ,EAAlB,CAAsB,yEAAtB,EACH,CACD,GAAI,KAAKgM,KAAL,EAAcX,aAAaI,OAA/B,CAAwC,CACpC;AACApzB,SAAS,IAAT,CAAe2nB,GAAGr0B,QAAlB,EACH,CACJ,CACD,GAAI,KAAKqgC,KAAL,GAAeX,aAAaO,KAAhC,CAAuC,CACnC,GAAImC,YAAaP,sBAAwBxN,GAAGr0B,QAA5C,CACAoiC,WAAWlzC,OAAX,CAAmB,SAAUqkB,KAAV,CAAiB,CAChC,GAAI8uB,SAAU9uB,MAAM7V,KAAN,CAAY1O,KAAZ,CAAmB+K,OAAnB,CAAd,CACA,GAAIsoC,SAAW,CAACrzC,MAAMyxC,wBAAtB,CAAgD,CAC5C;AACA;AACAmB,WAAaA,WAAW90C,MAAX,CAAkBu1C,OAAlB,CAAb,CACH,CACJ,CAPD,EAQH,CACD,KAAKC,kBAAL,CAAwBjO,EAAxB,EACA,KAAK8M,MAAL,GACA,KAAKJ,WAAL,CAAmBU,aAAnB,CACA,KAAKE,eAAL,CAAuBD,iBAAvB,CACA,GAAI,KAAKrB,KAAL,GAAeX,aAAaO,KAAhC,CAAuC,CACnC,GAAIsC,iBAAkB,KAAKC,oBAAL,CAA0BnO,EAA1B,CAAtB,CACA,MAAO,IAAI/nB,QAAJ,CAAY+nB,GAAG3kC,IAAf,CAAqB6yC,eAArB,CAAsCX,UAAtC,CAAkDvN,GAAG52B,UAArD,CAAiE42B,GAAG9nB,eAApE,CAAqF8nB,GAAGp0B,aAAxF,CAAP,CACH,CACD,MAAO,KAAP,CACH,CA7DD,CA8DAk/B,SAASh0C,SAAT,CAAmBkhB,cAAnB,CAAoC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAC9D,KAAM,IAAI3M,MAAJ,CAAU,kBAAV,CAAN,CACH,CAFD,CAGA+xC,SAASh0C,SAAT,CAAmB00C,KAAnB,CAA2B,SAAU4C,IAAV,CAAgB7wB,mBAAhB,CAAqC,CAC5D,KAAKyuB,KAAL,CAAaoC,IAAb,CACA,KAAK1C,YAAL,CAAoB,KAApB,CACA,KAAKgB,WAAL,CAAmB,KAAnB,CACA,KAAKI,MAAL,CAAc,CAAd,CACA,KAAKX,MAAL,CAAc,KAAd,CACA,KAAKkC,uBAAL,CAA+BntC,SAA/B,CACA,KAAK49B,OAAL,CAAe,EAAf,CACA,KAAK6M,SAAL,CAAiB,EAAjB,CACA,KAAK2B,eAAL,CAAuB,KAAvB,CACA,KAAKgB,kBAAL,CAA0B5F,yBAAyBnrB,mBAAzB,CAA1B,CACH,CAXD,CAYA;AACAutB,SAASh0C,SAAT,CAAmBm3C,kBAAnB,CAAwC,SAAUjO,EAAV,CAAc,CAClD,GAAIrlC,OAAQ,IAAZ,CACA,GAAI4zC,yBAA0B,EAA9B,CACA,GAAIC,mBAAoB,KAAKjD,cAAL,CAAoBvL,GAAG3kC,IAAvB,GAAgC,EAAxD,CACA2kC,GAAGhkC,KAAH,CAASyiB,MAAT,CAAgB,SAAUlD,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,CAAUozC,UAAV,CAAqBnE,iBAArB,CAAP,CAAiD,CAAnF,EACKzvC,OADL,CACa,SAAU0gB,IAAV,CAAgB,CAAE,MAAOgzB,yBAAwBhzB,KAAKlgB,IAAL,CAAUrC,KAAV,CAAgBsxC,kBAAkB/yC,MAAlC,CAAxB,EAClCgkB,KAAKvjB,KADsB,CACd,CAFjB,EAGAgoC,GAAGhkC,KAAH,CAASnB,OAAT,CAAiB,SAAU0gB,IAAV,CAAgB,CAC7B,GAAIA,KAAKlgB,IAAL,GAAakzC,wBAAjB,CAA0C,CACtC5zC,MAAM0xC,WAAN,CAAkB,CAAC9wB,IAAD,CAAlB,CAA0BgzB,wBAAwBhzB,KAAKlgB,IAA7B,CAA1B,EACH,CAFD,IAGK,IAAImzC,kBAAkBznC,IAAlB,CAAuB,SAAU1L,IAAV,CAAgB,CAAE,MAAOkgB,MAAKlgB,IAAL,GAAcA,IAArB,CAA4B,CAArE,CAAJ,CAA4E,CAC7EV,MAAM0xC,WAAN,CAAkB,CAAC9wB,IAAD,CAAlB,EACH,CACJ,CAPD,EAQH,CAfD,CAgBA;AACAuvB,SAASh0C,SAAT,CAAmBu1C,WAAnB,CAAiC,SAAUh/B,GAAV,CAAeqhC,OAAf,CAAwB,CACrD,GAAIrhC,IAAI9V,MAAJ,EAAc,CAAd,EACA8V,IAAI9V,MAAJ,EAAc,CAAd,EAAmB8V,IAAI,CAAJ,WAAkByK,UAArC,EAAkD,CAACzK,IAAI,CAAJ,EAAOrV,KAD9D,CACqE,CACjE;AACA,MAAO,KAAP,CACH,CACD,GAAI6B,IAAK80C,kBAAkBD,OAAlB,CAAT,CAAqClN,QAAU3nC,GAAG2nC,OAAlD,CAA2D8E,YAAczsC,GAAGysC,WAA5E,CAAyFhzB,GAAKzZ,GAAGyZ,EAAjG,CACA,GAAIyU,SAAU,KAAKumB,kBAAL,CAAwBjhC,GAAxB,CAA6Bm0B,OAA7B,CAAsC8E,WAAtC,CAAmDhzB,EAAnD,CAAd,CACA,KAAKq4B,SAAL,CAAerzC,IAAf,CAAoByvB,OAApB,EACA,MAAOA,QAAP,CACH,CAVD,CAWA;AACA;AACA;AACA+iB,SAASh0C,SAAT,CAAmBq2C,iBAAnB,CAAuC,SAAUnN,EAAV,CAAcjY,OAAd,CAAuB,CAC1D,GAAIA,SAAW,KAAKikB,KAAL,GAAeX,aAAaO,KAA3C,CAAkD,CAC9C,GAAItzB,OAAQ,KAAKuzB,aAAL,CAAmBpsC,GAAnB,CAAuBsoB,OAAvB,CAAZ,CACA,GAAIzP,KAAJ,CAAW,CACP,MAAOA,MAAP,CACH,CACD,KAAK0X,YAAL,CAAkBgQ,EAAlB,CAAsB,4CAA8C,KAAK6L,aAAL,CAAmBxK,MAAnB,CAA0BtZ,OAA1B,CAA9C,CAAmF,IAAzG,EACH,CACD,MAAO,EAAP,CACH,CATD,CAUA;AACA+iB,SAASh0C,SAAT,CAAmBq3C,oBAAnB,CAA0C,SAAUnO,EAAV,CAAc,CACpD,GAAIrlC,OAAQ,IAAZ,CACA,GAAIi0C,YAAa5O,GAAGhkC,KAApB,CACA,GAAI6yC,uBAAwB,EAA5B,CACAD,WAAW/zC,OAAX,CAAmB,SAAU0gB,IAAV,CAAgB,CAC/B,GAAIA,KAAKlgB,IAAL,CAAUozC,UAAV,CAAqBnE,iBAArB,CAAJ,CAA6C,CACzCuE,sBAAsBtzB,KAAKlgB,IAAL,CAAUrC,KAAV,CAAgBsxC,kBAAkB/yC,MAAlC,CAAtB,EACIo3C,kBAAkBpzB,KAAKvjB,KAAvB,CADJ,CAEH,CACJ,CALD,EAMA,GAAI82C,sBAAuB,EAA3B,CACAF,WAAW/zC,OAAX,CAAmB,SAAU0gB,IAAV,CAAgB,CAC/B,GAAIA,KAAKlgB,IAAL,GAAcgvC,UAAd,EAA4B9uB,KAAKlgB,IAAL,CAAUozC,UAAV,CAAqBnE,iBAArB,CAAhC,CAAyE,CACrE;AACA,OACH,CACD,GAAI/uB,KAAKvjB,KAAL,EAAcujB,KAAKvjB,KAAL,EAAc,EAA5B,EAAkC62C,sBAAsBn4C,cAAtB,CAAqC6kB,KAAKlgB,IAA1C,CAAtC,CAAuF,CACnF,GAAIxB,IAAKg1C,sBAAsBtzB,KAAKlgB,IAA3B,CAAT,CAA2CmmC,QAAU3nC,GAAG2nC,OAAxD,CAAiE8E,YAAczsC,GAAGysC,WAAlF,CAA+FhzB,GAAKzZ,GAAGyZ,EAAvG,CACA,GAAIyU,SAAUptB,MAAM2zC,kBAAN,CAAyB,CAAC/yB,IAAD,CAAzB,CAAiCimB,OAAjC,CAA0C8E,WAA1C,CAAuDhzB,EAAvD,CAAd,CACA,GAAIgF,OAAQ3d,MAAMkxC,aAAN,CAAoBpsC,GAApB,CAAwBsoB,OAAxB,CAAZ,CACA,GAAIzP,KAAJ,CAAW,CACP,GAAIA,MAAM/gB,MAAN,EAAgB,CAApB,CAAuB,CACnBu3C,qBAAqBx2C,IAArB,CAA0B,GAAIwf,UAAJ,CAAcyD,KAAKlgB,IAAnB,CAAyB,EAAzB,CAA6BkgB,KAAKnS,UAAlC,CAA1B,EACH,CAFD,IAGK,IAAIkP,MAAM,CAAN,WAAoBnB,KAAxB,CAA8B,CAC/B,GAAInf,OAAQsgB,MAAM,CAAN,EAAStgB,KAArB,CACA82C,qBAAqBx2C,IAArB,CAA0B,GAAIwf,UAAJ,CAAcyD,KAAKlgB,IAAnB,CAAyBrD,KAAzB,CAAgCujB,KAAKnS,UAArC,CAA1B,EACH,CAHI,IAIA,CACDzO,MAAMq1B,YAAN,CAAmBgQ,EAAnB,CAAuB,0CAA4CzkB,KAAKlgB,IAAjD,CAAwD,WAAxD,EAAuEiY,IAAM3Y,MAAMkxC,aAAN,CAAoBxK,MAApB,CAA2BtZ,OAA3B,CAA7E,EAAoH,KAA3I,EACH,CACJ,CAXD,IAYK,CACDptB,MAAMq1B,YAAN,CAAmBgQ,EAAnB,CAAuB,2CAA6CzkB,KAAKlgB,IAAlD,CAAyD,WAAzD,EAAwEiY,IAAM3Y,MAAMkxC,aAAN,CAAoBxK,MAApB,CAA2BtZ,OAA3B,CAA9E,EAAqH,KAA5I,EACH,CACJ,CAnBD,IAoBK,CACD+mB,qBAAqBx2C,IAArB,CAA0BijB,IAA1B,EACH,CACJ,CA5BD,EA6BA,MAAOuzB,qBAAP,CACH,CAzCD,CA0CA;;;;;WAMAhE,SAASh0C,SAAT,CAAmBm1C,sBAAnB,CAA4C,SAAUl1B,IAAV,CAAgB,CACxD,GAAI,KAAK20B,YAAL,EAAqB,CAAC,KAAKS,MAA3B,EAAqC,KAAKW,MAAL,EAAe,KAAKD,gBAA7D,CAA+E,CAC3E,KAAKE,cAAL,CAAoBz0C,IAApB,CAAyBye,IAAzB,EACH,CACJ,CAJD,CAKA;;WAGA+zB,SAASh0C,SAAT,CAAmBm2C,wBAAnB,CAA8C,SAAUl2B,IAAV,CAAgB,CAC1D,GAAI,KAAKq1B,wBAAT,CAAmC,CAC/B,KAAKpc,YAAL,CAAkBjZ,IAAlB,CAAwB,0BAAxB,EACH,CAFD,IAGK,CACD,KAAKs3B,uBAAL,CAA+B,KAAK1C,SAAL,CAAep0C,MAA9C,CACH,CACJ,CAPD,CAQAlB,OAAOsgB,cAAP,CAAsBm0B,SAASh0C,SAA/B,CAA0C,0BAA1C,CAAsE,CAClE;;;;eAKA2I,IAAK,UAAY,CACb,MAAO,MAAK4uC,uBAAL,GAAiC,IAAK,EAA7C,CACH,CARiE,CASlEz3B,WAAY,IATsD,CAUlEC,aAAc,IAVoD,CAAtE,EAYA;;;;;;;;;;;;;;;WAgBAi0B,SAASh0C,SAAT,CAAmBo2C,yBAAnB,CAA+C,SAAUn2B,IAAV,CAAgBg4B,cAAhB,CAAgC,CAC3E,GAAI,CAAC,KAAK3C,wBAAV,CAAoC,CAChC,KAAKpc,YAAL,CAAkBjZ,IAAlB,CAAwB,wBAAxB,EACA,OACH,CACD,GAAIi4B,YAAa,KAAKX,uBAAtB,CACA,GAAIY,qBAAsBF,eAAex5B,MAAf,CAAsB,SAAU0vB,KAAV,CAAiBluB,IAAjB,CAAuB,CAAE,MAAOkuB,QAASluB,eAAgBoB,QAAhB,CAA0B,CAA1B,CAA8B,CAAvC,CAAP,CAAmD,CAAlG,CAAoG,CAApG,CAA1B,CACA,GAAI82B,qBAAuB,CAA3B,CAA8B,CAC1B,IAAK,GAAI73C,GAAI,KAAKu0C,SAAL,CAAep0C,MAAf,CAAwB,CAArC,CAAwCH,GAAK43C,UAA7C,CAAyD53C,GAAzD,CAA8D,CAC1D,GAAIiW,KAAM,KAAKs+B,SAAL,CAAev0C,CAAf,EAAkBkhB,KAA5B,CACA,GAAI,EAAEjL,IAAI9V,MAAJ,EAAc,CAAd,EAAmB8V,IAAI,CAAJ,WAAkBu5B,OAAvC,CAAJ,CAAoD,CAChD,KAAK+E,SAAL,CAAe1K,MAAf,CAAsB7pC,CAAtB,CAAyB,CAAzB,EACA,MACH,CACJ,CACJ,CACD,KAAKi3C,uBAAL,CAA+BntC,SAA/B,CACH,CAjBD,CAkBA4pC,SAASh0C,SAAT,CAAmBk5B,YAAnB,CAAkC,SAAUjZ,IAAV,CAAgB9P,GAAhB,CAAqB,CACnD,KAAK63B,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+BnC,GAA/B,CAAlB,EACH,CAFD,CAGA,MAAO6jC,SAAP,CACH,CAtV6B,EAA9B,CAuVA,QAASyB,kBAAT,CAA2Bl1C,CAA3B,CAA8B,CAC1B,MAAO,CAAC,EAAEA,YAAa8gB,QAAb,EAAwB9gB,EAAEW,KAA1B,EAAmCX,EAAEW,KAAF,CAAQy2C,UAAR,CAAmB,MAAnB,CAArC,CAAR,CACH,CACD,QAAShC,kBAAT,CAA2Bp1C,CAA3B,CAA8B,CAC1B,MAAO,CAAC,EAAEA,YAAa8gB,QAAb,EAAwB9gB,EAAEW,KAA1B,EAAmCX,EAAEW,KAAF,GAAY,OAAjD,CAAR,CACH,CACD,QAAS01C,aAAT,CAAsBj3C,CAAtB,CAAyB,CACrB,MAAOA,GAAEuF,KAAF,CAAQkzC,IAAR,CAAa,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAcgvC,UAArB,CAAkC,CAAjE,GAAsE,IAA7E,CACH,CACD,QAASsE,kBAAT,CAA2BQ,IAA3B,CAAiC,CAC7B,GAAI,CAACA,IAAL,CACI,MAAO,CAAE3N,QAAS,EAAX,CAAe8E,YAAa,EAA5B,CAAgChzB,GAAI,EAApC,CAAP,CACJ,GAAI87B,SAAUD,KAAKr2C,OAAL,CAAa2xC,YAAb,CAAd,CACA,GAAI4E,WAAYF,KAAKr2C,OAAL,CAAa0xC,iBAAb,CAAhB,CACA,GAAI3wC,IAAK3B,OAAQk3C,QAAU,CAAC,CAAZ,CAAiB,CAACD,KAAKn2C,KAAL,CAAW,CAAX,CAAco2C,OAAd,CAAD,CAAyBD,KAAKn2C,KAAL,CAAWo2C,QAAU,CAArB,CAAzB,CAAjB,CAAqE,CAACD,IAAD,CAAO,EAAP,CAA5E,CAAwF,CAAxF,CAAT,CAAqGG,eAAiBz1C,GAAG,CAAH,CAAtH,CAA6HyZ,GAAKzZ,GAAG,CAAH,CAAlI,CACA,GAAIC,IAAK5B,OAAQm3C,UAAY,CAAC,CAAd,CACZ,CAACC,eAAet2C,KAAf,CAAqB,CAArB,CAAwBq2C,SAAxB,CAAD,CAAqCC,eAAet2C,KAAf,CAAqBq2C,UAAY,CAAjC,CAArC,CADY,CAEZ,CAAC,EAAD,CAAKC,cAAL,CAFK,CAEiB,CAFjB,CAAT,CAE8B9N,QAAU1nC,GAAG,CAAH,CAFxC,CAE+CwsC,YAAcxsC,GAAG,CAAH,CAF7D,CAGA,MAAO,CAAE0nC,QAASA,OAAX,CAAoB8E,YAAaA,WAAjC,CAA8ChzB,GAAIA,EAAlD,CAAP,CACH,CAED;;;;;;OAOA,GAAIi8B,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,EAA4B,CACxB,KAAKj1C,cAAL,CAAsB,KAAtB,CACA,KAAKH,WAAL,CAAmBvE,QAAQ8C,cAAR,CAAuB0B,aAA1C,CACA,KAAKI,MAAL,CAAc,KAAd,CACA,KAAKE,aAAL,CAAqB,KAArB,CACA,KAAKE,YAAL,CAAoB,IAApB,CACH,CACD20C,iBAAiBz4C,SAAjB,CAA2BiE,kBAA3B,CAAgD,SAAUC,aAAV,CAAyB,CAAE,MAAO,MAAP,CAAe,CAA1F,CACAu0C,iBAAiBz4C,SAAjB,CAA2BsE,eAA3B,CAA6C,SAAUC,IAAV,CAAgB,CAAE,MAAO,MAAP,CAAe,CAA9E,CACA,MAAOk0C,iBAAP,CACH,CAXqC,EAAtC,CAYA,GAAIC,iBAAkB,GAAID,iBAAJ,EAAtB,CACA,QAASE,oBAAT,CAA6Bv2C,OAA7B,CAAsC,CAClC,MAAOs2C,gBAAP,CACH,CAED;;;;;;OAOA,GAAIE,WAAY,aAAe,SAAUniC,MAAV,CAAkB,CAC7C5W,UAAU+4C,SAAV,CAAqBniC,MAArB,EACA,QAASmiC,UAAT,EAAqB,CACjB,MAAOniC,QAAO/V,IAAP,CAAY,IAAZ,CAAkBi4C,mBAAlB,GAA0C,IAAjD,CACH,CACDC,UAAU54C,SAAV,CAAoBoF,KAApB,CAA4B,SAAUuxB,MAAV,CAAkB7X,GAAlB,CAAuB4oB,mBAAvB,CAA4C,CACpE,GAAIA,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB,KAAtB,CAA8B,CACpE,MAAOjxB,QAAOzW,SAAP,CAAiBoF,KAAjB,CAAuB1E,IAAvB,CAA4B,IAA5B,CAAkCi2B,MAAlC,CAA0C7X,GAA1C,CAA+C4oB,mBAA/C,CAAP,CACH,CAHD,CAIA,MAAOkR,UAAP,CACH,CAV8B,CAU7BnR,QAV6B,CAA/B,CAYA;;;;;;OAOA,GAAIoR,YAAa,aAAe,UAAY,CACxC,QAASA,WAAT,EAAsB,CACrB,CACD;AACA;AACAA,WAAW74C,SAAX,CAAqB84C,gBAArB,CAAwC,SAAU7nB,OAAV,CAAmB,CAAE,MAAO,KAAP,CAAc,CAA3E,CACA,MAAO4nB,WAAP,CACH,CAP+B,EAAhC,CAQA;;OAGA,GAAIE,yBAA0B,aAAe,SAAUtiC,MAAV,CAAkB,CAC3D5W,UAAUk5C,uBAAV,CAAmCtiC,MAAnC,EACA;AACA,QAASsiC,wBAAT,CAAiC9nB,OAAjC,CAA0C+nB,OAA1C,CAAmD,CAC/C,GAAIn1C,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAMm1C,OAAN,CAAgBA,OAAhB,CACAn1C,MAAMo1C,gBAAN,CAAyB,EAAzB,CACAp1C,MAAMq1C,cAAN,CAAuB,EAAvB,CACAr1C,MAAMs1C,gBAAN,CAAyB,EAAzB,CACAloB,QAAQzP,KAAR,CAAczd,OAAd,CAAsB,SAAUkc,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAnE,EACA,MAAOA,MAAP,CACH,CACDk1C,wBAAwB/4C,SAAxB,CAAkCo5C,YAAlC,CAAiD,SAAUC,YAAV,CAAwB,CACrE,MAAO,MAAKJ,gBAAL,CAAsBr5C,cAAtB,CAAqCy5C,YAArC,EACH,KAAKJ,gBAAL,CAAsBI,YAAtB,CADG,CAEH,IAFJ,CAGH,CAJD,CAKAN,wBAAwB/4C,SAAxB,CAAkCs5C,cAAlC,CAAmD,SAAUC,UAAV,CAAsB,CACrE,MAAO,MAAKJ,gBAAL,CAAsBv5C,cAAtB,CAAqC25C,UAArC,EAAmD,KAAKJ,gBAAL,CAAsBI,UAAtB,CAAnD,CACH,IADJ,CAEH,CAHD,CAIAR,wBAAwB/4C,SAAxB,CAAkCwS,SAAlC,CAA8C,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,KAAP,CAAc,CAAvF,CACAmqC,wBAAwB/4C,SAAxB,CAAkCorC,mBAAlC,CAAwD,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CAC3E,KAAK4qC,oBAAL,CAA0BnO,GAAGC,SAA7B,EACA70B,OAAOzW,SAAP,CAAiBorC,mBAAjB,CAAqC1qC,IAArC,CAA0C,IAA1C,CAAgD2qC,EAAhD,CAAoDz8B,OAApD,EACA,KAAK4qC,oBAAL,CAA0BnO,GAAGE,SAA7B,EACH,CAJD,CAKAwN,wBAAwB/4C,SAAxB,CAAkCwrC,gBAAlC,CAAqD,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CAAE,KAAK4qC,oBAAL,CAA0BnO,GAAG9mC,IAA7B,EAAqC,CAAnH,CACAw0C,wBAAwB/4C,SAAxB,CAAkCyrC,mBAAlC,CAAwD,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CAC3E,KAAK4qC,oBAAL,CAA0BnO,GAAG9mC,IAA7B,EACH,CAFD,CAGA;AACAw0C,wBAAwB/4C,SAAxB,CAAkCw5C,oBAAlC,CAAyD,SAAUH,YAAV,CAAwB,CAC7E,GAAI,CAACA,YAAD,EAAiB,KAAKJ,gBAAL,CAAsBr5C,cAAtB,CAAqCy5C,YAArC,CAArB,CAAyE,CACrE,OACH,CACD,GAAIE,YAAa,KAAKP,OAAL,CAAaK,YAAb,CAAjB,CACA,GAAI,KAAKF,gBAAL,CAAsBv5C,cAAtB,CAAqC25C,UAArC,CAAJ,CAAsD,CAClD;AACA,GAAIE,QAAS,KAAKP,cAAL,CAAoBK,UAApB,CAAb,CACA,KAAKL,cAAL,CAAoBK,UAApB,EAAkCE,OAAS,CAA3C,CACAF,WAAaA,WAAa,GAAb,CAAmBE,MAAhC,CACH,CALD,IAMK,CACD,KAAKP,cAAL,CAAoBK,UAApB,EAAkC,CAAlC,CACH,CACD,KAAKN,gBAAL,CAAsBI,YAAtB,EAAsCE,UAAtC,CACA,KAAKJ,gBAAL,CAAsBI,UAAtB,EAAoCF,YAApC,CACH,CAhBD,CAiBA,MAAON,wBAAP,CACH,CAlD4C,CAkD3CxI,cAlD2C,CAA7C,CAoDA;;;;;;OAOA,GAAImJ,YAAa,aAAe,UAAY,CACxC,QAAS1F,SAAT,EAAoB,CACnB,CACDA,SAASh0C,SAAT,CAAmB25C,QAAnB,CAA8B,SAAUzJ,GAAV,CAAe,CACzC,GAAIrsC,OAAQ,IAAZ,CACA,GAAI0tC,UAAW,KAAKqI,oBAAL,CAA0B1J,IAAIhrC,KAA9B,CAAf,CACA,GAAIgrC,IAAIr7B,QAAJ,CAAapU,MAAb,EAAuB,CAA3B,CAA8B,CAC1B,MAAO,IAAMyvC,IAAI3rC,IAAV,CAAiBgtC,QAAjB,CAA4B,IAAnC,CACH,CACD,GAAIsI,aAAc3J,IAAIr7B,QAAJ,CAAa9L,GAAb,CAAiB,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAA9D,CAAlB,CACA,MAAO,IAAMqsC,IAAI3rC,IAAV,CAAiBgtC,QAAjB,CAA4B,GAA5B,CAAkCsI,YAAYtzC,IAAZ,CAAiB,EAAjB,CAAlC,CAAyD,IAAzD,CAAgE2pC,IAAI3rC,IAApE,CAA2E,GAAlF,CACH,CARD,CASAyvC,SAASh0C,SAAT,CAAmBwS,SAAnB,CAA+B,SAAUqc,IAAV,CAAgB,CAAE,MAAOA,MAAK3tB,KAAZ,CAAoB,CAArE,CACA8yC,SAASh0C,SAAT,CAAmB85C,gBAAnB,CAAsC,SAAUC,IAAV,CAAgB,CAClD,MAAO,QAAU,KAAKH,oBAAL,CAA0BG,KAAK70C,KAA/B,CAAV,CAAkD,KAAzD,CACH,CAFD,CAGA8uC,SAASh0C,SAAT,CAAmB45C,oBAAnB,CAA0C,SAAU10C,KAAV,CAAiB,CACvD,GAAIqsC,UAAWhyC,OAAOiQ,IAAP,CAAYtK,KAAZ,EAAmB6D,GAAnB,CAAuB,SAAUxE,IAAV,CAAgB,CAAE,MAAOA,MAAO,KAAP,CAAeW,MAAMX,IAAN,CAAf,CAA6B,IAApC,CAA2C,CAApF,EAAsFgC,IAAtF,CAA2F,GAA3F,CAAf,CACA,MAAOgrC,UAAS9wC,MAAT,CAAkB,CAAlB,CAAsB,IAAM8wC,QAA5B,CAAuC,EAA9C,CACH,CAHD,CAIAyC,SAASh0C,SAAT,CAAmBg6C,YAAnB,CAAkC,SAAUC,OAAV,CAAmB,CACjD,MAAO,aAAeA,QAAQC,OAAvB,CAAiC,MAAjC,CAA0CD,QAAQE,GAAlD,CAAwD,MAA/D,CACH,CAFD,CAGA,MAAOnG,SAAP,CACH,CAxB+B,EAAhC,CAyBA,GAAIoG,UAAW,GAAIV,WAAJ,EAAf,CACA,QAASW,UAAT,CAAmB74B,KAAnB,CAA0B,CACtB,MAAOA,OAAMzY,GAAN,CAAU,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW6nC,QAAX,CAAP,CAA8B,CAA1D,EAA4D7zC,IAA5D,CAAiE,EAAjE,CAAP,CACH,CACD,GAAI+zC,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqBC,cAArB,CAAqC,CACjC,GAAI12C,OAAQ,IAAZ,CACA,KAAKqB,KAAL,CAAa,EAAb,CACA3F,OAAOiQ,IAAP,CAAY+qC,cAAZ,EAA4Bx2C,OAA5B,CAAoC,SAAUonC,CAAV,CAAa,CAC7CtnC,MAAMqB,KAAN,CAAYimC,CAAZ,EAAiBqP,UAAUD,eAAepP,CAAf,CAAV,CAAjB,CACH,CAFD,EAGH,CACDmP,YAAYt6C,SAAZ,CAAsBuS,KAAtB,CAA8B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQmrC,gBAAR,CAAyB,IAAzB,CAAP,CAAwC,CAA3F,CACA,MAAOQ,YAAP,CACH,CAVgC,EAAjC,CAWA,GAAIG,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBP,OAAjB,CAA0BC,GAA1B,CAA+B,CAC3B,KAAKD,OAAL,CAAeA,OAAf,CACA,KAAKC,GAAL,CAAWA,GAAX,CACH,CACDM,QAAQz6C,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQqrC,YAAR,CAAqB,IAArB,CAAP,CAAoC,CAAnF,CACA,MAAOS,QAAP,CACH,CAP4B,EAA7B,CAQA,GAAIC,KAAM,aAAe,UAAY,CACjC,QAASA,IAAT,CAAan2C,IAAb,CAAmBg2C,cAAnB,CAAmC1lC,QAAnC,CAA6C,CACzC,GAAI0lC,iBAAmB,IAAK,EAA5B,CAA+B,CAAEA,eAAiB,EAAjB,CAAsB,CACvD,GAAI1lC,WAAa,IAAK,EAAtB,CAAyB,CAAEA,SAAW,EAAX,CAAgB,CAC3C,GAAIhR,OAAQ,IAAZ,CACA,KAAKU,IAAL,CAAYA,IAAZ,CACA,KAAKsQ,QAAL,CAAgBA,QAAhB,CACA,KAAK3P,KAAL,CAAa,EAAb,CACA3F,OAAOiQ,IAAP,CAAY+qC,cAAZ,EAA4Bx2C,OAA5B,CAAoC,SAAUonC,CAAV,CAAa,CAC7CtnC,MAAMqB,KAAN,CAAYimC,CAAZ,EAAiBqP,UAAUD,eAAepP,CAAf,CAAV,CAAjB,CACH,CAFD,EAGH,CACDuP,IAAI16C,SAAJ,CAAcuS,KAAd,CAAsB,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQgrC,QAAR,CAAiB,IAAjB,CAAP,CAAgC,CAA3E,CACA,MAAOe,IAAP,CACH,CAdwB,EAAzB,CAeA,GAAIC,QAAS,aAAe,UAAY,CACpC,QAASt6B,KAAT,CAAcu6B,cAAd,CAA8B,CAC1B,KAAK15C,KAAL,CAAas5C,UAAUI,cAAV,CAAb,CACH,CACDv6B,KAAKrgB,SAAL,CAAeuS,KAAf,CAAuB,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQ6D,SAAR,CAAkB,IAAlB,CAAP,CAAiC,CAA7E,CACA,MAAO6N,KAAP,CACH,CAN2B,EAA5B,CAOA,GAAIw6B,IAAK,aAAe,SAAUpkC,MAAV,CAAkB,CACtC5W,UAAUg7C,EAAV,CAAcpkC,MAAd,EACA,QAASokC,GAAT,CAAYC,EAAZ,CAAgB,CACZ,GAAIA,KAAO,IAAK,EAAhB,CAAmB,CAAEA,GAAK,CAAL,CAAS,CAC9B,MAAOrkC,QAAO/V,IAAP,CAAY,IAAZ,CAAkB,KAAO,GAAIhB,MAAJ,CAAUo7C,GAAK,CAAf,EAAkBv0C,IAAlB,CAAuB,GAAvB,CAAzB,GAAyD,IAAhE,CACH,CACD,MAAOs0C,GAAP,CACH,CAPuB,CAOtBF,MAPsB,CAAxB,CAQA,GAAII,gBAAiB,CACjB,CAAC,IAAD,CAAO,OAAP,CADiB,CAEjB,CAAC,IAAD,CAAO,QAAP,CAFiB,CAGjB,CAAC,IAAD,CAAO,QAAP,CAHiB,CAIjB,CAAC,IAAD,CAAO,MAAP,CAJiB,CAKjB,CAAC,IAAD,CAAO,MAAP,CALiB,CAArB,CAOA;AACA,QAASP,UAAT,CAAmB3rB,IAAnB,CAAyB,CACrB,MAAOksB,gBAAet8B,MAAf,CAAsB,SAAUoQ,IAAV,CAAgBmsB,KAAhB,CAAuB,CAAE,MAAOnsB,MAAK5gB,OAAL,CAAa+sC,MAAM,CAAN,CAAb,CAAuBA,MAAM,CAAN,CAAvB,CAAP,CAA0C,CAAzF,CAA2FnsB,IAA3F,CAAP,CACH,CAED;;;;;;OAOA,GAAIosB,UAAW,KAAf,CACA,GAAIC,QAAS,uCAAb,CACA;AACA,GAAIC,sBAAuB,IAA3B,CACA,GAAIC,kBAAmB,GAAvB,CACA,GAAIC,aAAc,KAAlB,CACA,GAAIC,WAAY,MAAhB,CACA,GAAIC,aAAc,QAAlB,CACA,GAAIC,qBAAsB,YAA1B,CACA,GAAIC,aAAc,QAAlB,CACA,GAAIC,WAAY,YAAhB,CACA,GAAIC,oBAAqB,eAAzB,CACA,GAAIC,cAAe,SAAnB,CACA;AACA;AACA,GAAIC,OAAQ,aAAe,SAAUplC,MAAV,CAAkB,CACzC5W,UAAUg8C,KAAV,CAAiBplC,MAAjB,EACA,QAASolC,MAAT,EAAiB,CACb,MAAOplC,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDq7C,MAAM77C,SAAN,CAAgB87C,KAAhB,CAAwB,SAAUxH,QAAV,CAAoByH,MAApB,CAA4B,CAChD,GAAIptC,SAAU,GAAIqtC,cAAJ,EAAd,CACA,GAAIC,YAAa,EAAjB,CACA3H,SAASvwC,OAAT,CAAiB,SAAUktB,OAAV,CAAmB,CAChC,GAAIluB,GAAJ,CACA,GAAIm5C,aAAc,EAAlB,CACAjrB,QAAQwe,OAAR,CAAgB1rC,OAAhB,CAAwB,SAAU4yB,MAAV,CAAkB,CACtC,GAAIwlB,iBAAkB,GAAIzB,IAAJ,CAAQiB,kBAAR,CAA4B,CAAES,QAAS,UAAX,CAA5B,CAAtB,CACAD,gBAAgBtnC,QAAhB,CAAyBrT,IAAzB,CAA8B,GAAIq5C,GAAJ,CAAO,EAAP,CAA9B,CAA0C,GAAIH,IAAJ,CAAQkB,YAAR,CAAsB,CAAE,eAAgB,YAAlB,CAAtB,CAAwD,CAAC,GAAIjB,OAAJ,CAAWhkB,OAAOjf,QAAlB,CAAD,CAAxD,CAA1C,CAAkI,GAAImjC,GAAJ,CAAO,EAAP,CAAlI,CAA8I,GAAIH,IAAJ,CAAQkB,YAAR,CAAsB,CAAE,eAAgB,YAAlB,CAAtB,CAAwD,CAAC,GAAIjB,OAAJ,CAAW,GAAKhkB,OAAO+Y,SAAvB,CAAD,CAAxD,CAA9I,CAA4O,GAAImL,GAAJ,CAAO,CAAP,CAA5O,EACAqB,YAAY16C,IAAZ,CAAiB,GAAIq5C,GAAJ,CAAO,CAAP,CAAjB,CAA4BsB,eAA5B,EACH,CAJD,EAKA,GAAIE,WAAY,GAAI3B,IAAJ,CAAQgB,SAAR,CAAmB,CAAEl/B,GAAIyU,QAAQzU,EAAd,CAAkB8/B,SAAU,MAA5B,CAAnB,CAAhB,CACA,CAACv5C,GAAKs5C,UAAUxnC,QAAhB,EAA0BrT,IAA1B,CAA+Bb,KAA/B,CAAqCoC,EAArC,CAAyCrB,SAAS,CAAC,GAAIm5C,GAAJ,CAAO,CAAP,CAAD,CAAY,GAAIH,IAAJ,CAAQa,WAAR,CAAqB,EAArB,CAAyB5sC,QAAQ0rC,SAAR,CAAkBppB,QAAQzP,KAA1B,CAAzB,CAAZ,CAAT,CAAkF06B,WAAlF,CAAzC,EACA,GAAIjrB,QAAQue,WAAZ,CAAyB,CACrB6M,UAAUxnC,QAAV,CAAmBrT,IAAnB,CAAwB,GAAIq5C,GAAJ,CAAO,CAAP,CAAxB,CAAmC,GAAIH,IAAJ,CAAQ,MAAR,CAAgB,CAAE6B,SAAU,GAAZ,CAAiBC,KAAM,aAAvB,CAAhB,CAAwD,CAAC,GAAI7B,OAAJ,CAAW1pB,QAAQue,WAAnB,CAAD,CAAxD,CAAnC,EACH,CACD,GAAIve,QAAQyZ,OAAZ,CAAqB,CACjB2R,UAAUxnC,QAAV,CAAmBrT,IAAnB,CAAwB,GAAIq5C,GAAJ,CAAO,CAAP,CAAxB,CAAmC,GAAIH,IAAJ,CAAQ,MAAR,CAAgB,CAAE6B,SAAU,GAAZ,CAAiBC,KAAM,SAAvB,CAAhB,CAAoD,CAAC,GAAI7B,OAAJ,CAAW1pB,QAAQyZ,OAAnB,CAAD,CAApD,CAAnC,EACH,CACD2R,UAAUxnC,QAAV,CAAmBrT,IAAnB,CAAwB,GAAIq5C,GAAJ,CAAO,CAAP,CAAxB,EACAoB,WAAWz6C,IAAX,CAAgB,GAAIq5C,GAAJ,CAAO,CAAP,CAAhB,CAA2BwB,SAA3B,EACH,CAlBD,EAmBA,GAAII,MAAO,GAAI/B,IAAJ,CAAQ,MAAR,CAAgB,EAAhB,CAAoBh5C,SAASu6C,UAAT,CAAqB,CAAC,GAAIpB,GAAJ,CAAO,CAAP,CAAD,CAArB,CAApB,CAAX,CACA,GAAItd,MAAO,GAAImd,IAAJ,CAAQ,MAAR,CAAgB,CACvB,kBAAmBqB,QAAUZ,oBADN,CAEvBmB,SAAU,WAFa,CAGvBnlB,SAAU,cAHa,CAAhB,CAIR,CAAC,GAAI0jB,GAAJ,CAAO,CAAP,CAAD,CAAY4B,IAAZ,CAAkB,GAAI5B,GAAJ,CAAO,CAAP,CAAlB,CAJQ,CAAX,CAKA,GAAI6B,OAAQ,GAAIhC,IAAJ,CAAQ,OAAR,CAAiB,CAAEiC,QAAS1B,QAAX,CAAqB2B,MAAO1B,MAA5B,CAAjB,CAAuD,CAAC,GAAIL,GAAJ,CAAO,CAAP,CAAD,CAAYtd,IAAZ,CAAkB,GAAIsd,GAAJ,EAAlB,CAAvD,CAAZ,CACA,MAAOR,WAAU,CACb,GAAIC,YAAJ,CAAgB,CAAEqC,QAAS,KAAX,CAAkBE,SAAU,OAA5B,CAAhB,CADa,CAC2C,GAAIhC,GAAJ,EAD3C,CACqD6B,KADrD,CAC4D,GAAI7B,GAAJ,EAD5D,CAAV,CAAP,CAGH,CAhCD,CAiCAgB,MAAM77C,SAAN,CAAgB88C,IAAhB,CAAuB,SAAUlf,OAAV,CAAmB9e,GAAnB,CAAwB,CAC3C;AACA,GAAIi+B,aAAc,GAAIC,YAAJ,EAAlB,CACA,GAAIj6C,IAAKg6C,YAAY33C,KAAZ,CAAkBw4B,OAAlB,CAA2B9e,GAA3B,CAAT,CAA0Ci9B,OAASh5C,GAAGg5C,MAAtD,CAA8DkB,YAAcl6C,GAAGk6C,WAA/E,CAA4Ft2B,OAAS5jB,GAAG4jB,MAAxG,CACA;AACA,GAAIu2B,kBAAmB,EAAvB,CACA,GAAIC,WAAY,GAAIC,UAAJ,EAAhB,CACA79C,OAAOiQ,IAAP,CAAYytC,WAAZ,EAAyBl5C,OAAzB,CAAiC,SAAUs5C,KAAV,CAAiB,CAC9C,GAAIt6C,IAAKo6C,UAAUG,OAAV,CAAkBL,YAAYI,KAAZ,CAAlB,CAAsCv+B,GAAtC,CAAT,CAAqDy+B,UAAYx6C,GAAGw6C,SAApE,CAA+Eh8C,EAAIwB,GAAG4jB,MAAtF,CACAA,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASH,CAAT,CAA1B,EACA27C,iBAAiBG,KAAjB,EAA0BE,SAA1B,CACH,CAJD,EAKA,GAAI52B,OAAOlmB,MAAX,CAAmB,CACf,KAAM,IAAIwB,MAAJ,CAAU,wBAA0B0kB,OAAOpgB,IAAP,CAAY,IAAZ,CAApC,CAAN,CACH,CACD,MAAO,CAAEw1C,OAAQA,MAAV,CAAkBmB,iBAAkBA,gBAApC,CAAP,CACH,CAhBD,CAiBArB,MAAM77C,SAAN,CAAgBuqC,MAAhB,CAAyB,SAAUtZ,OAAV,CAAmB,CAAE,MAAOsZ,QAAOtZ,OAAP,CAAP,CAAyB,CAAvE,CACA,MAAO4qB,MAAP,CACH,CAzD0B,CAyDzBhD,UAzDyB,CAA3B,CA0DA,GAAImD,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,EAAyB,CACxB,CACDA,cAAch8C,SAAd,CAAwBwS,SAAxB,CAAoC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,CAAC,GAAI+rC,OAAJ,CAAW9rB,KAAK3tB,KAAhB,CAAD,CAAP,CAAkC,CAAjG,CACA86C,cAAch8C,SAAd,CAAwB+qC,cAAxB,CAAyC,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CACnE,GAAI/K,OAAQ,IAAZ,CACA,GAAI2d,OAAQ,EAAZ,CACAqoB,UAAUh1B,QAAV,CAAmB9Q,OAAnB,CAA2B,SAAUkc,IAAV,CAAgB,CAAE,MAAOuB,OAAMhgB,IAAN,CAAWb,KAAX,CAAiB6gB,KAAjB,CAAwB9f,SAASue,KAAK1N,KAAL,CAAW1O,KAAX,CAAT,CAAxB,CAAP,CAA8D,CAA3G,EACA,MAAO2d,MAAP,CACH,CALD,CAMAw6B,cAAch8C,SAAd,CAAwBgrC,QAAxB,CAAmC,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CACvD,GAAI/K,OAAQ,IAAZ,CACA,GAAI2d,OAAQ,CAAC,GAAIm5B,OAAJ,CAAW,IAAM1P,IAAIqF,qBAAV,CAAkC,IAAlC,CAAyCrF,IAAIt5B,IAA7C,CAAoD,IAA/D,CAAD,CAAZ,CACApS,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzc,OAAvB,CAA+B,SAAUqH,CAAV,CAAa,CACxCoW,MAAMhgB,IAAN,CAAWb,KAAX,CAAiB6gB,KAAjB,CAAwB9f,SAAS,CAAC,GAAIi5C,OAAJ,CAAWvvC,EAAI,IAAf,CAAD,CAAT,CAAiC6/B,IAAIzqB,KAAJ,CAAUpV,CAAV,EAAamH,KAAb,CAAmB1O,KAAnB,CAAjC,CAA4D,CAAC,GAAI82C,OAAJ,CAAW,IAAX,CAAD,CAA5D,CAAxB,EACH,CAFD,EAGAn5B,MAAMhgB,IAAN,CAAW,GAAIm5C,OAAJ,CAAW,GAAX,CAAX,EACA,MAAOn5B,MAAP,CACH,CARD,CASAw6B,cAAch8C,SAAd,CAAwBorC,mBAAxB,CAA8C,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CACjE,GAAI4uC,OAAQC,eAAepS,GAAG6E,GAAlB,CAAZ,CACA,GAAI7E,GAAG3nC,MAAP,CAAe,CACX;AACA,MAAO,CAAC,GAAIg3C,IAAJ,CAAQU,gBAAR,CAA0B,CAAE5+B,GAAI6uB,GAAGC,SAAT,CAAoBkS,MAAOA,KAA3B,CAAkC,aAAc,IAAMnS,GAAG6E,GAAT,CAAe,IAA/D,CAA1B,CAAD,CAAP,CACH,CACD,GAAIwN,YAAa,GAAIhD,IAAJ,CAAQU,gBAAR,CAA0B,CAAE5+B,GAAI6uB,GAAGC,SAAT,CAAoBkS,MAAOA,KAA3B,CAAkC,aAAc,IAAMnS,GAAG6E,GAAT,CAAe,GAA/D,CAA1B,CAAjB,CACA,GAAIyN,YAAa,GAAIjD,IAAJ,CAAQU,gBAAR,CAA0B,CAAE5+B,GAAI6uB,GAAGE,SAAT,CAAoBiS,MAAOA,KAA3B,CAAkC,aAAc,KAAOnS,GAAG6E,GAAV,CAAgB,GAAhE,CAA1B,CAAjB,CACA,MAAOxuC,UAAS,CAACg8C,UAAD,CAAT,CAAuB,KAAKrD,SAAL,CAAehP,GAAGx2B,QAAlB,CAAvB,CAAoD,CAAC8oC,UAAD,CAApD,CAAP,CACH,CATD,CAUA3B,cAAch8C,SAAd,CAAwBwrC,gBAAxB,CAA2C,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CAC9D,MAAO,CAAC,GAAI8rC,IAAJ,CAAQU,gBAAR,CAA0B,CAAE5+B,GAAI6uB,GAAG9mC,IAAT,CAAe,aAAc,KAAO8mC,GAAGnqC,KAAV,CAAkB,IAA/C,CAA1B,CAAD,CAAP,CACH,CAFD,CAGA86C,cAAch8C,SAAd,CAAwByrC,mBAAxB,CAA8C,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CACjE,GAAIgvC,WAAY,IAAMvS,GAAGnqC,KAAH,CAAS0f,UAAf,CAA4B,IAA5B,CAAmCyqB,GAAGnqC,KAAH,CAASyQ,IAA5C,CAAmD,IAAnD,CAA0DpS,OAAOiQ,IAAP,CAAY67B,GAAGnqC,KAAH,CAASsf,KAArB,EAA4BzX,GAA5B,CAAgC,SAAU7H,KAAV,CAAiB,CAAE,MAAOA,OAAQ,QAAf,CAA0B,CAA7E,EAA+EqF,IAA/E,CAAoF,GAApF,CAA1D,CAAqJ,GAArK,CACA,MAAO,CAAC,GAAIm0C,IAAJ,CAAQU,gBAAR,CAA0B,CAAE5+B,GAAI6uB,GAAG9mC,IAAT,CAAe,aAAcq5C,SAA7B,CAA1B,CAAD,CAAP,CACH,CAHD,CAIA5B,cAAch8C,SAAd,CAAwBq6C,SAAxB,CAAoC,SAAU74B,KAAV,CAAiB,CACjD,GAAI3d,OAAQ,IAAZ,CACA,MAAO,GAAGlC,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS8f,MAAMzY,GAAN,CAAU,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAvD,CAAT,CAApB,CAAP,CACH,CAHD,CAIA,MAAOm4C,cAAP,CACH,CAzCkC,EAAnC,CA0CA;AACA;AACA,GAAIgB,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,EAAuB,CACnB,KAAKa,OAAL,CAAe,IAAf,CACH,CACDb,YAAYh9C,SAAZ,CAAsBoF,KAAtB,CAA8B,SAAUs3C,KAAV,CAAiB59B,GAAjB,CAAsB,CAChD,KAAKg/B,aAAL,CAAqB,IAArB,CACA,KAAKC,YAAL,CAAoB,EAApB,CACA,GAAIC,KAAM,GAAIpF,UAAJ,GAAgBxzC,KAAhB,CAAsBs3C,KAAtB,CAA6B59B,GAA7B,CAAkC,KAAlC,CAAV,CACA,KAAKkpB,OAAL,CAAegW,IAAIr3B,MAAnB,CACApF,SAAS,IAAT,CAAey8B,IAAIh3B,SAAnB,CAA8B,IAA9B,EACA,MAAO,CACHi2B,YAAa,KAAKc,YADf,CAEHp3B,OAAQ,KAAKqhB,OAFV,CAGH+T,OAAQ,KAAK8B,OAHV,CAAP,CAKH,CAXD,CAYAb,YAAYh9C,SAAZ,CAAsB+U,YAAtB,CAAqC,SAAU/P,OAAV,CAAmB4J,OAAnB,CAA4B,CAC7D,OAAQ5J,QAAQT,IAAhB,EACI,IAAKm3C,UAAL,CACI,KAAKoC,aAAL,CAAqB,IAArB,CACA,GAAIG,QAASj5C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,IAArB,CAA4B,CAAjE,CAAb,CACA,GAAI,CAAC05C,MAAL,CAAa,CACT,KAAKC,SAAL,CAAel5C,OAAf,CAAwB,IAAM02C,SAAN,CAAkB,+BAA1C,EACH,CAFD,IAGK,CACD,GAAIl/B,IAAKyhC,OAAO/8C,KAAhB,CACA,GAAI,KAAK68C,YAAL,CAAkBn+C,cAAlB,CAAiC4c,EAAjC,CAAJ,CAA0C,CACtC,KAAK0hC,SAAL,CAAel5C,OAAf,CAAwB,mCAAqCwX,EAA7D,EACH,CAFD,IAGK,CACD+E,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EACA,GAAI,MAAO,MAAKipC,aAAZ,GAA8B,QAAlC,CAA4C,CACxC,KAAKC,YAAL,CAAkBvhC,EAAlB,EAAwB,KAAKshC,aAA7B,CACH,CAFD,IAGK,CACD,KAAKI,SAAL,CAAel5C,OAAf,CAAwB,WAAawX,EAAb,CAAkB,uBAA1C,EACH,CACJ,CACJ,CACD,MACJ;AACA,IAAK++B,YAAL,CACA,IAAKC,oBAAL,CACI,MACJ,IAAKC,YAAL,CACI,GAAI0C,gBAAiBn5C,QAAQoc,eAAR,CAAwBS,GAAxB,CAA4BD,MAAjD,CACA,GAAIw8B,cAAep5C,QAAQ8P,aAAR,CAAsB6M,KAAtB,CAA4BC,MAA/C,CACA,GAAIgc,SAAU54B,QAAQoc,eAAR,CAAwBO,KAAxB,CAA8B4b,IAA9B,CAAmCK,OAAjD,CACA,GAAIygB,WAAYzgB,QAAQ17B,KAAR,CAAci8C,cAAd,CAA8BC,YAA9B,CAAhB,CACA,KAAKN,aAAL,CAAqBO,SAArB,CACA,MACJ,IAAK/C,UAAL,CACI,GAAIgD,YAAat5C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,iBAArB,CAAyC,CAA9E,CAAjB,CACA,GAAI+5C,UAAJ,CAAgB,CACZ,KAAKT,OAAL,CAAeS,WAAWp9C,KAA1B,CACH,CACDqgB,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EACA,MACJ,QACI;AACA;AACA0M,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EA5CR,CA8CH,CA/CD,CAgDAmoC,YAAYh9C,SAAZ,CAAsBkhB,cAAtB,CAAuC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAG,CAAxE,CACAouC,YAAYh9C,SAAZ,CAAsBwS,SAAtB,CAAkC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAG,CAA9D,CACAouC,YAAYh9C,SAAZ,CAAsBshB,YAAtB,CAAqC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAG,CAApE,CACAouC,YAAYh9C,SAAZ,CAAsB0gB,cAAtB,CAAuC,SAAU69B,SAAV,CAAqB3vC,OAArB,CAA8B,CAAG,CAAxE,CACAouC,YAAYh9C,SAAZ,CAAsB+gB,kBAAtB,CAA2C,SAAUy9B,aAAV,CAAyB5vC,OAAzB,CAAkC,CAAG,CAAhF,CACAouC,YAAYh9C,SAAZ,CAAsBk+C,SAAtB,CAAkC,SAAUj+B,IAAV,CAAgBgR,OAAhB,CAAyB,CACvD,KAAK+W,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+B2e,OAA/B,CAAlB,EACH,CAFD,CAGA,MAAO+rB,YAAP,CACH,CAzEgC,EAAjC,CA0EA;AACA,GAAII,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,EAAqB,CACpB,CACDA,UAAUp9C,SAAV,CAAoBs9C,OAApB,CAA8B,SAAUrsB,OAAV,CAAmBnS,GAAnB,CAAwB,CAClD,GAAI2/B,QAAS,GAAI7F,UAAJ,GAAgBxzC,KAAhB,CAAsB6rB,OAAtB,CAA+BnS,GAA/B,CAAoC,IAApC,CAAb,CACA,KAAKkpB,OAAL,CAAeyW,OAAO93B,MAAtB,CACA,GAAI42B,WAAY,KAAKvV,OAAL,CAAavnC,MAAb,CAAsB,CAAtB,EAA2Bg+C,OAAOz3B,SAAP,CAAiBvmB,MAAjB,EAA2B,CAAtD,CACZ,EADY,CACP,GAAGkB,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS6f,SAAS,IAAT,CAAek9B,OAAOz3B,SAAtB,CAAT,CAApB,CADT,CAEA,MAAO,CACHu2B,UAAWA,SADR,CAEH52B,OAAQ,KAAKqhB,OAFV,CAAP,CAIH,CATD,CAUAoV,UAAUp9C,SAAV,CAAoBwS,SAApB,CAAgC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,IAAIkhC,OAAJ,CAAWjhB,KAAK3tB,KAAhB,CAAuB2tB,KAAKvc,UAA5B,CAAP,CAAiD,CAA5G,CACA8qC,UAAUp9C,SAAV,CAAoB+U,YAApB,CAAmC,SAAUm0B,EAAV,CAAct6B,OAAd,CAAuB,CACtD,GAAIs6B,GAAG3kC,IAAH,GAAY62C,gBAAhB,CAAkC,CAC9B,GAAIsD,UAAWxV,GAAGhkC,KAAH,CAASkzC,IAAT,CAAc,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,IAArB,CAA4B,CAA5D,CAAf,CACA,GAAIm6C,QAAJ,CAAc,CACV,MAAO,IAAIvO,YAAJ,CAAgB,EAAhB,CAAoBuO,SAASx9C,KAA7B,CAAoCgoC,GAAG52B,UAAvC,CAAP,CACH,CACD,KAAK4rC,SAAL,CAAehV,EAAf,CAAmB,IAAMkS,gBAAN,CAAyB,+BAA5C,EACA,MAAO,KAAP,CACH,CACD,GAAIlS,GAAG3kC,IAAH,GAAY82C,WAAhB,CAA6B,CACzB,MAAO,GAAG15C,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS6f,SAAS,IAAT,CAAe2nB,GAAGr0B,QAAlB,CAAT,CAApB,CAAP,CACH,CACD,KAAKqpC,SAAL,CAAehV,EAAf,CAAmB,gBAAnB,EACA,MAAO,KAAP,CACH,CAdD,CAeAkU,UAAUp9C,SAAV,CAAoB0gB,cAApB,CAAqC,SAAUuqB,GAAV,CAAer8B,OAAf,CAAwB,CACzD,GAAI+vC,SAAU,EAAd,CACAp9B,SAAS,IAAT,CAAe0pB,IAAIzqB,KAAnB,EAA0Bzc,OAA1B,CAAkC,SAAUqH,CAAV,CAAa,CAC3CuzC,QAAQvzC,EAAElK,KAAV,EAAmB,GAAI6uC,UAAJ,CAAc3kC,EAAEoW,KAAhB,CAAuBypB,IAAI34B,UAA3B,CAAnB,CACH,CAFD,EAGA,MAAO,IAAI09B,IAAJ,CAAQ/E,IAAI1qB,WAAZ,CAAyB0qB,IAAIt5B,IAA7B,CAAmCgtC,OAAnC,CAA4C1T,IAAI34B,UAAhD,CAAP,CACH,CAND,CAOA8qC,UAAUp9C,SAAV,CAAoB+gB,kBAApB,CAAyC,SAAUiyB,OAAV,CAAmBpkC,OAAnB,CAA4B,CACjE,MAAO,CACH1N,MAAO8xC,QAAQ9xC,KADZ,CAEHsgB,MAAOD,SAAS,IAAT,CAAeyxB,QAAQpyB,UAAvB,CAFJ,CAAP,CAIH,CALD,CAMAw8B,UAAUp9C,SAAV,CAAoBshB,YAApB,CAAmC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAG,CAAlE,CACAwuC,UAAUp9C,SAAV,CAAoBkhB,cAApB,CAAqC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAG,CAAtE,CACAwuC,UAAUp9C,SAAV,CAAoBk+C,SAApB,CAAgC,SAAUj+B,IAAV,CAAgBgR,OAAhB,CAAyB,CACrD,KAAK+W,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+B2e,OAA/B,CAAlB,EACH,CAFD,CAGA,MAAOmsB,UAAP,CACH,CAhD8B,EAA/B,CAiDA,QAASK,eAAT,CAAwBvN,GAAxB,CAA6B,CACzB,OAAQA,IAAI9rC,WAAJ,EAAR,EACI,IAAK,IAAL,CACI,MAAO,IAAP,CACJ,IAAK,KAAL,CACI,MAAO,OAAP,CACJ,QACI,MAAO,KAAO8rC,GAAd,CANR,CAQH,CAED;;;;;;OAOA,GAAI0O,YAAa,KAAjB,CACA,GAAIC,UAAW,uCAAf,CACA;AACA,GAAIC,wBAAyB,IAA7B,CACA,GAAIC,oBAAqB,IAAzB,CACA,GAAIC,2BAA4B,IAAhC,CACA,GAAIC,eAAgB,KAApB,CACA,GAAIC,YAAa,OAAjB,CACA,GAAIC,eAAgB,QAApB,CACA,GAAIC,eAAgB,QAApB,CACA,GAAIC,aAAc,MAAlB,CACA;AACA,GAAIC,QAAS,aAAe,SAAU7oC,MAAV,CAAkB,CAC1C5W,UAAUy/C,MAAV,CAAkB7oC,MAAlB,EACA,QAAS6oC,OAAT,EAAkB,CACd,MAAO7oC,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACD8+C,OAAOt/C,SAAP,CAAiB87C,KAAjB,CAAyB,SAAUxH,QAAV,CAAoByH,MAApB,CAA4B,CACjD,GAAIptC,SAAU,GAAI4wC,gBAAJ,EAAd,CACA,GAAIC,OAAQ,EAAZ,CACAlL,SAASvwC,OAAT,CAAiB,SAAUktB,OAAV,CAAmB,CAChC,GAAIje,MAAO,GAAI0nC,IAAJ,CAAQ2E,WAAR,CAAqB,CAAE7iC,GAAIyU,QAAQzU,EAAd,CAArB,CAAX,CACA,GAAIijC,OAAQ,GAAI/E,IAAJ,CAAQ,OAAR,CAAZ,CACA,GAAIzpB,QAAQue,WAAR,EAAuBve,QAAQyZ,OAAnC,CAA4C,CACxC,GAAIzZ,QAAQue,WAAZ,CAAyB,CACrBiQ,MAAM5qC,QAAN,CAAerT,IAAf,CAAoB,GAAIq5C,GAAJ,CAAO,CAAP,CAApB,CAA+B,GAAIH,IAAJ,CAAQ,MAAR,CAAgB,CAAEgF,SAAU,aAAZ,CAAhB,CAA6C,CAAC,GAAI/E,OAAJ,CAAW1pB,QAAQue,WAAnB,CAAD,CAA7C,CAA/B,EACH,CACD,GAAIve,QAAQyZ,OAAZ,CAAqB,CACjB+U,MAAM5qC,QAAN,CAAerT,IAAf,CAAoB,GAAIq5C,GAAJ,CAAO,CAAP,CAApB,CAA+B,GAAIH,IAAJ,CAAQ,MAAR,CAAgB,CAAEgF,SAAU,SAAZ,CAAhB,CAAyC,CAAC,GAAI/E,OAAJ,CAAW1pB,QAAQyZ,OAAnB,CAAD,CAAzC,CAA/B,EACH,CACJ,CACDzZ,QAAQwe,OAAR,CAAgB1rC,OAAhB,CAAwB,SAAU4yB,MAAV,CAAkB,CACtC8oB,MAAM5qC,QAAN,CAAerT,IAAf,CAAoB,GAAIq5C,GAAJ,CAAO,CAAP,CAApB,CAA+B,GAAIH,IAAJ,CAAQ,MAAR,CAAgB,CAAEgF,SAAU,UAAZ,CAAhB,CAA0C,CACrE,GAAI/E,OAAJ,CAAWhkB,OAAOjf,QAAP,CAAkB,GAAlB,CAAwBif,OAAO+Y,SAA/B,EAA4C/Y,OAAOiZ,OAAP,GAAmBjZ,OAAO+Y,SAA1B,CAAsC,IAAM/Y,OAAOiZ,OAAnD,CAA6D,EAAzG,CAAX,CADqE,CAA1C,CAA/B,EAGH,CAJD,EAKA6P,MAAM5qC,QAAN,CAAerT,IAAf,CAAoB,GAAIq5C,GAAJ,CAAO,CAAP,CAApB,EACA7nC,KAAK6B,QAAL,CAAcrT,IAAd,CAAmB,GAAIq5C,GAAJ,CAAO,CAAP,CAAnB,CAA8B4E,KAA9B,EACA,GAAIE,SAAU,GAAIjF,IAAJ,CAAQ,SAAR,CAAd,CACAiF,QAAQ9qC,QAAR,CAAiBrT,IAAjB,CAAsB,GAAIq5C,GAAJ,CAAO,CAAP,CAAtB,CAAiC,GAAIH,IAAJ,CAAQyE,aAAR,CAAuB,EAAvB,CAA2BxwC,QAAQ0rC,SAAR,CAAkBppB,QAAQzP,KAA1B,CAA3B,CAAjC,CAA+F,GAAIq5B,GAAJ,CAAO,CAAP,CAA/F,EACA7nC,KAAK6B,QAAL,CAAcrT,IAAd,CAAmB,GAAIq5C,GAAJ,CAAO,CAAP,CAAnB,CAA8B8E,OAA9B,CAAuC,GAAI9E,GAAJ,CAAO,CAAP,CAAvC,EACA2E,MAAMh+C,IAAN,CAAW,GAAIq5C,GAAJ,CAAO,CAAP,CAAX,CAAsB7nC,IAAtB,EACH,CAtBD,EAuBA,GAAIuqB,MAAO,GAAImd,IAAJ,CAAQ,MAAR,CAAgB,CAAE,WAAY,aAAd,CAA6Bl+B,GAAI,QAAjC,CAAhB,CAA6D9a,SAAS89C,KAAT,CAAgB,CAAC,GAAI3E,GAAJ,CAAO,CAAP,CAAD,CAAhB,CAA7D,CAAX,CACA,GAAI6B,OAAQ,GAAIhC,IAAJ,CAAQwE,UAAR,CAAoB,CAAEvC,QAASiC,UAAX,CAAuBhC,MAAOiC,QAA9B,CAAwCe,QAAS7D,QAAU+C,sBAA3D,CAApB,CAAyG,CAAC,GAAIjE,GAAJ,CAAO,CAAP,CAAD,CAAYtd,IAAZ,CAAkB,GAAIsd,GAAJ,EAAlB,CAAzG,CAAZ,CACA,MAAOR,WAAU,CACb,GAAIC,YAAJ,CAAgB,CAAEqC,QAAS,KAAX,CAAkBE,SAAU,OAA5B,CAAhB,CADa,CAC2C,GAAIhC,GAAJ,EAD3C,CACqD6B,KADrD,CAC4D,GAAI7B,GAAJ,EAD5D,CAAV,CAAP,CAGH,CA/BD,CAgCAyE,OAAOt/C,SAAP,CAAiB88C,IAAjB,CAAwB,SAAUlf,OAAV,CAAmB9e,GAAnB,CAAwB,CAC5C;AACA,GAAI+gC,cAAe,GAAIC,aAAJ,EAAnB,CACA,GAAI/8C,IAAK88C,aAAaz6C,KAAb,CAAmBw4B,OAAnB,CAA4B9e,GAA5B,CAAT,CAA2Ci9B,OAASh5C,GAAGg5C,MAAvD,CAA+DkB,YAAcl6C,GAAGk6C,WAAhF,CAA6Ft2B,OAAS5jB,GAAG4jB,MAAzG,CACA;AACA,GAAIu2B,kBAAmB,EAAvB,CACA,GAAIC,WAAY,GAAI4C,YAAJ,EAAhB,CACAxgD,OAAOiQ,IAAP,CAAYytC,WAAZ,EAAyBl5C,OAAzB,CAAiC,SAAUs5C,KAAV,CAAiB,CAC9C,GAAIt6C,IAAKo6C,UAAUG,OAAV,CAAkBL,YAAYI,KAAZ,CAAlB,CAAsCv+B,GAAtC,CAAT,CAAqDy+B,UAAYx6C,GAAGw6C,SAApE,CAA+Eh8C,EAAIwB,GAAG4jB,MAAtF,CACAA,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASH,CAAT,CAA1B,EACA27C,iBAAiBG,KAAjB,EAA0BE,SAA1B,CACH,CAJD,EAKA,GAAI52B,OAAOlmB,MAAX,CAAmB,CACf,KAAM,IAAIwB,MAAJ,CAAU,yBAA2B0kB,OAAOpgB,IAAP,CAAY,IAAZ,CAArC,CAAN,CACH,CACD,MAAO,CAAEw1C,OAAQA,MAAV,CAAkBmB,iBAAkBA,gBAApC,CAAP,CACH,CAhBD,CAiBAoC,OAAOt/C,SAAP,CAAiBuqC,MAAjB,CAA0B,SAAUtZ,OAAV,CAAmB,CAAE,MAAO0Z,eAAc1Z,OAAd,CAAP,CAAgC,CAA/E,CACA,MAAOquB,OAAP,CACH,CAxD2B,CAwD1BzG,UAxD0B,CAA5B,CAyDA,GAAI0G,iBAAkB,aAAe,UAAY,CAC7C,QAASvD,cAAT,EAAyB,CACxB,CACDA,cAAch8C,SAAd,CAAwBwS,SAAxB,CAAoC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,CAAC,GAAI+rC,OAAJ,CAAW9rB,KAAK3tB,KAAhB,CAAD,CAAP,CAAkC,CAAjG,CACA86C,cAAch8C,SAAd,CAAwB+qC,cAAxB,CAAyC,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CACnE,GAAI/K,OAAQ,IAAZ,CACA,GAAI2d,OAAQ,EAAZ,CACAqoB,UAAUh1B,QAAV,CAAmB9Q,OAAnB,CAA2B,SAAUkc,IAAV,CAAgB,CAAE,MAAOuB,OAAMhgB,IAAN,CAAWb,KAAX,CAAiB6gB,KAAjB,CAAwB9f,SAASue,KAAK1N,KAAL,CAAW1O,KAAX,CAAT,CAAxB,CAAP,CAA8D,CAA3G,EACA,MAAO2d,MAAP,CACH,CALD,CAMAw6B,cAAch8C,SAAd,CAAwBgrC,QAAxB,CAAmC,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CACvD,GAAI/K,OAAQ,IAAZ,CACA,GAAI2d,OAAQ,CAAC,GAAIm5B,OAAJ,CAAW,IAAM1P,IAAIqF,qBAAV,CAAkC,IAAlC,CAAyCrF,IAAIt5B,IAA7C,CAAoD,IAA/D,CAAD,CAAZ,CACApS,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzc,OAAvB,CAA+B,SAAUqH,CAAV,CAAa,CACxCoW,MAAMhgB,IAAN,CAAWb,KAAX,CAAiB6gB,KAAjB,CAAwB9f,SAAS,CAAC,GAAIi5C,OAAJ,CAAWvvC,EAAI,IAAf,CAAD,CAAT,CAAiC6/B,IAAIzqB,KAAJ,CAAUpV,CAAV,EAAamH,KAAb,CAAmB1O,KAAnB,CAAjC,CAA4D,CAAC,GAAI82C,OAAJ,CAAW,IAAX,CAAD,CAA5D,CAAxB,EACH,CAFD,EAGAn5B,MAAMhgB,IAAN,CAAW,GAAIm5C,OAAJ,CAAW,GAAX,CAAX,EACA,MAAOn5B,MAAP,CACH,CARD,CASAw6B,cAAch8C,SAAd,CAAwBorC,mBAAxB,CAA8C,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CACjE,GAAI/K,OAAQ,IAAZ,CACA,GAAI8N,MAAOquC,cAAc3U,GAAG6E,GAAjB,CAAX,CACA,GAAI7E,GAAG3nC,MAAP,CAAe,CACX,GAAIu8C,OAAQ,GAAIvF,IAAJ,CAAQqE,kBAAR,CAA4B,CACpCviC,GAAI,CAAC,KAAK0jC,kBAAL,EAAD,EAA4Bt5C,QAA5B,EADgC,CAEpCu5C,MAAO9U,GAAGC,SAF0B,CAGpC35B,KAAMA,IAH8B,CAIpCyuC,KAAM,IAAM/U,GAAG6E,GAAT,CAAe,IAJe,CAA5B,CAAZ,CAMA,MAAO,CAAC+P,KAAD,CAAP,CACH,CACD,GAAII,OAAQ,GAAI3F,IAAJ,CAAQsE,yBAAR,CAAmC,CAC3CxiC,GAAI,CAAC,KAAK0jC,kBAAL,EAAD,EAA4Bt5C,QAA5B,EADuC,CAE3C05C,WAAYjV,GAAGC,SAF4B,CAG3CiV,SAAUlV,GAAGE,SAH8B,CAI3C55B,KAAMA,IAJqC,CAK3C6uC,UAAW,IAAMnV,GAAG6E,GAAT,CAAe,GALiB,CAM3CuQ,QAAS,KAAOpV,GAAG6E,GAAV,CAAgB,GANkB,CAAnC,CAAZ,CAQA,GAAI1uB,OAAQ,GAAG7f,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS2pC,GAAGx2B,QAAH,CAAY9L,GAAZ,CAAgB,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAA7D,CAAT,CAApB,CAAZ,CACA,GAAI2d,MAAM/gB,MAAV,CAAkB,CACd+gB,MAAMzd,OAAN,CAAc,SAAUkc,IAAV,CAAgB,CAAE,MAAOogC,OAAMxrC,QAAN,CAAerT,IAAf,CAAoBye,IAApB,CAAP,CAAmC,CAAnE,EACH,CAFD,IAGK,CACDogC,MAAMxrC,QAAN,CAAerT,IAAf,CAAoB,GAAIm5C,OAAJ,CAAW,EAAX,CAApB,EACH,CACD,MAAO,CAAC0F,KAAD,CAAP,CACH,CA5BD,CA6BArE,cAAch8C,SAAd,CAAwBwrC,gBAAxB,CAA2C,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CAC9D,GAAI8xC,OAAQ,CAAC,KAAKR,kBAAL,EAAD,EAA4Bt5C,QAA5B,EAAZ,CACA,MAAO,CAAC,GAAI8zC,IAAJ,CAAQqE,kBAAR,CAA4B,CAC5BviC,GAAIkkC,KADwB,CAE5BP,MAAO9U,GAAG9mC,IAFkB,CAG5B67C,KAAM,KAAO/U,GAAGnqC,KAAV,CAAkB,IAHI,CAA5B,CAAD,CAAP,CAKH,CAPD,CAQA86C,cAAch8C,SAAd,CAAwByrC,mBAAxB,CAA8C,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CACjE,GAAI4R,OAAQjhB,OAAOiQ,IAAP,CAAY67B,GAAGnqC,KAAH,CAASsf,KAArB,EAA4BzX,GAA5B,CAAgC,SAAU7H,KAAV,CAAiB,CAAE,MAAOA,OAAQ,QAAf,CAA0B,CAA7E,EAA+EqF,IAA/E,CAAoF,GAApF,CAAZ,CACA,GAAIm6C,OAAQ,CAAC,KAAKR,kBAAL,EAAD,EAA4Bt5C,QAA5B,EAAZ,CACA,MAAO,CAAC,GAAI8zC,IAAJ,CAAQqE,kBAAR,CAA4B,CAAEviC,GAAIkkC,KAAN,CAAaP,MAAO9U,GAAG9mC,IAAvB,CAA6B67C,KAAM,IAAM/U,GAAGnqC,KAAH,CAAS0f,UAAf,CAA4B,IAA5B,CAAmCyqB,GAAGnqC,KAAH,CAASyQ,IAA5C,CAAmD,IAAnD,CAA0D6O,KAA1D,CAAkE,GAArG,CAA5B,CAAD,CAAP,CACH,CAJD,CAKAw7B,cAAch8C,SAAd,CAAwBq6C,SAAxB,CAAoC,SAAU74B,KAAV,CAAiB,CACjD,GAAI3d,OAAQ,IAAZ,CACA,KAAKq8C,kBAAL,CAA0B,CAA1B,CACA,MAAO,GAAGv+C,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS8f,MAAMzY,GAAN,CAAU,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAvD,CAAT,CAApB,CAAP,CACH,CAJD,CAKA,MAAOm4C,cAAP,CACH,CAnEoC,EAArC,CAoEA;AACA,GAAI8D,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,EAAwB,CACpB,KAAKjC,OAAL,CAAe,IAAf,CACH,CACDiC,aAAa9/C,SAAb,CAAuBoF,KAAvB,CAA+B,SAAUs3C,KAAV,CAAiB59B,GAAjB,CAAsB,CACjD,KAAKg/B,aAAL,CAAqB,IAArB,CACA,KAAKC,YAAL,CAAoB,EAApB,CACA,GAAIC,KAAM,GAAIpF,UAAJ,GAAgBxzC,KAAhB,CAAsBs3C,KAAtB,CAA6B59B,GAA7B,CAAkC,KAAlC,CAAV,CACA,KAAKkpB,OAAL,CAAegW,IAAIr3B,MAAnB,CACApF,SAAS,IAAT,CAAey8B,IAAIh3B,SAAnB,CAA8B,IAA9B,EACA,MAAO,CACHi2B,YAAa,KAAKc,YADf,CAEHp3B,OAAQ,KAAKqhB,OAFV,CAGH+T,OAAQ,KAAK8B,OAHV,CAAP,CAKH,CAXD,CAYAiC,aAAa9/C,SAAb,CAAuB+U,YAAvB,CAAsC,SAAU/P,OAAV,CAAmB4J,OAAnB,CAA4B,CAC9D,OAAQ5J,QAAQT,IAAhB,EACI,IAAK86C,YAAL,CACI,KAAKvB,aAAL,CAAqB,IAArB,CACA,GAAIG,QAASj5C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,IAArB,CAA4B,CAAjE,CAAb,CACA,GAAI,CAAC05C,MAAL,CAAa,CACT,KAAKC,SAAL,CAAel5C,OAAf,CAAwB,IAAMq6C,WAAN,CAAoB,+BAA5C,EACH,CAFD,IAGK,CACD,GAAI7iC,IAAKyhC,OAAO/8C,KAAhB,CACA,GAAI,KAAK68C,YAAL,CAAkBn+C,cAAlB,CAAiC4c,EAAjC,CAAJ,CAA0C,CACtC,KAAK0hC,SAAL,CAAel5C,OAAf,CAAwB,mCAAqCwX,EAA7D,EACH,CAFD,IAGK,CACD+E,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EACA,GAAI,MAAO,MAAKipC,aAAZ,GAA8B,QAAlC,CAA4C,CACxC,KAAKC,YAAL,CAAkBvhC,EAAlB,EAAwB,KAAKshC,aAA7B,CACH,CAFD,IAGK,CACD,KAAKI,SAAL,CAAel5C,OAAf,CAAwB,WAAawX,EAAb,CAAkB,uBAA1C,EACH,CACJ,CACJ,CACD,MACJ,IAAK2iC,cAAL,CACI;AACA,MACJ,IAAKC,cAAL,CACI,GAAIjB,gBAAiBn5C,QAAQoc,eAAR,CAAwBS,GAAxB,CAA4BD,MAAjD,CACA,GAAIw8B,cAAep5C,QAAQ8P,aAAR,CAAsB6M,KAAtB,CAA4BC,MAA/C,CACA,GAAIgc,SAAU54B,QAAQoc,eAAR,CAAwBO,KAAxB,CAA8B4b,IAA9B,CAAmCK,OAAjD,CACA,GAAIygB,WAAYzgB,QAAQ17B,KAAR,CAAci8C,cAAd,CAA8BC,YAA9B,CAAhB,CACA,KAAKN,aAAL,CAAqBO,SAArB,CACA,MACJ,IAAKa,WAAL,CACI,GAAIZ,YAAat5C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,SAArB,CAAiC,CAAtE,CAAjB,CACA,GAAI+5C,UAAJ,CAAgB,CACZ,KAAKT,OAAL,CAAeS,WAAWp9C,KAA1B,CACH,CACD,GAAIy/C,aAAc37C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,SAArB,CAAiC,CAAtE,CAAlB,CACA,GAAIo8C,WAAJ,CAAiB,CACb,GAAIhE,SAAUgE,YAAYz/C,KAA1B,CACA,GAAIy7C,UAAY,KAAhB,CAAuB,CACnB,KAAKuB,SAAL,CAAel5C,OAAf,CAAwB,0BAA4B23C,OAA5B,CAAsC,8CAA9D,EACH,CAFD,IAGK,CACDp7B,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EACH,CACJ,CACD,MACJ,QACI0M,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EAlDR,CAoDH,CArDD,CAsDAirC,aAAa9/C,SAAb,CAAuBkhB,cAAvB,CAAwC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAG,CAAzE,CACAkxC,aAAa9/C,SAAb,CAAuBwS,SAAvB,CAAmC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAG,CAA/D,CACAkxC,aAAa9/C,SAAb,CAAuBshB,YAAvB,CAAsC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAG,CAArE,CACAkxC,aAAa9/C,SAAb,CAAuB0gB,cAAvB,CAAwC,SAAU69B,SAAV,CAAqB3vC,OAArB,CAA8B,CAAG,CAAzE,CACAkxC,aAAa9/C,SAAb,CAAuB+gB,kBAAvB,CAA4C,SAAUy9B,aAAV,CAAyB5vC,OAAzB,CAAkC,CAAG,CAAjF,CACAkxC,aAAa9/C,SAAb,CAAuBk+C,SAAvB,CAAmC,SAAUj+B,IAAV,CAAgBgR,OAAhB,CAAyB,CACxD,KAAK+W,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+B2e,OAA/B,CAAlB,EACH,CAFD,CAGA,MAAO6uB,aAAP,CACH,CA/EiC,EAAlC,CAgFA;AACA,GAAIC,aAAc,aAAe,UAAY,CACzC,QAAS3C,UAAT,EAAqB,CACpB,CACDA,UAAUp9C,SAAV,CAAoBs9C,OAApB,CAA8B,SAAUrsB,OAAV,CAAmBnS,GAAnB,CAAwB,CAClD,GAAI2/B,QAAS,GAAI7F,UAAJ,GAAgBxzC,KAAhB,CAAsB6rB,OAAtB,CAA+BnS,GAA/B,CAAoC,IAApC,CAAb,CACA,KAAKkpB,OAAL,CAAeyW,OAAO93B,MAAtB,CACA,GAAI42B,WAAY,KAAKvV,OAAL,CAAavnC,MAAb,CAAsB,CAAtB,EAA2Bg+C,OAAOz3B,SAAP,CAAiBvmB,MAAjB,EAA2B,CAAtD,CACZ,EADY,CACP,GAAGkB,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS6f,SAAS,IAAT,CAAek9B,OAAOz3B,SAAtB,CAAT,CAApB,CADT,CAEA,MAAO,CACHu2B,UAAWA,SADR,CAEH52B,OAAQ,KAAKqhB,OAFV,CAAP,CAIH,CATD,CAUAoV,UAAUp9C,SAAV,CAAoBwS,SAApB,CAAgC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,IAAIkhC,OAAJ,CAAWjhB,KAAK3tB,KAAhB,CAAuB2tB,KAAKvc,UAA5B,CAAP,CAAiD,CAA5G,CACA8qC,UAAUp9C,SAAV,CAAoB+U,YAApB,CAAmC,SAAUm0B,EAAV,CAAct6B,OAAd,CAAuB,CACtD,GAAI/K,OAAQ,IAAZ,CACA,OAAQqlC,GAAG3kC,IAAX,EACI,IAAKw6C,mBAAL,CACI,GAAIL,UAAWxV,GAAGhkC,KAAH,CAASkzC,IAAT,CAAc,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,OAArB,CAA+B,CAA/D,CAAf,CACA,GAAIm6C,QAAJ,CAAc,CACV,MAAO,CAAC,GAAIvO,YAAJ,CAAgB,EAAhB,CAAoBuO,SAASx9C,KAA7B,CAAoCgoC,GAAG52B,UAAvC,CAAD,CAAP,CACH,CACD,KAAK4rC,SAAL,CAAehV,EAAf,CAAmB,IAAM6V,kBAAN,CAA2B,kCAA9C,EACA,MACJ,IAAKC,0BAAL,CACI,GAAI4B,WAAY1X,GAAGhkC,KAAH,CAASkzC,IAAT,CAAc,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,YAArB,CAAoC,CAApE,CAAhB,CACA,GAAIs8C,SAAU3X,GAAGhkC,KAAH,CAASkzC,IAAT,CAAc,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,UAArB,CAAkC,CAAlE,CAAd,CACA,GAAI,CAACq8C,SAAL,CAAgB,CACZ,KAAK1C,SAAL,CAAehV,EAAf,CAAmB,IAAM6V,kBAAN,CAA2B,uCAA9C,EACH,CAFD,IAGK,IAAI,CAAC8B,OAAL,CAAc,CACf,KAAK3C,SAAL,CAAehV,EAAf,CAAmB,IAAM6V,kBAAN,CAA2B,qCAA9C,EACH,CAFI,IAGA,CACD,GAAI+B,SAAUF,UAAU1/C,KAAxB,CACA,GAAI6/C,OAAQF,QAAQ3/C,KAApB,CACA,GAAIsgB,OAAQ,EAAZ,CACA,MAAOA,OAAM7f,MAAN,CAAahB,KAAb,CAAmB6gB,KAAnB,CAA0B9f,SAAS,CAAC,GAAIyuC,YAAJ,CAAgB,EAAhB,CAAoB2Q,OAApB,CAA6B5X,GAAG52B,UAAhC,CAAD,CAAT,CAAwD42B,GAAGr0B,QAAH,CAAY9L,GAAZ,CAAgB,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAkB,IAAlB,CAAP,CAAiC,CAAnE,CAAxD,CAA8H,CAAC,GAAIssC,YAAJ,CAAgB,EAAhB,CAAoB4Q,KAApB,CAA2B7X,GAAG52B,UAA9B,CAAD,CAA9H,CAA1B,CAAP,CACH,CACD,MACJ,IAAK2sC,cAAL,CACI,MAAO,GAAGt9C,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS6f,SAAS,IAAT,CAAe2nB,GAAGr0B,QAAlB,CAAT,CAApB,CAAP,CACJ,QACI,KAAKqpC,SAAL,CAAehV,EAAf,CAAmB,gBAAnB,EA3BR,CA6BA,MAAO,KAAP,CACH,CAhCD,CAiCAkU,UAAUp9C,SAAV,CAAoB0gB,cAApB,CAAqC,SAAUuqB,GAAV,CAAer8B,OAAf,CAAwB,CACzD,GAAI+vC,SAAU,EAAd,CACAp9B,SAAS,IAAT,CAAe0pB,IAAIzqB,KAAnB,EAA0Bzc,OAA1B,CAAkC,SAAUqH,CAAV,CAAa,CAC3CuzC,QAAQvzC,EAAElK,KAAV,EAAmB,GAAI6uC,UAAJ,CAAc3kC,EAAEoW,KAAhB,CAAuBypB,IAAI34B,UAA3B,CAAnB,CACH,CAFD,EAGA,MAAO,IAAI09B,IAAJ,CAAQ/E,IAAI1qB,WAAZ,CAAyB0qB,IAAIt5B,IAA7B,CAAmCgtC,OAAnC,CAA4C1T,IAAI34B,UAAhD,CAAP,CACH,CAND,CAOA8qC,UAAUp9C,SAAV,CAAoB+gB,kBAApB,CAAyC,SAAUiyB,OAAV,CAAmBpkC,OAAnB,CAA4B,CACjE,MAAO,CACH1N,MAAO8xC,QAAQ9xC,KADZ,CAEHsgB,MAAO,GAAG7f,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS6f,SAAS,IAAT,CAAeyxB,QAAQpyB,UAAvB,CAAT,CAApB,CAFJ,CAAP,CAIH,CALD,CAMAw8B,UAAUp9C,SAAV,CAAoBshB,YAApB,CAAmC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAG,CAAlE,CACAwuC,UAAUp9C,SAAV,CAAoBkhB,cAApB,CAAqC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAG,CAAtE,CACAwuC,UAAUp9C,SAAV,CAAoBk+C,SAApB,CAAgC,SAAUj+B,IAAV,CAAgBgR,OAAhB,CAAyB,CACrD,KAAK+W,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+B2e,OAA/B,CAAlB,EACH,CAFD,CAGA,MAAOmsB,UAAP,CACH,CAlEgC,EAAjC,CAmEA,QAAS4C,cAAT,CAAuB9P,GAAvB,CAA4B,CACxB,OAAQA,IAAI9rC,WAAJ,EAAR,EACI,IAAK,IAAL,CACA,IAAK,GAAL,CACA,IAAK,GAAL,CACA,IAAK,GAAL,CACI,MAAO,KAAP,CACJ,IAAK,KAAL,CACI,MAAO,OAAP,CACJ,IAAK,GAAL,CACI,MAAO,MAAP,CACJ,QACI,MAAO,OAAP,CAXR,CAaH,CAED;;;;;;OAOA,GAAI48C,eAAgB,eAApB,CACA,GAAIC,cAAe,KAAnB,CACA,GAAIC,oBAAqB,IAAzB,CACA,GAAIC,cAAe,IAAnB,CACA,GAAIC,eAAgB,QAApB,CACA,GAAIC,UAAW,ujBAAf,CACA,GAAIC,KAAM,aAAe,SAAU7qC,MAAV,CAAkB,CACvC5W,UAAUyhD,GAAV,CAAe7qC,MAAf,EACA,QAAS6qC,IAAT,EAAe,CACX,MAAO7qC,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACD8gD,IAAIthD,SAAJ,CAAc87C,KAAd,CAAsB,SAAUxH,QAAV,CAAoByH,MAApB,CAA4B,CAC9C,GAAIwF,gBAAiB,GAAIC,eAAJ,EAArB,CACA,GAAI7yC,SAAU,GAAI8yC,WAAJ,EAAd,CACA,GAAIC,UAAW,GAAIhH,IAAJ,CAAQsG,aAAR,CAAf,CACA1M,SAASvwC,OAAT,CAAiB,SAAUktB,OAAV,CAAmB,CAChC,GAAI/rB,OAAQ,CAAEsX,GAAIyU,QAAQzU,EAAd,CAAZ,CACA,GAAIyU,QAAQue,WAAZ,CAAyB,CACrBtqC,MAAM,MAAN,EAAgB+rB,QAAQue,WAAxB,CACH,CACD,GAAIve,QAAQyZ,OAAZ,CAAqB,CACjBxlC,MAAM,SAAN,EAAmB+rB,QAAQyZ,OAA3B,CACH,CACD,GAAIiX,YAAa,EAAjB,CACA1wB,QAAQwe,OAAR,CAAgB1rC,OAAhB,CAAwB,SAAU4yB,MAAV,CAAkB,CACtCgrB,WAAWngD,IAAX,CAAgB,GAAIk5C,IAAJ,CAAQ0G,aAAR,CAAuB,EAAvB,CAA2B,CACvC,GAAIzG,OAAJ,CAAWhkB,OAAOjf,QAAP,CAAkB,GAAlB,CAAwBif,OAAO+Y,SAA/B,EAA4C/Y,OAAOiZ,OAAP,GAAmBjZ,OAAO+Y,SAA1B,CAAsC,IAAM/Y,OAAOiZ,OAAnD,CAA6D,EAAzG,CAAX,CADuC,CAA3B,CAAhB,EAGH,CAJD,EAKA8R,SAAS7sC,QAAT,CAAkBrT,IAAlB,CAAuB,GAAIq5C,GAAJ,CAAO,CAAP,CAAvB,CAAkC,GAAIH,IAAJ,CAAQuG,YAAR,CAAsB/7C,KAAtB,CAA6BxD,SAASigD,UAAT,CAAqBhzC,QAAQ0rC,SAAR,CAAkBppB,QAAQzP,KAA1B,CAArB,CAA7B,CAAlC,EACH,CAfD,EAgBAkgC,SAAS7sC,QAAT,CAAkBrT,IAAlB,CAAuB,GAAIq5C,GAAJ,EAAvB,EACA,MAAOR,WAAU,CACb,GAAIC,YAAJ,CAAgB,CAAEqC,QAAS,KAAX,CAAkBE,SAAU,OAA5B,CAAhB,CADa,CAEb,GAAIhC,GAAJ,EAFa,CAGb,GAAIJ,QAAJ,CAAYuG,aAAZ,CAA2BK,QAA3B,CAHa,CAIb,GAAIxG,GAAJ,EAJa,CAKb0G,eAAeK,kBAAf,CAAkCF,QAAlC,CALa,CAMb,GAAI7G,GAAJ,EANa,CAAV,CAAP,CAQH,CA7BD,CA8BAyG,IAAIthD,SAAJ,CAAc88C,IAAd,CAAqB,SAAUlf,OAAV,CAAmB9e,GAAnB,CAAwB,CACzC,KAAM,IAAI7c,MAAJ,CAAU,aAAV,CAAN,CACH,CAFD,CAGAq/C,IAAIthD,SAAJ,CAAcuqC,MAAd,CAAuB,SAAUtZ,OAAV,CAAmB,CAAE,MAAO4wB,UAAS5wB,OAAT,CAAP,CAA2B,CAAvE,CACAqwB,IAAIthD,SAAJ,CAAc84C,gBAAd,CAAiC,SAAU7nB,OAAV,CAAmB,CAChD,MAAO,IAAI8nB,wBAAJ,CAA4B9nB,OAA5B,CAAqCmoB,YAArC,CAAP,CACH,CAFD,CAGA,MAAOkI,IAAP,CACH,CA3CwB,CA2CvBzI,UA3CuB,CAAzB,CA4CA,GAAI4I,YAAa,aAAe,UAAY,CACxC,QAASzN,SAAT,EAAoB,CACnB,CACDA,SAASh0C,SAAT,CAAmBwS,SAAnB,CAA+B,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,CAAC,GAAI+rC,OAAJ,CAAW9rB,KAAK3tB,KAAhB,CAAD,CAAP,CAAkC,CAA5F,CACA8yC,SAASh0C,SAAT,CAAmB+qC,cAAnB,CAAoC,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CAC9D,GAAI/K,OAAQ,IAAZ,CACA,GAAI2d,OAAQ,EAAZ,CACAqoB,UAAUh1B,QAAV,CAAmB9Q,OAAnB,CAA2B,SAAUkc,IAAV,CAAgB,CAAE,MAAOuB,OAAMhgB,IAAN,CAAWb,KAAX,CAAiB6gB,KAAjB,CAAwB9f,SAASue,KAAK1N,KAAL,CAAW1O,KAAX,CAAT,CAAxB,CAAP,CAA8D,CAA3G,EACA,MAAO2d,MAAP,CACH,CALD,CAMAwyB,SAASh0C,SAAT,CAAmBgrC,QAAnB,CAA8B,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CAClD,GAAI/K,OAAQ,IAAZ,CACA,GAAI2d,OAAQ,CAAC,GAAIm5B,OAAJ,CAAW,IAAM1P,IAAIqF,qBAAV,CAAkC,IAAlC,CAAyCrF,IAAIt5B,IAA7C,CAAoD,IAA/D,CAAD,CAAZ,CACApS,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzc,OAAvB,CAA+B,SAAUqH,CAAV,CAAa,CACxCoW,MAAMhgB,IAAN,CAAWb,KAAX,CAAiB6gB,KAAjB,CAAwB9f,SAAS,CAAC,GAAIi5C,OAAJ,CAAWvvC,EAAI,IAAf,CAAD,CAAT,CAAiC6/B,IAAIzqB,KAAJ,CAAUpV,CAAV,EAAamH,KAAb,CAAmB1O,KAAnB,CAAjC,CAA4D,CAAC,GAAI82C,OAAJ,CAAW,IAAX,CAAD,CAA5D,CAAxB,EACH,CAFD,EAGAn5B,MAAMhgB,IAAN,CAAW,GAAIm5C,OAAJ,CAAW,GAAX,CAAX,EACA,MAAOn5B,MAAP,CACH,CARD,CASAwyB,SAASh0C,SAAT,CAAmBorC,mBAAnB,CAAyC,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CAC5D,GAAIkzC,SAAU,GAAIpH,IAAJ,CAAQyG,YAAR,CAAsB,EAAtB,CAA0B,CAAC,GAAIxG,OAAJ,CAAW,IAAMtP,GAAG6E,GAAT,CAAe,GAA1B,CAAD,CAA1B,CAAd,CACA,GAAIwN,YAAa,GAAIhD,IAAJ,CAAQwG,kBAAR,CAA4B,CAAE38C,KAAM8mC,GAAGC,SAAX,CAA5B,CAAoD,CAACwW,OAAD,CAApD,CAAjB,CACA,GAAIzW,GAAG3nC,MAAP,CAAe,CACX;AACA,MAAO,CAACg6C,UAAD,CAAP,CACH,CACD,GAAIqE,SAAU,GAAIrH,IAAJ,CAAQyG,YAAR,CAAsB,EAAtB,CAA0B,CAAC,GAAIxG,OAAJ,CAAW,KAAOtP,GAAG6E,GAAV,CAAgB,GAA3B,CAAD,CAA1B,CAAd,CACA,GAAIyN,YAAa,GAAIjD,IAAJ,CAAQwG,kBAAR,CAA4B,CAAE38C,KAAM8mC,GAAGE,SAAX,CAA5B,CAAoD,CAACwW,OAAD,CAApD,CAAjB,CACA,MAAOrgD,UAAS,CAACg8C,UAAD,CAAT,CAAuB,KAAKrD,SAAL,CAAehP,GAAGx2B,QAAlB,CAAvB,CAAoD,CAAC8oC,UAAD,CAApD,CAAP,CACH,CAVD,CAWA3J,SAASh0C,SAAT,CAAmBwrC,gBAAnB,CAAsC,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CACzD,GAAIozC,OAAQ,GAAItH,IAAJ,CAAQyG,YAAR,CAAsB,EAAtB,CAA0B,CAAC,GAAIxG,OAAJ,CAAW,KAAOtP,GAAGnqC,KAAV,CAAkB,IAA7B,CAAD,CAA1B,CAAZ,CACA,MAAO,CAAC,GAAIw5C,IAAJ,CAAQwG,kBAAR,CAA4B,CAAE38C,KAAM8mC,GAAG9mC,IAAX,CAA5B,CAA+C,CAACy9C,KAAD,CAA/C,CAAD,CAAP,CACH,CAHD,CAIAhO,SAASh0C,SAAT,CAAmByrC,mBAAnB,CAAyC,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CAC5D,GAAIozC,OAAQ,GAAItH,IAAJ,CAAQyG,YAAR,CAAsB,EAAtB,CAA0B,CAClC,GAAIxG,OAAJ,CAAW,IAAMtP,GAAGnqC,KAAH,CAAS0f,UAAf,CAA4B,IAA5B,CAAmCyqB,GAAGnqC,KAAH,CAASyQ,IAA5C,CAAmD,IAAnD,CAA0DpS,OAAOiQ,IAAP,CAAY67B,GAAGnqC,KAAH,CAASsf,KAArB,EAA4BzX,GAA5B,CAAgC,SAAU7H,KAAV,CAAiB,CAAE,MAAOA,OAAQ,QAAf,CAA0B,CAA7E,EAA+EqF,IAA/E,CAAoF,GAApF,CAA1D,CAAqJ,GAAhK,CADkC,CAA1B,CAAZ,CAGA,MAAO,CAAC,GAAIm0C,IAAJ,CAAQwG,kBAAR,CAA4B,CAAE38C,KAAM8mC,GAAG9mC,IAAX,CAA5B,CAA+C,CAACy9C,KAAD,CAA/C,CAAD,CAAP,CACH,CALD,CAMAhO,SAASh0C,SAAT,CAAmBq6C,SAAnB,CAA+B,SAAU74B,KAAV,CAAiB,CAC5C,GAAI3d,OAAQ,IAAZ,CACA,MAAO,GAAGlC,MAAH,CAAUhB,KAAV,CAAgB,EAAhB,CAAoBe,SAAS8f,MAAMzY,GAAN,CAAU,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAvD,CAAT,CAApB,CAAP,CACH,CAHD,CAIA,MAAOmwC,SAAP,CACH,CA7C+B,EAAhC,CA8CA,QAAS6N,SAAT,CAAkB5wB,OAAlB,CAA2B,CACvB,MAAO0Z,eAAc1Z,OAAd,CAAP,CACH,CACD;AACA,GAAIuwB,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,EAA0B,CACzB,CACDA,eAAexhD,SAAf,CAAyB4hD,kBAAzB,CAA8C,SAAU3hC,IAAV,CAAgB,CAC1DA,KAAK1N,KAAL,CAAW,IAAX,EACA,MAAO0N,KAAP,CACH,CAHD,CAIAuhC,eAAexhD,SAAf,CAAyB25C,QAAzB,CAAoC,SAAUzJ,GAAV,CAAe,CAC/C,GAAIrsC,OAAQ,IAAZ,CACA,GAAIqsC,IAAI3rC,IAAJ,GAAa28C,kBAAjB,CAAqC,CACjC,GAAI,CAAChR,IAAIr7B,QAAL,EAAiBq7B,IAAIr7B,QAAJ,CAAapU,MAAb,EAAuB,CAA5C,CAA+C,CAC3C,GAAIwhD,QAAS,GAAItH,OAAJ,CAAWzK,IAAIhrC,KAAJ,CAAU,MAAV,GAAqB,KAAhC,CAAb,CACAgrC,IAAIr7B,QAAJ,CAAe,CAAC,GAAI6lC,IAAJ,CAAQyG,YAAR,CAAsB,EAAtB,CAA0B,CAACc,MAAD,CAA1B,CAAD,CAAf,CACH,CACJ,CALD,IAMK,IAAI/R,IAAIr7B,QAAR,CAAkB,CACnBq7B,IAAIr7B,QAAJ,CAAa9Q,OAAb,CAAqB,SAAUkc,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAlE,EACH,CACJ,CAXD,CAYA29C,eAAexhD,SAAf,CAAyBwS,SAAzB,CAAqC,SAAUqc,IAAV,CAAgB,CAAG,CAAxD,CACA2yB,eAAexhD,SAAf,CAAyB85C,gBAAzB,CAA4C,SAAUC,IAAV,CAAgB,CAAG,CAA/D,CACAyH,eAAexhD,SAAf,CAAyBg6C,YAAzB,CAAwC,SAAUC,OAAV,CAAmB,CAAG,CAA9D,CACA,MAAOuH,eAAP,CACH,CAvBmC,EAApC,CAwBA;AACA,QAASpI,aAAT,CAAsBC,YAAtB,CAAoC,CAChC,MAAOA,cAAanrC,WAAb,GAA2BD,OAA3B,CAAmC,aAAnC,CAAkD,GAAlD,CAAP,CACH,CAED;;;;;;OAOA,GAAIi0C,mBAAoB,mBAAxB,CACA,GAAIC,kBAAmB,aAAvB,CACA,GAAIC,oBAAqB,IAAzB,CACA,GAAIC,KAAM,aAAe,SAAU5rC,MAAV,CAAkB,CACvC5W,UAAUwiD,GAAV,CAAe5rC,MAAf,EACA,QAAS4rC,IAAT,EAAe,CACX,MAAO5rC,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACD6hD,IAAIriD,SAAJ,CAAc87C,KAAd,CAAsB,SAAUxH,QAAV,CAAoByH,MAApB,CAA4B,CAAE,KAAM,IAAI95C,MAAJ,CAAU,aAAV,CAAN,CAAiC,CAArF,CACAogD,IAAIriD,SAAJ,CAAc88C,IAAd,CAAqB,SAAUlf,OAAV,CAAmB9e,GAAnB,CAAwB,CACzC;AACA,GAAIwjC,WAAY,GAAIC,UAAJ,EAAhB,CACA,GAAIx/C,IAAKu/C,UAAUl9C,KAAV,CAAgBw4B,OAAhB,CAAyB9e,GAAzB,CAAT,CAAwCi9B,OAASh5C,GAAGg5C,MAApD,CAA4DkB,YAAcl6C,GAAGk6C,WAA7E,CAA0Ft2B,OAAS5jB,GAAG4jB,MAAtG,CACA;AACA,GAAIu2B,kBAAmB,EAAvB,CACA,GAAIC,WAAY,GAAIqF,YAAJ,EAAhB,CACA;AACA;AACA;AACAjjD,OAAOiQ,IAAP,CAAYytC,WAAZ,EAAyBl5C,OAAzB,CAAiC,SAAUs5C,KAAV,CAAiB,CAC9C,GAAIoF,SAAU,UAAY,CACtB,GAAI1/C,IAAKo6C,UAAUG,OAAV,CAAkBL,YAAYI,KAAZ,CAAlB,CAAsCv+B,GAAtC,CAAT,CAAqDy+B,UAAYx6C,GAAGw6C,SAApE,CAA+E52B,OAAS5jB,GAAG4jB,MAA3F,CACA,GAAIA,OAAOlmB,MAAX,CAAmB,CACf,KAAM,IAAIwB,MAAJ,CAAU,sBAAwB0kB,OAAOpgB,IAAP,CAAY,IAAZ,CAAlC,CAAN,CACH,CACD,MAAOg3C,UAAP,CACH,CAND,CAOAmF,mBAAmBxF,gBAAnB,CAAqCG,KAArC,CAA4CoF,OAA5C,EACH,CATD,EAUA,GAAI97B,OAAOlmB,MAAX,CAAmB,CACf,KAAM,IAAIwB,MAAJ,CAAU,sBAAwB0kB,OAAOpgB,IAAP,CAAY,IAAZ,CAAlC,CAAN,CACH,CACD,MAAO,CAAEw1C,OAAQA,MAAV,CAAkBmB,iBAAkBA,gBAApC,CAAP,CACH,CAxBD,CAyBAmF,IAAIriD,SAAJ,CAAcuqC,MAAd,CAAuB,SAAUtZ,OAAV,CAAmB,CAAE,MAAO4wB,UAAS5wB,OAAT,CAAP,CAA2B,CAAvE,CACAoxB,IAAIriD,SAAJ,CAAc84C,gBAAd,CAAiC,SAAU7nB,OAAV,CAAmB,CAChD,MAAO,IAAI8nB,wBAAJ,CAA4B9nB,OAA5B,CAAqCmoB,YAArC,CAAP,CACH,CAFD,CAGA,MAAOiJ,IAAP,CACH,CApCwB,CAoCvBxJ,UApCuB,CAAzB,CAqCA,QAAS6J,mBAAT,CAA4BpO,QAA5B,CAAsC93B,EAAtC,CAA0CimC,OAA1C,CAAmD,CAC/CljD,OAAOsgB,cAAP,CAAsBy0B,QAAtB,CAAgC93B,EAAhC,CAAoC,CAChCuD,aAAc,IADkB,CAEhCD,WAAY,IAFoB,CAGhCnX,IAAK,UAAY,CACb,GAAIzH,OAAQuhD,SAAZ,CACAljD,OAAOsgB,cAAP,CAAsBy0B,QAAtB,CAAgC93B,EAAhC,CAAoC,CAAEsD,WAAY,IAAd,CAAoB5e,MAAOA,KAA3B,CAApC,EACA,MAAOA,MAAP,CACH,CAP+B,CAQhC0H,IAAK,SAAUif,CAAV,CAAa,CAAE,KAAM,IAAI5lB,MAAJ,CAAU,wCAAV,CAAN,CAA4D,CARhD,CAApC,EAUH,CACD;AACA,GAAIsgD,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,EAAqB,CACjB,KAAK1E,OAAL,CAAe,IAAf,CACH,CACD0E,UAAUviD,SAAV,CAAoBoF,KAApB,CAA4B,SAAUu9C,GAAV,CAAe7jC,GAAf,CAAoB,CAC5C,KAAK8jC,YAAL,CAAoB,CAApB,CACA,KAAK7E,YAAL,CAAoB,EAApB,CACA;AACA;AACA,GAAIC,KAAM,GAAIpF,UAAJ,GAAgBxzC,KAAhB,CAAsBu9C,GAAtB,CAA2B7jC,GAA3B,CAAgC,KAAhC,CAAV,CACA,KAAKkpB,OAAL,CAAegW,IAAIr3B,MAAnB,CACApF,SAAS,IAAT,CAAey8B,IAAIh3B,SAAnB,EACA,MAAO,CACHi2B,YAAa,KAAKc,YADf,CAEHp3B,OAAQ,KAAKqhB,OAFV,CAGH+T,OAAQ,KAAK8B,OAHV,CAAP,CAKH,CAbD,CAcA0E,UAAUviD,SAAV,CAAoB+U,YAApB,CAAmC,SAAU/P,OAAV,CAAmB4J,OAAnB,CAA4B,CAC3D,OAAQ5J,QAAQT,IAAhB,EACI,IAAK29C,kBAAL,CACI,KAAKU,YAAL,GACA,GAAI,KAAKA,YAAL,CAAoB,CAAxB,CAA2B,CACvB,KAAK1E,SAAL,CAAel5C,OAAf,CAAwB,IAAMk9C,iBAAN,CAA0B,8BAAlD,EACH,CACD,GAAIW,UAAW79C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,MAArB,CAA8B,CAAnE,CAAf,CACA,GAAIs+C,QAAJ,CAAc,CACV,KAAKhF,OAAL,CAAegF,SAAS3hD,KAAxB,CACH,CACDqgB,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAiC,IAAjC,EACA,KAAK+tC,YAAL,GACA,MACJ,IAAKT,iBAAL,CACI,GAAIlE,QAASj5C,QAAQE,KAAR,CAAckzC,IAAd,CAAmB,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,IAArB,CAA4B,CAAjE,CAAb,CACA,GAAI,CAAC05C,MAAL,CAAa,CACT,KAAKC,SAAL,CAAel5C,OAAf,CAAwB,IAAMm9C,gBAAN,CAAyB,+BAAjD,EACH,CAFD,IAGK,CACD,GAAI3lC,IAAKyhC,OAAO/8C,KAAhB,CACA,GAAI,KAAK68C,YAAL,CAAkBn+C,cAAlB,CAAiC4c,EAAjC,CAAJ,CAA0C,CACtC,KAAK0hC,SAAL,CAAel5C,OAAf,CAAwB,mCAAqCwX,EAA7D,EACH,CAFD,IAGK,CACD,GAAI2hC,gBAAiBn5C,QAAQoc,eAAR,CAAwBS,GAAxB,CAA4BD,MAAjD,CACA,GAAIw8B,cAAep5C,QAAQ8P,aAAR,CAAsB6M,KAAtB,CAA4BC,MAA/C,CACA,GAAIgc,SAAU54B,QAAQoc,eAAR,CAAwBO,KAAxB,CAA8B4b,IAA9B,CAAmCK,OAAjD,CACA,GAAIygB,WAAYzgB,QAAQ17B,KAAR,CAAci8C,cAAd,CAA8BC,YAA9B,CAAhB,CACA,KAAKL,YAAL,CAAkBvhC,EAAlB,EAAwB6hC,SAAxB,CACH,CACJ,CACD,MACJ,QACI,KAAKH,SAAL,CAAel5C,OAAf,CAAwB,gBAAxB,EAjCR,CAmCH,CApCD,CAqCAu9C,UAAUviD,SAAV,CAAoBkhB,cAApB,CAAqC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAG,CAAtE,CACA2zC,UAAUviD,SAAV,CAAoBwS,SAApB,CAAgC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAG,CAA5D,CACA2zC,UAAUviD,SAAV,CAAoBshB,YAApB,CAAmC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAG,CAAlE,CACA2zC,UAAUviD,SAAV,CAAoB0gB,cAApB,CAAqC,SAAU69B,SAAV,CAAqB3vC,OAArB,CAA8B,CAAG,CAAtE,CACA2zC,UAAUviD,SAAV,CAAoB+gB,kBAApB,CAAyC,SAAUy9B,aAAV,CAAyB5vC,OAAzB,CAAkC,CAAG,CAA9E,CACA2zC,UAAUviD,SAAV,CAAoBk+C,SAApB,CAAgC,SAAUj+B,IAAV,CAAgBgR,OAAhB,CAAyB,CACrD,KAAK+W,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+B2e,OAA/B,CAAlB,EACH,CAFD,CAGA,MAAOsxB,UAAP,CACH,CAhE8B,EAA/B,CAiEA;AACA,GAAIC,aAAc,aAAe,UAAY,CACzC,QAASpF,UAAT,EAAqB,CACpB,CACDA,UAAUp9C,SAAV,CAAoBs9C,OAApB,CAA8B,SAAUrsB,OAAV,CAAmBnS,GAAnB,CAAwB,CAClD,GAAI2/B,QAAS,GAAI7F,UAAJ,GAAgBxzC,KAAhB,CAAsB6rB,OAAtB,CAA+BnS,GAA/B,CAAoC,IAApC,CAAb,CACA,KAAKkpB,OAAL,CAAeyW,OAAO93B,MAAtB,CACA,GAAI42B,WAAY,KAAKvV,OAAL,CAAavnC,MAAb,CAAsB,CAAtB,EAA2Bg+C,OAAOz3B,SAAP,CAAiBvmB,MAAjB,EAA2B,CAAtD,CACZ,EADY,CAEZ8gB,SAAS,IAAT,CAAek9B,OAAOz3B,SAAtB,CAFJ,CAGA,MAAO,CACHu2B,UAAWA,SADR,CAEH52B,OAAQ,KAAKqhB,OAFV,CAAP,CAIH,CAVD,CAWAoV,UAAUp9C,SAAV,CAAoBwS,SAApB,CAAgC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAO,IAAIkhC,OAAJ,CAAWjhB,KAAK3tB,KAAhB,CAAuB2tB,KAAKvc,UAA5B,CAAP,CAAiD,CAA5G,CACA8qC,UAAUp9C,SAAV,CAAoB0gB,cAApB,CAAqC,SAAUuqB,GAAV,CAAer8B,OAAf,CAAwB,CACzD,GAAI+vC,SAAU,EAAd,CACAp9B,SAAS,IAAT,CAAe0pB,IAAIzqB,KAAnB,EAA0Bzc,OAA1B,CAAkC,SAAUqH,CAAV,CAAa,CAC3CuzC,QAAQvzC,EAAElK,KAAV,EAAmB,GAAI6uC,UAAJ,CAAc3kC,EAAEoW,KAAhB,CAAuBypB,IAAI34B,UAA3B,CAAnB,CACH,CAFD,EAGA,MAAO,IAAI09B,IAAJ,CAAQ/E,IAAI1qB,WAAZ,CAAyB0qB,IAAIt5B,IAA7B,CAAmCgtC,OAAnC,CAA4C1T,IAAI34B,UAAhD,CAAP,CACH,CAND,CAOA8qC,UAAUp9C,SAAV,CAAoB+gB,kBAApB,CAAyC,SAAUiyB,OAAV,CAAmBpkC,OAAnB,CAA4B,CACjE,MAAO,CACH1N,MAAO8xC,QAAQ9xC,KADZ,CAEHsgB,MAAOD,SAAS,IAAT,CAAeyxB,QAAQpyB,UAAvB,CAFJ,CAAP,CAIH,CALD,CAMAw8B,UAAUp9C,SAAV,CAAoB+U,YAApB,CAAmC,SAAUm0B,EAAV,CAAct6B,OAAd,CAAuB,CACtD,GAAIs6B,GAAG3kC,IAAH,GAAY69C,kBAAhB,CAAoC,CAChC,GAAI1D,UAAWxV,GAAGhkC,KAAH,CAASkzC,IAAT,CAAc,SAAU3zB,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAc,MAArB,CAA8B,CAA9D,CAAf,CACA,GAAIm6C,QAAJ,CAAc,CACV,MAAO,IAAIvO,YAAJ,CAAgB,EAAhB,CAAoBuO,SAASx9C,KAA7B,CAAoCgoC,GAAG52B,UAAvC,CAAP,CACH,CACD,KAAK4rC,SAAL,CAAehV,EAAf,CAAmB,IAAMkZ,kBAAN,CAA2B,iCAA9C,EACH,CAND,IAOK,CACD,KAAKlE,SAAL,CAAehV,EAAf,CAAmB,gBAAnB,EACH,CACD,MAAO,KAAP,CACH,CAZD,CAaAkU,UAAUp9C,SAAV,CAAoBshB,YAApB,CAAmC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAG,CAAlE,CACAwuC,UAAUp9C,SAAV,CAAoBkhB,cAApB,CAAqC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAG,CAAtE,CACAwuC,UAAUp9C,SAAV,CAAoBk+C,SAApB,CAAgC,SAAUj+B,IAAV,CAAgBgR,OAAhB,CAAyB,CACrD,KAAK+W,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcrzB,KAAK3N,UAAnB,CAA+B2e,OAA/B,CAAlB,EACH,CAFD,CAGA,MAAOmsB,UAAP,CACH,CA/CgC,EAAjC,CAiDA;;;;;;OAOA,GAAI0F,YAAa,aAAe,SAAUrsC,MAAV,CAAkB,CAC9C5W,UAAUijD,UAAV,CAAsBrsC,MAAtB,EACA,QAASqsC,WAAT,EAAsB,CAClB,MAAOrsC,QAAO/V,IAAP,CAAY,IAAZ,CAAkBgE,oBAAlB,GAA2C,IAAlD,CACH,CACDo+C,WAAW9iD,SAAX,CAAqBoF,KAArB,CAA6B,SAAUuxB,MAAV,CAAkB7X,GAAlB,CAAuB4oB,mBAAvB,CAA4CjhB,mBAA5C,CAAiE,CAC1F,GAAIihB,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB,KAAtB,CAA8B,CACpE,GAAIjhB,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,MAAOlM,QAAOzW,SAAP,CAAiBoF,KAAjB,CAAuB1E,IAAvB,CAA4B,IAA5B,CAAkCi2B,MAAlC,CAA0C7X,GAA1C,CAA+C4oB,mBAA/C,CAAoEjhB,mBAApE,CAAP,CACH,CAJD,CAKA,MAAOq8B,WAAP,CACH,CAX+B,CAW9Brb,QAX8B,CAAhC,CAaA;;;;;;OAOA;;OAGA,GAAIsb,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BC,iBAA3B,CAA8CjH,MAA9C,CAAsDxR,MAAtD,CAA8D0Y,aAA9D,CAA6EC,0BAA7E,CAAyGrN,OAAzG,CAAkH,CAC9G,GAAImN,oBAAsB,IAAK,EAA/B,CAAkC,CAAEA,kBAAoB,EAApB,CAAyB,CAC7D,GAAIE,6BAA+B,IAAK,EAAxC,CAA2C,CAAEA,2BAA6Bp2C,2BAA2Bq2C,OAAxD,CAAkE,CAC/G,KAAKH,iBAAL,CAAyBA,iBAAzB,CACA,KAAKzY,MAAL,CAAcA,MAAd,CACA,KAAK0Y,aAAL,CAAqBA,aAArB,CACA,KAAKG,WAAL,CAAmB,GAAIC,kBAAJ,CAAsBL,iBAAtB,CAAyCjH,MAAzC,CAAiDxR,MAAjD,CAAyD0Y,aAAzD,CAAwEC,0BAAxE,CAAoGrN,OAApG,CAAnB,CACH,CACD;AACAkN,kBAAkBjG,IAAlB,CAAyB,SAAUlf,OAAV,CAAmB9e,GAAnB,CAAwBwkC,UAAxB,CAAoCJ,0BAApC,CAAgErN,OAAhE,CAAyE,CAC9F,GAAI9yC,IAAKugD,WAAWxG,IAAX,CAAgBlf,OAAhB,CAAyB9e,GAAzB,CAAT,CAAwCi9B,OAASh5C,GAAGg5C,MAApD,CAA4DmB,iBAAmBn6C,GAAGm6C,gBAAlF,CACA,GAAIqG,UAAW,SAAUziD,CAAV,CAAa,CAAE,MAAOwiD,YAAW/Y,MAAX,CAAkBzpC,CAAlB,CAAP,CAA8B,CAA5D,CACA,GAAImiD,eAAgB,SAAUniD,CAAV,CAAa,CAAE,MAAOwiD,YAAWxK,gBAAX,CAA4Bh4C,CAA5B,CAAP,CAAwC,CAA3E,CACA,MAAO,IAAIiiD,kBAAJ,CAAsB7F,gBAAtB,CAAwCnB,MAAxC,CAAgDwH,QAAhD,CAA0DN,aAA1D,CAAyEC,0BAAzE,CAAqGrN,OAArG,CAAP,CACH,CALD,CAMA;AACAkN,kBAAkB/iD,SAAlB,CAA4B2I,GAA5B,CAAkC,SAAU66C,MAAV,CAAkB,CAChD,GAAIC,MAAO,KAAKL,WAAL,CAAiB9F,OAAjB,CAAyBkG,MAAzB,CAAX,CACA,GAAIC,KAAK98B,MAAL,CAAYlmB,MAAhB,CAAwB,CACpB,KAAM,IAAIwB,MAAJ,CAAUwhD,KAAK98B,MAAL,CAAYpgB,IAAZ,CAAiB,IAAjB,CAAV,CAAN,CACH,CACD,MAAOk9C,MAAKjiC,KAAZ,CACH,CAND,CAOAuhC,kBAAkB/iD,SAAlB,CAA4Bud,GAA5B,CAAkC,SAAUimC,MAAV,CAAkB,CAAE,MAAO,MAAKjZ,MAAL,CAAYiZ,MAAZ,GAAuB,MAAKR,iBAAnC,CAAuD,CAA7G,CACA,MAAOD,kBAAP,CACH,CA1BsC,EAAvC,CA2BA,GAAIM,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BL,iBAA3B,CAA8CnF,OAA9C,CAAuD6F,OAAvD,CAAgEC,cAAhE,CAAgFC,2BAAhF,CAA6GC,QAA7G,CAAuH,CACnH,GAAIb,oBAAsB,IAAK,EAA/B,CAAkC,CAAEA,kBAAoB,EAApB,CAAyB,CAC7D,KAAKA,iBAAL,CAAyBA,iBAAzB,CACA,KAAKnF,OAAL,CAAeA,OAAf,CACA,KAAK6F,OAAL,CAAeA,OAAf,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAKC,2BAAL,CAAmCA,2BAAnC,CACA,KAAKC,QAAL,CAAgBA,QAAhB,CACA,KAAKC,aAAL,CAAqB,EAArB,CACA,KAAK9b,OAAL,CAAe,EAAf,CACH,CACDqb,kBAAkBrjD,SAAlB,CAA4Bs9C,OAA5B,CAAsC,SAAUkG,MAAV,CAAkB,CACpD,KAAKM,aAAL,CAAmBrjD,MAAnB,CAA4B,CAA5B,CACA,KAAKunC,OAAL,CAAavnC,MAAb,CAAsB,CAAtB,CACA;AACA,GAAIouB,MAAO,KAAKk1B,cAAL,CAAoBP,MAApB,CAAX,CACA;AACA,GAAI1kC,KAAM0kC,OAAOhiC,KAAP,CAAa,CAAb,EAAgBlP,UAAhB,CAA2BqP,KAA3B,CAAiC4b,IAAjC,CAAsCze,GAAhD,CACA,GAAI2kC,MAAO,GAAIX,WAAJ,GAAiB19C,KAAjB,CAAuBypB,IAAvB,CAA6B/P,GAA7B,CAAkC,IAAlC,CAAX,CACA,MAAO,CACH0C,MAAOiiC,KAAKz8B,SADT,CAEHL,OAAQjlB,SAAS,KAAKsmC,OAAd,CAAuByb,KAAK98B,MAA5B,CAFL,CAAP,CAIH,CAZD,CAaA08B,kBAAkBrjD,SAAlB,CAA4BwS,SAA5B,CAAwC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAC7D;AACA;AACA,MAAO4rC,WAAU3rB,KAAK3tB,KAAf,CAAP,CACH,CAJD,CAKAmiD,kBAAkBrjD,SAAlB,CAA4B+qC,cAA5B,CAA6C,SAAUlB,SAAV,CAAqBj7B,OAArB,CAA8B,CACvE,GAAI/K,OAAQ,IAAZ,CACA,MAAOgmC,WAAUh1B,QAAV,CAAmB9L,GAAnB,CAAuB,SAAUxI,CAAV,CAAa,CAAE,MAAOA,GAAEgS,KAAF,CAAQ1O,KAAR,CAAP,CAAwB,CAA9D,EAAgE0C,IAAhE,CAAqE,EAArE,CAAP,CACH,CAHD,CAIA88C,kBAAkBrjD,SAAlB,CAA4BgrC,QAA5B,CAAuC,SAAUC,GAAV,CAAer8B,OAAf,CAAwB,CAC3D,GAAI/K,OAAQ,IAAZ,CACA,GAAI2c,OAAQjhB,OAAOiQ,IAAP,CAAYy7B,IAAIzqB,KAAhB,EAAuBzX,GAAvB,CAA2B,SAAUoiC,CAAV,CAAa,CAAE,MAAOA,GAAI,IAAJ,CAAWF,IAAIzqB,KAAJ,CAAU2qB,CAAV,EAAa54B,KAAb,CAAmB1O,KAAnB,CAAX,CAAuC,GAA9C,CAAoD,CAA9F,CAAZ,CACA;AACA;AACA,GAAImxB,KAAM,KAAKgvB,OAAL,CAAa1U,YAAb,CAA0B1vC,cAA1B,CAAyCqrC,IAAIrqB,UAA7C,EACN,KAAKojC,OAAL,CAAa1U,YAAb,CAA0BrE,IAAIrqB,UAA9B,CADM,CAENqqB,IAAIrqB,UAFR,CAGA,MAAO,IAAMoU,GAAN,CAAY,IAAZ,CAAmBiW,IAAIt5B,IAAvB,CAA8B,IAA9B,CAAqC6O,MAAMja,IAAN,CAAW,GAAX,CAArC,CAAuD,GAA9D,CACH,CATD,CAUA88C,kBAAkBrjD,SAAlB,CAA4BwrC,gBAA5B,CAA+C,SAAUH,EAAV,CAAcz8B,OAAd,CAAuB,CAClE,GAAImkC,QAAS,KAAKkR,OAAL,CAAa5Y,GAAG9mC,IAAhB,CAAb,CACA,GAAI,KAAKy/C,OAAL,CAAa1U,YAAb,CAA0B1vC,cAA1B,CAAyCmzC,MAAzC,CAAJ,CAAsD,CAClD,MAAO,MAAKiR,OAAL,CAAa1U,YAAb,CAA0ByD,MAA1B,CAAP,CACH,CACD,GAAI,KAAKiR,OAAL,CAAazU,oBAAb,CAAkC3vC,cAAlC,CAAiDmzC,MAAjD,CAAJ,CAA8D,CAC1D,MAAO,MAAKgR,cAAL,CAAoB,KAAKC,OAAL,CAAazU,oBAAb,CAAkCwD,MAAlC,CAApB,CAAP,CACH,CACD,KAAKmL,SAAL,CAAe7S,EAAf,CAAmB,yBAA2BA,GAAG9mC,IAA9B,CAAqC,IAAxD,EACA,MAAO,EAAP,CACH,CAVD,CAWA;AACA;AACA;AACA8+C,kBAAkBrjD,SAAlB,CAA4BorC,mBAA5B,CAAkD,SAAUC,EAAV,CAAcz8B,OAAd,CAAuB,CACrE,GAAI/K,OAAQ,IAAZ,CACA,GAAIqsC,KAAM,GAAK7E,GAAG6E,GAAlB,CACA,GAAIhrC,OAAQ3F,OAAOiQ,IAAP,CAAY67B,GAAGnmC,KAAf,EAAsB6D,GAAtB,CAA0B,SAAUxE,IAAV,CAAgB,CAAE,MAAOA,MAAO,KAAP,CAAe8mC,GAAGnmC,KAAH,CAASX,IAAT,CAAf,CAAgC,IAAvC,CAA8C,CAA1F,EAA4FgC,IAA5F,CAAiG,GAAjG,CAAZ,CACA,GAAI8kC,GAAG3nC,MAAP,CAAe,CACX,MAAO,IAAMwsC,GAAN,CAAY,GAAZ,CAAkBhrC,KAAlB,CAA0B,IAAjC,CACH,CACD,GAAI2P,UAAWw2B,GAAGx2B,QAAH,CAAY9L,GAAZ,CAAgB,SAAUqC,CAAV,CAAa,CAAE,MAAOA,GAAEmH,KAAF,CAAQ1O,KAAR,CAAP,CAAwB,CAAvD,EAAyD0C,IAAzD,CAA8D,EAA9D,CAAf,CACA,MAAO,IAAM2pC,GAAN,CAAY,GAAZ,CAAkBhrC,KAAlB,CAA0B,GAA1B,CAAgC2P,QAAhC,CAA2C,IAA3C,CAAkDq7B,GAAlD,CAAwD,GAA/D,CACH,CATD,CAUA;AACA;AACA;AACAmT,kBAAkBrjD,SAAlB,CAA4ByrC,mBAA5B,CAAkD,SAAUJ,EAAV,CAAcz8B,OAAd,CAAuB,CACrE;AACA,MAAO,MAAKm1C,cAAL,CAAoB,KAAKC,OAAL,CAAazU,oBAAb,CAAkClE,GAAG9mC,IAArC,CAApB,CAAP,CACH,CAHD,CAIA;;;;;WAMA8+C,kBAAkBrjD,SAAlB,CAA4B+jD,cAA5B,CAA6C,SAAUP,MAAV,CAAkB,CAC3D,GAAI3/C,OAAQ,IAAZ,CACA,GAAI2Y,IAAK,KAAKknC,OAAL,CAAaF,MAAb,CAAT,CACA,GAAIU,QAAS,KAAKP,cAAL,CAAsB,KAAKA,cAAL,CAAoBH,MAApB,CAAtB,CAAoD,IAAjE,CACA,GAAIhiC,MAAJ,CACA,KAAKsiC,aAAL,CAAmBtiD,IAAnB,CAAwB,CAAE2O,IAAK,KAAK6zC,OAAZ,CAAqBE,OAAQ,KAAKD,OAAlC,CAAxB,EACA,KAAKD,OAAL,CAAeR,MAAf,CACA,GAAI,KAAKR,iBAAL,CAAuBpjD,cAAvB,CAAsC4c,EAAtC,CAAJ,CAA+C,CAC3C;AACA;AACAgF,MAAQ,KAAKwhC,iBAAL,CAAuBxmC,EAAvB,CAAR,CACA,KAAKynC,OAAL,CAAe,SAAU1/C,IAAV,CAAgB,CAAE,MAAO2/C,QAASA,OAAO5K,cAAP,CAAsB/0C,IAAtB,CAAT,CAAuCA,IAA9C,CAAqD,CAAtF,CACH,CALD,IAMK,CACD;AACA;AACA;AACA;AACA,GAAI,KAAKq/C,2BAAL,GAAqC92C,2BAA2B7K,KAApE,CAA2E,CACvE,GAAIk9B,KAAM,KAAK0e,OAAL,CAAe,iBAAmB,KAAKA,OAAxB,CAAkC,IAAjD,CAAwD,EAAlE,CACA,KAAKK,SAAL,CAAesF,OAAOhiC,KAAP,CAAa,CAAb,CAAf,CAAgC,qCAAuChF,EAAvC,CAA4C,IAA5C,CAAmD2iB,GAAnF,EACH,CAHD,IAIK,IAAI,KAAK0kB,QAAL,EACL,KAAKD,2BAAL,GAAqC92C,2BAA2Bq2C,OAD/D,CACwE,CACzE,GAAIhkB,KAAM,KAAK0e,OAAL,CAAe,iBAAmB,KAAKA,OAAxB,CAAkC,IAAjD,CAAwD,EAAlE,CACA,KAAKgG,QAAL,CAAc/N,IAAd,CAAmB,qCAAuCt5B,EAAvC,CAA4C,IAA5C,CAAmD2iB,GAAtE,EACH,CACD3d,MAAQgiC,OAAOhiC,KAAf,CACA,KAAKyiC,OAAL,CAAe,SAAU1/C,IAAV,CAAgB,CAAE,MAAOA,KAAP,CAAc,CAA/C,CACH,CACD,GAAIsqB,MAAOrN,MAAMzY,GAAN,CAAU,SAAUkX,IAAV,CAAgB,CAAE,MAAOA,MAAK1N,KAAL,CAAW1O,KAAX,CAAP,CAA2B,CAAvD,EAAyD0C,IAAzD,CAA8D,EAA9D,CAAX,CACA,GAAIqI,SAAU,KAAKk1C,aAAL,CAAmB1jC,GAAnB,EAAd,CACA,KAAK4jC,OAAL,CAAep1C,QAAQuB,GAAvB,CACA,KAAK8zC,OAAL,CAAer1C,QAAQs1C,MAAvB,CACA,MAAOr1B,KAAP,CACH,CAnCD,CAoCAw0B,kBAAkBrjD,SAAlB,CAA4Bk+C,SAA5B,CAAwC,SAAUhV,EAAV,CAAc/4B,GAAd,CAAmB,CACvD,KAAK63B,OAAL,CAAaxmC,IAAb,CAAkB,GAAI8xC,UAAJ,CAAcpK,GAAG52B,UAAjB,CAA6BnC,GAA7B,CAAlB,EACH,CAFD,CAGA,MAAOkzC,kBAAP,CACH,CAzHsC,EAAvC,CA2HA;;;;;;OAOA,GAAIc,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwB5+B,WAAxB,CAAqC4uB,YAArC,CAAmDiQ,kBAAnD,CAAuEjtC,kBAAvE,CAA2F0+B,OAA3F,CAAoG,CAChG,GAAI1+B,qBAAuB,IAAK,EAAhC,CAAmC,CAAEA,mBAAqBrK,2BAA2Bq2C,OAAhD,CAA0D,CAC/F,KAAK59B,WAAL,CAAmBA,WAAnB,CACA,GAAI4uB,YAAJ,CAAkB,CACd,GAAImP,YAAae,iBAAiBD,kBAAjB,CAAjB,CACA,KAAKE,kBAAL,CACIvB,kBAAkBjG,IAAlB,CAAuB3I,YAAvB,CAAqC,MAArC,CAA6CmP,UAA7C,CAAyDnsC,kBAAzD,CAA6E0+B,OAA7E,CADJ,CAEH,CAJD,IAKK,CACD,KAAKyO,kBAAL,CACI,GAAIvB,kBAAJ,CAAsB,EAAtB,CAA0B,IAA1B,CAAgCxY,MAAhC,CAAwCngC,SAAxC,CAAmD+M,kBAAnD,CAAuE0+B,OAAvE,CADJ,CAEH,CACJ,CACDsO,eAAenkD,SAAf,CAAyBoF,KAAzB,CAAiC,SAAUuxB,MAAV,CAAkB7X,GAAlB,CAAuB4oB,mBAAvB,CAA4CjhB,mBAA5C,CAAiE,CAC9F,GAAIihB,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB,KAAtB,CAA8B,CACpE,GAAIjhB,sBAAwB,IAAK,EAAjC,CAAoC,CAAEA,oBAAsB9D,4BAAtB,CAAqD,CAC3F,GAAI4hC,aAAc,KAAKh/B,WAAL,CAAiBngB,KAAjB,CAAuBuxB,MAAvB,CAA+B7X,GAA/B,CAAoC4oB,mBAApC,CAAyDjhB,mBAAzD,CAAlB,CACA,GAAI89B,YAAY59B,MAAZ,CAAmBlmB,MAAvB,CAA+B,CAC3B,MAAO,IAAI+mC,gBAAJ,CAAoB+c,YAAYv9B,SAAhC,CAA2Cu9B,YAAY59B,MAAvD,CAAP,CACH,CACD,MAAOutB,mBAAkBqQ,YAAYv9B,SAA9B,CAAyC,KAAKs9B,kBAA9C,CAAkE79B,mBAAlE,CAAuF,EAAvF,CAA2F,EAA3F,CAAP,CACH,CARD,CASA,MAAO09B,eAAP,CACH,CAxBmC,EAApC,CAyBA,QAASE,iBAAT,CAA0BG,MAA1B,CAAkC,CAC9BA,OAAS,CAACA,QAAU,KAAX,EAAkBpgD,WAAlB,EAAT,CACA,OAAQogD,MAAR,EACI,IAAK,KAAL,CACI,MAAO,IAAIlD,IAAJ,EAAP,CACJ,IAAK,KAAL,CACI,MAAO,IAAIe,IAAJ,EAAP,CACJ,IAAK,QAAL,CACA,IAAK,MAAL,CACI,MAAO,IAAI/C,OAAJ,EAAP,CACJ,IAAK,OAAL,CACA,IAAK,KAAL,CACA,QACI,MAAO,IAAIzD,MAAJ,EAAP,CAXR,CAaH,CAED;;;;;;OAOA,GAAI4I,MAAO,eAAX,CACA,GAAIC,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,EAAuB,CACtB,CACDA,YAAYC,4BAAZ,CAA2C,CACvCpgD,KAAM,8BADiC,CAEvCqgD,WAAYH,IAF2B,CAA3C,CAIAC,YAAYG,UAAZ,CAAyB,CAAEtgD,KAAM,YAAR,CAAsBqgD,WAAYH,IAAlC,CAAzB,CACAC,YAAYI,WAAZ,CAA0B,CAAEvgD,KAAM,aAAR,CAAuBqgD,WAAYH,IAAnC,CAA1B,CACAC,YAAYK,gBAAZ,CAA+B,CAAExgD,KAAM,kBAAR,CAA4BqgD,WAAYH,IAAxC,CAA/B,CACAC,YAAYM,iBAAZ,CAAgC,CAC5BzgD,KAAM,mBADsB,CAE5BqgD,WAAYH,IAFgB,CAAhC,CAIAC,YAAYO,SAAZ,CAAwB,CAAE1gD,KAAM,WAAR,CAAqBqgD,WAAYH,IAAjC,CAAxB,CACAC,YAAYQ,WAAZ,CAA0B,CAAE3gD,KAAM,aAAR,CAAuBqgD,WAAYH,IAAnC,CAA1B,CACAC,YAAYS,+BAAZ,CAA8C,CAC1C5gD,KAAM,kCADoC,CAE1CqgD,WAAYH,IAF8B,CAA9C,CAIAC,YAAYU,wBAAZ,CAAuC,CACnC7gD,KAAM,0BAD6B,CAEnCqgD,WAAYH,IAFuB,CAAvC,CAIAC,YAAYW,gBAAZ,CAA+B,CAAE9gD,KAAM,kBAAR,CAA4BqgD,WAAYH,IAAxC,CAA/B,CACAC,YAAYY,YAAZ,CAA2B,CAAE/gD,KAAM,cAAR,CAAwBqgD,WAAYH,IAApC,CAA3B,CACAC,YAAYa,eAAZ,CAA8B,CAAEhhD,KAAM,iBAAR,CAA2BqgD,WAAYH,IAAvC,CAA9B,CACAC,YAAYc,mBAAZ,CAAkC,CAC9BjhD,KAAM,MADwB,CAE9BqgD,WAAYH,IAFkB,CAAlC,CAIAC,YAAYe,SAAZ,CAAwB,CACpBlhD,KAAM,MADc,CAEpBqgD,WAAYH,IAFQ,CAAxB,CAIAC,YAAYgB,iBAAZ,CAAgC,CAC5BnhD,KAAM,MADsB,CAE5BqgD,WAAYH,IAFgB,CAAhC,CAIAC,YAAYiB,uBAAZ,CAAsC,CAClCphD,KAAM,wBAD4B,CAElCqgD,WAAYH,IAFsB,CAAtC,CAIAC,YAAYkB,MAAZ,CAAqB,CAAErhD,KAAM,QAAR,CAAkBqgD,WAAYH,IAA9B,CAArB,CACAC,YAAYmB,QAAZ,CAAuB,CAAEthD,KAAM,UAAR,CAAoBqgD,WAAYH,IAAhC,CAAvB,CACAC,YAAYoB,QAAZ,CAAuB,CAAEvhD,KAAM,UAAR,CAAoBqgD,WAAYH,IAAhC,CAAvB,CACAC,YAAYqB,gBAAZ,CAA+B,CAAExhD,KAAM,kBAAR,CAA4BqgD,WAAYH,IAAxC,CAA/B,CACAC,YAAYsB,aAAZ,CAA4B,CAAEzhD,KAAM,gBAAR,CAA0BqgD,WAAYH,IAAtC,CAA5B,CACAC,YAAYz5C,iBAAZ,CAAgC,CAC5B1G,KAAM,mBADsB,CAE5BqgD,WAAYH,IAFgB,CAAhC,CAIAC,YAAYx5C,uBAAZ,CAAsC,CAClC3G,KAAM,yBAD4B,CAElCqgD,WAAYH,IAFsB,CAAtC,CAIAC,YAAY73C,eAAZ,CAA8B,CAC1BtI,KAAM,iBADoB,CAE1BqgD,WAAYH,IAFc,CAA9B,CAIAC,YAAYuB,SAAZ,CAAwB,CAAE1hD,KAAM,WAAR,CAAqBqgD,WAAYH,IAAjC,CAAxB,CACAC,YAAYwB,mBAAZ,CAAkC,CAC9B3hD,KAAM,qBADwB,CAE9BqgD,WAAYH,IAFkB,CAAlC,CAIAC,YAAYyB,iBAAZ,CAAgC,CAC5B5hD,KAAM,oBADsB,CAE5BqgD,WAAYH,IAFgB,CAAhC,CAIAC,YAAY0B,WAAZ,CAA0B,CAAE7hD,KAAM,cAAR,CAAwBqgD,WAAYH,IAApC,CAA1B,CACAC,YAAY2B,WAAZ,CAA0B,CAAE9hD,KAAM,cAAR,CAAwBqgD,WAAYH,IAApC,CAA1B,CACAC,YAAY4B,SAAZ,CAAwB,CAAE/hD,KAAM,YAAR,CAAsBqgD,WAAYH,IAAlC,CAAxB,CACAC,YAAY6B,QAAZ,CAAuB,CAAEhiD,KAAM,UAAR,CAAoBqgD,WAAYH,IAAhC,CAAvB,CACAC,YAAY8B,OAAZ,CAAsB,CAAEjiD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAtB,CACAC,YAAY+B,UAAZ,CAAyB,CAAEliD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAzB,CACAC,YAAYgC,SAAZ,CAAwB,CAAEniD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAxB,CACAC,YAAYiC,OAAZ,CAAsB,CAAEpiD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAtB,CACAC,YAAYkC,YAAZ,CAA2B,CAAEriD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA3B,CACAC,YAAYmC,WAAZ,CAA0B,CAAEtiD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA1B,CACAC,YAAYoC,QAAZ,CAAuB,CAAEviD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAvB,CACAC,YAAYqC,YAAZ,CAA2B,CAAExiD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA3B,CACAC,YAAYsC,aAAZ,CAA4B,CAAEziD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA5B,CACAC,YAAYuC,WAAZ,CAA0B,CAAE1iD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA1B,CACAC,YAAYwC,OAAZ,CAAsB,CAAE3iD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAtB,CACAC,YAAYyC,SAAZ,CAAwB,CAAE5iD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAxB,CACAC,YAAY0C,YAAZ,CAA2B,CAAE7iD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA3B,CACAC,YAAY2C,WAAZ,CAA0B,CAAE9iD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAA1B,CACAC,YAAY4C,mBAAZ,CAAkC,CAAE/iD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAAlC,CACA;AACAC,YAAY6C,aAAZ,CAA4B,CACxBhjD,KAAM,eADkB,CAExBqgD,WAAYH,IAFY,CAA5B,CAIA;AACAC,YAAY8C,cAAZ,CAA6B,CACzBjjD,KAAM,iBADmB,CAEzBqgD,WAAYH,IAFa,CAA7B,CAIAC,YAAY+C,sBAAZ,CAAqC,CAAEljD,KAAM,MAAR,CAAgBqgD,WAAYH,IAA5B,CAArC,CACA,MAAOC,YAAP,CACH,CApGgC,EAAjC,CAqGA,QAASgD,wBAAT,CAAiCnvC,SAAjC,CAA4C,CACxC,MAAO,CAAEE,WAAY,CAAEF,UAAWA,SAAb,CAAd,CAAP,CACH,CACD,QAASovC,gCAAT,CAAyCC,SAAzC,CAAoDrvC,SAApD,CAA+D,CAC3D,MAAOmvC,yBAAwBE,UAAUC,wBAAV,CAAmCtvC,SAAnC,CAAxB,CAAP,CACH,CAED;;;;;;OAOA;AACA,GAAIuvC,aAAJ,CACA,CAAC,SAAUA,YAAV,CAAwB,CACrBA,aAAaA,aAAa,OAAb,EAAwB,CAArC,EAA0C,OAA1C,CACH,CAFD,EAEGA,eAAiBA,aAAe,EAAhC,CAFH,EAGA,GAAIC,QAAS,aAAe,UAAY,CACpC,QAASp7C,KAAT,CAAcq7C,SAAd,CAAyB,CACrB,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,KAAKA,SAAL,CAAiBA,SAAjB,CACA,GAAI,CAACA,SAAL,CAAgB,CACZ,KAAKA,SAAL,CAAiB,EAAjB,CACH,CACJ,CACDr7C,KAAK3M,SAAL,CAAeioD,WAAf,CAA6B,SAAUC,QAAV,CAAoB,CAAE,MAAO,MAAKF,SAAL,CAAehmD,OAAf,CAAuBkmD,QAAvB,IAAqC,CAAC,CAA7C,CAAiD,CAApG,CACA,MAAOv7C,KAAP,CACH,CAV2B,EAA5B,CAWA,CAAC,SAAUw7C,eAAV,CAA2B,CACxBA,gBAAgBA,gBAAgB,SAAhB,EAA6B,CAA7C,EAAkD,SAAlD,CACAA,gBAAgBA,gBAAgB,MAAhB,EAA0B,CAA1C,EAA+C,MAA/C,CACAA,gBAAgBA,gBAAgB,QAAhB,EAA4B,CAA5C,EAAiD,QAAjD,CACAA,gBAAgBA,gBAAgB,KAAhB,EAAyB,CAAzC,EAA8C,KAA9C,CACAA,gBAAgBA,gBAAgB,QAAhB,EAA4B,CAA5C,EAAiD,QAAjD,CACAA,gBAAgBA,gBAAgB,UAAhB,EAA8B,CAA9C,EAAmD,UAAnD,CACAA,gBAAgBA,gBAAgB,UAAhB,EAA8B,CAA9C,EAAmD,UAAnD,CACAA,gBAAgBA,gBAAgB,MAAhB,EAA0B,CAA1C,EAA+C,MAA/C,CACH,CATD,EASGrpD,QAAQqpD,eAAR,GAA4BrpD,QAAQqpD,eAAR,CAA0B,EAAtD,CATH,EAUA,GAAIC,aAAc,aAAe,SAAU3xC,MAAV,CAAkB,CAC/C5W,UAAUuoD,WAAV,CAAuB3xC,MAAvB,EACA,QAAS2xC,YAAT,CAAqB7jD,IAArB,CAA2ByjD,SAA3B,CAAsC,CAClC,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,GAAgC,IAA5C,CACAnkD,MAAMU,IAAN,CAAaA,IAAb,CACA,MAAOV,MAAP,CACH,CACDukD,YAAYpoD,SAAZ,CAAsBqoD,SAAtB,CAAkC,SAAU15C,OAAV,CAAmBC,OAAnB,CAA4B,CAC1D,MAAOD,SAAQ25C,gBAAR,CAAyB,IAAzB,CAA+B15C,OAA/B,CAAP,CACH,CAFD,CAGA,MAAOw5C,YAAP,CACH,CAZgC,CAY/BL,MAZ+B,CAAjC,CAaA,GAAIQ,gBAAiB,aAAe,SAAU9xC,MAAV,CAAkB,CAClD5W,UAAU0oD,cAAV,CAA0B9xC,MAA1B,EACA,QAAS8xC,eAAT,CAAwBrnD,KAAxB,CAA+B8mD,SAA/B,CAA0CQ,UAA1C,CAAsD,CAClD,GAAIR,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAIQ,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,IAAb,CAAoB,CACjD,GAAI3kD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,GAAgC,IAA5C,CACAnkD,MAAM3C,KAAN,CAAcA,KAAd,CACA2C,MAAM2kD,UAAN,CAAmBA,UAAnB,CACA,MAAO3kD,MAAP,CACH,CACD0kD,eAAevoD,SAAf,CAAyBqoD,SAAzB,CAAqC,SAAU15C,OAAV,CAAmBC,OAAnB,CAA4B,CAC7D,MAAOD,SAAQ85C,mBAAR,CAA4B,IAA5B,CAAkC75C,OAAlC,CAAP,CACH,CAFD,CAGA,MAAO25C,eAAP,CACH,CAdmC,CAclCR,MAdkC,CAApC,CAeA,GAAIW,WAAY,aAAe,SAAUjyC,MAAV,CAAkB,CAC7C5W,UAAU6oD,SAAV,CAAqBjyC,MAArB,EACA,QAASiyC,UAAT,CAAmBC,EAAnB,CAAuBX,SAAvB,CAAkC,CAC9B,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,GAAgC,IAA5C,CACAnkD,MAAM8kD,EAAN,CAAWA,EAAX,CACA,MAAO9kD,MAAP,CACH,CACD6kD,UAAU1oD,SAAV,CAAoBqoD,SAApB,CAAgC,SAAU15C,OAAV,CAAmBC,OAAnB,CAA4B,CACxD,MAAOD,SAAQi6C,cAAR,CAAuB,IAAvB,CAA6Bh6C,OAA7B,CAAP,CACH,CAFD,CAGA,MAAO85C,UAAP,CACH,CAZ8B,CAY7BX,MAZ6B,CAA/B,CAaA,GAAIc,SAAU,aAAe,SAAUpyC,MAAV,CAAkB,CAC3C5W,UAAUgpD,OAAV,CAAmBpyC,MAAnB,EACA,QAASoyC,QAAT,CAAiBC,SAAjB,CAA4Bd,SAA5B,CAAuC,CACnC,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,GAAgC,IAA5C,CACAnkD,MAAMilD,SAAN,CAAkBA,WAAa,IAA/B,CACA,MAAOjlD,MAAP,CACH,CACDglD,QAAQ7oD,SAAR,CAAkBqoD,SAAlB,CAA8B,SAAU15C,OAAV,CAAmBC,OAAnB,CAA4B,CAAE,MAAOD,SAAQo6C,YAAR,CAAqB,IAArB,CAA2Bn6C,OAA3B,CAAP,CAA6C,CAAzG,CACA,MAAOi6C,QAAP,CACH,CAV4B,CAU3Bd,MAV2B,CAA7B,CAWA,GAAIiB,cAAe,GAAIZ,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwBc,OAAxC,CAAnB,CACA,GAAIC,eAAgB,GAAId,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwBgB,QAAxC,CAApB,CACA,GAAIC,WAAY,GAAIhB,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwBkB,IAAxC,CAAhB,CACA,GAAIC,UAAW,GAAIlB,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwBoB,GAAxC,CAAf,CACA,GAAIC,aAAc,GAAIpB,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwB34B,MAAxC,CAAlB,CACA,GAAIi6B,aAAc,GAAIrB,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwB/2C,MAAxC,CAAlB,CACA,GAAIs4C,eAAgB,GAAItB,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwBv7C,QAAxC,CAApB,CACA,GAAI+8C,WAAY,GAAIvB,YAAJ,CAAgBtpD,QAAQqpD,eAAR,CAAwB3gC,IAAxC,CAAhB,CACA,CAAC,SAAUoiC,cAAV,CAA0B,CACvBA,eAAeA,eAAe,QAAf,EAA2B,CAA1C,EAA+C,QAA/C,CACAA,eAAeA,eAAe,WAAf,EAA8B,CAA7C,EAAkD,WAAlD,CACAA,eAAeA,eAAe,WAAf,EAA8B,CAA7C,EAAkD,WAAlD,CACAA,eAAeA,eAAe,cAAf,EAAiC,CAAhD,EAAqD,cAArD,CACAA,eAAeA,eAAe,OAAf,EAA0B,CAAzC,EAA8C,OAA9C,CACAA,eAAeA,eAAe,MAAf,EAAyB,CAAxC,EAA6C,MAA7C,CACAA,eAAeA,eAAe,QAAf,EAA2B,CAA1C,EAA+C,QAA/C,CACAA,eAAeA,eAAe,UAAf,EAA6B,CAA5C,EAAiD,UAAjD,CACAA,eAAeA,eAAe,QAAf,EAA2B,CAA1C,EAA+C,QAA/C,CACAA,eAAeA,eAAe,KAAf,EAAwB,CAAvC,EAA4C,KAA5C,CACAA,eAAeA,eAAe,IAAf,EAAuB,EAAtC,EAA4C,IAA5C,CACAA,eAAeA,eAAe,YAAf,EAA+B,EAA9C,EAAoD,YAApD,CACAA,eAAeA,eAAe,OAAf,EAA0B,EAAzC,EAA+C,OAA/C,CACAA,eAAeA,eAAe,aAAf,EAAgC,EAA/C,EAAqD,aAArD,CACAA,eAAeA,eAAe,QAAf,EAA2B,EAA1C,EAAgD,QAAhD,CACAA,eAAeA,eAAe,cAAf,EAAiC,EAAhD,EAAsD,cAAtD,CACH,CAjBD,EAiBG9qD,QAAQ8qD,cAAR,GAA2B9qD,QAAQ8qD,cAAR,CAAyB,EAApD,CAjBH,EAkBA,QAASC,qBAAT,CAA8BpY,IAA9B,CAAoCqY,KAApC,CAA2C,CACvC,GAAIrY,MAAQ,IAAR,EAAgBqY,OAAS,IAA7B,CAAmC,CAC/B,MAAOrY,OAAQqY,KAAf,CACH,CACD,MAAOrY,MAAKsY,YAAL,CAAkBD,KAAlB,CAAP,CACH,CACD,QAASE,iBAAT,CAA0BvY,IAA1B,CAAgCqY,KAAhC,CAAuC,CACnC,GAAIjsB,KAAM4T,KAAKhxC,MAAf,CACA,GAAIo9B,MAAQisB,MAAMrpD,MAAlB,CAA0B,CACtB,MAAO,MAAP,CACH,CACD,IAAK,GAAIH,GAAI,CAAb,CAAgBA,EAAIu9B,GAApB,CAAyBv9B,GAAzB,CAA8B,CAC1B,GAAI,CAACmxC,KAAKnxC,CAAL,EAAQypD,YAAR,CAAqBD,MAAMxpD,CAAN,CAArB,CAAL,CAAqC,CACjC,MAAO,MAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CACD,GAAI2pD,YAAa,aAAe,UAAY,CACxC,QAASA,WAAT,CAAoBt4C,IAApB,CAA0BW,UAA1B,CAAsC,CAClC,KAAKX,IAAL,CAAYA,MAAQ,IAApB,CACA,KAAKW,UAAL,CAAkBA,YAAc,IAAhC,CACH,CACD23C,WAAWjqD,SAAX,CAAqBmT,IAArB,CAA4B,SAAU5O,IAAV,CAAgB+N,UAAhB,CAA4B,CACpD,MAAO,IAAI43C,aAAJ,CAAiB,IAAjB,CAAuB3lD,IAAvB,CAA6B,IAA7B,CAAmC+N,UAAnC,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqByP,GAArB,CAA2B,SAAUuB,KAAV,CAAiBW,IAAjB,CAAuBW,UAAvB,CAAmC,CAC1D,MAAO,IAAI63C,YAAJ,CAAgB,IAAhB,CAAsBn5C,KAAtB,CAA6BW,IAA7B,CAAmCW,UAAnC,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBoqD,UAArB,CAAkC,SAAU7lD,IAAV,CAAgB8lD,MAAhB,CAAwB/3C,UAAxB,CAAoC,CAClE,MAAO,IAAIg4C,iBAAJ,CAAqB,IAArB,CAA2B/lD,IAA3B,CAAiC8lD,MAAjC,CAAyC,IAAzC,CAA+C/3C,UAA/C,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBuqD,MAArB,CAA8B,SAAUF,MAAV,CAAkB/3C,UAAlB,CAA8B,CACxD,MAAO,IAAIk4C,mBAAJ,CAAuB,IAAvB,CAA6BH,MAA7B,CAAqC,IAArC,CAA2C/3C,UAA3C,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqByqD,WAArB,CAAmC,SAAUJ,MAAV,CAAkB14C,IAAlB,CAAwBW,UAAxB,CAAoC,CACnE,MAAO,IAAIo4C,gBAAJ,CAAoB,IAApB,CAA0BL,MAA1B,CAAkC14C,IAAlC,CAAwCW,UAAxC,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB2qD,WAArB,CAAmC,SAAUC,QAAV,CAAoBC,SAApB,CAA+Bv4C,UAA/B,CAA2C,CAC1E,GAAIu4C,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,MAAO,IAAIC,gBAAJ,CAAoB,IAApB,CAA0BF,QAA1B,CAAoCC,SAApC,CAA+C,IAA/C,CAAqDv4C,UAArD,CAAP,CACH,CAHD,CAIA23C,WAAWjqD,SAAX,CAAqB+qD,MAArB,CAA8B,SAAUC,GAAV,CAAe14C,UAAf,CAA2B,CACrD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBsB,MAA9C,CAAsD,IAAtD,CAA4DF,GAA5D,CAAiE,IAAjE,CAAuE14C,UAAvE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBmrD,SAArB,CAAiC,SAAUH,GAAV,CAAe14C,UAAf,CAA2B,CACxD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBwB,SAA9C,CAAyD,IAAzD,CAA+DJ,GAA/D,CAAoE,IAApE,CAA0E14C,UAA1E,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBqrD,SAArB,CAAiC,SAAUL,GAAV,CAAe14C,UAAf,CAA2B,CACxD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuB0B,SAA9C,CAAyD,IAAzD,CAA+DN,GAA/D,CAAoE,IAApE,CAA0E14C,UAA1E,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBurD,YAArB,CAAoC,SAAUP,GAAV,CAAe14C,UAAf,CAA2B,CAC3D,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuB4B,YAA9C,CAA4D,IAA5D,CAAkER,GAAlE,CAAuE,IAAvE,CAA6E14C,UAA7E,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqByrD,KAArB,CAA6B,SAAUT,GAAV,CAAe14C,UAAf,CAA2B,CACpD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuB8B,KAA9C,CAAqD,IAArD,CAA2DV,GAA3D,CAAgE,IAAhE,CAAsE14C,UAAtE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB2rD,IAArB,CAA4B,SAAUX,GAAV,CAAe14C,UAAf,CAA2B,CACnD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBgC,IAA9C,CAAoD,IAApD,CAA0DZ,GAA1D,CAA+D,IAA/D,CAAqE14C,UAArE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB6rD,MAArB,CAA8B,SAAUb,GAAV,CAAe14C,UAAf,CAA2B,CACrD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBkC,MAA9C,CAAsD,IAAtD,CAA4Dd,GAA5D,CAAiE,IAAjE,CAAuE14C,UAAvE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB+rD,QAArB,CAAgC,SAAUf,GAAV,CAAe14C,UAAf,CAA2B,CACvD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBoC,QAA9C,CAAwD,IAAxD,CAA8DhB,GAA9D,CAAmE,IAAnE,CAAyE14C,UAAzE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBisD,MAArB,CAA8B,SAAUjB,GAAV,CAAe14C,UAAf,CAA2B,CACrD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBsC,MAA9C,CAAsD,IAAtD,CAA4DlB,GAA5D,CAAiE,IAAjE,CAAuE14C,UAAvE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBmsD,GAArB,CAA2B,SAAUnB,GAAV,CAAe14C,UAAf,CAA2B,CAClD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBwC,GAA9C,CAAmD,IAAnD,CAAyDpB,GAAzD,CAA8D,IAA9D,CAAoE14C,UAApE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBqsD,UAArB,CAAkC,SAAUrB,GAAV,CAAe14C,UAAf,CAA2Bg6C,MAA3B,CAAmC,CACjE,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,IAAT,CAAgB,CACzC,MAAO,IAAIrB,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuB2C,UAA9C,CAA0D,IAA1D,CAAgEvB,GAAhE,CAAqE,IAArE,CAA2E14C,UAA3E,CAAuFg6C,MAAvF,CAAP,CACH,CAHD,CAIArC,WAAWjqD,SAAX,CAAqBwsD,EAArB,CAA0B,SAAUxB,GAAV,CAAe14C,UAAf,CAA2B,CACjD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuB6C,EAA9C,CAAkD,IAAlD,CAAwDzB,GAAxD,CAA6D,IAA7D,CAAmE14C,UAAnE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB0sD,KAArB,CAA6B,SAAU1B,GAAV,CAAe14C,UAAf,CAA2B,CACpD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuB+C,KAA9C,CAAqD,IAArD,CAA2D3B,GAA3D,CAAgE,IAAhE,CAAsE14C,UAAtE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB4sD,WAArB,CAAmC,SAAU5B,GAAV,CAAe14C,UAAf,CAA2B,CAC1D,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBiD,WAA9C,CAA2D,IAA3D,CAAiE7B,GAAjE,CAAsE,IAAtE,CAA4E14C,UAA5E,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqB8sD,MAArB,CAA8B,SAAU9B,GAAV,CAAe14C,UAAf,CAA2B,CACrD,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBmD,MAA9C,CAAsD,IAAtD,CAA4D/B,GAA5D,CAAiE,IAAjE,CAAuE14C,UAAvE,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBgtD,YAArB,CAAoC,SAAUhC,GAAV,CAAe14C,UAAf,CAA2B,CAC3D,MAAO,IAAI24C,mBAAJ,CAAuBnsD,QAAQ8qD,cAAR,CAAuBqD,YAA9C,CAA4D,IAA5D,CAAkEjC,GAAlE,CAAuE,IAAvE,CAA6E14C,UAA7E,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBktD,OAArB,CAA+B,SAAU56C,UAAV,CAAsB,CACjD;AACA;AACA,MAAO,MAAKy4C,MAAL,CAAYoC,eAAZ,CAA6B76C,UAA7B,CAAP,CACH,CAJD,CAKA23C,WAAWjqD,SAAX,CAAqBotD,IAArB,CAA4B,SAAUz7C,IAAV,CAAgBW,UAAhB,CAA4B,CACpD,MAAO,IAAI+6C,SAAJ,CAAa,IAAb,CAAmB17C,IAAnB,CAAyBW,UAAzB,CAAP,CACH,CAFD,CAGA23C,WAAWjqD,SAAX,CAAqBstD,MAArB,CAA8B,UAAY,CAAE,MAAO,IAAIC,oBAAJ,CAAwB,IAAxB,CAA8B,IAA9B,CAAP,CAA6C,CAAzF,CACA,MAAOtD,WAAP,CACH,CAnF+B,EAAhC,CAoFA,CAAC,SAAUuD,UAAV,CAAsB,CACnBA,WAAWA,WAAW,MAAX,EAAqB,CAAhC,EAAqC,MAArC,CACAA,WAAWA,WAAW,OAAX,EAAsB,CAAjC,EAAsC,OAAtC,CACAA,WAAWA,WAAW,YAAX,EAA2B,CAAtC,EAA2C,YAA3C,CACAA,WAAWA,WAAW,YAAX,EAA2B,CAAtC,EAA2C,YAA3C,CACH,CALD,EAKG1uD,QAAQ0uD,UAAR,GAAuB1uD,QAAQ0uD,UAAR,CAAqB,EAA5C,CALH,EAMA,GAAIC,aAAc,aAAe,SAAUh3C,MAAV,CAAkB,CAC/C5W,UAAU4tD,WAAV,CAAuBh3C,MAAvB,EACA,QAASg3C,YAAT,CAAqBlpD,IAArB,CAA2BoN,IAA3B,CAAiCW,UAAjC,CAA6C,CACzC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACA,GAAI,MAAO/N,KAAP,GAAgB,QAApB,CAA8B,CAC1BV,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM6pD,OAAN,CAAgB,IAAhB,CACH,CAHD,IAIK,CACD7pD,MAAMU,IAAN,CAAa,IAAb,CACAV,MAAM6pD,OAAN,CAAgBnpD,IAAhB,CACH,CACD,MAAOV,MAAP,CACH,CACD4pD,YAAYztD,SAAZ,CAAsB+pD,YAAtB,CAAqC,SAAUxoD,CAAV,CAAa,CAC9C,MAAOA,aAAaksD,YAAb,EAA4B,KAAKlpD,IAAL,GAAchD,EAAEgD,IAA5C,EAAoD,KAAKmpD,OAAL,GAAiBnsD,EAAEmsD,OAA9E,CACH,CAFD,CAGAD,YAAYztD,SAAZ,CAAsB2tD,UAAtB,CAAmC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAhE,CACAF,YAAYztD,SAAZ,CAAsB4tD,eAAtB,CAAwC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAChE,MAAOD,SAAQk/C,gBAAR,CAAyB,IAAzB,CAA+Bj/C,OAA/B,CAAP,CACH,CAFD,CAGA6+C,YAAYztD,SAAZ,CAAsB4I,GAAtB,CAA4B,SAAU1H,KAAV,CAAiB,CACzC,GAAI,CAAC,KAAKqD,IAAV,CAAgB,CACZ,KAAM,IAAItC,MAAJ,CAAU,qBAAuB,KAAKyrD,OAA5B,CAAsC,0BAAhD,CAAN,CACH,CACD,MAAO,IAAII,aAAJ,CAAiB,KAAKvpD,IAAtB,CAA4BrD,KAA5B,CAAmC,IAAnC,CAAyC,KAAKoR,UAA9C,CAAP,CACH,CALD,CAMA,MAAOm7C,YAAP,CACH,CA5BgC,CA4B/BxD,UA5B+B,CAAjC,CA6BA,GAAI8D,YAAa,aAAe,SAAUt3C,MAAV,CAAkB,CAC9C5W,UAAUkuD,UAAV,CAAsBt3C,MAAtB,EACA,QAASs3C,WAAT,CAAoB3yB,IAApB,CAA0BzpB,IAA1B,CAAgCW,UAAhC,CAA4C,CACxC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMu3B,IAAN,CAAaA,IAAb,CACA,MAAOv3B,MAAP,CACH,CACDkqD,WAAW/tD,SAAX,CAAqB4tD,eAArB,CAAuC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAC/D,MAAOD,SAAQq/C,eAAR,CAAwB,IAAxB,CAA8Bp/C,OAA9B,CAAP,CACH,CAFD,CAGAm/C,WAAW/tD,SAAX,CAAqB+pD,YAArB,CAAoC,SAAUxoD,CAAV,CAAa,CAC7C,MAAOA,aAAawsD,WAAb,EAA2BxsD,EAAE65B,IAAF,CAAO2uB,YAAP,CAAoB,KAAK3uB,IAAzB,CAAlC,CACH,CAFD,CAGA2yB,WAAW/tD,SAAX,CAAqB2tD,UAArB,CAAkC,UAAY,CAAE,MAAO,MAAKvyB,IAAL,CAAUuyB,UAAV,EAAP,CAAgC,CAAhF,CACA,MAAOI,WAAP,CACH,CAf+B,CAe9B9D,UAf8B,CAAhC,CAgBA,GAAIgE,iBAAkB,aAAe,SAAUx3C,MAAV,CAAkB,CACnD5W,UAAUouD,eAAV,CAA2Bx3C,MAA3B,EACA,QAASw3C,gBAAT,CAAyBhuC,IAAzB,CAA+BtO,IAA/B,CAAqCW,UAArC,CAAiD,CAC7C,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMoc,IAAN,CAAaA,IAAb,CACA,MAAOpc,MAAP,CACH,CACDoqD,gBAAgBjuD,SAAhB,CAA0B+pD,YAA1B,CAAyC,SAAUxoD,CAAV,CAAa,CAClD,MAAOA,aAAa0sD,gBAAb,EAAgC,KAAKhuC,IAAL,GAAc1e,EAAE0e,IAAvD,CACH,CAFD,CAGAguC,gBAAgBjuD,SAAhB,CAA0B2tD,UAA1B,CAAuC,UAAY,CAAE,MAAO,MAAP,CAAe,CAApE,CACAM,gBAAgBjuD,SAAhB,CAA0B4tD,eAA1B,CAA4C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACpE,MAAOD,SAAQu/C,oBAAR,CAA6B,IAA7B,CAAmCt/C,OAAnC,CAAP,CACH,CAFD,CAGA,MAAOq/C,gBAAP,CACH,CAfoC,CAenChE,UAfmC,CAArC,CAgBA,GAAI6D,cAAe,aAAe,SAAUr3C,MAAV,CAAkB,CAChD5W,UAAUiuD,YAAV,CAAwBr3C,MAAxB,EACA,QAASq3C,aAAT,CAAsBvpD,IAAtB,CAA4BrD,KAA5B,CAAmCyQ,IAAnC,CAAyCW,UAAzC,CAAqD,CACjD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,MAAQzQ,MAAMyQ,IAAhC,CAAsCW,UAAtC,GAAqD,IAAjE,CACAzO,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDiqD,aAAa9tD,SAAb,CAAuB+pD,YAAvB,CAAsC,SAAUxoD,CAAV,CAAa,CAC/C,MAAOA,aAAausD,aAAb,EAA6B,KAAKvpD,IAAL,GAAchD,EAAEgD,IAA7C,EAAqD,KAAKrD,KAAL,CAAW6oD,YAAX,CAAwBxoD,EAAEL,KAA1B,CAA5D,CACH,CAFD,CAGA4sD,aAAa9tD,SAAb,CAAuB2tD,UAAvB,CAAoC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAjE,CACAG,aAAa9tD,SAAb,CAAuB4tD,eAAvB,CAAyC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACjE,MAAOD,SAAQw/C,iBAAR,CAA0B,IAA1B,CAAgCv/C,OAAhC,CAAP,CACH,CAFD,CAGAk/C,aAAa9tD,SAAb,CAAuBouD,UAAvB,CAAoC,SAAUz8C,IAAV,CAAgBq2C,SAAhB,CAA2B,CAC3D,MAAO,IAAIqG,eAAJ,CAAmB,KAAK9pD,IAAxB,CAA8B,KAAKrD,KAAnC,CAA0CyQ,IAA1C,CAAgDq2C,SAAhD,CAA2D,KAAK11C,UAAhE,CAAP,CACH,CAFD,CAGA,MAAOw7C,aAAP,CACH,CAnBiC,CAmBhC7D,UAnBgC,CAAlC,CAoBA,GAAIqE,cAAe,aAAe,SAAU73C,MAAV,CAAkB,CAChD5W,UAAUyuD,YAAV,CAAwB73C,MAAxB,EACA,QAAS63C,aAAT,CAAsBj6B,QAAtB,CAAgCrjB,KAAhC,CAAuC9P,KAAvC,CAA8CyQ,IAA9C,CAAoDW,UAApD,CAAgE,CAC5D,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,MAAQzQ,MAAMyQ,IAAhC,CAAsCW,UAAtC,GAAqD,IAAjE,CACAzO,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMmN,KAAN,CAAcA,KAAd,CACAnN,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDyqD,aAAatuD,SAAb,CAAuB+pD,YAAvB,CAAsC,SAAUxoD,CAAV,CAAa,CAC/C,MAAOA,aAAa+sD,aAAb,EAA6B,KAAKj6B,QAAL,CAAc01B,YAAd,CAA2BxoD,EAAE8yB,QAA7B,CAA7B,EACH,KAAKrjB,KAAL,CAAW+4C,YAAX,CAAwBxoD,EAAEyP,KAA1B,CADG,EACiC,KAAK9P,KAAL,CAAW6oD,YAAX,CAAwBxoD,EAAEL,KAA1B,CADxC,CAEH,CAHD,CAIAotD,aAAatuD,SAAb,CAAuB2tD,UAAvB,CAAoC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAjE,CACAW,aAAatuD,SAAb,CAAuB4tD,eAAvB,CAAyC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACjE,MAAOD,SAAQ4/C,iBAAR,CAA0B,IAA1B,CAAgC3/C,OAAhC,CAAP,CACH,CAFD,CAGA,MAAO0/C,aAAP,CACH,CAlBiC,CAkBhCrE,UAlBgC,CAAlC,CAmBA,GAAIuE,eAAgB,aAAe,SAAU/3C,MAAV,CAAkB,CACjD5W,UAAU2uD,aAAV,CAAyB/3C,MAAzB,EACA,QAAS+3C,cAAT,CAAuBn6B,QAAvB,CAAiC9vB,IAAjC,CAAuCrD,KAAvC,CAA8CyQ,IAA9C,CAAoDW,UAApD,CAAgE,CAC5D,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,MAAQzQ,MAAMyQ,IAAhC,CAAsCW,UAAtC,GAAqD,IAAjE,CACAzO,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACD2qD,cAAcxuD,SAAd,CAAwB+pD,YAAxB,CAAuC,SAAUxoD,CAAV,CAAa,CAChD,MAAOA,aAAaitD,cAAb,EAA8B,KAAKn6B,QAAL,CAAc01B,YAAd,CAA2BxoD,EAAE8yB,QAA7B,CAA9B,EACH,KAAK9vB,IAAL,GAAchD,EAAEgD,IADb,EACqB,KAAKrD,KAAL,CAAW6oD,YAAX,CAAwBxoD,EAAEL,KAA1B,CAD5B,CAEH,CAHD,CAIAstD,cAAcxuD,SAAd,CAAwB2tD,UAAxB,CAAqC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAlE,CACAa,cAAcxuD,SAAd,CAAwB4tD,eAAxB,CAA0C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAClE,MAAOD,SAAQ8/C,kBAAR,CAA2B,IAA3B,CAAiC7/C,OAAjC,CAAP,CACH,CAFD,CAGA,MAAO4/C,cAAP,CACH,CAlBkC,CAkBjCvE,UAlBiC,CAAnC,CAmBA,CAAC,SAAUyE,aAAV,CAAyB,CACtBA,cAAcA,cAAc,aAAd,EAA+B,CAA7C,EAAkD,aAAlD,CACAA,cAAcA,cAAc,qBAAd,EAAuC,CAArD,EAA0D,qBAA1D,CACAA,cAAcA,cAAc,MAAd,EAAwB,CAAtC,EAA2C,MAA3C,CACH,CAJD,EAIG5vD,QAAQ4vD,aAAR,GAA0B5vD,QAAQ4vD,aAAR,CAAwB,EAAlD,CAJH,EAKA,GAAIpE,kBAAmB,aAAe,SAAU7zC,MAAV,CAAkB,CACpD5W,UAAUyqD,gBAAV,CAA4B7zC,MAA5B,EACA,QAAS6zC,iBAAT,CAA0Bj2B,QAA1B,CAAoCs6B,MAApC,CAA4C3iD,IAA5C,CAAkD2F,IAAlD,CAAwDW,UAAxD,CAAoE,CAChE,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMmI,IAAN,CAAaA,IAAb,CACA,GAAI,MAAO2iD,OAAP,GAAkB,QAAtB,CAAgC,CAC5B9qD,MAAMU,IAAN,CAAaoqD,MAAb,CACA9qD,MAAM6pD,OAAN,CAAgB,IAAhB,CACH,CAHD,IAIK,CACD7pD,MAAMU,IAAN,CAAa,IAAb,CACAV,MAAM6pD,OAAN,CAAgBiB,MAAhB,CACH,CACD,MAAO9qD,MAAP,CACH,CACDymD,iBAAiBtqD,SAAjB,CAA2B+pD,YAA3B,CAA0C,SAAUxoD,CAAV,CAAa,CACnD,MAAOA,aAAa+oD,iBAAb,EAAiC,KAAKj2B,QAAL,CAAc01B,YAAd,CAA2BxoD,EAAE8yB,QAA7B,CAAjC,EACH,KAAK9vB,IAAL,GAAchD,EAAEgD,IADb,EACqB,KAAKmpD,OAAL,GAAiBnsD,EAAEmsD,OADxC,EACmD1D,iBAAiB,KAAKh+C,IAAtB,CAA4BzK,EAAEyK,IAA9B,CAD1D,CAEH,CAHD,CAIAs+C,iBAAiBtqD,SAAjB,CAA2B2tD,UAA3B,CAAwC,UAAY,CAAE,MAAO,MAAP,CAAe,CAArE,CACArD,iBAAiBtqD,SAAjB,CAA2B4tD,eAA3B,CAA6C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACrE,MAAOD,SAAQigD,qBAAR,CAA8B,IAA9B,CAAoChgD,OAApC,CAAP,CACH,CAFD,CAGA,MAAO07C,iBAAP,CACH,CAzBqC,CAyBpCL,UAzBoC,CAAtC,CA0BA,GAAIO,oBAAqB,aAAe,SAAU/zC,MAAV,CAAkB,CACtD5W,UAAU2qD,kBAAV,CAA8B/zC,MAA9B,EACA,QAAS+zC,mBAAT,CAA4BqE,EAA5B,CAAgC7iD,IAAhC,CAAsC2F,IAAtC,CAA4CW,UAA5C,CAAwD,CACpD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMgrD,EAAN,CAAWA,EAAX,CACAhrD,MAAMmI,IAAN,CAAaA,IAAb,CACA,MAAOnI,MAAP,CACH,CACD2mD,mBAAmBxqD,SAAnB,CAA6B+pD,YAA7B,CAA4C,SAAUxoD,CAAV,CAAa,CACrD,MAAOA,aAAaipD,mBAAb,EAAmC,KAAKqE,EAAL,CAAQ9E,YAAR,CAAqBxoD,EAAEstD,EAAvB,CAAnC,EACH7E,iBAAiB,KAAKh+C,IAAtB,CAA4BzK,EAAEyK,IAA9B,CADJ,CAEH,CAHD,CAIAw+C,mBAAmBxqD,SAAnB,CAA6B2tD,UAA7B,CAA0C,UAAY,CAAE,MAAO,MAAP,CAAe,CAAvE,CACAnD,mBAAmBxqD,SAAnB,CAA6B4tD,eAA7B,CAA+C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACvE,MAAOD,SAAQmgD,uBAAR,CAAgC,IAAhC,CAAsClgD,OAAtC,CAAP,CACH,CAFD,CAGA,MAAO47C,mBAAP,CACH,CAjBuC,CAiBtCP,UAjBsC,CAAxC,CAkBA,GAAIS,iBAAkB,aAAe,SAAUj0C,MAAV,CAAkB,CACnD5W,UAAU6qD,eAAV,CAA2Bj0C,MAA3B,EACA,QAASi0C,gBAAT,CAAyBqE,SAAzB,CAAoC/iD,IAApC,CAA0C2F,IAA1C,CAAgDW,UAAhD,CAA4D,CACxD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMkrD,SAAN,CAAkBA,SAAlB,CACAlrD,MAAMmI,IAAN,CAAaA,IAAb,CACA,MAAOnI,MAAP,CACH,CACD6mD,gBAAgB1qD,SAAhB,CAA0B+pD,YAA1B,CAAyC,SAAUxoD,CAAV,CAAa,CAClD,MAAOA,aAAampD,gBAAb,EAAgC,KAAKqE,SAAL,CAAehF,YAAf,CAA4BxoD,EAAEwtD,SAA9B,CAAhC,EACH/E,iBAAiB,KAAKh+C,IAAtB,CAA4BzK,EAAEyK,IAA9B,CADJ,CAEH,CAHD,CAIA0+C,gBAAgB1qD,SAAhB,CAA0B2tD,UAA1B,CAAuC,UAAY,CAAE,MAAO,MAAP,CAAe,CAApE,CACAjD,gBAAgB1qD,SAAhB,CAA0B4tD,eAA1B,CAA4C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACpE,MAAOD,SAAQqgD,oBAAR,CAA6B,IAA7B,CAAmCpgD,OAAnC,CAAP,CACH,CAFD,CAGA,MAAO87C,gBAAP,CACH,CAjBoC,CAiBnCT,UAjBmC,CAArC,CAkBA,GAAIgF,aAAc,aAAe,SAAUx4C,MAAV,CAAkB,CAC/C5W,UAAUovD,WAAV,CAAuBx4C,MAAvB,EACA,QAASw4C,YAAT,CAAqB/tD,KAArB,CAA4ByQ,IAA5B,CAAkCW,UAAlC,CAA8C,CAC1C,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDorD,YAAYjvD,SAAZ,CAAsB+pD,YAAtB,CAAqC,SAAUxoD,CAAV,CAAa,CAC9C,MAAOA,aAAa0tD,YAAb,EAA4B,KAAK/tD,KAAL,GAAeK,EAAEL,KAApD,CACH,CAFD,CAGA+tD,YAAYjvD,SAAZ,CAAsB2tD,UAAtB,CAAmC,UAAY,CAAE,MAAO,KAAP,CAAc,CAA/D,CACAsB,YAAYjvD,SAAZ,CAAsB4tD,eAAtB,CAAwC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAChE,MAAOD,SAAQugD,gBAAR,CAAyB,IAAzB,CAA+BtgD,OAA/B,CAAP,CACH,CAFD,CAGA,MAAOqgD,YAAP,CACH,CAfgC,CAe/BhF,UAf+B,CAAjC,CAgBA,GAAIkF,cAAe,aAAe,SAAU14C,MAAV,CAAkB,CAChD5W,UAAUsvD,YAAV,CAAwB14C,MAAxB,EACA,QAAS04C,aAAT,CAAsBjuD,KAAtB,CAA6ByQ,IAA7B,CAAmC62C,UAAnC,CAA+Cl2C,UAA/C,CAA2D,CACvD,GAAIk2C,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,IAAb,CAAoB,CACjD,GAAI3kD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAM3C,KAAN,CAAcA,KAAd,CACA2C,MAAM2kD,UAAN,CAAmBA,UAAnB,CACA,MAAO3kD,MAAP,CACH,CACDsrD,aAAanvD,SAAb,CAAuB+pD,YAAvB,CAAsC,SAAUxoD,CAAV,CAAa,CAC/C,MAAOA,aAAa4tD,aAAb,EAA6B,KAAKjuD,KAAL,CAAWqD,IAAX,GAAoBhD,EAAEL,KAAF,CAAQqD,IAAzD,EACH,KAAKrD,KAAL,CAAW0jD,UAAX,GAA0BrjD,EAAEL,KAAF,CAAQ0jD,UAD/B,EAC6C,KAAK1jD,KAAL,CAAWkuD,OAAX,GAAuB7tD,EAAEL,KAAF,CAAQkuD,OADnF,CAEH,CAHD,CAIAD,aAAanvD,SAAb,CAAuB2tD,UAAvB,CAAoC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAjE,CACAwB,aAAanvD,SAAb,CAAuB4tD,eAAvB,CAAyC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACjE,MAAOD,SAAQ0gD,iBAAR,CAA0B,IAA1B,CAAgCzgD,OAAhC,CAAP,CACH,CAFD,CAGA,MAAOugD,aAAP,CACH,CAlBiC,CAkBhClF,UAlBgC,CAAlC,CAmBA,GAAIqF,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2B1K,UAA3B,CAAuCrgD,IAAvC,CAA6C6qD,OAA7C,CAAsD,CAClD,KAAKxK,UAAL,CAAkBA,UAAlB,CACA,KAAKrgD,IAAL,CAAYA,IAAZ,CACA,KAAK6qD,OAAL,CAAeA,OAAf,CACH,CACD,MAAOE,kBAAP,CACH,CAPsC,EAAvC,CAQA,GAAIxE,iBAAkB,aAAe,SAAUr0C,MAAV,CAAkB,CACnD5W,UAAUirD,eAAV,CAA2Br0C,MAA3B,EACA,QAASq0C,gBAAT,CAAyBlgC,SAAzB,CAAoCggC,QAApC,CAA8CC,SAA9C,CAAyDl5C,IAAzD,CAA+DW,UAA/D,CAA2E,CACvE,GAAIu4C,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAIhnD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,MAAQi5C,SAASj5C,IAAnC,CAAyCW,UAAzC,GAAwD,IAApE,CACAzO,MAAM+mB,SAAN,CAAkBA,SAAlB,CACA/mB,MAAMgnD,SAAN,CAAkBA,SAAlB,CACAhnD,MAAM+mD,QAAN,CAAiBA,QAAjB,CACA,MAAO/mD,MAAP,CACH,CACDinD,gBAAgB9qD,SAAhB,CAA0B+pD,YAA1B,CAAyC,SAAUxoD,CAAV,CAAa,CAClD,MAAOA,aAAaupD,gBAAb,EAAgC,KAAKlgC,SAAL,CAAem/B,YAAf,CAA4BxoD,EAAEqpB,SAA9B,CAAhC,EACH,KAAKggC,QAAL,CAAcb,YAAd,CAA2BxoD,EAAEqpD,QAA7B,CADG,EACuCf,qBAAqB,KAAKgB,SAA1B,CAAqCtpD,EAAEspD,SAAvC,CAD9C,CAEH,CAHD,CAIAC,gBAAgB9qD,SAAhB,CAA0B2tD,UAA1B,CAAuC,UAAY,CAAE,MAAO,MAAP,CAAe,CAApE,CACA7C,gBAAgB9qD,SAAhB,CAA0B4tD,eAA1B,CAA4C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACpE,MAAOD,SAAQ4gD,oBAAR,CAA6B,IAA7B,CAAmC3gD,OAAnC,CAAP,CACH,CAFD,CAGA,MAAOk8C,gBAAP,CACH,CAnBoC,CAmBnCb,UAnBmC,CAArC,CAoBA,GAAIuF,SAAU,aAAe,SAAU/4C,MAAV,CAAkB,CAC3C5W,UAAU2vD,OAAV,CAAmB/4C,MAAnB,EACA,QAAS+4C,QAAT,CAAiB5kC,SAAjB,CAA4BtY,UAA5B,CAAwC,CACpC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB0oD,SAAlB,CAA6B92C,UAA7B,GAA4C,IAAxD,CACAzO,MAAM+mB,SAAN,CAAkBA,SAAlB,CACA,MAAO/mB,MAAP,CACH,CACD2rD,QAAQxvD,SAAR,CAAkB+pD,YAAlB,CAAiC,SAAUxoD,CAAV,CAAa,CAC1C,MAAOA,aAAaiuD,QAAb,EAAwB,KAAK5kC,SAAL,CAAem/B,YAAf,CAA4BxoD,EAAEqpB,SAA9B,CAA/B,CACH,CAFD,CAGA4kC,QAAQxvD,SAAR,CAAkB2tD,UAAlB,CAA+B,UAAY,CAAE,MAAO,MAAP,CAAe,CAA5D,CACA6B,QAAQxvD,SAAR,CAAkB4tD,eAAlB,CAAoC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAC5D,MAAOD,SAAQ8gD,YAAR,CAAqB,IAArB,CAA2B7gD,OAA3B,CAAP,CACH,CAFD,CAGA,MAAO4gD,QAAP,CACH,CAf4B,CAe3BvF,UAf2B,CAA7B,CAgBA,GAAIyF,eAAgB,aAAe,SAAUj5C,MAAV,CAAkB,CACjD5W,UAAU6vD,aAAV,CAAyBj5C,MAAzB,EACA,QAASi5C,cAAT,CAAuB9kC,SAAvB,CAAkCtY,UAAlC,CAA8C,CAC1C,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBkqB,UAAUjZ,IAA5B,CAAkCW,UAAlC,GAAiD,IAA7D,CACAzO,MAAM+mB,SAAN,CAAkBA,SAAlB,CACA,MAAO/mB,MAAP,CACH,CACD6rD,cAAc1vD,SAAd,CAAwB+pD,YAAxB,CAAuC,SAAUxoD,CAAV,CAAa,CAChD,MAAOA,aAAamuD,cAAb,EAA8B,KAAK9kC,SAAL,CAAem/B,YAAf,CAA4BxoD,EAAEqpB,SAA9B,CAArC,CACH,CAFD,CAGA8kC,cAAc1vD,SAAd,CAAwB2tD,UAAxB,CAAqC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAlE,CACA+B,cAAc1vD,SAAd,CAAwB4tD,eAAxB,CAA0C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAClE,MAAOD,SAAQghD,sBAAR,CAA+B,IAA/B,CAAqC/gD,OAArC,CAAP,CACH,CAFD,CAGA,MAAO8gD,cAAP,CACH,CAfkC,CAejCzF,UAfiC,CAAnC,CAgBA,GAAIoD,UAAW,aAAe,SAAU52C,MAAV,CAAkB,CAC5C5W,UAAUwtD,QAAV,CAAoB52C,MAApB,EACA,QAAS42C,SAAT,CAAkBnsD,KAAlB,CAAyByQ,IAAzB,CAA+BW,UAA/B,CAA2C,CACvC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDwpD,SAASrtD,SAAT,CAAmB+pD,YAAnB,CAAkC,SAAUxoD,CAAV,CAAa,CAC3C,MAAOA,aAAa8rD,SAAb,EAAyB,KAAKnsD,KAAL,CAAW6oD,YAAX,CAAwBxoD,EAAEL,KAA1B,CAAhC,CACH,CAFD,CAGAmsD,SAASrtD,SAAT,CAAmB2tD,UAAnB,CAAgC,UAAY,CAAE,MAAO,MAAP,CAAe,CAA7D,CACAN,SAASrtD,SAAT,CAAmB4tD,eAAnB,CAAqC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAC7D,MAAOD,SAAQihD,aAAR,CAAsB,IAAtB,CAA4BhhD,OAA5B,CAAP,CACH,CAFD,CAGA,MAAOy+C,SAAP,CACH,CAf6B,CAe5BpD,UAf4B,CAA9B,CAgBA,GAAI4F,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBtrD,IAAjB,CAAuBoN,IAAvB,CAA6B,CACzB,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,IAAP,CAAc,CACrC,KAAKpN,IAAL,CAAYA,IAAZ,CACA,KAAKoN,IAAL,CAAYA,IAAZ,CACH,CACDk+C,QAAQ7vD,SAAR,CAAkB+pD,YAAlB,CAAiC,SAAU+F,KAAV,CAAiB,CAAE,MAAO,MAAKvrD,IAAL,GAAcurD,MAAMvrD,IAA3B,CAAkC,CAAtF,CACA,MAAOsrD,QAAP,CACH,CAR4B,EAA7B,CASA,GAAIE,cAAe,aAAe,SAAUt5C,MAAV,CAAkB,CAChD5W,UAAUkwD,YAAV,CAAwBt5C,MAAxB,EACA,QAASs5C,aAAT,CAAsB1F,MAAtB,CAA8B2F,UAA9B,CAA0Cr+C,IAA1C,CAAgDW,UAAhD,CAA4D/N,IAA5D,CAAkE,CAC9D,GAAIV,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMwmD,MAAN,CAAeA,MAAf,CACAxmD,MAAMmsD,UAAN,CAAmBA,UAAnB,CACAnsD,MAAMU,IAAN,CAAaA,IAAb,CACA,MAAOV,MAAP,CACH,CACDksD,aAAa/vD,SAAb,CAAuB+pD,YAAvB,CAAsC,SAAUxoD,CAAV,CAAa,CAC/C,MAAOA,aAAawuD,aAAb,EAA6B/F,iBAAiB,KAAKK,MAAtB,CAA8B9oD,EAAE8oD,MAAhC,CAA7B,EACHL,iBAAiB,KAAKgG,UAAtB,CAAkCzuD,EAAEyuD,UAApC,CADJ,CAEH,CAHD,CAIAD,aAAa/vD,SAAb,CAAuB2tD,UAAvB,CAAoC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAjE,CACAoC,aAAa/vD,SAAb,CAAuB4tD,eAAvB,CAAyC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACjE,MAAOD,SAAQshD,iBAAR,CAA0B,IAA1B,CAAgCrhD,OAAhC,CAAP,CACH,CAFD,CAGAmhD,aAAa/vD,SAAb,CAAuBouD,UAAvB,CAAoC,SAAU7pD,IAAV,CAAgByjD,SAAhB,CAA2B,CAC3D,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,MAAO,IAAIkI,oBAAJ,CAAwB3rD,IAAxB,CAA8B,KAAK8lD,MAAnC,CAA2C,KAAK2F,UAAhD,CAA4D,KAAKr+C,IAAjE,CAAuEq2C,SAAvE,CAAkF,KAAK11C,UAAvF,CAAP,CACH,CAHD,CAIA,MAAOy9C,aAAP,CACH,CAtBiC,CAsBhC9F,UAtBgC,CAAlC,CAuBA,GAAIgB,oBAAqB,aAAe,SAAUx0C,MAAV,CAAkB,CACtD5W,UAAUorD,kBAAV,CAA8Bx0C,MAA9B,EACA,QAASw0C,mBAAT,CAA4BjwB,QAA5B,CAAsCm1B,GAAtC,CAA2CnF,GAA3C,CAAgDr5C,IAAhD,CAAsDW,UAAtD,CAAkEg6C,MAAlE,CAA0E,CACtE,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,IAAT,CAAgB,CACzC,GAAIzoD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,MAAQw+C,IAAIx+C,IAA9B,CAAoCW,UAApC,GAAmD,IAA/D,CACAzO,MAAMm3B,QAAN,CAAiBA,QAAjB,CACAn3B,MAAMmnD,GAAN,CAAYA,GAAZ,CACAnnD,MAAMyoD,MAAN,CAAeA,MAAf,CACAzoD,MAAMssD,GAAN,CAAYA,GAAZ,CACA,MAAOtsD,MAAP,CACH,CACDonD,mBAAmBjrD,SAAnB,CAA6B+pD,YAA7B,CAA4C,SAAUxoD,CAAV,CAAa,CACrD,MAAOA,aAAa0pD,mBAAb,EAAmC,KAAKjwB,QAAL,GAAkBz5B,EAAEy5B,QAAvD,EACH,KAAKm1B,GAAL,CAASpG,YAAT,CAAsBxoD,EAAE4uD,GAAxB,CADG,EAC6B,KAAKnF,GAAL,CAASjB,YAAT,CAAsBxoD,EAAEypD,GAAxB,CADpC,CAEH,CAHD,CAIAC,mBAAmBjrD,SAAnB,CAA6B2tD,UAA7B,CAA0C,UAAY,CAAE,MAAO,MAAP,CAAe,CAAvE,CACA1C,mBAAmBjrD,SAAnB,CAA6B4tD,eAA7B,CAA+C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACvE,MAAOD,SAAQyhD,uBAAR,CAAgC,IAAhC,CAAsCxhD,OAAtC,CAAP,CACH,CAFD,CAGA,MAAOq8C,mBAAP,CACH,CApBuC,CAoBtChB,UApBsC,CAAxC,CAqBA,GAAIC,cAAe,aAAe,SAAUzzC,MAAV,CAAkB,CAChD5W,UAAUqqD,YAAV,CAAwBzzC,MAAxB,EACA,QAASyzC,aAAT,CAAsB71B,QAAtB,CAAgC9vB,IAAhC,CAAsCoN,IAAtC,CAA4CW,UAA5C,CAAwD,CACpD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMU,IAAN,CAAaA,IAAb,CACA,MAAOV,MAAP,CACH,CACDqmD,aAAalqD,SAAb,CAAuB+pD,YAAvB,CAAsC,SAAUxoD,CAAV,CAAa,CAC/C,MAAOA,aAAa2oD,aAAb,EAA6B,KAAK71B,QAAL,CAAc01B,YAAd,CAA2BxoD,EAAE8yB,QAA7B,CAA7B,EACH,KAAK9vB,IAAL,GAAchD,EAAEgD,IADpB,CAEH,CAHD,CAIA2lD,aAAalqD,SAAb,CAAuB2tD,UAAvB,CAAoC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAjE,CACAzD,aAAalqD,SAAb,CAAuB4tD,eAAvB,CAAyC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACjE,MAAOD,SAAQ0hD,iBAAR,CAA0B,IAA1B,CAAgCzhD,OAAhC,CAAP,CACH,CAFD,CAGAs7C,aAAalqD,SAAb,CAAuB4I,GAAvB,CAA6B,SAAU1H,KAAV,CAAiB,CAC1C,MAAO,IAAIstD,cAAJ,CAAkB,KAAKn6B,QAAvB,CAAiC,KAAK9vB,IAAtC,CAA4CrD,KAA5C,CAAmD,IAAnD,CAAyD,KAAKoR,UAA9D,CAAP,CACH,CAFD,CAGA,MAAO43C,aAAP,CACH,CApBiC,CAoBhCD,UApBgC,CAAlC,CAqBA,GAAIE,aAAc,aAAe,SAAU1zC,MAAV,CAAkB,CAC/C5W,UAAUsqD,WAAV,CAAuB1zC,MAAvB,EACA,QAAS0zC,YAAT,CAAqB91B,QAArB,CAA+BrjB,KAA/B,CAAsCW,IAAtC,CAA4CW,UAA5C,CAAwD,CACpD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAMwwB,QAAN,CAAiBA,QAAjB,CACAxwB,MAAMmN,KAAN,CAAcA,KAAd,CACA,MAAOnN,MAAP,CACH,CACDsmD,YAAYnqD,SAAZ,CAAsB+pD,YAAtB,CAAqC,SAAUxoD,CAAV,CAAa,CAC9C,MAAOA,aAAa4oD,YAAb,EAA4B,KAAK91B,QAAL,CAAc01B,YAAd,CAA2BxoD,EAAE8yB,QAA7B,CAA5B,EACH,KAAKrjB,KAAL,CAAW+4C,YAAX,CAAwBxoD,EAAEyP,KAA1B,CADJ,CAEH,CAHD,CAIAm5C,YAAYnqD,SAAZ,CAAsB2tD,UAAtB,CAAmC,UAAY,CAAE,MAAO,MAAP,CAAe,CAAhE,CACAxD,YAAYnqD,SAAZ,CAAsB4tD,eAAtB,CAAwC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAChE,MAAOD,SAAQ2hD,gBAAR,CAAyB,IAAzB,CAA+B1hD,OAA/B,CAAP,CACH,CAFD,CAGAu7C,YAAYnqD,SAAZ,CAAsB4I,GAAtB,CAA4B,SAAU1H,KAAV,CAAiB,CACzC,MAAO,IAAIotD,aAAJ,CAAiB,KAAKj6B,QAAtB,CAAgC,KAAKrjB,KAArC,CAA4C9P,KAA5C,CAAmD,IAAnD,CAAyD,KAAKoR,UAA9D,CAAP,CACH,CAFD,CAGA,MAAO63C,YAAP,CACH,CApBgC,CAoB/BF,UApB+B,CAAjC,CAqBA,GAAIsG,kBAAmB,aAAe,SAAU95C,MAAV,CAAkB,CACpD5W,UAAU0wD,gBAAV,CAA4B95C,MAA5B,EACA,QAAS85C,iBAAT,CAA0BC,OAA1B,CAAmC7+C,IAAnC,CAAyCW,UAAzC,CAAqD,CACjD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAM2sD,OAAN,CAAgBA,OAAhB,CACA,MAAO3sD,MAAP,CACH,CACD0sD,iBAAiBvwD,SAAjB,CAA2B2tD,UAA3B,CAAwC,UAAY,CAAE,MAAO,MAAK6C,OAAL,CAAaC,KAAb,CAAmB,SAAUlvD,CAAV,CAAa,CAAE,MAAOA,GAAEosD,UAAF,EAAP,CAAwB,CAA1D,CAAP,CAAqE,CAA3H,CACA4C,iBAAiBvwD,SAAjB,CAA2B+pD,YAA3B,CAA0C,SAAUxoD,CAAV,CAAa,CACnD,MAAOA,aAAagvD,iBAAb,EAAiCvG,iBAAiB,KAAKwG,OAAtB,CAA+BjvD,EAAEivD,OAAjC,CAAxC,CACH,CAFD,CAGAD,iBAAiBvwD,SAAjB,CAA2B4tD,eAA3B,CAA6C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACrE,MAAOD,SAAQ+hD,qBAAR,CAA8B,IAA9B,CAAoC9hD,OAApC,CAAP,CACH,CAFD,CAGA,MAAO2hD,iBAAP,CACH,CAfqC,CAepCtG,UAfoC,CAAtC,CAgBA,GAAI0G,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBlhD,GAAzB,CAA8BvO,KAA9B,CAAqCw7B,MAArC,CAA6C,CACzC,KAAKjtB,GAAL,CAAWA,GAAX,CACA,KAAKvO,KAAL,CAAaA,KAAb,CACA,KAAKw7B,MAAL,CAAcA,MAAd,CACH,CACDi0B,gBAAgB3wD,SAAhB,CAA0B+pD,YAA1B,CAAyC,SAAUxoD,CAAV,CAAa,CAClD,MAAO,MAAKkO,GAAL,GAAalO,EAAEkO,GAAf,EAAsB,KAAKvO,KAAL,CAAW6oD,YAAX,CAAwBxoD,EAAEL,KAA1B,CAA7B,CACH,CAFD,CAGA,MAAOyvD,gBAAP,CACH,CAVoC,EAArC,CAWA,GAAIC,gBAAiB,aAAe,SAAUn6C,MAAV,CAAkB,CAClD5W,UAAU+wD,cAAV,CAA0Bn6C,MAA1B,EACA,QAASm6C,eAAT,CAAwBJ,OAAxB,CAAiC7+C,IAAjC,CAAuCW,UAAvC,CAAmD,CAC/C,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBW,UAAxB,GAAuC,IAAnD,CACAzO,MAAM2sD,OAAN,CAAgBA,OAAhB,CACA3sD,MAAMilD,SAAN,CAAkB,IAAlB,CACA,GAAIn3C,IAAJ,CAAU,CACN9N,MAAMilD,SAAN,CAAkBn3C,KAAKm3C,SAAvB,CACH,CACD,MAAOjlD,MAAP,CACH,CACD+sD,eAAe5wD,SAAf,CAAyB+pD,YAAzB,CAAwC,SAAUxoD,CAAV,CAAa,CACjD,MAAOA,aAAaqvD,eAAb,EAA+B5G,iBAAiB,KAAKwG,OAAtB,CAA+BjvD,EAAEivD,OAAjC,CAAtC,CACH,CAFD,CAGAI,eAAe5wD,SAAf,CAAyB2tD,UAAzB,CAAsC,UAAY,CAAE,MAAO,MAAK6C,OAAL,CAAaC,KAAb,CAAmB,SAAUlvD,CAAV,CAAa,CAAE,MAAOA,GAAEL,KAAF,CAAQysD,UAAR,EAAP,CAA8B,CAAhE,CAAP,CAA2E,CAA/H,CACAiD,eAAe5wD,SAAf,CAAyB4tD,eAAzB,CAA2C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACnE,MAAOD,SAAQkiD,mBAAR,CAA4B,IAA5B,CAAkCjiD,OAAlC,CAAP,CACH,CAFD,CAGA,MAAOgiD,eAAP,CACH,CAnBmC,CAmBlC3G,UAnBkC,CAApC,CAoBA,GAAI6G,WAAY,aAAe,SAAUr6C,MAAV,CAAkB,CAC7C5W,UAAUixD,SAAV,CAAqBr6C,MAArB,EACA,QAASq6C,UAAT,CAAmBv1C,KAAnB,CAA0BjJ,UAA1B,CAAsC,CAClC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB6a,MAAMA,MAAM9a,MAAN,CAAe,CAArB,EAAwBkR,IAA1C,CAAgDW,UAAhD,GAA+D,IAA3E,CACAzO,MAAM0X,KAAN,CAAcA,KAAd,CACA,MAAO1X,MAAP,CACH,CACDitD,UAAU9wD,SAAV,CAAoB+pD,YAApB,CAAmC,SAAUxoD,CAAV,CAAa,CAC5C,MAAOA,aAAauvD,UAAb,EAA0B9G,iBAAiB,KAAKzuC,KAAtB,CAA6Bha,EAAEga,KAA/B,CAAjC,CACH,CAFD,CAGAu1C,UAAU9wD,SAAV,CAAoB2tD,UAApB,CAAiC,UAAY,CAAE,MAAO,MAAP,CAAe,CAA9D,CACAmD,UAAU9wD,SAAV,CAAoB4tD,eAApB,CAAsC,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CAC9D,MAAOD,SAAQoiD,cAAR,CAAuB,IAAvB,CAA6BniD,OAA7B,CAAP,CACH,CAFD,CAGA,MAAOkiD,UAAP,CACH,CAf8B,CAe7B7G,UAf6B,CAA/B,CAgBA,GAAI+G,WAAY,GAAIvD,YAAJ,CAAgB3uD,QAAQ0uD,UAAR,CAAmByD,IAAnC,CAAyC,IAAzC,CAA+C,IAA/C,CAAhB,CACA,GAAIC,YAAa,GAAIzD,YAAJ,CAAgB3uD,QAAQ0uD,UAAR,CAAmB2D,KAAnC,CAA0C,IAA1C,CAAgD,IAAhD,CAAjB,CACA,GAAIC,iBAAkB,GAAI3D,YAAJ,CAAgB3uD,QAAQ0uD,UAAR,CAAmB6D,UAAnC,CAA+C,IAA/C,CAAqD,IAArD,CAAtB,CACA,GAAIC,iBAAkB,GAAI7D,YAAJ,CAAgB3uD,QAAQ0uD,UAAR,CAAmB+D,UAAnC,CAA+C,IAA/C,CAAqD,IAArD,CAAtB,CACA,GAAIC,WAAY,GAAIvC,YAAJ,CAAgB,IAAhB,CAAsB,IAAtB,CAA4B,IAA5B,CAAhB,CACA,GAAI9B,iBAAkB,GAAI8B,YAAJ,CAAgB,IAAhB,CAAsB/F,aAAtB,CAAqC,IAArC,CAAtB,CACA,CAAC,SAAUuI,YAAV,CAAwB,CACrBA,aAAaA,aAAa,OAAb,EAAwB,CAArC,EAA0C,OAA1C,CACAA,aAAaA,aAAa,SAAb,EAA0B,CAAvC,EAA4C,SAA5C,CACAA,aAAaA,aAAa,UAAb,EAA2B,CAAxC,EAA6C,UAA7C,CACAA,aAAaA,aAAa,QAAb,EAAyB,CAAtC,EAA2C,QAA3C,CACH,CALD,EAKG3yD,QAAQ2yD,YAAR,GAAyB3yD,QAAQ2yD,YAAR,CAAuB,EAAhD,CALH,EAMA,GAAIC,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmB1J,SAAnB,CAA8B11C,UAA9B,CAA0C,CACtC,KAAK01C,SAAL,CAAiBA,WAAa,EAA9B,CACA,KAAK11C,UAAL,CAAkBA,YAAc,IAAhC,CACH,CACDo/C,UAAU1xD,SAAV,CAAoBioD,WAApB,CAAkC,SAAUC,QAAV,CAAoB,CAAE,MAAO,MAAKF,SAAL,CAAehmD,OAAf,CAAuBkmD,QAAvB,IAAqC,CAAC,CAA7C,CAAiD,CAAzG,CACA,MAAOwJ,UAAP,CACH,CAP8B,EAA/B,CAQA,GAAIrD,gBAAiB,aAAe,SAAU53C,MAAV,CAAkB,CAClD5W,UAAUwuD,cAAV,CAA0B53C,MAA1B,EACA,QAAS43C,eAAT,CAAwB9pD,IAAxB,CAA8BrD,KAA9B,CAAqCyQ,IAArC,CAA2Cq2C,SAA3C,CAAsD11C,UAAtD,CAAkE,CAC9D,GAAI01C,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,CAA6B11C,UAA7B,GAA4C,IAAxD,CACAzO,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM3C,KAAN,CAAcA,KAAd,CACA2C,MAAM8N,IAAN,CAAaA,MAASzQ,OAASA,MAAMyQ,IAAxB,EAAiC,IAA9C,CACA,MAAO9N,MAAP,CACH,CACDwqD,eAAeruD,SAAf,CAAyB+pD,YAAzB,CAAwC,SAAU4H,IAAV,CAAgB,CACpD,MAAOA,gBAAgBtD,eAAhB,EAAkC,KAAK9pD,IAAL,GAAcotD,KAAKptD,IAArD,GACF,KAAKrD,KAAL,CAAa,CAAC,CAACywD,KAAKzwD,KAAP,EAAgB,KAAKA,KAAL,CAAW6oD,YAAX,CAAwB4H,KAAKzwD,KAA7B,CAA7B,CAAmE,CAACywD,KAAKzwD,KADvE,CAAP,CAEH,CAHD,CAIAmtD,eAAeruD,SAAf,CAAyB4xD,cAAzB,CAA0C,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CAClE,MAAOD,SAAQkjD,mBAAR,CAA4B,IAA5B,CAAkCjjD,OAAlC,CAAP,CACH,CAFD,CAGA,MAAOy/C,eAAP,CACH,CAlBmC,CAkBlCqD,SAlBkC,CAApC,CAmBA,GAAIxB,qBAAsB,aAAe,SAAUz5C,MAAV,CAAkB,CACvD5W,UAAUqwD,mBAAV,CAA+Bz5C,MAA/B,EACA,QAASy5C,oBAAT,CAA6B3rD,IAA7B,CAAmC8lD,MAAnC,CAA2C2F,UAA3C,CAAuDr+C,IAAvD,CAA6Dq2C,SAA7D,CAAwE11C,UAAxE,CAAoF,CAChF,GAAI01C,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,CAA6B11C,UAA7B,GAA4C,IAAxD,CACAzO,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAMwmD,MAAN,CAAeA,MAAf,CACAxmD,MAAMmsD,UAAN,CAAmBA,UAAnB,CACAnsD,MAAM8N,IAAN,CAAaA,MAAQ,IAArB,CACA,MAAO9N,MAAP,CACH,CACDqsD,oBAAoBlwD,SAApB,CAA8B+pD,YAA9B,CAA6C,SAAU4H,IAAV,CAAgB,CACzD,MAAOA,gBAAgBzB,oBAAhB,EAAuClG,iBAAiB,KAAKK,MAAtB,CAA8BsH,KAAKtH,MAAnC,CAAvC,EACHL,iBAAiB,KAAKgG,UAAtB,CAAkC2B,KAAK3B,UAAvC,CADJ,CAEH,CAHD,CAIAE,oBAAoBlwD,SAApB,CAA8B4xD,cAA9B,CAA+C,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CACvE,MAAOD,SAAQmjD,wBAAR,CAAiC,IAAjC,CAAuCljD,OAAvC,CAAP,CACH,CAFD,CAGA,MAAOshD,oBAAP,CACH,CAnBwC,CAmBvCwB,SAnBuC,CAAzC,CAoBA,GAAInE,qBAAsB,aAAe,SAAU92C,MAAV,CAAkB,CACvD5W,UAAU0tD,mBAAV,CAA+B92C,MAA/B,EACA,QAAS82C,oBAAT,CAA6BnyB,IAA7B,CAAmC9oB,UAAnC,CAA+C,CAC3C,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAMu3B,IAAN,CAAaA,IAAb,CACA,MAAOv3B,MAAP,CACH,CACD0pD,oBAAoBvtD,SAApB,CAA8B+pD,YAA9B,CAA6C,SAAU4H,IAAV,CAAgB,CACzD,MAAOA,gBAAgBpE,oBAAhB,EAAuC,KAAKnyB,IAAL,CAAU2uB,YAAV,CAAuB4H,KAAKv2B,IAA5B,CAA9C,CACH,CAFD,CAGAmyB,oBAAoBvtD,SAApB,CAA8B4xD,cAA9B,CAA+C,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CACvE,MAAOD,SAAQojD,mBAAR,CAA4B,IAA5B,CAAkCnjD,OAAlC,CAAP,CACH,CAFD,CAGA,MAAO2+C,oBAAP,CACH,CAdwC,CAcvCmE,SAduC,CAAzC,CAeA,GAAIM,iBAAkB,aAAe,SAAUv7C,MAAV,CAAkB,CACnD5W,UAAUmyD,eAAV,CAA2Bv7C,MAA3B,EACA,QAASu7C,gBAAT,CAAyB9wD,KAAzB,CAAgCoR,UAAhC,CAA4C,CACxC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAM3C,KAAN,CAAcA,KAAd,CACA,MAAO2C,MAAP,CACH,CACDmuD,gBAAgBhyD,SAAhB,CAA0B+pD,YAA1B,CAAyC,SAAU4H,IAAV,CAAgB,CACrD,MAAOA,gBAAgBK,gBAAhB,EAAmC,KAAK9wD,KAAL,CAAW6oD,YAAX,CAAwB4H,KAAKzwD,KAA7B,CAA1C,CACH,CAFD,CAGA8wD,gBAAgBhyD,SAAhB,CAA0B4xD,cAA1B,CAA2C,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CACnE,MAAOD,SAAQsjD,eAAR,CAAwB,IAAxB,CAA8BrjD,OAA9B,CAAP,CACH,CAFD,CAGA,MAAOojD,gBAAP,CACH,CAdoC,CAcnCN,SAdmC,CAArC,CAeA,GAAIQ,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BvgD,IAA3B,CAAiCq2C,SAAjC,CAA4C,CACxC,KAAKA,SAAL,CAAiBA,SAAjB,CACA,GAAI,CAACA,SAAL,CAAgB,CACZ,KAAKA,SAAL,CAAiB,EAAjB,CACH,CACD,KAAKr2C,IAAL,CAAYA,MAAQ,IAApB,CACH,CACDugD,kBAAkBlyD,SAAlB,CAA4BioD,WAA5B,CAA0C,SAAUC,QAAV,CAAoB,CAAE,MAAO,MAAKF,SAAL,CAAehmD,OAAf,CAAuBkmD,QAAvB,IAAqC,CAAC,CAA7C,CAAiD,CAAjH,CACA,MAAOgK,kBAAP,CACH,CAVsC,EAAvC,CAWA,GAAIC,YAAa,aAAe,SAAU17C,MAAV,CAAkB,CAC9C5W,UAAUsyD,UAAV,CAAsB17C,MAAtB,EACA,QAAS07C,WAAT,CAAoB5tD,IAApB,CAA0BoN,IAA1B,CAAgCq2C,SAAhC,CAA2CoK,WAA3C,CAAwD,CACpD,GAAIpK,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBq2C,SAAxB,GAAsC,IAAlD,CACAnkD,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAMuuD,WAAN,CAAoBA,WAApB,CACA,MAAOvuD,MAAP,CACH,CACDsuD,WAAWnyD,SAAX,CAAqB+pD,YAArB,CAAoC,SAAUvd,CAAV,CAAa,CAAE,MAAO,MAAKjoC,IAAL,GAAcioC,EAAEjoC,IAAvB,CAA8B,CAAjF,CACA,MAAO4tD,WAAP,CACH,CAX+B,CAW9BD,iBAX8B,CAAhC,CAYA,GAAIG,aAAc,aAAe,SAAU57C,MAAV,CAAkB,CAC/C5W,UAAUwyD,WAAV,CAAuB57C,MAAvB,EACA,QAAS47C,YAAT,CAAqB9tD,IAArB,CAA2B8lD,MAA3B,CAAmC5N,IAAnC,CAAyC9qC,IAAzC,CAA+Cq2C,SAA/C,CAA0D,CACtD,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBq2C,SAAxB,GAAsC,IAAlD,CACAnkD,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAMwmD,MAAN,CAAeA,MAAf,CACAxmD,MAAM44C,IAAN,CAAaA,IAAb,CACA,MAAO54C,MAAP,CACH,CACDwuD,YAAYryD,SAAZ,CAAsB+pD,YAAtB,CAAqC,SAAUjpD,CAAV,CAAa,CAC9C,MAAO,MAAKyD,IAAL,GAAczD,EAAEyD,IAAhB,EAAwBylD,iBAAiB,KAAKvN,IAAtB,CAA4B37C,EAAE27C,IAA9B,CAA/B,CACH,CAFD,CAGA,MAAO4V,YAAP,CACH,CAdgC,CAc/BH,iBAd+B,CAAjC,CAeA,GAAII,aAAc,aAAe,SAAU77C,MAAV,CAAkB,CAC/C5W,UAAUyyD,WAAV,CAAuB77C,MAAvB,EACA,QAAS67C,YAAT,CAAqB/tD,IAArB,CAA2Bk4C,IAA3B,CAAiC9qC,IAAjC,CAAuCq2C,SAAvC,CAAkD,CAC9C,GAAIA,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBiR,IAAlB,CAAwBq2C,SAAxB,GAAsC,IAAlD,CACAnkD,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM44C,IAAN,CAAaA,IAAb,CACA,MAAO54C,MAAP,CACH,CACDyuD,YAAYtyD,SAAZ,CAAsB+pD,YAAtB,CAAqC,SAAUjpD,CAAV,CAAa,CAC9C,MAAO,MAAKyD,IAAL,GAAczD,EAAEyD,IAAhB,EAAwBylD,iBAAiB,KAAKvN,IAAtB,CAA4B37C,EAAE27C,IAA9B,CAA/B,CACH,CAFD,CAGA,MAAO6V,YAAP,CACH,CAbgC,CAa/BJ,iBAb+B,CAAjC,CAcA,GAAIK,WAAY,aAAe,SAAU97C,MAAV,CAAkB,CAC7C5W,UAAU0yD,SAAV,CAAqB97C,MAArB,EACA,QAAS87C,UAAT,CAAmBhuD,IAAnB,CAAyBqlC,MAAzB,CAAiC4oB,MAAjC,CAAyCC,OAAzC,CAAkDC,iBAAlD,CAAqEC,OAArE,CAA8E3K,SAA9E,CAAyF11C,UAAzF,CAAqG,CACjG,GAAI01C,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,IAAZ,CAAmB,CAC/C,GAAInkD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBsnD,SAAlB,CAA6B11C,UAA7B,GAA4C,IAAxD,CACAzO,MAAMU,IAAN,CAAaA,IAAb,CACAV,MAAM+lC,MAAN,CAAeA,MAAf,CACA/lC,MAAM2uD,MAAN,CAAeA,MAAf,CACA3uD,MAAM4uD,OAAN,CAAgBA,OAAhB,CACA5uD,MAAM6uD,iBAAN,CAA0BA,iBAA1B,CACA7uD,MAAM8uD,OAAN,CAAgBA,OAAhB,CACA,MAAO9uD,MAAP,CACH,CACD0uD,UAAUvyD,SAAV,CAAoB+pD,YAApB,CAAmC,SAAU4H,IAAV,CAAgB,CAC/C,MAAOA,gBAAgBY,UAAhB,EAA6B,KAAKhuD,IAAL,GAAcotD,KAAKptD,IAAhD,EACHslD,qBAAqB,KAAKjgB,MAA1B,CAAkC+nB,KAAK/nB,MAAvC,CADG,EAEHogB,iBAAiB,KAAKwI,MAAtB,CAA8Bb,KAAKa,MAAnC,CAFG,EAGHxI,iBAAiB,KAAKyI,OAAtB,CAA+Bd,KAAKc,OAApC,CAHG,EAIH,KAAKC,iBAAL,CAAuB3I,YAAvB,CAAoC4H,KAAKe,iBAAzC,CAJG,EAKH1I,iBAAiB,KAAK2I,OAAtB,CAA+BhB,KAAKgB,OAApC,CALJ,CAMH,CAPD,CAQAJ,UAAUvyD,SAAV,CAAoB4xD,cAApB,CAAqC,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CAC7D,MAAOD,SAAQikD,qBAAR,CAA8B,IAA9B,CAAoChkD,OAApC,CAAP,CACH,CAFD,CAGA,MAAO2jD,UAAP,CACH,CAzB8B,CAyB7Bb,SAzB6B,CAA/B,CA0BA,GAAImB,QAAS,aAAe,SAAUp8C,MAAV,CAAkB,CAC1C5W,UAAUgzD,MAAV,CAAkBp8C,MAAlB,EACA,QAASo8C,OAAT,CAAgBjoC,SAAhB,CAA2BggC,QAA3B,CAAqCC,SAArC,CAAgDv4C,UAAhD,CAA4D,CACxD,GAAIu4C,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,EAAZ,CAAiB,CAC7C,GAAIhnD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAM+mB,SAAN,CAAkBA,SAAlB,CACA/mB,MAAM+mD,QAAN,CAAiBA,QAAjB,CACA/mD,MAAMgnD,SAAN,CAAkBA,SAAlB,CACA,MAAOhnD,MAAP,CACH,CACDgvD,OAAO7yD,SAAP,CAAiB+pD,YAAjB,CAAgC,SAAU4H,IAAV,CAAgB,CAC5C,MAAOA,gBAAgBkB,OAAhB,EAA0B,KAAKjoC,SAAL,CAAem/B,YAAf,CAA4B4H,KAAK/mC,SAAjC,CAA1B,EACHo/B,iBAAiB,KAAKY,QAAtB,CAAgC+G,KAAK/G,QAArC,CADG,EAEHZ,iBAAiB,KAAKa,SAAtB,CAAiC8G,KAAK9G,SAAtC,CAFJ,CAGH,CAJD,CAKAgI,OAAO7yD,SAAP,CAAiB4xD,cAAjB,CAAkC,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CAC1D,MAAOD,SAAQmkD,WAAR,CAAoB,IAApB,CAA0BlkD,OAA1B,CAAP,CACH,CAFD,CAGA,MAAOikD,OAAP,CACH,CAnB2B,CAmB1BnB,SAnB0B,CAA5B,CAoBA,GAAIqB,aAAc,aAAe,SAAUt8C,MAAV,CAAkB,CAC/C5W,UAAUkzD,WAAV,CAAuBt8C,MAAvB,EACA,QAASs8C,YAAT,CAAqBrgB,OAArB,CAA8BsgB,SAA9B,CAAyC1gD,UAAzC,CAAqD,CACjD,GAAI0gD,YAAc,IAAK,EAAvB,CAA0B,CAAEA,UAAY,KAAZ,CAAoB,CAChD,GAAInvD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAM6uC,OAAN,CAAgBA,OAAhB,CACA7uC,MAAMmvD,SAAN,CAAkBA,SAAlB,CACA,MAAOnvD,MAAP,CACH,CACDkvD,YAAY/yD,SAAZ,CAAsB+pD,YAAtB,CAAqC,SAAU4H,IAAV,CAAgB,CAAE,MAAOA,gBAAgBoB,YAAvB,CAAqC,CAA5F,CACAA,YAAY/yD,SAAZ,CAAsB4xD,cAAtB,CAAuC,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CAC/D,MAAOD,SAAQskD,gBAAR,CAAyB,IAAzB,CAA+BrkD,OAA/B,CAAP,CACH,CAFD,CAGA,MAAOmkD,YAAP,CACH,CAdgC,CAc/BrB,SAd+B,CAAjC,CAeA,GAAIwB,kBAAmB,aAAe,SAAUz8C,MAAV,CAAkB,CACpD5W,UAAUqzD,gBAAV,CAA4Bz8C,MAA5B,EACA,QAASy8C,iBAAT,CAA0BC,IAA1B,CAAgC7gD,UAAhC,CAA4C,CACxC,GAAI6gD,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,EAAP,CAAY,CACnC,GAAItvD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAMsvD,IAAN,CAAaA,IAAb,CACA,MAAOtvD,MAAP,CACH,CACDqvD,iBAAiBlzD,SAAjB,CAA2B+pD,YAA3B,CAA0C,SAAU4H,IAAV,CAAgB,CACtD,MAAOA,gBAAgBuB,iBAAhB,EAAoC,KAAKtsD,QAAL,KAAoB+qD,KAAK/qD,QAAL,EAA/D,CACH,CAFD,CAGAssD,iBAAiBlzD,SAAjB,CAA2B4xD,cAA3B,CAA4C,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CACpE,MAAOD,SAAQykD,qBAAR,CAA8B,IAA9B,CAAoCxkD,OAApC,CAAP,CACH,CAFD,CAGAskD,iBAAiBlzD,SAAjB,CAA2B4G,QAA3B,CAAsC,UAAY,CAAE,MAAOysD,eAAc,KAAKF,IAAnB,CAAP,CAAkC,CAAtF,CACA,MAAOD,iBAAP,CACH,CAhBqC,CAgBpCxB,SAhBoC,CAAtC,CAiBA,GAAI4B,cAAe,aAAe,SAAU78C,MAAV,CAAkB,CAChD5W,UAAUyzD,YAAV,CAAwB78C,MAAxB,EACA,QAAS68C,aAAT,CAAsBC,SAAtB,CAAiCC,UAAjC,CAA6ClhD,UAA7C,CAAyD,CACrD,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAM0vD,SAAN,CAAkBA,SAAlB,CACA1vD,MAAM2vD,UAAN,CAAmBA,UAAnB,CACA,MAAO3vD,MAAP,CACH,CACDyvD,aAAatzD,SAAb,CAAuB+pD,YAAvB,CAAsC,SAAU4H,IAAV,CAAgB,CAClD,MAAOA,gBAAgB2B,aAAhB,EAAgCtJ,iBAAiB,KAAKuJ,SAAtB,CAAiC5B,KAAK4B,SAAtC,CAAhC,EACHvJ,iBAAiB,KAAKwJ,UAAtB,CAAkC7B,KAAK6B,UAAvC,CADJ,CAEH,CAHD,CAIAF,aAAatzD,SAAb,CAAuB4xD,cAAvB,CAAwC,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CAChE,MAAOD,SAAQ8kD,iBAAR,CAA0B,IAA1B,CAAgC7kD,OAAhC,CAAP,CACH,CAFD,CAGA,MAAO0kD,aAAP,CACH,CAhBiC,CAgBhC5B,SAhBgC,CAAlC,CAiBA,GAAIgC,WAAY,aAAe,SAAUj9C,MAAV,CAAkB,CAC7C5W,UAAU6zD,SAAV,CAAqBj9C,MAArB,EACA,QAASi9C,UAAT,CAAmBjyD,KAAnB,CAA0B6Q,UAA1B,CAAsC,CAClC,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,IAAlB,CAAwB4R,UAAxB,GAAuC,IAAnD,CACAzO,MAAMpC,KAAN,CAAcA,KAAd,CACA,MAAOoC,MAAP,CACH,CACD6vD,UAAU1zD,SAAV,CAAoB+pD,YAApB,CAAmC,SAAU4H,IAAV,CAAgB,CAC/C,MAAOA,gBAAgB2B,aAAhB,EAAgC,KAAK7xD,KAAL,CAAWsoD,YAAX,CAAwB4H,KAAKlwD,KAA7B,CAAvC,CACH,CAFD,CAGAiyD,UAAU1zD,SAAV,CAAoB4xD,cAApB,CAAqC,SAAUjjD,OAAV,CAAmBC,OAAnB,CAA4B,CAC7D,MAAOD,SAAQglD,cAAR,CAAuB,IAAvB,CAA6B/kD,OAA7B,CAAP,CACH,CAFD,CAGA,MAAO8kD,UAAP,CACH,CAd8B,CAc7BhC,SAd6B,CAA/B,CAeA,GAAIkC,kBAAmB,aAAe,UAAY,CAC9C,QAAS58B,eAAT,EAA0B,CACzB,CACDA,eAAeh3B,SAAf,CAAyB6zD,aAAzB,CAAyC,SAAUz4B,IAAV,CAAgBxsB,OAAhB,CAAyB,CAAE,MAAOwsB,KAAP,CAAc,CAAlF,CACApE,eAAeh3B,SAAf,CAAyB8zD,aAAzB,CAAyC,SAAUnC,IAAV,CAAgB/iD,OAAhB,CAAyB,CAAE,MAAO+iD,KAAP,CAAc,CAAlF,CACA36B,eAAeh3B,SAAf,CAAyB6tD,gBAAzB,CAA4C,SAAUt3C,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,MAAKilD,aAAL,CAAmBt9C,GAAnB,CAAwB3H,OAAxB,CAAP,CAA0C,CAAhH,CACAooB,eAAeh3B,SAAf,CAAyBkuD,oBAAzB,CAAgD,SAAU33C,GAAV,CAAe3H,OAAf,CAAwB,CACpE,MAAO,MAAKilD,aAAL,CAAmBt9C,GAAnB,CAAwB3H,OAAxB,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBguD,eAAzB,CAA2C,SAAU5yB,IAAV,CAAgBxsB,OAAhB,CAAyB,CAChE,MAAO,MAAKilD,aAAL,CAAmB,GAAI9F,WAAJ,CAAe3yB,KAAKA,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,CAAf,CAAyDwsB,KAAKzpB,IAA9D,CAAoEypB,KAAK9oB,UAAzE,CAAnB,CAAyG1D,OAAzG,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBmuD,iBAAzB,CAA6C,SAAU/yB,IAAV,CAAgBxsB,OAAhB,CAAyB,CAClE,MAAO,MAAKilD,aAAL,CAAmB,GAAI/F,aAAJ,CAAiB1yB,KAAK72B,IAAtB,CAA4B62B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAA5B,CAAuEwsB,KAAKzpB,IAA5E,CAAkFypB,KAAK9oB,UAAvF,CAAnB,CAAuH1D,OAAvH,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBuuD,iBAAzB,CAA6C,SAAUnzB,IAAV,CAAgBxsB,OAAhB,CAAyB,CAClE,MAAO,MAAKilD,aAAL,CAAmB,GAAIvF,aAAJ,CAAiBlzB,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAAjB,CAA+DwsB,KAAKpqB,KAAL,CAAW48C,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAA/D,CAA0GwsB,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAA1G,CAAqJwsB,KAAKzpB,IAA1J,CAAgKypB,KAAK9oB,UAArK,CAAnB,CAAqM1D,OAArM,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyByuD,kBAAzB,CAA8C,SAAUrzB,IAAV,CAAgBxsB,OAAhB,CAAyB,CACnE,MAAO,MAAKilD,aAAL,CAAmB,GAAIrF,cAAJ,CAAkBpzB,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAAlB,CAAgEwsB,KAAK72B,IAArE,CAA2E62B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAA3E,CAAsHwsB,KAAKzpB,IAA3H,CAAiIypB,KAAK9oB,UAAtI,CAAnB,CAAsK1D,OAAtK,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB4uD,qBAAzB,CAAiD,SAAUr4C,GAAV,CAAe3H,OAAf,CAAwB,CACrE,GAAI+/C,QAASp4C,IAAIm3C,OAAJ,EAAen3C,IAAIhS,IAAhC,CACA,MAAO,MAAKsvD,aAAL,CAAmB,GAAIvJ,iBAAJ,CAAqB/zC,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,CAArB,CAAkE+/C,MAAlE,CAA0E,KAAKoF,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmC4C,OAAnC,CAA1E,CAAuH2H,IAAI5E,IAA3H,CAAiI4E,IAAIjE,UAArI,CAAnB,CAAqK1D,OAArK,CAAP,CACH,CAHD,CAIAooB,eAAeh3B,SAAf,CAAyB8uD,uBAAzB,CAAmD,SAAUv4C,GAAV,CAAe3H,OAAf,CAAwB,CACvE,MAAO,MAAKilD,aAAL,CAAmB,GAAIrJ,mBAAJ,CAAuBj0C,IAAIs4C,EAAJ,CAAOjB,eAAP,CAAuB,IAAvB,CAA6Bh/C,OAA7B,CAAvB,CAA8D,KAAKmlD,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmC4C,OAAnC,CAA9D,CAA2G2H,IAAI5E,IAA/G,CAAqH4E,IAAIjE,UAAzH,CAAnB,CAAyJ1D,OAAzJ,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBgvD,oBAAzB,CAAgD,SAAUz4C,GAAV,CAAe3H,OAAf,CAAwB,CACpE,MAAO,MAAKilD,aAAL,CAAmB,GAAInJ,gBAAJ,CAAoBn0C,IAAIw4C,SAAJ,CAAcnB,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAApB,CAAkE,KAAKmlD,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmC4C,OAAnC,CAAlE,CAA+G2H,IAAI5E,IAAnH,CAAyH4E,IAAIjE,UAA7H,CAAnB,CAA6J1D,OAA7J,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBkvD,gBAAzB,CAA4C,SAAU34C,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,MAAKilD,aAAL,CAAmBt9C,GAAnB,CAAwB3H,OAAxB,CAAP,CAA0C,CAAhH,CACAooB,eAAeh3B,SAAf,CAAyBqvD,iBAAzB,CAA6C,SAAU94C,GAAV,CAAe3H,OAAf,CAAwB,CACjE,MAAO,MAAKilD,aAAL,CAAmBt9C,GAAnB,CAAwB3H,OAAxB,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBuvD,oBAAzB,CAAgD,SAAUh5C,GAAV,CAAe3H,OAAf,CAAwB,CACpE,MAAO,MAAKilD,aAAL,CAAmB,GAAI/I,gBAAJ,CAAoBv0C,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAApB,CAAkE2H,IAAIq0C,QAAJ,CAAagD,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,CAAlE,CAA+G2H,IAAIs0C,SAAJ,CAAc+C,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAA/G,CAA6J2H,IAAI5E,IAAjK,CAAuK4E,IAAIjE,UAA3K,CAAnB,CAA2M1D,OAA3M,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyByvD,YAAzB,CAAwC,SAAUl5C,GAAV,CAAe3H,OAAf,CAAwB,CAC5D,MAAO,MAAKilD,aAAL,CAAmB,GAAIrE,QAAJ,CAAYj5C,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAAZ,CAA0D2H,IAAIjE,UAA9D,CAAnB,CAA8F1D,OAA9F,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB2vD,sBAAzB,CAAkD,SAAUp5C,GAAV,CAAe3H,OAAf,CAAwB,CACtE,MAAO,MAAKilD,aAAL,CAAmB,GAAInE,cAAJ,CAAkBn5C,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,CAAlB,CAAgE2H,IAAIjE,UAApE,CAAnB,CAAoG1D,OAApG,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB4vD,aAAzB,CAAyC,SAAUr5C,GAAV,CAAe3H,OAAf,CAAwB,CAC7D,MAAO,MAAKilD,aAAL,CAAmB,GAAIxG,SAAJ,CAAa92C,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,CAAb,CAAuD2H,IAAI5E,IAA3D,CAAiE4E,IAAIjE,UAArE,CAAnB,CAAqG1D,OAArG,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBiwD,iBAAzB,CAA6C,SAAU15C,GAAV,CAAe3H,OAAf,CAAwB,CACjE,MAAO,MAAKilD,aAAL,CAAmB,GAAI9D,aAAJ,CAAiBx5C,IAAI8zC,MAArB,CAA6B,KAAK2J,kBAAL,CAAwBz9C,IAAIy5C,UAA5B,CAAwCphD,OAAxC,CAA7B,CAA+E2H,IAAI5E,IAAnF,CAAyF4E,IAAIjE,UAA7F,CAAnB,CAA6H1D,OAA7H,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBowD,uBAAzB,CAAmD,SAAU75C,GAAV,CAAe3H,OAAf,CAAwB,CACvE,MAAO,MAAKilD,aAAL,CAAmB,GAAI5I,mBAAJ,CAAuB10C,IAAIykB,QAA3B,CAAqCzkB,IAAI45C,GAAJ,CAAQvC,eAAR,CAAwB,IAAxB,CAA8Bh/C,OAA9B,CAArC,CAA6E2H,IAAIy0C,GAAJ,CAAQ4C,eAAR,CAAwB,IAAxB,CAA8Bh/C,OAA9B,CAA7E,CAAqH2H,IAAI5E,IAAzH,CAA+H4E,IAAIjE,UAAnI,CAAnB,CAAmK1D,OAAnK,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBqwD,iBAAzB,CAA6C,SAAU95C,GAAV,CAAe3H,OAAf,CAAwB,CACjE,MAAO,MAAKilD,aAAL,CAAmB,GAAI3J,aAAJ,CAAiB3zC,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,CAAjB,CAA8D2H,IAAIhS,IAAlE,CAAwEgS,IAAI5E,IAA5E,CAAkF4E,IAAIjE,UAAtF,CAAnB,CAAsH1D,OAAtH,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBswD,gBAAzB,CAA4C,SAAU/5C,GAAV,CAAe3H,OAAf,CAAwB,CAChE,MAAO,MAAKilD,aAAL,CAAmB,GAAI1J,YAAJ,CAAgB5zC,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,CAAhB,CAA6D2H,IAAIvF,KAAJ,CAAU48C,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,CAA7D,CAAuG2H,IAAI5E,IAA3G,CAAiH4E,IAAIjE,UAArH,CAAnB,CAAqJ1D,OAArJ,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB0wD,qBAAzB,CAAiD,SAAUn6C,GAAV,CAAe3H,OAAf,CAAwB,CACrE,MAAO,MAAKilD,aAAL,CAAmB,GAAItD,iBAAJ,CAAqB,KAAKwD,mBAAL,CAAyBx9C,IAAIi6C,OAA7B,CAAsC5hD,OAAtC,CAArB,CAAqE2H,IAAI5E,IAAzE,CAA+E4E,IAAIjE,UAAnF,CAAnB,CAAmH1D,OAAnH,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB6wD,mBAAzB,CAA+C,SAAUt6C,GAAV,CAAe3H,OAAf,CAAwB,CACnE,GAAI/K,OAAQ,IAAZ,CACA,GAAI2sD,SAAUj6C,IAAIi6C,OAAJ,CAAYznD,GAAZ,CAAgB,SAAUiyC,KAAV,CAAiB,CAAE,MAAO,IAAI2V,gBAAJ,CAAoB3V,MAAMvrC,GAA1B,CAA+BurC,MAAM95C,KAAN,CAAY0sD,eAAZ,CAA4B/pD,KAA5B,CAAmC+K,OAAnC,CAA/B,CAA4EosC,MAAMte,MAAlF,CAAP,CAAmG,CAAtI,CAAd,CACA,GAAIu3B,SAAU,GAAIpL,QAAJ,CAAYtyC,IAAIuyC,SAAhB,CAA2B,IAA3B,CAAd,CACA,MAAO,MAAK+K,aAAL,CAAmB,GAAIjD,eAAJ,CAAmBJ,OAAnB,CAA4ByD,OAA5B,CAAqC19C,IAAIjE,UAAzC,CAAnB,CAAyE1D,OAAzE,CAAP,CACH,CALD,CAMAooB,eAAeh3B,SAAf,CAAyB+wD,cAAzB,CAA0C,SAAUx6C,GAAV,CAAe3H,OAAf,CAAwB,CAC9D,MAAO,MAAKilD,aAAL,CAAmB,GAAI/C,UAAJ,CAAc,KAAKiD,mBAAL,CAAyBx9C,IAAIgF,KAA7B,CAAoC3M,OAApC,CAAd,CAA4D2H,IAAIjE,UAAhE,CAAnB,CAAgG1D,OAAhG,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB+zD,mBAAzB,CAA+C,SAAU54B,KAAV,CAAiBvsB,OAAjB,CAA0B,CACrE,GAAI/K,OAAQ,IAAZ,CACA,MAAOs3B,OAAMpyB,GAAN,CAAU,SAAUqyB,IAAV,CAAgB,CAAE,MAAOA,MAAKwyB,eAAL,CAAqB/pD,KAArB,CAA4B+K,OAA5B,CAAP,CAA8C,CAA1E,CAAP,CACH,CAHD,CAIAooB,eAAeh3B,SAAf,CAAyB6xD,mBAAzB,CAA+C,SAAUF,IAAV,CAAgB/iD,OAAhB,CAAyB,CACpE,GAAI1N,OAAQywD,KAAKzwD,KAAL,EAAcywD,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAA1B,CACA,MAAO,MAAKklD,aAAL,CAAmB,GAAIzF,eAAJ,CAAmBsD,KAAKptD,IAAxB,CAA8BrD,KAA9B,CAAqCywD,KAAKhgD,IAA1C,CAAgDggD,KAAK3J,SAArD,CAAgE2J,KAAKr/C,UAArE,CAAnB,CAAqG1D,OAArG,CAAP,CACH,CAHD,CAIAooB,eAAeh3B,SAAf,CAAyB8xD,wBAAzB,CAAoD,SAAUH,IAAV,CAAgB/iD,OAAhB,CAAyB,CACzE,MAAO,MAAKklD,aAAL,CAAmB,GAAI5D,oBAAJ,CAAwByB,KAAKptD,IAA7B,CAAmCotD,KAAKtH,MAAxC,CAAgD,KAAK2J,kBAAL,CAAwBrC,KAAK3B,UAA7B,CAAyCphD,OAAzC,CAAhD,CAAmG+iD,KAAKhgD,IAAxG,CAA8GggD,KAAK3J,SAAnH,CAA8H2J,KAAKr/C,UAAnI,CAAnB,CAAmK1D,OAAnK,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB+xD,mBAAzB,CAA+C,SAAUJ,IAAV,CAAgB/iD,OAAhB,CAAyB,CACpE,MAAO,MAAKklD,aAAL,CAAmB,GAAIvG,oBAAJ,CAAwBoE,KAAKv2B,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,CAAxB,CAAkE+iD,KAAKr/C,UAAvE,CAAnB,CAAuG1D,OAAvG,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBiyD,eAAzB,CAA2C,SAAUN,IAAV,CAAgB/iD,OAAhB,CAAyB,CAChE,MAAO,MAAKklD,aAAL,CAAmB,GAAI9B,gBAAJ,CAAoBL,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAApB,CAA+D+iD,KAAKr/C,UAApE,CAAnB,CAAoG1D,OAApG,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB4yD,qBAAzB,CAAiD,SAAUjB,IAAV,CAAgB/iD,OAAhB,CAAyB,CACtE,GAAI/K,OAAQ,IAAZ,CACA,GAAI+lC,QAAS+nB,KAAK/nB,MAAL,CAAYgkB,eAAZ,CAA4B,IAA5B,CAAkCh/C,OAAlC,CAAb,CACA,GAAI6jD,SAAUd,KAAKc,OAAL,CAAa1pD,GAAb,CAAiB,SAAUmrD,MAAV,CAAkB,CAAE,MAAO,IAAI5B,YAAJ,CAAgB4B,OAAO3vD,IAAvB,CAA6BV,MAAMmwD,kBAAN,CAAyBE,OAAOzX,IAAhC,CAAsC7tC,OAAtC,CAA7B,CAA6EslD,OAAOviD,IAApF,CAA0FuiD,OAAOlM,SAAjG,CAAP,CAAqH,CAA1J,CAAd,CACA,GAAImM,YAAaxC,KAAKe,iBAAL,EACb,GAAIL,YAAJ,CAAgBV,KAAKe,iBAAL,CAAuBnuD,IAAvC,CAA6CotD,KAAKe,iBAAL,CAAuBrI,MAApE,CAA4E,KAAK2J,kBAAL,CAAwBrC,KAAKe,iBAAL,CAAuBjW,IAA/C,CAAqD7tC,OAArD,CAA5E,CAA2I+iD,KAAKe,iBAAL,CAAuB/gD,IAAlK,CAAwKggD,KAAKe,iBAAL,CAAuB1K,SAA/L,CADJ,CAEA,GAAI2K,SAAUhB,KAAKgB,OAAL,CAAa5pD,GAAb,CAAiB,SAAU4lD,MAAV,CAAkB,CAAE,MAAO,IAAI0D,YAAJ,CAAgB1D,OAAOpqD,IAAvB,CAA6BoqD,OAAOtE,MAApC,CAA4CxmD,MAAMmwD,kBAAN,CAAyBrF,OAAOlS,IAAhC,CAAsC7tC,OAAtC,CAA5C,CAA4F+/C,OAAOh9C,IAAnG,CAAyGg9C,OAAO3G,SAAhH,CAAP,CAAoI,CAAzK,CAAd,CACA,MAAO,MAAK8L,aAAL,CAAmB,GAAIvB,UAAJ,CAAcZ,KAAKptD,IAAnB,CAAyBqlC,MAAzB,CAAiC+nB,KAAKa,MAAtC,CAA8CC,OAA9C,CAAuD0B,UAAvD,CAAmExB,OAAnE,CAA4EhB,KAAK3J,SAAjF,CAA4F2J,KAAKr/C,UAAjG,CAAnB,CAAiI1D,OAAjI,CAAP,CACH,CARD,CASAooB,eAAeh3B,SAAf,CAAyB8yD,WAAzB,CAAuC,SAAUnB,IAAV,CAAgB/iD,OAAhB,CAAyB,CAC5D,MAAO,MAAKklD,aAAL,CAAmB,GAAIjB,OAAJ,CAAWlB,KAAK/mC,SAAL,CAAegjC,eAAf,CAA+B,IAA/B,CAAqCh/C,OAArC,CAAX,CAA0D,KAAKolD,kBAAL,CAAwBrC,KAAK/G,QAA7B,CAAuCh8C,OAAvC,CAA1D,CAA2G,KAAKolD,kBAAL,CAAwBrC,KAAK9G,SAA7B,CAAwCj8C,OAAxC,CAA3G,CAA6J+iD,KAAKr/C,UAAlK,CAAnB,CAAkM1D,OAAlM,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyByzD,iBAAzB,CAA6C,SAAU9B,IAAV,CAAgB/iD,OAAhB,CAAyB,CAClE,MAAO,MAAKklD,aAAL,CAAmB,GAAIR,aAAJ,CAAiB,KAAKU,kBAAL,CAAwBrC,KAAK4B,SAA7B,CAAwC3kD,OAAxC,CAAjB,CAAmE,KAAKolD,kBAAL,CAAwBrC,KAAK6B,UAA7B,CAAyC5kD,OAAzC,CAAnE,CAAsH+iD,KAAKr/C,UAA3H,CAAnB,CAA2J1D,OAA3J,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyB2zD,cAAzB,CAA0C,SAAUhC,IAAV,CAAgB/iD,OAAhB,CAAyB,CAC/D,MAAO,MAAKklD,aAAL,CAAmB,GAAIJ,UAAJ,CAAc/B,KAAKlwD,KAAL,CAAWmsD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,CAAd,CAAyD+iD,KAAKr/C,UAA9D,CAAnB,CAA8F1D,OAA9F,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBizD,gBAAzB,CAA4C,SAAUtB,IAAV,CAAgB/iD,OAAhB,CAAyB,CACjE,MAAO,MAAKklD,aAAL,CAAmBnC,IAAnB,CAAyB/iD,OAAzB,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBozD,qBAAzB,CAAiD,SAAUzB,IAAV,CAAgB/iD,OAAhB,CAAyB,CACtE,MAAO,MAAKklD,aAAL,CAAmBnC,IAAnB,CAAyB/iD,OAAzB,CAAP,CACH,CAFD,CAGAooB,eAAeh3B,SAAf,CAAyBg0D,kBAAzB,CAA8C,SAAUI,KAAV,CAAiBxlD,OAAjB,CAA0B,CACpE,GAAI/K,OAAQ,IAAZ,CACA,MAAOuwD,OAAMrrD,GAAN,CAAU,SAAU4oD,IAAV,CAAgB,CAAE,MAAOA,MAAKC,cAAL,CAAoB/tD,KAApB,CAA2B+K,OAA3B,CAAP,CAA6C,CAAzE,CAAP,CACH,CAHD,CAIA,MAAOooB,eAAP,CACH,CArHqC,EAAtC,CAsHA,GAAIq9B,uBAAwB,aAAe,UAAY,CACnD,QAASt9B,oBAAT,EAA+B,CAC9B,CACDA,oBAAoB/2B,SAApB,CAA8BqoD,SAA9B,CAA0C,SAAU9xC,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO2H,IAAP,CAAa,CAAjF,CACAwgB,oBAAoB/2B,SAApB,CAA8B4tD,eAA9B,CAAgD,SAAUr3C,GAAV,CAAe3H,OAAf,CAAwB,CACpE,GAAI2H,IAAI5E,IAAR,CAAc,CACV4E,IAAI5E,IAAJ,CAAS02C,SAAT,CAAmB,IAAnB,CAAyBz5C,OAAzB,EACH,CACD,MAAO2H,IAAP,CACH,CALD,CAMAwgB,oBAAoB/2B,SAApB,CAA8BsoD,gBAA9B,CAAiD,SAAU32C,IAAV,CAAgB/C,OAAhB,CAAyB,CAAE,MAAO,MAAKy5C,SAAL,CAAe12C,IAAf,CAAqB/C,OAArB,CAAP,CAAuC,CAAnH,CACAmoB,oBAAoB/2B,SAApB,CAA8ByoD,mBAA9B,CAAoD,SAAU92C,IAAV,CAAgB/C,OAAhB,CAAyB,CACzE,GAAI/K,OAAQ,IAAZ,CACA8N,KAAKzQ,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,EACA,GAAI+C,KAAK62C,UAAL,GAAoB,IAAxB,CAA8B,CAC1B72C,KAAK62C,UAAL,CAAgBzkD,OAAhB,CAAwB,SAAU+rD,KAAV,CAAiB,CAAE,MAAOjsD,OAAMwkD,SAAN,CAAgByH,KAAhB,CAAuBlhD,OAAvB,CAAP,CAAyC,CAApF,EACH,CACD,MAAO,MAAKy5C,SAAL,CAAe12C,IAAf,CAAqB/C,OAArB,CAAP,CACH,CAPD,CAQAmoB,oBAAoB/2B,SAApB,CAA8B4oD,cAA9B,CAA+C,SAAUj3C,IAAV,CAAgB/C,OAAhB,CAAyB,CAAE,MAAO,MAAKy5C,SAAL,CAAe12C,IAAf,CAAqB/C,OAArB,CAAP,CAAuC,CAAjH,CACAmoB,oBAAoB/2B,SAApB,CAA8B+oD,YAA9B,CAA6C,SAAUp3C,IAAV,CAAgB/C,OAAhB,CAAyB,CAAE,MAAO,MAAKy5C,SAAL,CAAe12C,IAAf,CAAqB/C,OAArB,CAAP,CAAuC,CAA/G,CACAmoB,oBAAoB/2B,SAApB,CAA8BkuD,oBAA9B,CAAqD,SAAU33C,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO2H,IAAP,CAAa,CAA5F,CACAwgB,oBAAoB/2B,SAApB,CAA8BguD,eAA9B,CAAgD,SAAUz3C,GAAV,CAAe3H,OAAf,CAAwB,CAAE,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CAA4C,CAAtH,CACAmoB,oBAAoB/2B,SAApB,CAA8B6tD,gBAA9B,CAAiD,SAAUt3C,GAAV,CAAe3H,OAAf,CAAwB,CACrE,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAFD,CAGAmoB,oBAAoB/2B,SAApB,CAA8BmuD,iBAA9B,CAAkD,SAAU53C,GAAV,CAAe3H,OAAf,CAAwB,CACtE2H,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8BuuD,iBAA9B,CAAkD,SAAUh4C,GAAV,CAAe3H,OAAf,CAAwB,CACtE2H,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,EACA2H,IAAIvF,KAAJ,CAAU48C,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA2H,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CALD,CAMAmoB,oBAAoB/2B,SAApB,CAA8ByuD,kBAA9B,CAAmD,SAAUl4C,GAAV,CAAe3H,OAAf,CAAwB,CACvE2H,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,EACA2H,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8B4uD,qBAA9B,CAAsD,SAAUr4C,GAAV,CAAe3H,OAAf,CAAwB,CAC1E2H,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,EACA,KAAKmlD,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmC4C,OAAnC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8B8uD,uBAA9B,CAAwD,SAAUv4C,GAAV,CAAe3H,OAAf,CAAwB,CAC5E2H,IAAIs4C,EAAJ,CAAOjB,eAAP,CAAuB,IAAvB,CAA6Bh/C,OAA7B,EACA,KAAKmlD,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmC4C,OAAnC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8BgvD,oBAA9B,CAAqD,SAAUz4C,GAAV,CAAe3H,OAAf,CAAwB,CACzE2H,IAAIw4C,SAAJ,CAAcnB,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,EACA,KAAKmlD,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmC4C,OAAnC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8BkvD,gBAA9B,CAAiD,SAAU34C,GAAV,CAAe3H,OAAf,CAAwB,CACrE,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAFD,CAGAmoB,oBAAoB/2B,SAApB,CAA8BqvD,iBAA9B,CAAkD,SAAU94C,GAAV,CAAe3H,OAAf,CAAwB,CACtE,GAAI/K,OAAQ,IAAZ,CACA,GAAI0S,IAAIiyC,UAAR,CAAoB,CAChBjyC,IAAIiyC,UAAJ,CAAezkD,OAAf,CAAuB,SAAU4N,IAAV,CAAgB,CAAE,MAAOA,MAAK02C,SAAL,CAAexkD,KAAf,CAAsB+K,OAAtB,CAAP,CAAwC,CAAjF,EACH,CACD,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAND,CAOAmoB,oBAAoB/2B,SAApB,CAA8BuvD,oBAA9B,CAAqD,SAAUh5C,GAAV,CAAe3H,OAAf,CAAwB,CACzE2H,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,EACA2H,IAAIq0C,QAAJ,CAAagD,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,EACA2H,IAAIs0C,SAAJ,CAAc+C,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CALD,CAMAmoB,oBAAoB/2B,SAApB,CAA8ByvD,YAA9B,CAA6C,SAAUl5C,GAAV,CAAe3H,OAAf,CAAwB,CACjE2H,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8B2vD,sBAA9B,CAAuD,SAAUp5C,GAAV,CAAe3H,OAAf,CAAwB,CAC3E2H,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCh/C,OAApC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8B4vD,aAA9B,CAA8C,SAAUr5C,GAAV,CAAe3H,OAAf,CAAwB,CAClE2H,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8BiwD,iBAA9B,CAAkD,SAAU15C,GAAV,CAAe3H,OAAf,CAAwB,CACtE,KAAKolD,kBAAL,CAAwBz9C,IAAIy5C,UAA5B,CAAwCphD,OAAxC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8BowD,uBAA9B,CAAwD,SAAU75C,GAAV,CAAe3H,OAAf,CAAwB,CAC5E2H,IAAI45C,GAAJ,CAAQvC,eAAR,CAAwB,IAAxB,CAA8Bh/C,OAA9B,EACA2H,IAAIy0C,GAAJ,CAAQ4C,eAAR,CAAwB,IAAxB,CAA8Bh/C,OAA9B,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8BqwD,iBAA9B,CAAkD,SAAU95C,GAAV,CAAe3H,OAAf,CAAwB,CACtE2H,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8BswD,gBAA9B,CAAiD,SAAU/5C,GAAV,CAAe3H,OAAf,CAAwB,CACrE2H,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCh/C,OAAnC,EACA2H,IAAIvF,KAAJ,CAAU48C,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8B0wD,qBAA9B,CAAsD,SAAUn6C,GAAV,CAAe3H,OAAf,CAAwB,CAC1E,KAAKmlD,mBAAL,CAAyBx9C,IAAIi6C,OAA7B,CAAsC5hD,OAAtC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8B6wD,mBAA9B,CAAoD,SAAUt6C,GAAV,CAAe3H,OAAf,CAAwB,CACxE,GAAI/K,OAAQ,IAAZ,CACA0S,IAAIi6C,OAAJ,CAAYzsD,OAAZ,CAAoB,SAAUi3C,KAAV,CAAiB,CAAE,MAAOA,OAAM95C,KAAN,CAAY0sD,eAAZ,CAA4B/pD,KAA5B,CAAmC+K,OAAnC,CAAP,CAAqD,CAA5F,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAJD,CAKAmoB,oBAAoB/2B,SAApB,CAA8B+wD,cAA9B,CAA+C,SAAUx6C,GAAV,CAAe3H,OAAf,CAAwB,CACnE,KAAKmlD,mBAAL,CAAyBx9C,IAAIgF,KAA7B,CAAoC3M,OAApC,EACA,MAAO,MAAKg/C,eAAL,CAAqBr3C,GAArB,CAA0B3H,OAA1B,CAAP,CACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8B+zD,mBAA9B,CAAoD,SAAU54B,KAAV,CAAiBvsB,OAAjB,CAA0B,CAC1E,GAAI/K,OAAQ,IAAZ,CACAs3B,MAAMp3B,OAAN,CAAc,SAAUq3B,IAAV,CAAgB,CAAE,MAAOA,MAAKwyB,eAAL,CAAqB/pD,KAArB,CAA4B+K,OAA5B,CAAP,CAA8C,CAA9E,EACH,CAHD,CAIAmoB,oBAAoB/2B,SAApB,CAA8B6xD,mBAA9B,CAAoD,SAAUF,IAAV,CAAgB/iD,OAAhB,CAAyB,CACzE,GAAI+iD,KAAKzwD,KAAT,CAAgB,CACZywD,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,EACH,CACD,GAAI+iD,KAAKhgD,IAAT,CAAe,CACXggD,KAAKhgD,IAAL,CAAU02C,SAAV,CAAoB,IAApB,CAA0Bz5C,OAA1B,EACH,CACD,MAAO+iD,KAAP,CACH,CARD,CASA56B,oBAAoB/2B,SAApB,CAA8B8xD,wBAA9B,CAAyD,SAAUH,IAAV,CAAgB/iD,OAAhB,CAAyB,CAC9E,KAAKolD,kBAAL,CAAwBrC,KAAK3B,UAA7B,CAAyCphD,OAAzC,EACA,GAAI+iD,KAAKhgD,IAAT,CAAe,CACXggD,KAAKhgD,IAAL,CAAU02C,SAAV,CAAoB,IAApB,CAA0Bz5C,OAA1B,EACH,CACD,MAAO+iD,KAAP,CACH,CAND,CAOA56B,oBAAoB/2B,SAApB,CAA8B+xD,mBAA9B,CAAoD,SAAUJ,IAAV,CAAgB/iD,OAAhB,CAAyB,CACzE+iD,KAAKv2B,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,EACA,MAAO+iD,KAAP,CACH,CAHD,CAIA56B,oBAAoB/2B,SAApB,CAA8BiyD,eAA9B,CAAgD,SAAUN,IAAV,CAAgB/iD,OAAhB,CAAyB,CACrE+iD,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,EACA,MAAO+iD,KAAP,CACH,CAHD,CAIA56B,oBAAoB/2B,SAApB,CAA8B4yD,qBAA9B,CAAsD,SAAUjB,IAAV,CAAgB/iD,OAAhB,CAAyB,CAC3E,GAAI/K,OAAQ,IAAZ,CACA8tD,KAAK/nB,MAAL,CAAYgkB,eAAZ,CAA4B,IAA5B,CAAkCh/C,OAAlC,EACA+iD,KAAKc,OAAL,CAAa1uD,OAAb,CAAqB,SAAUmwD,MAAV,CAAkB,CAAE,MAAOrwD,OAAMmwD,kBAAN,CAAyBE,OAAOzX,IAAhC,CAAsC7tC,OAAtC,CAAP,CAAwD,CAAjG,EACA,GAAI+iD,KAAKe,iBAAT,CAA4B,CACxB,KAAKsB,kBAAL,CAAwBrC,KAAKe,iBAAL,CAAuBjW,IAA/C,CAAqD7tC,OAArD,EACH,CACD+iD,KAAKgB,OAAL,CAAa5uD,OAAb,CAAqB,SAAU4qD,MAAV,CAAkB,CAAE,MAAO9qD,OAAMmwD,kBAAN,CAAyBrF,OAAOlS,IAAhC,CAAsC7tC,OAAtC,CAAP,CAAwD,CAAjG,EACA,MAAO+iD,KAAP,CACH,CATD,CAUA56B,oBAAoB/2B,SAApB,CAA8B8yD,WAA9B,CAA4C,SAAUnB,IAAV,CAAgB/iD,OAAhB,CAAyB,CACjE+iD,KAAK/mC,SAAL,CAAegjC,eAAf,CAA+B,IAA/B,CAAqCh/C,OAArC,EACA,KAAKolD,kBAAL,CAAwBrC,KAAK/G,QAA7B,CAAuCh8C,OAAvC,EACA,KAAKolD,kBAAL,CAAwBrC,KAAK9G,SAA7B,CAAwCj8C,OAAxC,EACA,MAAO+iD,KAAP,CACH,CALD,CAMA56B,oBAAoB/2B,SAApB,CAA8ByzD,iBAA9B,CAAkD,SAAU9B,IAAV,CAAgB/iD,OAAhB,CAAyB,CACvE,KAAKolD,kBAAL,CAAwBrC,KAAK4B,SAA7B,CAAwC3kD,OAAxC,EACA,KAAKolD,kBAAL,CAAwBrC,KAAK6B,UAA7B,CAAyC5kD,OAAzC,EACA,MAAO+iD,KAAP,CACH,CAJD,CAKA56B,oBAAoB/2B,SAApB,CAA8B2zD,cAA9B,CAA+C,SAAUhC,IAAV,CAAgB/iD,OAAhB,CAAyB,CACpE+iD,KAAKlwD,KAAL,CAAWmsD,eAAX,CAA2B,IAA3B,CAAiCh/C,OAAjC,EACA,MAAO+iD,KAAP,CACH,CAHD,CAIA56B,oBAAoB/2B,SAApB,CAA8BizD,gBAA9B,CAAiD,SAAUtB,IAAV,CAAgB/iD,OAAhB,CAAyB,CAAE,MAAO+iD,KAAP,CAAc,CAA1F,CACA56B,oBAAoB/2B,SAApB,CAA8BozD,qBAA9B,CAAsD,SAAUzB,IAAV,CAAgB/iD,OAAhB,CAAyB,CAAE,MAAO+iD,KAAP,CAAc,CAA/F,CACA56B,oBAAoB/2B,SAApB,CAA8Bg0D,kBAA9B,CAAmD,SAAUI,KAAV,CAAiBxlD,OAAjB,CAA0B,CACzE,GAAI/K,OAAQ,IAAZ,CACAuwD,MAAMrwD,OAAN,CAAc,SAAU4tD,IAAV,CAAgB,CAAE,MAAOA,MAAKC,cAAL,CAAoB/tD,KAApB,CAA2B+K,OAA3B,CAAP,CAA6C,CAA7E,EACH,CAHD,CAIA,MAAOmoB,oBAAP,CACH,CA/K0C,EAA3C,CAgLA,QAASu9B,iBAAT,CAA0BF,KAA1B,CAAiC,CAC7B,GAAIzlD,SAAU,GAAI4lD,gBAAJ,EAAd,CACA5lD,QAAQqlD,kBAAR,CAA2BI,KAA3B,CAAkC,IAAlC,EACA,MAAOzlD,SAAQ6lD,QAAf,CACH,CACD,GAAID,iBAAkB,aAAe,SAAU99C,MAAV,CAAkB,CACnD5W,UAAU00D,eAAV,CAA2B99C,MAA3B,EACA,QAAS89C,gBAAT,EAA2B,CACvB,GAAI1wD,OAAQ4S,SAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAAhE,CACAqD,MAAM2wD,QAAN,CAAiB,GAAI33C,IAAJ,EAAjB,CACA,MAAOhZ,MAAP,CACH,CACD0wD,gBAAgBv0D,SAAhB,CAA0B8xD,wBAA1B,CAAqD,SAAUH,IAAV,CAAgB/iD,OAAhB,CAAyB,CAC1E;AACA,MAAO+iD,KAAP,CACH,CAHD,CAIA4C,gBAAgBv0D,SAAhB,CAA0B4yD,qBAA1B,CAAkD,SAAUjB,IAAV,CAAgB/iD,OAAhB,CAAyB,CACvE;AACA,MAAO+iD,KAAP,CACH,CAHD,CAIA4C,gBAAgBv0D,SAAhB,CAA0B6tD,gBAA1B,CAA6C,SAAUt3C,GAAV,CAAe3H,OAAf,CAAwB,CACjE,GAAI2H,IAAIhS,IAAR,CAAc,CACV,KAAKiwD,QAAL,CAAch3C,GAAd,CAAkBjH,IAAIhS,IAAtB,EACH,CACD,MAAO,KAAP,CACH,CALD,CAMA,MAAOgwD,gBAAP,CACH,CAtBoC,CAsBnCF,qBAtBmC,CAArC,CAuBA,QAASI,0BAAT,CAAmCL,KAAnC,CAA0C,CACtC,GAAIzlD,SAAU,GAAI+lD,+BAAJ,EAAd,CACA/lD,QAAQqlD,kBAAR,CAA2BI,KAA3B,CAAkC,IAAlC,EACA,MAAOzlD,SAAQgmD,kBAAf,CACH,CACD,GAAID,gCAAiC,aAAe,SAAUj+C,MAAV,CAAkB,CAClE5W,UAAU60D,8BAAV,CAA0Cj+C,MAA1C,EACA,QAASi+C,+BAAT,EAA0C,CACtC,GAAI7wD,OAAQ4S,SAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAAhE,CACAqD,MAAM8wD,kBAAN,CAA2B,EAA3B,CACA,MAAO9wD,MAAP,CACH,CACD6wD,+BAA+B10D,SAA/B,CAAyCqvD,iBAAzC,CAA6D,SAAU9tD,CAAV,CAAaqN,OAAb,CAAsB,CAC/E,KAAK+lD,kBAAL,CAAwBnzD,IAAxB,CAA6BD,EAAEL,KAA/B,EACA,MAAOuV,QAAOzW,SAAP,CAAiBqvD,iBAAjB,CAAmC3uD,IAAnC,CAAwC,IAAxC,CAA8Ca,CAA9C,CAAiDqN,OAAjD,CAAP,CACH,CAHD,CAIA,MAAO8lD,+BAAP,CACH,CAZmD,CAYlDL,qBAZkD,CAApD,CAaA,QAASO,mCAAT,CAA4CjD,IAA5C,CAAkDr/C,UAAlD,CAA8D,CAC1D,GAAI,CAACA,UAAL,CAAiB,CACb,MAAOq/C,KAAP,CACH,CACD,GAAIkD,aAAc,GAAIC,4BAAJ,CAAgCxiD,UAAhC,CAAlB,CACA,MAAOq/C,MAAKC,cAAL,CAAoBiD,WAApB,CAAiC,IAAjC,CAAP,CACH,CACD,QAASE,oCAAT,CAA6C35B,IAA7C,CAAmD9oB,UAAnD,CAA+D,CAC3D,GAAI,CAACA,UAAL,CAAiB,CACb,MAAO8oB,KAAP,CACH,CACD,GAAIy5B,aAAc,GAAIC,4BAAJ,CAAgCxiD,UAAhC,CAAlB,CACA,MAAO8oB,MAAKwyB,eAAL,CAAqBiH,WAArB,CAAkC,IAAlC,CAAP,CACH,CACD,GAAIC,6BAA8B,aAAe,SAAUr+C,MAAV,CAAkB,CAC/D5W,UAAUi1D,2BAAV,CAAuCr+C,MAAvC,EACA,QAASq+C,4BAAT,CAAqCxiD,UAArC,CAAiD,CAC7C,GAAIzO,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAMyO,UAAN,CAAmBA,UAAnB,CACA,MAAOzO,MAAP,CACH,CACDixD,4BAA4B90D,SAA5B,CAAsCg1D,MAAtC,CAA+C,SAAU5nD,GAAV,CAAe,CAC1D,GAAI6nD,OAAQ11D,OAAOU,MAAP,CAAcmN,IAAIrN,WAAJ,CAAgBC,SAA9B,CAAZ,CACA,IAAK,GAAImT,KAAT,GAAiB/F,IAAjB,CAAsB,CAClB6nD,MAAM9hD,IAAN,EAAc/F,IAAI+F,IAAJ,CAAd,CACH,CACD,MAAO8hD,MAAP,CACH,CAND,CAOAH,4BAA4B90D,SAA5B,CAAsC6zD,aAAtC,CAAsD,SAAUz4B,IAAV,CAAgBxsB,OAAhB,CAAyB,CAC3E,GAAI,CAACwsB,KAAK9oB,UAAV,CAAsB,CAClB8oB,KAAO,KAAK45B,MAAL,CAAY55B,IAAZ,CAAP,CACAA,KAAK9oB,UAAL,CAAkB,KAAKA,UAAvB,CACH,CACD,MAAO8oB,KAAP,CACH,CAND,CAOA05B,4BAA4B90D,SAA5B,CAAsC8zD,aAAtC,CAAsD,SAAUnC,IAAV,CAAgB/iD,OAAhB,CAAyB,CAC3E,GAAI,CAAC+iD,KAAKr/C,UAAV,CAAsB,CAClBq/C,KAAO,KAAKqD,MAAL,CAAYrD,IAAZ,CAAP,CACAA,KAAKr/C,UAAL,CAAkB,KAAKA,UAAvB,CACH,CACD,MAAOq/C,KAAP,CACH,CAND,CAOA,MAAOmD,4BAAP,CACH,CA7BgD,CA6B/ClB,gBA7B+C,CAAjD,CA8BA,QAASsB,SAAT,CAAkB3wD,IAAlB,CAAwBoN,IAAxB,CAA8BW,UAA9B,CAA0C,CACtC,MAAO,IAAIm7C,YAAJ,CAAgBlpD,IAAhB,CAAsBoN,IAAtB,CAA4BW,UAA5B,CAAP,CACH,CACD,QAAS6iD,WAAT,CAAoB34C,EAApB,CAAwBgsC,UAAxB,CAAoCl2C,UAApC,CAAgD,CAC5C,GAAIk2C,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,IAAb,CAAoB,CACjD,MAAO,IAAI2G,aAAJ,CAAiB3yC,EAAjB,CAAqB,IAArB,CAA2BgsC,UAA3B,CAAuCl2C,UAAvC,CAAP,CACH,CACD,QAAS8iD,WAAT,CAAoB54C,EAApB,CAAwBgsC,UAAxB,CAAoC6M,aAApC,CAAmD,CAC/C,GAAI7M,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,IAAb,CAAoB,CACjD,GAAI6M,gBAAkB,IAAK,EAA3B,CAA8B,CAAEA,cAAgB,IAAhB,CAAuB,CACvD,MAAO74C,KAAM,IAAN,CAAa84C,eAAeH,WAAW34C,EAAX,CAAegsC,UAAf,CAA2B,IAA3B,CAAf,CAAiD6M,aAAjD,CAAb,CAA+E,IAAtF,CACH,CACD,QAASC,eAAT,CAAwBl6B,IAAxB,CAA8Bi6B,aAA9B,CAA6C7M,UAA7C,CAAyD,CACrD,GAAI6M,gBAAkB,IAAK,EAA3B,CAA8B,CAAEA,cAAgB,IAAhB,CAAuB,CACvD,GAAI7M,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,IAAb,CAAoB,CACjD,MAAO,IAAID,eAAJ,CAAmBntB,IAAnB,CAAyBi6B,aAAzB,CAAwC7M,UAAxC,CAAP,CACH,CACD,QAAS+M,WAAT,CAAoBn6B,IAApB,CAA0B,CACtB,MAAO,IAAI2yB,WAAJ,CAAe3yB,IAAf,CAAP,CACH,CACD,QAASo6B,WAAT,CAAoBvoD,MAApB,CAA4B0E,IAA5B,CAAkCW,UAAlC,CAA8C,CAC1C,MAAO,IAAIi+C,iBAAJ,CAAqBtjD,MAArB,CAA6B0E,IAA7B,CAAmCW,UAAnC,CAAP,CACH,CACD,QAASmjD,WAAT,CAAoBxoD,MAApB,CAA4B0E,IAA5B,CAAkC,CAC9B,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,IAAP,CAAc,CACrC,MAAO,IAAIi/C,eAAJ,CAAmB3jD,OAAOlE,GAAP,CAAW,SAAUxH,CAAV,CAAa,CAAE,MAAO,IAAIovD,gBAAJ,CAAoBpvD,EAAEkO,GAAtB,CAA2BlO,EAAEL,KAA7B,CAAoCK,EAAEm7B,MAAtC,CAAP,CAAuD,CAAjF,CAAnB,CAAuG/qB,IAAvG,CAA6G,IAA7G,CAAP,CACH,CACD,QAAS+jD,IAAT,CAAat6B,IAAb,CAAmB9oB,UAAnB,CAA+B,CAC3B,MAAO,IAAIk9C,QAAJ,CAAYp0B,IAAZ,CAAkB9oB,UAAlB,CAAP,CACH,CACD,QAASqjD,cAAT,CAAuBv6B,IAAvB,CAA6B9oB,UAA7B,CAAyC,CACrC,MAAO,IAAIo9C,cAAJ,CAAkBt0B,IAAlB,CAAwB9oB,UAAxB,CAAP,CACH,CACD,QAASu8C,GAAT,CAAYxE,MAAZ,CAAoB5N,IAApB,CAA0B9qC,IAA1B,CAAgCW,UAAhC,CAA4C/N,IAA5C,CAAkD,CAC9C,MAAO,IAAIwrD,aAAJ,CAAiB1F,MAAjB,CAAyB5N,IAAzB,CAA+B9qC,IAA/B,CAAqCW,UAArC,CAAiD/N,IAAjD,CAAP,CACH,CACD,QAASqxD,OAAT,CAAgBhrC,SAAhB,CAA2BirC,UAA3B,CAAuCC,UAAvC,CAAmD,CAC/C,MAAO,IAAIjD,OAAJ,CAAWjoC,SAAX,CAAsBirC,UAAtB,CAAkCC,UAAlC,CAAP,CACH,CACD,QAASC,QAAT,CAAiB70D,KAAjB,CAAwByQ,IAAxB,CAA8BW,UAA9B,CAA0C,CACtC,MAAO,IAAI28C,YAAJ,CAAgB/tD,KAAhB,CAAuByQ,IAAvB,CAA6BW,UAA7B,CAAP,CACH,CACD,QAAS0jD,OAAT,CAAgBhhC,GAAhB,CAAqB,CACjB,MAAOA,eAAei6B,YAAf,EAA8Bj6B,IAAI9zB,KAAJ,GAAc,IAAnD,CACH,CACD;;;OAIA,QAAS+0D,YAAT,CAAqB/lB,GAArB,CAA0B,CACtB,GAAIgmB,KAAM,EAAV,CACA,GAAIhmB,IAAI9tC,OAAR,CAAiB,CACb8zD,KAAO,KAAOhmB,IAAI9tC,OAAlB,CACH,CACD,GAAI8tC,IAAIrhB,IAAR,CAAc,CACV,GAAIqhB,IAAIrhB,IAAJ,CAASlpB,KAAT,CAAe,WAAf,CAAJ,CAAiC,CAC7B,KAAM,IAAI1D,MAAJ,CAAU,yCAAV,CAAN,CACH,CACDi0D,KAAO,IAAMhmB,IAAIrhB,IAAJ,CAAS5gB,OAAT,CAAiB,IAAjB,CAAuB,KAAvB,CAAb,CACH,CACD,MAAOioD,IAAP,CACH,CACD,QAAS7C,cAAT,CAAuBF,IAAvB,CAA6B,CACzB,GAAIgD,IAAJ,CAASpzD,EAAT,CACA,GAAIowD,KAAK1yD,MAAL,GAAgB,CAApB,CACI,MAAO,EAAP,CACJ,GAAIy1D,KAAM,KAAV,CACA,GAAI,CACA,IAAK,GAAIE,QAASx1D,SAASuyD,IAAT,CAAb,CAA6BkD,SAAWD,OAAOn1D,IAAP,EAA7C,CAA4D,CAACo1D,SAASl1D,IAAtE,CAA4Ek1D,SAAWD,OAAOn1D,IAAP,EAAvF,CAAsG,CAClG,GAAIivC,KAAMmmB,SAASn1D,KAAnB,CACAg1D,KAAO,IAAP,CACA;AACAA,KAAOD,YAAY/lB,GAAZ,EAAiBjiC,OAAjB,CAAyB,KAAzB,CAAgC,OAAhC,CAAP,CACAioD,KAAO,IAAP,CACH,CACJ,CACD,MAAOI,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CATzC,OAUQ,CACJ,GAAI,CACA,GAAID,UAAY,CAACA,SAASl1D,IAAtB,GAA+B4B,GAAKqzD,OAAOG,MAA3C,CAAJ,CAAwDxzD,GAAGrC,IAAH,CAAQ01D,MAAR,EAC3D,CAFD,OAGQ,CAAE,GAAID,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACDy0D,KAAO,GAAP,CACA,MAAOA,IAAP,CACH,CAED;;;;;;OAOA,GAAIM,aAAc,UAAlB,CACA,QAASC,wBAAT,CAAiCt3B,GAAjC,CAAsCj+B,KAAtC,CAA6CyQ,IAA7C,CAAmD,CAC/C,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,IAAP,CAAc,CACrC,MAAOjD,YAAWxN,KAAX,CAAkB,GAAIw1D,2BAAJ,CAA+Bv3B,GAA/B,CAAlB,CAAuDxtB,IAAvD,CAAP,CACH,CACD,GAAI+kD,4BAA6B,aAAe,UAAY,CACxD,QAASA,2BAAT,CAAoCv3B,GAApC,CAAyC,CACrC,KAAKA,GAAL,CAAWA,GAAX,CACH,CACDu3B,2BAA2B12D,SAA3B,CAAqC8O,UAArC,CAAkD,SAAUS,GAAV,CAAeoC,IAAf,CAAqB,CACnE,GAAI9N,OAAQ,IAAZ,CACA,MAAO2xD,YAAWjmD,IAAIxG,GAAJ,CAAQ,SAAU7H,KAAV,CAAiB,CAAE,MAAOwN,YAAWxN,KAAX,CAAkB2C,KAAlB,CAAyB,IAAzB,CAAP,CAAwC,CAAnE,CAAX,CAAiF8N,IAAjF,CAAP,CACH,CAHD,CAIA+kD,2BAA2B12D,SAA3B,CAAqCgP,cAArC,CAAsD,SAAUjG,GAAV,CAAe4I,IAAf,CAAqB,CACvE,GAAI9N,OAAQ,IAAZ,CACA,GAAI2sD,SAAU,EAAd,CACA,GAAImG,WAAY,GAAI95C,IAAJ,CAAQ9T,KAAOA,IAAIytD,WAAJ,CAAf,CAAhB,CACAj3D,OAAOiQ,IAAP,CAAYzG,GAAZ,EAAiBhF,OAAjB,CAAyB,SAAU0L,GAAV,CAAe,CACpC+gD,QAAQhvD,IAAR,CAAa,GAAImvD,gBAAJ,CAAoBlhD,GAApB,CAAyBf,WAAW3F,IAAI0G,GAAJ,CAAX,CAAqB5L,KAArB,CAA4B,IAA5B,CAAzB,CAA4D8yD,UAAUp5C,GAAV,CAAc9N,GAAd,CAA5D,CAAb,EACH,CAFD,EAGA,MAAO,IAAImhD,eAAJ,CAAmBJ,OAAnB,CAA4B7+C,IAA5B,CAAP,CACH,CARD,CASA+kD,2BAA2B12D,SAA3B,CAAqCiP,cAArC,CAAsD,SAAU/N,KAAV,CAAiByQ,IAAjB,CAAuB,CAAE,MAAOokD,SAAQ70D,KAAR,CAAeyQ,IAAf,CAAP,CAA8B,CAA7G,CACA+kD,2BAA2B12D,SAA3B,CAAqCkP,UAArC,CAAkD,SAAUhO,KAAV,CAAiByQ,IAAjB,CAAuB,CACrE,GAAIzQ,gBAAiB+oD,WAArB,CAAiC,CAC7B,MAAO/oD,MAAP,CACH,CAFD,IAGK,CACD,MAAO,MAAKi+B,GAAL,CAASg2B,UAAT,CAAoBj0D,KAApB,CAAP,CACH,CACJ,CAPD,CAQA,MAAOw1D,2BAAP,CACH,CA3B+C,EAAhD,CA6BA;;;;;;OAOA,QAASE,SAAT,CAAkBnnD,GAAlB,CAAuBvO,KAAvB,CAA8B,CAC1B,MAAO,CAAEuO,IAAKA,GAAP,CAAYvO,MAAOA,KAAnB,CAA0Bw7B,OAAQ,KAAlC,CAAP,CACH,CACD,GAAIm6B,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,CAA4BjP,SAA5B,CAAuCkP,iBAAvC,CAA0D,CACtD,KAAKlP,SAAL,CAAiBA,SAAjB,CACA,KAAKkP,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,aAAL,CAAqBnP,UAAUC,wBAAV,CAAmCnD,YAAYoB,QAA/C,CAArB,CACH,CACD+Q,mBAAmB72D,SAAnB,CAA6Bg3D,SAA7B,CAAyC,SAAU34C,IAAV,CAAgB8gB,GAAhB,CAAqB,CAC1D,GAAIt7B,OAAQ,IAAZ,CACA,MAAOwa,MAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe,CAC3B,GAAIltD,OAAQktD,GAAZ,CACA,GAAIjrD,MAAO,CAACjC,KAAD,CAAX,CACA,GAAImtD,OAAQ,CAAE,aAAd,CACA,GAAIx3D,MAAMmP,OAAN,CAAcooD,GAAd,CAAJ,CAAwB,CACpB,IAAK,GAAI32D,GAAI,CAAb,CAAgBA,EAAI22D,IAAIx2D,MAAxB,CAAgCH,GAAhC,CAAqC,CACjC,GAAI6T,GAAI8iD,IAAI32D,CAAJ,CAAR,CACA,GAAI6T,CAAJ,CAAO,CACH,GAAIA,EAAEjH,cAAF,GAAqB,UAAzB,CAAqC,CACjCgqD,OAAS,CAAE,cAAX,CACH,CAFD,IAGK,IAAI/iD,EAAEjH,cAAF,GAAqB,UAAzB,CAAqC,CACtCgqD,OAAS,CAAE,cAAX,CACH,CAFI,IAGA,IAAI/iD,EAAEjH,cAAF,GAAqB,MAAzB,CAAiC,CAClCgqD,OAAS,CAAE,UAAX,CACH,CAFI,IAGA,IAAI/iD,EAAEjH,cAAF,GAAqB,QAAzB,CAAmC,CACpCnD,MAAQoK,EAAEpK,KAAV,CACH,CAFI,IAGA,CACDA,MAAQoK,CAAR,CACH,CACJ,CACJ,CACJ,CACD,GAAIgjD,UAAJ,CACA,GAAI,MAAOptD,MAAP,GAAiB,QAArB,CAA+B,CAC3BotD,UAAYpB,QAAQhsD,KAAR,CAAZ,CACH,CAFD,IAGK,IAAIA,QAAUlG,MAAMkzD,aAApB,CAAmC,CACpCI,UAAYhC,WAAWzQ,YAAYmB,QAAvB,CAAZ,CACH,CAFI,IAGA,CACDsR,UAAYh4B,IAAIg2B,UAAJ,CAAeprD,KAAf,CAAZ,CACH,CACD,GAAImtD,QAAU,CAAE,aAAhB,CAA+B,CAC3BlrD,KAAO,CAACmrD,SAAD,CAAYpB,QAAQmB,KAAR,CAAZ,CAAP,CACH,CAFD,IAGK,CACDlrD,KAAO,CAACmrD,SAAD,CAAP,CACH,CACD,MAAOhC,YAAWzQ,YAAYkB,MAAvB,EAA+B2E,MAA/B,CAAsCv+C,IAAtC,CAAP,CACH,CA3CM,CAAP,CA4CH,CA9CD,CA+CA6qD,mBAAmB72D,SAAnB,CAA6Bo3D,UAA7B,CAA0C,SAAUhrD,UAAV,CAAsB+yB,GAAtB,CAA2B,CACjE,GAAIk4B,SAAJ,CACA,GAAIjrD,WAAW+R,WAAf,CAA4B,CACxBk5C,SAAWlC,WAAWzQ,YAAYkB,MAAvB,EAA+B2E,MAA/B,CAAsC,CAACprB,IAAIg2B,UAAJ,CAAe/oD,WAAW+R,WAA1B,CAAD,CAAtC,CAAX,CACH,CAFD,IAGK,IAAI/R,WAAWgS,UAAf,CAA2B,CAC5B,GAAIC,MAAOjS,WAAWiS,IAAX,EAAmB,EAA9B,CACA,GAAIA,KAAK5d,MAAL,CAAc,CAAlB,CAAqB,CACjB42D,SAAWl4B,IAAIg2B,UAAJ,CAAe/oD,WAAWgS,UAA1B,EAAsCmsC,MAAtC,CAA6C,KAAKyM,SAAL,CAAe34C,IAAf,CAAqB8gB,GAArB,CAA7C,CAAX,CACH,CAFD,IAGK,CACD,MAAOA,KAAIg2B,UAAJ,CAAe/oD,WAAWgS,UAA1B,CAAP,CACH,CACJ,CARI,IASA,IAAIhS,WAAW8R,QAAf,CAAyB,CAC1Bm5C,SAAWZ,wBAAwBt3B,GAAxB,CAA6B/yB,WAAW8R,QAAxC,CAAX,CACH,CAFI,IAGA,CACD,GAAIo5C,OAAQlrD,WAAW6R,QAAX,EAAuB7R,WAAWmrD,MAA9C,CACA,GAAIC,SAAU,KAAKR,SAAL,CAAe,KAAKpP,SAAL,CAAe6P,UAAf,CAA0BH,KAA1B,CAAf,CAAiDn4B,GAAjD,CAAd,CACAk4B,SAAW,GAAI3M,gBAAJ,CAAoBvrB,IAAIg2B,UAAJ,CAAemC,KAAf,CAApB,CAA2CE,OAA3C,CAAX,CACH,CACD,MAAO3I,IAAG,EAAH,CAAO,CAAC,GAAImD,gBAAJ,CAAoBqF,QAApB,CAAD,CAAP,CAAwCjtD,SAAxC,CAAmDA,SAAnD,CAA8DgC,WAAWmrD,MAAX,CAAkBhzD,IAAlB,CAAyB,UAAvF,CAAP,CACH,CAvBD,CAwBAsyD,mBAAmB72D,SAAnB,CAA6B03D,aAA7B,CAA6C,SAAUtrD,UAAV,CAAsB+yB,GAAtB,CAA2B,CACpE,GAAIw4B,YAAanG,SAAjB,CACA,GAAIplD,WAAWurD,UAAX,GAA0BvtD,SAA9B,CAAyC,CACrC,GAAIgC,WAAWurD,UAAX,GAA0B,IAA9B,CAAoC,CAChCA,WAAanG,SAAb,CACH,CAFD,IAGK,IAAI,MAAOplD,YAAWurD,UAAlB,GAAiC,QAArC,CAA+C,CAChDA,WAAa5B,QAAQ3pD,WAAWurD,UAAnB,CAAb,CACH,CAFI,IAGA,CACDA,WAAax4B,IAAIg2B,UAAJ,CAAe/oD,WAAWurD,UAA1B,CAAb,CACH,CACJ,CACD,GAAI7tC,KAAM,CACN8sC,SAAS,SAAT,CAAoB,KAAKQ,UAAL,CAAgBhrD,UAAhB,CAA4B+yB,GAA5B,CAApB,CADM,CAENy3B,SAAS,OAAT,CAAkBz3B,IAAIg2B,UAAJ,CAAe/oD,WAAWuF,IAAX,CAAgB4G,SAA/B,CAAlB,CAFM,CAGNq+C,SAAS,YAAT,CAAuBe,UAAvB,CAHM,CAAV,CAKA,MAAOxC,YAAWzQ,YAAYqB,gBAAvB,EAAyCwE,MAAzC,CAAgD,CAACkL,WAAW3rC,GAAX,CAAD,CAAhD,CAAP,CACH,CAnBD,CAoBA+sC,mBAAmB72D,SAAnB,CAA6B43D,OAA7B,CAAuC,SAAUxrD,UAAV,CAAsB+yB,GAAtB,CAA2B,CAC9D,GAAI,KAAK23B,iBAAL,EAA0B1qD,WAAWurD,UAAX,GAA0BvtD,SAAxD,CAAmE,CAC/D,GAAI7B,WAAY8P,eAAejM,WAAWuF,IAA1B,CAAhB,CACA,GAAI2lD,OAAQ,GAAI/E,UAAJ,CAAchqD,SAAd,CAAyB,IAAzB,CAA+B,CACvC,GAAI4pD,WAAJ,CAAe,iBAAf,CAAkCjJ,aAAlC,CAAiD,CAACpqD,QAAQ2yD,YAAR,CAAqBoG,MAAtB,CAAjD,CAAgF,KAAKH,aAAL,CAAmBtrD,UAAnB,CAA+B+yB,GAA/B,CAAhF,CADuC,CAA/B,CAET,EAFS,CAEL,GAAIkzB,YAAJ,CAAgB,IAAhB,CAAsB,EAAtB,CAA0B,EAA1B,CAFK,CAE0B,EAF1B,CAAZ,CAGAlzB,IAAI6wB,UAAJ,CAAexuD,IAAf,CAAoB81D,KAApB,EACH,CACJ,CARD,CASA,MAAOT,mBAAP,CACH,CA3GuC,EAAxC,CA6GA;;;;;;OAOA,GAAIiB,yBAA0B,kCAA9B,CACA,GAAIC,gBAAiB,6BAArB,CACA,GAAIC,kBAAmB,eAAvB,CACA,GAAIC,kBAAmB,YAAvB,CACA,QAASC,kBAAT,CAA2BxgD,QAA3B,CAAqCygD,eAArC,CAAsD,CAClD,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,KAAlB,CAA0B,CAC5D,GAAIC,eAAgBC,sBAAsB3gD,QAAtB,CAAgCygD,eAAhC,CAApB,CACA,MAAOC,eAAc,CAAd,EAAmB,YAAnB,CAAkCE,uBAAuBF,cAAc,CAAd,CAAvB,CAAzC,CACH,CACD,QAASG,yBAAT,CAAkC7gD,QAAlC,CAA4C,CACxC,MAAOA,UAASzJ,OAAT,CAAiB8pD,cAAjB,CAAiC,GAAjC,CAAP,CACH,CACD,QAASS,gBAAT,CAAyB9gD,QAAzB,CAAmC,CAC/B,MAAOqgD,gBAAex1C,IAAf,CAAoB7K,QAApB,CAAP,CACH,CACD,QAAS2gD,sBAAT,CAA+B14C,IAA/B,CAAqCw4C,eAArC,CAAsD,CAClD,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,KAAlB,CAA0B,CAC5D,GAAIx4C,KAAK84C,QAAL,CAAc,OAAd,CAAJ,CAA4B,CACxB,MAAO,CAAC94C,KAAKzd,KAAL,CAAW,CAAX,CAAc,CAAC,CAAf,CAAD,CAAoBi2D,gBAAkB,KAAlB,CAA0B,OAA9C,CAAP,CACH,CACD,GAAIO,SAAU/4C,KAAKse,WAAL,CAAiB,GAAjB,CAAd,CACA,GAAIy6B,UAAY,CAAC,CAAjB,CAAoB,CAChB,MAAO,CAAC/4C,KAAKlO,SAAL,CAAe,CAAf,CAAkBinD,OAAlB,CAAD,CAA6B/4C,KAAKlO,SAAL,CAAeinD,OAAf,CAA7B,CAAP,CACH,CACD,MAAO,CAAC/4C,IAAD,CAAO,EAAP,CAAP,CACH,CACD,QAAS24C,uBAAT,CAAgCK,aAAhC,CAA+C,CAC3C,MAAOA,iBAAkB,MAAlB,CAA2B,KAA3B,CAAmCA,aAA1C,CACH,CACD,QAASC,gBAAT,CAAyBC,QAAzB,CAAmC,CAC/B,GAAIC,uBAAwBD,SAAS5qD,OAAT,CAAiB6pD,uBAAjB,CAA0C,EAA1C,CAA5B,CACA,MAAOgB,uBAAwB,iBAA/B,CACH,CACD,QAASC,sBAAT,CAA+BF,QAA/B,CAAyCV,eAAzC,CAA0D,CACtD,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,KAAlB,CAA0B,CAC5D,GAAIC,eAAgBC,sBAAsBE,yBAAyBM,QAAzB,CAAtB,CAA0DV,eAA1D,CAApB,CACA,MAAOC,eAAc,CAAd,EAAmB,YAAnB,CAAkCA,cAAc,CAAd,CAAzC,CACH,CACD,QAASY,6BAAT,CAAsCthD,QAAtC,CAAgD,CAC5C,MAAOA,UAASzJ,OAAT,CAAiB+pD,gBAAjB,CAAmC,GAAnC,CAAP,CACH,CACD,QAASiB,kBAAT,CAA2BC,UAA3B,CAAuC,CACnC,MAAOA,YAAa,WAApB,CACH,CACD,QAASC,6BAAT,CAAsCD,UAAtC,CAAkD,CAC9C,MAAOA,YAAWjrD,OAAX,CAAmBgqD,gBAAnB,CAAqC,EAArC,CAAP,CACH,CACD,GAAImB,gBAAiB,WAArB,CACA,QAASC,gBAAT,CAAyB90D,IAAzB,CAA+B,CAC3B,MAAO60D,gBAAe72C,IAAf,CAAoBhe,IAApB,CAAP,CACH,CACD,QAAS+0D,oBAAT,CAA6B98C,EAA7B,CAAiC,CAC7B,MAAO,SAAWA,EAAlB,CACH,CAED;;;;;;OAOA,GAAI+8C,eAAJ,CACA,CAAC,SAAUA,cAAV,CAA0B,CACvBA,eAAeA,eAAe,QAAf,EAA2B,CAA1C,EAA+C,QAA/C,CACAA,eAAeA,eAAe,WAAf,EAA8B,CAA7C,EAAkD,WAAlD,CACAA,eAAeA,eAAe,SAAf,EAA4B,CAA3C,EAAgD,SAAhD,CACAA,eAAeA,eAAe,WAAf,EAA8B,CAA7C,EAAkD,WAAlD,CACAA,eAAeA,eAAe,kBAAf,EAAqC,CAApD,EAAyD,kBAAzD,CACAA,eAAeA,eAAe,qBAAf,EAAwC,CAAvD,EAA4D,qBAA5D,CACAA,eAAeA,eAAe,eAAf,EAAkC,CAAjD,EAAsD,eAAtD,CACAA,eAAeA,eAAe,kBAAf,EAAqC,CAApD,EAAyD,kBAAzD,CACH,CATD,EASGA,iBAAmBA,eAAiB,EAApC,CATH,EAUA,GAAIC,wBAAyB,CACzBD,eAAeE,MADU,CACFF,eAAeG,SADb,CACwBH,eAAeI,OADvC,CACgDJ,eAAeK,SAD/D,CAEzBL,eAAeM,gBAFU,CAEQN,eAAeO,mBAFvB,CAE4CP,eAAeQ,aAF3D,CAGzBR,eAAeS,gBAHU,CAA7B,CAKA,QAASC,iBAAT,CAA0BrS,SAA1B,CAAqCsS,IAArC,CAA2CnwD,KAA3C,CAAkD,CAC9C,MAAO69C,WAAUqS,gBAAV,CAA2BlwD,KAA3B,CAAkCowD,YAAYD,IAAZ,CAAlC,CAAP,CACH,CACD,QAASE,qBAAT,CAA8BxS,SAA9B,CAAyC79C,KAAzC,CAAgD,CAC5C,MAAOyvD,wBAAuB7xC,MAAvB,CAA8B,SAAUuyC,IAAV,CAAgB,CAAE,MAAOD,kBAAiBrS,SAAjB,CAA4BsS,IAA5B,CAAkCnwD,KAAlC,CAAP,CAAkD,CAAlG,CAAP,CACH,CACD,QAASowD,YAAT,CAAqBD,IAArB,CAA2B,CACvB,OAAQA,IAAR,EACI,IAAKX,gBAAeE,MAApB,CACI,MAAO,UAAP,CACJ,IAAKF,gBAAeG,SAApB,CACI,MAAO,aAAP,CACJ,IAAKH,gBAAeI,OAApB,CACI,MAAO,WAAP,CACJ,IAAKJ,gBAAeK,SAApB,CACI,MAAO,aAAP,CACJ,IAAKL,gBAAeM,gBAApB,CACI,MAAO,oBAAP,CACJ,IAAKN,gBAAeO,mBAApB,CACI,MAAO,uBAAP,CACJ,IAAKP,gBAAeQ,aAApB,CACI,MAAO,iBAAP,CACJ,IAAKR,gBAAeS,gBAApB,CACI,MAAO,oBAAP,CAhBR,CAkBH,CAED;;;;;;OAOA,GAAIK,sBAAuB,iBAA3B,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIC,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,CAAiC90C,OAAjC,CAA0CD,WAA1C,CAAuDg1C,iBAAvD,CAA0EC,kBAA1E,CAA8FC,aAA9F,CAA6GC,gBAA7G,CAA+HC,eAA/H,CAAgJC,oBAAhJ,CAAsK/W,QAAtK,CAAgLgX,kBAAhL,CAAoMtyC,UAApM,CAAgNuyC,eAAhN,CAAiO,CAC7N,KAAKt1C,OAAL,CAAeA,OAAf,CACA,KAAKD,WAAL,CAAmBA,WAAnB,CACA,KAAKg1C,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,kBAAL,CAA0BA,kBAA1B,CACA,KAAKC,aAAL,CAAqBA,aAArB,CACA,KAAKC,gBAAL,CAAwBA,gBAAxB,CACA,KAAKC,eAAL,CAAuBA,eAAvB,CACA,KAAKC,oBAAL,CAA4BA,oBAA5B,CACA,KAAK/W,QAAL,CAAgBA,QAAhB,CACA,KAAKgX,kBAAL,CAA0BA,kBAA1B,CACA,KAAKtyC,UAAL,CAAkBA,UAAlB,CACA,KAAKuyC,eAAL,CAAuBA,eAAvB,CACA,KAAKC,4BAAL,CAAoC,GAAI7zD,IAAJ,EAApC,CACA,KAAK8zD,eAAL,CAAuB,GAAI9zD,IAAJ,EAAvB,CACA,KAAK+zD,aAAL,CAAqB,GAAI/zD,IAAJ,EAArB,CACA,KAAKg0D,UAAL,CAAkB,GAAIh0D,IAAJ,EAAlB,CACA,KAAKi0D,cAAL,CAAsB,GAAIj0D,IAAJ,EAAtB,CACA,KAAKk0D,gBAAL,CAAwB,GAAIl0D,IAAJ,EAAxB,CACA,KAAKm0D,mBAAL,CAA2B,GAAIn0D,IAAJ,EAA3B,CACH,CACDozD,wBAAwBt6D,SAAxB,CAAkCs7D,YAAlC,CAAiD,UAAY,CAAE,MAAO,MAAK/yC,UAAZ,CAAyB,CAAxF,CACA+xC,wBAAwBt6D,SAAxB,CAAkC4lB,aAAlC,CAAkD,SAAUjU,IAAV,CAAgB,CAC9D,GAAI4pD,SAAU,KAAKP,eAAL,CAAqBryD,GAArB,CAAyBgJ,IAAzB,CAAd,CACA,KAAKqpD,eAAL,CAAqBl1C,MAArB,CAA4BnU,IAA5B,EACA,KAAKopD,4BAAL,CAAkCj1C,MAAlC,CAAyCnU,IAAzC,EACA,KAAKspD,aAAL,CAAmBn1C,MAAnB,CAA0BnU,IAA1B,EACA,KAAKupD,UAAL,CAAgBp1C,MAAhB,CAAuBnU,IAAvB,EACA,KAAKypD,gBAAL,CAAsBt1C,MAAtB,CAA6BnU,IAA7B,EACA;AACA,KAAKwpD,cAAL,CAAoBx1C,KAApB,GACA,GAAI41C,OAAJ,CAAa,CACT,KAAKX,oBAAL,CAA0Bh1C,aAA1B,CAAwC21C,OAAxC,EACH,CACJ,CAZD,CAaAjB,wBAAwBt6D,SAAxB,CAAkC0lB,UAAlC,CAA+C,UAAY,CACvD,KAAKs1C,eAAL,CAAqBr1C,KAArB,GACA,KAAKo1C,4BAAL,CAAkCp1C,KAAlC,GACA,KAAKs1C,aAAL,CAAmBt1C,KAAnB,GACA,KAAKu1C,UAAL,CAAgBv1C,KAAhB,GACA,KAAKw1C,cAAL,CAAoBx1C,KAApB,GACA,KAAKy1C,gBAAL,CAAsBz1C,KAAtB,GACA,KAAKi1C,oBAAL,CAA0Bl1C,UAA1B,GACH,CARD,CASA40C,wBAAwBt6D,SAAxB,CAAkCw7D,iBAAlC,CAAsD,SAAUC,QAAV,CAAoBl3D,IAApB,CAA0B,CAC5E,GAAIm3D,UAAW,IAAf,CACA,GAAIC,YAAa,UAAY,CACzB,GAAI,CAACD,QAAL,CAAe,CACX,KAAM,IAAIz5D,MAAJ,CAAU,wBAA0BsC,IAA1B,CAAiC,YAAjC,CAAgD+M,UAAUmqD,QAAV,CAAhD,CAAsE,uBAAhF,CAAN,CACH,CACD,MAAOC,UAAS/6D,KAAT,CAAe,IAAf,CAAqBH,SAArB,CAAP,CACH,CALD,CAMAm7D,WAAWC,WAAX,CAAyB,SAAUv8D,CAAV,CAAa,CAClCq8D,SAAWr8D,CAAX,CACAs8D,WAAW37D,SAAX,CAAuBX,EAAEW,SAAzB,CACH,CAHD,CAIA;AACA27D,WAAWpqD,cAAX,CAA4BhN,IAA5B,CACA,MAAOo3D,WAAP,CACH,CAfD,CAgBArB,wBAAwBt6D,SAAxB,CAAkC67D,iBAAlC,CAAsD,SAAUC,OAAV,CAAmBv3D,IAAnB,CAAyB,CAC3E,GAAIu3D,kBAAmBrkD,aAAvB,CAAqC,CACjC,MAAO,MAAKojD,kBAAL,CAAwBlyD,GAAxB,CAA4BuvD,kBAAkB4D,QAAQpkD,QAA1B,CAA5B,CAAiEnT,IAAjE,CAAP,CACH,CAFD,IAGK,CACD,MAAO,MAAKi3D,iBAAL,CAAuBM,OAAvB,CAAgCv3D,IAAhC,CAAP,CACH,CACJ,CAPD,CAQA+1D,wBAAwBt6D,SAAxB,CAAkC+7D,qBAAlC,CAA0D,SAAUD,OAAV,CAAmB,CACzE,MAAO,MAAKD,iBAAL,CAAuBC,OAAvB,CAAgCnjD,cAAcmjD,OAAd,CAAuB,CAAvB,CAAhC,CAAP,CACH,CAFD,CAGAxB,wBAAwBt6D,SAAxB,CAAkCg8D,yBAAlC,CAA8D,SAAUF,OAAV,CAAmB,CAC7E,MAAO,MAAKD,iBAAL,CAAuBC,OAAvB,CAAgC/iD,kBAAkB+iD,OAAlB,CAAhC,CAAP,CACH,CAFD,CAGAxB,wBAAwBt6D,SAAxB,CAAkCi8D,oBAAlC,CAAyD,SAAUH,OAAV,CAAmB,CACxE,GAAIv3D,MAAO8T,eAAe,CAAEE,UAAWujD,OAAb,CAAf,EAAyC,OAApD,CACA,GAAIA,kBAAmBrkD,aAAvB,CAAqC,CACjC,MAAO,MAAKojD,kBAAL,CAAwBlyD,GAAxB,CAA4BmzD,QAAQpkD,QAApC,CAA8CnT,IAA9C,CAAP,CACH,CAFD,IAGK,CACD,GAAI23D,WAAY,QAASA,UAAT,EAAqB,CAAG,CAAxC,CACAA,UAAU3qD,cAAV,CAA2BhN,IAA3B,CACA,MAAO23D,UAAP,CACH,CACJ,CAVD,CAWA5B,wBAAwBt6D,SAAxB,CAAkCm8D,eAAlC,CAAoD,SAAUL,OAAV,CAAmB,CACnE,GAAIA,kBAAmBrkD,aAAvB,CAAqC,CACjC,MAAO,MAAKojD,kBAAL,CAAwBlyD,GAAxB,CAA4BuvD,kBAAkB4D,QAAQpkD,QAA1B,CAA5B,CAAiEoB,iBAAiBgjD,OAAjB,CAAjE,CAAP,CACH,CAFD,IAGK,CACD;AACA;AACA,MAAO,EAAP,CACH,CACJ,CATD,CAUAxB,wBAAwBt6D,SAAxB,CAAkCo8D,mBAAlC,CAAwD,SAAU/2D,QAAV,CAAoBy2D,OAApB,CAA6BxnD,MAA7B,CAAqCC,OAArC,CAA8C,CAClG,GAAIunD,kBAAmBrkD,aAAvB,CAAqC,CACjC,MAAO,MAAKojD,kBAAL,CAAwBlyD,GAAxB,CAA4BuvD,kBAAkB4D,QAAQpkD,QAA1B,CAA5B,CAAiEsB,qBAAqB8iD,OAArB,CAAjE,CAAP,CACH,CAFD,IAGK,CACD,GAAIO,UAAW,KAAKL,yBAAL,CAA+BF,OAA/B,CAAf,CACA;AACA;AACA,GAAIrU,wBAAyB,KAAKl/B,UAAL,CAAgBs/B,wBAAhB,CAAyCnD,YAAY+C,sBAArD,CAA7B,CACA,MAAOA,wBAAuBpiD,QAAvB,CAAiCy2D,OAAjC,CAA0CO,QAA1C,CAAoD/nD,MAApD,CAA4DC,OAA5D,CAAqE,EAArE,CAAP,CACH,CACJ,CAXD,CAYA+lD,wBAAwBt6D,SAAxB,CAAkCs8D,oBAAlC,CAAyD,SAAUz9D,OAAV,CAAmBmb,kBAAnB,CAAuC,CAC5F,GAAIjX,GAAJ,CACA,GAAI,EAAElE,kBAAmB4Y,aAArB,CAAJ,CAAwC,CACpC,CAAC1U,GAAKlE,QAAQmb,kBAAd,EAAkCxY,IAAlC,CAAuCb,KAAvC,CAA6CoC,EAA7C,CAAiDrB,SAASsY,kBAAT,CAAjD,EACH,CACJ,CALD,CAMAsgD,wBAAwBt6D,SAAxB,CAAkCu8D,YAAlC,CAAiD,SAAU5qD,IAAV,CAAgB0tB,IAAhB,CAAsB,CACnE,GAAIm9B,aAAc,KAAKvB,aAAL,CAAmBtyD,GAAnB,CAAuBgJ,IAAvB,CAAlB,CACA,GAAI,CAAC6qD,WAAL,CAAkB,CACd,GAAIC,SAAU,KAAK/B,gBAAL,CAAsBgC,cAAtB,CAAqC/qD,IAArC,CAAd,CACA6qD,YAAcC,QAAUA,QAAQ9qD,IAAlB,CAAyB,IAAvC,CACA,KAAKspD,aAAL,CAAmBryD,GAAnB,CAAuB+I,IAAvB,CAA6B6qD,aAAe,IAA5C,EACH,CACD,MAAOA,cAAeA,YAAY/gD,WAAZ,GAA4B4jB,IAA3C,CAAkDm9B,WAAlD,CAAgE,IAAvE,CACH,CARD,CASAlC,wBAAwBt6D,SAAxB,CAAkC28D,wBAAlC,CAA6D,SAAU19C,QAAV,CAAoB29C,YAApB,CAAkC,CAC3F,GAAIC,UAAW,KAAKZ,oBAAL,CAA0Bh9C,SAAStN,IAAT,CAAc4G,SAAxC,CAAf,CACA,GAAI,CAACqkD,YAAL,CAAmB,CACfA,aAAe,KAAKZ,yBAAL,CAA+Ba,QAA/B,CAAf,CACH,CACD;AACA;AACA,GAAIljD,UAAW5U,YAAYK,KAAZ,CAAkB6Z,SAAS5Z,QAA3B,EAAqC,CAArC,EAAwCgB,0BAAxC,EAAf,CACA,GAAIuT,aAAc,EAAlB,CACA,GAAIC,SAAU,KAAK0L,WAAL,CAAiBngB,KAAjB,CAAuBuU,QAAvB,CAAiCC,WAAjC,CAAd,CACA,MAAOS,0BAAyBpa,MAAzB,CAAgC,CACnCqa,OAAQ,IAD2B,CAEnC3I,KAAM,CAAE4G,UAAWskD,QAAb,CAAuBC,OAAQ,EAA/B,CAAmC7mD,eAAgB,EAAnD,CAF6B,CAGnC0D,SAAU,GAAIF,wBAAJ,CAA4B,CAClCC,cAAezO,kBAAkBuc,IADC,CAElC7N,SAAUA,QAFwB,CAGlCC,YAAaA,WAHqB,CAIlCC,QAASA,OAJyB,CAKlCP,OAAQ,EAL0B,CAMlCC,UAAW,EANuB,CAOlCS,mBAAoB,EAPc,CAQlCD,WAAY,EARsB,CASlCG,SAAU,IATwB,CAUlCJ,oBAAqB,EAVa,CAWlCG,cAAe,IAXmB,CAYlC7C,oBAAqB,KAZa,CAA5B,CAHyB,CAiBnCoD,SAAU,IAjByB,CAkBnCnP,gBAAiBH,wBAAwBI,OAlBN,CAmBnCgJ,OAAQ,EAnB2B,CAoBnCC,QAAS,EApB0B,CAqBnC4G,KAAM,EArB6B,CAsBnCZ,YAAa,IAtBsB,CAuBnClV,SAAU,GAvByB,CAwBnCqP,UAAW,EAxBwB,CAyBnCiG,cAAe,EAzBoB,CA0BnCC,QAAS,EA1B0B,CA2BnCC,OAAQ,EA3B2B,CA4BnCC,YAAa,EA5BsB,CA6BnCE,kBAAmB4hD,YA7BgB,CA8BnC3hD,aAAc,CAAEuB,GAAI,UAAN,CAAkB9C,cAAezO,kBAAkBuc,IAAnD,CAAyDlO,OAAQ,EAAjE,CAAqE9O,KAAM,EAA3E,CA9BqB,CA+BnCuQ,gBAAiB,EA/BkB,CAgCnCG,iBAAkB,IAhCiB,CAAhC,CAAP,CAkCH,CA5CD,CA6CAo/C,wBAAwBt6D,SAAxB,CAAkC+8D,qBAAlC,CAA0D,SAAU/9C,YAAV,CAAwBmK,aAAxB,CAAuC6zC,MAAvC,CAA+C,CACrG,GAAIn5D,OAAQ,IAAZ,CACA,GAAI,KAAKm3D,eAAL,CAAqBz9C,GAArB,CAAyB4L,aAAzB,CAAJ,CAA6C,CACzC,MAAO,KAAP,CACH,CACDA,cAAgBzX,kBAAkByX,aAAlB,CAAhB,CACA,GAAIpmB,IAAK,KAAKk6D,iCAAL,CAAuC9zC,aAAvC,CAAT,CAAgE+zC,WAAan6D,GAAGm6D,UAAhF,CAA4Fr0C,SAAW9lB,GAAG8lB,QAA1G,CACA,GAAIs0C,yBAA0B,SAAUC,gBAAV,CAA4B,CACtD,GAAIC,mBAAoB,GAAIhjD,yBAAJ,CAA6B,CACjDC,OAAQ,KADyC,CAEjD3I,KAAMkX,SAASlX,IAFkC,CAGjD4I,YAAasO,SAAStO,WAH2B,CAIjDlV,SAAUwjB,SAASxjB,QAJ8B,CAKjDmV,SAAUqO,SAASrO,QAL8B,CAMjDnP,gBAAiBwd,SAASxd,eANuB,CAOjDiJ,OAAQuU,SAASvU,MAPgC,CAQjDC,QAASsU,SAAStU,OAR+B,CASjDkG,cAAeoO,SAASpO,aATyB,CAUjDhF,eAAgBoT,SAASpT,cAVwB,CAWjDiF,eAAgBmO,SAASnO,cAXwB,CAYjDhG,UAAWmU,SAASnU,SAZ6B,CAajDiG,cAAekO,SAASlO,aAbyB,CAcjDC,QAASiO,SAASjO,OAd+B,CAejDC,OAAQgO,SAAShO,MAfgC,CAgBjDC,YAAa+N,SAAS/N,WAhB2B,CAiBjDC,gBAAiB8N,SAAS9N,eAjBuB,CAkBjDC,kBAAmB6N,SAAS7N,iBAlBqB,CAmBjDC,aAAc4N,SAAS5N,YAnB0B,CAoBjDC,iBAAkB2N,SAAS3N,gBApBsB,CAqBjDvB,SAAUyjD,gBArBuC,CAA7B,CAAxB,CAuBA,GAAIA,gBAAJ,CAAsB,CAClBv5D,MAAMy4D,oBAAN,CAA2BzzC,SAAS3N,gBAApC,CAAsDkiD,iBAAiBpjD,kBAAvE,EACH,CACDnW,MAAMm3D,eAAN,CAAsBpyD,GAAtB,CAA0BugB,aAA1B,CAAyCk0C,iBAAzC,EACAx5D,MAAMo3D,aAAN,CAAoBryD,GAApB,CAAwBugB,aAAxB,CAAuCk0C,kBAAkBjjD,SAAlB,EAAvC,EACA,MAAO,KAAP,CACH,CA9BD,CA+BA,GAAIyO,SAAStO,WAAb,CAA0B,CACtB,GAAIZ,UAAWkP,SAASlP,QAAxB,CACA,GAAIuF,cAAe,KAAK07C,oBAAL,CAA0B30C,iBAA1B,CAA4C,CAC3DjH,aAAcA,YAD6C,CAE3DjB,cAAeoL,aAF4C,CAG3D9P,UAAW,KAAKkP,UAAL,CAAgB+0C,kBAAhB,CAAmCn0C,aAAnC,CAAkD+zC,UAAlD,CAHgD,CAI3DxjD,cAAeC,SAASD,aAJmC,CAK3DC,SAAUA,SAASA,QALwC,CAM3DC,YAAaD,SAASC,WANqC,CAO3DN,OAAQK,SAASL,MAP0C,CAQ3DC,UAAWI,SAASJ,SARuC,CAS3DQ,WAAYJ,SAASI,UATsC,CAU3DE,cAAeN,SAASM,aAVmC,CAW3D7C,oBAAqBuC,SAASvC,mBAX6B,CAA5C,CAAnB,CAaA,GAAIxH,UAAUsP,YAAV,GAA2B89C,MAA/B,CAAuC,CACnC,KAAK9jC,YAAL,CAAkBqkC,2BAA2Bp0C,aAA3B,CAAlB,CAA6DA,aAA7D,EACA,MAAO,KAAP,CACH,CACD,MAAOzZ,WAAUG,IAAV,CAAeqP,YAAf,CAA6Bi+C,uBAA7B,CAAP,CACH,CApBD,IAqBK,CACD;AACAA,wBAAwB,IAAxB,EACA,MAAO,KAAP,CACH,CACJ,CAhED,CAiEA7C,wBAAwBt6D,SAAxB,CAAkCi9D,iCAAlC,CAAsE,SAAU9zC,aAAV,CAAyB,CAC3F,GAAItlB,OAAQ,IAAZ,CACAslB,cAAgBzX,kBAAkByX,aAAlB,CAAhB,CACA,GAAI,CAACA,aAAL,CAAoB,CAChB,MAAO,KAAP,CACH,CACD,GAAIq0C,YAAa,KAAKzC,4BAAL,CAAkCpyD,GAAlC,CAAsCwgB,aAAtC,CAAjB,CACA,GAAIq0C,UAAJ,CAAgB,CACZ,MAAOA,WAAP,CACH,CACD,GAAIjC,SAAU,KAAKf,kBAAL,CAAwB/2C,OAAxB,CAAgC0F,aAAhC,CAA+C,KAA/C,CAAd,CACA,GAAI,CAACoyC,OAAL,CAAc,CACV,MAAO,KAAP,CACH,CACD,GAAIkC,+BAAgCrzD,SAApC,CACA,GAAIe,gBAAgBgC,QAAhB,CAAyBouD,OAAzB,CAAJ,CAAuC,CACnC;AACA,GAAIt8C,UAAWs8C,OAAf,CACAt5C,qBAAqB,QAArB,CAA+BhD,SAAS3F,MAAxC,EACA2I,qBAAqB,WAArB,CAAkChD,SAAS1F,SAA3C,EACA4I,2BAA2B,eAA3B,CAA4ClD,SAAShF,aAArD,EACA,GAAIF,YAAakF,SAASlF,UAA1B,CACA0jD,8BAAgC,GAAIhkD,wBAAJ,CAA4B,CACxDC,cAAerK,YAAY4P,SAASvF,aAArB,CADyC,CAExDC,SAAUtK,YAAY4P,SAAStF,QAArB,CAF8C,CAGxDC,YAAavK,YAAY4P,SAASrF,WAArB,CAH2C,CAIxDC,QAAS,IAJ+C,CAKxDP,OAAQ2F,SAAS3F,MAAT,EAAmB,EAL6B,CAMxDC,UAAW0F,SAAS1F,SAAT,EAAsB,EANuB,CAOxDQ,WAAYA,YAAc,EAP8B,CAQxDE,cAAe5K,YAAY4P,SAAShF,aAArB,CARyC,CASxDC,SAAU,CAAC,CAAC+E,SAAStF,QATmC,CAUxDG,oBAAqB,EAVmC,CAWxDE,mBAAoB,EAXoC,CAYxD5C,oBAAqB/H,YAAYksD,QAAQnkD,mBAApB,CAZmC,CAA5B,CAAhC,CAcH,CACD,GAAIsmD,yBAA0B,IAA9B,CACA,GAAI/iD,eAAgB,EAApB,CACA,GAAIgjD,wBAAyB,EAA7B,CACA,GAAIt4D,UAAWk2D,QAAQl2D,QAAvB,CACA,GAAI8F,gBAAgBgC,QAAhB,CAAyBouD,OAAzB,CAAJ,CAAuC,CACnC;AACA,GAAIt8C,UAAWs8C,OAAf,CACAmC,wBAA0Bz+C,SAAS5T,eAAnC,CACA,GAAI4T,SAAStE,aAAb,CAA4B,CACxBA,cAAgB,KAAKijD,qBAAL,CAA2B3+C,SAAStE,aAApC,CAAmDgjD,sBAAnD,CAA2E,uBAAyBE,cAAc10C,aAAd,CAAzB,CAAwD,IAAnI,CAAyI,EAAzI,CAA6IA,aAA7I,CAAhB,CACH,CACD,GAAIlK,SAASlE,eAAb,CAA8B,CAC1B4iD,uBAAyBG,sBAAsB7+C,SAASlE,eAA/B,EACpBhS,GADoB,CAChB,SAAU4I,IAAV,CAAgB,CAAE,MAAO9N,OAAMk6D,0BAAN,CAAiCpsD,IAAjC,CAAP,CAAgD,CADlD,EAEpBhQ,MAFoB,CAEbg8D,sBAFa,CAAzB,CAGH,CACD,GAAI,CAACt4D,QAAL,CAAe,CACXA,SAAW,KAAKs1D,eAAL,CAAqBqD,8BAArB,EAAX,CACH,CACJ,CAfD,IAgBK,CACD;AACA,GAAI,CAAC34D,QAAL,CAAe,CACX,KAAK6zB,YAAL,CAAkB9oB,YAAY,aAAeytD,cAAc10C,aAAd,CAAf,CAA8C,kCAA1D,CAAlB,CAAiHA,aAAjH,EACA9jB,SAAW,OAAX,CACH,CACJ,CACD,GAAIqP,WAAY,EAAhB,CACA,GAAI6mD,QAAQ7mD,SAAR,EAAqB,IAAzB,CAA+B,CAC3BA,UAAY,KAAKkpD,qBAAL,CAA2BrC,QAAQ7mD,SAAnC,CAA8CipD,sBAA9C,CAAsE,mBAAqBE,cAAc10C,aAAd,CAArB,CAAoD,IAA1H,CAAgI,EAAhI,CAAoIA,aAApI,CAAZ,CACH,CACD,GAAIvO,SAAU,EAAd,CACA,GAAIE,aAAc,EAAlB,CACA,GAAIygD,QAAQ3gD,OAAR,EAAmB,IAAvB,CAA6B,CACzBA,QAAU,KAAKqjD,mBAAL,CAAyB1C,QAAQ3gD,OAAjC,CAA0C,KAA1C,CAAiDuO,aAAjD,CAAV,CACArO,YAAc,KAAKmjD,mBAAL,CAAyB1C,QAAQ3gD,OAAjC,CAA0C,IAA1C,CAAgDuO,aAAhD,CAAd,CACH,CACD,GAAIN,UAAWxO,yBAAyBpa,MAAzB,CAAgC,CAC3Cqa,OAAQ,KADmC,CAE3CjV,SAAUA,QAFiC,CAG3CmV,SAAUnL,YAAYksD,QAAQ/gD,QAApB,CAHiC,CAI3CD,YAAa,CAAC,CAACkjD,6BAJ4B,CAK3C9rD,KAAM,KAAKusD,gBAAL,CAAsB/0C,aAAtB,CALqC,CAM3CxP,SAAU8jD,6BANiC,CAO3CpyD,gBAAiBqyD,uBAP0B,CAQ3CppD,OAAQinD,QAAQjnD,MAAR,EAAkB,EARiB,CAS3CC,QAASgnD,QAAQhnD,OAAR,EAAmB,EATe,CAU3C4G,KAAMogD,QAAQpgD,IAAR,EAAgB,EAVqB,CAW3CzG,UAAWA,WAAa,EAXmB,CAY3CiG,cAAeA,eAAiB,EAZW,CAa3CC,QAASA,SAAW,EAbuB,CAc3CC,OAAQ0gD,QAAQ1gD,MAAR,EAAkB,EAdiB,CAe3CC,YAAaA,aAAe,EAfe,CAgB3CC,gBAAiB4iD,sBAhB0B,CAiB3C3iD,kBAAmByiD,8BAAgC,KAAK1B,qBAAL,CAA2B5yC,aAA3B,CAAhC,CACf,IAlBuC,CAmB3ClO,aAAcwiD,8BAAgC,KAAKtB,eAAL,CAAqBhzC,aAArB,CAAhC,CAAsE,IAnBzC,CAoB3CjO,iBAAkB,IApByB,CAAhC,CAAf,CAsBA,GAAIuiD,6BAAJ,CAAmC,CAC/B50C,SAAS3N,gBAAT,CACI,KAAKkhD,mBAAL,CAAyB/2D,QAAzB,CAAmC8jB,aAAnC,CAAkDN,SAASvU,MAA3D,CAAmEuU,SAAStU,OAA5E,CADJ,CAEH,CACDipD,WAAa,CAAE30C,SAAUA,QAAZ,CAAsBq0C,WAAY3B,OAAlC,CAAb,CACA,KAAKR,4BAAL,CAAkCnyD,GAAlC,CAAsCugB,aAAtC,CAAqDq0C,UAArD,EACA,MAAOA,WAAP,CACH,CAvGD,CAwGA;;;WAIAlD,wBAAwBt6D,SAAxB,CAAkCm+D,oBAAlC,CAAyD,SAAUh1C,aAAV,CAAyB,CAC9E,GAAIoyC,SAAU,KAAKP,eAAL,CAAqBryD,GAArB,CAAyBwgB,aAAzB,CAAd,CACA,GAAI,CAACoyC,OAAL,CAAc,CACV,KAAKriC,YAAL,CAAkB9oB,YAAY,8IAAgJytD,cAAc10C,aAAd,CAAhJ,CAA+K,GAA3L,CAAlB,CAAmNA,aAAnN,EACH,CACD,MAAOoyC,QAAP,CACH,CAND,CAOAjB,wBAAwBt6D,SAAxB,CAAkCo+D,mBAAlC,CAAwD,SAAUtC,OAAV,CAAmB,CACvE,GAAIuC,YAAa,KAAK9B,YAAL,CAAkBT,OAAlB,CAA2Bh9D,QAAQma,kBAAR,CAA2ByC,SAAtD,CAAjB,CACA,GAAI,CAAC2iD,UAAL,CAAiB,CACb,KAAKnlC,YAAL,CAAkB9oB,YAAY,2DAA6DytD,cAAc/B,OAAd,CAA7D,CAAsF,GAAlG,CAAlB,CAA0HA,OAA1H,EACH,CACD,MAAOuC,WAAP,CACH,CAND,CAOA/D,wBAAwBt6D,SAAxB,CAAkCwoB,WAAlC,CAAgD,SAAU7W,IAAV,CAAgB,CAC5D,MAAO,CAAC,CAAC,KAAK4qD,YAAL,CAAkB5qD,IAAlB,CAAwB7S,QAAQma,kBAAR,CAA2ByC,SAAnD,CAAF,EACH,KAAK8+C,kBAAL,CAAwBhyC,WAAxB,CAAoC7W,IAApC,CADJ,CAEH,CAHD,CAIA2oD,wBAAwBt6D,SAAxB,CAAkCs+D,MAAlC,CAA2C,SAAU3sD,IAAV,CAAgB,CACvD,MAAO,CAAC,CAAC,KAAK4qD,YAAL,CAAkB5qD,IAAlB,CAAwB7S,QAAQma,kBAAR,CAA2B2C,IAAnD,CAAF,EACH,KAAK6+C,aAAL,CAAmB6D,MAAnB,CAA0B3sD,IAA1B,CADJ,CAEH,CAHD,CAIA2oD,wBAAwBt6D,SAAxB,CAAkCu+D,UAAlC,CAA+C,SAAU5sD,IAAV,CAAgB,CAC3D,MAAO,CAAC,CAAC,KAAK4qD,YAAL,CAAkB5qD,IAAlB,CAAwB7S,QAAQma,kBAAR,CAA2BwD,QAAnD,CAAF,EACH,KAAK89C,iBAAL,CAAuBgE,UAAvB,CAAkC5sD,IAAlC,CADJ,CAEH,CAHD,CAIA2oD,wBAAwBt6D,SAAxB,CAAkCw+D,kBAAlC,CAAuD,SAAUC,UAAV,CAAsBC,iBAAtB,CAAyC,CAC5F,GAAIA,oBAAsB,IAAK,EAA/B,CAAkC,CAAEA,kBAAoB,IAApB,CAA2B,CAC/D,GAAIC,eAAgB,KAAKpC,YAAL,CAAkBkC,UAAlB,CAA8B3/D,QAAQma,kBAAR,CAA2BwD,QAAzD,CAApB,CACA,GAAI,CAACkiD,aAAL,CAAoB,CAChB,GAAIn/C,YAAa,KAAKo/C,mBAAL,CAAyBH,UAAzB,CAAqC,KAArC,CAA4CC,iBAA5C,CAAjB,CACAC,cAAgBn/C,WAAaA,WAAWpF,SAAX,EAAb,CAAsC,IAAtD,CACA,GAAIukD,aAAJ,CAAmB,CACf,KAAK1D,aAAL,CAAmBryD,GAAnB,CAAuB61D,UAAvB,CAAmCE,aAAnC,EACH,CACJ,CACD,MAAOA,cAAP,CACH,CAXD,CAYA;;WAGArE,wBAAwBt6D,SAAxB,CAAkC6+D,oCAAlC,CAAyE,SAAUJ,UAAV,CAAsBzB,MAAtB,CAA8Bp0C,eAA9B,CAA+C,CACpH,GAAI/kB,OAAQ,IAAZ,CACA,GAAI+kB,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAI1c,UAAW,KAAK0yD,mBAAL,CAAyBH,UAAzB,CAAqC71C,eAArC,CAAf,CACA,GAAIk2C,SAAU,EAAd,CACA,GAAI5yD,QAAJ,CAAc,CACVA,SAAS6P,kBAAT,CAA4BhY,OAA5B,CAAoC,SAAUyY,EAAV,CAAc,CAC9C,GAAIuiD,SAAUl7D,MAAMk5D,qBAAN,CAA4B0B,UAA5B,CAAwCjiD,GAAGjE,SAA3C,CAAsDykD,MAAtD,CAAd,CACA,GAAI+B,OAAJ,CAAa,CACTD,QAAQt9D,IAAR,CAAau9D,OAAb,EACH,CACJ,CALD,EAMA7yD,SAAS+P,aAAT,CAAuBlY,OAAvB,CAA+B,SAAUyY,EAAV,CAAc,CAAE,MAAO3Y,OAAMm7D,iBAAN,CAAwBxiD,GAAGjE,SAA3B,CAAP,CAA+C,CAA9F,EACH,CACD,MAAOrI,SAAQH,GAAR,CAAY+uD,OAAZ,CAAP,CACH,CAfD,CAgBAxE,wBAAwBt6D,SAAxB,CAAkCi/D,wBAAlC,CAA6D,SAAUR,UAAV,CAAsB,CAC/E,GAAIS,aAAc,KAAK7D,mBAAL,CAAyB1yD,GAAzB,CAA6B81D,UAA7B,CAAlB,CACA,GAAIS,WAAJ,CAAiB,CACb,MAAOA,YAAP,CACH,CACD,GAAIC,cAAer2C,SAAS,KAAKP,UAAL,CAAgB62C,kBAAhB,CAAmCX,UAAnC,CAAT,CAAyDxyD,eAAekB,QAAxE,CAAnB,CACA+xD,YAAc,CACVvtD,KAAM,KAAKusD,gBAAL,CAAsBO,UAAtB,CADI,CAEVY,WAAYF,aAAargE,OAFf,CAGVwgE,WAAYH,aAAaI,OAHf,CAIVC,aAAcL,aAAazqD,SAJjB,CAAd,CAMA,KAAK2mD,mBAAL,CAAyBzyD,GAAzB,CAA6B61D,UAA7B,CAAyCS,WAAzC,EACA,MAAOA,YAAP,CACH,CAdD,CAeA5E,wBAAwBt6D,SAAxB,CAAkC4+D,mBAAlC,CAAwD,SAAUH,UAAV,CAAsB71C,eAAtB,CAAuC81C,iBAAvC,CAA0D,CAC9G,GAAI76D,OAAQ,IAAZ,CACA,GAAI+kB,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAI81C,oBAAsB,IAAK,EAA/B,CAAkC,CAAEA,kBAAoB,IAApB,CAA2B,CAC/DD,WAAa/sD,kBAAkB+sD,UAAlB,CAAb,CACA,GAAIS,aAAc,KAAK/D,cAAL,CAAoBxyD,GAApB,CAAwB81D,UAAxB,CAAlB,CACA,GAAIS,WAAJ,CAAiB,CACb,MAAOA,YAAP,CACH,CACD,GAAI9/C,MAAO,KAAKm7C,iBAAL,CAAuB92C,OAAvB,CAA+Bg7C,UAA/B,CAA2C71C,eAA3C,CAAX,CACA,GAAI,CAACxJ,IAAL,CAAW,CACP,MAAO,KAAP,CACH,CACD,GAAIrD,oBAAqB,EAAzB,CACA,GAAI0jD,8BAA+B,EAAnC,CACA,GAAIxjD,eAAgB,EAApB,CACA,GAAIG,iBAAkB,EAAtB,CACA,GAAIC,iBAAkB,EAAtB,CACA,GAAI3H,WAAY,EAAhB,CACA,GAAIqG,iBAAkB,EAAtB,CACA,GAAIoB,qBAAsB,EAA1B,CACA,GAAIG,SAAU,EAAd,CACA,GAAI8C,KAAKmgD,OAAT,CAAkB,CACdzB,sBAAsB1+C,KAAKmgD,OAA3B,EAAoCx7D,OAApC,CAA4C,SAAU27D,YAAV,CAAwB,CAChE,GAAIC,oBAAqBv1D,SAAzB,CACA,GAAIw1D,YAAYF,YAAZ,CAAJ,CAA+B,CAC3BC,mBAAqBD,YAArB,CACH,CAFD,IAGK,IAAIA,cAAgBA,aAAaxzD,QAAjC,CAA2C,CAC5C,GAAI2zD,qBAAsBH,YAA1B,CACAC,mBAAqBE,oBAAoB3zD,QAAzC,CACA,GAAI2zD,oBAAoBnrD,SAAxB,CAAmC,CAC/BA,UAAUlT,IAAV,CAAeb,KAAf,CAAqB+T,SAArB,CAAgChT,SAASmC,MAAM+5D,qBAAN,CAA4BiC,oBAAoBnrD,SAAhD,CAA2DqG,eAA3D,CAA4E,8BAAgC8iD,cAAc8B,kBAAd,CAAhC,CAAoE,GAAhJ,CAAqJ,EAArJ,CAAyJD,YAAzJ,CAAT,CAAhC,EACH,CACJ,CACD,GAAIC,kBAAJ,CAAwB,CACpB,GAAI97D,MAAMi8D,gBAAN,CAAuBrB,UAAvB,CAAmCkB,kBAAnC,CAAJ,CACI,OACJ,GAAI,CAACjB,iBAAL,CACIA,kBAAoB,GAAI7hD,IAAJ,EAApB,CACJ,GAAI6hD,kBAAkBnhD,GAAlB,CAAsBoiD,kBAAtB,CAAJ,CAA+C,CAC3C97D,MAAMq1B,YAAN,CAAmB9oB,YAAYvM,MAAMk8D,kBAAN,CAAyBJ,kBAAzB,EAA+C,IAA/C,CAAsD9B,cAAc6B,YAAd,CAAtD,CAAoF,2CAApF,CAAkI7B,cAAcY,UAAd,CAAlI,CAA8J,IAA1K,CAAnB,CAAoMA,UAApM,EACA,OACH,CACDC,kBAAkBlhD,GAAlB,CAAsBmiD,kBAAtB,EACA,GAAIK,uBAAwBn8D,MAAM26D,kBAAN,CAAyBmB,kBAAzB,CAA6CjB,iBAA7C,CAA5B,CACAA,kBAAkB54C,MAAlB,CAAyB65C,kBAAzB,EACA,GAAI,CAACK,qBAAL,CAA4B,CACxBn8D,MAAMq1B,YAAN,CAAmB9oB,YAAY,cAAgBvM,MAAMk8D,kBAAN,CAAyBL,YAAzB,CAAhB,CAAyD,IAAzD,CAAgE7B,cAAc6B,YAAd,CAAhE,CAA8F,4BAA9F,CAA6H7B,cAAcY,UAAd,CAA7H,CAAyJ,uCAArK,CAAnB,CAAkOA,UAAlO,EACA,OACH,CACDriD,gBAAgB5a,IAAhB,CAAqBw+D,qBAArB,EACH,CAjBD,IAkBK,CACDn8D,MAAMq1B,YAAN,CAAmB9oB,YAAY,qBAAuBytD,cAAc6B,YAAd,CAAvB,CAAqD,4BAArD,CAAoF7B,cAAcY,UAAd,CAApF,CAAgH,GAA5H,CAAnB,CAAqJA,UAArJ,EACA,OACH,CACJ,CAlCD,EAmCH,CACD,GAAIr/C,KAAKtgB,OAAT,CAAkB,CACdg/D,sBAAsB1+C,KAAKtgB,OAA3B,EAAoCiF,OAApC,CAA4C,SAAUk8D,YAAV,CAAwB,CAChE,GAAI,CAACL,YAAYK,YAAZ,CAAL,CAAgC,CAC5Bp8D,MAAMq1B,YAAN,CAAmB9oB,YAAY,qBAAuBytD,cAAcoC,YAAd,CAAvB,CAAqD,4BAArD,CAAoFpC,cAAcY,UAAd,CAApF,CAAgH,GAA5H,CAAnB,CAAqJA,UAArJ,EACA,OACH,CACD,GAAI,CAACC,iBAAL,CACIA,kBAAoB,GAAI7hD,IAAJ,EAApB,CACJ,GAAI6hD,kBAAkBnhD,GAAlB,CAAsB0iD,YAAtB,CAAJ,CAAyC,CACrCp8D,MAAMq1B,YAAN,CAAmB9oB,YAAYvM,MAAMk8D,kBAAN,CAAyBE,YAAzB,EAAyC,IAAzC,CAAgD3uD,UAAU2uD,YAAV,CAAhD,CAA0E,2CAA1E,CAAwHpC,cAAcY,UAAd,CAAxH,CAAoJ,GAAhK,CAAnB,CAAyLA,UAAzL,EACA,OACH,CACDC,kBAAkBlhD,GAAlB,CAAsByiD,YAAtB,EACA,GAAIC,uBAAwBr8D,MAAM26D,kBAAN,CAAyByB,YAAzB,CAAuCvB,iBAAvC,CAA5B,CACAA,kBAAkB54C,MAAlB,CAAyBm6C,YAAzB,EACA,GAAIC,qBAAJ,CAA2B,CACvB7jD,gBAAgB7a,IAAhB,CAAqB0+D,qBAArB,EACH,CAFD,IAGK,CACDT,6BAA6Bj+D,IAA7B,CAAkCqC,MAAMs8D,sBAAN,CAA6BF,YAA7B,CAAlC,EACH,CACJ,CApBD,EAqBH,CACD;AACA;AACA,GAAI1jD,kBAAmB,KAAK6jD,8BAAL,CAAoChkD,eAApC,CAAqDC,eAArD,CAAvB,CACA,GAAI+C,KAAKihD,YAAT,CAAuB,CACnBvC,sBAAsB1+C,KAAKihD,YAA3B,EAAyCt8D,OAAzC,CAAiD,SAAUu8D,YAAV,CAAwB,CACrE,GAAI,CAACV,YAAYU,YAAZ,CAAL,CAAgC,CAC5Bz8D,MAAMq1B,YAAN,CAAmB9oB,YAAY,qBAAuBytD,cAAcyC,YAAd,CAAvB,CAAqD,4BAArD,CAAoFzC,cAAcY,UAAd,CAApF,CAAgH,GAA5H,CAAnB,CAAqJA,UAArJ,EACA,OACH,CACD,GAAI8B,oBAAqB18D,MAAMs8D,sBAAN,CAA6BG,YAA7B,CAAzB,CACA,GAAIz8D,MAAM2kB,WAAN,CAAkB83C,YAAlB,CAAJ,CAAqC,CACjC/jD,iBAAiBe,YAAjB,CAA8BijD,kBAA9B,EACAxkD,mBAAmBva,IAAnB,CAAwB++D,kBAAxB,EACA18D,MAAM28D,gBAAN,CAAuBF,YAAvB,CAAqC7B,UAArC,EACH,CAJD,IAKK,IAAI56D,MAAMy6D,MAAN,CAAagC,YAAb,CAAJ,CAAgC,CACjC/jD,iBAAiBmB,OAAjB,CAAyB6iD,kBAAzB,EACAhkD,iBAAiBS,KAAjB,CAAuBxb,IAAvB,CAA4B++D,kBAA5B,EACAtkD,cAAcza,IAAd,CAAmB++D,kBAAnB,EACA18D,MAAM28D,gBAAN,CAAuBF,YAAvB,CAAqC7B,UAArC,EACH,CALI,IAMA,CACD56D,MAAMq1B,YAAN,CAAmB9oB,YAAY,cAAgBvM,MAAMk8D,kBAAN,CAAyBO,YAAzB,CAAhB,CAAyD,IAAzD,CAAgEzC,cAAcyC,YAAd,CAAhE,CAA8F,4BAA9F,CAA6HzC,cAAcY,UAAd,CAA7H,CAAyJ,yDAArK,CAAnB,CAAoPA,UAApP,EACA,OACH,CACJ,CArBD,EAsBH,CACD,GAAIziD,oBAAqB,EAAzB,CACA,GAAIE,eAAgB,EAApB,CACAujD,6BAA6B17D,OAA7B,CAAqC,SAAU08D,UAAV,CAAsB,CACvD,GAAIlkD,iBAAiBK,aAAjB,CAA+BW,GAA/B,CAAmCkjD,WAAWloD,SAA9C,CAAJ,CAA8D,CAC1DyD,mBAAmBxa,IAAnB,CAAwBi/D,UAAxB,EACAlkD,iBAAiBkB,oBAAjB,CAAsCgjD,UAAtC,EACH,CAHD,IAIK,IAAIlkD,iBAAiBQ,QAAjB,CAA0BQ,GAA1B,CAA8BkjD,WAAWloD,SAAzC,CAAJ,CAAyD,CAC1D2D,cAAc1a,IAAd,CAAmBi/D,UAAnB,EACAlkD,iBAAiBoB,eAAjB,CAAiC8iD,UAAjC,EACH,CAHI,IAIA,CACD58D,MAAMq1B,YAAN,CAAmB9oB,YAAY,gBAAkBvM,MAAMk8D,kBAAN,CAAyBU,WAAWloD,SAApC,CAAlB,CAAmE,GAAnE,CAAyEslD,cAAc4C,WAAWloD,SAAzB,CAAzE,CAA+G,QAA/G,CAA0HslD,cAAcY,UAAd,CAA1H,CAAsJ,2CAAlK,CAAnB,CAAmOA,UAAnO,EACA,OACH,CACJ,CAbD,EAcA;AACA;AACA,GAAIr/C,KAAK1K,SAAT,CAAoB,CAChBA,UAAUlT,IAAV,CAAeb,KAAf,CAAqB+T,SAArB,CAAgChT,SAAS,KAAKk8D,qBAAL,CAA2Bx+C,KAAK1K,SAAhC,CAA2CqG,eAA3C,CAA4D,8BAAgC8iD,cAAcY,UAAd,CAAhC,CAA4D,GAAxH,CAA6H,EAA7H,CAAiIA,UAAjI,CAAT,CAAhC,EACH,CACD,GAAIr/C,KAAKrE,eAAT,CAA0B,CACtBA,gBAAgBvZ,IAAhB,CAAqBb,KAArB,CAA2Boa,eAA3B,CAA4CrZ,SAASo8D,sBAAsB1+C,KAAKrE,eAA3B,EAChDhS,GADgD,CAC5C,SAAU4I,IAAV,CAAgB,CAAE,MAAO9N,OAAMk6D,0BAAN,CAAiCpsD,IAAjC,CAAP,CAAgD,CADtB,CAAT,CAA5C,EAEH,CACD,GAAIyN,KAAKshD,SAAT,CAAoB,CAChB5C,sBAAsB1+C,KAAKshD,SAA3B,EAAsC38D,OAAtC,CAA8C,SAAU4N,IAAV,CAAgB,CAC1D,GAAI,CAACiuD,YAAYjuD,IAAZ,CAAL,CAAwB,CACpB9N,MAAMq1B,YAAN,CAAmB9oB,YAAY,qBAAuBytD,cAAclsD,IAAd,CAAvB,CAA6C,8CAA7C,CAA8FksD,cAAcY,UAAd,CAA9F,CAA0H,GAAtI,CAAnB,CAA+JA,UAA/J,EACA,OACH,CACDtiD,oBAAoB3a,IAApB,CAAyBqC,MAAMs8D,sBAAN,CAA6BxuD,IAA7B,CAAzB,EACH,CAND,EAOH,CACDoJ,gBAAgBvZ,IAAhB,CAAqBb,KAArB,CAA2Boa,eAA3B,CAA4CrZ,SAASya,oBAAoBpT,GAApB,CAAwB,SAAU4I,IAAV,CAAgB,CAAE,MAAO9N,OAAMk6D,0BAAN,CAAiCpsD,KAAK4G,SAAtC,CAAP,CAA0D,CAApG,CAAT,CAA5C,EACA,GAAI6G,KAAK9C,OAAT,CAAkB,CACdA,QAAQ9a,IAAR,CAAab,KAAb,CAAmB2b,OAAnB,CAA4B5a,SAASo8D,sBAAsB1+C,KAAK9C,OAA3B,CAAT,CAA5B,EACH,CACD4iD,YAAc,GAAIpjD,wBAAJ,CAA4B,CACtCnK,KAAM,KAAKusD,gBAAL,CAAsBO,UAAtB,CADgC,CAEtC/pD,UAAWA,SAF2B,CAGtCqG,gBAAiBA,eAHqB,CAItCoB,oBAAqBA,mBAJiB,CAKtCG,QAASA,OAL6B,CAMtCP,mBAAoBA,kBANkB,CAOtCC,mBAAoBA,kBAPkB,CAQtCC,cAAeA,aARuB,CAStCC,cAAeA,aATuB,CAUtCE,gBAAiBA,eAVqB,CAWtCC,gBAAiBA,eAXqB,CAYtCE,iBAAkBA,gBAZoB,CAatCC,GAAI4C,KAAK5C,EAAL,EAAW,IAbuB,CAA5B,CAAd,CAeAzB,gBAAgBhX,OAAhB,CAAwB,SAAUyY,EAAV,CAAc,CAAE,MAAOD,kBAAiBsB,iBAAjB,CAAmCrB,EAAnC,CAAP,CAAgD,CAAxF,EACA9H,UAAU3Q,OAAV,CAAkB,SAAUsZ,QAAV,CAAoB,CAAE,MAAOd,kBAAiBa,WAAjB,CAA6BC,QAA7B,CAAuC6hD,YAAYvtD,IAAnD,CAAP,CAAkE,CAA1G,EACA4K,iBAAiBqB,SAAjB,CAA2BshD,YAAYvtD,IAAvC,EACA,KAAKwpD,cAAL,CAAoBvyD,GAApB,CAAwB61D,UAAxB,CAAoCS,WAApC,EACA,MAAOA,YAAP,CACH,CAvKD,CAwKA5E,wBAAwBt6D,SAAxB,CAAkC8/D,gBAAlC,CAAqD,SAAUrB,UAAV,CAAsBkB,kBAAtB,CAA0C,CAC3F,GAAIlB,aAAekB,kBAAnB,CAAuC,CACnC,KAAKzmC,YAAL,CAAkB9oB,YAAY,IAAMytD,cAAcY,UAAd,CAAN,CAAkC,8BAA9C,CAAlB,CAAiGA,UAAjG,EACA,MAAO,KAAP,CACH,CACD,MAAO,MAAP,CACH,CAND,CAOAnE,wBAAwBt6D,SAAxB,CAAkC+/D,kBAAlC,CAAuD,SAAUpuD,IAAV,CAAgB,CACnE,GAAIiuD,YAAYjuD,IAAZ,CAAJ,CAAuB,CACnB,GAAI,KAAK6W,WAAL,CAAiB7W,IAAjB,CAAJ,CAA4B,CACxB,MAAO,WAAP,CACH,CACD,GAAI,KAAK2sD,MAAL,CAAY3sD,IAAZ,CAAJ,CAAuB,CACnB,MAAO,MAAP,CACH,CACD,GAAI,KAAK4sD,UAAL,CAAgB5sD,IAAhB,CAAJ,CAA2B,CACvB,MAAO,QAAP,CACH,CACJ,CACD,GAAIA,KAAKgvD,OAAT,CAAkB,CACd,MAAO,UAAP,CACH,CACD,MAAO,OAAP,CACH,CAhBD,CAiBArG,wBAAwBt6D,SAAxB,CAAkCwgE,gBAAlC,CAAqD,SAAU7uD,IAAV,CAAgB8sD,UAAhB,CAA4B,CAC7E,GAAImC,WAAY,KAAKxF,gBAAL,CAAsBzyD,GAAtB,CAA0BgJ,IAA1B,CAAhB,CACA,GAAIivD,WAAaA,YAAcnC,UAA/B,CAA2C,CACvC,KAAKvlC,YAAL,CAAkB9oB,YAAY,QAAUytD,cAAclsD,IAAd,CAAV,CAAgC,6CAAhC,CAAgFksD,cAAc+C,SAAd,CAAhF,CAA2G,OAA3G,CAAqH/C,cAAcY,UAAd,CAArH,CAAiJ,IAAjJ,EACzB,0BAA4BZ,cAAclsD,IAAd,CAA5B,CAAkD,mCAAlD,CAAwFksD,cAAc+C,SAAd,CAAxF,CAAmH,OAAnH,CAA6H/C,cAAcY,UAAd,CAA7H,CAAyJ,IADhI,GAEzB,gEAAkEZ,cAAclsD,IAAd,CAAlE,CAAwF,gCAAxF,CAA2HksD,cAAc+C,SAAd,CAA3H,CAAsJ,OAAtJ,CAAgK/C,cAAcY,UAAd,CAAhK,CAA4L,GAFnK,CAAZ,CAAlB,CAEwMA,UAFxM,EAGA,OACH,CACD,KAAKrD,gBAAL,CAAsBxyD,GAAtB,CAA0B+I,IAA1B,CAAgC8sD,UAAhC,EACH,CATD,CAUAnE,wBAAwBt6D,SAAxB,CAAkCogE,8BAAlC,CAAmE,SAAUhkD,eAAV,CAA2BC,eAA3B,CAA4C,CAC3G;AACA,GAAI1V,QAAS,GAAIgW,kCAAJ,EAAb,CACA,GAAIkkD,gBAAiB,GAAI35D,IAAJ,EAArB,CACAkV,gBAAgBza,MAAhB,CAAuB0a,eAAvB,EAAwCtY,OAAxC,CAAgD,SAAU+8D,UAAV,CAAsB,CAClEA,WAAWpkD,OAAX,CAAmB3Y,OAAnB,CAA2B,SAAUg9D,GAAV,CAAe,CAAE,MAAOp6D,QAAOiX,SAAP,CAAiBmjD,GAAjB,CAAP,CAA+B,CAA3E,EACAD,WAAW/lD,eAAX,CAA2BhX,OAA3B,CAAmC,SAAU2mB,IAAV,CAAgB,CAAE,MAAO/jB,QAAOkX,iBAAP,CAAyB6M,IAAzB,CAAP,CAAwC,CAA7F,EACA,GAAIs2C,aAAc,GAAInkD,IAAJ,EAAlB,CACAikD,WAAWpsD,SAAX,CAAqB3Q,OAArB,CAA6B,SAAUi3C,KAAV,CAAiB,CAC1C,GAAIimB,UAAW9nD,eAAe6hC,MAAM39B,QAAN,CAAetT,KAA9B,CAAf,CACA,GAAIm3D,aAAcL,eAAel4D,GAAf,CAAmBs4D,QAAnB,CAAlB,CACA,GAAI,CAACC,WAAL,CAAkB,CACdA,YAAc,GAAIrkD,IAAJ,EAAd,CACAgkD,eAAej4D,GAAf,CAAmBq4D,QAAnB,CAA6BC,WAA7B,EACH,CACD,GAAIC,WAAYnmB,MAAMj8C,MAAN,CAAawZ,SAA7B,CACA;AACA;AACA,GAAIyoD,YAAYzjD,GAAZ,CAAgB0jD,QAAhB,GAA6B,CAACC,YAAY3jD,GAAZ,CAAgB4jD,SAAhB,CAAlC,CAA8D,CAC1DD,YAAY1jD,GAAZ,CAAgB2jD,SAAhB,EACAH,YAAYxjD,GAAZ,CAAgByjD,QAAhB,EACAt6D,OAAOyW,WAAP,CAAmB49B,MAAM39B,QAAzB,CAAmC29B,MAAMj8C,MAAzC,EACH,CACJ,CAfD,EAgBH,CApBD,EAqBAsd,gBAAgBtY,OAAhB,CAAwB,SAAU+8D,UAAV,CAAsB,CAC1CA,WAAW9kD,kBAAX,CAA8BjY,OAA9B,CAAsC,SAAUyY,EAAV,CAAc,CAAE,MAAO7V,QAAO8W,oBAAP,CAA4BjB,EAA5B,CAAP,CAAyC,CAA/F,EACAskD,WAAW5kD,aAAX,CAAyBnY,OAAzB,CAAiC,SAAUyY,EAAV,CAAc,CAAE,MAAO7V,QAAOgX,eAAP,CAAuBnB,EAAvB,CAAP,CAAoC,CAArF,EACH,CAHD,EAIAJ,gBAAgBrY,OAAhB,CAAwB,SAAU+8D,UAAV,CAAsB,CAC1CA,WAAW9kD,kBAAX,CAA8BjY,OAA9B,CAAsC,SAAUyY,EAAV,CAAc,CAAE,MAAO7V,QAAO2W,YAAP,CAAoBd,EAApB,CAAP,CAAiC,CAAvF,EACAskD,WAAW5kD,aAAX,CAAyBnY,OAAzB,CAAiC,SAAUyY,EAAV,CAAc,CAAE,MAAO7V,QAAO+W,OAAP,CAAelB,EAAf,CAAP,CAA4B,CAA7E,EACH,CAHD,EAIA,MAAO7V,OAAP,CACH,CAlCD,CAmCA2zD,wBAAwBt6D,SAAxB,CAAkCmgE,sBAAlC,CAA2D,SAAUxuD,IAAV,CAAgB,CACvEA,KAAOD,kBAAkBC,IAAlB,CAAP,CACA,MAAO,CAAE4G,UAAW5G,IAAb,CAAP,CACH,CAHD,CAIA2oD,wBAAwBt6D,SAAxB,CAAkCohE,YAAlC,CAAiD,SAAUzvD,IAAV,CAAgB,CAC7D,GAAI+W,aAAc,KAAKH,UAAL,CAAgB84C,cAAhB,CAA+B1vD,IAA/B,CAAlB,CACA,MAAO+W,aAAYzY,IAAZ,CAAiB,SAAUqxD,GAAV,CAAe,CAAE,MAAOn1D,kBAAiBgB,QAAjB,CAA0Bm0D,GAA1B,CAAP,CAAwC,CAA1E,CAAP,CACH,CAHD,CAIAhH,wBAAwBt6D,SAAxB,CAAkCuhE,oBAAlC,CAAyD,SAAU5vD,IAAV,CAAgB,CACrE,MAAO,CACH8J,YAAa3c,QAAQma,kBAAR,CAA2BuoD,UADrC,CAEH7vD,KAAM,KAAKusD,gBAAL,CAAsBvsD,IAAtB,CAA4B,IAA5B,CAAkC,KAAlC,CAFH,CAAP,CAIH,CALD,CAMA2oD,wBAAwBt6D,SAAxB,CAAkCyhE,qBAAlC,CAA0D,SAAU9vD,IAAV,CAAgB4M,YAAhB,CAA8BmjD,kBAA9B,CAAkD,CACxG,GAAInjD,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,IAAf,CAAsB,CACrD,GAAImjD,qBAAuB,IAAK,EAAhC,CAAmC,CAAEA,mBAAqB,IAArB,CAA4B,CACjE,GAAIlF,aAAc,KAAKD,YAAL,CAAkB5qD,IAAlB,CAAwB7S,QAAQma,kBAAR,CAA2BuoD,UAAnD,CAAlB,CACA,GAAI/4C,cAAe+zC,YACfA,YAAY7qD,IADG,CAEf,KAAKusD,gBAAL,CAAsBvsD,IAAtB,CAA4B4M,YAA5B,CAA0CmjD,kBAA1C,CAFJ,CAGA,GAAIh5C,aAAc,KAAKH,UAAL,CAAgBG,WAAhB,CAA4B/W,IAA5B,EAAkCgW,MAAlC,CAAyC,SAAU25C,GAAV,CAAe,CAAE,MAAOn1D,kBAAiBgB,QAAjB,CAA0Bm0D,GAA1B,CAAP,CAAwC,CAAlG,CAAlB,CACA,GAAI54C,YAAYjoB,MAAZ,GAAuB,CAA3B,CAA8B,CAC1B,MAAO,KAAP,CACH,CACD,GAAI2e,MAAOsJ,YAAYA,YAAYjoB,MAAZ,CAAqB,CAAjC,CAAX,CACA,MAAO,CACH82D,OAAQ5lD,IADL,CAEHA,KAAM8W,YAFH,CAGHkvC,WAAYv4C,KAAKu4C,UAHd,CAIHz5C,SAAUkB,KAAKlB,QAJZ,CAKHD,SAAUmB,KAAKnB,QALZ,CAMHE,YAAaiB,KAAKjB,WANf,CAOHC,WAAYgB,KAAKhB,UAPd,CAQHC,KAAMe,KAAKf,IARR,CAAP,CAUH,CAtBD,CAuBAi8C,wBAAwBt6D,SAAxB,CAAkCk+D,gBAAlC,CAAqD,SAAUvsD,IAAV,CAAgB4M,YAAhB,CAA8BmjD,kBAA9B,CAAkD,CACnG,GAAInjD,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,IAAf,CAAsB,CACrD,GAAImjD,qBAAuB,IAAK,EAAhC,CAAmC,CAAEA,mBAAqB,IAArB,CAA4B,CACjE,GAAIjpD,YAAa,KAAK0nD,sBAAL,CAA4BxuD,IAA5B,CAAjB,CACA,MAAO,CACH4G,UAAWE,WAAWF,SADnB,CAEHukD,OAAQ,KAAK6E,wBAAL,CAA8BlpD,WAAWF,SAAzC,CAAoDgG,YAApD,CAAkEmjD,kBAAlE,CAFL,CAGHzrD,eAAgBmkD,qBAAqB,KAAK7xC,UAA1B,CAAsC9P,WAAWF,SAAjD,CAHb,CAAP,CAKH,CATD,CAUA+hD,wBAAwBt6D,SAAxB,CAAkC4hE,mBAAlC,CAAwD,SAAU/iE,OAAV,CAAmB0f,YAAnB,CAAiC,CACrF,GAAIA,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,IAAf,CAAsB,CACrD1f,QAAU6S,kBAAkB7S,OAAlB,CAAV,CACA,MAAO,CAAE0Z,UAAW1Z,OAAb,CAAsBi+D,OAAQ,KAAK6E,wBAAL,CAA8B9iE,OAA9B,CAAuC0f,YAAvC,CAA9B,CAAP,CACH,CAJD,CAKA;;;WAIA+7C,wBAAwBt6D,SAAxB,CAAkC6hE,eAAlC,CAAoD,SAAUC,QAAV,CAAoB,CACpE,GAAIC,UAAW,KAAK7G,UAAL,CAAgBvyD,GAAhB,CAAoBm5D,QAApB,CAAf,CACA,GAAI,CAACC,QAAL,CAAe,CACX,KAAK7oC,YAAL,CAAkB9oB,YAAY,oIAAsIytD,cAAciE,QAAd,CAAtI,CAAgK,GAA5K,CAAlB,CAAoMA,QAApM,EACH,CACD,MAAOC,WAAY,IAAnB,CACH,CAND,CAOAzH,wBAAwBt6D,SAAxB,CAAkCgiE,cAAlC,CAAmD,SAAUF,QAAV,CAAoB,CACnE,GAAIG,aAAc,KAAK1F,YAAL,CAAkBuF,QAAlB,CAA4BhjE,QAAQma,kBAAR,CAA2B2C,IAAvD,CAAlB,CACA,GAAI,CAACqmD,WAAL,CAAkB,CACd,KAAK/oC,YAAL,CAAkB9oB,YAAY,sDAAwDytD,cAAciE,QAAd,CAAxD,CAAkF,GAA9F,CAAlB,CAAsHA,QAAtH,EACH,CACD,MAAOG,YAAP,CACH,CAND,CAOA3H,wBAAwBt6D,SAAxB,CAAkCkiE,qBAAlC,CAA0D,SAAUJ,QAAV,CAAoB,CAC1E,GAAIC,UAAW,KAAK7G,UAAL,CAAgBvyD,GAAhB,CAAoBm5D,QAApB,CAAf,CACA,GAAI,CAACC,QAAL,CAAe,CACXA,SAAW,KAAK/C,iBAAL,CAAuB8C,QAAvB,CAAX,CACH,CACD,MAAOC,SAAP,CACH,CAND,CAOAzH,wBAAwBt6D,SAAxB,CAAkCg/D,iBAAlC,CAAsD,SAAU8C,QAAV,CAAoB,CACtEA,SAAWpwD,kBAAkBowD,QAAlB,CAAX,CACA,GAAIK,gBAAiB,KAAK1H,aAAL,CAAmBh3C,OAAnB,CAA2Bq+C,QAA3B,CAArB,CACA,GAAIC,UAAW,GAAIpmD,oBAAJ,CAAwB,CACnChK,KAAM,KAAKusD,gBAAL,CAAsB4D,QAAtB,CAD6B,CAEnCv9D,KAAM49D,eAAe59D,IAFc,CAGnCiH,KAAM,CAAC,CAAC22D,eAAe32D,IAHY,CAAxB,CAAf,CAKA,KAAK0vD,UAAL,CAAgBtyD,GAAhB,CAAoBk5D,QAApB,CAA8BC,QAA9B,EACA,KAAK9G,aAAL,CAAmBryD,GAAnB,CAAuBk5D,QAAvB,CAAiCC,SAAS3nD,SAAT,EAAjC,EACA,MAAO2nD,SAAP,CACH,CAXD,CAYAzH,wBAAwBt6D,SAAxB,CAAkC2hE,wBAAlC,CAA6D,SAAUS,UAAV,CAAsB7jD,YAAtB,CAAoCmjD,kBAApC,CAAwD,CACjH,GAAI79D,OAAQ,IAAZ,CACA,GAAI69D,qBAAuB,IAAK,EAAhC,CAAmC,CAAEA,mBAAqB,IAArB,CAA4B,CACjE,GAAIW,gBAAiB,KAArB,CACA,GAAIhY,QAAS9rC,cAAgB,KAAKgK,UAAL,CAAgBkvC,UAAhB,CAA2B2K,UAA3B,CAAhB,EAA0D,EAAvE,CACA,GAAIE,sBAAuBjY,OAAOthD,GAAP,CAAW,SAAU+mD,KAAV,CAAiB,CACnD,GAAIyS,aAAc,KAAlB,CACA,GAAIjoD,QAAS,KAAb,CACA,GAAIkoD,QAAS,KAAb,CACA,GAAIC,YAAa,KAAjB,CACA,GAAIC,YAAa,KAAjB,CACA,GAAI34D,OAAQ,IAAZ,CACA,GAAIrK,MAAMmP,OAAN,CAAcihD,KAAd,CAAJ,CAA0B,CACtBA,MAAM/rD,OAAN,CAAc,SAAU4+D,UAAV,CAAsB,CAChC,GAAIj2D,WAAWS,QAAX,CAAoBw1D,UAApB,CAAJ,CAAqC,CACjCroD,OAAS,IAAT,CACH,CAFD,IAGK,IAAI9N,WAAWW,QAAX,CAAoBw1D,UAApB,CAAJ,CAAqC,CACtCH,OAAS,IAAT,CACH,CAFI,IAGA,IAAI/1D,eAAeU,QAAf,CAAwBw1D,UAAxB,CAAJ,CAAyC,CAC1CF,WAAa,IAAb,CACH,CAFI,IAGA,IAAIl2D,eAAeY,QAAf,CAAwBw1D,UAAxB,CAAJ,CAAyC,CAC1CD,WAAa,IAAb,CACH,CAFI,IAGA,IAAIr4D,gBAAgB8C,QAAhB,CAAyBw1D,UAAzB,CAAJ,CAA0C,CAC3CJ,YAAc,IAAd,CACAx4D,MAAQ44D,WAAWr4D,aAAnB,CACH,CAHI,IAIA,IAAIT,aAAasD,QAAb,CAAsBw1D,UAAtB,CAAJ,CAAuC,CACxC54D,MAAQ44D,WAAW54D,KAAnB,CACH,CAFI,IAGA,IAAIC,qBAAqBmD,QAArB,CAA8Bw1D,UAA9B,GAA6CA,qBAAsBlrD,aAAvE,CAAqF,CACtF1N,MAAQ44D,UAAR,CACH,CAFI,IAGA,IAAI/C,YAAY+C,UAAZ,GAA2B54D,OAAS,IAAxC,CAA8C,CAC/CA,MAAQ44D,UAAR,CACH,CACJ,CA1BD,EA2BH,CA5BD,IA6BK,CACD54D,MAAQ+lD,KAAR,CACH,CACD,GAAI/lD,OAAS,IAAb,CAAmB,CACfs4D,eAAiB,IAAjB,CACA,MAAO,KAAP,CACH,CACD,MAAO,CACHE,YAAaA,WADV,CAEHjoD,OAAQA,MAFL,CAGHkoD,OAAQA,MAHL,CAIHC,WAAYA,UAJT,CAKHC,WAAYA,UALT,CAMH34D,MAAOlG,MAAM++D,iBAAN,CAAwB74D,KAAxB,CANJ,CAAP,CAQH,CAnD0B,CAA3B,CAoDA,GAAIs4D,cAAJ,CAAoB,CAChB,GAAIQ,YAAaP,qBAAqBv5D,GAArB,CAAyB,SAAUkuD,GAAV,CAAe,CAAE,MAAOA,KAAM4G,cAAc5G,IAAIltD,KAAlB,CAAN,CAAiC,GAAxC,CAA8C,CAAxF,EAA0FxD,IAA1F,CAA+F,IAA/F,CAAjB,CACA,GAAI0qB,SAAU,oCAAsC4sC,cAAcuE,UAAd,CAAtC,CAAkE,KAAlE,CAA0ES,UAA1E,CAAuF,IAArG,CACA,GAAInB,oBAAsB,KAAKl8C,OAAL,CAAanO,yBAAvC,CAAkE,CAC9D,KAAK6hB,YAAL,CAAkB9oB,YAAY6gB,OAAZ,CAAlB,CAAwCmxC,UAAxC,EACH,CAFD,IAGK,CACD,KAAKve,QAAL,CAAc/N,IAAd,CAAmB,YAAc7kB,OAAd,CAAwB,4CAA3C,EACH,CACJ,CACD,MAAOqxC,qBAAP,CACH,CApED,CAqEAhI,wBAAwBt6D,SAAxB,CAAkC4iE,iBAAlC,CAAsD,SAAU74D,KAAV,CAAiB,CACnEA,MAAQ2H,kBAAkB3H,KAAlB,CAAR,CACA,GAAI+4D,aAAJ,CACA,GAAI,MAAO/4D,MAAP,GAAiB,QAArB,CAA+B,CAC3B+4D,aAAe,CAAE5hE,MAAO6I,KAAT,CAAf,CACH,CAFD,IAGK,CACD+4D,aAAe,CAAErqD,WAAY,CAAEF,UAAWxO,KAAb,CAAd,CAAf,CACH,CACD,MAAO+4D,aAAP,CACH,CAVD,CAWAxI,wBAAwBt6D,SAAxB,CAAkC49D,qBAAlC,CAA0D,SAAUlpD,SAAV,CAAqBquD,qBAArB,CAA4CC,SAA5C,CAAuDC,gBAAvD,CAAyEtxD,IAAzE,CAA+E,CACrI,GAAI9N,OAAQ,IAAZ,CACA,GAAIo/D,mBAAqB,IAAK,EAA9B,CAAiC,CAAEA,iBAAmB,EAAnB,CAAwB,CAC3DvuD,UAAU3Q,OAAV,CAAkB,SAAUsZ,QAAV,CAAoB6lD,WAApB,CAAiC,CAC/C,GAAIxjE,MAAMmP,OAAN,CAAcwO,QAAd,CAAJ,CAA6B,CACzBxZ,MAAM+5D,qBAAN,CAA4BvgD,QAA5B,CAAsC0lD,qBAAtC,CAA6DC,SAA7D,CAAwEC,gBAAxE,EACH,CAFD,IAGK,CACD5lD,SAAW3L,kBAAkB2L,QAAlB,CAAX,CACA,GAAI8lD,cAAe/4D,SAAnB,CACA,GAAIiT,UAAY,MAAOA,SAAP,GAAoB,QAAhC,EAA4CA,SAASzd,cAAT,CAAwB,SAAxB,CAAhD,CAAoF,CAChFiE,MAAMu/D,iBAAN,CAAwB/lD,QAAxB,EACA8lD,aAAe,GAAInlD,aAAJ,CAAiBX,SAASsjD,OAA1B,CAAmCtjD,QAAnC,CAAf,CACH,CAHD,IAIK,IAAIuiD,YAAYviD,QAAZ,CAAJ,CAA2B,CAC5B8lD,aAAe,GAAInlD,aAAJ,CAAiBX,QAAjB,CAA2B,CAAEY,SAAUZ,QAAZ,CAA3B,CAAf,CACH,CAFI,IAGA,IAAIA,WAAa,IAAK,EAAtB,CAAyB,CAC1BxZ,MAAMq1B,YAAN,CAAmB9oB,YAAY,6IAAZ,CAAnB,EACA,OACH,CAHI,IAIA,CACD,GAAIizD,eAAgB3uD,UAAU+J,MAAV,CAAiB,SAAU6kD,KAAV,CAAiBC,YAAjB,CAA+BC,eAA/B,CAAgD,CACjF,GAAIA,gBAAkBN,WAAtB,CAAmC,CAC/BI,MAAM9hE,IAAN,CAAW,GAAKq8D,cAAc0F,YAAd,CAAhB,EACH,CAFD,IAGK,IAAIC,iBAAmBN,WAAvB,CAAoC,CACrCI,MAAM9hE,IAAN,CAAW,IAAMq8D,cAAc0F,YAAd,CAAN,CAAoC,GAA/C,EACH,CAFI,IAGA,IAAIC,iBAAmBN,YAAc,CAArC,CAAwC,CACzCI,MAAM9hE,IAAN,CAAW,KAAX,EACH,CACD,MAAO8hE,MAAP,CACH,CAXmB,CAWjB,EAXiB,EAYf/8D,IAZe,CAYV,IAZU,CAApB,CAaA1C,MAAMq1B,YAAN,CAAmB9oB,YAAY,YAAc4yD,UAAYA,SAAZ,CAAwB,UAAtC,EAAoD,4DAApD,CAAmHK,aAAnH,CAAmI,GAA/I,CAAnB,CAAwK1xD,IAAxK,EACA,OACH,CACD,GAAIwxD,aAAap5D,KAAb,GACAlG,MAAM0kB,UAAN,CAAiBs/B,wBAAjB,CAA0CnD,YAAYC,4BAAtD,CADJ,CACyF,CACrFoe,sBAAsBvhE,IAAtB,CAA2Bb,KAA3B,CAAiCoiE,qBAAjC,CAAwDrhE,SAASmC,MAAM4/D,+BAAN,CAAsCN,YAAtC,CAAoDxxD,IAApD,CAAT,CAAxD,EACH,CAHD,IAIK,CACDsxD,iBAAiBzhE,IAAjB,CAAsBqC,MAAM6/D,mBAAN,CAA0BP,YAA1B,CAAtB,EACH,CACJ,CACJ,CA3CD,EA4CA,MAAOF,iBAAP,CACH,CAhDD,CAiDA3I,wBAAwBt6D,SAAxB,CAAkCojE,iBAAlC,CAAsD,SAAU/lD,QAAV,CAAoB,CACtE,GAAIA,SAASzd,cAAT,CAAwB,UAAxB,GAAuCyd,SAASY,QAAT,EAAqB,IAAhE,CAAsE,CAClE,KAAKib,YAAL,CAAkB9oB,YAAY,wBAA0BytD,cAAcxgD,SAASsjD,OAAvB,CAA1B,CAA4D,uBAA5D,CAAsFtjD,SAASY,QAA/F,CAA0G,4NAAtH,CAAlB,EACH,CACJ,CAJD,CAKAq8C,wBAAwBt6D,SAAxB,CAAkCyjE,+BAAlC,CAAoE,SAAUpmD,QAAV,CAAoB1L,IAApB,CAA0B,CAC1F,GAAI9N,OAAQ,IAAZ,CACA,GAAI8/D,YAAa,EAAjB,CACA,GAAIC,sBAAuB,EAA3B,CACA,GAAIvmD,SAASe,UAAT,EAAuBf,SAASc,WAAhC,EAA+Cd,SAASY,QAA5D,CAAsE,CAClE,KAAKib,YAAL,CAAkB9oB,YAAY,gEAAZ,CAAlB,CAAiGuB,IAAjG,EACA,MAAO,EAAP,CACH,CACD,GAAI,CAAC0L,SAASiB,KAAd,CAAqB,CACjB,KAAK4a,YAAL,CAAkB9oB,YAAY,sEAAZ,CAAlB,CAAuGuB,IAAvG,EACA,MAAO,EAAP,CACH,CACDkyD,mBAAmBxmD,SAASa,QAA5B,CAAsC0lD,oBAAtC,EACAA,qBAAqB7/D,OAArB,CAA6B,SAAU0U,UAAV,CAAsB,CAC/C,GAAIuiC,OAAQn3C,MAAMk6D,0BAAN,CAAiCtlD,WAAWF,SAA5C,CAAuD,KAAvD,CAAZ,CACA,GAAIyiC,KAAJ,CAAW,CACP2oB,WAAWniE,IAAX,CAAgBw5C,KAAhB,EACH,CACJ,CALD,EAMA,MAAO2oB,WAAP,CACH,CApBD,CAqBArJ,wBAAwBt6D,SAAxB,CAAkC+9D,0BAAlC,CAA+D,SAAUjC,OAAV,CAAmBlzC,eAAnB,CAAoC,CAC/F,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAI2yC,SAAU,KAAK0B,iCAAL,CAAuCnB,OAAvC,CAAd,CACA,GAAIP,SAAWA,QAAQ1yC,QAAR,CAAiBtO,WAAhC,CAA6C,CACzC,MAAO,CAAEwD,cAAe+9C,OAAjB,CAA0B5gD,iBAAkBqgD,QAAQ1yC,QAAR,CAAiB3N,gBAA7D,CAAP,CACH,CACD,GAAImjD,YAAa,KAAK9B,YAAL,CAAkBT,OAAlB,CAA2Bh9D,QAAQma,kBAAR,CAA2ByC,SAAtD,CAAjB,CACA,GAAI2iD,YAAcA,WAAW9jD,WAA7B,CAA0C,CACtC,MAAO,CAAEwD,cAAe+9C,OAAjB,CAA0B5gD,iBAAkBmjD,WAAWnjD,gBAAvD,CAAP,CACH,CACD,GAAI0N,eAAJ,CAAqB,CACjB,KAAMxY,aAAY0rD,QAAQv3D,IAAR,CAAe,wCAA3B,CAAN,CACH,CACD,MAAO,KAAP,CACH,CAdD,CAeA+1D,wBAAwBt6D,SAAxB,CAAkC8jE,0BAAlC,CAA+D,SAAUnyD,IAAV,CAAgB4M,YAAhB,CAA8B,CACzF,GAAIA,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,IAAf,CAAsB,CACrD,GAAIi+C,aAAc,KAAKD,YAAL,CAAkB5qD,IAAlB,CAAwB7S,QAAQma,kBAAR,CAA2BuoD,UAAnD,CAAlB,CACA,GAAIhF,WAAJ,CAAiB,CACb,MAAOA,aAAY7qD,IAAnB,CACH,CACD,MAAO,MAAKusD,gBAAL,CAAsBvsD,IAAtB,CAA4B4M,YAA5B,CAAP,CACH,CAPD,CAQA+7C,wBAAwBt6D,SAAxB,CAAkC0jE,mBAAlC,CAAwD,SAAUrmD,QAAV,CAAoB,CACxE,GAAI0mD,aAAc35D,SAAlB,CACA,GAAI45D,qBAAsB,IAA1B,CACA,GAAIC,wBAAyB,IAA7B,CACA,GAAIl6D,OAAQ,KAAK64D,iBAAL,CAAuBvlD,SAAStT,KAAhC,CAAZ,CACA,GAAIsT,SAASY,QAAb,CAAuB,CACnB+lD,oBACI,KAAKF,0BAAL,CAAgCzmD,SAASY,QAAzC,CAAmDZ,SAASkB,YAA5D,CADJ,CAEAwlD,YAAcC,oBAAoBlH,MAAlC,CACA,GAAIz/C,SAAStT,KAAT,GAAmBsT,SAASY,QAAhC,CAA0C,CACtC;AACAlU,MAAQ,CAAE0O,WAAYurD,mBAAd,CAAR,CACH,CACJ,CARD,IASK,IAAI3mD,SAASe,UAAb,CAAyB,CAC1B6lD,uBAAyB,KAAKrC,mBAAL,CAAyBvkD,SAASe,UAAlC,CAA8Cf,SAASkB,YAAvD,CAAzB,CACAwlD,YAAcE,uBAAuBnH,MAArC,CACH,CACD,MAAO,CACH/yD,MAAOA,KADJ,CAEHkU,SAAU+lD,mBAFP,CAGH9lD,SAAUb,SAASa,QAHhB,CAIHE,WAAY6lD,sBAJT,CAKH9lD,YAAad,SAASc,WAAT,CAAuB,KAAKykD,iBAAL,CAAuBvlD,SAASc,WAAhC,CAAvB,CAAsE/T,SALhF,CAMHiU,KAAM0lD,WANH,CAOHzlD,MAAOjB,SAASiB,KAPb,CAAP,CASH,CA3BD,CA4BAg8C,wBAAwBt6D,SAAxB,CAAkCi+D,mBAAlC,CAAwD,SAAUrjD,OAAV,CAAmBlQ,WAAnB,CAAgCye,aAAhC,CAA+C,CACnG,GAAItlB,OAAQ,IAAZ,CACA,GAAI2B,KAAM,EAAV,CACAjG,OAAOiQ,IAAP,CAAYoL,OAAZ,EAAqB7W,OAArB,CAA6B,SAAUmgE,YAAV,CAAwB,CACjD,GAAIv6C,OAAQ/O,QAAQspD,YAAR,CAAZ,CACA,GAAIv6C,MAAMjf,WAAN,GAAsBA,WAA1B,CAAuC,CACnClF,IAAIhE,IAAJ,CAASqC,MAAMsgE,iBAAN,CAAwBx6C,KAAxB,CAA+Bu6C,YAA/B,CAA6C/6C,aAA7C,CAAT,EACH,CACJ,CALD,EAMA,MAAO3jB,IAAP,CACH,CAVD,CAWA80D,wBAAwBt6D,SAAxB,CAAkCokE,iBAAlC,CAAsD,SAAU/+D,QAAV,CAAoB,CAAE,MAAOA,UAAS0M,KAAT,CAAe,SAAf,CAAP,CAAmC,CAA/G,CACAuoD,wBAAwBt6D,SAAxB,CAAkCmkE,iBAAlC,CAAsD,SAAUE,CAAV,CAAaH,YAAb,CAA2B9B,UAA3B,CAAuC,CACzF,GAAIv+D,OAAQ,IAAZ,CACA,GAAI6F,UAAJ,CACA,GAAI,MAAO26D,GAAEh/D,QAAT,GAAsB,QAA1B,CAAoC,CAChCqE,UACI,KAAK06D,iBAAL,CAAuBC,EAAEh/D,QAAzB,EAAmC0D,GAAnC,CAAuC,SAAUu7D,OAAV,CAAmB,CAAE,MAAOzgE,OAAM++D,iBAAN,CAAwB0B,OAAxB,CAAP,CAA0C,CAAtG,CADJ,CAEH,CAHD,IAIK,CACD,GAAI,CAACD,EAAEh/D,QAAP,CAAiB,CACb,KAAK6zB,YAAL,CAAkB9oB,YAAY,8CAAgD8zD,YAAhD,CAA+D,UAA/D,CAA4ErG,cAAcuE,UAAd,CAA5E,CAAwG,6CAApH,CAAlB,CAAsLA,UAAtL,EACA14D,UAAY,EAAZ,CACH,CAHD,IAIK,CACDA,UAAY,CAAC,KAAKk5D,iBAAL,CAAuByB,EAAEh/D,QAAzB,CAAD,CAAZ,CACH,CACJ,CACD,MAAO,CACHqE,UAAWA,SADR,CAEHe,MAAO45D,EAAE55D,KAFN,CAGHE,YAAa05D,EAAE15D,WAHZ,CAGyBu5D,aAAcA,YAHvC,CAIHK,KAAMF,EAAEE,IAAF,CAAS,KAAK3B,iBAAL,CAAuByB,EAAEE,IAAzB,CAAT,CAA0C,IAJ7C,CAAP,CAMH,CAtBD,CAuBAjK,wBAAwBt6D,SAAxB,CAAkCk5B,YAAlC,CAAiD,SAAUsrC,QAAV,CAAoB7yD,IAApB,CAA0B8yD,SAA1B,CAAqC,CAClF,GAAI,KAAK3J,eAAT,CAA0B,CACtB,KAAKA,eAAL,CAAqB0J,QAArB,CAA+B7yD,IAA/B,EACA,GAAI8yD,SAAJ,CAAe,CACX,KAAK3J,eAAL,CAAqB0J,QAArB,CAA+BC,SAA/B,EACH,CACJ,CALD,IAMK,CACD,KAAMD,SAAN,CACH,CACJ,CAVD,CAWA,MAAOlK,wBAAP,CACH,CAh+B4C,EAA7C,CAi+BA,QAASoK,aAAT,CAAsBC,IAAtB,CAA4BzO,GAA5B,CAAiC,CAC7B,GAAIA,MAAQ,IAAK,EAAjB,CAAoB,CAAEA,IAAM,EAAN,CAAW,CACjC,GAAIyO,IAAJ,CAAU,CACN,IAAK,GAAIrkE,GAAI,CAAb,CAAgBA,EAAIqkE,KAAKlkE,MAAzB,CAAiCH,GAAjC,CAAsC,CAClC,GAAIqe,MAAOjN,kBAAkBizD,KAAKrkE,CAAL,CAAlB,CAAX,CACA,GAAIZ,MAAMmP,OAAN,CAAc8P,IAAd,CAAJ,CAAyB,CACrB+lD,aAAa/lD,IAAb,CAAmBu3C,GAAnB,EACH,CAFD,IAGK,CACDA,IAAI10D,IAAJ,CAASmd,IAAT,EACH,CACJ,CACJ,CACD,MAAOu3C,IAAP,CACH,CACD,QAAS0O,YAAT,CAAqBC,KAArB,CAA4B,CACxB,GAAIA,KAAJ,CAAW,CACP,MAAOnlE,OAAM88C,IAAN,CAAW,GAAI3/B,IAAJ,CAAQgoD,KAAR,CAAX,CAAP,CACH,CACD,MAAO,EAAP,CACH,CACD,QAAS/G,sBAAT,CAA+B6G,IAA/B,CAAqC,CACjC,MAAOC,aAAYF,aAAaC,IAAb,CAAZ,CAAP,CACH,CACD,QAAS/E,YAAT,CAAqB1+D,KAArB,CAA4B,CACxB,MAAQA,iBAAiBuW,aAAlB,EAAoCvW,gBAAiByL,KAA5D,CACH,CACD,QAASk3D,mBAAT,CAA4B3iE,KAA5B,CAAmC4jE,iBAAnC,CAAsD,CAClDp2D,WAAWxN,KAAX,CAAkB,GAAI6jE,uBAAJ,EAAlB,CAAgDD,iBAAhD,EACH,CACD,GAAIC,wBAAyB,aAAe,SAAUtuD,MAAV,CAAkB,CAC1D5W,UAAUklE,sBAAV,CAAkCtuD,MAAlC,EACA,QAASsuD,uBAAT,EAAkC,CAC9B,MAAOtuD,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDukE,uBAAuB/kE,SAAvB,CAAiCkP,UAAjC,CAA8C,SAAUhO,KAAV,CAAiB4jE,iBAAjB,CAAoC,CAC9EA,kBAAkBtjE,IAAlB,CAAuB,CAAE+W,UAAWrX,KAAb,CAAvB,EACH,CAFD,CAGA,MAAO6jE,uBAAP,CACH,CAT2C,CAS1Cz1D,gBAT0C,CAA5C,CAUA,QAASuuD,cAAT,CAAuBlsD,IAAvB,CAA6B,CACzB,GAAIA,eAAgB8F,aAApB,CAAkC,CAC9B,MAAO9F,MAAKpN,IAAL,CAAY,MAAZ,CAAqBoN,KAAK+F,QAAjC,CACH,CAFD,IAGK,CACD,MAAOpG,WAAUK,IAAV,CAAP,CACH,CACJ,CACD;;OAGA,QAAS4rD,2BAAT,CAAoC3kD,QAApC,CAA8C,CAC1C,GAAI4rD,UAAWviE,MAAM,kCAAoCqP,UAAUsH,QAAV,CAApC,CAA0D,yBAAhE,CAAf,CACA4rD,SAASnK,oBAAT,EAAiCzhD,QAAjC,CACA,MAAO4rD,SAAP,CACH,CAED;;;;;;OAOA,GAAIQ,eAAgB,aAAe,SAAUvuD,MAAV,CAAkB,CACjD5W,UAAUmlE,aAAV,CAAyBvuD,MAAzB,EACA,QAASuuD,cAAT,CAAuB/zC,OAAvB,CAAgCjP,IAAhC,CAAsC,CAClC,MAAOvL,QAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwBiP,OAAxB,GAAoC,IAA3C,CACH,CACD,MAAO+zC,cAAP,CACH,CANkC,CAMjCjmC,UANiC,CAAnC,CAOA,GAAIkmC,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6Brd,SAA7B,CAAwCsd,SAAxC,CAAmD,CAC/C,GAAIrhE,OAAQ,IAAZ,CACA,KAAK+jD,SAAL,CAAiBA,SAAjB,CACA,KAAKsd,SAAL,CAAiBA,SAAjB,CACA,KAAKv+C,MAAL,CAAc,EAAd,CACA,KAAK7L,WAAL,CAAmBqqD,gBAAgBD,SAAhB,CAAnB,CACA,KAAKvqD,aAAL,CAAqB,GAAIzT,IAAJ,EAArB,CACAg+D,UAAUvqD,aAAV,CAAwB5W,OAAxB,CAAgC,SAAUsZ,QAAV,CAAoB,CAChD,GAAIxZ,MAAM8W,aAAN,CAAoBhS,GAApB,CAAwBwQ,eAAekE,SAAStT,KAAxB,CAAxB,GAA2D,IAA/D,CAAqE,CACjElG,MAAM8W,aAAN,CAAoB/R,GAApB,CAAwBuQ,eAAekE,SAAStT,KAAxB,CAAxB,CAAwD,IAAxD,EACH,CACJ,CAJD,EAKH,CACD,MAAOk7D,oBAAP,CACH,CAfwC,EAAzC,CAgBA,GAAIG,wBAAyB,aAAe,UAAY,CACpD,QAASA,uBAAT,CAAgCC,WAAhC,CAA6CC,OAA7C,CAAsDC,WAAtD,CAAmEC,cAAnE,CAAmFtgE,KAAnF,CAA0FugE,IAA1F,CAAgGC,UAAhG,CAA4G/vD,mBAA5G,CAAiIgwD,WAAjI,CAA8I,CAC1I,GAAI9hE,OAAQ,IAAZ,CACA,KAAKwhE,WAAL,CAAmBA,WAAnB,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKC,WAAL,CAAmBA,WAAnB,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAKG,WAAL,CAAmBA,WAAnB,CACA,KAAKC,qBAAL,CAA6B,GAAI1+D,IAAJ,EAA7B,CACA,KAAK2+D,cAAL,CAAsB,GAAI3+D,IAAJ,EAAtB,CACA,KAAK4+D,cAAL,CAAsB,GAAI5+D,IAAJ,EAAtB,CACA,KAAK6+D,2BAAL,CAAmC,KAAnC,CACA,KAAKC,MAAL,CAAc,EAAd,CACA9gE,MAAMnB,OAAN,CAAc,SAAUkiE,OAAV,CAAmB,CAAE,MAAOpiE,OAAMmiE,MAAN,CAAaC,QAAQ1hE,IAArB,EAA6B0hE,QAAQ/kE,KAA5C,CAAoD,CAAvF,EACA,GAAIglE,gBAAiBV,eAAez8D,GAAf,CAAmB,SAAUo9D,YAAV,CAAwB,CAAE,MAAOA,cAAa3wD,SAApB,CAAgC,CAA7E,CAArB,CACA,KAAK4wD,aAAL,CACIC,gCAAgCH,cAAhC,CAAgDP,WAAhD,CAA6DN,YAAY1+C,MAAzE,CADJ,CAEA,KAAK2/C,eAAL,CAAuBC,mBAAmB5wD,mBAAnB,CAAwCuwD,cAAxC,CAAvB,CACAxmE,MAAM88C,IAAN,CAAW,KAAK4pB,aAAL,CAAmBn5D,MAAnB,EAAX,EAAwClJ,OAAxC,CAAgD,SAAUsZ,QAAV,CAAoB,CAChExZ,MAAM2iE,gBAAN,CAAuBnpD,SAAStT,KAAhC,CAAuCsT,SAAStT,KAAhD,CAAuDlG,MAAMiiE,cAA7D,EACH,CAFD,EAGA,GAAIJ,UAAJ,CAAgB,CACZ,GAAIe,eAAgB9e,gCAAgC,KAAK0d,WAAL,CAAiBzd,SAAjD,CAA4DlD,YAAYQ,WAAxE,CAApB,CACA,KAAKshB,gBAAL,CAAsBC,aAAtB,CAAqCA,aAArC,CAAoD,KAAKX,cAAzD,EACH,CACDL,KAAK1hE,OAAL,CAAa,SAAU2iE,MAAV,CAAkB,CAC3B,GAAIC,mBAAoBD,OAAOxlE,KAAP,EACpBymD,gCAAgC9jD,MAAMwhE,WAAN,CAAkBzd,SAAlD,CAA6DlD,YAAYG,UAAzE,CADJ,CAEAhhD,MAAM2iE,gBAAN,CAAuB,CAAEtlE,MAAOwlE,OAAOniE,IAAhB,CAAvB,CAA+CoiE,iBAA/C,CAAkE9iE,MAAMiiE,cAAxE,EACH,CAJD,EAKA,GAAI,KAAKA,cAAL,CAAoBn9D,GAApB,CAAwB,KAAK08D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAYK,gBAAhE,CAAxB,CAAJ,CAAgH,CAC5G,KAAKghB,2BAAL,CAAmC,IAAnC,CACH,CACD;AACArmE,MAAM88C,IAAN,CAAW,KAAK4pB,aAAL,CAAmBn5D,MAAnB,EAAX,EAAwClJ,OAAxC,CAAgD,SAAUsZ,QAAV,CAAoB,CAChE,GAAItH,OAAQsH,SAAStH,KAAT,EAAkBlS,MAAMiiE,cAAN,CAAqBn9D,GAArB,CAAyBwQ,eAAekE,SAAStT,KAAxB,CAAzB,CAA9B,CACA,GAAIgM,KAAJ,CAAW,CACPlS,MAAM+iE,yBAAN,CAAgCvpD,SAASrH,YAAzC,CAAuDqH,SAAStT,KAAhE,CAAuE,IAAvE,EACH,CACJ,CALD,EAMH,CACDq7D,uBAAuBplE,SAAvB,CAAiC6mE,YAAjC,CAAgD,UAAY,CACxD,GAAIhjE,OAAQ,IAAZ,CACA;AACAnE,MAAM88C,IAAN,CAAW,KAAK4pB,aAAL,CAAmBn5D,MAAnB,EAAX,EAAwClJ,OAAxC,CAAgD,SAAUsZ,QAAV,CAAoB,CAChExZ,MAAM+iE,yBAAN,CAAgCvpD,SAASrH,YAAzC,CAAuDqH,SAAStT,KAAhE,CAAuE,KAAvE,EACH,CAFD,EAGH,CAND,CAOAxK,OAAOsgB,cAAP,CAAsBulD,uBAAuBplE,SAA7C,CAAwD,oBAAxD,CAA8E,CAC1E2I,IAAK,UAAY,CACb;AACA,GAAIm+D,eAAgB,EAApB,CACA,GAAIC,gBAAiB,EAArB,CACA,KAAKnB,qBAAL,CAA2B7hE,OAA3B,CAAmC,SAAUsZ,QAAV,CAAoB,CACnD,GAAIA,SAAStH,KAAb,CAAoB,CAChBgxD,eAAevlE,IAAf,CAAoB6b,QAApB,EACH,CAFD,IAGK,CACDypD,cAActlE,IAAd,CAAmB6b,QAAnB,EACH,CACJ,CAPD,EAQA,MAAOypD,eAAcnlE,MAAd,CAAqBolE,cAArB,CAAP,CACH,CAdyE,CAe1EjnD,WAAY,IAf8D,CAgB1EC,aAAc,IAhB4D,CAA9E,EAkBAxgB,OAAOsgB,cAAP,CAAsBulD,uBAAuBplE,SAA7C,CAAwD,0BAAxD,CAAoF,CAChF2I,IAAK,UAAY,CACb,GAAIq+D,qBAAsB,KAAKC,kBAAL,CAAwBl+D,GAAxB,CAA4B,SAAUsU,QAAV,CAAoB,CAAE,MAAOA,UAAStT,KAAT,CAAe0O,UAAtB,CAAmC,CAArF,CAA1B,CACA,GAAIyuD,kBAAmB,KAAK1B,cAAL,CAAoBtjE,KAApB,EAAvB,CACAglE,iBAAiB11B,IAAjB,CAAsB,SAAU21B,IAAV,CAAgBC,IAAhB,CAAsB,CAAE,MAAOJ,qBAAoBhlE,OAApB,CAA4BmlE,KAAK3xD,SAAL,CAAe7D,IAA3C,EACjDq1D,oBAAoBhlE,OAApB,CAA4BolE,KAAK5xD,SAAL,CAAe7D,IAA3C,CAD0C,CACS,CADvD,EAEA,MAAOu1D,iBAAP,CACH,CAP+E,CAQhFpnD,WAAY,IARoE,CAShFC,aAAc,IATkE,CAApF,EAWAxgB,OAAOsgB,cAAP,CAAsBulD,uBAAuBplE,SAA7C,CAAwD,cAAxD,CAAwE,CACpE2I,IAAK,UAAY,CACb,GAAI0+D,YAAa,EAAjB,CACA,KAAKvB,cAAL,CAAoB/hE,OAApB,CAA4B,SAAUqX,OAAV,CAAmB,CAAEisD,WAAW7lE,IAAX,CAAgBb,KAAhB,CAAsB0mE,UAAtB,CAAkC3lE,SAAS0Z,OAAT,CAAlC,EAAuD,CAAxG,EACA,MAAOisD,WAAP,CACH,CALmE,CAMpEvnD,WAAY,IANwD,CAOpEC,aAAc,IAPsD,CAAxE,EASAqlD,uBAAuBplE,SAAvB,CAAiCwmE,gBAAjC,CAAoD,SAAUz8D,KAAV,CAAiBu9D,YAAjB,CAA+BC,eAA/B,CAAgD,CAChG,KAAKC,cAAL,CAAoBz9D,KAApB,EAA2BhG,OAA3B,CAAmC,SAAU4lB,KAAV,CAAiB,CAChD,GAAI89C,YAAa99C,MAAMvK,IAAN,CAAWmlD,IAAX,EAAmB+C,YAApC,CACA,GAAIrG,UAAW9nD,eAAesuD,UAAf,CAAf,CACA,GAAI7yD,cAAe2yD,gBAAgB5+D,GAAhB,CAAoBs4D,QAApB,CAAnB,CACA,GAAI,CAACrsD,YAAL,CAAmB,CACfA,aAAe,EAAf,CACA2yD,gBAAgB3+D,GAAhB,CAAoBq4D,QAApB,CAA8BrsD,YAA9B,EACH,CACDA,aAAapT,IAAb,CAAkB,CAAEkmE,QAAS/9C,MAAM+9C,OAAjB,CAA0BxmE,MAAOumE,UAAjC,CAAlB,EACH,CATD,EAUH,CAXD,CAYArC,uBAAuBplE,SAAvB,CAAiCwnE,cAAjC,CAAkD,SAAUz9D,KAAV,CAAiB,CAC/D,GAAIpD,QAAS,EAAb,CACA,GAAIghE,WAAY,IAAhB,CACA,GAAIC,UAAW,CAAf,CACA,GAAIhtD,QAAJ,CACA,MAAO+sD,YAAc,IAArB,CAA2B,CACvB/sD,QAAU+sD,UAAUrB,eAAV,CAA0B39D,GAA1B,CAA8BwQ,eAAepP,KAAf,CAA9B,CAAV,CACA,GAAI6Q,OAAJ,CAAa,CACTjU,OAAOnF,IAAP,CAAYb,KAAZ,CAAkBgG,MAAlB,CAA0BjF,SAASkZ,QAAQ+M,MAAR,CAAe,SAAUgC,KAAV,CAAiB,CAAE,MAAOA,OAAMvK,IAAN,CAAWzU,WAAX,EAA0Bi9D,UAAY,CAA7C,CAAiD,CAAnF,CAAT,CAA1B,EACH,CACD,GAAID,UAAUnC,cAAV,CAAyB/kE,MAAzB,CAAkC,CAAtC,CAAyC,CACrCmnE,WACH,CACDD,UAAYA,UAAUrC,OAAtB,CACH,CACD1qD,QAAU,KAAKyqD,WAAL,CAAiBvqD,WAAjB,CAA6BnS,GAA7B,CAAiCwQ,eAAepP,KAAf,CAAjC,CAAV,CACA,GAAI6Q,OAAJ,CAAa,CACTjU,OAAOnF,IAAP,CAAYb,KAAZ,CAAkBgG,MAAlB,CAA0BjF,SAASkZ,OAAT,CAA1B,EACH,CACD,MAAOjU,OAAP,CACH,CApBD,CAqBAy+D,uBAAuBplE,SAAvB,CAAiC4mE,yBAAjC,CAA6D,SAAUiB,sBAAV,CAAkC99D,KAAlC,CAAyCgM,KAAzC,CAAgD,CACzG,GAAIlS,OAAQ,IAAZ,CACA,GAAIikE,kBAAmB,KAAK1B,aAAL,CAAmBz9D,GAAnB,CAAuBwQ,eAAepP,KAAf,CAAvB,CAAvB,CACA,GAAI,CAAC+9D,gBAAD,EAAsB,CAACD,yBAA2B/oE,QAAQqX,eAAR,CAAwBuF,SAAnD,EACvBmsD,yBAA2B/oE,QAAQqX,eAAR,CAAwB4xD,aAD7B,GAEtBD,iBAAiB9xD,YAAjB,GAAkClX,QAAQqX,eAAR,CAAwB6xD,cAF1D,EAGC,CAACH,yBAA2B/oE,QAAQqX,eAAR,CAAwB6xD,cAAnD,EACEH,yBAA2B/oE,QAAQqX,eAAR,CAAwB4xD,aADtD,GAEGD,iBAAiB9xD,YAAjB,GAAkClX,QAAQqX,eAAR,CAAwB8xD,OALlE,CAK4E,CACxE,MAAO,KAAP,CACH,CACD,GAAIC,wBAAyB,KAAKtC,qBAAL,CAA2Bj9D,GAA3B,CAA+BwQ,eAAepP,KAAf,CAA/B,CAA7B,CACA,GAAIm+D,sBAAJ,CAA4B,CACxB,MAAOA,uBAAP,CACH,CACD,GAAI,KAAKrC,cAAL,CAAoBl9D,GAApB,CAAwBwQ,eAAepP,KAAf,CAAxB,GAAkD,IAAtD,CAA4D,CACxD,KAAKs7D,WAAL,CAAiB1+C,MAAjB,CAAwBnlB,IAAxB,CAA6B,GAAIwjE,cAAJ,CAAkB,yCAA2C9rD,UAAUnP,KAAV,CAA7D,CAA+E,KAAK47D,WAApF,CAA7B,EACA,MAAO,KAAP,CACH,CACD,KAAKE,cAAL,CAAoBj9D,GAApB,CAAwBuQ,eAAepP,KAAf,CAAxB,CAA+C,IAA/C,EACA,GAAIo+D,sBAAuBL,iBAAiBpzD,SAAjB,CAA2B3L,GAA3B,CAA+B,SAAUsU,QAAV,CAAoB,CAC1E,GAAI+qD,qBAAsB/qD,SAASa,QAAnC,CACA,GAAImqD,wBAAyBhrD,SAASc,WAAtC,CACA,GAAImqD,iBAAkBl+D,SAAtB,CACA,GAAIiT,SAASc,WAAT,EAAwB,IAA5B,CAAkC,CAC9B,GAAIoqD,eAAgB1kE,MAAM2kE,cAAN,CAAqBV,iBAAiB9xD,YAAtC,CAAoD,CAAEjM,MAAOsT,SAASc,WAAlB,CAApD,CAAqFpI,KAArF,CAApB,CACA,GAAIwyD,cAAcx+D,KAAd,EAAuB,IAA3B,CAAiC,CAC7Bs+D,uBAAyBE,cAAcx+D,KAAvC,CACH,CAFD,IAGK,CACDs+D,uBAAyB,IAAzB,CACAD,oBAAsBG,cAAcrnE,KAApC,CACH,CACJ,CATD,IAUK,IAAImc,SAASe,UAAb,CAAyB,CAC1B,GAAIC,MAAOhB,SAASgB,IAAT,EAAiBhB,SAASe,UAAT,CAAoB0+C,MAAhD,CACAwL,gBACIjqD,KAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe,CAAE,MAAOpzD,OAAM2kE,cAAN,CAAqBV,iBAAiB9xD,YAAtC,CAAoDihD,GAApD,CAAyDlhD,KAAzD,CAAP,CAAyE,CAAnG,CADJ,CAEH,CAJI,IAKA,IAAIsH,SAASY,QAAb,CAAuB,CACxB,GAAII,MAAOhB,SAASgB,IAAT,EAAiBhB,SAASY,QAAT,CAAkB6+C,MAA9C,CACAwL,gBACIjqD,KAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe,CAAE,MAAOpzD,OAAM2kE,cAAN,CAAqBV,iBAAiB9xD,YAAtC,CAAoDihD,GAApD,CAAyDlhD,KAAzD,CAAP,CAAyE,CAAnG,CADJ,CAEH,CACD,MAAO0yD,oBAAmBprD,QAAnB,CAA6B,CAChCc,YAAakqD,sBADmB,CAEhCnqD,SAAUkqD,mBAFsB,CAGhC/pD,KAAMiqD,eAH0B,CAA7B,CAAP,CAKH,CA7B0B,CAA3B,CA8BAJ,uBACIQ,sBAAsBZ,gBAAtB,CAAwC,CAAE/xD,MAAOA,KAAT,CAAgBrB,UAAWyzD,oBAA3B,CAAxC,CADJ,CAEA,KAAKvC,qBAAL,CAA2Bh9D,GAA3B,CAA+BuQ,eAAepP,KAAf,CAA/B,CAAsDm+D,sBAAtD,EACA,MAAOA,uBAAP,CACH,CAtDD,CAuDA9C,uBAAuBplE,SAAvB,CAAiC2oE,mBAAjC,CAAuD,SAAUd,sBAAV,CAAkC5Q,GAAlC,CAAuClhD,KAAvC,CAA8C,CACjG,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,KAAR,CAAgB,CACxC,GAAIkhD,IAAIsL,WAAR,CAAqB,CACjB,GAAI97D,WAAY,KAAKu/D,MAAL,CAAY/O,IAAIltD,KAAJ,CAAU7I,KAAtB,CAAhB,CACA,MAAO,CAAE0nE,QAAS,IAAX,CAAiB1nE,MAAOuF,WAAa,IAAb,CAAoB,IAApB,CAA2BA,SAAnD,CAAP,CACH,CACD,GAAIwwD,IAAIltD,KAAJ,EAAa,IAAjB,CAAuB,CACnB;AACA,GAAK89D,yBAA2B/oE,QAAQqX,eAAR,CAAwBuF,SAAnD,EACDmsD,yBAA2B/oE,QAAQqX,eAAR,CAAwB0yD,SADvD,CACmE,CAC/D,GAAI1vD,eAAe89C,IAAIltD,KAAnB,IACA,KAAKs7D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAY6B,QAAhE,CADA,EAEAptC,eAAe89C,IAAIltD,KAAnB,IACI,KAAKs7D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAYG,UAAhE,CAHJ,EAIA1rC,eAAe89C,IAAIltD,KAAnB,IACI,KAAKs7D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAYM,iBAAhE,CALJ,EAMA7rC,eAAe89C,IAAIltD,KAAnB,IACI,KAAKs7D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAYQ,WAAhE,CAPR,CAOsF,CAClF,MAAO+R,IAAP,CACH,CACD,GAAI99C,eAAe89C,IAAIltD,KAAnB,IACA,KAAKs7D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAYK,gBAAhE,CADJ,CACuF,CACnF,KAAKghB,2BAAL,CAAmC,IAAnC,CACH,CACJ,CACD;AACA,GAAI5sD,eAAe89C,IAAIltD,KAAnB,IACA,KAAKs7D,WAAL,CAAiBzd,SAAjB,CAA2BC,wBAA3B,CAAoDnD,YAAYoB,QAAhE,CADJ,CAC+E,CAC3E,MAAOmR,IAAP,CACH,CACD;AACA,GAAI,KAAK2P,yBAAL,CAA+BiB,sBAA/B,CAAuD5Q,IAAIltD,KAA3D,CAAkEgM,KAAlE,GAA4E,IAAhF,CAAsF,CAClF,MAAOkhD,IAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CApCD,CAqCAmO,uBAAuBplE,SAAvB,CAAiCwoE,cAAjC,CAAkD,SAAUX,sBAAV,CAAkC5Q,GAAlC,CAAuClhD,KAAvC,CAA8C,CAC5F,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,KAAR,CAAgB,CACxC,GAAI+yD,aAAc,IAAlB,CACA,GAAIC,WAAYhzD,KAAhB,CACA,GAAIpP,QAAS,IAAb,CACA,GAAI,CAACswD,IAAIwL,UAAT,CAAqB,CACjB97D,OAAS,KAAKgiE,mBAAL,CAAyBd,sBAAzB,CAAiD5Q,GAAjD,CAAsDlhD,KAAtD,CAAT,CACH,CACD,GAAIkhD,IAAIuL,MAAR,CAAgB,CACZ,GAAI,CAAC77D,MAAD,EAAWswD,IAAIyL,UAAnB,CAA+B,CAC3B/7D,OAAS,CAAEiiE,QAAS,IAAX,CAAiB1nE,MAAO,IAAxB,CAAT,CACH,CACJ,CAJD,IAKK,CACD;AACA,MAAO,CAACyF,MAAD,EAAWmiE,YAAYxD,OAA9B,CAAuC,CACnC,GAAI0D,aAAcF,WAAlB,CACAA,YAAcA,YAAYxD,OAA1B,CACA,GAAI0D,YAAYzD,WAAhB,CAA6B,CACzBwD,UAAY,KAAZ,CACH,CACDpiE,OAASmiE,YAAYH,mBAAZ,CAAgC7pE,QAAQqX,eAAR,CAAwB4xD,aAAxD,CAAuE9Q,GAAvE,CAA4E8R,SAA5E,CAAT,CACH,CACD;AACA,GAAI,CAACpiE,MAAL,CAAa,CACT,GAAI,CAACswD,IAAI38C,MAAL,EAAe,KAAK+qD,WAAL,CAAiBH,SAAjB,CAA2B5qD,MAA1C,EACA,KAAK+qD,WAAL,CAAiBH,SAAjB,CAA2BvzD,IAA3B,CAAgC4G,SAAhC,GAA8CY,eAAe89C,IAAIltD,KAAnB,CAD9C,EAEA,KAAKs7D,WAAL,CAAiB1qD,aAAjB,CAA+BhS,GAA/B,CAAmCwQ,eAAe89C,IAAIltD,KAAnB,CAAnC,GAAiE,IAFrE,CAE2E,CACvEpD,OAASswD,GAAT,CACH,CAJD,IAKK,CACDtwD,OAASswD,IAAIyL,UAAJ,CAAiB,CAAEkG,QAAS,IAAX,CAAiB1nE,MAAO,IAAxB,CAAjB,CAAkD,IAA3D,CACH,CACJ,CACJ,CACD,GAAI,CAACyF,MAAL,CAAa,CACT,KAAK0+D,WAAL,CAAiB1+C,MAAjB,CAAwBnlB,IAAxB,CAA6B,GAAIwjE,cAAJ,CAAkB,mBAAqB9rD,UAAU+9C,IAAIltD,KAAd,CAAvC,CAA6D,KAAK47D,WAAlE,CAA7B,EACH,CACD,MAAOh/D,OAAP,CACH,CAvCD,CAwCA,MAAOy+D,uBAAP,CACH,CA5P2C,EAA5C,CA6PA,GAAI6D,0BAA2B,aAAe,UAAY,CACtD,QAASA,yBAAT,CAAkCrhB,SAAlC,CAA6C17C,QAA7C,CAAuDg9D,cAAvD,CAAuE52D,UAAvE,CAAmF,CAC/E,GAAIzO,OAAQ,IAAZ,CACA,KAAK+jD,SAAL,CAAiBA,SAAjB,CACA,KAAKge,qBAAL,CAA6B,GAAI1+D,IAAJ,EAA7B,CACA,KAAK2+D,cAAL,CAAsB,GAAI3+D,IAAJ,EAAtB,CACA,KAAK8gC,OAAL,CAAe,EAAf,CACA,KAAKo+B,aAAL,CAAqB,GAAIl/D,IAAJ,EAArB,CACAgF,SAASqQ,gBAAT,CAA0BG,OAA1B,CAAkC3Y,OAAlC,CAA0C,SAAUib,YAAV,CAAwB,CAC9D,GAAImqD,kBAAmB,CAAEp/D,MAAO,CAAE0O,WAAYuG,YAAd,CAAT,CAAuCf,SAAUe,YAAjD,CAAvB,CACAoqD,kBAAkB,CAACD,gBAAD,CAAlB,CAAsCrqE,QAAQqX,eAAR,CAAwB4xD,aAA9D,CAA6E,IAA7E,CAAmFz1D,UAAnF,CAA+FzO,MAAMmkC,OAArG,CAA8GnkC,MAAMuiE,aAApH,CAAmI,cAAe,IAAlJ,EACH,CAHD,EAIAgD,kBAAkBl9D,SAASqQ,gBAAT,CAA0B7H,SAA1B,CAAoC3L,GAApC,CAAwC,SAAUiyC,KAAV,CAAiB,CAAE,MAAOA,OAAM39B,QAAb,CAAwB,CAAnF,EAAqF1b,MAArF,CAA4FunE,cAA5F,CAAlB,CAA+HpqE,QAAQqX,eAAR,CAAwB4xD,aAAvJ,CAAsK,KAAtK,CAA6Kz1D,UAA7K,CAAyL,KAAK01B,OAA9L,CAAuM,KAAKo+B,aAA5M,CACA,cAAe,KADf,EAEH,CACD6C,yBAAyBjpE,SAAzB,CAAmCoF,KAAnC,CAA2C,UAAY,CACnD,GAAIvB,OAAQ,IAAZ,CACAnE,MAAM88C,IAAN,CAAW,KAAK4pB,aAAL,CAAmBn5D,MAAnB,EAAX,EAAwClJ,OAAxC,CAAgD,SAAUsZ,QAAV,CAAoB,CAChExZ,MAAM+iE,yBAAN,CAAgCvpD,SAAStT,KAAzC,CAAgDsT,SAAStH,KAAzD,EACH,CAFD,EAGA,GAAI,KAAKiyB,OAAL,CAAavnC,MAAb,CAAsB,CAA1B,CAA6B,CACzB,GAAImmB,aAAc,KAAKohB,OAAL,CAAazhC,IAAb,CAAkB,IAAlB,CAAlB,CACA,KAAM,IAAItE,MAAJ,CAAU,2BAA6B2kB,WAAvC,CAAN,CACH,CACD;AACA,GAAIkgD,eAAgB,EAApB,CACA,GAAIC,gBAAiB,EAArB,CACA,KAAKnB,qBAAL,CAA2B7hE,OAA3B,CAAmC,SAAUsZ,QAAV,CAAoB,CACnD,GAAIA,SAAStH,KAAb,CAAoB,CAChBgxD,eAAevlE,IAAf,CAAoB6b,QAApB,EACH,CAFD,IAGK,CACDypD,cAActlE,IAAd,CAAmB6b,QAAnB,EACH,CACJ,CAPD,EAQA,MAAOypD,eAAcnlE,MAAd,CAAqBolE,cAArB,CAAP,CACH,CArBD,CAsBAkC,yBAAyBjpE,SAAzB,CAAmC4mE,yBAAnC,CAA+D,SAAU78D,KAAV,CAAiBgM,KAAjB,CAAwB,CACnF,GAAIlS,OAAQ,IAAZ,CACA,GAAIikE,kBAAmB,KAAK1B,aAAL,CAAmBz9D,GAAnB,CAAuBwQ,eAAepP,KAAf,CAAvB,CAAvB,CACA,GAAI,CAAC+9D,gBAAL,CAAuB,CACnB,MAAO,KAAP,CACH,CACD,GAAII,wBAAyB,KAAKtC,qBAAL,CAA2Bj9D,GAA3B,CAA+BwQ,eAAepP,KAAf,CAA/B,CAA7B,CACA,GAAIm+D,sBAAJ,CAA4B,CACxB,MAAOA,uBAAP,CACH,CACD,GAAI,KAAKrC,cAAL,CAAoBl9D,GAApB,CAAwBwQ,eAAepP,KAAf,CAAxB,GAAkD,IAAtD,CAA4D,CACxD,KAAKi+B,OAAL,CAAaxmC,IAAb,CAAkB,GAAIwjE,cAAJ,CAAkB,yCAA2C9rD,UAAUnP,KAAV,CAA7D,CAA+E+9D,iBAAiBx1D,UAAhG,CAAlB,EACA,MAAO,KAAP,CACH,CACD,KAAKuzD,cAAL,CAAoBj9D,GAApB,CAAwBuQ,eAAepP,KAAf,CAAxB,CAA+C,IAA/C,EACA,GAAIo+D,sBAAuBL,iBAAiBpzD,SAAjB,CAA2B3L,GAA3B,CAA+B,SAAUsU,QAAV,CAAoB,CAC1E,GAAI+qD,qBAAsB/qD,SAASa,QAAnC,CACA,GAAImqD,wBAAyBhrD,SAASc,WAAtC,CACA,GAAImqD,iBAAkBl+D,SAAtB,CACA,GAAIiT,SAASc,WAAT,EAAwB,IAA5B,CAAkC,CAC9B,GAAIoqD,eAAgB1kE,MAAM2kE,cAAN,CAAqB,CAAEz+D,MAAOsT,SAASc,WAAlB,CAArB,CAAsDpI,KAAtD,CAA6D+xD,iBAAiBx1D,UAA9E,CAApB,CACA,GAAIi2D,cAAcx+D,KAAd,EAAuB,IAA3B,CAAiC,CAC7Bs+D,uBAAyBE,cAAcx+D,KAAvC,CACH,CAFD,IAGK,CACDs+D,uBAAyB,IAAzB,CACAD,oBAAsBG,cAAcrnE,KAApC,CACH,CACJ,CATD,IAUK,IAAImc,SAASe,UAAb,CAAyB,CAC1B,GAAIC,MAAOhB,SAASgB,IAAT,EAAiBhB,SAASe,UAAT,CAAoB0+C,MAAhD,CACAwL,gBACIjqD,KAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe,CAAE,MAAOpzD,OAAM2kE,cAAN,CAAqBvR,GAArB,CAA0BlhD,KAA1B,CAAiC+xD,iBAAiBx1D,UAAlD,CAAP,CAAuE,CAAjG,CADJ,CAEH,CAJI,IAKA,IAAI+K,SAASY,QAAb,CAAuB,CACxB,GAAII,MAAOhB,SAASgB,IAAT,EAAiBhB,SAASY,QAAT,CAAkB6+C,MAA9C,CACAwL,gBACIjqD,KAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe,CAAE,MAAOpzD,OAAM2kE,cAAN,CAAqBvR,GAArB,CAA0BlhD,KAA1B,CAAiC+xD,iBAAiBx1D,UAAlD,CAAP,CAAuE,CAAjG,CADJ,CAEH,CACD,MAAOm2D,oBAAmBprD,QAAnB,CAA6B,CAChCc,YAAakqD,sBADmB,CAEhCnqD,SAAUkqD,mBAFsB,CAGhC/pD,KAAMiqD,eAH0B,CAA7B,CAAP,CAKH,CA7B0B,CAA3B,CA8BAJ,uBACIQ,sBAAsBZ,gBAAtB,CAAwC,CAAE/xD,MAAOA,KAAT,CAAgBrB,UAAWyzD,oBAA3B,CAAxC,CADJ,CAEA,KAAKvC,qBAAL,CAA2Bh9D,GAA3B,CAA+BuQ,eAAepP,KAAf,CAA/B,CAAsDm+D,sBAAtD,EACA,MAAOA,uBAAP,CACH,CAjDD,CAkDAe,yBAAyBjpE,SAAzB,CAAmCwoE,cAAnC,CAAoD,SAAUvR,GAAV,CAAelhD,KAAf,CAAsBszD,mBAAtB,CAA2C,CAC3F,GAAItzD,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,KAAR,CAAgB,CACxC,GAAI,CAACkhD,IAAIwL,UAAL,EAAmBxL,IAAIltD,KAAJ,EAAa,IAApC,CAA0C,CACtC;AACA,GAAIoP,eAAe89C,IAAIltD,KAAnB,IACA,KAAK69C,SAAL,CAAeC,wBAAf,CAAwCnD,YAAYoB,QAApD,CADA,EAEA3sC,eAAe89C,IAAIltD,KAAnB,IACI,KAAK69C,SAAL,CAAeC,wBAAf,CAAwCnD,YAAYU,wBAApD,CAHR,CAGuF,CAHvF,IAIK,IAAI,KAAKwhB,yBAAL,CAA+B3P,IAAIltD,KAAnC,CAA0CgM,KAA1C,GAAoD,IAAxD,CAA8D,CACtE,CACD,MAAOkhD,IAAP,CACH,CAXD,CAYA,MAAOgS,yBAAP,CACH,CApG6C,EAA9C,CAqGA,QAASR,mBAAT,CAA4BprD,QAA5B,CAAsCta,EAAtC,CAA0C,CACtC,GAAIob,aAAcpb,GAAGob,WAArB,CAAkCD,SAAWnb,GAAGmb,QAAhD,CAA0DG,KAAOtb,GAAGsb,IAApE,CACA,MAAO,CACHtU,MAAOsT,SAAStT,KADb,CAEHkU,SAAUZ,SAASY,QAFhB,CAGHE,YAAaA,WAHV,CAIHC,WAAYf,SAASe,UAJlB,CAKHF,SAAUA,QALP,CAMHG,KAAMA,IANH,CAOHC,MAAOjB,SAASiB,KAPb,CAAP,CASH,CACD,QAASoqD,sBAAT,CAA+BrrD,QAA/B,CAAyCta,EAAzC,CAA6C,CACzC,GAAIgT,OAAQhT,GAAGgT,KAAf,CAAsBrB,UAAY3R,GAAG2R,SAArC,CACA,MAAO,IAAImB,YAAJ,CAAgBwH,SAAStT,KAAzB,CAAgCsT,SAASvH,aAAzC,CAAwDuH,SAAStH,KAAT,EAAkBA,KAA1E,CAAiFrB,SAAjF,CAA4F2I,SAASrH,YAArG,CAAmHqH,SAASpH,cAA5H,CAA4IoH,SAAS/K,UAArJ,CAAiK+K,SAASnH,QAA1K,CAAP,CACH,CACD,QAASmwD,gCAAT,CAAyC5xD,UAAzC,CAAqDnC,UAArD,CAAiEg3D,YAAjE,CAA+E,CAC3E,GAAIC,kBAAmB,GAAIriE,IAAJ,EAAvB,CACAuN,WAAW1Q,OAAX,CAAmB,SAAUyR,SAAV,CAAqB,CACpC,GAAIg0D,aAAc,CAAEz/D,MAAO,CAAE0O,WAAYjD,UAAU7D,IAAxB,CAAT,CAAyCsM,SAAUzI,UAAU7D,IAA7D,CAAlB,CACAy3D,kBAAkB,CAACI,WAAD,CAAlB,CAAiCh0D,UAAU+E,WAAV,CAAwBzb,QAAQqX,eAAR,CAAwB0yD,SAAhD,CAA4D/pE,QAAQqX,eAAR,CAAwBuF,SAArH,CAAgI,IAAhI,CAAsIpJ,UAAtI,CAAkJg3D,YAAlJ,CAAgKC,gBAAhK,CAAkL,cAAe,KAAjM,EACH,CAHD,EAIA;AACA,GAAIE,8BAA+Bh1D,WAAWkT,MAAX,CAAkB,SAAU3c,GAAV,CAAe,CAAE,MAAOA,KAAIuP,WAAX,CAAyB,CAA5D,EAA8D5Y,MAA9D,CAAqE8S,WAAWkT,MAAX,CAAkB,SAAU3c,GAAV,CAAe,CAAE,MAAO,CAACA,IAAIuP,WAAZ,CAA0B,CAA7D,CAArE,CAAnC,CACAkvD,6BAA6B1lE,OAA7B,CAAqC,SAAUyR,SAAV,CAAqB,CACtD4zD,kBAAkB5zD,UAAUd,SAA5B,CAAuC5V,QAAQqX,eAAR,CAAwB4xD,aAA/D,CAA8E,KAA9E,CAAqFz1D,UAArF,CAAiGg3D,YAAjG,CAA+GC,gBAA/G,CAAiI,cAAe,KAAhJ,EACAH,kBAAkB5zD,UAAUmF,aAA5B,CAA2C7b,QAAQqX,eAAR,CAAwB6xD,cAAnE,CAAmF,KAAnF,CAA0F11D,UAA1F,CAAsGg3D,YAAtG,CAAoHC,gBAApH,CAAsI,cAAe,KAArJ,EACH,CAHD,EAIA,MAAOA,iBAAP,CACH,CACD,QAASH,kBAAT,CAA2B10D,SAA3B,CAAsCsB,YAAtC,CAAoDD,KAApD,CAA2DzD,UAA3D,CAAuEg3D,YAAvE,CAAqFI,sBAArF,CAA6GxzD,QAA7G,CAAuH,CACnHxB,UAAU3Q,OAAV,CAAkB,SAAUsZ,QAAV,CAAoB,CAClC,GAAIyqD,kBAAmB4B,uBAAuB/gE,GAAvB,CAA2BwQ,eAAekE,SAAStT,KAAxB,CAA3B,CAAvB,CACA,GAAI+9D,kBAAoB,IAApB,EAA4B,CAAC,CAACA,iBAAiBhyD,aAAnB,GAAqC,CAAC,CAACuH,SAASiB,KAAhF,CAAuF,CACnFgrD,aAAa9nE,IAAb,CAAkB,GAAIwjE,cAAJ,CAAkB,iEAAmE9rD,UAAU4uD,iBAAiB/9D,KAA3B,CAArF,CAAwHuI,UAAxH,CAAlB,EACH,CACD,GAAI,CAACw1D,gBAAL,CAAuB,CACnB,GAAI7xD,gBAAiBoH,SAAStT,KAAT,CAAe0O,UAAf,EACjB4E,SAAStT,KAAT,CAAe0O,UAAf,CAA0BxC,cADT,CAEjBoH,SAAStT,KAAT,CAAe0O,UAAf,CAA0BxC,cAFT,CAGjB,EAHJ,CAIA,GAAI0zD,YAAa,EAAEtsD,SAASY,QAAT,EAAqBZ,SAASc,WAA9B,EAA6Cd,SAASe,UAAxD,CAAjB,CACA0pD,iBAAmB,GAAIjyD,YAAJ,CAAgBwH,SAAStT,KAAzB,CAAgC,CAAC,CAACsT,SAASiB,KAA3C,CAAkDvI,OAAS4zD,UAA3D,CAAuE,CAACtsD,QAAD,CAAvE,CAAmFrH,YAAnF,CAAiGC,cAAjG,CAAiH3D,UAAjH,CAA6H4D,QAA7H,CAAnB,CACAwzD,uBAAuB9gE,GAAvB,CAA2BuQ,eAAekE,SAAStT,KAAxB,CAA3B,CAA2D+9D,gBAA3D,EACH,CARD,IASK,CACD,GAAI,CAACzqD,SAASiB,KAAd,CAAqB,CACjBwpD,iBAAiBpzD,SAAjB,CAA2BjU,MAA3B,CAAoC,CAApC,CACH,CACDqnE,iBAAiBpzD,SAAjB,CAA2BlT,IAA3B,CAAgC6b,QAAhC,EACH,CACJ,CApBD,EAqBH,CACD,QAAS8nD,gBAAT,CAAyBD,SAAzB,CAAoC,CAChC;AACA,GAAI0E,aAAc,CAAlB,CACA,GAAI9uD,aAAc,GAAI5T,IAAJ,EAAlB,CACA,GAAIg+D,UAAUpqD,WAAd,CAA2B,CACvBoqD,UAAUpqD,WAAV,CAAsB/W,OAAtB,CAA8B,SAAU4lB,KAAV,CAAiB,CAAE,MAAOkgD,qBAAoB/uD,WAApB,CAAiC,CAAEsE,KAAMuK,KAAR,CAAe+9C,QAASkC,aAAxB,CAAjC,CAAP,CAAmF,CAApI,EACH,CACD,MAAO9uD,YAAP,CACH,CACD,QAASyrD,mBAAT,CAA4B5wD,mBAA5B,CAAiDlB,UAAjD,CAA6D,CACzD,GAAIq1D,gBAAiBn0D,mBAArB,CACA,GAAIo0D,gBAAiB,GAAI7iE,IAAJ,EAArB,CACAuN,WAAW1Q,OAAX,CAAmB,SAAUyR,SAAV,CAAqBw0D,cAArB,CAAqC,CACpD,GAAIx0D,UAAUoF,OAAd,CAAuB,CACnBpF,UAAUoF,OAAV,CAAkB7W,OAAlB,CAA0B,SAAU4lB,KAAV,CAAiB,CAAE,MAAOkgD,qBAAoBE,cAApB,CAAoC,CAAE3qD,KAAMuK,KAAR,CAAe+9C,QAASoC,gBAAxB,CAApC,CAAP,CAAyF,CAAtI,EACH,CACJ,CAJD,EAKA,MAAOC,eAAP,CACH,CACD,QAASF,oBAAT,CAA6B9gE,GAA7B,CAAkC4gB,KAAlC,CAAyC,CACrCA,MAAMvK,IAAN,CAAW1V,SAAX,CAAqB3F,OAArB,CAA6B,SAAUgG,KAAV,CAAiB,CAC1C,GAAIixC,OAAQjyC,IAAIJ,GAAJ,CAAQwQ,eAAepP,KAAf,CAAR,CAAZ,CACA,GAAI,CAACixC,KAAL,CAAY,CACRA,MAAQ,EAAR,CACAjyC,IAAIH,GAAJ,CAAQuQ,eAAepP,KAAf,CAAR,CAA+BixC,KAA/B,EACH,CACDA,MAAMx5C,IAAN,CAAWmoB,KAAX,EACH,CAPD,EAQH,CAED;;;;;;OAOA,QAASk9B,YAAT,CAAqB1nB,GAArB,CAA0B8qC,WAA1B,CAAuC,CACnC,GAAI/S,OAAQ,CAAE,UAAd,CACA,GAAI,CAAC+S,YAAYl0D,KAAjB,CAAwB,CACpBmhD,OAAS,IAAK,kBAAd,CACH,CACD,GAAI+S,YAAYj0D,YAAZ,GAA6BlX,QAAQqX,eAAR,CAAwB6xD,cAAzD,CAAyE,CACrE9Q,OAAS,IAAK,qBAAd,CACH,CACD,GAAI+S,YAAY/zD,QAAhB,CAA0B,CACtBghD,OAAS,UAAW,wBAApB,CACH,CACD+S,YAAYh0D,cAAZ,CAA2BlS,OAA3B,CAAmC,SAAUmmE,aAAV,CAAyB,CACxD;AACA,GAAIA,gBAAkB3Q,eAAeG,SAAjC,EACAuQ,YAAYj0D,YAAZ,GAA6BlX,QAAQqX,eAAR,CAAwBuF,SADrD,EAEAuuD,YAAYj0D,YAAZ,GAA6BlX,QAAQqX,eAAR,CAAwB0yD,SAFzD,CAEoE,CAChE3R,OAASiT,wBAAwBD,aAAxB,CAAT,CACH,CACJ,CAPD,EAQA,GAAInnE,IAAKknE,YAAYn0D,aAAZ,CACLs0D,iBAAiBjrC,GAAjB,CAAsB+3B,KAAtB,CAA6B+S,YAAYv1D,SAAzC,CADK,CAEL21D,kBAAkBlrC,GAAlB,CAAuB+3B,KAAvB,CAA8B+S,YAAYj0D,YAA1C,CAAwDi0D,YAAYv1D,SAAZ,CAAsB,CAAtB,CAAxD,CAFJ,CAEuF41D,aAAevnE,GAAGunE,YAFzG,CAEuHC,cAAgBxnE,GAAGm0D,KAF1I,CAEiJsT,SAAWznE,GAAGynE,QAF/J,CAGA,MAAO,CACHF,aAAcA,YADX,CAEHpT,MAAOqT,aAFJ,CAEmBC,SAAUA,QAF7B,CAGHrT,UAAWA,UAAUh4B,GAAV,CAAe8qC,YAAYlgE,KAA3B,CAHR,CAAP,CAKH,CACD,QAASqgE,iBAAT,CAA0BjrC,GAA1B,CAA+B+3B,KAA/B,CAAsCxiD,SAAtC,CAAiD,CAC7C,GAAI+1D,YAAa,EAAjB,CACA,GAAIC,WAAY,EAAhB,CACA,GAAIvvC,OAAQzmB,UAAU3L,GAAV,CAAc,SAAUsU,QAAV,CAAoBstD,aAApB,CAAmC,CACzD,GAAIvvC,KAAJ,CACA,GAAI/d,SAASY,QAAb,CAAuB,CACnB,GAAI2sD,UAAWC,YAAYF,aAAZ,CAA2BttD,SAASgB,IAAT,EAAiBhB,SAASY,QAAT,CAAkB6+C,MAA9D,CAAf,CACA1hC,KAAO+D,IAAIg2B,UAAJ,CAAe93C,SAASY,QAAT,CAAkB1F,SAAjC,EAA4CkyC,WAA5C,CAAwDmgB,QAAxD,CAAP,CACH,CAHD,IAIK,IAAIvtD,SAASe,UAAb,CAAyB,CAC1B,GAAIwsD,UAAWC,YAAYF,aAAZ,CAA2BttD,SAASgB,IAAT,EAAiBhB,SAASe,UAAT,CAAoB0+C,MAAhE,CAAf,CACA1hC,KAAO+D,IAAIg2B,UAAJ,CAAe93C,SAASe,UAAT,CAAoB7F,SAAnC,EAA8CgyC,MAA9C,CAAqDqgB,QAArD,CAAP,CACH,CAHI,IAIA,IAAIvtD,SAASc,WAAb,CAA0B,CAC3B,GAAIysD,UAAWC,YAAYF,aAAZ,CAA2B,CAAC,CAAE5gE,MAAOsT,SAASc,WAAlB,CAAD,CAA3B,CAAf,CACAid,KAAOwvC,SAAS,CAAT,CAAP,CACH,CAHI,IAIA,CACDxvC,KAAOq7B,wBAAwBt3B,GAAxB,CAA6B9hB,SAASa,QAAtC,CAAP,CACH,CACD,MAAOkd,KAAP,CACH,CAlBW,CAAZ,CAmBA,GAAIkvC,cAAezb,GAAG6b,SAAH,CAAc,CAAC,GAAI1Y,gBAAJ,CAAoBwD,WAAWr6B,KAAX,CAApB,CAAD,CAAd,CAAwD+tB,aAAxD,CAAnB,CACA,MAAO,CACHohB,aAAcA,YADX,CAEHpT,MAAOA,MAAQ,IAAK,yBAFjB,CAGHsT,SAAUhV,WAAWiV,UAAX,CAHP,CAAP,CAKA,QAASI,YAAT,CAAqBF,aAArB,CAAoCtsD,IAApC,CAA0C,CACtC,MAAOA,MAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe6T,QAAf,CAAyB,CACrC,GAAIC,WAAY,IAAMJ,aAAN,CAAsB,GAAtB,CAA4BG,QAA5C,CACAJ,UAAUlpE,IAAV,CAAe,GAAIquD,QAAJ,CAAYkb,SAAZ,CAAuB/hB,YAAvB,CAAf,EACAyhB,WAAWjpE,IAAX,CAAgBwpE,OAAO7rC,GAAP,CAAY83B,GAAZ,CAAhB,EACA,MAAO/B,UAAS6V,SAAT,CAAP,CACH,CALM,CAAP,CAMH,CACJ,CACD,QAASV,kBAAT,CAA2BlrC,GAA3B,CAAgC+3B,KAAhC,CAAuClhD,YAAvC,CAAqDmtD,YAArD,CAAmE,CAC/D,GAAImH,aAAJ,CACA,GAAIjsD,KAAJ,CACA,GAAIrI,eAAiBlX,QAAQqX,eAAR,CAAwBuF,SAAzC,EAAsD1F,eAAiBlX,QAAQqX,eAAR,CAAwB0yD,SAAnG,CAA8G,CAC1GyB,aAAenrC,IAAIg2B,UAAJ,CAAegO,aAAallD,QAAb,CAAsB1F,SAArC,CAAf,CACA2+C,OAAS,KAAM,mBAAf,CACA74C,KAAO8kD,aAAa9kD,IAAb,EAAqB8kD,aAAallD,QAAb,CAAsB6+C,MAAlD,CACH,CAJD,IAKK,CACD,GAAIqG,aAAallD,QAAjB,CAA2B,CACvBqsD,aAAenrC,IAAIg2B,UAAJ,CAAegO,aAAallD,QAAb,CAAsB1F,SAArC,CAAf,CACA2+C,OAAS,GAAI,uBAAb,CACA74C,KAAO8kD,aAAa9kD,IAAb,EAAqB8kD,aAAallD,QAAb,CAAsB6+C,MAAlD,CACH,CAJD,IAKK,IAAIqG,aAAa/kD,UAAjB,CAA6B,CAC9BksD,aAAenrC,IAAIg2B,UAAJ,CAAegO,aAAa/kD,UAAb,CAAwB7F,SAAvC,CAAf,CACA2+C,OAAS,IAAK,yBAAd,CACA74C,KAAO8kD,aAAa9kD,IAAb,EAAqB8kD,aAAa/kD,UAAb,CAAwB0+C,MAApD,CACH,CAJI,IAKA,IAAIqG,aAAahlD,WAAjB,CAA8B,CAC/BmsD,aAAe9Y,SAAf,CACA0F,OAAS,IAAK,6BAAd,CACA74C,KAAO,CAAC,CAAEtU,MAAOo5D,aAAahlD,WAAtB,CAAD,CAAP,CACH,CAJI,IAKA,CACDmsD,aAAe7T,wBAAwBt3B,GAAxB,CAA6BgkC,aAAajlD,QAA1C,CAAf,CACAg5C,OAAS,GAAI,uBAAb,CACA74C,KAAO,EAAP,CACH,CACJ,CACD,GAAImsD,UAAWhV,WAAWn3C,KAAKtV,GAAL,CAAS,SAAUkuD,GAAV,CAAe,CAAE,MAAO+T,QAAO7rC,GAAP,CAAY83B,GAAZ,CAAP,CAA0B,CAApD,CAAX,CAAf,CACA,MAAO,CAAEqT,aAAcA,YAAhB,CAA8BpT,MAAOA,KAArC,CAA4CsT,SAAUA,QAAtD,CAAP,CACH,CACD,QAASrT,UAAT,CAAmBh4B,GAAnB,CAAwB8rC,SAAxB,CAAmC,CAC/B,MAAOA,WAAUxyD,UAAV,CAAuB0mB,IAAIg2B,UAAJ,CAAe8V,UAAUxyD,UAAV,CAAqBF,SAApC,CAAvB,CACHw9C,QAAQkV,UAAU/pE,KAAlB,CADJ,CAEH,CACD,QAAS8pE,OAAT,CAAgB7rC,GAAhB,CAAqB83B,GAArB,CAA0B,CACtB;AACA;AACA,GAAI77B,MAAO67B,IAAI2R,OAAJ,CAAcnS,wBAAwBt3B,GAAxB,CAA6B83B,IAAI/1D,KAAjC,CAAd,CAAwDi2D,UAAUh4B,GAAV,CAAe83B,IAAIltD,KAAnB,CAAnE,CACA,GAAImtD,OAAQ,CAAE,UAAd,CACA,GAAID,IAAIwL,UAAR,CAAoB,CAChBvL,OAAS,CAAE,cAAX,CACH,CACD,GAAID,IAAIyL,UAAR,CAAoB,CAChBxL,OAAS,CAAE,cAAX,CACH,CACD,GAAID,IAAIuL,MAAR,CAAgB,CACZtL,OAAS,CAAE,UAAX,CACH,CACD,GAAID,IAAI2R,OAAR,CAAiB,CACb1R,OAAS,CAAE,WAAX,CACH,CACD,MAAOA,SAAU,CAAE,UAAZ,CAAyB97B,IAAzB,CAAgCo6B,WAAW,CAACO,QAAQmB,KAAR,CAAD,CAAiB97B,IAAjB,CAAX,CAAvC,CACH,CACD,QAAS+uC,wBAAT,CAAiCD,aAAjC,CAAgD,CAC5C,GAAIgB,UAAW,CAAE,UAAjB,CACA,OAAQhB,aAAR,EACI,IAAK3Q,gBAAeO,mBAApB,CACIoR,SAAW,OAAQ,yBAAnB,CACA,MACJ,IAAK3R,gBAAeM,gBAApB,CACIqR,SAAW,OAAQ,sBAAnB,CACA,MACJ,IAAK3R,gBAAeS,gBAApB,CACIkR,SAAW,OAAQ,sBAAnB,CACA,MACJ,IAAK3R,gBAAeQ,aAApB,CACImR,SAAW,OAAQ,mBAAnB,CACA,MACJ,IAAK3R,gBAAeI,OAApB,CACIuR,SAAW,MAAO,aAAlB,CACA,MACJ,IAAK3R,gBAAeK,SAApB,CACIsR,SAAW,MAAO,eAAlB,CACA,MACJ,IAAK3R,gBAAeG,SAApB,CACIwR,SAAW,MAAO,eAAlB,CACA,MACJ,IAAK3R,gBAAeE,MAApB,CACIyR,SAAW,KAAM,YAAjB,CACA,MAxBR,CA0BA,MAAOA,SAAP,CACH,CACD,QAASC,oCAAT,CAA6CvjB,SAA7C,CAAwDzoB,GAAxD,CAA6D+3B,KAA7D,CAAoEn8C,eAApE,CAAqF,CACjF,GAAIqwD,yBAA0BrwD,gBAAgBhS,GAAhB,CAAoB,SAAUsiE,cAAV,CAA0B,CAAE,MAAOlsC,KAAIg2B,UAAJ,CAAekW,eAAenwD,gBAA9B,CAAP,CAAyD,CAAzG,CAA9B,CACA,GAAInR,OAAQ49C,gCAAgCC,SAAhC,CAA2ClD,YAAYU,wBAAvD,CAAZ,CACA,GAAIkmB,WAAY,CACZxO,OAAQ,CACJ,CAAE8L,QAAS,IAAX,CAAiB1nE,MAAOs0D,WAAW4V,uBAAX,CAAxB,CADI,CAEJ,CAAErhE,MAAOA,KAAT,CAAgB04D,WAAY,IAA5B,CAAkCC,WAAY,IAA9C,CAFI,CAGJ,CAAE34D,MAAO49C,gCAAgCC,SAAhC,CAA2ClD,YAAYI,WAAvD,CAAT,CAHI,CADI,CAMZ7uC,eAAgB,EANJ,CAOZsC,UAAWqvC,UAAUC,wBAAV,CAAmCnD,YAAYS,+BAA/C,CAPC,CAAhB,CASA,GAAIpiD,IAAKsnE,kBAAkBlrC,GAAlB,CAAuB+3B,KAAvB,CAA8Bp4D,QAAQqX,eAAR,CAAwB6xD,cAAtD,CAAsE,CAC3Ej+D,MAAOA,KADoE,CAE3EuU,MAAO,KAFoE,CAG3EL,SAAUqtD,SAHiE,CAAtE,CAAT,CAIIhB,aAAevnE,GAAGunE,YAJtB,CAIoCC,cAAgBxnE,GAAGm0D,KAJvD,CAI8DsT,SAAWznE,GAAGynE,QAJ5E,CAKA,MAAO,CAAEF,aAAcA,YAAhB,CAA8BpT,MAAOqT,aAArC,CAAoDC,SAAUA,QAA9D,CAAwErT,UAAWA,UAAUh4B,GAAV,CAAep1B,KAAf,CAAnF,CAAP,CACH,CAED;;;;;;OAOA,GAAIwhE,uBAAwB,aAAe,UAAY,CACnD,QAASA,sBAAT,CAA+BC,kBAA/B,CAAmD,CAC/C,KAAKA,kBAAL,CAA0BA,kBAA1B,CACH,CACD,MAAOD,sBAAP,CACH,CAL0C,EAA3C,CAMA,GAAIE,SAAUvW,SAAS,IAAT,CAAd,CACA,GAAIwW,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0B9jB,SAA1B,CAAqC,CACjC,KAAKA,SAAL,CAAiBA,SAAjB,CACH,CACD8jB,iBAAiB1rE,SAAjB,CAA2B43D,OAA3B,CAAqC,SAAUz4B,GAAV,CAAeggC,YAAf,CAA6B+J,cAA7B,CAA6C,CAC9E,GAAI52D,YAAa8sB,eAAe,UAAf,CAA2B+/B,aAAaxtD,IAAxC,CAAjB,CACA,GAAIy5D,yBAA0BjM,aAAa5iD,gBAAb,CAA8BxB,eAA5D,CACA,GAAIoB,qBAAsBgjD,aAAahjD,mBAAvC,CACA,GAAIwvD,gBAAiB,GAAI1C,yBAAJ,CAA6B,KAAKrhB,SAAlC,CAA6CuX,YAA7C,CAA2D+J,cAA3D,CAA2E52D,UAA3E,CAArB,CACA,GAAIs5D,cAAe,CAACT,oCAAoC,KAAKvjB,SAAzC,CAAoDzoB,GAApD,CAAyD,CAAE,UAA3D,CAAuEisC,uBAAvE,CAAD,EACdzpE,MADc,CACPgqE,eAAevmE,KAAf,GAAuB2D,GAAvB,CAA2B,SAAUsU,QAAV,CAAoB,CAAE,MAAOwpC,aAAY1nB,GAAZ,CAAiB9hB,QAAjB,CAAP,CAAoC,CAArF,CADO,EAEdtU,GAFc,CAEV,SAAUhG,EAAV,CAAc,CACnB,GAAIunE,cAAevnE,GAAGunE,YAAtB,CAAoCE,SAAWznE,GAAGynE,QAAlD,CAA4DtT,MAAQn0D,GAAGm0D,KAAvE,CAA8EC,UAAYp0D,GAAGo0D,SAA7F,CACA,MAAOhC,YAAWzQ,YAAYgB,iBAAvB,EAA0C6E,MAA1C,CAAiD,CACpDwL,QAAQmB,KAAR,CADoD,CACpCC,SADoC,CACzBmT,YADyB,CACXE,QADW,CAAjD,CAAP,CAGH,CAPkB,CAAnB,CAQA,GAAIqB,aAAc1W,WAAWzQ,YAAYe,SAAvB,EAAkC8E,MAAlC,CAAyC,CAACiL,WAAWoW,YAAX,CAAD,CAAzC,CAAlB,CACA,GAAIE,oBAAqBjd,GAAG,CAAC,GAAIgB,QAAJ,CAAY4b,QAAQlnE,IAApB,CAAD,CAAH,CAAgC,CAAC,GAAIytD,gBAAJ,CAAoB6Z,WAApB,CAAD,CAAhC,CAAoE3iB,aAApE,CAAzB,CACA,GAAIsiB,oBAAqBnzD,eAAe8mD,aAAaxtD,IAA5B,EAAoC,WAA7D,CACA,KAAKo6D,sBAAL,CAA4B5sC,GAA5B,CAAiCggC,aAAaxtD,IAAb,CAAkB4G,SAAnD,CAA8D48C,WAAWzQ,YAAYc,mBAAvB,EAA4C+E,MAA5C,CAAmD,CAC7GprB,IAAIg2B,UAAJ,CAAegK,aAAaxtD,IAAb,CAAkB4G,SAAjC,CAD6G,CAE7Gi9C,WAAWr5C,oBAAoBpT,GAApB,CAAwB,SAAUyT,EAAV,CAAc,CAAE,MAAO2iB,KAAIg2B,UAAJ,CAAe34C,GAAGjE,SAAlB,CAAP,CAAsC,CAA9E,CAAX,CAF6G,CAG7GuzD,kBAH6G,CAAnD,CAA9D,EAKA,GAAI3M,aAAa3iD,EAAjB,CAAqB,CACjB,GAAIA,IAAK,MAAO2iD,cAAa3iD,EAApB,GAA2B,QAA3B,CAAsCu5C,QAAQoJ,aAAa3iD,EAArB,CAAtC,CACL2iB,IAAIg2B,UAAJ,CAAegK,aAAa3iD,EAA5B,CADJ,CAEA,GAAIwvD,qBAAsB7W,WAAWzQ,YAAYiB,uBAAvB,EACrB4E,MADqB,CACd,CAAC/tC,EAAD,CAAK04C,SAASsW,kBAAT,CAAL,CADc,EAErBle,MAFqB,EAA1B,CAGAnuB,IAAI6wB,UAAJ,CAAexuD,IAAf,CAAoBwqE,mBAApB,EACH,CACD,MAAO,IAAIT,sBAAJ,CAA0BC,kBAA1B,CAAP,CACH,CA9BD,CA+BAE,iBAAiB1rE,SAAjB,CAA2BisE,UAA3B,CAAwC,SAAU9sC,GAAV,CAAe+sC,iBAAf,CAAkC,CACtE,KAAKH,sBAAL,CAA4B5sC,GAA5B,CAAiC+sC,iBAAjC,CAAoD1a,SAApD,EACH,CAFD,CAGAka,iBAAiB1rE,SAAjB,CAA2B+rE,sBAA3B,CAAoD,SAAU5sC,GAAV,CAAe5mB,SAAf,CAA0BrX,KAA1B,CAAiC,CACjF,GAAIsqE,oBAAqBnzD,eAAe,CAAEE,UAAWA,SAAb,CAAf,EAA2C,WAApE,CACA,GAAI4zD,qBAAsBjX,SAASsW,kBAAT,EACrB5iE,GADqB,CACjB1H,KADiB,EAErBktD,UAFqB,CAEVgH,WAAW1Q,YAAYa,eAAvB,CAAwC,CAAC+P,eAAen2B,IAAIg2B,UAAJ,CAAe58C,SAAf,CAAf,CAAD,CAAxC,CAAqF,CAACuvC,aAAaskB,KAAd,CAArF,CAFU,CAEkG,CAACttE,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAA6BvtE,QAAQ2yD,YAAR,CAAqB6a,QAAlD,CAFlG,CAA1B,CAGAntC,IAAI6wB,UAAJ,CAAexuD,IAAf,CAAoB2qE,mBAApB,EACH,CAND,CAOA,MAAOT,iBAAP,CACH,CA9CqC,EAAtC,CAgDA;;;;;;OAOA;;OAGA,GAAIa,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0BhkD,UAA1B,CAAsC,CAClC,KAAKA,UAAL,CAAkBA,UAAlB,CACH,CACDgkD,iBAAiBvsE,SAAjB,CAA2Bu+D,UAA3B,CAAwC,SAAU5sD,IAAV,CAAgB,CAAE,MAAO,MAAK4W,UAAL,CAAgBG,WAAhB,CAA4B/W,IAA5B,EAAkC1B,IAAlC,CAAuChE,eAAekB,QAAtD,CAAP,CAAyE,CAAnI,CACAo/D,iBAAiBvsE,SAAjB,CAA2ByjB,OAA3B,CAAqC,SAAU9R,IAAV,CAAgBiX,eAAhB,CAAiC,CAClE,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAIu2C,cAAer2C,SAAS,KAAKP,UAAL,CAAgBG,WAAhB,CAA4B/W,IAA5B,CAAT,CAA4C1F,eAAekB,QAA3D,CAAnB,CACA,GAAIgyD,YAAJ,CAAkB,CACd,MAAOA,aAAP,CACH,CAFD,IAGK,CACD,GAAIv2C,eAAJ,CAAqB,CACjB,KAAM,IAAI3mB,MAAJ,CAAU,mCAAqCqP,UAAUK,IAAV,CAArC,CAAuD,IAAjE,CAAN,CACH,CACD,MAAO,KAAP,CACH,CACJ,CAZD,CAaA,MAAO46D,iBAAP,CACH,CAnBqC,EAAtC,CAqBA;;;;;;OAOA;AACA,GAAIC,WAAY,CAAhB,CACA,GAAIC,eAAgB,kDAApB,CACA,GAAIC,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,CAA4BnvC,IAA5B,CAAkC,CAC9B,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,IAAP,CAAc,CACrC,KAAKA,IAAL,CAAYA,IAAZ,CACA,KAAKovC,cAAL,CAAsB,GAAIzlE,IAAJ,EAAtB,CACA,KAAK0lE,KAAL,CAAa,EAAb,CACA,KAAKC,QAAL,CAAgB,CAAhB,CACA,KAAKC,WAAL,CAAmB,KAAnB,CACH,CACD;AACAJ,mBAAmB1sE,SAAnB,CAA6B+sE,SAA7B,CAAyC,SAAUjuD,GAAV,CAAe8e,OAAf,CAAwB,CAC7D,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,GAAI,CAAC,KAAK+uC,cAAL,CAAoBpvD,GAApB,CAAwBuB,GAAxB,CAAL,CAAmC,CAC/B,KAAK6tD,cAAL,CAAoB/jE,GAApB,CAAwBkW,GAAxB,CAA6B8e,OAA7B,EACH,CACD,MAAO,KAAP,CACH,CAND,CAOA8uC,mBAAmB1sE,SAAnB,CAA6BgtE,OAA7B,CAAuC,UAAY,CAC/C,KAAKJ,KAAL,CAAWprE,IAAX,CAAgB,EAAhB,EACA,KAAKqrE,QAAL,CAAgB,CAAhB,CACA,MAAO,KAAP,CACH,CAJD,CAKAH,mBAAmB1sE,SAAnB,CAA6BitE,UAA7B,CAA0C,SAAUC,IAAV,CAAgBC,SAAhB,CAA2BC,WAA3B,CAAwCC,UAAxC,CAAoD,CAC1F,GAAI,CAAC,KAAKC,WAAV,CAAuB,CACnB,KAAM,IAAIrrE,MAAJ,CAAU,mDAAV,CAAN,CACH,CACD,GAAIkrE,WAAa,IAAb,EAAqB,CAAC,KAAKR,cAAL,CAAoBpvD,GAApB,CAAwB4vD,SAAxB,CAA1B,CAA8D,CAC1D,KAAM,IAAIlrE,MAAJ,CAAU,yBAA2BkrE,SAA3B,CAAuC,IAAjD,CAAN,CACH,CACD,GAAID,MAAQ,IAAZ,CAAkB,CACd,KAAM,IAAIjrE,MAAJ,CAAU,mDAAV,CAAN,CACH,CACD,GAAIirE,KAAO,KAAKL,QAAhB,CAA0B,CACtB,KAAM,IAAI5qE,MAAJ,CAAU,yCAAV,CAAN,CACH,CACD,GAAIkrE,YAAcC,aAAe,IAAf,EAAuBC,YAAc,IAAnD,CAAJ,CAA8D,CAC1D,KAAM,IAAIprE,MAAJ,CAAU,oEAAV,CAAN,CACH,CACD,KAAK6qE,WAAL,CAAmB,IAAnB,CACA,KAAKD,QAAL,CAAgBK,IAAhB,CACA,KAAKI,WAAL,CAAiB9rE,IAAjB,CAAsB,CAAE0rE,KAAMA,IAAR,CAAcC,UAAWA,SAAzB,CAAoCC,YAAaA,WAAjD,CAA8DC,WAAYA,UAA1E,CAAtB,EACA,MAAO,KAAP,CACH,CApBD,CAqBA9tE,OAAOsgB,cAAP,CAAsB6sD,mBAAmB1sE,SAAzC,CAAoD,aAApD,CAAmE,CAC/D2I,IAAK,UAAY,CAAE,MAAO,MAAKikE,KAAL,CAAW1qE,KAAX,CAAiB,CAAC,CAAlB,EAAqB,CAArB,CAAP,CAAiC,CADW,CAE/D4d,WAAY,IAFmD,CAG/DC,aAAc,IAHiD,CAAnE,EAKA2sD,mBAAmB1sE,SAAnB,CAA6ButE,MAA7B,CAAsC,UAAY,CAC9C,GAAI1pE,OAAQ,IAAZ,CACA,GAAI,CAAC,KAAKipE,WAAV,CAAuB,CACnB,MAAO,KAAP,CACH,CACD,GAAIU,cAAe,GAAItmE,IAAJ,EAAnB,CACA,GAAIuoC,SAAU,EAAd,CACA,GAAIk9B,gBAAiB,EAArB,CACAjtE,MAAM88C,IAAN,CAAW,KAAKmwB,cAAL,CAAoBn9D,IAApB,EAAX,EAAuCzL,OAAvC,CAA+C,SAAU+a,GAAV,CAAexe,CAAf,CAAkB,CAC7DktE,aAAa5kE,GAAb,CAAiBkW,GAAjB,CAAsBxe,CAAtB,EACAmvC,QAAQjuC,IAAR,CAAasd,GAAb,EACA6tD,eAAenrE,IAAf,CAAoBqC,MAAM8oE,cAAN,CAAqBhkE,GAArB,CAAyBmW,GAAzB,GAAiC,IAArD,EACH,CAJD,EAKA,GAAI2uD,UAAW,EAAf,CACA,GAAIZ,UAAW,CAAf,CACA,GAAIa,iBAAkB,CAAtB,CACA,GAAIC,iBAAkB,CAAtB,CACA,GAAIC,gBAAiB,CAArB,CACA,KAAKhB,KAAL,CAAW7oE,OAAX,CAAmB,SAAU8pE,QAAV,CAAoB,CACnChB,SAAW,CAAX,CACAY,UAAYI,SACP9kE,GADO,CACH,SAAU42C,OAAV,CAAmB,CACxB;AACA,GAAImuB,UAAWC,YAAYpuB,QAAQutB,IAAR,CAAeL,QAA3B,CAAf,CACAA,SAAWltB,QAAQutB,IAAnB,CACA,GAAIvtB,QAAQwtB,SAAR,EAAqB,IAAzB,CAA+B,CAC3B;AACAW,UACIC,YAAYP,aAAa7kE,GAAb,CAAiBg3C,QAAQwtB,SAAzB,EAAsCO,eAAlD,CADJ,CAEAA,gBAAkBF,aAAa7kE,GAAb,CAAiBg3C,QAAQwtB,SAAzB,CAAlB,CACA;AACAW,UAAYC,YAAYpuB,QAAQytB,WAAR,CAAsBO,eAAlC,CAAZ,CACAA,gBAAkBhuB,QAAQytB,WAA1B,CACA;AACAU,UAAYC,YAAYpuB,QAAQ0tB,UAAR,CAAqBO,cAAjC,CAAZ,CACAA,eAAiBjuB,QAAQ0tB,UAAzB,CACH,CACD,MAAOS,SAAP,CACH,CAlBW,EAmBPvnE,IAnBO,CAmBF,GAnBE,CAAZ,CAoBAknE,UAAY,GAAZ,CACH,CAvBD,EAwBAA,SAAWA,SAASvrE,KAAT,CAAe,CAAf,CAAkB,CAAC,CAAnB,CAAX,CACA,MAAO,CACH,OAAQ,KAAKq7B,IAAL,EAAa,EADlB,CAEH,UAAWivC,SAFR,CAGH,aAAc,EAHX,CAIH,UAAW/8B,OAJR,CAKH,iBAAkBk9B,cALf,CAMH,WAAYc,QANT,CAAP,CAQH,CAnDD,CAoDAf,mBAAmB1sE,SAAnB,CAA6BguE,WAA7B,CAA2C,UAAY,CACnD,MAAO,MAAKlB,WAAL,CAAmB,KAAOL,aAAP,CAAuBwB,eAAep2D,KAAKvG,SAAL,CAAe,IAAf,CAAqB,IAArB,CAA2B,CAA3B,CAAf,CAA1C,CACH,EADJ,CAEH,CAHD,CAIA,MAAOo7D,mBAAP,CACH,CAzGuC,EAAxC,CA0GA,QAASuB,eAAT,CAAwB/sE,KAAxB,CAA+B,CAC3B,GAAIgtE,KAAM,EAAV,CACAhtE,MAAQ2P,WAAW3P,KAAX,CAAR,CACA,IAAK,GAAIZ,GAAI,CAAb,CAAgBA,EAAIY,MAAMT,MAA1B,EAAmC,CAC/B,GAAI0tE,IAAKjtE,MAAMgQ,UAAN,CAAiB5Q,GAAjB,CAAT,CACA,GAAI8tE,IAAKltE,MAAMgQ,UAAN,CAAiB5Q,GAAjB,CAAT,CACA,GAAI+tE,IAAKntE,MAAMgQ,UAAN,CAAiB5Q,GAAjB,CAAT,CACA4tE,KAAOI,cAAcH,IAAM,CAApB,CAAP,CACAD,KAAOI,cAAe,CAACH,GAAK,CAAN,GAAY,CAAb,EAAmBn7C,MAAMo7C,EAAN,EAAY,CAAZ,CAAgBA,IAAM,CAAzC,CAAd,CAAP,CACAF,KAAOl7C,MAAMo7C,EAAN,EAAY,GAAZ,CAAkBE,cAAe,CAACF,GAAK,EAAN,GAAa,CAAd,CAAoBC,IAAM,CAAxC,CAAzB,CACAH,KAAOl7C,MAAMo7C,EAAN,GAAap7C,MAAMq7C,EAAN,CAAb,CAAyB,GAAzB,CAA+BC,cAAcD,GAAK,EAAnB,CAAtC,CACH,CACD,MAAOH,IAAP,CACH,CACD,QAASH,YAAT,CAAqB7sE,KAArB,CAA4B,CACxBA,MAAQA,MAAQ,CAAR,CAAY,CAAE,CAACA,KAAF,EAAY,CAAb,EAAkB,CAA9B,CAAkCA,OAAS,CAAnD,CACA,GAAIg1D,KAAM,EAAV,CACA,EAAG,CACC,GAAIqY,OAAQrtE,MAAQ,EAApB,CACAA,MAAQA,OAAS,CAAjB,CACA,GAAIA,MAAQ,CAAZ,CAAe,CACXqtE,MAAQA,MAAQ,EAAhB,CACH,CACDrY,KAAOoY,cAAcC,KAAd,CAAP,CACH,CAPD,MAOSrtE,MAAQ,CAPjB,EAQA,MAAOg1D,IAAP,CACH,CACD,GAAIsY,YAAa,kEAAjB,CACA,QAASF,cAAT,CAAuBptE,KAAvB,CAA8B,CAC1B,GAAIA,MAAQ,CAAR,EAAaA,OAAS,EAA1B,CAA8B,CAC1B,KAAM,IAAIe,MAAJ,CAAU,4CAAV,CAAN,CACH,CACD,MAAOusE,YAAWttE,KAAX,CAAP,CACH,CAED;;;;;;OAOA,GAAIutE,gCAAiC,gBAArC,CACA,GAAIC,sBAAuB,uBAA3B,CACA,GAAIC,cAAe,IAAnB,CACA,GAAIC,mBAAoB1Z,SAAS,OAAT,CAAkB,IAAlB,CAAwB,IAAxB,CAAxB,CACA,GAAI2Z,mBAAoB3Z,SAAS,OAAT,CAAkB,IAAlB,CAAwB,IAAxB,CAAxB,CACA,GAAI4Z,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBC,MAAtB,CAA8B,CAC1B,KAAKA,MAAL,CAAcA,MAAd,CACA,KAAKC,WAAL,CAAmB,CAAnB,CACA,KAAKzzD,KAAL,CAAa,EAAb,CACA,KAAK0zD,QAAL,CAAgB,EAAhB,CACH,CACD,MAAOH,aAAP,CACH,CARiC,EAAlC,CASA,GAAII,uBAAwB,aAAe,UAAY,CACnD,QAASA,sBAAT,CAA+BC,OAA/B,CAAwC,CACpC,KAAKA,OAAL,CAAeA,OAAf,CACA,KAAKC,QAAL,CAAgB,EAAhB,CACA,KAAKC,kBAAL,CAA0B,CAA1B,CACA,KAAKC,MAAL,CAAc,CAAC,GAAIR,aAAJ,CAAiBK,OAAjB,CAAD,CAAd,CACH,CACDD,sBAAsBK,UAAtB,CAAmC,UAAY,CAAE,MAAO,IAAIL,sBAAJ,CAA0B,CAA1B,CAAP,CAAsC,CAAvF,CACA3vE,OAAOsgB,cAAP,CAAsBqvD,sBAAsBlvE,SAA5C,CAAuD,cAAvD,CAAuE,CACnE2I,IAAK,UAAY,CAAE,MAAO,MAAK2mE,MAAL,CAAY,KAAKA,MAAL,CAAY7uE,MAAZ,CAAqB,CAAjC,CAAP,CAA6C,CADG,CAEnEqf,WAAY,IAFuD,CAGnEC,aAAc,IAHqD,CAAvE,EAKAmvD,sBAAsBlvE,SAAtB,CAAgCwvE,OAAhC,CAA0C,SAAUhzB,IAAV,CAAgBizB,QAAhB,CAA0B,CAChE,GAAIA,WAAa,IAAK,EAAtB,CAAyB,CAAEA,SAAW,EAAX,CAAgB,CAC3C,KAAKC,KAAL,CAAWlzB,MAAQ,IAAnB,CAAyBizB,QAAzB,CAAmC,IAAnC,EACH,CAHD,CAIAP,sBAAsBlvE,SAAtB,CAAgC2vE,WAAhC,CAA8C,UAAY,CAAE,MAAO,MAAKC,YAAL,CAAkBr0D,KAAlB,CAAwB9a,MAAxB,GAAmC,CAA1C,CAA8C,CAA1G,CACAyuE,sBAAsBlvE,SAAtB,CAAgC6vE,UAAhC,CAA6C,UAAY,CACrD,MAAO,MAAKD,YAAL,CAAkBb,MAAlB,CAA2BJ,aAAaluE,MAAxC,CAAiD,KAAKmvE,YAAL,CAAkBZ,WAA1E,CACH,CAFD,CAGAE,sBAAsBlvE,SAAtB,CAAgC0vE,KAAhC,CAAwC,SAAUlzB,IAAV,CAAgB7iB,IAAhB,CAAsBm2C,OAAtB,CAA+B,CACnE,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,KAAV,CAAkB,CAC5C,GAAIn2C,KAAKl5B,MAAL,CAAc,CAAlB,CAAqB,CACjB,KAAKmvE,YAAL,CAAkBr0D,KAAlB,CAAwB/Z,IAAxB,CAA6Bm4B,IAA7B,EACA,KAAKi2C,YAAL,CAAkBZ,WAAlB,EAAiCr1C,KAAKl5B,MAAtC,CACA,KAAKmvE,YAAL,CAAkBX,QAAlB,CAA2BztE,IAA3B,CAAgCg7C,MAAQA,KAAKlqC,UAAb,EAA2B,IAA3D,EACH,CACD,GAAIw9D,OAAJ,CAAa,CACT,KAAKR,MAAL,CAAY9tE,IAAZ,CAAiB,GAAIstE,aAAJ,CAAiB,KAAKK,OAAtB,CAAjB,EACH,CACJ,CAVD,CAWAD,sBAAsBlvE,SAAtB,CAAgC+vE,mBAAhC,CAAsD,UAAY,CAC9D,GAAI,KAAKJ,WAAL,EAAJ,CAAwB,CACpB,KAAKL,MAAL,CAAYlvD,GAAZ,GACH,CACJ,CAJD,CAKA8uD,sBAAsBlvE,SAAtB,CAAgCgwE,SAAhC,CAA4C,UAAY,CACpD,KAAKb,OAAL,GACA,GAAI,KAAKQ,WAAL,EAAJ,CAAwB,CACpB,KAAKC,YAAL,CAAkBb,MAAlB,CAA2B,KAAKI,OAAhC,CACH,CACJ,CALD,CAMAD,sBAAsBlvE,SAAtB,CAAgCiwE,SAAhC,CAA4C,UAAY,CACpD,KAAKd,OAAL,GACA,GAAI,KAAKQ,WAAL,EAAJ,CAAwB,CACpB,KAAKC,YAAL,CAAkBb,MAAlB,CAA2B,KAAKI,OAAhC,CACH,CACJ,CALD,CAMAD,sBAAsBlvE,SAAtB,CAAgCkwE,SAAhC,CAA4C,SAAU5Y,KAAV,CAAiB,CAAE,KAAK8X,QAAL,CAAc5tE,IAAd,CAAmB81D,KAAnB,EAA4B,CAA3F,CACA4X,sBAAsBlvE,SAAtB,CAAgCmwE,QAAhC,CAA2C,UAAY,CAAE,MAAO,MAAKf,QAAL,CAAchvD,GAAd,EAAP,CAA6B,CAAtF,CACA7gB,OAAOsgB,cAAP,CAAsBqvD,sBAAsBlvE,SAA5C,CAAuD,cAAvD,CAAuE,CACnE2I,IAAK,UAAY,CACb,MAAO,MAAKymE,QAAL,CAAc3uE,MAAd,CAAuB,CAAvB,CAA2B,KAAK2uE,QAAL,CAAc,KAAKA,QAAL,CAAc3uE,MAAd,CAAuB,CAArC,CAA3B,CAAqE,IAA5E,CACH,CAHkE,CAInEqf,WAAY,IAJuD,CAKnEC,aAAc,IALqD,CAAvE,EAOAmvD,sBAAsBlvE,SAAtB,CAAgCowE,QAAhC,CAA2C,UAAY,CACnD,MAAO,MAAKC,WAAL,CACFtnE,GADE,CACE,SAAUklC,CAAV,CAAa,CAAE,MAAOA,GAAE1yB,KAAF,CAAQ9a,MAAR,CAAiB,CAAjB,CAAqB6vE,cAAcriC,EAAE8gC,MAAhB,EAA0B9gC,EAAE1yB,KAAF,CAAQhV,IAAR,CAAa,EAAb,CAA/C,CAAkE,EAAzE,CAA8E,CAD/F,EAEFA,IAFE,CAEG,IAFH,CAAP,CAGH,CAJD,CAKA2oE,sBAAsBlvE,SAAtB,CAAgCuwE,oBAAhC,CAAuD,SAAUC,WAAV,CAAuBC,YAAvB,CAAqC,CACxF,GAAIA,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,CAAf,CAAmB,CAClD,GAAI1nE,KAAM,GAAI2jE,mBAAJ,CAAuB8D,WAAvB,CAAV,CACA,GAAIE,mBAAoB,KAAxB,CACA,GAAIC,wBAAyB,UAAY,CACrC,GAAI,CAACD,iBAAL,CAAwB,CACpB;AACA;AACA;AACA3nE,IAAIgkE,SAAJ,CAAcyD,WAAd,CAA2B,GAA3B,EAAgCvD,UAAhC,CAA2C,CAA3C,CAA8CuD,WAA9C,CAA2D,CAA3D,CAA8D,CAA9D,EACAE,kBAAoB,IAApB,CACH,CACJ,CARD,CASA,IAAK,GAAIpwE,GAAI,CAAb,CAAgBA,EAAImwE,YAApB,CAAkCnwE,GAAlC,CAAuC,CACnCyI,IAAIikE,OAAJ,GACA2D,yBACH,CACD,KAAKN,WAAL,CAAiBtsE,OAAjB,CAAyB,SAAUy5B,IAAV,CAAgBozC,OAAhB,CAAyB,CAC9C7nE,IAAIikE,OAAJ,GACA,GAAI6D,OAAQrzC,KAAKyxC,QAAjB,CACA,GAAI1zD,OAAQiiB,KAAKjiB,KAAjB,CACA,GAAI2xD,MAAO1vC,KAAKuxC,MAAL,CAAcJ,aAAaluE,MAAtC,CACA,GAAIqwE,SAAU,CAAd,CACA;AACA,MAAOA,QAAUD,MAAMpwE,MAAhB,EAA0B,CAACowE,MAAMC,OAAN,CAAlC,CAAkD,CAC9C5D,MAAQ3xD,MAAMu1D,OAAN,EAAerwE,MAAvB,CACAqwE,UACH,CACD,GAAIA,QAAUD,MAAMpwE,MAAhB,EAA0BmwE,UAAY,CAAtC,EAA2C1D,OAAS,CAAxD,CAA2D,CACvDwD,kBAAoB,IAApB,CACH,CAFD,IAGK,CACDC,yBACH,CACD,MAAOG,QAAUD,MAAMpwE,MAAvB,CAA+B,CAC3B,GAAIuhB,MAAO6uD,MAAMC,OAAN,CAAX,CACA,GAAIn6C,QAAS3U,KAAKL,KAAL,CAAW4b,IAAxB,CACA,GAAIwzC,YAAa/uD,KAAKL,KAAL,CAAW6b,IAA5B,CACA,GAAIwzC,WAAYhvD,KAAKL,KAAL,CAAW8b,GAA3B,CACA10B,IAAIgkE,SAAJ,CAAcp2C,OAAO7X,GAArB,CAA0B6X,OAAOiH,OAAjC,EACKqvC,UADL,CACgBC,IADhB,CACsBv2C,OAAO7X,GAD7B,CACkCiyD,UADlC,CAC8CC,SAD9C,EAEA9D,MAAQ3xD,MAAMu1D,OAAN,EAAerwE,MAAvB,CACAqwE,UACA;AACA,MAAOA,QAAUD,MAAMpwE,MAAhB,GAA2BuhB,OAAS6uD,MAAMC,OAAN,CAAT,EAA2B,CAACD,MAAMC,OAAN,CAAvD,CAAP,CAA+E,CAC3E5D,MAAQ3xD,MAAMu1D,OAAN,EAAerwE,MAAvB,CACAqwE,UACH,CACJ,CACJ,CAhCD,EAiCA,MAAO/nE,IAAP,CACH,CAnDD,CAoDAmmE,sBAAsBlvE,SAAtB,CAAgCixE,oBAAhC,CAAuD,SAAU9iC,KAAV,CAAiB,CAAE,MAAO,MAAKkhC,kBAAL,CAA0BlhC,KAAjC,CAAyC,CAAnH,CACA+gC,sBAAsBlvE,SAAtB,CAAgC0hB,MAAhC,CAAyC,SAAU8b,IAAV,CAAgB0zC,MAAhB,CAAwB,CAC7D,GAAIC,aAAc,KAAK7B,MAAL,CAAY9xC,KAAO,KAAK6xC,kBAAxB,CAAlB,CACA,GAAI8B,WAAJ,CAAiB,CACb,GAAIC,aAAcF,OAASZ,cAAca,YAAYpC,MAA1B,EAAkCtuE,MAA7D,CACA,IAAK,GAAI4wE,WAAY,CAArB,CAAwBA,UAAYF,YAAY51D,KAAZ,CAAkB9a,MAAtD,CAA8D4wE,WAA9D,CAA2E,CACvE,GAAI13C,MAAOw3C,YAAY51D,KAAZ,CAAkB81D,SAAlB,CAAX,CACA,GAAI13C,KAAKl5B,MAAL,CAAc2wE,WAAlB,CAA+B,CAC3B,MAAOD,aAAYlC,QAAZ,CAAqBoC,SAArB,CAAP,CACH,CACDD,aAAez3C,KAAKl5B,MAApB,CACH,CACJ,CACD,MAAO,KAAP,CACH,CAbD,CAcAlB,OAAOsgB,cAAP,CAAsBqvD,sBAAsBlvE,SAA5C,CAAuD,aAAvD,CAAsE,CAClE2I,IAAK,UAAY,CACb,GAAI,KAAK2mE,MAAL,CAAY7uE,MAAZ,EAAsB,KAAK6uE,MAAL,CAAY,KAAKA,MAAL,CAAY7uE,MAAZ,CAAqB,CAAjC,EAAoC8a,KAApC,CAA0C9a,MAA1C,GAAqD,CAA/E,CAAkF,CAC9E,MAAO,MAAK6uE,MAAL,CAAYptE,KAAZ,CAAkB,CAAlB,CAAqB,CAAC,CAAtB,CAAP,CACH,CACD,MAAO,MAAKotE,MAAZ,CACH,CANiE,CAOlExvD,WAAY,IAPsD,CAQlEC,aAAc,IARoD,CAAtE,EAUA,MAAOmvD,sBAAP,CACH,CA7I0C,EAA3C,CA8IA,GAAIoC,wBAAyB,aAAe,UAAY,CACpD,QAASA,uBAAT,CAAgCC,sBAAhC,CAAwD,CACpD,KAAKA,sBAAL,CAA8BA,sBAA9B,CACH,CACDD,uBAAuBtxE,SAAvB,CAAiC+xD,mBAAjC,CAAuD,SAAUJ,IAAV,CAAgBxyB,GAAhB,CAAqB,CACxEwyB,KAAKv2B,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CAJD,CAKA2f,uBAAuBtxE,SAAvB,CAAiCiyD,eAAjC,CAAmD,SAAUN,IAAV,CAAgBxyB,GAAhB,CAAqB,CACpEA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,SAAhB,EACAA,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CALD,CAMA2f,uBAAuBtxE,SAAvB,CAAiC8yD,WAAjC,CAA+C,SAAUnB,IAAV,CAAgBxyB,GAAhB,CAAqB,CAChEA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,MAAhB,EACAA,KAAK/mC,SAAL,CAAegjC,eAAf,CAA+B,IAA/B,CAAqCzuB,GAArC,EACAA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,KAAhB,EACA,GAAI6f,aAAc7f,KAAK9G,SAAL,EAAkB,IAAlB,EAA0B8G,KAAK9G,SAAL,CAAepqD,MAAf,CAAwB,CAApE,CACA,GAAIkxD,KAAK/G,QAAL,CAAcnqD,MAAd,EAAwB,CAAxB,EAA6B,CAAC+wE,WAAlC,CAA+C,CAC3CryC,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,GAAhB,EACA,KAAKqC,kBAAL,CAAwBrC,KAAK/G,QAA7B,CAAuCzrB,GAAvC,EACAA,IAAI4wC,mBAAJ,GACA5wC,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,GAAhB,EACH,CALD,IAMK,CACDxyB,IAAIqwC,OAAJ,GACArwC,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAK/G,QAA7B,CAAuCzrB,GAAvC,EACAA,IAAI8wC,SAAJ,GACA,GAAIuB,WAAJ,CAAiB,CACbryC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,UAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAK9G,SAA7B,CAAwC1rB,GAAxC,EACAA,IAAI8wC,SAAJ,GACH,CACJ,CACD9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CAzBD,CA0BA2f,uBAAuBtxE,SAAvB,CAAiC2zD,cAAjC,CAAkD,SAAUhC,IAAV,CAAgBxyB,GAAhB,CAAqB,CACnEA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,QAAhB,EACAA,KAAKlwD,KAAL,CAAWmsD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CALD,CAMA2f,uBAAuBtxE,SAAvB,CAAiCizD,gBAAjC,CAAoD,SAAUtB,IAAV,CAAgBxyB,GAAhB,CAAqB,CACrE,GAAIwyB,KAAKqB,SAAT,CAAoB,CAChB7zB,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,MAAQA,KAAKjf,OAAb,CAAuB,KAAzC,EACH,CAFD,IAGK,CACDif,KAAKjf,OAAL,CAAa3gC,KAAb,CAAmB,IAAnB,EAAyBhO,OAAzB,CAAiC,SAAUy5B,IAAV,CAAgB,CAAE2B,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,MAAQn0B,IAA1B,EAAkC,CAArF,EACH,CACD,MAAO,KAAP,CACH,CARD,CASA8zC,uBAAuBtxE,SAAvB,CAAiCozD,qBAAjC,CAAyD,SAAUzB,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC1EA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,KAAOA,KAAK/qD,QAAL,EAAP,CAAyB,IAA3C,EACA,MAAO,KAAP,CACH,CAHD,CAIA0qE,uBAAuBtxE,SAAvB,CAAiCmuD,iBAAjC,CAAqD,SAAU/yB,IAAV,CAAgB+D,GAAhB,CAAqB,CACtE,GAAIsyC,cAAetyC,IAAIwwC,WAAJ,EAAnB,CACA,GAAI,CAAC8B,YAAL,CAAmB,CACftyC,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CACD+D,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgBA,KAAK72B,IAAL,CAAY,KAA5B,EACA62B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACA,GAAI,CAACsyC,YAAL,CAAmB,CACftyC,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CACD,MAAO,KAAP,CACH,CAXD,CAYAk2C,uBAAuBtxE,SAAvB,CAAiCuuD,iBAAjC,CAAqD,SAAUnzB,IAAV,CAAgB+D,GAAhB,CAAqB,CACtE,GAAIsyC,cAAetyC,IAAIwwC,WAAJ,EAAnB,CACA,GAAI,CAAC8B,YAAL,CAAmB,CACftyC,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CACDA,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACAA,KAAKpqB,KAAL,CAAW48C,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,MAAhB,EACAA,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACA,GAAI,CAACsyC,YAAL,CAAmB,CACftyC,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CACD,MAAO,KAAP,CACH,CAdD,CAeAk2C,uBAAuBtxE,SAAvB,CAAiCyuD,kBAAjC,CAAsD,SAAUrzB,IAAV,CAAgB+D,GAAhB,CAAqB,CACvE,GAAIsyC,cAAetyC,IAAIwwC,WAAJ,EAAnB,CACA,GAAI,CAAC8B,YAAL,CAAmB,CACftyC,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CACDA,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,IAAMA,KAAK72B,IAAX,CAAkB,KAAlC,EACA62B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACA,GAAI,CAACsyC,YAAL,CAAmB,CACftyC,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CACD,MAAO,KAAP,CACH,CAZD,CAaAk2C,uBAAuBtxE,SAAvB,CAAiC4uD,qBAAjC,CAAyD,SAAUxzB,IAAV,CAAgB+D,GAAhB,CAAqB,CAC1E/D,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACA,GAAI56B,MAAO62B,KAAK72B,IAAhB,CACA,GAAI62B,KAAKsyB,OAAL,EAAgB,IAApB,CAA0B,CACtBnpD,KAAO,KAAKmtE,oBAAL,CAA0Bt2C,KAAKsyB,OAA/B,CAAP,CACA,GAAInpD,MAAQ,IAAZ,CAAkB,CACd;AACA,MAAO,KAAP,CACH,CACJ,CACD46B,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,IAAM72B,IAAN,CAAa,GAA7B,EACA,KAAKwvD,mBAAL,CAAyB34B,KAAKpvB,IAA9B,CAAoCmzB,GAApC,CAAyC,GAAzC,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACA,MAAO,KAAP,CACH,CAdD,CAeAk2C,uBAAuBtxE,SAAvB,CAAiC8uD,uBAAjC,CAA2D,SAAU1zB,IAAV,CAAgB+D,GAAhB,CAAqB,CAC5E/D,KAAKyzB,EAAL,CAAQjB,eAAR,CAAwB,IAAxB,CAA8BzuB,GAA9B,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACA,KAAK24B,mBAAL,CAAyB34B,KAAKpvB,IAA9B,CAAoCmzB,GAApC,CAAyC,GAAzC,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACA,MAAO,KAAP,CACH,CAND,CAOAk2C,uBAAuBtxE,SAAvB,CAAiCkuD,oBAAjC,CAAwD,SAAU33C,GAAV,CAAe4oB,GAAf,CAAoB,CACxE,KAAM,IAAIl9B,MAAJ,CAAU,gDAAV,CAAN,CACH,CAFD,CAGAqvE,uBAAuBtxE,SAAvB,CAAiCguD,eAAjC,CAAmD,SAAU5yB,IAAV,CAAgB+D,GAAhB,CAAqB,CACpEA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,SAAhB,EACAA,KAAKA,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,EACH,CAHD,CAIAmyC,uBAAuBtxE,SAAvB,CAAiC6tD,gBAAjC,CAAoD,SAAUt3C,GAAV,CAAe4oB,GAAf,CAAoB,CACpE,GAAImlC,SAAU/tD,IAAIhS,IAAlB,CACA,GAAIgS,IAAIm3C,OAAJ,EAAe,IAAnB,CAAyB,CACrB,OAAQn3C,IAAIm3C,OAAZ,EACI,IAAK5uD,SAAQ0uD,UAAR,CAAmB2D,KAAxB,CACImT,QAAU,OAAV,CACA,MACJ,IAAKxlE,SAAQ0uD,UAAR,CAAmByD,IAAxB,CACIqT,QAAU,MAAV,CACA,MACJ,IAAKxlE,SAAQ0uD,UAAR,CAAmB6D,UAAxB,CACIiT,QAAUsK,kBAAkBrqE,IAA5B,CACA,MACJ,IAAKzF,SAAQ0uD,UAAR,CAAmB+D,UAAxB,CACI+S,QAAUuK,kBAAkBtqE,IAA5B,CACA,MACJ,QACI,KAAM,IAAItC,MAAJ,CAAU,4BAA8BsU,IAAIm3C,OAA5C,CAAN,CAdR,CAgBH,CACDvuB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe+tD,OAAf,EACA,MAAO,KAAP,CACH,CAtBD,CAuBAgN,uBAAuBtxE,SAAvB,CAAiCgvD,oBAAjC,CAAwD,SAAUz4C,GAAV,CAAe4oB,GAAf,CAAoB,CACxEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,MAAf,EACAA,IAAIw4C,SAAJ,CAAcnB,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKw9C,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmCmzB,GAAnC,CAAwC,GAAxC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CAPD,CAQA+6D,uBAAuBtxE,SAAvB,CAAiCkvD,gBAAjC,CAAoD,SAAU34C,GAAV,CAAe4oB,GAAf,CAAoB,CACpE,GAAIj+B,OAAQqV,IAAIrV,KAAhB,CACA,GAAI,MAAOA,MAAP,GAAiB,QAArB,CAA+B,CAC3Bi+B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAeo7D,iBAAiBzwE,KAAjB,CAAwB,KAAKqwE,sBAA7B,CAAf,EACH,CAFD,IAGK,CACDpyC,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAKrV,KAApB,EACH,CACD,MAAO,KAAP,CACH,CATD,CAUAowE,uBAAuBtxE,SAAvB,CAAiCuvD,oBAAjC,CAAwD,SAAUh5C,GAAV,CAAe4oB,GAAf,CAAoB,CACxEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACAA,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,IAAf,EACAA,IAAIq0C,QAAJ,CAAagD,eAAb,CAA6B,IAA7B,CAAmCzuB,GAAnC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,IAAf,EACAA,IAAIs0C,SAAJ,CAAc+C,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CATD,CAUA+6D,uBAAuBtxE,SAAvB,CAAiCyvD,YAAjC,CAAgD,SAAUl5C,GAAV,CAAe4oB,GAAf,CAAoB,CAChEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACAA,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACA,MAAO,KAAP,CACH,CAJD,CAKAmyC,uBAAuBtxE,SAAvB,CAAiC2vD,sBAAjC,CAA0D,SAAUp5C,GAAV,CAAe4oB,GAAf,CAAoB,CAC1E5oB,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACA,MAAO,KAAP,CACH,CAHD,CAIAmyC,uBAAuBtxE,SAAvB,CAAiCowD,uBAAjC,CAA2D,SAAU75C,GAAV,CAAe4oB,GAAf,CAAoB,CAC3E,GAAIyyC,MAAJ,CACA,OAAQr7D,IAAIykB,QAAZ,EACI,IAAKl8B,SAAQ8qD,cAAR,CAAuBsB,MAA5B,CACI0mB,MAAQ,IAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuB0B,SAA5B,CACIsmB,MAAQ,KAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBwB,SAA5B,CACIwmB,MAAQ,IAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuB4B,YAA5B,CACIomB,MAAQ,KAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBwC,GAA5B,CACIwlB,MAAQ,IAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuB2C,UAA5B,CACIqlB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuB6C,EAA5B,CACImlB,MAAQ,IAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBgC,IAA5B,CACIgmB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuB8B,KAA5B,CACIkmB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBkC,MAA5B,CACI8lB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBoC,QAA5B,CACI4lB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBsC,MAA5B,CACI0lB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuB+C,KAA5B,CACIilB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBiD,WAA5B,CACI+kB,MAAQ,IAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBmD,MAA5B,CACI6kB,MAAQ,GAAR,CACA,MACJ,IAAK9yE,SAAQ8qD,cAAR,CAAuBqD,YAA5B,CACI2kB,MAAQ,IAAR,CACA,MACJ,QACI,KAAM,IAAI3vE,MAAJ,CAAU,oBAAsBsU,IAAIykB,QAApC,CAAN,CAlDR,CAoDA,GAAIzkB,IAAI+1C,MAAR,CACIntB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACJA,IAAI45C,GAAJ,CAAQvC,eAAR,CAAwB,IAAxB,CAA8BzuB,GAA9B,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,IAAMq7D,KAAN,CAAc,GAA7B,EACAr7D,IAAIy0C,GAAJ,CAAQ4C,eAAR,CAAwB,IAAxB,CAA8BzuB,GAA9B,EACA,GAAI5oB,IAAI+1C,MAAR,CACIntB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACJ,MAAO,KAAP,CACH,CA9DD,CA+DA+6D,uBAAuBtxE,SAAvB,CAAiCqwD,iBAAjC,CAAqD,SAAU95C,GAAV,CAAe4oB,GAAf,CAAoB,CACrE5oB,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCzuB,GAAnC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA4oB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAeA,IAAIhS,IAAnB,EACA,MAAO,KAAP,CACH,CALD,CAMA+sE,uBAAuBtxE,SAAvB,CAAiCswD,gBAAjC,CAAoD,SAAU/5C,GAAV,CAAe4oB,GAAf,CAAoB,CACpE5oB,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCzuB,GAAnC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACAA,IAAIvF,KAAJ,CAAU48C,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CAND,CAOA+6D,uBAAuBtxE,SAAvB,CAAiC0wD,qBAAjC,CAAyD,SAAUn6C,GAAV,CAAe4oB,GAAf,CAAoB,CACzEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKw9C,mBAAL,CAAyBx9C,IAAIi6C,OAA7B,CAAsCrxB,GAAtC,CAA2C,GAA3C,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CALD,CAMA+6D,uBAAuBtxE,SAAvB,CAAiC6wD,mBAAjC,CAAuD,SAAUt6C,GAAV,CAAe4oB,GAAf,CAAoB,CACvE,GAAIt7B,OAAQ,IAAZ,CACAs7B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKs7D,eAAL,CAAqB,SAAU72B,KAAV,CAAiB,CAClC7b,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAeo7D,iBAAiB32B,MAAMvrC,GAAvB,CAA4B5L,MAAM0tE,sBAAlC,CAA0Dv2B,MAAMte,MAAhE,EAA0E,GAAzF,EACAse,MAAM95C,KAAN,CAAY0sD,eAAZ,CAA4B/pD,KAA5B,CAAmCs7B,GAAnC,EACH,CAHD,CAGG5oB,IAAIi6C,OAHP,CAGgBrxB,GAHhB,CAGqB,GAHrB,EAIAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CATD,CAUA+6D,uBAAuBtxE,SAAvB,CAAiC+wD,cAAjC,CAAkD,SAAUx6C,GAAV,CAAe4oB,GAAf,CAAoB,CAClEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKw9C,mBAAL,CAAyBx9C,IAAIgF,KAA7B,CAAoC4jB,GAApC,CAAyC,GAAzC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CALD,CAMA+6D,uBAAuBtxE,SAAvB,CAAiC+zD,mBAAjC,CAAuD,SAAUjgC,WAAV,CAAuBqL,GAAvB,CAA4B2yC,SAA5B,CAAuC,CAC1F,GAAIjuE,OAAQ,IAAZ,CACA,KAAKguE,eAAL,CAAqB,SAAUz2C,IAAV,CAAgB,CAAE,MAAOA,MAAKwyB,eAAL,CAAqB/pD,KAArB,CAA4Bs7B,GAA5B,CAAP,CAA0C,CAAjF,CAAmFrL,WAAnF,CAAgGqL,GAAhG,CAAqG2yC,SAArG,EACH,CAHD,CAIAR,uBAAuBtxE,SAAvB,CAAiC6xE,eAAjC,CAAmD,SAAUr+D,OAAV,CAAmBsgB,WAAnB,CAAgCqL,GAAhC,CAAqC2yC,SAArC,CAAgD,CAC/F,GAAIC,mBAAoB,KAAxB,CACA,IAAK,GAAIzxE,GAAI,CAAb,CAAgBA,EAAIwzB,YAAYrzB,MAAhC,CAAwCH,GAAxC,CAA6C,CACzC,GAAIA,EAAI,CAAR,CAAW,CACP,GAAI6+B,IAAI0wC,UAAJ,GAAmB,EAAvB,CAA2B,CACvB1wC,IAAIuwC,KAAJ,CAAU,IAAV,CAAgBoC,SAAhB,CAA2B,IAA3B,EACA,GAAI,CAACC,iBAAL,CAAwB,CACpB;AACA5yC,IAAI6wC,SAAJ,GACA7wC,IAAI6wC,SAAJ,GACA+B,kBAAoB,IAApB,CACH,CACJ,CARD,IASK,CACD5yC,IAAIuwC,KAAJ,CAAU,IAAV,CAAgBoC,SAAhB,CAA2B,KAA3B,EACH,CACJ,CACDt+D,QAAQsgB,YAAYxzB,CAAZ,CAAR,EACH,CACD,GAAIyxE,iBAAJ,CAAuB,CACnB;AACA5yC,IAAI8wC,SAAJ,GACA9wC,IAAI8wC,SAAJ,GACH,CACJ,CAxBD,CAyBAqB,uBAAuBtxE,SAAvB,CAAiCg0D,kBAAjC,CAAsD,SAAUhE,UAAV,CAAsB7wB,GAAtB,CAA2B,CAC7E,GAAIt7B,OAAQ,IAAZ,CACAmsD,WAAWjsD,OAAX,CAAmB,SAAU4tD,IAAV,CAAgB,CAAE,MAAOA,MAAKC,cAAL,CAAoB/tD,KAApB,CAA2Bs7B,GAA3B,CAAP,CAAyC,CAA9E,EACH,CAHD,CAIA,MAAOmyC,uBAAP,CACH,CAjU2C,EAA5C,CAkUA,QAASK,iBAAT,CAA0B3jE,KAA1B,CAAiCgkE,YAAjC,CAA+CC,WAA/C,CAA4D,CACxD,GAAIA,cAAgB,IAAK,EAAzB,CAA4B,CAAEA,YAAc,IAAd,CAAqB,CACnD,GAAIjkE,OAAS,IAAb,CAAmB,CACf,MAAO,KAAP,CACH,CACD,GAAIyuC,MAAOzuC,MAAMC,OAAN,CAAcwgE,8BAAd,CAA8C,UAAY,CACjE,GAAI9oE,OAAQ,EAAZ,CACA,IAAK,GAAIqH,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1CrH,MAAMqH,EAAN,EAAYxM,UAAUwM,EAAV,CAAZ,CACH,CACD,GAAIrH,MAAM,CAAN,GAAY,GAAhB,CAAqB,CACjB,MAAOqsE,cAAe,KAAf,CAAuB,GAA9B,CACH,CAFD,IAGK,IAAIrsE,MAAM,CAAN,GAAY,IAAhB,CAAsB,CACvB,MAAO,KAAP,CACH,CAFI,IAGA,IAAIA,MAAM,CAAN,GAAY,IAAhB,CAAsB,CACvB,MAAO,KAAP,CACH,CAFI,IAGA,CACD,MAAO,KAAOA,MAAM,CAAN,CAAd,CACH,CACJ,CAjBU,CAAX,CAkBA,GAAIusE,gBAAiBD,aAAe,CAACvD,qBAAqBnsD,IAArB,CAA0Bk6B,IAA1B,CAArC,CACA,MAAOy1B,gBAAiB,IAAMz1B,IAAN,CAAa,GAA9B,CAAoCA,IAA3C,CACH,CACD,QAAS6zB,cAAT,CAAuBniC,KAAvB,CAA8B,CAC1B,GAAI3oC,KAAM,EAAV,CACA,IAAK,GAAIlF,GAAI,CAAb,CAAgBA,EAAI6tC,KAApB,CAA2B7tC,GAA3B,CAAgC,CAC5BkF,KAAOmpE,YAAP,CACH,CACD,MAAOnpE,IAAP,CACH,CAED;;;;;;OAOA,QAAS2sE,2BAAT,CAAoC57D,GAApC,CAAyC,CACrC,GAAI4mC,WAAY,GAAIi1B,kBAAJ,EAAhB,CACA,GAAIjzC,KAAM+vC,sBAAsBK,UAAtB,EAAV,CACA,GAAI34D,MAAOlX,MAAMmP,OAAN,CAAc0H,GAAd,EAAqBA,GAArB,CAA2B,CAACA,GAAD,CAAtC,CACAK,KAAK7S,OAAL,CAAa,SAAUwS,GAAV,CAAe,CACxB,GAAIA,cAAem7C,UAAnB,CAA8B,CAC1Bn7C,IAAIq7C,cAAJ,CAAmBzU,SAAnB,CAA8Bhe,GAA9B,EACH,CAFD,IAGK,IAAI5oB,cAAe0zC,WAAnB,CAA+B,CAChC1zC,IAAIq3C,eAAJ,CAAoBzQ,SAApB,CAA+Bhe,GAA/B,EACH,CAFI,IAGA,IAAI5oB,cAAewxC,OAAnB,CAA2B,CAC5BxxC,IAAI8xC,SAAJ,CAAclL,SAAd,CAAyBhe,GAAzB,EACH,CAFI,IAGA,CACD,KAAM,IAAIl9B,MAAJ,CAAU,0CAA4CsU,GAAtD,CAAN,CACH,CACJ,CAbD,EAcA,MAAO4oB,KAAIixC,QAAJ,EAAP,CACH,CACD,GAAIiC,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,EAA6B,CAC5B,CACDA,kBAAkBryE,SAAlB,CAA4BsyE,wBAA5B,CAAuD,SAAU9B,WAAV,CAAuBpc,KAAvB,CAA8Bme,QAA9B,CAAwCC,cAAxC,CAAwDC,eAAxD,CAAyEC,YAAzE,CAAuF,CAC1I,GAAIH,WAAa,IAAK,EAAtB,CAAyB,CAAEA,SAAW,EAAX,CAAgB,CAC3C,GAAIC,iBAAmB,IAAK,EAA5B,CAA+B,CAAEA,eAAiB,IAAjB,CAAwB,CACzD,GAAIr1B,WAAY,GAAIi1B,kBAAJ,CAAsBK,eAAtB,CAAuCC,YAAvC,CAAhB,CACA,GAAIvzC,KAAM+vC,sBAAsBK,UAAtB,EAAV,CACApyB,UAAU6W,kBAAV,CAA6BI,KAA7B,CAAoCj1B,GAApC,EACA,GAAIwzC,eAAgBJ,SAAWA,SAASxgE,KAAT,CAAe,IAAf,CAAX,CAAkC,EAAtD,CACAorC,UAAUy1B,SAAV,CAAoB7uE,OAApB,CAA4B,SAAU6uE,SAAV,CAAqBC,kBAArB,CAAyC,CACjE,GAAIC,eAAgBF,UAAU7pE,GAAV,CAAc,SAAUgqE,QAAV,CAAoB,CAAE,MAAOA,UAASxuE,IAAT,CAAgB,MAAhB,CAAyBwuE,SAASC,EAAzC,CAA8C,CAAlF,EAAoFzsE,IAApF,CAAyF,GAAzF,CAApB,CACAosE,cAAcnxE,IAAd,CAAmB,WAAasxE,aAAb,CAA6B,UAA7B,CAA0CD,kBAA1C,CAA+D,IAAlF,EACH,CAHD,EAIA11B,UAAU81B,mBAAV,CAA8BlvE,OAA9B,CAAsC,SAAUrB,MAAV,CAAkBwwE,kBAAlB,CAAsC,CACxE;AACAP,cAAcnxE,IAAd,CAAmB,OACd,YAAckB,MAAd,CAAuB,SAAvB,CAAmCwwE,kBAAnC,CAAwD,IAD1C,CAAnB,EAEH,CAJD,EAKA,GAAIC,IAAKX,eACLrzC,IAAIoxC,oBAAJ,CAAyBC,WAAzB,CAAsCmC,cAAclyE,MAApD,EAA4DutE,WAA5D,EADK,CAEL,EAFJ,CAGA,GAAIpB,OAAQlrE,SAASixE,aAAT,CAAwB,CAACxzC,IAAIixC,QAAJ,EAAD,CAAiB+C,EAAjB,CAAxB,CAAZ,CACA,GAAIA,EAAJ,CAAQ,CACJ;AACAvG,MAAMprE,IAAN,CAAW,EAAX,EACH,CACD29B,IAAI8xC,oBAAJ,CAAyB0B,cAAclyE,MAAvC,EACA,MAAO,CAAE2yE,WAAYxG,MAAMrmE,IAAN,CAAW,IAAX,CAAd,CAAgCqI,QAASuwB,GAAzC,CAAP,CACH,CA1BD,CA2BAkzC,kBAAkBryE,SAAlB,CAA4BqzE,cAA5B,CAA6C,SAAU7C,WAAV,CAAuBpc,KAAvB,CAA8Bme,QAA9B,CAAwC,CACjF,GAAIA,WAAa,IAAK,EAAtB,CAAyB,CAAEA,SAAW,EAAX,CAAgB,CAC3C,MAAO,MAAKD,wBAAL,CAA8B9B,WAA9B,CAA2Cpc,KAA3C,CAAkDme,QAAlD,EAA4Da,UAAnE,CACH,CAHD,CAIA,MAAOf,kBAAP,CACH,CAnCsC,EAAvC,CAoCA,GAAID,mBAAoB,aAAe,SAAU37D,MAAV,CAAkB,CACrD5W,UAAUuyE,iBAAV,CAA6B37D,MAA7B,EACA,QAAS27D,kBAAT,CAA2BK,eAA3B,CAA4CC,YAA5C,CAA0D,CACtD,GAAI7uE,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB,KAAlB,GAA4B,IAAxC,CACAmD,MAAM4uE,eAAN,CAAwBA,eAAxB,CACA5uE,MAAM6uE,YAAN,CAAqBA,YAArB,CACA7uE,MAAMyvE,cAAN,CAAuB,CAAvB,CACAzvE,MAAMovE,mBAAN,CAA4B,GAAI/rE,IAAJ,EAA5B,CACArD,MAAM+uE,SAAN,CAAkB,GAAI1rE,IAAJ,EAAlB,CACA,MAAOrD,MAAP,CACH,CACDuuE,kBAAkBpyE,SAAlB,CAA4BqoD,SAA5B,CAAwC,SAAUjoD,CAAV,CAAa++B,GAAb,CAAkBo0C,WAAlB,CAA+B,CACnE,GAAIA,cAAgB,IAAK,EAAzB,CAA4B,CAAEA,YAAc,KAAd,CAAsB,CACpD,GAAInzE,CAAJ,CAAO,CACH,KAAKkzE,cAAL,GACAlzE,EAAEioD,SAAF,CAAY,IAAZ,CAAkBlpB,GAAlB,EACA,KAAKm0C,cAAL,GACH,CAJD,IAKK,CACDn0C,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB6D,WAAhB,EACH,CACJ,CAVD,CAWAnB,kBAAkBpyE,SAAlB,CAA4BkvD,gBAA5B,CAA+C,SAAU34C,GAAV,CAAe4oB,GAAf,CAAoB,CAC/D,GAAIj+B,OAAQqV,IAAIrV,KAAhB,CACA,GAAIA,OAAS,IAAT,EAAiBqV,IAAI5E,IAAJ,EAAYu3C,aAAjC,CAAgD,CAC5C/pB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,IAAMrV,KAAN,CAAc,UAA7B,EACA,MAAO,KAAP,CACH,CACD,MAAOuV,QAAOzW,SAAP,CAAiBkvD,gBAAjB,CAAkCxuD,IAAlC,CAAuC,IAAvC,CAA6C6V,GAA7C,CAAkD4oB,GAAlD,CAAP,CACH,CAPD,CAQA;AACA;AACA;AACA;AACAizC,kBAAkBpyE,SAAlB,CAA4B0wD,qBAA5B,CAAoD,SAAUn6C,GAAV,CAAe4oB,GAAf,CAAoB,CACpE,GAAI5oB,IAAIi6C,OAAJ,CAAY/vD,MAAZ,GAAuB,CAA3B,CAA8B,CAC1B0+B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACH,CACD,GAAI5P,QAAS8P,OAAOzW,SAAP,CAAiB0wD,qBAAjB,CAAuChwD,IAAvC,CAA4C,IAA5C,CAAkD6V,GAAlD,CAAuD4oB,GAAvD,CAAb,CACA,GAAI5oB,IAAIi6C,OAAJ,CAAY/vD,MAAZ,GAAuB,CAA3B,CAA8B,CAC1B0+B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,YAAf,EACH,CACD,MAAO5P,OAAP,CACH,CATD,CAUAyrE,kBAAkBpyE,SAAlB,CAA4BqvD,iBAA5B,CAAgD,SAAU94C,GAAV,CAAe4oB,GAAf,CAAoB,CAChE,KAAKq0C,gBAAL,CAAsBj9D,IAAIrV,KAA1B,CAAiCqV,IAAIiyC,UAArC,CAAiDrpB,GAAjD,EACA,MAAO,KAAP,CACH,CAHD,CAIAizC,kBAAkBpyE,SAAlB,CAA4B2vD,sBAA5B,CAAqD,SAAUp5C,GAAV,CAAe4oB,GAAf,CAAoB,CACrE,GAAIx4B,QAAS8P,OAAOzW,SAAP,CAAiB2vD,sBAAjB,CAAwCjvD,IAAxC,CAA6C,IAA7C,CAAmD6V,GAAnD,CAAwD4oB,GAAxD,CAAb,CACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO5P,OAAP,CACH,CAJD,CAKAyrE,kBAAkBpyE,SAAlB,CAA4B6xD,mBAA5B,CAAkD,SAAUF,IAAV,CAAgBxyB,GAAhB,CAAqB,CACnE,GAAIwyB,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,GAAmD3a,KAAKzwD,KAAL,WAAsBiuD,aAAzE,EACA,CAACwC,KAAKhgD,IADV,CACgB,CACZ;AACA,GAAI5O,IAAK4uD,KAAKzwD,KAAL,CAAWA,KAApB,CAA2B4F,OAAS/D,GAAGwB,IAAvC,CAA6CqgD,WAAa7hD,GAAG6hD,UAA7D,CACA,GAAIA,UAAJ,CAAgB,CACZ,GAAIguB,WAAY,KAAKA,SAAL,CAAejqE,GAAf,CAAmBi8C,UAAnB,CAAhB,CACA,GAAI,CAACguB,SAAL,CAAgB,CACZA,UAAY,EAAZ,CACA,KAAKA,SAAL,CAAehqE,GAAf,CAAmBg8C,UAAnB,CAA+BguB,SAA/B,EACH,CACDA,UAAUpxE,IAAV,CAAe,CAAE+C,KAAMuC,MAAR,CAAgBksE,GAAIrhB,KAAKptD,IAAzB,CAAf,EACA,MAAO,KAAP,CACH,CACJ,CACD,GAAIotD,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjDntC,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,SAAhB,EACH,CACD,GAAIA,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB4a,KAAtC,CAAJ,CAAkD,CAC9CltC,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,OAAhB,EACH,CAFD,IAGK,CACDxyB,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,KAAhB,EACH,CACDxyB,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,IAAMA,KAAKptD,IAA3B,EACA,KAAKkvE,eAAL,CAAqB9hB,KAAKhgD,IAA1B,CAAgCwtB,GAAhC,EACA,GAAIwyB,KAAKzwD,KAAT,CAAgB,CACZi+B,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,KAAhB,EACAA,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACH,CACDA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CAhCD,CAiCAygB,kBAAkBpyE,SAAlB,CAA4BkuD,oBAA5B,CAAmD,SAAU33C,GAAV,CAAe4oB,GAAf,CAAoB,CACnE,KAAM,IAAIl9B,MAAJ,CAAU,4DAAV,CAAN,CACH,CAFD,CAGAmwE,kBAAkBpyE,SAAlB,CAA4B4vD,aAA5B,CAA4C,SAAUr5C,GAAV,CAAe4oB,GAAf,CAAoB,CAC5DA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,IAAf,EACAA,IAAI5E,IAAJ,CAAS02C,SAAT,CAAmB,IAAnB,CAAyBlpB,GAAzB,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACAA,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CAPD,CAQA67D,kBAAkBpyE,SAAlB,CAA4BgvD,oBAA5B,CAAmD,SAAUz4C,GAAV,CAAe4oB,GAAf,CAAoB,CACnEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,MAAf,EACA,KAAK+8D,cAAL,GACA/8D,IAAIw4C,SAAJ,CAAcnB,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,EACA,KAAKm0C,cAAL,GACAn0C,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKw9C,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmCmzB,GAAnC,CAAwC,GAAxC,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CATD,CAUA67D,kBAAkBpyE,SAAlB,CAA4B4yD,qBAA5B,CAAoD,SAAUjB,IAAV,CAAgBxyB,GAAhB,CAAqB,CACrE,GAAIt7B,OAAQ,IAAZ,CACAs7B,IAAI+wC,SAAJ,CAAcve,IAAd,EACA,GAAIA,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjDntC,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,SAAhB,EACH,CACDxyB,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,SAAWA,KAAKptD,IAAhC,EACA,GAAIotD,KAAK/nB,MAAL,EAAe,IAAnB,CAAyB,CACrBzK,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,WAAhB,EACA,KAAK2hB,cAAL,GACA3hB,KAAK/nB,MAAL,CAAYgkB,eAAZ,CAA4B,IAA5B,CAAkCzuB,GAAlC,EACA,KAAKm0C,cAAL,GACH,CACDn0C,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,IAAlB,EACAxyB,IAAI6wC,SAAJ,GACAre,KAAKa,MAAL,CAAYzuD,OAAZ,CAAoB,SAAU2vE,KAAV,CAAiB,CAAE,MAAO7vE,OAAM8vE,gBAAN,CAAuBD,KAAvB,CAA8Bv0C,GAA9B,CAAP,CAA4C,CAAnF,EACA,GAAIwyB,KAAKe,iBAAL,EAA0B,IAA9B,CAAoC,CAChC,KAAKkhB,sBAAL,CAA4BjiB,IAA5B,CAAkCxyB,GAAlC,EACH,CACDwyB,KAAKc,OAAL,CAAa1uD,OAAb,CAAqB,SAAUmwD,MAAV,CAAkB,CAAE,MAAOrwD,OAAMgwE,iBAAN,CAAwB3f,MAAxB,CAAgC/0B,GAAhC,CAAP,CAA8C,CAAvF,EACAwyB,KAAKgB,OAAL,CAAa5uD,OAAb,CAAqB,SAAU4qD,MAAV,CAAkB,CAAE,MAAO9qD,OAAMiwE,iBAAN,CAAwBnlB,MAAxB,CAAgCxvB,GAAhC,CAAP,CAA8C,CAAvF,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACAxyB,IAAIgxC,QAAJ,GACA,MAAO,KAAP,CACH,CAzBD,CA0BAiC,kBAAkBpyE,SAAlB,CAA4B2zE,gBAA5B,CAA+C,SAAUD,KAAV,CAAiBv0C,GAAjB,CAAsB,CACjE,GAAIu0C,MAAMzrB,WAAN,CAAkBnpD,QAAQ2yD,YAAR,CAAqBsiB,OAAvC,CAAJ,CAAqD,CACjD;AACA50C,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,cAAhB,EACH,CACD,GAAIgE,MAAMzrB,WAAN,CAAkBnpD,QAAQ2yD,YAAR,CAAqBoG,MAAvC,CAAJ,CAAoD,CAChD14B,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,SAAhB,EACH,CACDvwC,IAAIuwC,KAAJ,CAAU,IAAV,CAAgBgE,MAAMnvE,IAAtB,EACA,KAAKkvE,eAAL,CAAqBC,MAAM/hE,IAA3B,CAAiCwtB,GAAjC,EACA,GAAIu0C,MAAMthB,WAAV,CAAuB,CACnBjzB,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,KAAhB,EACAgE,MAAMthB,WAAN,CAAkBxE,eAAlB,CAAkC,IAAlC,CAAwCzuB,GAAxC,EACH,CACDA,IAAIqwC,OAAJ,CAAY,IAAZ,CAAkB,GAAlB,EACH,CAfD,CAgBA4C,kBAAkBpyE,SAAlB,CAA4B6zE,iBAA5B,CAAgD,SAAU3f,MAAV,CAAkB/0B,GAAlB,CAAuB,CACnE,GAAI+0B,OAAOjM,WAAP,CAAmBnpD,QAAQ2yD,YAAR,CAAqBsiB,OAAxC,CAAJ,CAAsD,CAClD50C,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,UAAhB,EACH,CACDvwC,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,OAASxb,OAAO3vD,IAAhB,CAAuB,IAAvC,EACA,KAAKkvE,eAAL,CAAqBvf,OAAOviD,IAA5B,CAAkCwtB,GAAlC,EACAA,IAAIqwC,OAAJ,CAAY,IAAZ,CAAkB,IAAlB,EACArwC,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBE,OAAOzX,IAA/B,CAAqCtd,GAArC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY,IAAZ,CAAkB,GAAlB,EACH,CAXD,CAYA4C,kBAAkBpyE,SAAlB,CAA4B4zE,sBAA5B,CAAqD,SAAUjiB,IAAV,CAAgBxyB,GAAhB,CAAqB,CACtEA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,cAAhB,EACA,KAAKqiB,YAAL,CAAkBriB,KAAKe,iBAAL,CAAuBrI,MAAzC,CAAiDlrB,GAAjD,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,KAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAKe,iBAAL,CAAuBjW,IAA/C,CAAqDtd,GAArD,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACH,CARD,CASAygB,kBAAkBpyE,SAAlB,CAA4B8zE,iBAA5B,CAAgD,SAAUnlB,MAAV,CAAkBxvB,GAAlB,CAAuB,CACnE,GAAIwvB,OAAO1G,WAAP,CAAmBnpD,QAAQ2yD,YAAR,CAAqBsiB,OAAxC,CAAJ,CAAsD,CAClD50C,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,UAAhB,EACH,CACDvwC,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB/gB,OAAOpqD,IAAP,CAAc,GAA9B,EACA,KAAKyvE,YAAL,CAAkBrlB,OAAOtE,MAAzB,CAAiClrB,GAAjC,EACAA,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACA,KAAK+D,eAAL,CAAqB9kB,OAAOh9C,IAA5B,CAAkCwtB,GAAlC,CAAuC,MAAvC,EACAA,IAAIqwC,OAAJ,CAAY,IAAZ,CAAkB,IAAlB,EACArwC,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrF,OAAOlS,IAA/B,CAAqCtd,GAArC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY,IAAZ,CAAkB,GAAlB,EACH,CAbD,CAcA4C,kBAAkBpyE,SAAlB,CAA4BiwD,iBAA5B,CAAgD,SAAU15C,GAAV,CAAe4oB,GAAf,CAAoB,CAChE,GAAI5oB,IAAIhS,IAAR,CAAc,CACV46B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,WAAf,EACA4oB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAeA,IAAIhS,IAAnB,EACH,CACD46B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKy9D,YAAL,CAAkBz9D,IAAI8zC,MAAtB,CAA8BlrB,GAA9B,EACAA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,KAAKk9D,eAAL,CAAqBl9D,IAAI5E,IAAzB,CAA+BwtB,GAA/B,CAAoC,MAApC,EACA,GAAI,CAAC5oB,IAAIhS,IAAT,CAAe,CACX46B,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,MAAf,EACH,CACD4oB,IAAIqwC,OAAJ,CAAYj5D,GAAZ,CAAiB,GAAjB,EACA4oB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBz9C,IAAIy5C,UAA5B,CAAwC7wB,GAAxC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CAlBD,CAmBA67D,kBAAkBpyE,SAAlB,CAA4B8xD,wBAA5B,CAAuD,SAAUH,IAAV,CAAgBxyB,GAAhB,CAAqB,CACxE,GAAIwyB,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjDntC,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,SAAhB,EACH,CACDxyB,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,YAAcA,KAAKptD,IAAnB,CAA0B,GAA1C,EACA,KAAKyvE,YAAL,CAAkBriB,KAAKtH,MAAvB,CAA+BlrB,GAA/B,EACAA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,GAAhB,EACA,KAAK8hB,eAAL,CAAqB9hB,KAAKhgD,IAA1B,CAAgCwtB,GAAhC,CAAqC,MAArC,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,IAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAK3B,UAA7B,CAAyC7wB,GAAzC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CAdD,CAeAygB,kBAAkBpyE,SAAlB,CAA4ByzD,iBAA5B,CAAgD,SAAU9B,IAAV,CAAgBxyB,GAAhB,CAAqB,CACjEA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,OAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAK4B,SAA7B,CAAwCp0B,GAAxC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,YAAcid,kBAAkBrqE,IAAhC,CAAuC,KAAzD,EACA46B,IAAI6wC,SAAJ,GACA,GAAIxc,YAAa,CAACqb,kBAAkBjmE,GAAlB,CAAsBgmE,kBAAkBz7D,IAAlB,CAAuB,OAAvB,CAAgC,IAAhC,CAAtB,EAA6Di7C,UAA7D,CAAwE,IAAxE,CAA8E,CACxFtvD,QAAQ2yD,YAAR,CAAqB4a,KADmE,CAA9E,CAAD,EAET1qE,MAFS,CAEFgwD,KAAK6B,UAFH,CAAjB,CAGA,KAAKQ,kBAAL,CAAwBR,UAAxB,CAAoCr0B,GAApC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CAdD,CAeAygB,kBAAkBpyE,SAAlB,CAA4BsoD,gBAA5B,CAA+C,SAAU32C,IAAV,CAAgBwtB,GAAhB,CAAqB,CAChE,GAAI80C,QAAJ,CACA,OAAQtiE,KAAKpN,IAAb,EACI,IAAKzF,SAAQqpD,eAAR,CAAwBkB,IAA7B,CACI4qB,QAAU,SAAV,CACA,MACJ,IAAKn1E,SAAQqpD,eAAR,CAAwBc,OAA7B,CACIgrB,QAAU,KAAV,CACA,MACJ,IAAKn1E,SAAQqpD,eAAR,CAAwBv7C,QAA7B,CACIqnE,QAAU,UAAV,CACA,MACJ,IAAKn1E,SAAQqpD,eAAR,CAAwB34B,MAA7B,CACIykD,QAAU,QAAV,CACA,MACJ,IAAKn1E,SAAQqpD,eAAR,CAAwBoB,GAA7B,CACI0qB,QAAU,QAAV,CACA,MACJ,IAAKn1E,SAAQqpD,eAAR,CAAwB/2C,MAA7B,CACI6iE,QAAU,QAAV,CACA,MACJ,IAAKn1E,SAAQqpD,eAAR,CAAwB3gC,IAA7B,CACIysD,QAAU,OAAV,CACA,MACJ,QACI,KAAM,IAAIhyE,MAAJ,CAAU,4BAA8B0P,KAAKpN,IAA7C,CAAN,CAvBR,CAyBA46B,IAAIuwC,KAAJ,CAAU,IAAV,CAAgBuE,OAAhB,EACA,MAAO,KAAP,CACH,CA7BD,CA8BA7B,kBAAkBpyE,SAAlB,CAA4ByoD,mBAA5B,CAAkD,SAAUlyC,GAAV,CAAe4oB,GAAf,CAAoB,CAClE,GAAIt7B,OAAQ,IAAZ,CACA0S,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,EACA,GAAI5oB,IAAIiyC,UAAJ,GAAmB,IAAvB,CAA6B,CACzBrpB,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACA,KAAKmC,eAAL,CAAqB,SAAUlgE,IAAV,CAAgB,CAAE,MAAO9N,OAAMwkD,SAAN,CAAgB12C,IAAhB,CAAsBwtB,GAAtB,CAAP,CAAoC,CAA3E,CAA6E5oB,IAAIiyC,UAAjF,CAA6FrpB,GAA7F,CAAkG,GAAlG,EACAA,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACH,CACD,MAAO,KAAP,CACH,CATD,CAUA0C,kBAAkBpyE,SAAlB,CAA4B4oD,cAA5B,CAA6C,SAAUj3C,IAAV,CAAgBwtB,GAAhB,CAAqB,CAC9D,KAAKkpB,SAAL,CAAe12C,KAAKg3C,EAApB,CAAwBxpB,GAAxB,EACAA,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,IAAhB,EACA,MAAO,KAAP,CACH,CAJD,CAKA0C,kBAAkBpyE,SAAlB,CAA4B+oD,YAA5B,CAA2C,SAAUp3C,IAAV,CAAgBwtB,GAAhB,CAAqB,CAC5DA,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,iBAAhB,EACA,KAAKrnB,SAAL,CAAe12C,KAAKm3C,SAApB,CAA+B3pB,GAA/B,EACAA,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACA,MAAO,KAAP,CACH,CALD,CAMA0C,kBAAkBpyE,SAAlB,CAA4B0xE,oBAA5B,CAAmD,SAAU/iB,MAAV,CAAkB,CACjE,GAAIpqD,KAAJ,CACA,OAAQoqD,MAAR,EACI,IAAK7vD,SAAQ4vD,aAAR,CAAsBwlB,WAA3B,CACI3vE,KAAO,QAAP,CACA,MACJ,IAAKzF,SAAQ4vD,aAAR,CAAsBylB,mBAA3B,CACI5vE,KAAO,WAAP,CACA,MACJ,IAAKzF,SAAQ4vD,aAAR,CAAsB0lB,IAA3B,CACI7vE,KAAO,MAAP,CACA,MACJ,QACI,KAAM,IAAItC,MAAJ,CAAU,2BAA6B0sD,MAAvC,CAAN,CAXR,CAaA,MAAOpqD,KAAP,CACH,CAhBD,CAiBA6tE,kBAAkBpyE,SAAlB,CAA4Bg0E,YAA5B,CAA2C,SAAU3pB,MAAV,CAAkBlrB,GAAlB,CAAuB,CAC9D,GAAIt7B,OAAQ,IAAZ,CACA,KAAKguE,eAAL,CAAqB,SAAU/hB,KAAV,CAAiB,CAClC3wB,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB5f,MAAMvrD,IAAtB,EACAV,MAAM4vE,eAAN,CAAsB3jB,MAAMn+C,IAA5B,CAAkCwtB,GAAlC,EACH,CAHD,CAGGkrB,MAHH,CAGWlrB,GAHX,CAGgB,GAHhB,EAIH,CAND,CAOAizC,kBAAkBpyE,SAAlB,CAA4BwzE,gBAA5B,CAA+C,SAAUtyE,KAAV,CAAiBsnD,UAAjB,CAA6BrpB,GAA7B,CAAkC,CAC7E,GAAIt7B,OAAQ,IAAZ,CACA,GAAIU,MAAOrD,MAAMqD,IAAjB,CAAuBqgD,WAAa1jD,MAAM0jD,UAA1C,CACA,GAAI,KAAK6tB,eAAL,EAAwB,KAAKA,eAAL,CAAqBvxE,KAArB,CAA5B,CAAyD,CACrDi+B,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,eAAhB,EACA,OACH,CACD,GAAI9qB,aAAe,CAAC,KAAK8tB,YAAN,EAAsB,CAAC,KAAKA,YAAL,CAAkBxxE,KAAlB,CAAtC,CAAJ,CAAqE,CACjE,GAAIwB,QAAS,KAAKuwE,mBAAL,CAAyBtqE,GAAzB,CAA6Bi8C,UAA7B,CAAb,CACA,GAAIliD,QAAU,IAAd,CAAoB,CAChBA,OAAS,IAAM,KAAKuwE,mBAAL,CAAyBoB,IAAxC,CACA,KAAKpB,mBAAL,CAAyBrqE,GAAzB,CAA6Bg8C,UAA7B,CAAyCliD,MAAzC,EACH,CACDy8B,IAAIuwC,KAAJ,CAAU,IAAV,CAAgBhtE,OAAS,GAAzB,EACH,CACDy8B,IAAIuwC,KAAJ,CAAU,IAAV,CAAgBnrE,IAAhB,EACA,GAAI,KAAK+uE,cAAL,CAAsB,CAA1B,CAA6B,CACzB;AACA;AACA;AACA;AACA;AACA,GAAIgB,oBAAqB9rB,YAAc,EAAvC,CACA,GAAI8rB,mBAAmB7zE,MAAnB,CAA4B,CAAhC,CAAmC,CAC/B0+B,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACA,KAAKmC,eAAL,CAAqB,SAAUlgE,IAAV,CAAgB,CAAE,MAAOA,MAAK02C,SAAL,CAAexkD,KAAf,CAAsBs7B,GAAtB,CAAP,CAAoC,CAA3E,CAA6EqpB,UAA7E,CAAyFrpB,GAAzF,CAA8F,GAA9F,EACAA,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACH,CACJ,CACJ,CA7BD,CA8BA0C,kBAAkBpyE,SAAlB,CAA4ByzE,eAA5B,CAA8C,SAAU9hE,IAAV,CAAgBwtB,GAAhB,CAAqBo0C,WAArB,CAAkC,CAC5E,GAAI5hE,OAASu3C,aAAb,CAA4B,CACxB/pB,IAAIuwC,KAAJ,CAAU,IAAV,CAAgB,GAAhB,EACA,KAAKrnB,SAAL,CAAe12C,IAAf,CAAqBwtB,GAArB,CAA0Bo0C,WAA1B,EACH,CACJ,CALD,CAMA,MAAOnB,kBAAP,CACH,CAzVsC,CAyVrCd,sBAzVqC,CAAvC,CA2VA;;;;;;OAOA;;;;;;OAOA,GAAIiD,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsBhsD,UAAtB,CAAkC,CAC9B,KAAKA,UAAL,CAAkBA,UAAlB,CACH,CACDgsD,aAAav0E,SAAb,CAAuBs+D,MAAvB,CAAgC,SAAU3sD,IAAV,CAAgB,CAC5C,GAAI8W,cAAe,KAAKF,UAAL,CAAgBG,WAAhB,CAA4BhX,kBAAkBC,IAAlB,CAA5B,CAAnB,CACA,MAAO8W,eAAgBA,aAAaxY,IAAb,CAAkB1E,WAAW4B,QAA7B,CAAvB,CACH,CAHD,CAIA;;WAGAonE,aAAav0E,SAAb,CAAuByjB,OAAvB,CAAiC,SAAU9R,IAAV,CAAgBiX,eAAhB,CAAiC,CAC9D,GAAIA,kBAAoB,IAAK,EAA7B,CAAgC,CAAEA,gBAAkB,IAAlB,CAAyB,CAC3D,GAAI4rD,OAAQ,KAAKjsD,UAAL,CAAgBG,WAAhB,CAA4BhX,kBAAkBC,IAAlB,CAA5B,CAAZ,CACA,GAAI6iE,KAAJ,CAAW,CACP,GAAItX,YAAap0C,SAAS0rD,KAAT,CAAgBjpE,WAAW4B,QAA3B,CAAjB,CACA,GAAI+vD,UAAJ,CAAgB,CACZ,MAAOA,WAAP,CACH,CACJ,CACD,GAAIt0C,eAAJ,CAAqB,CACjB,KAAM,IAAI3mB,MAAJ,CAAU,8BAAgCqP,UAAUK,IAAV,CAA1C,CAAN,CACH,CACD,MAAO,KAAP,CACH,CAbD,CAcA,MAAO4iE,aAAP,CACH,CA1BiC,EAAlC,CA4BA;;;;;;OAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FACA,GAAIE,iBAAJ,CACA,QAASC,gBAAT,EAA2B,CACvB,GAAI,CAACD,gBAAL,CAAuB,CACnBA,iBAAmB,EAAnB,CACA;AACAE,gBAAgB9nE,gBAAgB+nE,IAAhC,CAAsC,CAClC,eADkC,CAElC,aAFkC,CAGlC,aAHkC,CAAtC,EAKAD,gBAAgB9nE,gBAAgBmY,KAAhC,CAAuC,CAAC,SAAD,CAAvC,EACA;AACA2vD,gBAAgB9nE,gBAAgBgoE,GAAhC,CAAqC,CACjC,cADiC,CACjB,WADiB,CACJ,WADI,CACS,WADT,CACsB,QADtB,CAEjC,QAFiC,CAEvB,iBAFuB,CAEJ,iBAFI,CAEe,UAFf,CAE2B,aAF3B,CAGjC,SAHiC,CAGtB,YAHsB,CAGR,WAHQ,CAGK,UAHL,CAGiB,QAHjB,CAIjC,YAJiC,CAInB,eAJmB,CAIF,WAJE,CAIW,cAJX,CAI2B,WAJ3B,CAArC,EAMAF,gBAAgB9nE,gBAAgBioE,YAAhC,CAA8C,CAC1C,aAD0C,CAE1C,iBAF0C,CAG1C,WAH0C,CAI1C,WAJ0C,CAK1C,WAL0C,CAM1C,cAN0C,CAO1C,eAP0C,CAQ1C,YAR0C,CAS1C,WAT0C,CAU1C,WAV0C,CAW1C,iBAX0C,CAY1C,aAZ0C,CAa1C,YAb0C,CAA9C,EAeH,CACD,MAAOL,iBAAP,CACH,CACD,QAASE,gBAAT,CAAyBx1C,GAAzB,CAA8B41C,KAA9B,CAAqC,CACjC,GAAI5e,IAAJ,CAASpzD,EAAT,CACA,GAAI,CACA,IAAK,GAAIiyE,SAAUp0E,SAASm0E,KAAT,CAAd,CAA+BE,UAAYD,QAAQ/zE,IAAR,EAAhD,CAAgE,CAACg0E,UAAU9zE,IAA3E,CAAiF8zE,UAAYD,QAAQ/zE,IAAR,EAA7F,CAA6G,CACzG,GAAIi0E,MAAOD,UAAU/zE,KAArB,CACAuzE,iBAAiBS,KAAK9wE,WAAL,EAAjB,EAAuC+6B,GAAvC,CACH,CACJ,CACD,MAAOm3B,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI2e,WAAa,CAACA,UAAU9zE,IAAxB,GAAiC4B,GAAKiyE,QAAQze,MAA9C,CAAJ,CAA2DxzD,GAAGrC,IAAH,CAAQs0E,OAAR,EAC9D,CAFD,OAGQ,CAAE,GAAI7e,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACJ,CAED;;;;;;OAOA,GAAI0zE,uBAAwB,aAAe,UAAY,CACnD,QAASA,sBAAT,EAAiC,CAChC,CACD,MAAOA,sBAAP,CACH,CAJ0C,EAA3C,CAMA;;;;;;OAOA,GAAIC,SAAU,SAAd,CACA,GAAIC,QAAS,QAAb,CACA,GAAIC,QAAS,QAAb,CACA,GAAIC,QAAS,QAAb,CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIC,QAAS,CACT,iOACI,8CACA,kKAHK,CAIT,q1BAJS,CAKT,ogCALS,CAMT,+NANS,CAOT,0uBAPS,CAQT,sBARS,CAST,0CATS,CAUT,sBAVS,CAWT,uCAXS,CAYT,sBAZS,CAaT,iCAbS,CAcT,wCAdS,CAeT,kLAfS,CAgBT,6JAhBS,CAiBT,cAjBS,CAkBT,wBAlBS,CAmBT,gCAnBS,CAoBT,gQApBS,CAqBT,wHArBS,CAsBT,qCAtBS,CAuBT,8BAvBS,CAwBT,2BAxBS,CAyBT,yBAzBS,CA0BT,6BA1BS,CA2BT,wCA3BS,CA4BT,4BA5BS,CA6BT,yBA7BS,CA8BT,sDA9BS,CA+BT,uCA/BS,CAgCT,oCAhCS,CAiCT,sGAjCS,CAkCT,gGAlCS,CAmCT,qOAnCS,CAoCT,kDApCS,CAqCT,qBArCS,CAsCT,uCAtCS,CAuCT,4BAvCS,CAwCT,0JAxCS,CAyCT,mJAzCS,CA0CT,ubA1CS,CA2CT,8BA3CS,CA4CT,6BA5CS,CA6CT,4BA7CS,CA8CT,uIA9CS,CA+CT,wBA/CS,CAgDT,2HAhDS,CAiDT,6BAjDS,CAkDT,kDAlDS,CAmDT,0DAnDS,CAoDT,qCApDS,CAqDT,iDArDS,CAsDT,sIAtDS,CAuDT,wCAvDS,CAwDT,4EAxDS,CAyDT,uDAzDS,CA0DT,uBA1DS,CA2DT,+CA3DS,CA4DT,wBA5DS,CA6DT,0BA7DS,CA8DT,oCA9DS,CA+DT,kCA/DS,CAgET,+FAhES,CAiET,uGAjES,CAkET,uBAlES,CAmET,yBAnES,CAoET,kDApES,CAqET,qBArES,CAsET,0CAtES,CAuET,6BAvES,CAwET,kHAxES,CAyET,8DAzES,CA0ET,mHA1ES,CA2ET,gDA3ES,CA4ET,uDA5ES,CA6ET,yBA7ES,CA8ET,oNA9ES,CA+ET,0BA/ES,CAgFT,qDAhFS,CAiFT,gCAjFS,CAkFT,wBAlFS,CAmFT,mCAnFS,CAoFT,uBApFS,CAqFT,8BArFS,CAsFT,oCAtFS,CAuFT,uCAvFS,CAwFT,4BAxFS,CAyFT,8BAzFS,CA0FT,0BA1FS,CA2FT,kBA3FS,CA4FT,qBA5FS,CA6FT,6BA7FS,CA8FT,qBA9FS,CA+FT,2BA/FS,CAgGT,iCAhGS,CAiGT,yBAjGS,CAkGT,8BAlGS,CAmGT,+BAnGS,CAoGT,+BApGS,CAqGT,4BArGS,CAsGT,0BAtGS,CAuGT,qBAvGS,CAwGT,8CAxGS,CAyGT,8CAzGS,CA0GT,8CA1GS,CA2GT,8CA3GS,CA4GT,4BA5GS,CA6GT,qBA7GS,CA8GT,qBA9GS,CA+GT,yBA/GS,CAgHT,0BAhHS,CAiHT,sBAjHS,CAkHT,0BAlHS,CAmHT,gCAnHS,CAoHT,yBApHS,CAqHT,oBArHS,CAsHT,0BAtHS,CAuHT,oBAvHS,CAwHT,mCAxHS,CAyHT,uBAzHS,CA0HT,2BA1HS,CA2HT,0BA3HS,CA4HT,oCA5HS,CA6HT,mBA7HS,CA8HT,oBA9HS,CA+HT,kBA/HS,CAgIT,sBAhIS,CAiIT,0BAjIS,CAkIT,qBAlIS,CAmIT,6BAnIS,CAoIT,8BApIS,CAqIT,oCArIS,CAsIT,0BAtIS,CAuIT,kDAvIS,CAwIT,wBAxIS,CAyIT,0BAzIS,CA0IT,kBA1IS,CA2IT,6CA3IS,CA4IT,4BA5IS,CA6IT,oBA7IS,CA8IT,kCA9IS,CA+IT,iCA/IS,CAgJT,iCAhJS,CAiJT,mBAjJS,CAkJT,yBAlJS,CAmJT,6BAnJS,CAoJT,0BApJS,CAqJT,uEArJS,CAsJT,+EAtJS,CAuJT,wBAvJS,CAwJT,6BAxJS,CAyJT,oBAzJS,CAAb,CA2JA,GAAIC,eAAgB,CAChB,QAAS,WADO,CAEhB,MAAO,SAFS,CAGhB,aAAc,YAHE,CAIhB,YAAa,WAJG,CAKhB,WAAY,UALI,CAMhB,WAAY,UANI,CAApB,CAQA,GAAIC,0BAA2B,aAAe,SAAUj/D,MAAV,CAAkB,CAC5D5W,UAAU61E,wBAAV,CAAoCj/D,MAApC,EACA,QAASi/D,yBAAT,EAAoC,CAChC,GAAI7xE,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAM8xE,OAAN,CAAgB,EAAhB,CACAH,OAAOzxE,OAAP,CAAe,SAAU6xE,WAAV,CAAuB,CAClC,GAAIjkE,MAAO,EAAX,CACA,GAAI5O,IAAK3B,OAAOw0E,YAAY7jE,KAAZ,CAAkB,GAAlB,CAAP,CAA+B,CAA/B,CAAT,CAA4C8jE,QAAU9yE,GAAG,CAAH,CAAtD,CAA6D+yE,cAAgB/yE,GAAG,CAAH,CAA7E,CACA,GAAIgzE,YAAaD,cAAc/jE,KAAd,CAAoB,GAApB,CAAjB,CACA,GAAI/O,IAAK5B,OAAOy0E,QAAQ9jE,KAAR,CAAc,GAAd,CAAP,CAA2B,CAA3B,CAAT,CAAwCikE,UAAYhzE,GAAG,CAAH,CAApD,CAA2DizE,UAAYjzE,GAAG,CAAH,CAAvE,CACAgzE,UAAUjkE,KAAV,CAAgB,GAAhB,EAAqBhO,OAArB,CAA6B,SAAUmsC,GAAV,CAAe,CAAE,MAAOrsC,OAAM8xE,OAAN,CAAczlC,IAAI9rC,WAAJ,EAAd,EAAmCuN,IAA1C,CAAiD,CAA/F,EACA,GAAIukE,WAAYD,WAAapyE,MAAM8xE,OAAN,CAAcM,UAAU7xE,WAAV,EAAd,CAA7B,CACA,GAAI8xE,SAAJ,CAAe,CACX32E,OAAOiQ,IAAP,CAAY0mE,SAAZ,EAAuBnyE,OAAvB,CAA+B,SAAUoP,IAAV,CAAgB,CAAExB,KAAKwB,IAAL,EAAa+iE,UAAU/iE,IAAV,CAAb,CAA+B,CAAhF,EACH,CACD4iE,WAAWhyE,OAAX,CAAmB,SAAUoyE,QAAV,CAAoB,CACnC,GAAIA,SAAS11E,MAAT,CAAkB,CAAtB,CAAyB,CACrB,OAAQ01E,SAAS,CAAT,CAAR,EACI,IAAK,GAAL,CACI;AACA;AACA;AACA;AACA;AACA,MACJ,IAAK,GAAL,CACIxkE,KAAKwkE,SAAS1kE,SAAT,CAAmB,CAAnB,CAAL,EAA8B2jE,OAA9B,CACA,MACJ,IAAK,GAAL,CACIzjE,KAAKwkE,SAAS1kE,SAAT,CAAmB,CAAnB,CAAL,EAA8B4jE,MAA9B,CACA,MACJ,IAAK,GAAL,CACI1jE,KAAKwkE,SAAS1kE,SAAT,CAAmB,CAAnB,CAAL,EAA8B8jE,MAA9B,CACA,MACJ,QACI5jE,KAAKwkE,QAAL,EAAiBb,MAAjB,CAlBR,CAoBH,CACJ,CAvBD,EAwBH,CAlCD,EAmCA,MAAOzxE,MAAP,CACH,CACD6xE,yBAAyB11E,SAAzB,CAAmCo2E,WAAnC,CAAiD,SAAUh0E,OAAV,CAAmBgnB,QAAnB,CAA6BitD,WAA7B,CAA0C,CACvF,GAAIA,YAAYpmE,IAAZ,CAAiB,SAAUqmE,MAAV,CAAkB,CAAE,MAAOA,QAAO/xE,IAAP,GAAgB+H,iBAAiB/H,IAAxC,CAA+C,CAApF,CAAJ,CAA2F,CACvF,MAAO,KAAP,CACH,CACD,GAAInC,QAAQJ,OAAR,CAAgB,GAAhB,EAAuB,CAAC,CAA5B,CAA+B,CAC3B,GAAIG,cAAcC,OAAd,GAA0BC,YAAYD,OAAZ,CAA9B,CAAoD,CAChD,MAAO,MAAP,CACH,CACD,GAAIi0E,YAAYpmE,IAAZ,CAAiB,SAAUqmE,MAAV,CAAkB,CAAE,MAAOA,QAAO/xE,IAAP,GAAgB8H,uBAAuB9H,IAA9C,CAAqD,CAA1F,CAAJ,CAAiG,CAC7F;AACA;AACA,MAAO,KAAP,CACH,CACJ,CACD,GAAIgyE,mBAAoB,KAAKZ,OAAL,CAAavzE,QAAQgC,WAAR,EAAb,GAAuC,KAAKuxE,OAAL,CAAa,SAAb,CAA/D,CACA,MAAO,CAAC,CAACY,kBAAkBntD,QAAlB,CAAT,CACH,CAhBD,CAiBAssD,yBAAyB11E,SAAzB,CAAmCw2E,UAAnC,CAAgD,SAAUp0E,OAAV,CAAmBi0E,WAAnB,CAAgC,CAC5E,GAAIA,YAAYpmE,IAAZ,CAAiB,SAAUqmE,MAAV,CAAkB,CAAE,MAAOA,QAAO/xE,IAAP,GAAgB+H,iBAAiB/H,IAAxC,CAA+C,CAApF,CAAJ,CAA2F,CACvF,MAAO,KAAP,CACH,CACD,GAAInC,QAAQJ,OAAR,CAAgB,GAAhB,EAAuB,CAAC,CAA5B,CAA+B,CAC3B,GAAIG,cAAcC,OAAd,GAA0BC,YAAYD,OAAZ,CAA9B,CAAoD,CAChD,MAAO,KAAP,CACH,CACD,GAAIi0E,YAAYpmE,IAAZ,CAAiB,SAAUqmE,MAAV,CAAkB,CAAE,MAAOA,QAAO/xE,IAAP,GAAgB8H,uBAAuB9H,IAA9C,CAAqD,CAA1F,CAAJ,CAAiG,CAC7F;AACA,MAAO,KAAP,CACH,CACJ,CACD,MAAO,CAAC,CAAC,KAAKoxE,OAAL,CAAavzE,QAAQgC,WAAR,EAAb,CAAT,CACH,CAdD,CAeA;;;;;;;;;WAUAsxE,yBAAyB11E,SAAzB,CAAmC+S,eAAnC,CAAqD,SAAU3Q,OAAV,CAAmBgnB,QAAnB,CAA6Bm5C,WAA7B,CAA0C,CAC3F,GAAIA,WAAJ,CAAiB,CACb;AACAn5C,SAAW,KAAKqtD,iBAAL,CAAuBrtD,QAAvB,CAAX,CACH,CACD;AACA;AACAhnB,QAAUA,QAAQgC,WAAR,EAAV,CACAglB,SAAWA,SAAShlB,WAAT,EAAX,CACA,GAAI+6B,KAAMu1C,kBAAkBtyE,QAAU,GAAV,CAAgBgnB,QAAlC,CAAV,CACA,GAAI+V,GAAJ,CAAS,CACL,MAAOA,IAAP,CACH,CACDA,IAAMu1C,kBAAkB,KAAOtrD,QAAzB,CAAN,CACA,MAAO+V,KAAMA,GAAN,CAAYtyB,gBAAgB6pE,IAAnC,CACH,CAfD,CAgBAhB,yBAAyB11E,SAAzB,CAAmCy2E,iBAAnC,CAAuD,SAAUrtD,QAAV,CAAoB,CAAE,MAAOqsD,eAAcrsD,QAAd,GAA2BA,QAAlC,CAA6C,CAA1H,CACAssD,yBAAyB11E,SAAzB,CAAmCg+D,8BAAnC,CAAoE,UAAY,CAAE,MAAO,cAAP,CAAwB,CAA1G,CACA0X,yBAAyB11E,SAAzB,CAAmC22E,gBAAnC,CAAsD,SAAUpyE,IAAV,CAAgB,CAClE,GAAIA,KAAKH,WAAL,GAAmBuzC,UAAnB,CAA8B,IAA9B,CAAJ,CAAyC,CACrC,GAAIxnC,KAAM,8BAAgC5L,IAAhC,CAAuC,wCAAvC,EACL,eAAiBA,KAAKrC,KAAL,CAAW,CAAX,CAAjB,CAAiC,OAD5B,GAEL,SAAWqC,IAAX,CAAkB,oEAFb,EAGN,kBAHJ,CAIA,MAAO,CAAE9C,MAAO,IAAT,CAAe0O,IAAKA,GAApB,CAAP,CACH,CAND,IAOK,CACD,MAAO,CAAE1O,MAAO,KAAT,CAAP,CACH,CACJ,CAXD,CAYAi0E,yBAAyB11E,SAAzB,CAAmC42E,iBAAnC,CAAuD,SAAUryE,IAAV,CAAgB,CACnE,GAAIA,KAAKH,WAAL,GAAmBuzC,UAAnB,CAA8B,IAA9B,CAAJ,CAAyC,CACrC,GAAIxnC,KAAM,+BAAiC5L,IAAjC,CAAwC,wCAAxC,EACL,eAAiBA,KAAKrC,KAAL,CAAW,CAAX,CAAjB,CAAiC,OAD5B,CAAV,CAEA,MAAO,CAAET,MAAO,IAAT,CAAe0O,IAAKA,GAApB,CAAP,CACH,CAJD,IAKK,CACD,MAAO,CAAE1O,MAAO,KAAT,CAAP,CACH,CACJ,CATD,CAUAi0E,yBAAyB11E,SAAzB,CAAmC62E,oBAAnC,CAA0D,UAAY,CAAE,MAAOt3E,QAAOiQ,IAAP,CAAY,KAAKmmE,OAAjB,CAAP,CAAmC,CAA3G,CACAD,yBAAyB11E,SAAzB,CAAmC82E,+BAAnC,CAAqE,SAAU1tD,QAAV,CAAoB,CACrF,MAAOrb,qBAAoBqb,QAApB,CAAP,CACH,CAFD,CAGAssD,yBAAyB11E,SAAzB,CAAmC+2E,4BAAnC,CAAkE,SAAUC,aAAV,CAAyBC,gBAAzB,CAA2C7nE,GAA3C,CAAgD,CAC9G,GAAI4D,MAAO,EAAX,CACA,GAAIkkE,QAAS9nE,IAAIxI,QAAJ,GAAe6H,IAAf,EAAb,CACA,GAAIixB,UAAW,IAAf,CACA,GAAIy3C,uBAAuBH,aAAvB,GAAyC5nE,MAAQ,CAAjD,EAAsDA,MAAQ,GAAlE,CAAuE,CACnE,GAAI,MAAOA,IAAP,GAAe,QAAnB,CAA6B,CACzB4D,KAAO,IAAP,CACH,CAFD,IAGK,CACD,GAAIokE,mBAAoBhoE,IAAIzJ,KAAJ,CAAU,wBAAV,CAAxB,CACA,GAAIyxE,mBAAqBA,kBAAkB,CAAlB,EAAqB32E,MAArB,EAA+B,CAAxD,CAA2D,CACvDi/B,SAAW,uCAAyCu3C,gBAAzC,CAA4D,GAA5D,CAAkE7nE,GAA7E,CACH,CACJ,CACJ,CACD,MAAO,CAAE3N,MAAOi+B,QAAT,CAAmBx+B,MAAOg2E,OAASlkE,IAAnC,CAAP,CACH,CAhBD,CAiBA,MAAO0iE,yBAAP,CACH,CAlJ6C,CAkJ5CP,qBAlJ4C,CAA9C,CAmJA,QAASgC,uBAAT,CAAgChkE,IAAhC,CAAsC,CAClC,OAAQA,IAAR,EACI,IAAK,OAAL,CACA,IAAK,QAAL,CACA,IAAK,UAAL,CACA,IAAK,WAAL,CACA,IAAK,UAAL,CACA,IAAK,WAAL,CACA,IAAK,MAAL,CACA,IAAK,KAAL,CACA,IAAK,QAAL,CACA,IAAK,OAAL,CACA,IAAK,UAAL,CACA,IAAK,cAAL,CACA,IAAK,eAAL,CACA,IAAK,YAAL,CACA,IAAK,aAAL,CACA,IAAK,eAAL,CACA,IAAK,cAAL,CACA,IAAK,WAAL,CACA,IAAK,YAAL,CACA,IAAK,cAAL,CACA,IAAK,aAAL,CACA,IAAK,cAAL,CACA,IAAK,aAAL,CACA,IAAK,gBAAL,CACA,IAAK,iBAAL,CACA,IAAK,kBAAL,CACA,IAAK,mBAAL,CACA,IAAK,YAAL,CACI,MAAO,KAAP,CACJ,QACI,MAAO,MAAP,CA/BR,CAiCH,CAED;;;;;;OAOA;;;;;;;;;OAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAkHA,GAAIkkE,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,EAAqB,CACjB,KAAKC,aAAL,CAAqB,IAArB,CACH,CACD;;;;;;;UAQAD,UAAUr3E,SAAV,CAAoBu3E,WAApB,CAAkC,SAAUn0D,OAAV,CAAmB/d,QAAnB,CAA6BmyE,YAA7B,CAA2C,CACzE,GAAIA,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,EAAf,CAAoB,CACnD,GAAIC,kBAAmBC,wBAAwBt0D,OAAxB,CAAvB,CACAA,QAAUu0D,cAAcv0D,OAAd,CAAV,CACAA,QAAU,KAAKw0D,iBAAL,CAAuBx0D,OAAvB,CAAV,CACA,GAAIy0D,eAAgB,KAAKC,aAAL,CAAmB10D,OAAnB,CAA4B/d,QAA5B,CAAsCmyE,YAAtC,CAApB,CACA,MAAO91E,UAAS,CAACm2E,aAAD,CAAT,CAA0BJ,gBAA1B,EAA4ClxE,IAA5C,CAAiD,IAAjD,CAAP,CACH,CAPD,CAQA8wE,UAAUr3E,SAAV,CAAoB43E,iBAApB,CAAwC,SAAUx0D,OAAV,CAAmB,CACvDA,QAAU,KAAK20D,kCAAL,CAAwC30D,OAAxC,CAAV,CACA,MAAO,MAAK40D,6BAAL,CAAmC50D,OAAnC,CAAP,CACH,CAHD,CAIA;;;;;;;;;;;;;WAcAi0D,UAAUr3E,SAAV,CAAoB+3E,kCAApB,CAAyD,SAAU30D,OAAV,CAAmB,CACxE;AACA,MAAOA,SAAQnV,OAAR,CAAgBgqE,yBAAhB,CAA2C,UAAY,CAC1D,GAAIn3E,GAAI,EAAR,CACA,IAAK,GAAIkM,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ClM,EAAEkM,EAAF,EAAQxM,UAAUwM,EAAV,CAAR,CACH,CACD,MAAOlM,GAAE,CAAF,EAAO,GAAd,CACH,CANM,CAAP,CAOH,CATD,CAUA;;;;;;;;;;;;;;WAeAu2E,UAAUr3E,SAAV,CAAoBg4E,6BAApB,CAAoD,SAAU50D,OAAV,CAAmB,CACnE;AACA,MAAOA,SAAQnV,OAAR,CAAgBiqE,iBAAhB,CAAmC,UAAY,CAClD,GAAIp3E,GAAI,EAAR,CACA,IAAK,GAAIkM,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ClM,EAAEkM,EAAF,EAAQxM,UAAUwM,EAAV,CAAR,CACH,CACD,GAAImrE,MAAOr3E,EAAE,CAAF,EAAKmN,OAAL,CAAanN,EAAE,CAAF,CAAb,CAAmB,EAAnB,EAAuBmN,OAAvB,CAA+BnN,EAAE,CAAF,CAA/B,CAAqC,EAArC,CAAX,CACA,MAAOA,GAAE,CAAF,EAAOq3E,IAAd,CACH,CAPM,CAAP,CAQH,CAVD,CAWA;;;;;;;UAQAd,UAAUr3E,SAAV,CAAoB83E,aAApB,CAAoC,SAAU10D,OAAV,CAAmBg1D,aAAnB,CAAkCZ,YAAlC,CAAgD,CAChF,GAAIa,eAAgB,KAAKC,gCAAL,CAAsCl1D,OAAtC,CAApB,CACA;AACAA,QAAU,KAAKm1D,4BAAL,CAAkCn1D,OAAlC,CAAV,CACAA,QAAU,KAAKo1D,iBAAL,CAAuBp1D,OAAvB,CAAV,CACAA,QAAU,KAAKq1D,wBAAL,CAA8Br1D,OAA9B,CAAV,CACAA,QAAU,KAAKs1D,0BAAL,CAAgCt1D,OAAhC,CAAV,CACA,GAAIg1D,aAAJ,CAAmB,CACfh1D,QAAU,KAAKu1D,eAAL,CAAqBv1D,OAArB,CAA8Bg1D,aAA9B,CAA6CZ,YAA7C,CAAV,CACH,CACDp0D,QAAUA,QAAU,IAAV,CAAiBi1D,aAA3B,CACA,MAAOj1D,SAAQ3U,IAAR,EAAP,CACH,CAZD,CAaA;;;;;;;;;;;;;;WAeA4oE,UAAUr3E,SAAV,CAAoBs4E,gCAApB,CAAuD,SAAUl1D,OAAV,CAAmB,CACtE;AACA,GAAI/hB,GAAI,EAAR,CACA,GAAIP,EAAJ,CACA83E,0BAA0B9yE,SAA1B,CAAsC,CAAtC,CACA,MAAO,CAAChF,EAAI83E,0BAA0B7yE,IAA1B,CAA+Bqd,OAA/B,CAAL,IAAkD,IAAzD,CAA+D,CAC3D,GAAI+0D,MAAOr3E,EAAE,CAAF,EAAKmN,OAAL,CAAanN,EAAE,CAAF,CAAb,CAAmB,EAAnB,EAAuBmN,OAAvB,CAA+BnN,EAAE,CAAF,CAA/B,CAAqCA,EAAE,CAAF,CAArC,CAAX,CACAO,GAAK82E,KAAO,MAAZ,CACH,CACD,MAAO92E,EAAP,CACH,CAVD,CAWA;;;;;;UAOAg2E,UAAUr3E,SAAV,CAAoBw4E,iBAApB,CAAwC,SAAUp1D,OAAV,CAAmB,CACvD,MAAO,MAAKy1D,iBAAL,CAAuBz1D,OAAvB,CAAgC01D,eAAhC,CAAiD,KAAKC,sBAAtD,CAAP,CACH,CAFD,CAGA;;;;;;;;;;;;;;UAeA1B,UAAUr3E,SAAV,CAAoBy4E,wBAApB,CAA+C,SAAUr1D,OAAV,CAAmB,CAC9D,MAAO,MAAKy1D,iBAAL,CAAuBz1D,OAAvB,CAAgC41D,sBAAhC,CAAwD,KAAKC,6BAA7D,CAAP,CACH,CAFD,CAGA5B,UAAUr3E,SAAV,CAAoB64E,iBAApB,CAAwC,SAAUz1D,OAAV,CAAmB81D,MAAnB,CAA2BC,YAA3B,CAAyC,CAC7E;AACA,MAAO/1D,SAAQnV,OAAR,CAAgBirE,MAAhB,CAAwB,UAAY,CACvC,GAAIp4E,GAAI,EAAR,CACA,IAAK,GAAIkM,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ClM,EAAEkM,EAAF,EAAQxM,UAAUwM,EAAV,CAAR,CACH,CACD,GAAIlM,EAAE,CAAF,CAAJ,CAAU,CACN,GAAIya,OAAQza,EAAE,CAAF,EAAKiR,KAAL,CAAW,GAAX,CAAZ,CACA,GAAI1Q,GAAI,EAAR,CACA,IAAK,GAAIf,GAAI,CAAb,CAAgBA,EAAIib,MAAM9a,MAA1B,CAAkCH,GAAlC,CAAuC,CACnC,GAAIX,GAAI4b,MAAMjb,CAAN,EAASmO,IAAT,EAAR,CACA,GAAI,CAAC9O,CAAL,CACI,MACJ0B,EAAEG,IAAF,CAAO23E,aAAaC,yBAAb,CAAwCz5E,CAAxC,CAA2CmB,EAAE,CAAF,CAA3C,CAAP,EACH,CACD,MAAOO,GAAEkF,IAAF,CAAO,GAAP,CAAP,CACH,CAVD,IAWK,CACD,MAAO6yE,2BAA4Bt4E,EAAE,CAAF,CAAnC,CACH,CACJ,CAnBM,CAAP,CAoBH,CAtBD,CAuBAu2E,UAAUr3E,SAAV,CAAoBi5E,6BAApB,CAAoD,SAAU99D,IAAV,CAAgBwe,IAAhB,CAAsB0/C,MAAtB,CAA8B,CAC9E,GAAI1/C,KAAK33B,OAAL,CAAas3E,aAAb,EAA8B,CAAC,CAAnC,CAAsC,CAClC,MAAO,MAAKP,sBAAL,CAA4B59D,IAA5B,CAAkCwe,IAAlC,CAAwC0/C,MAAxC,CAAP,CACH,CAFD,IAGK,CACD,MAAOl+D,MAAOwe,IAAP,CAAc0/C,MAAd,CAAuB,IAAvB,CAA8B1/C,IAA9B,CAAqC,GAArC,CAA2Cxe,IAA3C,CAAkDk+D,MAAzD,CACH,CACJ,CAPD,CAQAhC,UAAUr3E,SAAV,CAAoB+4E,sBAApB,CAA6C,SAAU59D,IAAV,CAAgBwe,IAAhB,CAAsB0/C,MAAtB,CAA8B,CACvE,MAAOl+D,MAAOwe,KAAK1rB,OAAL,CAAaqrE,aAAb,CAA4B,EAA5B,CAAP,CAAyCD,MAAhD,CACH,CAFD,CAGA;;;UAIAhC,UAAUr3E,SAAV,CAAoB04E,0BAApB,CAAiD,SAAUt1D,OAAV,CAAmB,CAChE,MAAOm2D,uBAAsB96D,MAAtB,CAA6B,SAAU9X,MAAV,CAAkByxB,OAAlB,CAA2B,CAAE,MAAOzxB,QAAOsH,OAAP,CAAemqB,OAAf,CAAwB,GAAxB,CAAP,CAAsC,CAAhG,CAAkGhV,OAAlG,CAAP,CACH,CAFD,CAGA;AACAi0D,UAAUr3E,SAAV,CAAoB24E,eAApB,CAAsC,SAAUv1D,OAAV,CAAmBg1D,aAAnB,CAAkCZ,YAAlC,CAAgD,CAClF,GAAI3zE,OAAQ,IAAZ,CACA,MAAO21E,cAAap2D,OAAb,CAAsB,SAAU+0D,IAAV,CAAgB,CACzC,GAAI9yE,UAAW8yE,KAAK9yE,QAApB,CACA,GAAIu4B,SAAUu6C,KAAKv6C,OAAnB,CACA,GAAIu6C,KAAK9yE,QAAL,CAAc,CAAd,GAAoB,GAAxB,CAA6B,CACzBA,SACIxB,MAAM41E,cAAN,CAAqBtB,KAAK9yE,QAA1B,CAAoC+yE,aAApC,CAAmDZ,YAAnD,CAAiE3zE,MAAMyzE,aAAvE,CADJ,CAEH,CAHD,IAIK,IAAIa,KAAK9yE,QAAL,CAAcsyC,UAAd,CAAyB,QAAzB,GAAsCwgC,KAAK9yE,QAAL,CAAcsyC,UAAd,CAAyB,WAAzB,CAAtC,EACLwgC,KAAK9yE,QAAL,CAAcsyC,UAAd,CAAyB,OAAzB,CADK,EACgCwgC,KAAK9yE,QAAL,CAAcsyC,UAAd,CAAyB,WAAzB,CADpC,CAC2E,CAC5E/Z,QAAU/5B,MAAM80E,eAAN,CAAsBR,KAAKv6C,OAA3B,CAAoCw6C,aAApC,CAAmDZ,YAAnD,CAAV,CACH,CACD,MAAO,IAAIkC,QAAJ,CAAYr0E,QAAZ,CAAsBu4B,OAAtB,CAAP,CACH,CAZM,CAAP,CAaH,CAfD,CAgBAy5C,UAAUr3E,SAAV,CAAoBy5E,cAApB,CAAqC,SAAUp0E,QAAV,CAAoB+yE,aAApB,CAAmCZ,YAAnC,CAAiDmC,MAAjD,CAAyD,CAC1F,GAAI91E,OAAQ,IAAZ,CACA,MAAOwB,UAAS0M,KAAT,CAAe,GAAf,EACFhJ,GADE,CACE,SAAU4wB,IAAV,CAAgB,CAAE,MAAOA,MAAKlrB,IAAL,GAAYsD,KAAZ,CAAkB6nE,oBAAlB,CAAP,CAAiD,CADrE,EAEF7wE,GAFE,CAEE,SAAU8wE,SAAV,CAAqB,CAC1B,GAAI92E,IAAK3B,OAAOy4E,SAAP,CAAT,CAA4BC,YAAc/2E,GAAG,CAAH,CAA1C,CAAiDg3E,WAAah3E,GAAGb,KAAH,CAAS,CAAT,CAA9D,CACA,GAAI83E,YAAa,SAAUF,WAAV,CAAuB,CACpC,GAAIj2E,MAAMo2E,qBAAN,CAA4BH,WAA5B,CAAyC1B,aAAzC,CAAJ,CAA6D,CACzD,MAAOuB,QACH91E,MAAMq2E,yBAAN,CAAgCJ,WAAhC,CAA6C1B,aAA7C,CAA4DZ,YAA5D,CADG,CAEH3zE,MAAMs2E,mBAAN,CAA0BL,WAA1B,CAAuC1B,aAAvC,CAAsDZ,YAAtD,CAFJ,CAGH,CAJD,IAKK,CACD,MAAOsC,YAAP,CACH,CACJ,CATD,CAUA,MAAOp4E,UAAS,CAACs4E,WAAWF,WAAX,CAAD,CAAT,CAAoCC,UAApC,EAAgDxzE,IAAhD,CAAqD,GAArD,CAAP,CACH,CAfM,EAgBFA,IAhBE,CAgBG,IAhBH,CAAP,CAiBH,CAnBD,CAoBA8wE,UAAUr3E,SAAV,CAAoBi6E,qBAApB,CAA4C,SAAU50E,QAAV,CAAoB+yE,aAApB,CAAmC,CAC3E,GAAIgC,IAAK,KAAKC,iBAAL,CAAuBjC,aAAvB,CAAT,CACA,MAAO,CAACgC,GAAG73D,IAAH,CAAQld,QAAR,CAAR,CACH,CAHD,CAIAgyE,UAAUr3E,SAAV,CAAoBq6E,iBAApB,CAAwC,SAAUjC,aAAV,CAAyB,CAC7D,GAAIkC,KAAM,KAAV,CACA,GAAIC,KAAM,KAAV,CACAnC,cAAgBA,cAAcnqE,OAAd,CAAsBqsE,GAAtB,CAA2B,KAA3B,EAAkCrsE,OAAlC,CAA0CssE,GAA1C,CAA+C,KAA/C,CAAhB,CACA,MAAO,IAAIz1E,OAAJ,CAAW,KAAOszE,aAAP,CAAuB,GAAvB,CAA6BoC,iBAAxC,CAA2D,GAA3D,CAAP,CACH,CALD,CAMAnD,UAAUr3E,SAAV,CAAoBm6E,mBAApB,CAA0C,SAAU90E,QAAV,CAAoB+yE,aAApB,CAAmCZ,YAAnC,CAAiD,CACvF;AACA,MAAO,MAAKiD,yBAAL,CAA+Bp1E,QAA/B,CAAyC+yE,aAAzC,CAAwDZ,YAAxD,CAAP,CACH,CAHD,CAIA;AACAH,UAAUr3E,SAAV,CAAoBy6E,yBAApB,CAAgD,SAAUp1E,QAAV,CAAoB+yE,aAApB,CAAmCZ,YAAnC,CAAiD,CAC7F;AACAkD,gBAAgB50E,SAAhB,CAA4B,CAA5B,CACA,GAAI40E,gBAAgBn4D,IAAhB,CAAqBld,QAArB,CAAJ,CAAoC,CAChC,GAAIs1E,aAAc,KAAKrD,aAAL,CAAqB,IAAME,YAAN,CAAqB,GAA1C,CAAgDY,aAAlE,CACA,MAAO/yE,UACF4I,OADE,CACM2sE,2BADN,CACmC,SAAUC,GAAV,CAAex1E,QAAf,CAAyB,CAC/D,MAAOA,UAAS4I,OAAT,CAAiB,iBAAjB,CAAoC,SAAU4Z,CAAV,CAAa4W,MAAb,CAAqBq8C,KAArB,CAA4Bp8C,KAA5B,CAAmC,CAC1E,MAAOD,QAASk8C,WAAT,CAAuBG,KAAvB,CAA+Bp8C,KAAtC,CACH,CAFM,CAAP,CAGH,CALM,EAMFzwB,OANE,CAMMysE,eANN,CAMuBC,YAAc,GANrC,CAAP,CAOH,CACD,MAAOvC,eAAgB,GAAhB,CAAsB/yE,QAA7B,CACH,CAdD,CAeA;AACA;AACAgyE,UAAUr3E,SAAV,CAAoBk6E,yBAApB,CAAgD,SAAU70E,QAAV,CAAoB+yE,aAApB,CAAmCZ,YAAnC,CAAiD,CAC7F,GAAI3zE,OAAQ,IAAZ,CACA,GAAIk3E,MAAO,kBAAX,CACA3C,cAAgBA,cAAcnqE,OAAd,CAAsB8sE,IAAtB,CAA4B,SAAUlzD,CAAV,CAAa,CACrD,GAAItM,OAAQ,EAAZ,CACA,IAAK,GAAIvO,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1CuO,MAAMvO,GAAK,CAAX,EAAgBxM,UAAUwM,EAAV,CAAhB,CACH,CACD,MAAOuO,OAAM,CAAN,CAAP,CACH,CANe,CAAhB,CAOA,GAAI/U,UAAW,IAAM4xE,aAAN,CAAsB,GAArC,CACA,GAAI4C,oBAAqB,SAAUr7E,CAAV,CAAa,CAClC,GAAIs7E,SAAUt7E,EAAE8O,IAAF,EAAd,CACA,GAAI,CAACwsE,OAAL,CAAc,CACV,MAAO,EAAP,CACH,CACD,GAAIt7E,EAAEqC,OAAF,CAAUo3E,yBAAV,EAAuC,CAAC,CAA5C,CAA+C,CAC3C6B,QAAUp3E,MAAM42E,yBAAN,CAAgC96E,CAAhC,CAAmCy4E,aAAnC,CAAkDZ,YAAlD,CAAV,CACH,CAFD,IAGK,CACD;AACA,GAAIp3E,GAAIT,EAAEsO,OAAF,CAAUysE,eAAV,CAA2B,EAA3B,CAAR,CACA,GAAIt6E,EAAEK,MAAF,CAAW,CAAf,CAAkB,CACd,GAAI2a,SAAUhb,EAAEuF,KAAF,CAAQ,iBAAR,CAAd,CACA,GAAIyV,OAAJ,CAAa,CACT6/D,QAAU7/D,QAAQ,CAAR,EAAa5U,QAAb,CAAwB4U,QAAQ,CAAR,CAAxB,CAAqCA,QAAQ,CAAR,CAA/C,CACH,CACJ,CACJ,CACD,MAAO6/D,QAAP,CACH,CAnBD,CAoBA,GAAIC,aAAc,GAAIC,aAAJ,CAAiB91E,QAAjB,CAAlB,CACAA,SAAW61E,YAAYt9C,OAAZ,EAAX,CACA,GAAIw9C,gBAAiB,EAArB,CACA,GAAIljC,YAAa,CAAjB,CACA,GAAI1yC,IAAJ,CACA,GAAI61E,KAAM,qBAAV,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIC,SAAUj2E,SAASrD,OAAT,CAAiBo3E,yBAAjB,EAA8C,CAAC,CAA7D,CACA;AACA,GAAImC,aAAc,CAACD,OAAnB,CACA,MAAO,CAAC91E,IAAM61E,IAAIt1E,IAAJ,CAASV,QAAT,CAAP,IAA+B,IAAtC,CAA4C,CACxC,GAAIysE,WAAYtsE,IAAI,CAAJ,CAAhB,CACA,GAAIg2E,QAASn2E,SAASnD,KAAT,CAAeg2C,UAAf,CAA2B1yC,IAAIwL,KAA/B,EAAsCvC,IAAtC,EAAb,CACA8sE,YAAcA,aAAeC,OAAOx5E,OAAP,CAAeo3E,yBAAf,EAA4C,CAAC,CAA1E,CACA,GAAIqC,YAAaF,YAAcP,mBAAmBQ,MAAnB,CAAd,CAA2CA,MAA5D,CACAJ,gBAAkBK,WAAa,GAAb,CAAmB3J,SAAnB,CAA+B,GAAjD,CACA55B,WAAamjC,IAAIv1E,SAAjB,CACH,CACD,GAAI6zB,MAAOt0B,SAASoM,SAAT,CAAmBymC,UAAnB,CAAX,CACAqjC,YAAcA,aAAe5hD,KAAK33B,OAAL,CAAao3E,yBAAb,EAA0C,CAAC,CAAxE,CACAgC,gBAAkBG,YAAcP,mBAAmBrhD,IAAnB,CAAd,CAAyCA,IAA3D,CACA;AACA,MAAOuhD,aAAYQ,OAAZ,CAAoBN,cAApB,CAAP,CACH,CAhED,CAiEA/D,UAAUr3E,SAAV,CAAoBu4E,4BAApB,CAAmD,SAAUlzE,QAAV,CAAoB,CACnE,MAAOA,UAAS4I,OAAT,CAAiB0tE,mBAAjB,CAAsCC,oBAAtC,EACF3tE,OADE,CACM4tE,YADN,CACoBvC,aADpB,CAAP,CAEH,CAHD,CAIA,MAAOjC,UAAP,CACH,CAzU8B,EAA/B,CA0UA,GAAI8D,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsB91E,QAAtB,CAAgC,CAC5B,GAAIxB,OAAQ,IAAZ,CACA,KAAKyrC,YAAL,CAAoB,EAApB,CACA,KAAKt+B,KAAL,CAAa,CAAb,CACA;AACA;AACA3L,SAAWA,SAAS4I,OAAT,CAAiB,eAAjB,CAAkC,SAAU4Z,CAAV,CAAai0D,IAAb,CAAmB,CAC5D,GAAIC,WAAY,QAAUl4E,MAAMmN,KAAhB,CAAwB,IAAxC,CACAnN,MAAMyrC,YAAN,CAAmB9tC,IAAnB,CAAwBs6E,IAAxB,EACAj4E,MAAMmN,KAAN,GACA,MAAO+qE,UAAP,CACH,CALU,CAAX,CAMA;AACA;AACA,KAAKC,QAAL,CAAgB32E,SAAS4I,OAAT,CAAiB,2BAAjB,CAA8C,SAAU4Z,CAAV,CAAao0D,MAAb,CAAqBjnD,GAArB,CAA0B,CACpF,GAAI+mD,WAAY,QAAUl4E,MAAMmN,KAAhB,CAAwB,IAAxC,CACAnN,MAAMyrC,YAAN,CAAmB9tC,IAAnB,CAAwBwzB,GAAxB,EACAnxB,MAAMmN,KAAN,GACA,MAAOirE,QAASF,SAAhB,CACH,CALe,CAAhB,CAMH,CACDZ,aAAan7E,SAAb,CAAuB07E,OAAvB,CAAiC,SAAU99C,OAAV,CAAmB,CAChD,GAAI/5B,OAAQ,IAAZ,CACA,MAAO+5B,SAAQ3vB,OAAR,CAAgB,eAAhB,CAAiC,SAAUo9B,EAAV,CAAcr6B,KAAd,CAAqB,CAAE,MAAOnN,OAAMyrC,YAAN,CAAmB,CAACt+B,KAApB,CAAP,CAAoC,CAA5F,CAAP,CACH,CAHD,CAIAmqE,aAAan7E,SAAb,CAAuB49B,OAAvB,CAAiC,UAAY,CAAE,MAAO,MAAKo+C,QAAZ,CAAuB,CAAtE,CACA,MAAOb,aAAP,CACH,CA5BiC,EAAlC,CA6BA,GAAIlD,2BAA4B,2EAAhC,CACA,GAAIC,mBAAoB,iEAAxB,CACA,GAAIU,2BAA4B,0EAAhC,CACA,GAAIU,eAAgB,gBAApB,CACA;AACA,GAAIsC,sBAAuB,mBAA3B,CACA,GAAIM,cAAe,WACf,2BADe,CAEf,gBAFJ,CAGA,GAAIpD,iBAAkB,GAAIh0E,OAAJ,CAAW,IAAMw0E,aAAN,CAAsB4C,YAAjC,CAA+C,KAA/C,CAAtB,CACA,GAAIlD,wBAAyB,GAAIl0E,OAAJ,CAAW,IAAM82E,oBAAN,CAA6BM,YAAxC,CAAsD,KAAtD,CAA7B,CACA,GAAI9C,2BAA4BE,cAAgB,gBAAhD,CACA,GAAIsB,6BAA8B,sCAAlC,CACA,GAAIrB,uBAAwB,CACxB,WADwB,CAExB,YAFwB,CAGxB;AACA,kBAJwB,CAKxB,aALwB,CAA5B,CAOA;AACA;AACA;AACA,GAAIK,sBAAuB,qCAA3B,CACA,GAAIY,mBAAoB,6BAAxB,CACA,GAAIE,iBAAkB,mBAAtB,CACA,GAAImB,cAAe,UAAnB,CACA,GAAIF,qBAAsB,kBAA1B,CACA,GAAIQ,YAAa,sBAAjB,CACA,QAASxE,cAAT,CAAuB3pE,KAAvB,CAA8B,CAC1B,MAAOA,OAAMC,OAAN,CAAckuE,UAAd,CAA0B,EAA1B,CAAP,CACH,CACD,GAAIC,oBAAqB,8CAAzB,CACA,QAAS1E,wBAAT,CAAiC1pE,KAAjC,CAAwC,CACpC,MAAOA,OAAMrI,KAAN,CAAYy2E,kBAAZ,GAAmC,EAA1C,CACH,CACD,GAAIC,SAAU,uDAAd,CACA,GAAIC,UAAW,SAAf,CACA,GAAIC,YAAa,GAAjB,CACA,GAAIC,aAAc,GAAlB,CACA,GAAIC,mBAAoB,SAAxB,CACA,GAAI/C,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBr0E,QAAjB,CAA2Bu4B,OAA3B,CAAoC,CAChC,KAAKv4B,QAAL,CAAgBA,QAAhB,CACA,KAAKu4B,OAAL,CAAeA,OAAf,CACH,CACD,MAAO87C,QAAP,CACH,CAN4B,EAA7B,CAOA,QAASF,aAAT,CAAsBxrE,KAAtB,CAA6B0uE,YAA7B,CAA2C,CACvC,GAAIC,wBAAyBC,aAAa5uE,KAAb,CAA7B,CACA,GAAI6uE,gBAAiB,CAArB,CACA,MAAOF,wBAAuBG,aAAvB,CAAqC7uE,OAArC,CAA6CouE,OAA7C,CAAsD,UAAY,CACrE,GAAIv7E,GAAI,EAAR,CACA,IAAK,GAAIkM,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ClM,EAAEkM,EAAF,EAAQxM,UAAUwM,EAAV,CAAR,CACH,CACD,GAAI3H,UAAWvE,EAAE,CAAF,CAAf,CACA,GAAI88B,SAAU,EAAd,CACA,GAAIy7C,QAASv4E,EAAE,CAAF,CAAb,CACA,GAAIi8E,eAAgB,EAApB,CACA,GAAI1D,QAAUA,OAAO1hC,UAAP,CAAkB,IAAM8kC,iBAAxB,CAAd,CAA0D,CACtD7+C,QAAU++C,uBAAuBK,MAAvB,CAA8BH,gBAA9B,CAAV,CACAxD,OAASA,OAAO5nE,SAAP,CAAiBgrE,kBAAkBh8E,MAAlB,CAA2B,CAA5C,CAAT,CACAs8E,cAAgB,GAAhB,CACH,CACD,GAAI5E,MAAOuE,aAAa,GAAIhD,QAAJ,CAAYr0E,QAAZ,CAAsBu4B,OAAtB,CAAb,CAAX,CACA,MAAO,GAAK98B,EAAE,CAAF,CAAL,CAAYq3E,KAAK9yE,QAAjB,CAA4BvE,EAAE,CAAF,CAA5B,CAAmCi8E,aAAnC,CAAmD5E,KAAKv6C,OAAxD,CAAkEy7C,MAAzE,CACH,CAhBM,CAAP,CAiBH,CACD,GAAI4D,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,CAAiCH,aAAjC,CAAgDE,MAAhD,CAAwD,CACpD,KAAKF,aAAL,CAAqBA,aAArB,CACA,KAAKE,MAAL,CAAcA,MAAd,CACH,CACD,MAAOC,wBAAP,CACH,CAN4C,EAA7C,CAOA,QAASL,aAAT,CAAsB5uE,KAAtB,CAA6B,CACzB,GAAIkvE,YAAalvE,MAAM+D,KAAN,CAAYuqE,QAAZ,CAAjB,CACA,GAAIa,aAAc,EAAlB,CACA,GAAIC,eAAgB,EAApB,CACA,GAAIC,cAAe,CAAnB,CACA,GAAIC,mBAAoB,EAAxB,CACA,IAAK,GAAIjM,WAAY,CAArB,CAAwBA,UAAY6L,WAAWz8E,MAA/C,CAAuD4wE,WAAvD,CAAoE,CAChE,GAAI13C,MAAOujD,WAAW7L,SAAX,CAAX,CACA,GAAI13C,MAAQ6iD,WAAZ,CAAyB,CACrBa,eACH,CACD,GAAIA,aAAe,CAAnB,CAAsB,CAClBC,kBAAkB97E,IAAlB,CAAuBm4B,IAAvB,EACH,CAFD,IAGK,CACD,GAAI2jD,kBAAkB78E,MAAlB,CAA2B,CAA/B,CAAkC,CAC9B28E,cAAc57E,IAAd,CAAmB87E,kBAAkB/2E,IAAlB,CAAuB,EAAvB,CAAnB,EACA42E,YAAY37E,IAAZ,CAAiBi7E,iBAAjB,EACAa,kBAAoB,EAApB,CACH,CACDH,YAAY37E,IAAZ,CAAiBm4B,IAAjB,EACH,CACD,GAAIA,MAAQ4iD,UAAZ,CAAwB,CACpBc,eACH,CACJ,CACD,GAAIC,kBAAkB78E,MAAlB,CAA2B,CAA/B,CAAkC,CAC9B28E,cAAc57E,IAAd,CAAmB87E,kBAAkB/2E,IAAlB,CAAuB,EAAvB,CAAnB,EACA42E,YAAY37E,IAAZ,CAAiBi7E,iBAAjB,EACH,CACD,MAAO,IAAIQ,wBAAJ,CAA4BE,YAAY52E,IAAZ,CAAiB,EAAjB,CAA5B,CAAkD62E,aAAlD,CAAP,CACH,CAED;;;;;;OAOA,GAAIG,oBAAqB,QAAzB,CACA,GAAIC,WAAY,WAAaD,kBAA7B,CACA,GAAIE,cAAe,cAAgBF,kBAAnC,CACA,GAAIG,yBAA0B,aAAe,UAAY,CACrD,QAASA,wBAAT,CAAiCn5E,IAAjC,CAAuC8U,SAAvC,CAAkDskE,QAAlD,CAA4D,CACxD,KAAKp5E,IAAL,CAAYA,IAAZ,CACA,KAAK8U,SAAL,CAAiBA,SAAjB,CACA,KAAKskE,QAAL,CAAgBA,QAAhB,CACH,CACD,MAAOD,wBAAP,CACH,CAP4C,EAA7C,CAQA,GAAIE,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,CAA4BC,SAA5B,CAAuCC,SAAvC,CAAkDv/D,YAAlD,CAAgEw/D,SAAhE,CAA2E3+D,IAA3E,CAAiF,CAC7E,KAAKy+D,SAAL,CAAiBA,SAAjB,CACA,KAAKC,SAAL,CAAiBA,SAAjB,CACA,KAAKv/D,YAAL,CAAoBA,YAApB,CACA,KAAKw/D,SAAL,CAAiBA,SAAjB,CACA,KAAK3+D,IAAL,CAAYA,IAAZ,CACH,CACD,MAAOw+D,mBAAP,CACH,CATuC,EAAxC,CAUA,GAAII,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuB14D,YAAvB,CAAqC,CACjC,KAAKA,YAAL,CAAoBA,YAApB,CACA,KAAK24D,UAAL,CAAkB,GAAI5G,UAAJ,EAAlB,CACH,CACD2G,cAAch+E,SAAd,CAAwBk+E,gBAAxB,CAA2C,SAAUL,SAAV,CAAqBnzD,IAArB,CAA2B,CAClE,GAAI/Q,UAAW+Q,KAAK/Q,QAApB,CACA,MAAO,MAAKwkE,cAAL,CAAoBN,SAApB,CAA+BnzD,IAA/B,CAAqC,GAAItR,0BAAJ,CAA8B,CACtEE,OAAQK,SAASL,MADqD,CAEtEC,UAAWI,SAASJ,SAFkD,CAGtEF,UAAWX,oBAAoBgS,KAAK/Y,IAAzB,CAH2D,CAA9B,CAArC,CAIH,KAAKysE,cAAL,CAAoB1zD,IAApB,CAJG,CAIwB,IAJxB,CAAP,CAKH,CAPD,CAQAszD,cAAch+E,SAAd,CAAwBq+E,aAAxB,CAAwC,SAAUR,SAAV,CAAqBnzD,IAArB,CAA2B3E,UAA3B,CAAuCu4D,IAAvC,CAA6C,CACjF,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,KAAKF,cAAL,CAAoB1zD,IAApB,CAAP,CAAmC,CAC1D,MAAO,MAAKyzD,cAAL,CAAoBN,SAApB,CAA+BnzD,IAA/B,CAAqC3E,UAArC,CAAiDu4D,IAAjD,CAAuD,KAAvD,CAAP,CACH,CAHD,CAIAN,cAAch+E,SAAd,CAAwBo+E,cAAxB,CAAyC,SAAU1zD,IAAV,CAAgB,CACrD,MAAOA,MAAK/Q,QAAL,CAAcD,aAAd,GAAgCzO,kBAAkB+L,QAAzD,CACH,CAFD,CAGAgnE,cAAch+E,SAAd,CAAwBm+E,cAAxB,CAAyC,SAAUN,SAAV,CAAqBnzD,IAArB,CAA2B3E,UAA3B,CAAuCu4D,IAAvC,CAA6CC,qBAA7C,CAAoE,CACzG,GAAI16E,OAAQ,IAAZ,CACA,GAAI26E,kBAAmBz4D,WAAWzM,MAAX,CAAkBvQ,GAAlB,CAAsB,SAAU01E,UAAV,CAAsB,CAAE,MAAO1oB,SAAQlyD,MAAM66E,aAAN,CAAoBD,UAApB,CAAgCH,IAAhC,CAAR,CAAP,CAAwD,CAAtG,CAAvB,CACA,GAAI//D,cAAe,EAAnB,CACAwH,WAAWxM,SAAX,CAAqBxV,OAArB,CAA6B,SAAUwjB,QAAV,CAAoB,CAC7C,GAAIo3D,WAAYH,iBAAiB/9E,MAAjC,CACA;AACA+9E,iBAAiBh9E,IAAjB,CAAsB,IAAtB,EACA+c,aAAa/c,IAAb,CAAkB,GAAIk8E,wBAAJ,CAA4BkB,iBAAiB,IAAjB,CAA5B,CAAoDr3D,QAApD,CAA8D,SAAUrmB,KAAV,CAAiB,CAAE,MAAOs9E,kBAAiBG,SAAjB,EAA8Bd,UAAU1oB,UAAV,CAAqBj0D,KAArB,CAArC,CAAmE,CAApJ,CAAlB,EACH,CALD,EAMA;AACA;AACA,GAAI48E,WAAYc,iBAAiBL,sBAAwB7zD,IAAxB,CAA+B,IAAhD,CAAhB,CACA,GAAIinC,MAAOuD,SAAS4oB,SAAT,EACNl1E,GADM,CACF4sD,WAAWgpB,gBAAX,CAA6B,GAAI91B,UAAJ,CAAcM,YAAd,CAA4B,CAAClB,aAAaskB,KAAd,CAA5B,CAA7B,CADE,EAENhe,UAFM,CAEK,IAFL,CAEWmwB,sBAAwB,CAACz/E,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAAxB,CAAuD,CACzEvtE,QAAQ2yD,YAAR,CAAqB4a,KADoD,CAC7CvtE,QAAQ2yD,YAAR,CAAqB6a,QADwB,CAFlE,CAAX,CAKAuR,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0BmwD,IAA1B,EACA,MAAO,IAAIisB,mBAAJ,CAAuBC,SAAvB,CAAkCC,SAAlC,CAA6Cv/D,YAA7C,CAA2D+/D,IAA3D,CAAiEv4D,UAAjE,CAAP,CACH,CApBD,CAqBAi4D,cAAch+E,SAAd,CAAwB0+E,aAAxB,CAAwC,SAAU77D,KAAV,CAAiBy7D,IAAjB,CAAuB,CAC3D,MAAOA,MAAO,KAAKL,UAAL,CAAgB1G,WAAhB,CAA4B10D,KAA5B,CAAmC46D,YAAnC,CAAiDD,SAAjD,CAAP,CAAqE36D,KAA5E,CACH,CAFD,CAGA,MAAOm7D,cAAP,CACH,CA7CkC,EAAnC,CA8CA,QAASY,iBAAT,CAA0B1Z,SAA1B,CAAqC,CACjC,GAAIv+D,QAAS,QAAb,CACA,GAAIu+D,SAAJ,CAAe,CACXv+D,QAAU,IAAM0R,eAAe6sD,UAAUvzD,IAAzB,CAAhB,CACH,CACD,MAAOhL,OAAP,CACH,CAED;;;;;;OAOA,GAAIk4E,uBAAwB,uBAA5B,CACA,GAAIC,mBAAoB,GAAIjiE,IAAJ,CAAQ,CAAC,KAAD,CAAQ,UAAR,CAAoB,UAApB,CAAgC,QAAhC,CAA0C,OAA1C,CAAR,CAAxB,CACA;AACA;AACA,GAAIkiE,UAAW,0EAAf,CACA,GAAIC,cAAe,GAAIl6E,OAAJ,CAAW,KAAOi6E,QAAP,CAAkB,GAA7B,CAAnB,CACA,GAAIE,mBAAoB,GAAIn6E,OAAJ,CAAW,IAAMi6E,QAAN,CAAiB,OAA5B,CAAqC,GAArC,CAAxB,CACA,QAASG,2BAAT,CAAoCh6E,KAApC,CAA2C,CACvC,MAAOA,OAAM+K,IAAN,CAAW,SAAUwU,IAAV,CAAgB,CAAE,MAAOA,MAAKlgB,IAAL,GAAcs6E,qBAArB,CAA6C,CAA1E,CAAP,CACH,CACD;;;;;OAMA,QAASM,YAAT,CAAqBj+E,KAArB,CAA4B,CACxB;AACA,MAAOA,OAAM+M,OAAN,CAAc,GAAInJ,OAAJ,CAAWjC,YAAX,CAAyB,GAAzB,CAAd,CAA6C,GAA7C,CAAP,CACH,CACD;;;;;;;;;;;;;OAcA,GAAIu8E,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,EAA6B,CAC5B,CACDA,kBAAkBp/E,SAAlB,CAA4B+U,YAA5B,CAA2C,SAAU/P,OAAV,CAAmB4J,OAAnB,CAA4B,CACnE,GAAIkwE,kBAAkBvhE,GAAlB,CAAsBvY,QAAQT,IAA9B,GAAuC26E,2BAA2Bl6E,QAAQE,KAAnC,CAA3C,CAAsF,CAClF;AACA;AACA,MAAO,IAAIic,QAAJ,CAAYnc,QAAQT,IAApB,CAA0Bgd,SAAS,IAAT,CAAevc,QAAQE,KAAvB,CAA1B,CAAyDF,QAAQ6P,QAAjE,CAA2E7P,QAAQsN,UAAnF,CAA+FtN,QAAQoc,eAAvG,CAAwHpc,QAAQ8P,aAAhI,CAAP,CACH,CACD,MAAO,IAAIqM,QAAJ,CAAYnc,QAAQT,IAApB,CAA0BS,QAAQE,KAAlC,CAAyCqc,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAzC,CAA2E7P,QAAQsN,UAAnF,CAA+FtN,QAAQoc,eAAvG,CAAwHpc,QAAQ8P,aAAhI,CAAP,CACH,CAPD,CAQAsqE,kBAAkBp/E,SAAlB,CAA4BkhB,cAA5B,CAA6C,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CACvE,MAAO4jC,WAAUjuC,IAAV,GAAmBs6E,qBAAnB,CAA2CrsC,SAA3C,CAAuD,IAA9D,CACH,CAFD,CAGA4sC,kBAAkBp/E,SAAlB,CAA4BwS,SAA5B,CAAwC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAC7D,GAAIywE,YAAaxwD,KAAK3tB,KAAL,CAAWyE,KAAX,CAAiBq5E,YAAjB,CAAjB,CACA,GAAIK,UAAJ,CAAgB,CACZ,MAAO,IAAIh/D,KAAJ,CAAS8+D,YAAYtwD,KAAK3tB,KAAjB,EAAwB+M,OAAxB,CAAgCgxE,iBAAhC,CAAmD,GAAnD,CAAT,CAAkEpwD,KAAKvc,UAAvE,CAAP,CACH,CACD,MAAO,KAAP,CACH,CAND,CAOA8sE,kBAAkBp/E,SAAlB,CAA4BshB,YAA5B,CAA2C,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAE,MAAO8jC,QAAP,CAAiB,CAA1F,CACA0sC,kBAAkBp/E,SAAlB,CAA4B0gB,cAA5B,CAA6C,SAAU69B,SAAV,CAAqB3vC,OAArB,CAA8B,CAAE,MAAO2vC,UAAP,CAAmB,CAAhG,CACA6gC,kBAAkBp/E,SAAlB,CAA4B+gB,kBAA5B,CAAiD,SAAUy9B,aAAV,CAAyB5vC,OAAzB,CAAkC,CAAE,MAAO4vC,cAAP,CAAuB,CAA5G,CACA,MAAO4gC,kBAAP,CACH,CAzBsC,EAAvC,CA0BA,QAASE,kBAAT,CAA2BC,iBAA3B,CAA8C,CAC1C,MAAO,IAAI/3C,gBAAJ,CAAoBjmB,SAAS,GAAI69D,kBAAJ,EAAT,CAAkCG,kBAAkBv4D,SAApD,CAApB,CAAoFu4D,kBAAkB54D,MAAtG,CAAP,CACH,CAED;;;;;;OAOA;AACA,GAAI64D,cAAe,CAAC,MAAD,CAAS,KAAT,CAAgB,KAAhB,CAAuB,KAAvB,CAA8B,MAA9B,CAAsC,OAAtC,CAAnB,CACA;;;;;;;;;;;;;;;;;;;;;;OAuBA,QAASC,YAAT,CAAqBj+D,KAArB,CAA4B,CACxB,GAAIk+D,UAAW,GAAIC,UAAJ,EAAf,CACA,MAAO,IAAIC,gBAAJ,CAAoBr+D,SAASm+D,QAAT,CAAmBl+D,KAAnB,CAApB,CAA+Ck+D,SAASG,UAAxD,CAAoEH,SAAS/4D,MAA7E,CAAP,CACH,CACD,GAAIi5D,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBp+D,KAAzB,CAAgCs+D,QAAhC,CAA0Cn5D,MAA1C,CAAkD,CAC9C,KAAKnF,KAAL,CAAaA,KAAb,CACA,KAAKs+D,QAAL,CAAgBA,QAAhB,CACA,KAAKn5D,MAAL,CAAcA,MAAd,CACH,CACD,MAAOi5D,gBAAP,CACH,CAPoC,EAArC,CAQA,GAAIG,gBAAiB,aAAe,SAAUtpE,MAAV,CAAkB,CAClD5W,UAAUkgF,cAAV,CAA0BtpE,MAA1B,EACA,QAASspE,eAAT,CAAwB/9D,IAAxB,CAA8B0d,QAA9B,CAAwC,CACpC,MAAOjpB,QAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwB0d,QAAxB,GAAqC,IAA5C,CACH,CACD,MAAOqgD,eAAP,CACH,CANmC,CAMlChhD,UANkC,CAApC,CAOA;;;;OAKA,GAAI4gD,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,EAAqB,CACjB,KAAKE,UAAL,CAAkB,KAAlB,CACA,KAAKl5D,MAAL,CAAc,EAAd,CACH,CACDg5D,UAAU3/E,SAAV,CAAoB+U,YAApB,CAAmC,SAAU/P,OAAV,CAAmB4J,OAAnB,CAA4B,CAC3D,MAAO,IAAIuS,QAAJ,CAAYnc,QAAQT,IAApB,CAA0BS,QAAQE,KAAlC,CAAyCqc,SAAS,IAAT,CAAevc,QAAQ6P,QAAvB,CAAzC,CAA2E7P,QAAQsN,UAAnF,CAA+FtN,QAAQoc,eAAvG,CAAwHpc,QAAQ8P,aAAhI,CAAP,CACH,CAFD,CAGA6qE,UAAU3/E,SAAV,CAAoBkhB,cAApB,CAAqC,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAAE,MAAO4jC,UAAP,CAAmB,CAAxF,CACAmtC,UAAU3/E,SAAV,CAAoBwS,SAApB,CAAgC,SAAUqc,IAAV,CAAgBjgB,OAAhB,CAAyB,CAAE,MAAOigB,KAAP,CAAc,CAAzE,CACA8wD,UAAU3/E,SAAV,CAAoBshB,YAApB,CAAmC,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAE,MAAO8jC,QAAP,CAAiB,CAAlF,CACAitC,UAAU3/E,SAAV,CAAoB0gB,cAApB,CAAqC,SAAUuqB,GAAV,CAAer8B,OAAf,CAAwB,CACzD,KAAKixE,UAAL,CAAkB,IAAlB,CACA,MAAO50C,KAAIt5B,IAAJ,EAAY,QAAZ,CAAuBquE,kBAAkB/0C,GAAlB,CAAuB,KAAKtkB,MAA5B,CAAvB,CACHs5D,mBAAmBh1C,GAAnB,CAAwB,KAAKtkB,MAA7B,CADJ,CAEH,CAJD,CAKAg5D,UAAU3/E,SAAV,CAAoB+gB,kBAApB,CAAyC,SAAUiyB,OAAV,CAAmBpkC,OAAnB,CAA4B,CACjE,KAAM,IAAI3M,MAAJ,CAAU,uBAAV,CAAN,CACH,CAFD,CAGA,MAAO09E,UAAP,CACH,CApB8B,EAA/B,CAqBA;AACA,QAASK,kBAAT,CAA2BzpE,GAA3B,CAAgCoQ,MAAhC,CAAwC,CACpC,GAAI9R,UAAW0B,IAAIiK,KAAJ,CAAUzX,GAAV,CAAc,SAAUqC,CAAV,CAAa,CACtC,GAAIo0E,aAAax9E,OAAb,CAAqBoJ,EAAElK,KAAvB,GAAiC,CAAC,CAAlC,EAAuC,CAACkK,EAAElK,KAAF,CAAQyE,KAAR,CAAc,QAAd,CAA5C,CAAqE,CACjEghB,OAAOnlB,IAAP,CAAY,GAAIu+E,eAAJ,CAAmB30E,EAAEyV,eAArB,CAAsC,kDAAoD2+D,aAAaj5E,IAAb,CAAkB,IAAlB,CAA1F,CAAZ,EACH,CACD,GAAI25E,iBAAkBT,YAAYr0E,EAAEwV,UAAd,CAAtB,CACA+F,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASw+E,gBAAgBv5D,MAAzB,CAA1B,EACA,MAAO,IAAIxF,QAAJ,CAAY,aAAZ,CAA2B,CAAC,GAAIH,UAAJ,CAAc,cAAd,CAA8B,GAAK5V,EAAElK,KAArC,CAA4CkK,EAAEyV,eAA9C,CAAD,CAA3B,CAA6Fq/D,gBAAgB1+D,KAA7G,CAAoHpW,EAAEkH,UAAtH,CAAkIlH,EAAEkH,UAApI,CAAgJlH,EAAEkH,UAAlJ,CAAP,CACH,CAPc,CAAf,CAQA,GAAI6tE,YAAa,GAAIn/D,UAAJ,CAAc,YAAd,CAA4BzK,IAAIgK,WAAhC,CAA6ChK,IAAIkK,qBAAjD,CAAjB,CACA,MAAO,IAAIU,QAAJ,CAAY,cAAZ,CAA4B,CAACg/D,UAAD,CAA5B,CAA0CtrE,QAA1C,CAAoD0B,IAAIjE,UAAxD,CAAoEiE,IAAIjE,UAAxE,CAAoFiE,IAAIjE,UAAxF,CAAP,CACH,CACD;AACA,QAAS2tE,mBAAT,CAA4B1pE,GAA5B,CAAiCoQ,MAAjC,CAAyC,CACrC,GAAI9R,UAAW0B,IAAIiK,KAAJ,CAAUzX,GAAV,CAAc,SAAUqC,CAAV,CAAa,CACtC,GAAI80E,iBAAkBT,YAAYr0E,EAAEwV,UAAd,CAAtB,CACA+F,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASw+E,gBAAgBv5D,MAAzB,CAA1B,EACA,GAAIvb,EAAElK,KAAF,GAAY,OAAhB,CAAyB,CACrB;AACA,MAAO,IAAIigB,QAAJ,CAAY,aAAZ,CAA2B,CAAC,GAAIH,UAAJ,CAAc,iBAAd,CAAiC,EAAjC,CAAqC5V,EAAEyV,eAAvC,CAAD,CAA3B,CAAsFq/D,gBAAgB1+D,KAAtG,CAA6GpW,EAAEkH,UAA/G,CAA2HlH,EAAEkH,UAA7H,CAAyIlH,EAAEkH,UAA3I,CAAP,CACH,CACD,MAAO,IAAI6O,QAAJ,CAAY,aAAZ,CAA2B,CAAC,GAAIH,UAAJ,CAAc,cAAd,CAA8B,GAAK5V,EAAElK,KAArC,CAA4CkK,EAAEyV,eAA9C,CAAD,CAA3B,CAA6Fq/D,gBAAgB1+D,KAA7G,CAAoHpW,EAAEkH,UAAtH,CAAkIlH,EAAEkH,UAApI,CAAgJlH,EAAEkH,UAAlJ,CAAP,CACH,CARc,CAAf,CASA,GAAI6tE,YAAa,GAAIn/D,UAAJ,CAAc,YAAd,CAA4BzK,IAAIgK,WAAhC,CAA6ChK,IAAIkK,qBAAjD,CAAjB,CACA,MAAO,IAAIU,QAAJ,CAAY,cAAZ,CAA4B,CAACg/D,UAAD,CAA5B,CAA0CtrE,QAA1C,CAAoD0B,IAAIjE,UAAxD,CAAoEiE,IAAIjE,UAAxE,CAAoFiE,IAAIjE,UAAxF,CAAP,CACH,CAED;;;;;;OAOA,GAAI8tE,0BAA2B,GAA/B,CACA,GAAIC,kBAAmB,MAAvB,CACA,GAAIC,cAAe,OAAnB,CACA,GAAIC,cAAe,OAAnB,CACA,GAAIC,qBAAsB,UAA1B,CACA;;OAGA,GAAIC,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuBC,WAAvB,CAAoCjgD,oBAApC,CAA0Dk6B,eAA1D,CAA2E39C,KAA3E,CAAkF2J,MAAlF,CAA0F,CACtF,KAAK+5D,WAAL,CAAmBA,WAAnB,CACA,KAAKjgD,oBAAL,CAA4BA,oBAA5B,CACA,KAAKk6B,eAAL,CAAuBA,eAAvB,CACA,KAAKh0C,MAAL,CAAcA,MAAd,CACA,KAAKg6D,WAAL,CAAmB,IAAnB,CACA,KAAKC,UAAL,CAAkB,GAAI15E,IAAJ,EAAlB,CACA;AACA;AACA,GAAI8V,KAAJ,CAAW,CACP,GAAI6jE,eAAgB,GAAI35E,IAAJ,EAApB,CACA8V,MAAMjZ,OAAN,CAAc,SAAU+8E,IAAV,CAAgB,CAAE,MAAOD,eAAcj4E,GAAd,CAAkBk4E,KAAKv8E,IAAvB,CAA6Bu8E,IAA7B,CAAP,CAA4C,CAA5E,EACA,KAAKH,WAAL,CAAmBE,aAAnB,CACH,CACJ,CACDJ,cAAczgF,SAAd,CAAwB+gF,YAAxB,CAAuC,UAAY,CAAE,MAAOrhF,OAAM88C,IAAN,CAAW,KAAKokC,UAAL,CAAgB3zE,MAAhB,EAAX,CAAP,CAA8C,CAAnG,CACAwzE,cAAczgF,SAAd,CAAwBghF,yBAAxB,CAAoD,SAAUzlB,OAAV,CAAmBjpD,UAAnB,CAA+B,CAC/E,GAAIzO,OAAQ,IAAZ,CACA,GAAI03D,QAAQ9lD,cAAZ,CAA4B,CACxB,GAAIwrE,cAAe,EAAnB,CACA1hF,OAAOiQ,IAAP,CAAY+rD,QAAQ9lD,cAApB,EAAoC1R,OAApC,CAA4C,SAAUqlB,QAAV,CAAoB,CAC5D,GAAIxI,YAAa26C,QAAQ9lD,cAAR,CAAuB2T,QAAvB,CAAjB,CACA,GAAI,MAAOxI,WAAP,GAAsB,QAA1B,CAAoC,CAChC/c,MAAMq9E,oBAAN,CAA2B93D,QAA3B,CAAqCxI,UAArC,CAAiD,IAAjD,CAAuDtO,UAAvD,CAAmE,EAAnE,CAAuE2uE,YAAvE,EACH,CAFD,IAGK,CACDp9E,MAAMq1B,YAAN,CAAmB,wCAA0C9P,QAA1C,CAAqD,+DAArD,CAAuHxI,UAAvH,CAAoI,MAApI,CAA6I,MAAOA,WAApJ,CAAiK,GAApL,CAAyLtO,UAAzL,EACH,CACJ,CARD,EASA,MAAO2uE,aAAP,CACH,CACD,MAAO,KAAP,CACH,CAhBD,CAiBAR,cAAczgF,SAAd,CAAwBmhF,+BAAxB,CAA0D,SAAU5lB,OAAV,CAAmB6lB,eAAnB,CAAoC9uE,UAApC,CAAgD,CACtG,GAAIzO,OAAQ,IAAZ,CACA,GAAIw9E,YAAa,KAAKL,yBAAL,CAA+BzlB,OAA/B,CAAwCjpD,UAAxC,CAAjB,CACA,MAAO+uE,aACHA,WAAWt4E,GAAX,CAAe,SAAUoK,IAAV,CAAgB,CAAE,MAAOtP,OAAMy9E,0BAAN,CAAiCF,eAAjC,CAAkDjuE,IAAlD,CAAP,CAAiE,CAAlG,CADJ,CAEH,CALD,CAMAstE,cAAczgF,SAAd,CAAwBuhF,4BAAxB,CAAuD,SAAUhmB,OAAV,CAAmBjpD,UAAnB,CAA+B,CAClF,GAAIzO,OAAQ,IAAZ,CACA,GAAI03D,QAAQ9gD,aAAZ,CAA2B,CACvB,GAAI+mE,gBAAiB,EAArB,CACAjiF,OAAOiQ,IAAP,CAAY+rD,QAAQ9gD,aAApB,EAAmC1W,OAAnC,CAA2C,SAAUqlB,QAAV,CAAoB,CAC3D,GAAIxI,YAAa26C,QAAQ9gD,aAAR,CAAsB2O,QAAtB,CAAjB,CACA,GAAI,MAAOxI,WAAP,GAAsB,QAA1B,CAAoC,CAChC/c,MAAM49E,UAAN,CAAiBr4D,QAAjB,CAA2BxI,UAA3B,CAAuCtO,UAAvC,CAAmD,EAAnD,CAAuDkvE,cAAvD,EACH,CAFD,IAGK,CACD39E,MAAMq1B,YAAN,CAAmB,gCAAkC9P,QAAlC,CAA6C,+DAA7C,CAA+GxI,UAA/G,CAA4H,MAA5H,CAAqI,MAAOA,WAA5I,CAAyJ,GAA5K,CAAiLtO,UAAjL,EACH,CACJ,CARD,EASA,MAAOkvE,eAAP,CACH,CACD,MAAO,KAAP,CACH,CAhBD,CAiBAf,cAAczgF,SAAd,CAAwBw5B,kBAAxB,CAA6C,SAAUt4B,KAAV,CAAiBoR,UAAjB,CAA6B,CACtE,GAAIovE,YAAapvE,WAAWqP,KAAX,CAAiB/a,QAAjB,EAAjB,CACA,GAAI,CACA,GAAI2P,KAAM,KAAKmqE,WAAL,CAAiBlnD,kBAAjB,CAAoCt4B,KAApC,CAA2CwgF,UAA3C,CAAuD,KAAKjhD,oBAA5D,CAAV,CACA,GAAIlqB,GAAJ,CACI,KAAKorE,6BAAL,CAAmCprE,IAAIoQ,MAAvC,CAA+CrU,UAA/C,EACJ,KAAKsvE,WAAL,CAAiBrrE,GAAjB,CAAsBjE,UAAtB,EACA,MAAOiE,IAAP,CACH,CACD,MAAOhV,CAAP,CAAU,CACN,KAAK23B,YAAL,CAAkB,GAAK33B,CAAvB,CAA0B+Q,UAA1B,EACA,MAAO,MAAKouE,WAAL,CAAiB7mD,oBAAjB,CAAsC,OAAtC,CAA+C6nD,UAA/C,CAAP,CACH,CACJ,CAbD,CAcA;AACAjB,cAAczgF,SAAd,CAAwB6hF,0BAAxB,CAAqD,SAAUvoD,MAAV,CAAkBC,QAAlB,CAA4BjnB,UAA5B,CAAwCwvE,oBAAxC,CAA8DC,WAA9D,CAA2EC,UAA3E,CAAuF,CACxI,GAAIh4D,UAAW,KAAKi4D,sBAAL,CAA4B3oD,MAA5B,CAAoCC,QAApC,CAA8CjnB,UAA9C,CAAf,CACA,IAAK,GAAIhS,GAAI,CAAb,CAAgBA,EAAI0pB,SAASvpB,MAA7B,CAAqCH,GAArC,CAA0C,CACtC,GAAI8pB,SAAUJ,SAAS1pB,CAAT,CAAd,CACA,GAAI8pB,QAAQyM,QAAZ,CAAsB,CAClBmrD,WAAWxgF,IAAX,CAAgB,GAAIm2B,eAAJ,CAAmBvN,QAAQ3a,GAA3B,CAAgC2a,QAAQ7lB,IAAxC,CAA8C+N,UAA9C,CAAhB,EACH,CAFD,IAGK,IAAI8X,QAAQxJ,UAAZ,CAAwB,CACzB,KAAKshE,iBAAL,CAAuB93D,QAAQ3a,GAA/B,CAAoC2a,QAAQxJ,UAA5C,CAAwDtO,UAAxD,CAAoEwvE,oBAApE,CAA0FC,WAA1F,EACH,CAFI,IAGA,CACDD,qBAAqBtgF,IAArB,CAA0B,CAAC4oB,QAAQ3a,GAAT,CAAc,EAAd,CAA1B,EACA,KAAK0yE,gBAAL,CAAsB/3D,QAAQ3a,GAA9B,CAAmC,IAAnC,CAAyC6C,UAAzC,CAAqDwvE,oBAArD,CAA2EC,WAA3E,EACH,CACJ,CACJ,CAfD,CAgBAtB,cAAczgF,SAAd,CAAwBiiF,sBAAxB,CAAiD,SAAU3oD,MAAV,CAAkBC,QAAlB,CAA4BjnB,UAA5B,CAAwC,CACrF,GAAIzO,OAAQ,IAAZ,CACA,GAAI69E,YAAapvE,WAAWqP,KAAX,CAAiB/a,QAAjB,EAAjB,CACA,GAAI,CACA,GAAIw7E,gBAAiB,KAAK1B,WAAL,CAAiBrnD,qBAAjB,CAAuCC,MAAvC,CAA+CC,QAA/C,CAAyDmoD,UAAzD,CAArB,CACA,KAAKC,6BAAL,CAAmCS,eAAez7D,MAAlD,CAA0DrU,UAA1D,EACA8vE,eAAepqD,gBAAf,CAAgCj0B,OAAhC,CAAwC,SAAUqmB,OAAV,CAAmB,CACvD,GAAIA,QAAQxJ,UAAZ,CAAwB,CACpB/c,MAAM+9E,WAAN,CAAkBx3D,QAAQxJ,UAA1B,CAAsCtO,UAAtC,EACH,CACJ,CAJD,EAKA8vE,eAAenqD,QAAf,CAAwBl0B,OAAxB,CAAgC,SAAUs+E,OAAV,CAAmB,CAAEx+E,MAAMq1B,YAAN,CAAmBmpD,OAAnB,CAA4B/vE,UAA5B,CAAwCxT,QAAQggC,eAAR,CAAwBwjD,OAAhE,EAA2E,CAAhI,EACA,MAAOF,gBAAepqD,gBAAtB,CACH,CACD,MAAOz2B,CAAP,CAAU,CACN,KAAK23B,YAAL,CAAkB,GAAK33B,CAAvB,CAA0B+Q,UAA1B,EACA,MAAO,EAAP,CACH,CACJ,CAlBD,CAmBAmuE,cAAczgF,SAAd,CAAwBmiF,gBAAxB,CAA2C,SAAU59E,IAAV,CAAgBrD,KAAhB,CAAuBoR,UAAvB,CAAmCwvE,oBAAnC,CAAyDC,WAAzD,CAAsE,CAC7G,GAAIQ,iBAAiBh+E,IAAjB,CAAJ,CAA4B,CACxBA,KAAOA,KAAKkN,SAAL,CAAe,CAAf,CAAP,CACA,GAAIvQ,KAAJ,CAAW,CACP,KAAKg4B,YAAL,CAAkB,2FACd,yGADJ,CAC+G5mB,UAD/G,CAC2HxT,QAAQggC,eAAR,CAAwBG,KADnJ,EAEH,CACD,KAAKujD,eAAL,CAAqBj+E,IAArB,CAA2BrD,KAA3B,CAAkCoR,UAAlC,CAA8CwvE,oBAA9C,CAAoEC,WAApE,EACH,CAPD,IAQK,CACDA,YAAYvgF,IAAZ,CAAiB,GAAI61B,eAAJ,CAAmB9yB,IAAnB,CAAyB,KAAKm8E,WAAL,CAAiB7mD,oBAAjB,CAAsC34B,KAAtC,CAA6C,EAA7C,CAAzB,CAA2EpC,QAAQy4B,kBAAR,CAA2BC,YAAtG,CAAoHllB,UAApH,CAAjB,EACH,CACJ,CAZD,CAaAmuE,cAAczgF,SAAd,CAAwBkhF,oBAAxB,CAA+C,SAAU38E,IAAV,CAAgBqc,UAAhB,CAA4BtG,MAA5B,CAAoChI,UAApC,CAAgDwvE,oBAAhD,CAAsEC,WAAtE,CAAmF,CAC9H,GAAIU,iBAAkB,KAAtB,CACA,GAAIl+E,KAAKozC,UAAL,CAAgB6oC,mBAAhB,CAAJ,CAA0C,CACtCiC,gBAAkB,IAAlB,CACAl+E,KAAOA,KAAKkN,SAAL,CAAe+uE,oBAAoB//E,MAAnC,CAAP,CACH,CAHD,IAIK,IAAI8hF,iBAAiBh+E,IAAjB,CAAJ,CAA4B,CAC7Bk+E,gBAAkB,IAAlB,CACAl+E,KAAOA,KAAKkN,SAAL,CAAe,CAAf,CAAP,CACH,CACD,GAAIgxE,eAAJ,CAAqB,CACjB,KAAKD,eAAL,CAAqBj+E,IAArB,CAA2Bqc,UAA3B,CAAuCtO,UAAvC,CAAmDwvE,oBAAnD,CAAyEC,WAAzE,EACH,CAFD,IAGK,CACD,KAAKG,iBAAL,CAAuB39E,IAAvB,CAA6B,KAAKm+E,aAAL,CAAmB9hE,UAAnB,CAA+BtG,MAA/B,CAAuChI,UAAvC,CAA7B,CAAiFA,UAAjF,CAA6FwvE,oBAA7F,CAAmHC,WAAnH,EACH,CACJ,CAhBD,CAiBAtB,cAAczgF,SAAd,CAAwB2iF,0BAAxB,CAAqD,SAAUp+E,IAAV,CAAgBrD,KAAhB,CAAuBoR,UAAvB,CAAmCwvE,oBAAnC,CAAyDC,WAAzD,CAAsE,CACvH,GAAI3mD,MAAO,KAAK5B,kBAAL,CAAwBt4B,KAAxB,CAA+BoR,UAA/B,CAAX,CACA,GAAI8oB,IAAJ,CAAU,CACN,KAAK8mD,iBAAL,CAAuB39E,IAAvB,CAA6B62B,IAA7B,CAAmC9oB,UAAnC,CAA+CwvE,oBAA/C,CAAqEC,WAArE,EACA,MAAO,KAAP,CACH,CACD,MAAO,MAAP,CACH,CAPD,CAQAtB,cAAczgF,SAAd,CAAwBkiF,iBAAxB,CAA4C,SAAU39E,IAAV,CAAgBgS,GAAhB,CAAqBjE,UAArB,CAAiCwvE,oBAAjC,CAAuDC,WAAvD,CAAoE,CAC5GD,qBAAqBtgF,IAArB,CAA0B,CAAC+C,IAAD,CAAOgS,IAAIogB,MAAX,CAA1B,EACAorD,YAAYvgF,IAAZ,CAAiB,GAAI61B,eAAJ,CAAmB9yB,IAAnB,CAAyBgS,GAAzB,CAA8BzX,QAAQy4B,kBAAR,CAA2BqrD,OAAzD,CAAkEtwE,UAAlE,CAAjB,EACH,CAHD,CAIAmuE,cAAczgF,SAAd,CAAwBwiF,eAAxB,CAA0C,SAAUj+E,IAAV,CAAgBqc,UAAhB,CAA4BtO,UAA5B,CAAwCwvE,oBAAxC,CAA8DC,WAA9D,CAA2E,CACjH;AACA;AACA;AACA,GAAIxrE,KAAM,KAAKmsE,aAAL,CAAmB9hE,YAAc,WAAjC,CAA8C,KAA9C,CAAqDtO,UAArD,CAAV,CACAwvE,qBAAqBtgF,IAArB,CAA0B,CAAC+C,IAAD,CAAOgS,IAAIogB,MAAX,CAA1B,EACAorD,YAAYvgF,IAAZ,CAAiB,GAAI61B,eAAJ,CAAmB9yB,IAAnB,CAAyBgS,GAAzB,CAA8BzX,QAAQy4B,kBAAR,CAA2BE,SAAzD,CAAoEnlB,UAApE,CAAjB,EACH,CAPD,CAQAmuE,cAAczgF,SAAd,CAAwB0iF,aAAxB,CAAwC,SAAUxhF,KAAV,CAAiB2hF,aAAjB,CAAgCvwE,UAAhC,CAA4C,CAChF,GAAIovE,YAAa,CAACpvE,YAAcA,WAAWqP,KAAzB,EAAkC,WAAnC,EAAgD/a,QAAhD,EAAjB,CACA,GAAI,CACA,GAAI2P,KAAMssE,cACN,KAAKnC,WAAL,CAAiB3nD,kBAAjB,CAAoC73B,KAApC,CAA2CwgF,UAA3C,CAAuD,KAAKjhD,oBAA5D,CADM,CAEN,KAAKigD,WAAL,CAAiB7nD,YAAjB,CAA8B33B,KAA9B,CAAqCwgF,UAArC,CAAiD,KAAKjhD,oBAAtD,CAFJ,CAGA,GAAIlqB,GAAJ,CACI,KAAKorE,6BAAL,CAAmCprE,IAAIoQ,MAAvC,CAA+CrU,UAA/C,EACJ,KAAKsvE,WAAL,CAAiBrrE,GAAjB,CAAsBjE,UAAtB,EACA,MAAOiE,IAAP,CACH,CACD,MAAOhV,CAAP,CAAU,CACN,KAAK23B,YAAL,CAAkB,GAAK33B,CAAvB,CAA0B+Q,UAA1B,EACA,MAAO,MAAKouE,WAAL,CAAiB7mD,oBAAjB,CAAsC,OAAtC,CAA+C6nD,UAA/C,CAAP,CACH,CACJ,CAfD,CAgBAjB,cAAczgF,SAAd,CAAwBshF,0BAAxB,CAAqD,SAAUF,eAAV,CAA2B0B,SAA3B,CAAsC,CACvF,GAAIA,UAAU7vE,WAAd,CAA2B,CACvB,MAAO,IAAI2kB,qBAAJ,CAAyBkrD,UAAUv+E,IAAnC,CAAyC,CAAE,eAA3C,CAA4DsI,gBAAgB6pE,IAA5E,CAAkFoM,UAAUliE,UAA5F,CAAwG,IAAxG,CAA8GkiE,UAAUxwE,UAAxH,CAAP,CACH,CACD,GAAIU,MAAO,IAAX,CACA,GAAI+vE,aAAc34E,SAAlB,CACA,GAAI44E,mBAAoB,IAAxB,CACA,GAAIznE,OAAQunE,UAAUv+E,IAAV,CAAewN,KAAf,CAAqBquE,wBAArB,CAAZ,CACA,GAAI6C,kBAAmB74E,SAAvB,CACA;AACA,GAAImR,MAAM9a,MAAN,CAAe,CAAnB,CAAsB,CAClB,GAAI8a,MAAM,CAAN,GAAY8kE,gBAAhB,CAAkC,CAC9B2C,kBAAoBznE,MAAM,CAAN,CAApB,CACA,KAAK2nE,gCAAL,CAAsCF,iBAAtC,CAAyDF,UAAUxwE,UAAnE,CAA+E,IAA/E,EACA2wE,iBAAmBE,6BAA6B,KAAKxoB,eAAlC,CAAmDymB,eAAnD,CAAoE4B,iBAApE,CAAuF,IAAvF,CAAnB,CACA,GAAII,gBAAiBJ,kBAAkBhhF,OAAlB,CAA0B,GAA1B,CAArB,CACA,GAAIohF,eAAiB,CAAC,CAAtB,CAAyB,CACrB,GAAIC,IAAKL,kBAAkBvxE,SAAlB,CAA4B,CAA5B,CAA+B2xE,cAA/B,CAAT,CACA,GAAIt8E,QAASk8E,kBAAkBvxE,SAAlB,CAA4B2xE,eAAiB,CAA7C,CAAb,CACAJ,kBAAoBvgF,eAAe4gF,EAAf,CAAmBv8E,MAAnB,CAApB,CACH,CACDi8E,YAAc,CAAE,eAAhB,CACH,CAXD,IAYK,IAAIxnE,MAAM,CAAN,GAAY+kE,YAAhB,CAA8B,CAC/B0C,kBAAoBznE,MAAM,CAAN,CAApB,CACAwnE,YAAc,CAAE,WAAhB,CACAE,iBAAmB,CAACp2E,gBAAgB6pE,IAAjB,CAAnB,CACH,CAJI,IAKA,IAAIn7D,MAAM,CAAN,GAAYglE,YAAhB,CAA8B,CAC/BvtE,KAAOuI,MAAM9a,MAAN,CAAe,CAAf,CAAmB8a,MAAM,CAAN,CAAnB,CAA8B,IAArC,CACAynE,kBAAoBznE,MAAM,CAAN,CAApB,CACAwnE,YAAc,CAAE,WAAhB,CACAE,iBAAmB,CAACp2E,gBAAgBmY,KAAjB,CAAnB,CACH,CACJ,CACD;AACA,GAAIg+D,oBAAsB,IAA1B,CAAgC,CAC5BA,kBAAoB,KAAKroB,eAAL,CAAqB8b,iBAArB,CAAuCqM,UAAUv+E,IAAjD,CAApB,CACA0+E,iBAAmBE,6BAA6B,KAAKxoB,eAAlC,CAAmDymB,eAAnD,CAAoE4B,iBAApE,CAAuF,KAAvF,CAAnB,CACAD,YAAc,CAAE,cAAhB,CACA,KAAKG,gCAAL,CAAsCF,iBAAtC,CAAyDF,UAAUxwE,UAAnE,CAA+E,KAA/E,EACH,CACD,MAAO,IAAIslB,qBAAJ,CAAyBorD,iBAAzB,CAA4CD,WAA5C,CAAyDE,iBAAiB,CAAjB,CAAzD,CAA8EH,UAAUliE,UAAxF,CAAoG5N,IAApG,CAA0G8vE,UAAUxwE,UAApH,CAAP,CACH,CA3CD,CA4CAmuE,cAAczgF,SAAd,CAAwByhF,UAAxB,CAAqC,SAAUl9E,IAAV,CAAgBqc,UAAhB,CAA4BtO,UAA5B,CAAwCwvE,oBAAxC,CAA8DwB,YAA9D,CAA4E,CAC7G,GAAIf,iBAAiBh+E,IAAjB,CAAJ,CAA4B,CACxBA,KAAOA,KAAKy5B,MAAL,CAAY,CAAZ,CAAP,CACA,KAAKulD,oBAAL,CAA0Bh/E,IAA1B,CAAgCqc,UAAhC,CAA4CtO,UAA5C,CAAwDgxE,YAAxD,EACH,CAHD,IAIK,CACD,KAAKE,kBAAL,CAAwBj/E,IAAxB,CAA8Bqc,UAA9B,CAA0CtO,UAA1C,CAAsDwvE,oBAAtD,CAA4EwB,YAA5E,EACH,CACJ,CARD,CASA7C,cAAczgF,SAAd,CAAwBujF,oBAAxB,CAA+C,SAAUh/E,IAAV,CAAgBqc,UAAhB,CAA4BtO,UAA5B,CAAwCgxE,YAAxC,CAAsD,CACjG,GAAIloE,SAAU9M,cAAc/J,IAAd,CAAoB,CAACA,IAAD,CAAO,EAAP,CAApB,CAAd,CACA,GAAIwH,WAAYqP,QAAQ,CAAR,CAAhB,CACA,GAAI7H,OAAQ6H,QAAQ,CAAR,EAAWhX,WAAX,EAAZ,CACA,GAAImP,KAAJ,CAAW,CACP,OAAQA,KAAR,EACI,IAAK,OAAL,CACA,IAAK,MAAL,CACI,GAAIgD,KAAM,KAAKktE,YAAL,CAAkB7iE,UAAlB,CAA8BtO,UAA9B,CAAV,CACAgxE,aAAa9hF,IAAb,CAAkB,GAAIk2B,YAAJ,CAAgB3rB,SAAhB,CAA2BwH,KAA3B,CAAkC,CAAE,eAApC,CAAqDgD,GAArD,CAA0DjE,UAA1D,CAAlB,EACA,MACJ,QACI,KAAK4mB,YAAL,CAAkB,+CAAiD3lB,KAAjD,CAAyD,YAAzD,CAAwExH,SAAxE,CAAoF,yCAAtG,CAAiJuG,UAAjJ,EACA,MARR,CAUH,CAXD,IAYK,CACD,KAAK4mB,YAAL,CAAkB,wCAA0CntB,SAA1C,CAAsD,2EAAxE,CAAqJuG,UAArJ,EACH,CACJ,CAnBD,CAoBAmuE,cAAczgF,SAAd,CAAwBwjF,kBAAxB,CAA6C,SAAUj/E,IAAV,CAAgBqc,UAAhB,CAA4BtO,UAA5B,CAAwCwvE,oBAAxC,CAA8DwB,YAA9D,CAA4E,CACrH;AACA,GAAIvgF,IAAK3B,OAAO+M,aAAa5J,IAAb,CAAmB,CAAC,IAAD,CAAOA,IAAP,CAAnB,CAAP,CAAyC,CAAzC,CAAT,CAAsD+O,OAASvQ,GAAG,CAAH,CAA/D,CAAsEgJ,UAAYhJ,GAAG,CAAH,CAAlF,CACA,GAAIwT,KAAM,KAAKktE,YAAL,CAAkB7iE,UAAlB,CAA8BtO,UAA9B,CAAV,CACAwvE,qBAAqBtgF,IAArB,CAA0B,CAAC+C,IAAD,CAAOgS,IAAIogB,MAAX,CAA1B,EACA2sD,aAAa9hF,IAAb,CAAkB,GAAIk2B,YAAJ,CAAgB3rB,SAAhB,CAA2BuH,MAA3B,CAAmC,CAAE,aAArC,CAAoDiD,GAApD,CAAyDjE,UAAzD,CAAlB,EACA;AACA;AACH,CARD,CASAmuE,cAAczgF,SAAd,CAAwByjF,YAAxB,CAAuC,SAAUviF,KAAV,CAAiBoR,UAAjB,CAA6B,CAChE,GAAIovE,YAAa,CAACpvE,YAAcA,WAAWqP,KAAzB,EAAkC,UAAnC,EAA+C/a,QAA/C,EAAjB,CACA,GAAI,CACA,GAAI2P,KAAM,KAAKmqE,WAAL,CAAiBnoD,WAAjB,CAA6Br3B,KAA7B,CAAoCwgF,UAApC,CAAgD,KAAKjhD,oBAArD,CAAV,CACA,GAAIlqB,GAAJ,CAAS,CACL,KAAKorE,6BAAL,CAAmCprE,IAAIoQ,MAAvC,CAA+CrU,UAA/C,EACH,CACD,GAAI,CAACiE,GAAD,EAAQA,IAAIA,GAAJ,WAAmBmd,UAA/B,CAA0C,CACtC,KAAKwF,YAAL,CAAkB,mCAAlB,CAAuD5mB,UAAvD,EACA,MAAO,MAAKouE,WAAL,CAAiB7mD,oBAAjB,CAAsC,OAAtC,CAA+C6nD,UAA/C,CAAP,CACH,CACD,KAAKE,WAAL,CAAiBrrE,GAAjB,CAAsBjE,UAAtB,EACA,MAAOiE,IAAP,CACH,CACD,MAAOhV,CAAP,CAAU,CACN,KAAK23B,YAAL,CAAkB,GAAK33B,CAAvB,CAA0B+Q,UAA1B,EACA,MAAO,MAAKouE,WAAL,CAAiB7mD,oBAAjB,CAAsC,OAAtC,CAA+C6nD,UAA/C,CAAP,CACH,CACJ,CAlBD,CAmBAjB,cAAczgF,SAAd,CAAwBk5B,YAAxB,CAAuC,SAAUjI,OAAV,CAAmB3e,UAAnB,CAA+B0sB,KAA/B,CAAsC,CACzE,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQlgC,QAAQggC,eAAR,CAAwBG,KAAhC,CAAwC,CAChE,KAAKtY,MAAL,CAAYnlB,IAAZ,CAAiB,GAAIu9B,WAAJ,CAAezsB,UAAf,CAA2B2e,OAA3B,CAAoC+N,KAApC,CAAjB,EACH,CAHD,CAIAyhD,cAAczgF,SAAd,CAAwB2hF,6BAAxB,CAAwD,SAAUh7D,MAAV,CAAkBrU,UAAlB,CAA8B,CAClF,GAAI6jD,IAAJ,CAASpzD,EAAT,CACA,GAAI,CACA,IAAK,GAAI2gF,UAAW9iF,SAAS+lB,MAAT,CAAf,CAAiCg9D,WAAaD,SAASziF,IAAT,EAAnD,CAAoE,CAAC0iF,WAAWxiF,IAAhF,CAAsFwiF,WAAaD,SAASziF,IAAT,EAAnG,CAAoH,CAChH,GAAIujE,UAAWmf,WAAWziF,KAA1B,CACA,KAAKg4B,YAAL,CAAkBsrC,SAASvzC,OAA3B,CAAoC3e,UAApC,EACH,CACJ,CACD,MAAOgkD,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAIqtB,YAAc,CAACA,WAAWxiF,IAA1B,GAAmC4B,GAAK2gF,SAASntB,MAAjD,CAAJ,CAA8DxzD,GAAGrC,IAAH,CAAQgjF,QAAR,EACjE,CAFD,OAGQ,CAAE,GAAIvtB,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACJ,CAfD,CAgBA;AACAg/E,cAAczgF,SAAd,CAAwB4hF,WAAxB,CAAsC,SAAUrrE,GAAV,CAAejE,UAAf,CAA2B,CAC7D,GAAIzO,OAAQ,IAAZ,CACA,GAAI0S,KAAO,KAAKoqE,WAAhB,CAA6B,CACzB,GAAIiD,WAAY,GAAIC,cAAJ,EAAhB,CACAttE,IAAIhE,KAAJ,CAAUqxE,SAAV,EACAA,UAAU5mE,KAAV,CAAgBjZ,OAAhB,CAAwB,SAAUwS,GAAV,CAAeutE,QAAf,CAAyB,CAC7C,GAAI/hB,UAAWl+D,MAAM88E,WAAN,CAAkBh4E,GAAlB,CAAsBm7E,QAAtB,CAAf,CACA,GAAI,CAAC/hB,QAAL,CAAe,CACXl+D,MAAMq1B,YAAN,CAAmB,aAAe4qD,QAAf,CAA0B,sBAA7C,CAAqE,GAAIllD,gBAAJ,CAAoBtsB,WAAWqP,KAAX,CAAiB+b,MAAjB,CAAwBnnB,IAAIyL,IAAJ,CAASL,KAAjC,CAApB,CAA6DrP,WAAWqP,KAAX,CAAiB+b,MAAjB,CAAwBnnB,IAAIyL,IAAJ,CAASH,GAAjC,CAA7D,CAArE,EACH,CAFD,IAGK,CACDhe,MAAM+8E,UAAN,CAAiBh4E,GAAjB,CAAqBk7E,QAArB,CAA+B/hB,QAA/B,EACH,CACJ,CARD,EASH,CACJ,CAfD,CAgBA;;;;WAKA0e,cAAczgF,SAAd,CAAwBkjF,gCAAxB,CAA2D,SAAU95D,QAAV,CAAoB9W,UAApB,CAAgCyxE,MAAhC,CAAwC,CAC/F,GAAIC,QAASD,OAAS,KAAKppB,eAAL,CAAqBic,iBAArB,CAAuCxtD,QAAvC,CAAT,CACT,KAAKuxC,eAAL,CAAqBgc,gBAArB,CAAsCvtD,QAAtC,CADJ,CAEA,GAAI46D,OAAOviF,KAAX,CAAkB,CACd,KAAKy3B,YAAL,CAAkB8qD,OAAO7zE,GAAzB,CAA8BmC,UAA9B,CAA0CxT,QAAQggC,eAAR,CAAwBG,KAAlE,EACH,CACJ,CAND,CAOA,MAAOwhD,cAAP,CACH,CApUkC,EAAnC,CAqUA,GAAIoD,eAAgB,aAAe,SAAUptE,MAAV,CAAkB,CACjD5W,UAAUgkF,aAAV,CAAyBptE,MAAzB,EACA,QAASotE,cAAT,EAAyB,CACrB,GAAIhgF,OAAQ4S,SAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAAhE,CACAqD,MAAMmZ,KAAN,CAAc,GAAI9V,IAAJ,EAAd,CACA,MAAOrD,MAAP,CACH,CACDggF,cAAc7jF,SAAd,CAAwBi1B,SAAxB,CAAoC,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CACxD,KAAKoO,KAAL,CAAWpU,GAAX,CAAe2N,IAAIhS,IAAnB,CAAyBgS,GAAzB,EACAA,IAAIye,GAAJ,CAAQziB,KAAR,CAAc,IAAd,EACA,KAAKgP,QAAL,CAAchL,IAAIvK,IAAlB,CAAwB4C,OAAxB,EACA,MAAO,KAAP,CACH,CALD,CAMA,MAAOi1E,cAAP,CACH,CAdkC,CAcjC9sD,mBAdiC,CAAnC,CAeA,QAASwrD,iBAAT,CAA0Bh+E,IAA1B,CAAgC,CAC5B,MAAOA,MAAK,CAAL,GAAW,GAAlB,CACH,CACD,QAAS4+E,6BAAT,CAAsCc,QAAtC,CAAgD5+E,QAAhD,CAA0D+jB,QAA1D,CAAoEm5C,WAApE,CAAiF,CAC7E,GAAI2hB,MAAO,EAAX,CACAn/E,YAAYK,KAAZ,CAAkBC,QAAlB,EAA4BtB,OAA5B,CAAoC,SAAUsB,QAAV,CAAoB,CACpD,GAAI8+E,cAAe9+E,SAASL,OAAT,CAAmB,CAACK,SAASL,OAAV,CAAnB,CAAwCi/E,SAASpN,oBAAT,EAA3D,CACA,GAAIuN,iBAAkB,GAAIvnE,IAAJ,CAAQxX,SAASF,YAAT,CAAsBwiB,MAAtB,CAA6B,SAAUtiB,QAAV,CAAoB,CAAE,MAAOA,UAASc,iBAAT,EAAP,CAAsC,CAAzF,EACzB4C,GADyB,CACrB,SAAU1D,QAAV,CAAoB,CAAE,MAAOA,UAASL,OAAhB,CAA0B,CAD3B,CAAR,CAAtB,CAEA,GAAIq/E,sBAAuBF,aAAax8D,MAAb,CAAoB,SAAU7lB,WAAV,CAAuB,CAAE,MAAO,CAACsiF,gBAAgB7mE,GAAhB,CAAoBzb,WAApB,CAAR,CAA2C,CAAxF,CAA3B,CACAoiF,KAAK1iF,IAAL,CAAUb,KAAV,CAAgBujF,IAAhB,CAAsBxiF,SAAS2iF,qBAAqBt7E,GAArB,CAAyB,SAAUjH,WAAV,CAAuB,CAAE,MAAOmiF,UAASlxE,eAAT,CAAyBjR,WAAzB,CAAsCsnB,QAAtC,CAAgDm5C,WAAhD,CAAP,CAAsE,CAAxH,CAAT,CAAtB,EACH,CAND,EAOA,MAAO2hB,MAAKzjF,MAAL,GAAgB,CAAhB,CAAoB,CAACoM,gBAAgB6pE,IAAjB,CAApB,CAA6Ch3E,MAAM88C,IAAN,CAAW,GAAI3/B,IAAJ,CAAQqnE,IAAR,CAAX,EAA0B1yC,IAA1B,EAApD,CACH,CAED;;;;;;OAOA,GAAI8yC,kBAAmB,0GAAvB,CACA;AACA,GAAIC,aAAc,CAAlB,CACA;AACA,GAAIC,YAAa,CAAjB,CACA;AACA,GAAIC,YAAa,CAAjB,CACA;AACA,GAAIC,WAAY,CAAhB,CACA;AACA,GAAIC,eAAgB,CAApB,CACA;AACA,GAAIC,WAAY,CAAhB,CACA;AACA,GAAIC,cAAe,CAAnB,CACA;AACA,GAAIC,sBAAuB,CAA3B,CACA;AACA,GAAIC,oBAAqB,CAAzB,CACA;AACA,GAAIC,iBAAkB,EAAtB,CACA,GAAIC,sBAAuB,GAA3B,CACA,GAAIC,YAAa,OAAjB,CACA,GAAIC,mBAAJ,CACA,QAASC,kBAAT,EAA6B,CACzB,GAAI,CAACD,kBAAL,CAAyB,CACrBA,mBAAqBpgF,YAAYK,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAArB,CACH,CACD,MAAO+/E,mBAAP,CACH,CACD,GAAIE,oBAAqB,aAAe,SAAU5uE,MAAV,CAAkB,CACtD5W,UAAUwlF,kBAAV,CAA8B5uE,MAA9B,EACA,QAAS4uE,mBAAT,CAA4Bp0D,OAA5B,CAAqCjP,IAArC,CAA2Cgd,KAA3C,CAAkD,CAC9C,MAAOvoB,QAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwBiP,OAAxB,CAAiC+N,KAAjC,GAA2C,IAAlD,CACH,CACD,MAAOqmD,mBAAP,CACH,CANuC,CAMtCtmD,UANsC,CAAxC,CAOA,GAAIumD,qBAAsB,aAAe,UAAY,CACjD,QAASA,oBAAT,CAA6BC,WAA7B,CAA0CC,SAA1C,CAAqD7+D,MAArD,CAA6D,CACzD,KAAK4+D,WAAL,CAAmBA,WAAnB,CACA,KAAKC,SAAL,CAAiBA,SAAjB,CACA,KAAK7+D,MAAL,CAAcA,MAAd,CACH,CACD,MAAO2+D,oBAAP,CACH,CAPwC,EAAzC,CAQA,GAAIG,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwBjgE,OAAxB,CAAiC+C,UAAjC,CAA6Cm4D,WAA7C,CAA0D/lB,eAA1D,CAA2Ep1C,WAA3E,CAAwFs+B,QAAxF,CAAkG6hC,UAAlG,CAA8G,CAC1G,KAAKlgE,OAAL,CAAeA,OAAf,CACA,KAAK+C,UAAL,CAAkBA,UAAlB,CACA,KAAKm4D,WAAL,CAAmBA,WAAnB,CACA,KAAK/lB,eAAL,CAAuBA,eAAvB,CACA,KAAKp1C,WAAL,CAAmBA,WAAnB,CACA,KAAKs+B,QAAL,CAAgBA,QAAhB,CACA,KAAK6hC,UAAL,CAAkBA,UAAlB,CACH,CACDnmF,OAAOsgB,cAAP,CAAsB4lE,eAAezlF,SAArC,CAAgD,kBAAhD,CAAoE,CAChE2I,IAAK,UAAY,CAAE,MAAO,MAAK+3E,WAAZ,CAA0B,CADmB,CAEhE5gE,WAAY,IAFoD,CAGhEC,aAAc,IAHkD,CAApE,EAKA0lE,eAAezlF,SAAf,CAAyBoF,KAAzB,CAAiC,SAAU8/D,SAAV,CAAqBvrD,QAArB,CAA+BlF,UAA/B,CAA2CuI,KAA3C,CAAkDV,OAAlD,CAA2D1C,WAA3D,CAAwExC,mBAAxE,CAA6F,CAC1H,GAAIzQ,QAAS,KAAKg/E,QAAL,CAAczgB,SAAd,CAAyBvrD,QAAzB,CAAmClF,UAAnC,CAA+CuI,KAA/C,CAAsDV,OAAtD,CAA+D1C,WAA/D,CAA4ExC,mBAA5E,CAAb,CACA,GAAI6gB,UAAWtxB,OAAOggB,MAAP,CAAcgB,MAAd,CAAqB,SAAU68C,QAAV,CAAoB,CAAE,MAAOA,UAASxlC,KAAT,GAAmBlgC,QAAQggC,eAAR,CAAwBwjD,OAAlD,CAA4D,CAAvG,CAAf,CACA,GAAI37D,QAAShgB,OAAOggB,MAAP,CAAcgB,MAAd,CAAqB,SAAU68C,QAAV,CAAoB,CAAE,MAAOA,UAASxlC,KAAT,GAAmBlgC,QAAQggC,eAAR,CAAwBG,KAAlD,CAA0D,CAArG,CAAb,CACA,GAAIhH,SAASx3B,MAAT,CAAkB,CAAtB,CAAyB,CACrB,KAAKojD,QAAL,CAAc/N,IAAd,CAAmB,6BAA+B7d,SAAS1xB,IAAT,CAAc,IAAd,CAAlD,EACH,CACD,GAAIogB,OAAOlmB,MAAP,CAAgB,CAApB,CAAuB,CACnB,GAAImmB,aAAcD,OAAOpgB,IAAP,CAAY,IAAZ,CAAlB,CACA,KAAM6J,aAAY,2BAA6BwW,WAAzC,CAAsDD,MAAtD,CAAN,CACH,CACD,MAAO,CAAEhN,SAAUhT,OAAO4+E,WAAnB,CAAgCvoE,MAAOrW,OAAO6+E,SAA9C,CAAP,CACH,CAZD,CAaAC,eAAezlF,SAAf,CAAyB2lF,QAAzB,CAAoC,SAAUzgB,SAAV,CAAqBvrD,QAArB,CAA+BlF,UAA/B,CAA2CuI,KAA3C,CAAkDV,OAAlD,CAA2D1C,WAA3D,CAAwExC,mBAAxE,CAA6F,CAC7H,GAAIwuE,iBAAkB,MAAOjsE,SAAP,GAAoB,QAApB,CAClB,KAAK4L,WAAL,CAAiBngB,KAAjB,CAAuBuU,QAAvB,CAAiCC,WAAjC,CAA8C,IAA9C,CAAoD,KAAKisE,sBAAL,CAA4B3gB,SAA5B,CAApD,CADkB,CAElBvrD,QAFJ,CAGA,GAAI,CAACvC,mBAAL,CAA0B,CACtBwuE,gBAAkBtG,kBAAkBsG,eAAlB,CAAlB,CACH,CACD,MAAO,MAAKE,YAAL,CAAkB,KAAKC,UAAL,CAAgBH,eAAhB,CAAlB,CAAoD1gB,SAApD,CAA+DzwD,UAA/D,CAA2EuI,KAA3E,CAAkFV,OAAlF,CAAP,CACH,CARD,CASAmpE,eAAezlF,SAAf,CAAyB8lF,YAAzB,CAAwC,SAAUvG,iBAAV,CAA6Bra,SAA7B,CAAwCzwD,UAAxC,CAAoDuI,KAApD,CAA2DV,OAA3D,CAAoE,CACxG,GAAI3V,OAAJ,CACA,GAAIggB,QAAS44D,kBAAkB54D,MAA/B,CACA,GAAI6+D,WAAY,EAAhB,CACA,GAAIjG,kBAAkBv4D,SAAlB,CAA4BvmB,MAA5B,CAAqC,CAAzC,CAA4C,CACxC,GAAIulF,gBAAiBC,wBAAwBxxE,UAAxB,CAArB,CACA,GAAIyxE,WAAYD,wBAAwBjpE,KAAxB,CAAhB,CACA,GAAImpE,qBAAsB,GAAIlhB,oBAAJ,CAAwB,KAAK18C,UAA7B,CAAyC28C,SAAzC,CAA1B,CACA,GAAIz+C,qBAAsBrc,SAA1B,CACA,GAAI86D,UAAUvrD,QAAV,EAAsBurD,UAAUvrD,QAAV,CAAmBM,aAA7C,CAA4D,CACxDwM,oBAAsB,CAClB9E,MAAOujD,UAAUvrD,QAAV,CAAmBM,aAAnB,CAAiC,CAAjC,CADW,CAElB4H,IAAKqjD,UAAUvrD,QAAV,CAAmBM,aAAnB,CAAiC,CAAjC,CAFa,CAAtB,CAIH,CACD,GAAImsE,eAAgB,GAAI3F,cAAJ,CAAkB,KAAKC,WAAvB,CAAoCj6D,mBAApC,CAAyD,KAAKk0C,eAA9D,CAA+EurB,SAA/E,CAA0Fv/D,MAA1F,CAApB,CACA,GAAI0/D,cAAe,GAAIC,qBAAJ,CAAyB,KAAK/9D,UAA9B,CAA0C,KAAK/C,OAA/C,CAAwD2gE,mBAAxD,CAA6EH,cAA7E,CAA6FI,aAA7F,CAA4G,KAAKzrB,eAAjH,CAAkIr+C,OAAlI,CAA2IqK,MAA3I,CAAnB,CACAhgB,OAAS4a,SAAS8kE,YAAT,CAAuB9G,kBAAkBv4D,SAAzC,CAAoDu/D,qBAApD,CAAT,CACA5/D,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASykF,oBAAoBx/D,MAA7B,CAA1B,EACA6+D,UAAUhkF,IAAV,CAAeb,KAAf,CAAqB6kF,SAArB,CAAgC9jF,SAAS0kF,cAAcrF,YAAd,EAAT,CAAhC,EACH,CAhBD,IAiBK,CACDp6E,OAAS,EAAT,CACH,CACD,KAAK6/E,uCAAL,CAA6C7/E,MAA7C,CAAqDggB,MAArD,EACA,GAAIA,OAAOlmB,MAAP,CAAgB,CAApB,CAAuB,CACnB,MAAO,IAAI6kF,oBAAJ,CAAwB3+E,MAAxB,CAAgC6+E,SAAhC,CAA2C7+D,MAA3C,CAAP,CACH,CACD,GAAI,KAAK++D,UAAT,CAAqB,CACjB,KAAKA,UAAL,CAAgB3hF,OAAhB,CAAwB,SAAU0iF,SAAV,CAAqB,CAAE9/E,OAASgQ,iBAAiB8vE,SAAjB,CAA4B9/E,MAA5B,CAAT,CAA+C,CAA9F,EACH,CACD,MAAO,IAAI2+E,oBAAJ,CAAwB3+E,MAAxB,CAAgC6+E,SAAhC,CAA2C7+D,MAA3C,CAAP,CACH,CAhCD,CAiCA8+D,eAAezlF,SAAf,CAAyB+lF,UAAzB,CAAsC,SAAUxG,iBAAV,CAA6BmH,MAA7B,CAAqC,CACvE,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,KAAT,CAAiB,CAC1C,GAAI//D,QAAS44D,kBAAkB54D,MAA/B,CACA,GAAIA,OAAOlmB,MAAP,EAAiB,CAAjB,EAAsBimF,MAA1B,CAAkC,CAC9B;AACA,GAAIC,iBAAkBlH,YAAYF,kBAAkBv4D,SAA9B,CAAtB,CACAL,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASilF,gBAAgBhgE,MAAzB,CAA1B,EACA44D,kBAAoB,GAAI/3C,gBAAJ,CAAoBm/C,gBAAgBnlE,KAApC,CAA2CmF,MAA3C,CAApB,CACH,CACD,MAAO44D,kBAAP,CACH,CAVD,CAWAkG,eAAezlF,SAAf,CAAyB6lF,sBAAzB,CAAkD,SAAU3gB,SAAV,CAAqB,CACnE,GAAIA,UAAUvrD,QAAd,CAAwB,CACpB,MAAO6I,qBAAoBC,SAApB,CAA8ByiD,UAAUvrD,QAAV,CAAmBM,aAAjD,CAAP,CACH,CACD,MAAO7P,UAAP,CACH,CALD,CAMA,gBACAq7E,eAAezlF,SAAf,CAAyBwmF,uCAAzB,CAAmE,SAAU7/E,MAAV,CAAkBggB,MAAlB,CAA0B,CACzF,GAAIigE,oBAAqB,EAAzB,CACAjgF,OAAOghB,MAAP,CAAc,SAAU3iB,OAAV,CAAmB,CAAE,MAAO,CAAC,CAACA,QAAQwP,UAAjB,CAA8B,CAAjE,EACKzQ,OADL,CACa,SAAUiB,OAAV,CAAmB,CAAE,MAAOA,SAAQwP,UAAR,CAAmBzQ,OAAnB,CAA2B,SAAUwU,SAAV,CAAqB,CACrF,GAAIhU,MAAOgU,UAAUhU,IAArB,CACA,GAAIqiF,mBAAmB5kF,OAAnB,CAA2BuC,IAA3B,EAAmC,CAAvC,CAA0C,CACtCqiF,mBAAmBplF,IAAnB,CAAwB+C,IAAxB,EACH,CAFD,IAGK,CACD,GAAIigE,UAAW,GAAI6gB,mBAAJ,CAAuB,gBAAkB9gF,IAAlB,CAAyB,6BAAhD,CAA+EgU,UAAUjG,UAAzF,CAAqGxT,QAAQggC,eAAR,CAAwBG,KAA7H,CAAf,CACAtY,OAAOnlB,IAAP,CAAYgjE,QAAZ,EACH,CACJ,CATwC,CAAP,CAS7B,CAVL,EAWH,CAbD,CAcA,MAAOihB,eAAP,CACH,CAvGmC,EAApC,CAwGA,GAAIa,sBAAuB,aAAe,UAAY,CAClD,QAASA,qBAAT,CAA8B1+B,SAA9B,CAAyCzvB,MAAzC,CAAiDguD,mBAAjD,CAAsE1xE,UAAtE,CAAkFoyE,cAAlF,CAAkGlsB,eAAlG,CAAmHmsB,QAAnH,CAA6HC,aAA7H,CAA4I,CACxI,GAAIljF,OAAQ,IAAZ,CACA,KAAK+jD,SAAL,CAAiBA,SAAjB,CACA,KAAKzvB,MAAL,CAAcA,MAAd,CACA,KAAKguD,mBAAL,CAA2BA,mBAA3B,CACA,KAAKU,cAAL,CAAsBA,cAAtB,CACA,KAAKlsB,eAAL,CAAuBA,eAAvB,CACA,KAAKmsB,QAAL,CAAgBA,QAAhB,CACA,KAAKC,aAAL,CAAqBA,aAArB,CACA,KAAKC,eAAL,CAAuB,GAAIhgF,gBAAJ,EAAvB,CACA,KAAKigF,eAAL,CAAuB,GAAI//E,IAAJ,EAAvB,CACA,KAAKggF,cAAL,CAAsB,CAAtB,CACA;AACA,KAAKvxE,mBAAL,CAA2BwwE,oBAAoBjhB,SAApB,CAA8BpqD,WAA9B,CAA0Cra,MAA1C,CAAmD,CAA9E,CACAgU,WAAW1Q,OAAX,CAAmB,SAAUyR,SAAV,CAAqBxE,KAArB,CAA4B,CAC3C,GAAI3L,UAAWN,YAAYK,KAAZ,CAAkBoQ,UAAUnQ,QAA5B,CAAf,CACAxB,MAAMmjF,eAAN,CAAsBr/E,cAAtB,CAAqCtC,QAArC,CAA+CmQ,SAA/C,EACA3R,MAAMojF,eAAN,CAAsBr+E,GAAtB,CAA0B4M,SAA1B,CAAqCxE,KAArC,EACH,CAJD,EAKH,CACDs1E,qBAAqBtmF,SAArB,CAA+B0gB,cAA/B,CAAgD,SAAU69B,SAAV,CAAqB3vC,OAArB,CAA8B,CAAE,MAAO,KAAP,CAAc,CAA9F,CACA03E,qBAAqBtmF,SAArB,CAA+B+gB,kBAA/B,CAAoD,SAAUy9B,aAAV,CAAyB5vC,OAAzB,CAAkC,CAAE,MAAO,KAAP,CAAc,CAAtG,CACA03E,qBAAqBtmF,SAArB,CAA+BwS,SAA/B,CAA2C,SAAUqc,IAAV,CAAgB+a,MAAhB,CAAwB,CAC/D,GAAIv3B,gBAAiBu3B,OAAOu9C,kBAAP,CAA0B/B,mBAA1B,CAArB,CACA,GAAIgC,aAAcjI,YAAYtwD,KAAK3tB,KAAjB,CAAlB,CACA,GAAIk6B,MAAO,KAAKyrD,cAAL,CAAoBrtD,kBAApB,CAAuC4tD,WAAvC,CAAoDv4D,KAAKvc,UAAzD,CAAX,CACA,MAAO8oB,MAAO,GAAI3oB,aAAJ,CAAiB2oB,IAAjB,CAAuB/oB,cAAvB,CAAuCwc,KAAKvc,UAA5C,CAAP,CACH,GAAIF,QAAJ,CAAYg1E,WAAZ,CAAyB/0E,cAAzB,CAAyCwc,KAAKvc,UAA9C,CADJ,CAEH,CAND,CAOAg0E,qBAAqBtmF,SAArB,CAA+BkhB,cAA/B,CAAgD,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CAC1E,MAAO,IAAI+D,QAAJ,CAAY6/B,UAAUjuC,IAAtB,CAA4BiuC,UAAUtxC,KAAtC,CAA6CsxC,UAAUlgC,UAAvD,CAAP,CACH,CAFD,CAGAg0E,qBAAqBtmF,SAArB,CAA+BshB,YAA/B,CAA8C,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAE,MAAO,KAAP,CAAc,CAA1F,CACA03E,qBAAqBtmF,SAArB,CAA+B+U,YAA/B,CAA8C,SAAU/P,OAAV,CAAmB4kC,MAAnB,CAA2B,CACrE,GAAI/lC,OAAQ,IAAZ,CACA,GAAIwjF,iBAAkB,KAAK1xE,mBAA3B,CACA,GAAI2xE,QAAStiF,QAAQT,IAArB,CACA,GAAI2jB,kBAAmB/D,gBAAgBnf,OAAhB,CAAvB,CACA,GAAIkjB,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBI,MAA/C,EACAiD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBG,KADnD,CAC0D,CACtD;AACA;AACA;AACA,MAAO,KAAP,CACH,CACD,GAAIkD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBK,UAA/C,EACApC,qBAAqBoF,iBAAiB7D,QAAtC,CADJ,CACqD,CACjD;AACA;AACA,MAAO,KAAP,CACH,CACD,GAAIkjE,gBAAiB,EAArB,CACA,GAAIC,yBAA0B,EAA9B,CACA,GAAIC,wBAAyB,EAA7B,CACA,GAAIC,aAAc,EAAlB,CACA,GAAIC,QAAS,EAAb,CACA,GAAIC,iCAAkC,EAAtC,CACA,GAAIC,wBAAyB,EAA7B,CACA,GAAIC,qBAAsB,EAA1B,CACA,GAAIC,oBAAqB,KAAzB,CACA,GAAI7iF,OAAQ,EAAZ,CACA,GAAI8iF,mBAAoB1lF,aAAa0C,QAAQT,IAArB,CAAxB,CACAS,QAAQE,KAAR,CAAcnB,OAAd,CAAsB,SAAU0gB,IAAV,CAAgB,CAClC,GAAIwjE,iBAAkB,EAAtB,CACA,GAAIC,YAAarkF,MAAMskF,UAAN,CAAiBH,iBAAjB,CAAoCvjE,IAApC,CAA0C8iE,cAA1C,CAA0DC,uBAA1D,CAAmFG,MAAnF,CAA2FF,sBAA3F,CAAmHC,WAAnH,CAAjB,CACAA,YAAYlmF,IAAZ,CAAiBb,KAAjB,CAAuB+mF,WAAvB,CAAoChmF,SAASumF,gBAAgBl/E,GAAhB,CAAoB,SAAUoL,CAAV,CAAa,CAAE,MAAOF,aAAYC,kBAAZ,CAA+BC,CAA/B,CAAP,CAA2C,CAA9E,CAAT,CAApC,EACA,GAAIi0E,cAAJ,CACA,GAAIC,YAAJ,CACA,GAAIC,gBAAiBzkF,MAAM0kF,uBAAN,CAA8B9jE,KAAKlgB,IAAnC,CAArB,CACA,GAAI+jF,eAAe3wC,UAAf,CAA0BstC,oBAA1B,CAAJ,CAAqD,CACjDmD,cAAgB3jE,KAAKvjB,KAArB,CACAmnF,YAAcC,eAAe72E,SAAf,CAAyBwzE,qBAAqBxkF,MAA9C,CAAd,CACH,CACD,GAAI+nF,oBAAqBJ,eAAiB,IAA1C,CACA,GAAII,kBAAJ,CAAwB,CACpB,GAAIT,kBAAJ,CAAwB,CACpBlkF,MAAMq1B,YAAN,CAAmB,8FAAnB,CAAmHzU,KAAKnS,UAAxH,EACH,CACDy1E,mBAAqB,IAArB,CACA,GAAIU,mBAAoB,EAAxB,CACA5kF,MAAMgjF,cAAN,CAAqBhF,0BAArB,CAAgDwG,WAAhD,CAA6DD,aAA7D,CAA4E3jE,KAAKnS,UAAjF,CAA6Fu1E,sBAA7F,CAAqHD,+BAArH,CAAsJa,iBAAtJ,EACAX,oBAAoBtmF,IAApB,CAAyBb,KAAzB,CAA+BmnF,mBAA/B,CAAoDpmF,SAAS+mF,kBAAkB1/E,GAAlB,CAAsB,SAAUoL,CAAV,CAAa,CAAE,MAAOF,aAAYC,kBAAZ,CAA+BC,CAA/B,CAAP,CAA2C,CAAhF,CAAT,CAApD,EACH,CACD,GAAI,CAAC+zE,UAAD,EAAe,CAACM,kBAApB,CAAwC,CACpC;AACAtjF,MAAM1D,IAAN,CAAWqC,MAAMqd,cAAN,CAAqBuD,IAArB,CAA2B,IAA3B,CAAX,EACA8iE,eAAe/lF,IAAf,CAAoB,CAACijB,KAAKlgB,IAAN,CAAYkgB,KAAKvjB,KAAjB,CAApB,EACH,CACJ,CA1BD,EA2BA,GAAIwnF,oBAAqBC,yBAAyBrB,MAAzB,CAAiCC,cAAjC,CAAzB,CACA,GAAIxkF,IAAK,KAAK6lF,gBAAL,CAAsB,KAAK5B,eAA3B,CAA4C0B,kBAA5C,CAAT,CAA0EG,eAAiB9lF,GAAG0R,UAA9F,CAA0Gq0E,aAAe/lF,GAAG+lF,YAA5H,CACA,GAAIt0E,YAAa,EAAjB,CACA,GAAIu0E,yBAA0B,GAAIlsE,IAAJ,EAA9B,CACA,GAAImsE,eAAgB,KAAKC,oBAAL,CAA0BjB,iBAA1B,CAA6ChjF,QAAQT,IAArD,CAA2DskF,cAA3D,CAA2ErB,uBAA3E,CAAoGC,sBAApG,CAA4HziF,QAAQsN,UAApI,CAAgJkC,UAAhJ,CAA4Ju0E,uBAA5J,CAApB,CACA,GAAIG,cAAe,KAAKC,0BAAL,CAAgCnkF,QAAQT,IAAxC,CAA8CijF,uBAA9C,CAAuEuB,uBAAvE,CAAnB,CACA,GAAIK,YAAax/C,OAAOo+C,iBAAP,EAA4BD,kBAA7C,CACA,GAAIsB,iBAAkB,GAAIjkB,uBAAJ,CAA2B,KAAK+gB,mBAAhC,CAAqDv8C,OAAOy/C,eAA5D,CAA6ED,UAA7E,CAAyFJ,aAAzF,CAAwG9jF,KAAxG,CAA+GsP,UAA/G,CAA2HwzE,iBAA3H,CAA8IX,eAA9I,CAA+JriF,QAAQsN,UAAvK,CAAtB,CACA,GAAIuC,UAAW0M,SAAS2G,iBAAiB3D,WAAjB,CAA+B+kE,oBAA/B,CAAsD,IAA/D,CAAqEtkF,QAAQ6P,QAA7E,CAAuF00E,eAAetpF,MAAf,CAAsB+nF,iBAAtB,CAAyCgB,aAAzC,CAAwDhB,kBAAoBp+C,OAAOy/C,eAA3B,CAA6CA,eAArG,CAAvF,CAAf,CACAA,gBAAgBxiB,YAAhB,GACA;AACA,GAAI2iB,oBAAqBthE,iBAAiB1D,SAAjB,EAA8B,EAA9B,CACrBzf,YAAYK,KAAZ,CAAkB8iB,iBAAiB1D,SAAnC,EAA8C,CAA9C,CADqB,CAErBkkE,kBAFJ,CAGA,GAAIr2E,gBAAiBu3B,OAAOu9C,kBAAP,CAA0BqC,kBAA1B,CAArB,CACA,GAAIC,cAAJ,CACA,GAAIvhE,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBE,UAAnD,CAA+D,CAC3D;AACA,GAAI/f,QAAQ6P,QAAR,EAAoB,CAAC7P,QAAQ6P,QAAR,CAAiB47C,KAAjB,CAAuBi5B,gBAAvB,CAAzB,CAAmE,CAC/D,KAAKxwD,YAAL,CAAkB,2CAAlB,CAA+Dl0B,QAAQsN,UAAvE,EACH,CACDm3E,cAAgB,GAAIrzE,aAAJ,CAAiB,KAAK8wE,cAAL,EAAjB,CAAwCa,mBAAqB,IAArB,CAA4B11E,cAApE,CAAoFrN,QAAQsN,UAA5F,CAAhB,CACH,CAND,IAOK,IAAI01E,iBAAJ,CAAuB,CACxB;AACA,KAAK2B,qCAAL,CAA2CX,aAA3C,CAA0DrB,MAA1D,EACA,KAAKiC,+CAAL,CAAqDZ,aAArD,CAAoEE,YAApE,CAAkFlkF,QAAQsN,UAA1F,EACAm3E,cAAgB,GAAIz0E,oBAAJ,CAAwB9P,KAAxB,CAA+ByiF,MAA/B,CAAuCnzE,UAAvC,CAAmDkzE,WAAnD,CAAgE2B,gBAAgBQ,wBAAhF,CAA0GR,gBAAgBpiB,kBAA1H,CAA8IoiB,gBAAgBtjB,2BAA9J,CAA2LsjB,gBAAgBz0E,YAA3M,CAAyNC,QAAzN,CAAmOkzE,mBAAqB,IAArB,CAA4B11E,cAA/P,CAA+QrN,QAAQsN,UAAvR,CAAhB,CACH,CALI,IAMA,CACD;AACA,KAAKw3E,oBAAL,CAA0BhB,YAA1B,CAAwC9jF,OAAxC,EACA,KAAK+kF,uBAAL,CAA6Bf,aAA7B,CAA4ChkF,QAAQsN,UAApD,EACA,GAAI03E,kBAAmBjC,mBAAqB,IAArB,CAA4Bn+C,OAAOu9C,kBAAP,CAA0BqC,kBAA1B,CAAnD,CACAC,cAAgB,GAAIp1E,WAAJ,CAAeizE,MAAf,CAAuBpiF,KAAvB,CAA8BgkF,YAA9B,CAA4CvB,MAA5C,CAAoDnzE,UAApD,CAAgE60E,gBAAgBQ,wBAAhF,CAA0GR,gBAAgBpiB,kBAA1H,CAA8IoiB,gBAAgBtjB,2BAA9J,CAA2LsjB,gBAAgBz0E,YAA3M,CAAyNC,QAAzN,CAAmOkzE,mBAAqB,IAArB,CAA4BiC,gBAA/P,CAAiRhlF,QAAQsN,UAAzR,CAAqStN,QAAQ8P,aAAR,EAAyB,IAA9T,CAAhB,CACH,CACD,GAAIizE,kBAAJ,CAAwB,CACpB;AACA,GAAIkC,yBAA0B,KAAKt0E,mBAAnC,CACA,GAAIu0E,kBAAmBvB,yBAAyB,aAAzB,CAAwCd,sBAAxC,CAAvB,CACA,GAAIpzE,YAAa,KAAKm0E,gBAAL,CAAsB,KAAK5B,eAA3B,CAA4CkD,gBAA5C,EAA8Dz1E,UAA/E,CACA,GAAI01E,iCAAkC,GAAIttE,IAAJ,EAAtC,CACA,GAAIutE,uBAAwB,KAAKnB,oBAAL,CAA0B,IAA1B,CAAgC3B,MAAhC,CAAwC7yE,UAAxC,CAAoDmzE,+BAApD,CAAqF,EAArF,CAAyF5iF,QAAQsN,UAAjG,CAA6G,EAA7G,CAAiH63E,+BAAjH,CAA5B,CACA,GAAIE,sBAAuB,KAAKlB,0BAAL,CAAgC7B,MAAhC,CAAwCM,+BAAxC,CAAyEuC,+BAAzE,CAA3B,CACA,KAAKP,+CAAL,CAAqDQ,qBAArD,CAA4EC,oBAA5E,CAAkGrlF,QAAQsN,UAA1G,EACA,GAAIg4E,yBAA0B,GAAIllB,uBAAJ,CAA2B,KAAK+gB,mBAAhC,CAAqDv8C,OAAOy/C,eAA5D,CAA6Ez/C,OAAOo+C,iBAApF,CAAuGoC,qBAAvG,CAA8H,EAA9H,CAAkI,EAAlI,CAAsI,IAAtI,CAA4IH,uBAA5I,CAAqKjlF,QAAQsN,UAA7K,CAA9B,CACAg4E,wBAAwBzjB,YAAxB,GACA4iB,cAAgB,GAAIz0E,oBAAJ,CAAwB,EAAxB,CAA4B,EAA5B,CAAgC,EAAhC,CAAoC8yE,mBAApC,CAAyDwC,wBAAwBT,wBAAjF,CAA2GS,wBAAwBrjB,kBAAnI,CAAuJqjB,wBAAwBvkB,2BAA/K,CAA4MukB,wBAAwB11E,YAApO,CAAkP,CAAC60E,aAAD,CAAlP,CAAmQp3E,cAAnQ,CAAmRrN,QAAQsN,UAA3R,CAAhB,CACH,CACD,MAAOm3E,cAAP,CACH,CA1GD,CA2GAnD,qBAAqBtmF,SAArB,CAA+BmoF,UAA/B,CAA4C,SAAUH,iBAAV,CAA6BvjE,IAA7B,CAAmCq9D,oBAAnC,CAAyDC,WAAzD,CAAsEuB,YAAtE,CAAoFiH,UAApF,CAAgGvI,UAAhG,CAA4G,CACpJ,GAAIz9E,MAAO,KAAKgkF,uBAAL,CAA6B9jE,KAAKlgB,IAAlC,CAAX,CACA,GAAIrD,OAAQujB,KAAKvjB,KAAjB,CACA,GAAIspF,SAAU/lE,KAAKnS,UAAnB,CACA,GAAIm4E,aAAc,EAAlB,CACA,GAAIC,WAAYnmF,KAAKoB,KAAL,CAAW2+E,gBAAX,CAAhB,CACA,GAAI4D,YAAa,KAAjB,CACA,GAAIwC,YAAc,IAAlB,CAAwB,CACpBxC,WAAa,IAAb,CACA,GAAIwC,UAAUnG,WAAV,GAA0B,IAA9B,CAAoC,CAChC,KAAKsC,cAAL,CAAoB3F,oBAApB,CAAyCwJ,UAAU7F,YAAV,CAAzC,CAAkE3jF,KAAlE,CAAyE,KAAzE,CAAgFspF,OAAhF,CAAyF1I,oBAAzF,CAA+GC,WAA/G,EACH,CAFD,IAGK,IAAI2I,UAAUlG,UAAV,CAAJ,CAA2B,CAC5B,GAAIwD,iBAAJ,CAAuB,CACnB,GAAIvvE,YAAaiyE,UAAU7F,YAAV,CAAjB,CACA,KAAK8F,cAAL,CAAoBlyE,UAApB,CAAgCvX,KAAhC,CAAuCspF,OAAvC,CAAgDxI,UAAhD,EACH,CAHD,IAIK,CACD,KAAK9oD,YAAL,CAAkB,qDAAlB,CAAyEsxD,OAAzE,EACH,CACJ,CARI,IASA,IAAIE,UAAUjG,UAAV,CAAJ,CAA2B,CAC5B,GAAIhsE,YAAaiyE,UAAU7F,YAAV,CAAjB,CACA,KAAK+F,eAAL,CAAqBnyE,UAArB,CAAiCvX,KAAjC,CAAwCspF,OAAxC,CAAiDD,UAAjD,EACH,CAHI,IAIA,IAAIG,UAAUhG,SAAV,CAAJ,CAA0B,CAC3B,KAAKmC,cAAL,CAAoBpF,UAApB,CAA+BiJ,UAAU7F,YAAV,CAA/B,CAAwD3jF,KAAxD,CAA+DspF,OAA/D,CAAwE1I,oBAAxE,CAA8F2I,WAA9F,EACH,CAFI,IAGA,IAAIC,UAAU/F,aAAV,CAAJ,CAA8B,CAC/B,KAAKkC,cAAL,CAAoB3F,oBAApB,CAAyCwJ,UAAU7F,YAAV,CAAzC,CAAkE3jF,KAAlE,CAAyE,KAAzE,CAAgFspF,OAAhF,CAAyF1I,oBAAzF,CAA+GC,WAA/G,EACA,KAAK8I,qBAAL,CAA2BH,UAAU7F,YAAV,CAA3B,CAAoD3jF,KAApD,CAA2DspF,OAA3D,CAAoE1I,oBAApE,CAA0F2I,WAA1F,EACH,CAHI,IAIA,IAAIC,UAAU9F,SAAV,CAAJ,CAA0B,CAC3B,KAAKiC,cAAL,CAAoB1E,gBAApB,CAAqC59E,IAArC,CAA2CrD,KAA3C,CAAkDspF,OAAlD,CAA2D1I,oBAA3D,CAAiFC,WAAjF,EACH,CAFI,IAGA,IAAI2I,UAAU5F,oBAAV,CAAJ,CAAqC,CACtC,KAAK+B,cAAL,CAAoB3F,oBAApB,CAAyCwJ,UAAU5F,oBAAV,CAAzC,CAA0E5jF,KAA1E,CAAiF,KAAjF,CAAwFspF,OAAxF,CAAiG1I,oBAAjG,CAAuHC,WAAvH,EACA,KAAK8I,qBAAL,CAA2BH,UAAU5F,oBAAV,CAA3B,CAA4D5jF,KAA5D,CAAmEspF,OAAnE,CAA4E1I,oBAA5E,CAAkG2I,WAAlG,EACH,CAHI,IAIA,IAAIC,UAAU3F,kBAAV,CAAJ,CAAmC,CACpC,KAAK8B,cAAL,CAAoB3F,oBAApB,CAAyCwJ,UAAU3F,kBAAV,CAAzC,CAAwE7jF,KAAxE,CAA+E,KAA/E,CAAsFspF,OAAtF,CAA+F1I,oBAA/F,CAAqHC,WAArH,EACH,CAFI,IAGA,IAAI2I,UAAU1F,eAAV,CAAJ,CAAgC,CACjC,KAAK6B,cAAL,CAAoBpF,UAApB,CAA+BiJ,UAAU1F,eAAV,CAA/B,CAA2D9jF,KAA3D,CAAkEspF,OAAlE,CAA2E1I,oBAA3E,CAAiG2I,WAAjG,EACH,CACJ,CAtCD,IAuCK,CACDvC,WAAa,KAAKrB,cAAL,CAAoBlE,0BAApB,CAA+Cp+E,IAA/C,CAAqDrD,KAArD,CAA4DspF,OAA5D,CAAqE1I,oBAArE,CAA2FC,WAA3F,CAAb,CACH,CACD,GAAI,CAACmG,UAAL,CAAiB,CACb,KAAKrB,cAAL,CAAoB1E,gBAApB,CAAqC59E,IAArC,CAA2CrD,KAA3C,CAAkDspF,OAAlD,CAA2D1I,oBAA3D,CAAiFC,WAAjF,EACH,CACDuB,aAAa9hF,IAAb,CAAkBb,KAAlB,CAAwB2iF,YAAxB,CAAsC5hF,SAAS+oF,YAAY1hF,GAAZ,CAAgB,SAAUxH,CAAV,CAAa,CAAE,MAAO8R,eAAcK,eAAd,CAA8BnS,CAA9B,CAAP,CAA0C,CAAzE,CAAT,CAAtC,EACA,MAAO2mF,WAAP,CACH,CAtDD,CAuDA5B,qBAAqBtmF,SAArB,CAA+BuoF,uBAA/B,CAAyD,SAAU/hF,QAAV,CAAoB,CACzE,MAAO,WAAU+b,IAAV,CAAe/b,QAAf,EAA2BA,SAASiL,SAAT,CAAmB,CAAnB,CAA3B,CAAmDjL,QAA1D,CACH,CAFD,CAGA8/E,qBAAqBtmF,SAArB,CAA+B2qF,cAA/B,CAAgD,SAAUlyE,UAAV,CAAsBvX,KAAtB,CAA6BoR,UAA7B,CAAyC0vE,UAAzC,CAAqD,CACjG,GAAIvpE,WAAWzW,OAAX,CAAmB,GAAnB,EAA0B,CAAC,CAA/B,CAAkC,CAC9B,KAAKk3B,YAAL,CAAkB,wCAAlB,CAA4D5mB,UAA5D,EACH,CACD0vE,WAAWxgF,IAAX,CAAgB,GAAIyS,YAAJ,CAAgBwE,UAAhB,CAA4BvX,KAA5B,CAAmCoR,UAAnC,CAAhB,EACH,CALD,CAMAg0E,qBAAqBtmF,SAArB,CAA+B4qF,eAA/B,CAAiD,SAAUnyE,UAAV,CAAsBvX,KAAtB,CAA6BoR,UAA7B,CAAyCi4E,UAAzC,CAAqD,CAClG,GAAI9xE,WAAWzW,OAAX,CAAmB,GAAnB,EAA0B,CAAC,CAA/B,CAAkC,CAC9B,KAAKk3B,YAAL,CAAkB,yCAAlB,CAA6D5mB,UAA7D,EACH,CACDi4E,WAAW/oF,IAAX,CAAgB,GAAIspF,sBAAJ,CAA0BryE,UAA1B,CAAsCvX,KAAtC,CAA6CoR,UAA7C,CAAhB,EACH,CALD,CAMAg0E,qBAAqBtmF,SAArB,CAA+B6qF,qBAA/B,CAAuD,SAAUtmF,IAAV,CAAgBqc,UAAhB,CAA4BtO,UAA5B,CAAwCwvE,oBAAxC,CAA8DwB,YAA9D,CAA4E,CAC/H,KAAKuD,cAAL,CAAoBpF,UAApB,CAA+Bl9E,KAAO,QAAtC,CAAgDqc,WAAa,SAA7D,CAAwEtO,UAAxE,CAAoFwvE,oBAApF,CAA0GwB,YAA1G,EACH,CAFD,CAGAgD,qBAAqBtmF,SAArB,CAA+B4oF,gBAA/B,CAAkD,SAAU5B,eAAV,CAA2B0B,kBAA3B,CAA+C,CAC7F,GAAI7kF,OAAQ,IAAZ,CACA;AACA;AACA;AACA,GAAI4Q,YAAa,GAAI/U,MAAJ,CAAU,KAAKunF,eAAL,CAAqB5S,IAA/B,CAAjB,CACA;AACA,GAAIyU,cAAe,KAAnB,CACA9B,gBAAgBrhF,KAAhB,CAAsB+iF,kBAAtB,CAA0C,SAAUrjF,QAAV,CAAoBmQ,SAApB,CAA+B,CACrEf,WAAW5Q,MAAMojF,eAAN,CAAsBt+E,GAAtB,CAA0B6M,SAA1B,CAAX,EAAmDA,SAAnD,CACAszE,aAAeA,cAAgBzjF,SAASe,kBAAT,EAA/B,CACH,CAHD,EAIA,MAAO,CACHqO,WAAYA,WAAWkT,MAAX,CAAkB,SAAU3c,GAAV,CAAe,CAAE,MAAO,CAAC,CAACA,GAAT,CAAe,CAAlD,CADT,CAEH89E,aAAcA,YAFX,CAAP,CAIH,CAhBD,CAiBAxC,qBAAqBtmF,SAArB,CAA+BipF,oBAA/B,CAAsD,SAAUjB,iBAAV,CAA6BlmF,WAA7B,CAA0C2S,UAA1C,CAAsD1H,KAAtD,CAA6D06E,sBAA7D,CAAqFsD,iBAArF,CAAwGC,gBAAxG,CAA0HC,6BAA1H,CAAyJ,CAC3M,GAAIpnF,OAAQ,IAAZ,CACA,GAAIqnF,mBAAoB,GAAIruE,IAAJ,EAAxB,CACA,GAAIqoD,WAAY,IAAhB,CACA,GAAI8jB,eAAgBv0E,WAAW1L,GAAX,CAAe,SAAUyM,SAAV,CAAqB,CACpD,GAAIlD,YAAa,GAAIssB,gBAAJ,CAAoBmsD,kBAAkBppE,KAAtC,CAA6CopE,kBAAkBlpE,GAA/D,CAAoE,aAAexJ,eAAe7C,UAAU7D,IAAzB,CAAnF,CAAjB,CACA,GAAI6D,UAAU+E,WAAd,CAA2B,CACvB2qD,UAAY1vD,SAAZ,CACH,CACD,GAAI21E,qBAAsB,EAA1B,CACA,GAAIC,iBAAkBvnF,MAAMgjF,cAAN,CAAqB1F,+BAArB,CAAqD3rE,SAArD,CAAgE1T,WAAhE,CAA6EwQ,UAA7E,CAAtB,CACA,GAAImD,gBAAiB21E,gBAAgBriF,GAAhB,CAAoB,SAAUoK,IAAV,CAAgB,CAAE,MAAOL,yBAAwBI,iBAAxB,CAA0CC,IAA1C,CAAP,CAAyD,CAA/F,CAArB,CACA;AACA;AACAsC,eAAiB5R,MAAMwnF,wBAAN,CAA+BvpF,WAA/B,CAA4C2T,cAA5C,CAAjB,CACA,GAAI61E,cAAeznF,MAAMgjF,cAAN,CAAqBtF,4BAArB,CAAkD/rE,SAAlD,CAA6DlD,UAA7D,CAAnB,CACAzO,MAAM0nF,4BAAN,CAAmC/1E,UAAUlB,MAA7C,CAAqDvH,KAArD,CAA4Do+E,mBAA5D,CAAiFF,6BAAjF,EACAxD,uBAAuB1jF,OAAvB,CAA+B,SAAUynF,UAAV,CAAsB,CACjD,GAAKA,WAAWtqF,KAAX,CAAiBT,MAAjB,GAA4B,CAA5B,EAAiC+U,UAAU+E,WAA5C,EACCixE,WAAWC,sBAAX,CAAkCj2E,SAAlC,CADL,CACoD,CAChDw1E,iBAAiBxpF,IAAjB,CAAsB,GAAIsS,aAAJ,CAAiB03E,WAAWjnF,IAA5B,CAAkCmjD,wBAAwBlyC,UAAU7D,IAAV,CAAe4G,SAAvC,CAAlC,CAAqFizE,WAAWtqF,KAAhG,CAAuGsqF,WAAWl5E,UAAlH,CAAtB,EACA44E,kBAAkB1tE,GAAlB,CAAsBguE,WAAWjnF,IAAjC,EACH,CACJ,CAND,EAOA,GAAImR,YAAa41E,aAAaviF,GAAb,CAAiB,SAAUxH,CAAV,CAAa,CAAE,MAAO8R,eAAcK,eAAd,CAA8BnS,CAA9B,CAAP,CAA0C,CAA1E,CAAjB,CACA,GAAIoU,qBAAsB9R,MAAM8R,mBAAhC,CACA9R,MAAM8R,mBAAN,EAA6BH,UAAUoF,OAAV,CAAkBna,MAA/C,CACA,MAAO,IAAI8U,aAAJ,CAAiBC,SAAjB,CAA4B21E,mBAA5B,CAAiD11E,cAAjD,CAAiEC,UAAjE,CAA6EC,mBAA7E,CAAkGrD,UAAlG,CAAP,CACH,CAxBmB,CAApB,CAyBAm1E,uBAAuB1jF,OAAvB,CAA+B,SAAUynF,UAAV,CAAsB,CACjD,GAAIA,WAAWtqF,KAAX,CAAiBT,MAAjB,CAA0B,CAA9B,CAAiC,CAC7B,GAAI,CAACyqF,kBAAkB3tE,GAAlB,CAAsBiuE,WAAWjnF,IAAjC,CAAL,CAA6C,CACzCV,MAAMq1B,YAAN,CAAmB,oDAAsDsyD,WAAWtqF,KAAjE,CAAyE,IAA5F,CAAkGsqF,WAAWl5E,UAA7G,EACH,CACJ,CAJD,IAKK,IAAI,CAAC4yD,SAAL,CAAgB,CACjB,GAAIwmB,UAAW,IAAf,CACA,GAAI1D,iBAAJ,CAAuB,CACnB0D,SAAW/jC,gCAAgC9jD,MAAM+jD,SAAtC,CAAiDlD,YAAYQ,WAA7D,CAAX,CACH,CACD8lC,iBAAiBxpF,IAAjB,CAAsB,GAAIsS,aAAJ,CAAiB03E,WAAWjnF,IAA5B,CAAkCmnF,QAAlC,CAA4CF,WAAWtqF,KAAvD,CAA8DsqF,WAAWl5E,UAAzE,CAAtB,EACH,CACJ,CAbD,EAcA,MAAO02E,cAAP,CACH,CA5CD,CA6CA1C,qBAAqBtmF,SAArB,CAA+BurF,4BAA/B,CAA8D,SAAUJ,mBAAV,CAA+B9J,UAA/B,CAA2CsK,yBAA3C,CAAsEV,6BAAtE,CAAqG,CAC/J,GAAIE,mBAAJ,CAAyB,CACrB,GAAIS,oBAAqB,GAAI1kF,IAAJ,EAAzB,CACAm6E,WAAWt9E,OAAX,CAAmB,SAAU++E,SAAV,CAAqB,CACpC,GAAI+I,WAAYD,mBAAmBjjF,GAAnB,CAAuBm6E,UAAUv+E,IAAjC,CAAhB,CACA,GAAI,CAACsnF,SAAD,EAAcA,UAAUv0D,SAA5B,CAAuC,CACnC;AACAs0D,mBAAmBhjF,GAAnB,CAAuBk6E,UAAUv+E,IAAjC,CAAuCu+E,SAAvC,EACH,CACJ,CAND,EAOAvjF,OAAOiQ,IAAP,CAAY27E,mBAAZ,EAAiCpnF,OAAjC,CAAyC,SAAU+nF,OAAV,CAAmB,CACxD,GAAIC,QAASZ,oBAAoBW,OAApB,CAAb,CACA,GAAIhJ,WAAY8I,mBAAmBjjF,GAAnB,CAAuBojF,MAAvB,CAAhB,CACA;AACA,GAAIjJ,SAAJ,CAAe,CACXmI,8BAA8BztE,GAA9B,CAAkCslE,UAAUv+E,IAA5C,EACA,GAAI,CAACynF,kBAAkBlJ,UAAUliE,UAA5B,CAAL,CAA8C,CAC1C+qE,0BAA0BnqF,IAA1B,CAA+B,GAAI2T,0BAAJ,CAA8B22E,OAA9B,CAAuChJ,UAAUv+E,IAAjD,CAAuDu+E,UAAUliE,UAAjE,CAA6EkiE,UAAUxwE,UAAvF,CAA/B,EACH,CACJ,CACJ,CAVD,EAWH,CACJ,CAtBD,CAuBAg0E,qBAAqBtmF,SAArB,CAA+BmpF,0BAA/B,CAA4D,SAAUrnF,WAAV,CAAuBiL,KAAvB,CAA8Bg8E,uBAA9B,CAAuD,CAC/G,GAAIllF,OAAQ,IAAZ,CACA,GAAIooF,mBAAoB,EAAxB,CACAl/E,MAAMhJ,OAAN,CAAc,SAAUoP,IAAV,CAAgB,CAC1B,GAAI,CAACA,KAAKmkB,SAAN,EAAmB,CAACyxD,wBAAwBxrE,GAAxB,CAA4BpK,KAAK5O,IAAjC,CAAxB,CAAgE,CAC5D,GAAIu+E,WAAYj/E,MAAMgjF,cAAN,CAAqBvF,0BAArB,CAAgDx/E,WAAhD,CAA6DqR,IAA7D,CAAhB,CACA84E,kBAAkBzqF,IAAlB,CAAuBsR,wBAAwBI,iBAAxB,CAA0C4vE,SAA1C,CAAvB,EACH,CACJ,CALD,EAMA,MAAO,MAAKuI,wBAAL,CAA8BvpF,WAA9B,CAA2CmqF,iBAA3C,CAAP,CACH,CAVD,CAWA3F,qBAAqBtmF,SAArB,CAA+BksF,wBAA/B,CAA0D,SAAUz3E,UAAV,CAAsB,CAC5E,MAAOA,YAAWkT,MAAX,CAAkB,SAAUnS,SAAV,CAAqB,CAAE,MAAOA,WAAUA,SAAV,CAAoB+E,WAA3B,CAAyC,CAAlF,CAAP,CACH,CAFD,CAGA+rE,qBAAqBtmF,SAArB,CAA+BmsF,4BAA/B,CAA8D,SAAU13E,UAAV,CAAsB,CAChF,MAAO,MAAKy3E,wBAAL,CAA8Bz3E,UAA9B,EACF1L,GADE,CACE,SAAUyM,SAAV,CAAqB,CAAE,MAAO6C,gBAAe7C,UAAUA,SAAV,CAAoB7D,IAAnC,CAAP,CAAkD,CAD3E,CAAP,CAEH,CAHD,CAIA20E,qBAAqBtmF,SAArB,CAA+B+pF,uBAA/B,CAAyD,SAAUt1E,UAAV,CAAsBnC,UAAtB,CAAkC,CACvF,GAAI85E,oBAAqB,KAAKD,4BAAL,CAAkC13E,UAAlC,CAAzB,CACA,GAAI23E,mBAAmB3rF,MAAnB,CAA4B,CAAhC,CAAmC,CAC/B,KAAKy4B,YAAL,CAAkB,qDACd,2EADc,EAEb,2BAA6BkzD,mBAAmB7lF,IAAnB,CAAwB,GAAxB,CAFhB,CAAlB,CAEiE+L,UAFjE,EAGH,CACJ,CAPD,CAQA;;;;;;;;WASAg0E,qBAAqBtmF,SAArB,CAA+B8pF,oBAA/B,CAAsD,SAAUhB,YAAV,CAAwB9jF,OAAxB,CAAiC,CACnF,GAAIsiF,QAAStiF,QAAQT,IAAR,CAAa0J,OAAb,CAAqB,UAArB,CAAiC,EAAjC,CAAb,CACA,GAAI,CAAC66E,YAAD,EAAiB,CAAC,KAAKnuB,eAAL,CAAqB6b,UAArB,CAAgC8Q,MAAhC,CAAwC,KAAKR,QAA7C,CAAtB,CAA8E,CAC1E,GAAIpnD,UAAW,IAAM4nD,MAAN,CAAe,6BAA9B,CACA5nD,UACI,UAAY4nD,MAAZ,CAAqB,0EADzB,CAEA,GAAIA,OAAOtlF,OAAP,CAAe,GAAf,EAAsB,CAAC,CAA3B,CAA8B,CAC1B09B,UACI,UAAY4nD,MAAZ,CAAqB,+HADzB,CAEH,CAHD,IAIK,CACD5nD,UACI,8FADJ,CAEH,CACD,KAAKxG,YAAL,CAAkBwG,QAAlB,CAA4B16B,QAAQsN,UAApC,EACH,CACJ,CAhBD,CAiBAg0E,qBAAqBtmF,SAArB,CAA+B4pF,+CAA/B,CAAiF,SAAUn1E,UAAV,CAAsBy0E,YAAtB,CAAoC52E,UAApC,CAAgD,CAC7H,GAAIzO,OAAQ,IAAZ,CACA,GAAIuoF,oBAAqB,KAAKD,4BAAL,CAAkC13E,UAAlC,CAAzB,CACA,GAAI23E,mBAAmB3rF,MAAnB,CAA4B,CAAhC,CAAmC,CAC/B,KAAKy4B,YAAL,CAAkB,uCAAyCkzD,mBAAmB7lF,IAAnB,CAAwB,GAAxB,CAA3D,CAAyF+L,UAAzF,EACH,CACD42E,aAAanlF,OAAb,CAAqB,SAAUoP,IAAV,CAAgB,CACjCtP,MAAMq1B,YAAN,CAAmB,oBAAsB/lB,KAAK5O,IAA3B,CAAkC,4KAArD,CAAmO+N,UAAnO,EACH,CAFD,EAGH,CATD,CAUAg0E,qBAAqBtmF,SAArB,CAA+B2pF,qCAA/B,CAAuE,SAAUl1E,UAAV,CAAsBkzE,MAAtB,CAA8B,CACjG,GAAI9jF,OAAQ,IAAZ,CACA,GAAIwoF,oBAAqB,GAAIxvE,IAAJ,EAAzB,CACApI,WAAW1Q,OAAX,CAAmB,SAAUyR,SAAV,CAAqB,CACpCjW,OAAOiQ,IAAP,CAAYgG,UAAUA,SAAV,CAAoBjB,OAAhC,EAAyCxQ,OAAzC,CAAiD,SAAUonC,CAAV,CAAa,CAC1D,GAAIp/B,WAAYyJ,UAAUA,SAAV,CAAoBjB,OAApB,CAA4B42B,CAA5B,CAAhB,CACAkhD,mBAAmB7uE,GAAnB,CAAuBzR,SAAvB,EACH,CAHD,EAIH,CALD,EAMA47E,OAAO5jF,OAAP,CAAe,SAAU4P,KAAV,CAAiB,CAC5B,GAAIA,MAAML,MAAN,EAAgB,IAAhB,EAAwB,CAAC+4E,mBAAmB9uE,GAAnB,CAAuB5J,MAAMpP,IAA7B,CAA7B,CAAiE,CAC7DV,MAAMq1B,YAAN,CAAmB,iBAAmBvlB,MAAMnR,QAAzB,CAAoC,4KAAvD,CAAqOmR,MAAMrB,UAA3O,EACH,CACJ,CAJD,EAKH,CAdD,CAeAg0E,qBAAqBtmF,SAArB,CAA+BqrF,wBAA/B,CAA0D,SAAUvpF,WAAV,CAAuBu/E,UAAvB,CAAmC,CACzF,GAAIx9E,OAAQ,IAAZ,CACA;AACA;AACA,MAAOw9E,YAAW15D,MAAX,CAAkB,SAAUm7D,SAAV,CAAqB,CAC1C,GAAIA,UAAUnxE,IAAV,GAAmB,CAAE,cAArB,EACA,CAAC9N,MAAM82D,eAAN,CAAsByb,WAAtB,CAAkCt0E,WAAlC,CAA+CghF,UAAUv+E,IAAzD,CAA+DV,MAAMijF,QAArE,CADL,CACqF,CACjF,GAAIpnD,UAAW,kBAAoBojD,UAAUv+E,IAA9B,CAAqC,wCAArC,CAAgFzC,WAAhF,CAA8F,IAA7G,CACA,GAAIA,YAAY61C,UAAZ,CAAuB,KAAvB,CAAJ,CAAmC,CAC/BjY,UACI,YAAcojD,UAAUv+E,IAAxB,CAA+B,kGAA/B,CACI,iGAFR,CAGH,CAJD,IAKK,IAAIzC,YAAYE,OAAZ,CAAoB,GAApB,EAA2B,CAAC,CAAhC,CAAmC,CACpC09B,UACI,YAAc59B,WAAd,CAA4B,wCAA5B,CAAuEghF,UAAUv+E,IAAjF,CAAwF,sDAAxF,EACK,YAAczC,WAAd,CAA4B,+HADjC,EAEI,iGAHR,CAIH,CACD+B,MAAMq1B,YAAN,CAAmBwG,QAAnB,CAA6BojD,UAAUxwE,UAAvC,EACH,CACD,MAAO,CAAC05E,kBAAkBlJ,UAAU5hF,KAA5B,CAAR,CACH,CAlBM,CAAP,CAmBH,CAvBD,CAwBAolF,qBAAqBtmF,SAArB,CAA+Bk5B,YAA/B,CAA8C,SAAUjI,OAAV,CAAmB3e,UAAnB,CAA+B0sB,KAA/B,CAAsC,CAChF,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQlgC,QAAQggC,eAAR,CAAwBG,KAAhC,CAAwC,CAChE,KAAK8nD,aAAL,CAAmBvlF,IAAnB,CAAwB,GAAIu9B,WAAJ,CAAezsB,UAAf,CAA2B2e,OAA3B,CAAoC+N,KAApC,CAAxB,EACH,CAHD,CAIA,MAAOsnD,qBAAP,CACH,CArZyC,EAA1C,CAsZA,GAAIgG,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,EAA8B,CAC7B,CACDA,mBAAmBtsF,SAAnB,CAA6B+U,YAA7B,CAA4C,SAAUwB,GAAV,CAAeqzB,MAAf,CAAuB,CAC/D,GAAI1hB,kBAAmB/D,gBAAgB5N,GAAhB,CAAvB,CACA,GAAI2R,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBI,MAA/C,EACAiD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBG,KAD/C,EAEAkD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBK,UAFnD,CAE+D,CAC3D;AACA;AACA;AACA,MAAO,KAAP,CACH,CACD,GAAIqnE,mBAAoBh2E,IAAIrR,KAAJ,CAAU6D,GAAV,CAAc,SAAU0b,IAAV,CAAgB,CAAE,MAAO,CAACA,KAAKlgB,IAAN,CAAYkgB,KAAKvjB,KAAjB,CAAP,CAAiC,CAAjE,CAAxB,CACA,GAAImE,UAAWsjF,yBAAyBpyE,IAAIhS,IAA7B,CAAmCgoF,iBAAnC,CAAf,CACA,GAAIl6E,gBAAiBu3B,OAAOu9C,kBAAP,CAA0B9hF,QAA1B,CAArB,CACA,GAAIwP,UAAW0M,SAAS,IAAT,CAAehL,IAAI1B,QAAnB,CAA6B0xE,qBAA7B,CAAf,CACA,MAAO,IAAIlyE,WAAJ,CAAekC,IAAIhS,IAAnB,CAAyBgd,SAAS,IAAT,CAAehL,IAAIrR,KAAnB,CAAzB,CAAoD,EAApD,CAAwD,EAAxD,CAA4D,EAA5D,CAAgE,EAAhE,CAAoE,EAApE,CAAwE,KAAxE,CAA+E,EAA/E,CAAmF2P,QAAnF,CAA6FxC,cAA7F,CAA6GkE,IAAIjE,UAAjH,CAA6HiE,IAAIzB,aAAjI,CAAP,CACH,CAfD,CAgBAw3E,mBAAmBtsF,SAAnB,CAA6BshB,YAA7B,CAA4C,SAAUoxB,OAAV,CAAmB9jC,OAAnB,CAA4B,CAAE,MAAO,KAAP,CAAc,CAAxF,CACA09E,mBAAmBtsF,SAAnB,CAA6BkhB,cAA7B,CAA8C,SAAUsxB,SAAV,CAAqB5jC,OAArB,CAA8B,CACxE,MAAO,IAAI+D,QAAJ,CAAY6/B,UAAUjuC,IAAtB,CAA4BiuC,UAAUtxC,KAAtC,CAA6CsxC,UAAUlgC,UAAvD,CAAP,CACH,CAFD,CAGAg6E,mBAAmBtsF,SAAnB,CAA6BwS,SAA7B,CAAyC,SAAUqc,IAAV,CAAgB+a,MAAhB,CAAwB,CAC7D,GAAIv3B,gBAAiBu3B,OAAOu9C,kBAAP,CAA0B/B,mBAA1B,CAArB,CACA,MAAO,IAAIhzE,QAAJ,CAAYyc,KAAK3tB,KAAjB,CAAwBmR,cAAxB,CAAwCwc,KAAKvc,UAA7C,CAAP,CACH,CAHD,CAIAg6E,mBAAmBtsF,SAAnB,CAA6B0gB,cAA7B,CAA8C,SAAU69B,SAAV,CAAqB3vC,OAArB,CAA8B,CAAE,MAAO2vC,UAAP,CAAmB,CAAjG,CACA+tC,mBAAmBtsF,SAAnB,CAA6B+gB,kBAA7B,CAAkD,SAAUy9B,aAAV,CAAyB5vC,OAAzB,CAAkC,CAAE,MAAO4vC,cAAP,CAAuB,CAA7G,CACA,MAAO8tC,mBAAP,CACH,CA9BuC,EAAxC,CA+BA;;;;;;OAOA,GAAIxB,uBAAwB,aAAe,UAAY,CACnD,QAASA,sBAAT,CAA+BvmF,IAA/B,CAAqCrD,KAArC,CAA4CoR,UAA5C,CAAwD,CACpD,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD,+DACAw4E,sBAAsB9qF,SAAtB,CAAgCyrF,sBAAhC,CAAyD,SAAUj2E,SAAV,CAAqB,CAC1E,MAAOg3E,eAAch3E,UAAUgF,QAAxB,EAAkCxY,OAAlC,CAA0C,KAAKd,KAA/C,IAA0D,CAAC,CAAlE,CACH,CAFD,CAGA,MAAO4pF,sBAAP,CACH,CAX0C,EAA3C,CAYA,yFACA,QAAS0B,cAAT,CAAuBhyE,QAAvB,CAAiC,CAC7B,MAAOA,UAAWA,SAASzI,KAAT,CAAe,GAAf,EAAoBhJ,GAApB,CAAwB,SAAUxH,CAAV,CAAa,CAAE,MAAOA,GAAEkN,IAAF,EAAP,CAAkB,CAAzD,CAAX,CAAwE,EAA/E,CACH,CACD,QAASg+E,aAAT,CAAsBC,cAAtB,CAAsC,CAClC,MAAOA,gBAAej+E,IAAf,GAAsBsD,KAAtB,CAA4B,MAA5B,CAAP,CACH,CACD,GAAIw3E,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwBvB,iBAAxB,CAA2C2E,sBAA3C,CAAmEC,uBAAnE,CAA4FvD,eAA5F,CAA6G,CACzG,KAAKrB,iBAAL,CAAyBA,iBAAzB,CACA,KAAK2E,sBAAL,CAA8BA,sBAA9B,CACA,KAAKC,uBAAL,CAA+BA,uBAA/B,CACA,KAAKvD,eAAL,CAAuBA,eAAvB,CACH,CACDE,eAAetpF,MAAf,CAAwB,SAAU+nF,iBAAV,CAA6BvzE,UAA7B,CAAyC40E,eAAzC,CAA0D,CAC9E,GAAIphF,SAAU,GAAIjB,gBAAJ,EAAd,CACA,GAAI6lF,wBAAyB,IAA7B,CACA,GAAI3nB,WAAYzwD,WAAW2jC,IAAX,CAAgB,SAAU5iC,SAAV,CAAqB,CAAE,MAAOA,WAAUA,SAAV,CAAoB+E,WAA3B,CAAyC,CAAhF,CAAhB,CACA,GAAI2qD,SAAJ,CAAe,CACX,GAAIlrD,oBAAqBkrD,UAAU1vD,SAAV,CAAoBmE,QAApB,CAA6BK,kBAAtD,CACA,IAAK,GAAI1Z,GAAI,CAAb,CAAgBA,EAAI0Z,mBAAmBvZ,MAAvC,CAA+CH,GAA/C,CAAoD,CAChD,GAAI+E,UAAW2U,mBAAmB1Z,CAAnB,CAAf,CACA,GAAI+E,WAAa,GAAjB,CAAsB,CAClBwnF,uBAAyBvsF,CAAzB,CACH,CAFD,IAGK,CACD2H,QAAQN,cAAR,CAAuB5C,YAAYK,KAAZ,CAAkB4U,mBAAmB1Z,CAAnB,CAAlB,CAAvB,CAAiEA,CAAjE,EACH,CACJ,CACJ,CACD,MAAO,IAAIipF,eAAJ,CAAmBvB,iBAAnB,CAAsC//E,OAAtC,CAA+C4kF,sBAA/C,CAAuExD,eAAvE,CAAP,CACH,CAjBD,CAkBAE,eAAevpF,SAAf,CAAyBmnF,kBAAzB,CAA8C,SAAU9hF,QAAV,CAAoB,CAC9D,GAAIynF,kBAAmB,EAAvB,CACA,KAAKH,sBAAL,CAA4BhnF,KAA5B,CAAkCN,QAAlC,CAA4C,SAAUA,QAAV,CAAoBgN,cAApB,CAAoC,CAAEy6E,iBAAiBtrF,IAAjB,CAAsB6Q,cAAtB,EAAwC,CAA1H,EACAy6E,iBAAiBt7C,IAAjB,GACA,GAAI,KAAKo7C,uBAAL,EAAgC,IAApC,CAA0C,CACtCE,iBAAiBtrF,IAAjB,CAAsB,KAAKorF,uBAA3B,EACH,CACD,MAAOE,kBAAiBrsF,MAAjB,CAA0B,CAA1B,CAA8BqsF,iBAAiB,CAAjB,CAA9B,CAAoD,IAA3D,CACH,CARD,CASA,MAAOvD,eAAP,CACH,CAnCmC,EAApC,CAoCA,QAASZ,yBAAT,CAAkC7mF,WAAlC,CAA+Cg2C,UAA/C,CAA2D,CACvD,GAAIpyC,aAAc,GAAIX,YAAJ,EAAlB,CACA,GAAIgoF,YAAalrF,YAAYC,WAAZ,EAAyB,CAAzB,CAAjB,CACA4D,YAAYM,UAAZ,CAAuB+mF,UAAvB,EACA,IAAK,GAAIzsF,GAAI,CAAb,CAAgBA,EAAIw3C,WAAWr3C,MAA/B,CAAuCH,GAAvC,CAA4C,CACxC,GAAIkG,UAAWsxC,WAAWx3C,CAAX,EAAc,CAAd,CAAf,CACA,GAAI0sF,cAAenrF,YAAY2E,QAAZ,EAAsB,CAAtB,CAAnB,CACA,GAAIC,WAAYqxC,WAAWx3C,CAAX,EAAc,CAAd,CAAhB,CACAoF,YAAYQ,YAAZ,CAAyB8mF,YAAzB,CAAuCvmF,SAAvC,EACA,GAAID,SAASpC,WAAT,IAA0B8gF,UAA9B,CAA0C,CACtC,GAAI53E,SAAUm/E,aAAahmF,SAAb,CAAd,CACA6G,QAAQvJ,OAAR,CAAgB,SAAUwE,SAAV,CAAqB,CAAE,MAAO7C,aAAYO,YAAZ,CAAyBsC,SAAzB,CAAP,CAA6C,CAApF,EACH,CACJ,CACD,MAAO7C,YAAP,CACH,CACD,GAAI6gF,uBAAwB,GAAIgD,eAAJ,CAAmB,IAAnB,CAAyB,GAAIviF,gBAAJ,EAAzB,CAAgD,IAAhD,CAAsD,IAAtD,CAA5B,CACA,GAAIsiF,sBAAuB,GAAIgD,mBAAJ,EAA3B,CACA,QAAS5C,iBAAT,CAA0BzpE,IAA1B,CAAgC,CAC5B,MAAOA,gBAAgBI,KAAhB,EAAwBJ,KAAK/e,KAAL,CAAWuN,IAAX,GAAkBhO,MAAlB,EAA4B,CAA3D,CACH,CACD,QAASwlF,wBAAT,CAAiCgH,KAAjC,CAAwC,CACpC,GAAIlkF,KAAM,GAAI7B,IAAJ,EAAV,CACA+lF,MAAMlpF,OAAN,CAAc,SAAU4a,IAAV,CAAgB,CAC1B,GAAI,CAAC5V,IAAIJ,GAAJ,CAAQgW,KAAKhN,IAAL,CAAU4G,SAAlB,CAAL,CAAmC,CAC/BxP,IAAIH,GAAJ,CAAQ+V,KAAKhN,IAAL,CAAU4G,SAAlB,CAA6BoG,IAA7B,EACH,CACJ,CAJD,EAKA,MAAOjf,OAAM88C,IAAN,CAAWzzC,IAAIkE,MAAJ,EAAX,CAAP,CACH,CACD,QAAS++E,kBAAT,CAA2Bz1E,GAA3B,CAAgC,CAC5B,GAAIA,cAAemgB,cAAnB,CAAkC,CAC9BngB,IAAMA,IAAIA,GAAV,CACH,CACD,MAAOA,eAAemd,UAAtB,CACH,CAED;;;;;;OAOA,GAAIw5D,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,EAA4B,CAC3B,CACDA,iBAAiBv5E,KAAjB,CAAyBuhD,SAAS,QAAT,CAAzB,CACA,MAAOg4B,iBAAP,CACH,CALqC,EAAtC,CAMA,GAAIC,4BAA6B,aAAe,UAAY,CACxD,QAASA,2BAAT,CACA;;WAGA/4B,KAJA,CAKA;;WAGAg5B,YARA,CAQc,CACV,KAAKh5B,KAAL,CAAaA,KAAb,CACA,KAAKg5B,YAAL,CAAoBA,YAApB,CACA;;;;;;;;;;;;;;;;eAiBA;AACA,KAAKC,YAAL,CAAoBj5B,MAAMrrD,GAAN,CAAU,SAAUukF,SAAV,CAAqB,CAC/C,GAAIA,oBAAqBj/B,eAArB,EAAuCi/B,UAAU/oF,IAAV,EAAkB6oF,aAAa7oF,IAAtE,EACA+oF,UAAUpsF,KAAV,WAA2B+pD,mBAD/B,CACmD,CAC/C,GAAIkF,KAAMm9B,UAAUpsF,KAAV,CAAgBivD,GAA1B,CACA,MAAO,IAAI6B,gBAAJ,CAAoB7B,IAAIjvD,KAAxB,CAAP,CACH,CACD,MAAOosF,UAAP,CACH,CAPmB,CAApB,CAQH,CACD,MAAOH,2BAAP,CACH,CAxC+C,EAAhD,CAyCA;;;OAIA,QAASI,qBAAT,CAA8BC,aAA9B,CAA6CC,gBAA7C,CAA+DC,MAA/D,CAAuEC,SAAvE,CAAkFC,qBAAlF,CAAyG,CACrG,GAAI,CAACJ,aAAL,CAAoB,CAChBA,cAAgB,GAAIK,qBAAJ,EAAhB,CACH,CACD,GAAIC,uBAAwBC,+BAA+B,CACvDC,4BAA6B,SAAUC,QAAV,CAAoB,CAC7C;AACA,MAAO,UAAUjiF,IAAV,CAAgB,CAAE,MAAOwpD,YAAWxpD,IAAX,CAAP,CAA0B,CAAnD,CACH,CAJsD,CAKvDkiF,0BAA2B,SAAU1+E,IAAV,CAAgB,CACvC;AACA,MAAO,UAAUvC,MAAV,CAAkB,CACrB,GAAIujD,SAAUhhD,KAAKzG,GAAL,CAAS,SAAUoiC,CAAV,CAAa7qC,CAAb,CAAgB,CAAE,MAAQ,CAC7CmP,IAAK07B,EAAE17B,GADsC,CAE7CvO,MAAO+L,OAAO3M,CAAP,CAFsC,CAG7Co8B,OAAQyO,EAAEzO,MAHmC,CAAR,CAIpC,CAJS,CAAd,CAKA,MAAO+4B,YAAWjF,OAAX,CAAP,CACH,CAPD,CAQH,CAfsD,CAgBvD29B,oBAAqB,SAAU5pF,IAAV,CAAgB,CACjC,KAAM,IAAItC,MAAJ,CAAU,kEAAoEsC,IAA9E,CAAN,CACH,CAlBsD,CAA/B,CAmBzBmpF,MAnByB,CAA5B,CAoBA,GAAI/+E,SAAU,GAAIy/E,gBAAJ,CAAoBZ,aAApB,CAAmCC,gBAAnC,CAAqDE,SAArD,CAAgEC,qBAAhE,CAAd,CACA,GAAIS,aAAc,EAAlB,CACAC,kBAAkBR,sBAAsBv7E,KAAtB,CAA4B5D,OAA5B,CAAqC4/E,MAAM78B,SAA3C,CAAlB,CAAyE28B,WAAzE,EACAG,sBAAsB7/E,QAAQ8/E,cAA9B,CAA8Cd,SAA9C,CAAyDU,WAAzD,EACA,GAAIvoF,WAAYuoF,YAAY5tF,MAAZ,CAAqB,CAArC,CACA,GAAIiuF,mBAAoB,IAAxB,CACA,GAAI5oF,WAAa,CAAjB,CAAoB,CAChB,GAAI6oF,eAAgBN,YAAYvoF,SAAZ,CAApB,CACA,GAAI8oF,YAAaC,0BAA0BF,aAA1B,CAAjB,CACA,GAAIC,UAAJ,CAAgB,CACZ;AACA;AACAF,kBAAoBI,wBAAwBnB,SAAxB,CAApB,CACAU,YAAYvoF,SAAZ,EACI4oF,kBAAkB9lF,GAAlB,CAAsBgmF,WAAWxhC,IAAX,CAAgBpE,YAAhB,EAA8BuC,YAA9B,CAA2CwK,QAAQ,KAAR,CAA3C,CAAtB,EACK3H,UADL,CACgB,IADhB,CACsB,CAACtvD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CADtB,CADJ,CAGH,CACJ,CACD,MAAO,IAAI8gB,2BAAJ,CAA+BkB,WAA/B,CAA4CK,iBAA5C,CAAP,CACH,CACD,QAASX,+BAAT,CAAwCgB,gBAAxC,CAA0Dx4E,GAA1D,CAA+D,CAC3D,MAAOy4E,iBAAgBD,gBAAhB,CAAkCx4E,GAAlC,CAAP,CACH,CACD,GAAI04E,8BAA+B,aAAe,UAAY,CAC1D,QAASA,6BAAT,CAAsC76B,KAAtC,CAA6C86B,WAA7C,CAA0D,CACtD,KAAK96B,KAAL,CAAaA,KAAb,CACA,KAAK86B,WAAL,CAAmBA,WAAnB,CACH,CACD,MAAOD,6BAAP,CACH,CANiD,EAAlD,CAOA,GAAIE,YAAJ,CACA,CAAC,SAAUA,WAAV,CAAuB,CACpB;AACAA,YAAYA,YAAY,SAAZ,EAAyB,CAArC,EAA0C,SAA1C,CACA;AACA;AACAA,YAAYA,YAAY,WAAZ,EAA2B,CAAvC,EAA4C,WAA5C,CACH,CAND,EAMGA,cAAgBA,YAAc,EAA9B,CANH,EAOA;;;;OAKA,QAASC,uBAAT,CAAgC5B,aAAhC,CAA+CC,gBAA/C,CAAiE4B,yBAAjE,CAA4F1B,SAA5F,CAAuG2B,IAAvG,CAA6G1B,qBAA7G,CAAoI,CAChI,GAAI,CAACJ,aAAL,CAAoB,CAChBA,cAAgB,GAAIK,qBAAJ,EAAhB,CACH,CACD,GAAIqB,aAAcK,oBAAoB5B,SAApB,CAAlB,CACA,GAAIv5B,OAAQ,EAAZ,CACA,GAAIzlD,SAAU,GAAIy/E,gBAAJ,CAAoBZ,aAApB,CAAmCC,gBAAnC,CAAqDE,SAArD,CAAgEC,qBAAhE,CAAd,CACA,GAAI4B,YAAaH,0BAA0B98E,KAA1B,CAAgC5D,OAAhC,CAAyC4/E,MAAMtkC,UAA/C,CAAjB,CACA,GAAIt7C,QAAQ8/E,cAAZ,CAA4B,CACxB,IAAK,GAAInuF,GAAI,CAAb,CAAgBA,EAAIqO,QAAQ8/E,cAA5B,CAA4CnuF,GAA5C,CAAiD,CAC7C8zD,MAAM5yD,IAAN,CAAWiuF,qBAAqB9B,SAArB,CAAgCrtF,CAAhC,CAAX,EACH,CACJ,CAJD,IAKK,IAAIgvF,MAAQH,YAAYO,SAAxB,CAAmC,CACpC,MAAO,IAAIT,6BAAJ,CAAiC,EAAjC,CAAqCO,UAArC,CAAP,CACH,CACDp7B,MAAM5yD,IAAN,CAAW0tF,YAAYtmF,GAAZ,CAAgB4mF,UAAhB,EAA4BphC,UAA5B,CAAuCpF,YAAvC,CAAqD,CAAClqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAArD,CAAX,EACA,MAAO,IAAI4iB,6BAAJ,CAAiC76B,KAAjC,CAAwC86B,WAAxC,CAAP,CACH,CACD,QAASF,gBAAT,CAAyBD,gBAAzB,CAA2Cx4E,GAA3C,CAAgD,CAC5C,GAAI5H,SAAU,GAAIghF,qBAAJ,CAAyBZ,gBAAzB,CAAd,CACA,MAAOx4E,KAAIhE,KAAJ,CAAU5D,OAAV,CAAP,CACH,CACD,QAASihF,cAAT,CAAuBjC,SAAvB,CAAkCkC,eAAlC,CAAmD,CAC/C,MAAO,OAASlC,SAAT,CAAqB,GAArB,CAA2BkC,eAAlC,CACH,CACD,QAASJ,qBAAT,CAA8B9B,SAA9B,CAAyCkC,eAAzC,CAA0D,CACtD,MAAO,IAAIxhC,eAAJ,CAAmBuhC,cAAcjC,SAAd,CAAyBkC,eAAzB,CAAnB,CAA8Dr+B,SAA9D,CAAP,CACH,CACD,QAASg9B,sBAAT,CAA+BC,cAA/B,CAA+Cd,SAA/C,CAA0D39B,UAA1D,CAAsE,CAClE,IAAK,GAAI1vD,GAAImuF,eAAiB,CAA9B,CAAiCnuF,GAAK,CAAtC,CAAyCA,GAAzC,CAA8C,CAC1C0vD,WAAW8/B,OAAX,CAAmBL,qBAAqB9B,SAArB,CAAgCrtF,CAAhC,CAAnB,EACH,CACJ,CACD,GAAIiuF,MAAJ,CACA,CAAC,SAAUA,KAAV,CAAiB,CACdA,MAAMA,MAAM,WAAN,EAAqB,CAA3B,EAAgC,WAAhC,CACAA,MAAMA,MAAM,YAAN,EAAsB,CAA5B,EAAiC,YAAjC,CACH,CAHD,EAGGA,QAAUA,MAAQ,EAAlB,CAHH,EAIA,QAASwB,oBAAT,CAA6Bz4C,IAA7B,CAAmC/gC,GAAnC,CAAwC,CACpC,GAAI+gC,OAASi3C,MAAM78B,SAAnB,CAA8B,CAC1B,KAAM,IAAIzvD,MAAJ,CAAU,iCAAmCsU,GAA7C,CAAN,CACH,CACJ,CACD,QAASy5E,qBAAT,CAA8B14C,IAA9B,CAAoC/gC,GAApC,CAAyC,CACrC,GAAI+gC,OAASi3C,MAAMtkC,UAAnB,CAA+B,CAC3B,KAAM,IAAIhoD,MAAJ,CAAU,mCAAqCsU,GAA/C,CAAN,CACH,CACJ,CACD,QAAS05E,2BAAT,CAAoC34C,IAApC,CAA0Clc,IAA1C,CAAgD,CAC5C,GAAIkc,OAASi3C,MAAM78B,SAAnB,CAA8B,CAC1B,MAAOt2B,MAAKkyB,MAAL,EAAP,CACH,CAFD,IAGK,CACD,MAAOlyB,KAAP,CACH,CACJ,CACD,GAAIu0D,sBAAuB,aAAe,SAAUl5E,MAAV,CAAkB,CACxD5W,UAAU8vF,oBAAV,CAAgCl5E,MAAhC,EACA,QAASk5E,qBAAT,CAA8BO,iBAA9B,CAAiD,CAC7C,GAAIrsF,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAMqsF,iBAAN,CAA0BA,iBAA1B,CACA,MAAOrsF,MAAP,CACH,CACD8rF,qBAAqB3vF,SAArB,CAA+Bi1B,SAA/B,CAA2C,SAAU1e,GAAV,CAAe3H,OAAf,CAAwB,CAC/D,GAAI/K,OAAQ,IAAZ,CACA,GAAImI,MAAOtK,SAAS,CAAC6U,IAAIye,GAAL,CAAT,CAAoBze,IAAIvK,IAAxB,EAA8BjD,GAA9B,CAAkC,SAAUwN,GAAV,CAAe,CAAE,MAAOA,KAAIhE,KAAJ,CAAU1O,KAAV,CAAiB+K,OAAjB,CAAP,CAAmC,CAAtF,CAAX,CACA,MAAO,IAAIuhF,oBAAJ,CAAwB55E,IAAIyL,IAA5B,CAAkChW,IAAlC,CAAwC,KAAKkkF,iBAAL,CAAuB/B,mBAAvB,CAA2C53E,IAAIhS,IAA/C,CAAqDyH,KAAKvL,MAA1D,CAAxC,CAAP,CACH,CAJD,CAKAkvF,qBAAqB3vF,SAArB,CAA+Bq1B,iBAA/B,CAAmD,SAAU9e,GAAV,CAAe3H,OAAf,CAAwB,CACvE,GAAI/K,OAAQ,IAAZ,CACA,GAAImI,MAAOuK,IAAIud,WAAJ,CAAgB/qB,GAAhB,CAAoB,SAAUwN,GAAV,CAAe,CAAE,MAAOA,KAAIhE,KAAJ,CAAU1O,KAAV,CAAiB+K,OAAjB,CAAP,CAAmC,CAAxE,CAAX,CACA,MAAO,IAAIuhF,oBAAJ,CAAwB55E,IAAIyL,IAA5B,CAAkChW,IAAlC,CAAwC,KAAKkkF,iBAAL,CAAuBlC,2BAAvB,CAAmDz3E,IAAIud,WAAJ,CAAgBrzB,MAAnE,CAAxC,CAAP,CACH,CAJD,CAKAkvF,qBAAqB3vF,SAArB,CAA+Bu1B,eAA/B,CAAiD,SAAUhf,GAAV,CAAe3H,OAAf,CAAwB,CACrE,GAAI/K,OAAQ,IAAZ,CACA,GAAImI,MAAOuK,IAAItJ,MAAJ,CAAWlE,GAAX,CAAe,SAAUwN,GAAV,CAAe,CAAE,MAAOA,KAAIhE,KAAJ,CAAU1O,KAAV,CAAiB+K,OAAjB,CAAP,CAAmC,CAAnE,CAAX,CACA,MAAO,IAAIuhF,oBAAJ,CAAwB55E,IAAIyL,IAA5B,CAAkChW,IAAlC,CAAwC,KAAKkkF,iBAAL,CAAuBhC,yBAAvB,CAAiD33E,IAAI/G,IAArD,CAAxC,CAAP,CACH,CAJD,CAKA,MAAOmgF,qBAAP,CACH,CAvByC,CAuBxC34D,cAvBwC,CAA1C,CAwBA,GAAIo3D,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBgC,cAAzB,CAAyCC,iBAAzC,CAA4D1C,SAA5D,CAAuEC,qBAAvE,CAA8F,CAC1F,KAAKwC,cAAL,CAAsBA,cAAtB,CACA,KAAKC,iBAAL,CAAyBA,iBAAzB,CACA,KAAK1C,SAAL,CAAiBA,SAAjB,CACA,KAAKC,qBAAL,CAA6BA,qBAA7B,CACA,KAAK0C,QAAL,CAAgB,GAAIppF,IAAJ,EAAhB,CACA,KAAKqpF,UAAL,CAAkB,GAAIrpF,IAAJ,EAAlB,CACA,KAAKspF,iBAAL,CAAyB,CAAzB,CACA,KAAK/B,cAAL,CAAsB,CAAtB,CACH,CACDL,gBAAgBpuF,SAAhB,CAA0B+1B,WAA1B,CAAwC,SAAUxf,GAAV,CAAe+gC,IAAf,CAAqB,CACzD,GAAIxc,GAAJ,CACA,OAAQvkB,IAAIqf,SAAZ,EACI,IAAK,GAAL,CACIkF,GAAKh8B,QAAQ8qD,cAAR,CAAuBgC,IAA5B,CACA,MACJ,IAAK,GAAL,CACI9wB,GAAKh8B,QAAQ8qD,cAAR,CAAuB8B,KAA5B,CACA,MACJ,IAAK,GAAL,CACI5wB,GAAKh8B,QAAQ8qD,cAAR,CAAuBoC,QAA5B,CACA,MACJ,IAAK,GAAL,CACIlxB,GAAKh8B,QAAQ8qD,cAAR,CAAuBkC,MAA5B,CACA,MACJ,IAAK,GAAL,CACIhxB,GAAKh8B,QAAQ8qD,cAAR,CAAuBsC,MAA5B,CACA,MACJ,IAAK,IAAL,CACIpxB,GAAKh8B,QAAQ8qD,cAAR,CAAuBwC,GAA5B,CACA,MACJ,IAAK,IAAL,CACItxB,GAAKh8B,QAAQ8qD,cAAR,CAAuB6C,EAA5B,CACA,MACJ,IAAK,IAAL,CACI3xB,GAAKh8B,QAAQ8qD,cAAR,CAAuBsB,MAA5B,CACA,MACJ,IAAK,IAAL,CACIpwB,GAAKh8B,QAAQ8qD,cAAR,CAAuBwB,SAA5B,CACA,MACJ,IAAK,KAAL,CACItwB,GAAKh8B,QAAQ8qD,cAAR,CAAuB0B,SAA5B,CACA,MACJ,IAAK,KAAL,CACIxwB,GAAKh8B,QAAQ8qD,cAAR,CAAuB4B,YAA5B,CACA,MACJ,IAAK,GAAL,CACI1wB,GAAKh8B,QAAQ8qD,cAAR,CAAuB+C,KAA5B,CACA,MACJ,IAAK,GAAL,CACI7xB,GAAKh8B,QAAQ8qD,cAAR,CAAuBmD,MAA5B,CACA,MACJ,IAAK,IAAL,CACIjyB,GAAKh8B,QAAQ8qD,cAAR,CAAuBiD,WAA5B,CACA,MACJ,IAAK,IAAL,CACI/xB,GAAKh8B,QAAQ8qD,cAAR,CAAuBqD,YAA5B,CACA,MACJ,QACI,KAAM,IAAIhrD,MAAJ,CAAU,yBAA2BsU,IAAIqf,SAAzC,CAAN,CA/CR,CAiDA,MAAOq6D,4BAA2B34C,IAA3B,CAAiC,GAAI2T,mBAAJ,CAAuBnwB,EAAvB,CAA2B,KAAK21D,MAAL,CAAYl6E,IAAIsf,IAAhB,CAAsB04D,MAAMtkC,UAA5B,CAA3B,CAAoE,KAAKwmC,MAAL,CAAYl6E,IAAIuf,KAAhB,CAAuBy4D,MAAMtkC,UAA7B,CAApE,CAAjC,CAAP,CACH,CApDD,CAqDAmkC,gBAAgBpuF,SAAhB,CAA0B+zB,UAA1B,CAAuC,SAAUxd,GAAV,CAAe+gC,IAAf,CAAqB,CACxDy4C,oBAAoBz4C,IAApB,CAA0B/gC,GAA1B,EACA,MAAO,MAAKgL,QAAL,CAAchL,IAAIud,WAAlB,CAA+BwjB,IAA/B,CAAP,CACH,CAHD,CAIA82C,gBAAgBpuF,SAAhB,CAA0Bm0B,gBAA1B,CAA6C,SAAU5d,GAAV,CAAe+gC,IAAf,CAAqB,CAC9D,GAAIp2C,OAAQ,KAAKuvF,MAAL,CAAYl6E,IAAIqU,SAAhB,CAA2B2jE,MAAMtkC,UAAjC,CAAZ,CACA,MAAOgmC,4BAA2B34C,IAA3B,CAAiCp2C,MAAMypD,WAAN,CAAkB,KAAK8lC,MAAL,CAAYl6E,IAAI0d,OAAhB,CAAyBs6D,MAAMtkC,UAA/B,CAAlB,CAA8D,KAAKwmC,MAAL,CAAYl6E,IAAI2d,QAAhB,CAA0Bq6D,MAAMtkC,UAAhC,CAA9D,CAAjC,CAAP,CACH,CAHD,CAIAmkC,gBAAgBpuF,SAAhB,CAA0Bi1B,SAA1B,CAAsC,SAAU1e,GAAV,CAAe+gC,IAAf,CAAqB,CACvD,KAAM,IAAIr1C,MAAJ,CAAU,yEAA2EsU,IAAIhS,IAAzF,CAAN,CACH,CAFD,CAGA6pF,gBAAgBpuF,SAAhB,CAA0By2B,iBAA1B,CAA8C,SAAUlgB,GAAV,CAAe+gC,IAAf,CAAqB,CAC/D,GAAIo5C,eAAgB,KAAKnvE,QAAL,CAAchL,IAAIvK,IAAlB,CAAwBuiF,MAAMtkC,UAA9B,CAApB,CACA,GAAI0mC,SAAJ,CACA,GAAIp6E,cAAe45E,oBAAnB,CAAwC,CACpCQ,SAAWp6E,IAAI4mC,SAAJ,CAAcuzC,aAAd,CAAX,CACH,CAFD,IAGK,CACDC,SAAW,KAAKF,MAAL,CAAYl6E,IAAIjD,MAAhB,CAAwBi7E,MAAMtkC,UAA9B,EAA0CM,MAA1C,CAAiDmmC,aAAjD,CAAX,CACH,CACD,MAAOT,4BAA2B34C,IAA3B,CAAiCq5C,QAAjC,CAAP,CACH,CAVD,CAWAvC,gBAAgBpuF,SAAhB,CAA0B4zB,qBAA1B,CAAkD,SAAUrd,GAAV,CAAe+gC,IAAf,CAAqB,CACnE04C,qBAAqB14C,IAArB,CAA2B/gC,GAA3B,EACA,MAAO,MAAK85E,iBAAZ,CACH,CAHD,CAIAjC,gBAAgBpuF,SAAhB,CAA0B01B,kBAA1B,CAA+C,SAAUnf,GAAV,CAAe+gC,IAAf,CAAqB,CAChE04C,qBAAqB14C,IAArB,CAA2B/gC,GAA3B,EACA,GAAIvK,MAAO,CAAC+pD,QAAQx/C,IAAIud,WAAJ,CAAgBrzB,MAAxB,CAAD,CAAX,CACA,IAAK,GAAIH,GAAI,CAAb,CAAgBA,EAAIiW,IAAIkf,OAAJ,CAAYh1B,MAAZ,CAAqB,CAAzC,CAA4CH,GAA5C,CAAiD,CAC7C0L,KAAKxK,IAAL,CAAUu0D,QAAQx/C,IAAIkf,OAAJ,CAAYn1B,CAAZ,CAAR,CAAV,EACA0L,KAAKxK,IAAL,CAAU,KAAKivF,MAAL,CAAYl6E,IAAIud,WAAJ,CAAgBxzB,CAAhB,CAAZ,CAAgCiuF,MAAMtkC,UAAtC,CAAV,EACH,CACDj+C,KAAKxK,IAAL,CAAUu0D,QAAQx/C,IAAIkf,OAAJ,CAAYlf,IAAIkf,OAAJ,CAAYh1B,MAAZ,CAAqB,CAAjC,CAAR,CAAV,EACA,GAAI,KAAKmtF,qBAAT,CAAgC,CAC5B,MAAO,MAAKA,qBAAL,CAA2B5hF,IAA3B,CAAP,CACH,CACD,MAAOuK,KAAIud,WAAJ,CAAgBrzB,MAAhB,EAA0B,CAA1B,CACH00D,WAAWzQ,YAAYyB,iBAAvB,EAA0CoE,MAA1C,CAAiDv+C,IAAjD,CADG,CAEHmpD,WAAWzQ,YAAY0B,WAAvB,EAAoCmE,MAApC,CAA2C,CAACv+C,KAAK,CAAL,CAAD,CAAUwpD,WAAWxpD,KAAK9J,KAAL,CAAW,CAAX,CAAX,CAAV,CAA3C,CAFJ,CAGH,CAdD,CAeAksF,gBAAgBpuF,SAAhB,CAA0B40B,cAA1B,CAA2C,SAAUre,GAAV,CAAe+gC,IAAf,CAAqB,CAC5D,GAAIs5C,cAAe,KAAKC,gBAAL,CAAsBt6E,GAAtB,CAAnB,CACA,GAAIq6E,YAAJ,CAAkB,CACd,MAAO,MAAKE,iBAAL,CAAuBv6E,GAAvB,CAA4Bq6E,YAA5B,CAA0Ct5C,IAA1C,CAAP,CACH,CAFD,IAGK,CACD,MAAO24C,4BAA2B34C,IAA3B,CAAiC,KAAKm5C,MAAL,CAAYl6E,IAAInJ,GAAhB,CAAqBmhF,MAAMtkC,UAA3B,EAAuCx6C,GAAvC,CAA2C,KAAKghF,MAAL,CAAYl6E,IAAI9G,GAAhB,CAAqB8+E,MAAMtkC,UAA3B,CAA3C,CAAjC,CAAP,CACH,CACJ,CARD,CASAmkC,gBAAgBpuF,SAAhB,CAA0B80B,eAA1B,CAA4C,SAAUve,GAAV,CAAe+gC,IAAf,CAAqB,CAC7D,GAAIlqC,KAAM,KAAKqjF,MAAL,CAAYl6E,IAAInJ,GAAhB,CAAqBmhF,MAAMtkC,UAA3B,CAAV,CACA,GAAIx6C,KAAM,KAAKghF,MAAL,CAAYl6E,IAAI9G,GAAhB,CAAqB8+E,MAAMtkC,UAA3B,CAAV,CACA,GAAI/oD,OAAQ,KAAKuvF,MAAL,CAAYl6E,IAAIrV,KAAhB,CAAuBqtF,MAAMtkC,UAA7B,CAAZ,CACA,MAAOgmC,4BAA2B34C,IAA3B,CAAiClqC,IAAIqC,GAAJ,CAAQA,GAAR,EAAa7G,GAAb,CAAiB1H,KAAjB,CAAjC,CAAP,CACH,CALD,CAMAktF,gBAAgBpuF,SAAhB,CAA0Bq1B,iBAA1B,CAA8C,SAAU9e,GAAV,CAAe+gC,IAAf,CAAqB,CAC/D,KAAM,IAAIr1C,MAAJ,CAAU,yEAAV,CAAN,CACH,CAFD,CAGAmsF,gBAAgBpuF,SAAhB,CAA0Bu1B,eAA1B,CAA4C,SAAUhf,GAAV,CAAe+gC,IAAf,CAAqB,CAC7D,KAAM,IAAIr1C,MAAJ,CAAU,uEAAV,CAAN,CACH,CAFD,CAGAmsF,gBAAgBpuF,SAAhB,CAA0Bm1B,qBAA1B,CAAkD,SAAU5e,GAAV,CAAe+gC,IAAf,CAAqB,CACnE;AACA;AACA,GAAI3lC,MAAO4E,IAAIrV,KAAJ,GAAc,IAAd,EAAsBqV,IAAIrV,KAAJ,GAAckJ,SAApC,EAAiDmM,IAAIrV,KAAJ,GAAc,IAA/D,EAAuEqV,IAAIrV,KAAJ,GAAc,IAArF,CACPgoD,aADO,CAEP9+C,SAFJ,CAGA,MAAO6lF,4BAA2B34C,IAA3B,CAAiCye,QAAQx/C,IAAIrV,KAAZ,CAAmByQ,IAAnB,CAAjC,CAAP,CACH,CAPD,CAQAy8E,gBAAgBpuF,SAAhB,CAA0B+wF,SAA1B,CAAsC,SAAUxsF,IAAV,CAAgB,CAAE,MAAO,MAAK6rF,cAAL,CAAoBY,QAApB,CAA6BzsF,IAA7B,CAAP,CAA4C,CAApG,CACA6pF,gBAAgBpuF,SAAhB,CAA0Bq2B,eAA1B,CAA4C,SAAU9f,GAAV,CAAe+gC,IAAf,CAAqB,CAC7D,GAAI/gC,IAAI8d,QAAJ,WAAwBV,iBAAxB,EAA4Cpd,IAAIhS,IAAJ,EAAY,MAA5D,CAAoE,CAChE,GAAIyH,MAAO,KAAKuV,QAAL,CAAchL,IAAIvK,IAAlB,CAAwBuiF,MAAMtkC,UAA9B,CAAX,CACA,GAAIj+C,KAAKvL,MAAL,EAAe,CAAnB,CAAsB,CAClB,KAAM,IAAIwB,MAAJ,CAAU,2DAA6D+J,KAAKvL,MAAL,EAAe,MAA5E,CAAV,CAAN,CACH,CACD,MAAOuL,MAAK,CAAL,EAAQohD,IAAR,CAAapE,YAAb,CAAP,CACH,CACD,GAAI4nC,cAAe,KAAKC,gBAAL,CAAsBt6E,GAAtB,CAAnB,CACA,GAAIq6E,YAAJ,CAAkB,CACd,MAAO,MAAKE,iBAAL,CAAuBv6E,GAAvB,CAA4Bq6E,YAA5B,CAA0Ct5C,IAA1C,CAAP,CACH,CAFD,IAGK,CACD,GAAItrC,MAAO,KAAKuV,QAAL,CAAchL,IAAIvK,IAAlB,CAAwBuiF,MAAMtkC,UAA9B,CAAX,CACA,GAAItjD,QAAS,IAAb,CACA,GAAI0tB,UAAW,KAAKo8D,MAAL,CAAYl6E,IAAI8d,QAAhB,CAA0Bk6D,MAAMtkC,UAAhC,CAAf,CACA,GAAI51B,WAAa,KAAKg8D,iBAAtB,CAAyC,CACrC,GAAIY,SAAU,KAAKF,SAAL,CAAex6E,IAAIhS,IAAnB,CAAd,CACA,GAAI0sF,OAAJ,CAAa,CACTtqF,OAASsqF,QAAQ1mC,MAAR,CAAev+C,IAAf,CAAT,CACH,CACJ,CACD,GAAIrF,QAAU,IAAd,CAAoB,CAChBA,OAAS0tB,SAAS+1B,UAAT,CAAoB7zC,IAAIhS,IAAxB,CAA8ByH,IAA9B,CAAT,CACH,CACD,MAAOikF,4BAA2B34C,IAA3B,CAAiC3wC,MAAjC,CAAP,CACH,CACJ,CA3BD,CA4BAynF,gBAAgBpuF,SAAhB,CAA0Bi2B,cAA1B,CAA2C,SAAU1f,GAAV,CAAe+gC,IAAf,CAAqB,CAC5D,MAAO24C,4BAA2B34C,IAA3B,CAAiCoe,IAAI,KAAK+6B,MAAL,CAAYl6E,IAAIqK,UAAhB,CAA4B2tE,MAAMtkC,UAAlC,CAAJ,CAAjC,CAAP,CACH,CAFD,CAGAmkC,gBAAgBpuF,SAAhB,CAA0Bm2B,kBAA1B,CAA+C,SAAU5f,GAAV,CAAe+gC,IAAf,CAAqB,CAChE,MAAO24C,4BAA2B34C,IAA3B,CAAiCqe,cAAc,KAAK86B,MAAL,CAAYl6E,IAAIqK,UAAhB,CAA4B2tE,MAAMtkC,UAAlC,CAAd,CAAjC,CAAP,CACH,CAFD,CAGAmkC,gBAAgBpuF,SAAhB,CAA0Bs0B,iBAA1B,CAA8C,SAAU/d,GAAV,CAAe+gC,IAAf,CAAqB,CAC/D,GAAIs5C,cAAe,KAAKC,gBAAL,CAAsBt6E,GAAtB,CAAnB,CACA,GAAIq6E,YAAJ,CAAkB,CACd,MAAO,MAAKE,iBAAL,CAAuBv6E,GAAvB,CAA4Bq6E,YAA5B,CAA0Ct5C,IAA1C,CAAP,CACH,CAFD,IAGK,CACD,GAAI3wC,QAAS,IAAb,CACA,GAAI0tB,UAAW,KAAKo8D,MAAL,CAAYl6E,IAAI8d,QAAhB,CAA0Bk6D,MAAMtkC,UAAhC,CAAf,CACA,GAAI51B,WAAa,KAAKg8D,iBAAtB,CAAyC,CACrC1pF,OAAS,KAAKoqF,SAAL,CAAex6E,IAAIhS,IAAnB,CAAT,CACH,CACD,GAAIoC,QAAU,IAAd,CAAoB,CAChBA,OAAS0tB,SAASlhB,IAAT,CAAcoD,IAAIhS,IAAlB,CAAT,CACH,CACD,MAAO0rF,4BAA2B34C,IAA3B,CAAiC3wC,MAAjC,CAAP,CACH,CACJ,CAhBD,CAiBAynF,gBAAgBpuF,SAAhB,CAA0Bw0B,kBAA1B,CAA+C,SAAUje,GAAV,CAAe+gC,IAAf,CAAqB,CAChE,GAAIjjB,UAAW,KAAKo8D,MAAL,CAAYl6E,IAAI8d,QAAhB,CAA0Bk6D,MAAMtkC,UAAhC,CAAf,CACA,GAAI51B,WAAa,KAAKg8D,iBAAtB,CAAyC,CACrC,GAAIY,SAAU,KAAKF,SAAL,CAAex6E,IAAIhS,IAAnB,CAAd,CACA,GAAI0sF,OAAJ,CAAa,CACT,KAAM,IAAIhvF,MAAJ,CAAU,2CAAV,CAAN,CACH,CACJ,CACD,MAAOguF,4BAA2B34C,IAA3B,CAAiCjjB,SAASlhB,IAAT,CAAcoD,IAAIhS,IAAlB,EAAwBqE,GAAxB,CAA4B,KAAK6nF,MAAL,CAAYl6E,IAAIrV,KAAhB,CAAuBqtF,MAAMtkC,UAA7B,CAA5B,CAAjC,CAAP,CACH,CATD,CAUAmkC,gBAAgBpuF,SAAhB,CAA0B00B,qBAA1B,CAAkD,SAAUne,GAAV,CAAe+gC,IAAf,CAAqB,CACnE,MAAO,MAAKw5C,iBAAL,CAAuBv6E,GAAvB,CAA4B,KAAKs6E,gBAAL,CAAsBt6E,GAAtB,CAA5B,CAAwD+gC,IAAxD,CAAP,CACH,CAFD,CAGA82C,gBAAgBpuF,SAAhB,CAA0Bu2B,mBAA1B,CAAgD,SAAUhgB,GAAV,CAAe+gC,IAAf,CAAqB,CACjE,MAAO,MAAKw5C,iBAAL,CAAuBv6E,GAAvB,CAA4B,KAAKs6E,gBAAL,CAAsBt6E,GAAtB,CAA5B,CAAwD+gC,IAAxD,CAAP,CACH,CAFD,CAGA82C,gBAAgBpuF,SAAhB,CAA0BuhB,QAA1B,CAAqC,SAAU3K,IAAV,CAAgB0gC,IAAhB,CAAsB,CACvD,GAAIzzC,OAAQ,IAAZ,CACA,MAAO+S,MAAK7N,GAAL,CAAS,SAAUwN,GAAV,CAAe,CAAE,MAAO1S,OAAM4sF,MAAN,CAAal6E,GAAb,CAAkB+gC,IAAlB,CAAP,CAAiC,CAA3D,CAAP,CACH,CAHD,CAIA82C,gBAAgBpuF,SAAhB,CAA0ByzB,UAA1B,CAAuC,SAAUld,GAAV,CAAe+gC,IAAf,CAAqB,CACxD,KAAM,IAAIr1C,MAAJ,CAAU,gEAAkEsU,IAAIgd,uBAAtE,CAAgG,cAAhG,CAAiHhd,IAAIid,QAA/H,CAAN,CACH,CAFD,CAGA46D,gBAAgBpuF,SAAhB,CAA0BywF,MAA1B,CAAmC,SAAUl6E,GAAV,CAAe+gC,IAAf,CAAqB,CACpD,GAAI3wC,QAAS,KAAK4pF,UAAL,CAAgB5nF,GAAhB,CAAoB4N,GAApB,CAAb,CACA,GAAI5P,MAAJ,CACI,MAAOA,OAAP,CACJ,MAAO,CAAC,KAAK2pF,QAAL,CAAc3nF,GAAd,CAAkB4N,GAAlB,GAA0BA,GAA3B,EAAgChE,KAAhC,CAAsC,IAAtC,CAA4C+kC,IAA5C,CAAP,CACH,CALD,CAMA82C,gBAAgBpuF,SAAhB,CAA0B8wF,iBAA1B,CAA8C,SAAUv6E,GAAV,CAAeq6E,YAAf,CAA6Bt5C,IAA7B,CAAmC,CAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAI45C,mBAAoB,KAAKT,MAAL,CAAYG,aAAav8D,QAAzB,CAAmCk6D,MAAMtkC,UAAzC,CAAxB,CACA,GAAIknC,WAAY/mF,SAAhB,CACA,GAAI,KAAKgnF,cAAL,CAAoBR,aAAav8D,QAAjC,CAAJ,CAAgD,CAC5C;AACA;AACA88D,UAAY,KAAKE,iBAAL,EAAZ,CACA;AACAH,kBAAoBC,UAAUvoF,GAAV,CAAcsoF,iBAAd,CAApB,CACA;AACA,KAAKX,UAAL,CAAgB3nF,GAAhB,CAAoBgoF,aAAav8D,QAAjC,CAA2C88D,SAA3C,EACH,CACD,GAAIvmE,WAAYsmE,kBAAkBhkC,OAAlB,EAAhB,CACA;AACA;AACA,GAAI0jC,uBAAwBt6D,eAA5B,CAA4C,CACxC,KAAKg6D,QAAL,CAAc1nF,GAAd,CAAkBgoF,YAAlB,CAAgC,GAAIx6D,WAAJ,CAAew6D,aAAa5uE,IAA5B,CAAkC4uE,aAAav8D,QAA/C,CAAyDu8D,aAAarsF,IAAtE,CAA4EqsF,aAAa5kF,IAAzF,CAAhC,EACH,CAFD,IAGK,CACD,KAAKskF,QAAL,CAAc1nF,GAAd,CAAkBgoF,YAAlB,CAAgC,GAAIx8D,aAAJ,CAAiBw8D,aAAa5uE,IAA9B,CAAoC4uE,aAAav8D,QAAjD,CAA2Du8D,aAAarsF,IAAxE,CAAhC,EACH,CACD;AACA,GAAI+sF,QAAS,KAAKb,MAAL,CAAYl6E,GAAZ,CAAiBg4E,MAAMtkC,UAAvB,CAAb,CACA;AACA;AACA,KAAKqmC,QAAL,CAAcxqE,MAAd,CAAqB8qE,YAArB,EACA;AACA,GAAIO,SAAJ,CAAe,CACX,KAAKI,gBAAL,CAAsBJ,SAAtB,EACH,CACD;AACA,MAAOlB,4BAA2B34C,IAA3B,CAAiC1sB,UAAU+/B,WAAV,CAAsBoL,QAAQ,IAAR,CAAtB,CAAqCu7B,MAArC,CAAjC,CAAP,CACH,CAnED,CAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACAlD,gBAAgBpuF,SAAhB,CAA0B6wF,gBAA1B,CAA6C,SAAUt6E,GAAV,CAAe,CACxD,GAAI1S,OAAQ,IAAZ,CACA,GAAI0O,OAAQ,SAAU5D,OAAV,CAAmB4H,GAAnB,CAAwB,CAChC,MAAO,CAAC1S,MAAMysF,QAAN,CAAe3nF,GAAf,CAAmB4N,GAAnB,GAA2BA,GAA5B,EAAiChE,KAAjC,CAAuC5D,OAAvC,CAAP,CACH,CAFD,CAGA,MAAO4H,KAAIhE,KAAJ,CAAU,CACbwjB,YAAa,SAAUxf,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAD/B,CAEbwd,WAAY,SAAUxd,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAF9B,CAGb4d,iBAAkB,SAAU5d,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAHpC,CAIbkgB,kBAAmB,SAAUlgB,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAJrC,CAKbqd,sBAAuB,SAAUrd,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CALzC,CAMbmf,mBAAoB,SAAUnf,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CANtC,CAObqe,eAAgB,SAAUre,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAInJ,GAAhB,CAAP,CAA8B,CAPlD,CAQb0nB,gBAAiB,SAAUve,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CARnC,CASb8e,kBAAmB,SAAU9e,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CATrC,CAUbgf,gBAAiB,SAAUhf,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAVnC,CAWb4e,sBAAuB,SAAU5e,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAXzC,CAYb8f,gBAAiB,SAAU9f,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAI8d,QAAhB,CAAP,CAAmC,CAZxD,CAabY,UAAW,SAAU1e,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAb7B,CAcb0f,eAAgB,SAAU1f,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAdlC,CAeb4f,mBAAoB,SAAU5f,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAftC,CAgBb+d,kBAAmB,SAAU/d,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAI8d,QAAhB,CAAP,CAAmC,CAhB1D,CAiBbG,mBAAoB,SAAUje,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAjBtC,CAkBbkd,WAAY,SAAUld,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAlB9B,CAmBbggB,oBAAqB,SAAUhgB,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAI8d,QAAhB,GAA6B9d,GAApC,CAA0C,CAnBnE,CAoBbme,sBAAuB,SAAUne,GAAV,CAAe,CAClC,MAAOhE,OAAM,IAAN,CAAYgE,IAAI8d,QAAhB,GAA6B9d,GAApC,CACH,CAtBY,CAAV,CAAP,CAwBH,CA7BD,CA8BA;AACA;AACA;AACA63E,gBAAgBpuF,SAAhB,CAA0BoxF,cAA1B,CAA2C,SAAU76E,GAAV,CAAe,CACtD,GAAI1S,OAAQ,IAAZ,CACA,GAAI0O,OAAQ,SAAU5D,OAAV,CAAmB4H,GAAnB,CAAwB,CAChC,MAAOA,MAAO,CAAC1S,MAAMysF,QAAN,CAAe3nF,GAAf,CAAmB4N,GAAnB,GAA2BA,GAA5B,EAAiChE,KAAjC,CAAuC5D,OAAvC,CAAd,CACH,CAFD,CAGA,GAAI6iF,WAAY,SAAU7iF,OAAV,CAAmB4H,GAAnB,CAAwB,CACpC,MAAOA,KAAItG,IAAJ,CAAS,SAAUsG,GAAV,CAAe,CAAE,MAAOhE,OAAM5D,OAAN,CAAe4H,GAAf,CAAP,CAA6B,CAAvD,CAAP,CACH,CAFD,CAGA,MAAOA,KAAIhE,KAAJ,CAAU,CACbwjB,YAAa,SAAUxf,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAIsf,IAAhB,GAAyBtjB,MAAM,IAAN,CAAYgE,IAAIuf,KAAhB,CAAhC,CAAyD,CAD1E,CAEb/B,WAAY,SAAUxd,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAF/B,CAGb4d,iBAAkB,SAAU5d,GAAV,CAAe,CAC7B,MAAOhE,OAAM,IAAN,CAAYgE,IAAIqU,SAAhB,GAA8BrY,MAAM,IAAN,CAAYgE,IAAI0d,OAAhB,CAA9B,EACH1hB,MAAM,IAAN,CAAYgE,IAAI2d,QAAhB,CADJ,CAEH,CANY,CAObuC,kBAAmB,SAAUlgB,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAPrC,CAQbqd,sBAAuB,SAAUrd,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAR1C,CASbmf,mBAAoB,SAAUnf,GAAV,CAAe,CAAE,MAAOi7E,WAAU,IAAV,CAAgBj7E,IAAIud,WAApB,CAAP,CAA0C,CATlE,CAUbc,eAAgB,SAAUre,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAVnC,CAWbue,gBAAiB,SAAUve,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAXpC,CAYb8e,kBAAmB,SAAU9e,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAZrC,CAabgf,gBAAiB,SAAUhf,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAbnC,CAcb4e,sBAAuB,SAAU5e,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAd1C,CAeb8f,gBAAiB,SAAU9f,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAfnC,CAgBb0e,UAAW,SAAU1e,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAhB7B,CAiBb0f,eAAgB,SAAU1f,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAIqK,UAAhB,CAAP,CAAqC,CAjBzD,CAkBbuV,mBAAoB,SAAU5f,GAAV,CAAe,CAAE,MAAOhE,OAAM,IAAN,CAAYgE,IAAIqK,UAAhB,CAAP,CAAqC,CAlB7D,CAmBb0T,kBAAmB,SAAU/d,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAnBtC,CAoBbie,mBAAoB,SAAUje,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CApBvC,CAqBbkd,WAAY,SAAUld,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CArB/B,CAsBbggB,oBAAqB,SAAUhgB,GAAV,CAAe,CAAE,MAAO,KAAP,CAAc,CAtBvC,CAuBbme,sBAAuB,SAAUne,GAAV,CAAe,CAAE,MAAO,MAAP,CAAe,CAvB1C,CAAV,CAAP,CAyBH,CAjCD,CAkCA63E,gBAAgBpuF,SAAhB,CAA0BqxF,iBAA1B,CAA8C,UAAY,CACtD,GAAII,YAAa,KAAKjB,iBAAL,EAAjB,CACA,KAAK/B,cAAL,CAAsB1/C,KAAKC,GAAL,CAAS,KAAKwhD,iBAAd,CAAiC,KAAK/B,cAAtC,CAAtB,CACA,MAAO,IAAIhhC,YAAJ,CAAgBmiC,cAAc,KAAKjC,SAAnB,CAA8B8D,UAA9B,CAAhB,CAAP,CACH,CAJD,CAKArD,gBAAgBpuF,SAAhB,CAA0BuxF,gBAA1B,CAA6C,SAAUJ,SAAV,CAAqB,CAC9D,KAAKX,iBAAL,GACA,GAAIW,UAAU5sF,IAAV,EAAkBqrF,cAAc,KAAKjC,SAAnB,CAA8B,KAAK6C,iBAAnC,CAAtB,CAA6E,CACzE,KAAM,IAAIvuF,MAAJ,CAAU,aAAekvF,UAAU5sF,IAAzB,CAAgC,wBAA1C,CAAN,CACH,CACJ,CALD,CAMA,MAAO6pF,gBAAP,CACH,CAjXoC,EAArC,CAkXA,QAASE,kBAAT,CAA2BoD,GAA3B,CAAgCpoE,MAAhC,CAAwC,CACpC,GAAI5pB,MAAMmP,OAAN,CAAc6iF,GAAd,CAAJ,CAAwB,CACpBA,IAAI3tF,OAAJ,CAAY,SAAUi3C,KAAV,CAAiB,CAAE,MAAOszC,mBAAkBtzC,KAAlB,CAAyB1xB,MAAzB,CAAP,CAA0C,CAAzE,EACH,CAFD,IAGK,CACDA,OAAO9nB,IAAP,CAAYkwF,GAAZ,EACH,CACJ,CACD,GAAI7D,sBAAuB,aAAe,UAAY,CAClD,QAASA,qBAAT,EAAgC,CAC/B,CACDA,qBAAqB7tF,SAArB,CAA+BgxF,QAA/B,CAA0C,SAAUzsF,IAAV,CAAgB,CACtD,GAAIA,OAAS2oF,iBAAiBv5E,KAAjB,CAAuBpP,IAApC,CAA0C,CACtC,MAAO2oF,kBAAiBv5E,KAAxB,CACH,CACD,MAAO,KAAP,CACH,CALD,CAMA,MAAOk6E,qBAAP,CACH,CAVyC,EAA1C,CAWA,QAAS0B,oBAAT,CAA6B5B,SAA7B,CAAwC,CACpC,MAAOz4B,UAAS,WAAay4B,SAAtB,CAAP,CAAyC;AAC5C,CACD,QAASmB,wBAAT,CAAiCnB,SAAjC,CAA4C,CACxC,MAAOz4B,UAAS,MAAQy4B,SAAjB,CAAP,CACH,CACD,QAASkB,0BAAT,CAAmCl9B,IAAnC,CAAyC,CACrC,GAAIA,eAAgBpE,oBAApB,CAAyC,CACrC,MAAOoE,MAAKv2B,IAAZ,CACH,CAFD,IAGK,IAAIu2B,eAAgBK,gBAApB,CAAqC,CACtC,MAAOL,MAAKzwD,KAAZ,CACH,CACD,MAAO,KAAP,CACH,CACD,GAAIivF,qBAAsB,aAAe,SAAU15E,MAAV,CAAkB,CACvD5W,UAAUswF,mBAAV,CAA+B15E,MAA/B,EACA,QAAS05E,oBAAT,CAA6BnuE,IAA7B,CAAmChW,IAAnC,CAAyCmxC,SAAzC,CAAoD,CAChD,GAAIt5C,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkBshB,IAAlB,CAAwB,IAAxB,CAA8BhW,IAA9B,GAAuC,IAAnD,CACAnI,MAAMmI,IAAN,CAAaA,IAAb,CACAnI,MAAMs5C,SAAN,CAAkBA,SAAlB,CACA,MAAOt5C,MAAP,CACH,CACD,MAAOssF,oBAAP,CACH,CATwC,CASvC35D,YATuC,CAAzC,CAWA;;;;;;OAOA;;OAGA,GAAIm7D,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BC,OAA3B,CAAoChqC,SAApC,CAA+C,CAC3C,KAAKgqC,OAAL,CAAeA,OAAf,CACA,KAAKhqC,SAAL,CAAiBA,SAAjB,CACH,CACD;;;;;;;WAQA+pC,kBAAkB3xF,SAAlB,CAA4Bk+E,gBAA5B,CAA+C,SAAU2T,WAAV,CAAuB3sB,SAAvB,CAAkCvrD,QAAlC,CAA4C6rE,SAA5C,CAAuDsM,qBAAvD,CAA8E3yD,GAA9E,CAAmF,CAC9H,GAAIt7B,OAAQ,IAAZ,CACA,GAAImZ,OAAQ,GAAI9V,IAAJ,EAAZ,CACAs+E,UAAUzhF,OAAV,CAAkB,SAAUpE,CAAV,CAAa,CAAE,MAAOqd,OAAMpU,GAAN,CAAUjJ,EAAE4E,IAAZ,CAAkB5E,EAAEgS,IAAF,CAAO4G,SAAzB,CAAP,CAA6C,CAA9E,EACA,GAAIw5E,mBAAoB,CAAxB,CACA,GAAIC,oBAAqB,SAAUpoD,MAAV,CAAkB/uB,MAAlB,CAA0B,CAC/C,GAAIo3E,mBAAoBF,mBAAxB,CACA,MAAO,IAAIG,YAAJ,CAAgBruF,MAAM+tF,OAAtB,CAA+B/tF,MAAM+jD,SAArC,CAAgDkqC,qBAAhD,CAAuEloD,MAAvE,CAA+Es7B,UAAUvzD,IAAV,CAAe4G,SAA9F,CAAyG2sD,UAAU5qD,MAAnH,CAA2H23E,iBAA3H,CAA8Ij1E,KAA9I,CAAqJnC,MAArJ,CAA6JskB,GAA7J,CAAkK6yD,kBAAlK,CAAP,CACH,CAHD,CAIA,GAAIrjF,SAAUqjF,mBAAmB,IAAnB,CAAyB,EAAzB,CAAd,CACArjF,QAAQ4S,QAAR,CAAiB,EAAjB,CAAqB5H,QAArB,EACA,MAAOhL,SAAQm5B,KAAR,CAAc+pD,WAAd,CAAP,CACH,CAZD,CAaA,MAAOF,kBAAP,CACH,CA3BsC,EAAvC,CA4BA,GAAIQ,kBAAmB,MAAvB,CACA,GAAIC,wBAAyB,aAAe,UAAY,CACpD,QAASA,uBAAT,EAAkC,CACjC,CACDA,uBAAuBpyF,SAAvB,CAAiCgxF,QAAjC,CAA4C,SAAUzsF,IAAV,CAAgB,CACxD,GAAIA,OAAS2oF,iBAAiBv5E,KAAjB,CAAuBpP,IAApC,CAA0C,CACtC;AACA;AACA,MAAO2wD,UAASi9B,gBAAT,CAAP,CACH,CACD,MAAO,KAAP,CACH,CAPD,CAQA,MAAOC,uBAAP,CACH,CAZ2C,EAA5C,CAaA,GAAIC,iBAAkB,GAAID,uBAAJ,EAAtB,CACA,GAAIF,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqBN,OAArB,CAA8BhqC,SAA9B,CAAyCkqC,qBAAzC,CAAgEloD,MAAhE,CAAwEs7B,SAAxE,CAAmFotB,eAAnF,CAAoGL,iBAApG,CAAuHj1E,KAAvH,CAA8HnC,MAA9H,CAAsIskB,GAAtI,CAA2I6yD,kBAA3I,CAA+J,CAC3J,KAAKJ,OAAL,CAAeA,OAAf,CACA,KAAKhqC,SAAL,CAAiBA,SAAjB,CACA,KAAKkqC,qBAAL,CAA6BA,qBAA7B,CACA,KAAKloD,MAAL,CAAcA,MAAd,CACA,KAAKs7B,SAAL,CAAiBA,SAAjB,CACA,KAAKotB,eAAL,CAAuBA,eAAvB,CACA,KAAKL,iBAAL,CAAyBA,iBAAzB,CACA,KAAKj1E,KAAL,CAAaA,KAAb,CACA,KAAKnC,MAAL,CAAcA,MAAd,CACA,KAAKskB,GAAL,CAAWA,GAAX,CACA,KAAK6yD,kBAAL,CAA0BA,kBAA1B,CACA,KAAKO,aAAL,CAAqB,GAAIrrF,IAAJ,EAArB,CACA,KAAK+N,SAAL,CAAiB,EAAjB,CACA,KAAKJ,QAAL,CAAgB,EAAhB,CACA,KAAK29E,OAAL,CAAe,EAAf,CACA,KAAKC,OAAL,CAAe,EAAf,CACH,CACDP,YAAYlyF,SAAZ,CAAsB0yF,YAAtB,CAAqC,SAAU/gF,IAAV,CAAgB,CACjD,GAAI2yD,QAAJ,CACA,GAAI3yD,OAAS,KAAKuzD,SAAd,EAA2B,KAAKotB,eAApC,CAAqD,CACjDhuB,QAAU6tB,gBAAV,CACH,CAFD,IAGK,IAAIxgF,eAAgB8F,aAApB,CAAkC,CACnC6sD,QAAU,KAAKwtB,qBAAL,CAA2BnpF,GAA3B,CAA+BgJ,IAA/B,CAAV,CACH,CAFI,IAGA,CACD2yD,QAAU6tB,gBAAV,CACH,CACD,GAAI,CAAC7tB,OAAL,CAAc,CACV,KAAM,IAAIriE,MAAJ,CAAU,yDAA2D4V,KAAKvG,SAAL,CAAeK,IAAf,CAArE,CAAN,CACH,CACD,MAAO2yD,QAAP,CACH,CAfD,CAgBA4tB,YAAYlyF,SAAZ,CAAsB2yF,uBAAtB,CAAgD,SAAUp8E,GAAV,CAAe,CAC3D,GAAI4/C,IAAJ,CAASpzD,EAAT,CAAa6vF,GAAb,CAAkB5vF,EAAlB,CACA,GAAI2D,QAASjF,SAAS,KAAKmZ,MAAd,CAAb,CACA,GAAI,CACA,IAAK,GAAIzX,IAAKxC,SAAS2V,IAAI9B,UAAb,CAAT,CAAmClR,GAAKH,GAAGnC,IAAH,EAA7C,CAAwD,CAACsC,GAAGpC,IAA5D,CAAkEoC,GAAKH,GAAGnC,IAAH,EAAvE,CAAkF,CAC9E,GAAIuU,WAAYjS,GAAGrC,KAAnB,CACA,GAAI,CACA,IAAK,GAAIuC,IAAK7C,SAAS4U,UAAUlB,MAAnB,CAAT,CAAqC3Q,GAAKF,GAAGxC,IAAH,EAA/C,CAA0D,CAAC0C,GAAGxC,IAA9D,CAAoEwC,GAAKF,GAAGxC,IAAH,EAAzE,CAAoF,CAChF,GAAI+M,OAAQrK,GAAGzC,KAAf,CACA,GAAI2xF,OAAQr9E,UAAUA,SAAV,CAAoBqF,MAApB,CAA2B7M,MAAMoH,aAAjC,CAAZ,CACA,GAAIy9E,KAAJ,CAAW,CACP,GAAIC,OAAQD,QAAU,OAAtB,CACAlsF,OAAOnF,IAAP,CAAY,CACRqxF,MAAOA,KADC,CAERC,MAAOA,KAFC,CAGRlyE,WAAY,CAAEhS,QAAS,KAAKs2D,SAAhB,CAA2BhkE,MAAO8M,MAAM9M,KAAxC,CAHJ,CAAZ,EAKH,CACJ,CACJ,CACD,MAAO6xF,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CAdzC,OAeQ,CACJ,GAAI,CACA,GAAIpvF,IAAM,CAACA,GAAGxC,IAAV,GAAmB6B,GAAKS,GAAG8yD,MAA3B,CAAJ,CAAwCvzD,GAAGtC,IAAH,CAAQ+C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAImvF,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACJ,CACJ,CACD,MAAO60D,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CA1BzC,OA2BQ,CACJ,GAAI,CACA,GAAI/yD,IAAM,CAACA,GAAGpC,IAAV,GAAmB4B,GAAKK,GAAGmzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQ0C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAI+yD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,MAAOkF,OAAP,CACH,CArCD,CAsCAurF,YAAYlyF,SAAZ,CAAsBuhB,QAAtB,CAAiC,SAAUtM,SAAV,CAAqB+9E,QAArB,CAA+B,CAC5D,KAAK/9E,SAAL,CAAiBA,SAAjB,CACA0B,iBAAiB,IAAjB,CAAuBq8E,QAAvB,EACH,CAHD,CAIAd,YAAYlyF,SAAZ,CAAsB8nC,KAAtB,CAA8B,SAAU+pD,WAAV,CAAuBoB,gBAAvB,CAAyC,CACnE,GAAIpvF,OAAQ,IAAZ,CACA,GAAIovF,mBAAqB,IAAK,EAA9B,CAAiC,CAAEA,iBAAmB,EAAnB,CAAwB,CAC3D,GAAIC,IAAJ,CAASnwF,EAAT,CACA,KAAK8R,QAAL,CAAc9Q,OAAd,CAAsB,SAAUqkB,KAAV,CAAiB,CAAE,MAAOA,OAAM0f,KAAN,CAAY+pD,WAAZ,CAAyBoB,gBAAzB,CAAP,CAAoD,CAA7F,EACA,GAAIE,WAAY,CAACj+B,SAASi9B,gBAAT,EAA2BvpF,GAA3B,CAA+B4oD,SAA/B,EAA0CpD,UAA1C,CAAqDpF,YAArD,CAAD,CAAhB,CACA,GAAIoqC,cAAe,CAAnB,CACA,KAAKZ,OAAL,CAAazuF,OAAb,CAAqB,SAAU6c,UAAV,CAAsB,CACvC,GAAI7d,IAAKc,MAAMwvF,0BAAN,CAAiCzyE,UAAjC,CAAT,CAAuDtO,WAAavP,GAAGuP,UAAvE,CAAmF1D,QAAU7L,GAAG6L,OAAhG,CAAyG1N,MAAQ6B,GAAG7B,KAApH,CACA,GAAIysF,WAAY,GAAKyF,cAArB,CACA,GAAIE,cAAe1kF,UAAY/K,MAAMqhE,SAAlB,CAA8BrhE,KAA9B,CAAsCwuF,eAAzD,CACA,GAAIrvF,IAAKosF,uBAAuBkE,YAAvB,CAAqCp+B,SAASrxD,MAAM6uF,YAAN,CAAmB9jF,OAAnB,CAAT,CAArC,CAA4E1N,KAA5E,CAAmFysF,SAAnF,CAA8FwB,YAAYoE,OAA1G,CAAT,CAA6Hn/B,MAAQpxD,GAAGoxD,KAAxI,CAA+I86B,YAAclsF,GAAGksF,WAAhK,CACA96B,MAAM5yD,IAAN,CAAW,GAAI+rD,oBAAJ,CAAwB2hC,WAAxB,CAAX,EACAiE,UAAU3xF,IAAV,CAAeb,KAAf,CAAqBwyF,SAArB,CAAgCzxF,SAAS0yD,MAAMrrD,GAAN,CAAU,SAAU4oD,IAAV,CAAgB,CAAE,MAAOiD,oCAAmCjD,IAAnC,CAAyCr/C,UAAzC,CAAP,CAA8D,CAA1F,CAAT,CAAhC,EACH,CAPD,EAQA,KAAKmgF,OAAL,CAAa1uF,OAAb,CAAqB,SAAUhB,EAAV,CAAc,CAC/B,GAAIuP,YAAavP,GAAGuP,UAApB,CAAgC1D,QAAU7L,GAAG6L,OAA7C,CAAsD1N,MAAQ6B,GAAG7B,KAAjE,CACA,GAAIysF,WAAY,GAAKyF,cAArB,CACA,GAAIE,cAAe1kF,UAAY/K,MAAMqhE,SAAlB,CAA8BrhE,KAA9B,CAAsCwuF,eAAzD,CACA,GAAIj+B,OAAQm5B,qBAAqB+F,YAArB,CAAmCp+B,SAASrxD,MAAM6uF,YAAN,CAAmB9jF,OAAnB,CAAT,CAAnC,CAA0E1N,KAA1E,CAAiFysF,SAAjF,EAA4Fv5B,KAAxG,CACA++B,UAAU3xF,IAAV,CAAeb,KAAf,CAAqBwyF,SAArB,CAAgCzxF,SAAS0yD,MAAMrrD,GAAN,CAAU,SAAU4oD,IAAV,CAAgB,CAAE,MAAOiD,oCAAmCjD,IAAnC,CAAyCr/C,UAAzC,CAAP,CAA8D,CAA1F,CAAT,CAAhC,EACH,CAND,EAOA,GAAI,KAAKuI,MAAL,CAAYpa,MAAhB,CAAwB,CACpB,GAAI+yF,iBAAkBppF,SAAtB,CACA,GAAI,CACA,IAAK,GAAIpH,IAAKpC,SAAS,KAAKia,MAAd,CAAT,CAAgCzX,GAAKJ,GAAG/B,IAAH,EAA1C,CAAqD,CAACmC,GAAGjC,IAAzD,CAA+DiC,GAAKJ,GAAG/B,IAAH,EAApE,CAA+E,CAC3E,GAAI4xF,OAAQzvF,GAAGlC,KAAf,CACA,GAAIqC,IAAK,KAAK8vF,0BAAL,CAAgCR,MAAMjyE,UAAtC,CAAT,CAA4DhS,QAAUrL,GAAGqL,OAAzE,CAAkF1N,MAAQqC,GAAGrC,KAA7F,CACA,GAAIysF,WAAY,GAAKyF,cAArB,CACA,GAAIE,cAAe1kF,UAAY,KAAKs2D,SAAjB,CAA6B,IAA7B,CAAoCmtB,eAAvD,CACA;AACA;AACA,GAAI5uF,IAAK2rF,uBAAuBkE,YAAvB,CAAqCp+B,SAAS,KAAKw9B,YAAL,CAAkB9jF,OAAlB,CAAT,CAArC,CAA2E1N,KAA3E,CAAkFysF,SAAlF,CAA6FwB,YAAYO,SAAzG,CAAT,CAA8Ht7B,MAAQ3wD,GAAG2wD,KAAzI,CAAgJ86B,YAAczrF,GAAGyrF,WAAjK,CACA,GAAI96B,MAAM3zD,MAAN,EAAgB,CAApB,CAAuB,CACnB,GAAIgzF,aAAcZ,MAAMC,KAAN,CAAc5D,WAAd,CAA4B,KAAK/vD,GAAL,CAASg2B,UAAT,CAAoB09B,MAAMA,KAA1B,EAAiCtoC,MAAjC,CAAwC,CAAC2kC,WAAD,CAAxC,CAA9C,CACAsE,gBAAkBA,gBAAkBA,gBAAgBrnC,GAAhB,CAAoBsnC,WAApB,CAAlB,CAAqDA,WAAvE,CACH,CACJ,CACJ,CACD,MAAOC,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CAfzC,OAgBQ,CACJ,GAAI,CACA,GAAItwF,IAAM,CAACA,GAAGjC,IAAV,GAAmB4B,GAAKC,GAAGuzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQsC,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAIkwF,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACD,GAAI+xF,eAAJ,CAAqB,CACjBL,UAAY,CAAC,GAAItgC,OAAJ,CAAW2gC,eAAX,CAA4BL,SAA5B,CAAD,CAAZ,CACH,CACJ,CACD,GAAIQ,UAAW,SAAW9B,WAAX,CAAyB,GAAzB,CAA+B,KAAKI,iBAAnD,CACA,GAAI2B,aAAc,GAAI1jC,oBAAJ,CAAwByjC,QAAxB,CAAkC,EAAlC,CAAsCR,SAAtC,CAAlB,CACAF,iBAAiBzxF,IAAjB,CAAsBoyF,WAAtB,EACA,MAAOX,iBAAP,CACH,CAtDD,CAuDAf,YAAYlyF,SAAZ,CAAsB0S,cAAtB,CAAuC,SAAU6D,GAAV,CAAe3H,OAAf,CAAwB,CAC3D,GAAI/K,OAAQ,IAAZ,CACA,GAAIgwF,eAAgBt9E,IAAIrV,KAAxB,CACA,GAAI4yF,OAAQD,cAAct9E,GAA1B,CACAu9E,MAAMhgE,WAAN,CAAkB/vB,OAAlB,CAA0B,SAAUq3B,IAAV,CAAgB,CACtC,MAAOv3B,OAAM2uF,OAAN,CAAchxF,IAAd,CAAmB,CAAEoN,QAAS/K,MAAMqhE,SAAjB,CAA4BhkE,MAAOk6B,IAAnC,CAAyC9oB,WAAYiE,IAAIjE,UAAzD,CAAnB,CAAP,CACH,CAFD,EAGH,CAPD,CAQA4/E,YAAYlyF,SAAZ,CAAsBkV,qBAAtB,CAA8C,SAAUqB,GAAV,CAAe3H,OAAf,CAAwB,CAClE,KAAKmlF,sBAAL,CAA4Bx9E,GAA5B,EACA;AACA;AACA;AACA,GAAI,KAAKq7E,OAAL,CAAaoC,qBAAjB,CAAwC,CACpC;AACA;AACA;AACA;AACA,GAAIn5E,QAAS,KAAK83E,uBAAL,CAA6Bp8E,GAA7B,CAAb,CACA,GAAI09E,cAAe,KAAKjC,kBAAL,CAAwB,IAAxB,CAA8Bn3E,MAA9B,CAAnB,CACA,KAAKhG,QAAL,CAAcrT,IAAd,CAAmByyF,YAAnB,EACAA,aAAa1yE,QAAb,CAAsBhL,IAAItB,SAA1B,CAAqCsB,IAAI1B,QAAzC,EACH,CACJ,CAfD,CAgBAq9E,YAAYlyF,SAAZ,CAAsB+U,YAAtB,CAAqC,SAAUwB,GAAV,CAAe3H,OAAf,CAAwB,CACzD,GAAI/K,OAAQ,IAAZ,CACA,KAAKkwF,sBAAL,CAA4Bx9E,GAA5B,EACAA,IAAIjC,MAAJ,CAAWvQ,OAAX,CAAmB,SAAUmwF,QAAV,CAAoB,CACnCrwF,MAAM2uF,OAAN,CAAchxF,IAAd,CAAmB,CAAEoN,QAAS/K,MAAMqhE,SAAjB,CAA4BhkE,MAAOgzF,SAAShzF,KAA5C,CAAmDoR,WAAY4hF,SAAS5hF,UAAxE,CAAnB,EACH,CAFD,EAGAqE,iBAAiB,IAAjB,CAAuBJ,IAAI1B,QAA3B,EACH,CAPD,CAQAq9E,YAAYlyF,SAAZ,CAAsB+zF,sBAAtB,CAA+C,SAAUx9E,GAAV,CAAe,CAC1D,GAAI1S,OAAQ,IAAZ,CACA0S,IAAI9B,UAAJ,CAAe1Q,OAAf,CAAuB,SAAUowF,MAAV,CAAkB,CAAEtwF,MAAM+R,cAAN,CAAqBu+E,MAArB,EAA+B,CAA1E,EACA59E,IAAI/B,UAAJ,CAAezQ,OAAf,CAAuB,SAAUyU,GAAV,CAAe,CAClC,GAAI47E,eAAgB,IAApB,CACA;AACA;AACA;AACA,GAAI57E,IAAItX,KAAJ,EAAasX,IAAItX,KAAJ,CAAUuX,UAAvB,EAAqC5U,MAAM+tF,OAAN,CAAcoC,qBAAvD,CAA8E,CAC1EI,cAAgB57E,IAAItX,KAAJ,CAAUuX,UAAV,CAAqBF,SAArC,CACH,CAFD,IAGK,CACD67E,cAAgBt1F,QAAQqpD,eAAR,CAAwBc,OAAxC,CACH,CACDplD,MAAM0uF,aAAN,CAAoB3pF,GAApB,CAAwB4P,IAAIjU,IAA5B,CAAkC6vF,aAAlC,EACH,CAZD,EAaA79E,IAAIhC,OAAJ,CAAYxQ,OAAZ,CAAoB,SAAUswF,SAAV,CAAqB,CACrCxwF,MAAM4uF,OAAN,CAAcjxF,IAAd,CAAmB,CAAEoN,QAAS/K,MAAMqhE,SAAjB,CAA4BhkE,MAAOmzF,UAAU7gF,OAA7C,CAAsDlB,WAAY+hF,UAAU/hF,UAA5E,CAAnB,EACH,CAFD,EAGH,CAnBD,CAoBA4/E,YAAYlyF,SAAZ,CAAsB4V,cAAtB,CAAuC,SAAUu+E,MAAV,CAAkB,CACrD,GAAItwF,OAAQ,IAAZ,CACA,GAAIi4D,SAAUq4B,OAAO3+E,SAAP,CAAiB7D,IAAjB,CAAsB4G,SAApC,CACA47E,OAAO7/E,MAAP,CAAcvQ,OAAd,CAAsB,SAAUiK,KAAV,CAAiB,CAAE,MAAOnK,OAAM2uF,OAAN,CAAchxF,IAAd,CAAmB,CAAEoN,QAAS/K,MAAMqhE,SAAjB,CAA4BhkE,MAAO8M,MAAM9M,KAAzC,CAAgDoR,WAAYtE,MAAMsE,UAAlE,CAAnB,CAAP,CAA4G,CAArJ,EACA;AACA;AACA;AACA,GAAI,KAAKs/E,OAAL,CAAaoC,qBAAjB,CAAwC,CACpCG,OAAO1+E,cAAP,CAAsB1R,OAAtB,CAA8B,SAAUmwF,QAAV,CAAoB,CAAE,MAAOrwF,OAAM2uF,OAAN,CAAchxF,IAAd,CAAmB,CAAEoN,QAASktD,OAAX,CAAoB56D,MAAOgzF,SAAShzF,KAApC,CAA2CoR,WAAY4hF,SAAS5hF,UAAhE,CAAnB,CAAP,CAA0G,CAA9J,EACA6hF,OAAOz+E,UAAP,CAAkB3R,OAAlB,CAA0B,SAAUuwF,YAAV,CAAwB,CAAE,MAAOzwF,OAAM4uF,OAAN,CAAcjxF,IAAd,CAAmB,CAC1EoN,QAASktD,OADiE,CAE1E56D,MAAOozF,aAAa9gF,OAFsD,CAG1ElB,WAAYgiF,aAAahiF,UAHiD,CAAnB,CAAP,CAI/C,CAJL,EAKH,CACJ,CAfD,CAgBA4/E,YAAYlyF,SAAZ,CAAsBgxF,QAAtB,CAAiC,SAAUzsF,IAAV,CAAgB,CAC7C,GAAIA,MAAQ2oF,iBAAiBv5E,KAAjB,CAAuBpP,IAAnC,CAAyC,CACrC,MAAO2wD,UAAS,KAAKw9B,YAAL,CAAkB5zF,QAAQqpD,eAAR,CAAwBc,OAA1C,CAAT,CAAP,CACH,CACD,IAAK,GAAIsrC,aAAc,IAAvB,CAA6BA,WAA7B,CAA0CA,YAAcA,YAAY3qD,MAApE,CAA4E,CACxE,GAAIwqD,eAAgB,IAAK,EAAzB,CACA;AACAA,cAAgBG,YAAYhC,aAAZ,CAA0B5pF,GAA1B,CAA8BpE,IAA9B,CAAhB,CACA,GAAI6vF,eAAiB,IAArB,CAA2B,CACvB;AACA,GAAII,QAASD,YAAYt/E,SAAZ,CAAsBmjC,IAAtB,CAA2B,SAAUo8C,MAAV,CAAkB,CAAE,MAAOA,QAAOjwF,IAAP,GAAgBA,IAAvB,CAA8B,CAA7E,CAAb,CACA,GAAIiwF,MAAJ,CAAY,CACRJ,cAAgBt1F,QAAQqpD,eAAR,CAAwBc,OAAxC,CACH,CACJ,CACD,GAAImrC,eAAiB,IAArB,CAA2B,CACvB,MAAOl/B,UAAS,KAAKw9B,YAAL,CAAkB0B,aAAlB,CAAT,CAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CApBD,CAqBAlC,YAAYlyF,SAAZ,CAAsBy0F,aAAtB,CAAsC,SAAUlwF,IAAV,CAAgB,CAClD,GAAIu8E,MAAO,KAAK9jE,KAAL,CAAWrU,GAAX,CAAepE,IAAf,CAAX,CACA,GAAI,CAACu8E,IAAL,CAAW,CACP,KAAM,IAAI7+E,MAAJ,CAAU,sCAAwCsC,IAAxC,CAA+C,kBAA/C,CAAoE,KAAK2gE,SAAnF,CAAN,CACH,CACD,MAAO,MAAKwtB,YAAL,CAAkB5R,IAAlB,CAAP,CACH,CAND,CAOAoR,YAAYlyF,SAAZ,CAAsBqzF,0BAAtB,CAAmD,SAAUzyE,UAAV,CAAsB,CACrE,GAAI/c,OAAQ,IAAZ,CACA,MAAO,CACHyO,WAAYsO,WAAWtO,UADpB,CAEH1D,QAASgS,WAAWhS,OAFjB,CAGH1N,MAAO6sF,+BAA+B,CAClCC,4BAA6B,SAAUC,QAAV,CAAoB,CAAE,MAAO,UAAUjiF,IAAV,CAAgB,CACtE,GAAIuD,KAAMimD,WAAWxpD,IAAX,CAAV,CACA;AACA;AACA,MAAOnI,OAAM+tF,OAAN,CAAcoC,qBAAd,CAAsCzkF,GAAtC,CAA4CA,IAAI69C,IAAJ,CAASpE,YAAT,CAAnD,CACH,CALkD,CAK/C,CAN8B,CAOlCklC,0BAA2B,SAAU1+E,IAAV,CAAgB,CAAE,MAAO,UAAUvC,MAAV,CAAkB,CAClE,GAAIujD,SAAUhhD,KAAKzG,GAAL,CAAS,SAAUoiC,CAAV,CAAa7qC,CAAb,CAAgB,CAAE,MAAQ,CAC7CmP,IAAK07B,EAAE17B,GADsC,CAE7CvO,MAAO+L,OAAO3M,CAAP,CAFsC,CAG7Co8B,OAAQyO,EAAEzO,MAHmC,CAAR,CAIpC,CAJS,CAAd,CAKA,GAAI3zB,KAAM0sD,WAAWjF,OAAX,CAAV,CACA;AACA;AACA,MAAO3sD,OAAM+tF,OAAN,CAAcoC,qBAAd,CAAsCjrF,GAAtC,CAA4CA,IAAIqkD,IAAJ,CAASpE,YAAT,CAAnD,CACH,CAV4C,CAUzC,CAjB8B,CAkBlCmlC,oBAAqB,SAAU5pF,IAAV,CAAgB0pF,QAAhB,CAA0B,CAAE,MAAO,UAAUjiF,IAAV,CAAgB,CACpE;AACA;AACA,GAAI0oF,UAAW7wF,MAAM+tF,OAAN,CAAcoC,qBAAd,CACX9+B,SAASrxD,MAAM4wF,aAAN,CAAoBlwF,IAApB,CAAT,CADW,CAEX2wD,SAASrxD,MAAM6uF,YAAN,CAAmB5zF,QAAQqpD,eAAR,CAAwBc,OAA3C,CAAT,CAFJ,CAGA,MAAOyrC,UAAStqC,UAAT,CAAoB,WAApB,CAAiCp+C,IAAjC,CAAP,CACH,CAPgD,CAO7C,CAzB8B,CAA/B,CA0BJ4U,WAAW1f,KA1BP,CAHJ,CAAP,CA+BH,CAjCD,CAkCAgxF,YAAYlyF,SAAZ,CAAsBqW,cAAtB,CAAuC,SAAUE,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlE,CACAsjF,YAAYlyF,SAAZ,CAAsBwS,SAAtB,CAAkC,SAAU+D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA7D,CACAsjF,YAAYlyF,SAAZ,CAAsBsV,sBAAtB,CAA+C,SAAUiB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACAsjF,YAAYlyF,SAAZ,CAAsBgU,cAAtB,CAAuC,SAAUuC,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlE,CACAsjF,YAAYlyF,SAAZ,CAAsBoU,aAAtB,CAAsC,SAAUmC,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjE,CACAsjF,YAAYlyF,SAAZ,CAAsB6T,UAAtB,CAAmC,SAAU0C,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA9D,CACAsjF,YAAYlyF,SAAZ,CAAsBoT,oBAAtB,CAA6C,SAAUmD,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAxE,CACAsjF,YAAYlyF,SAAZ,CAAsB4S,SAAtB,CAAkC,SAAU2D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA7D,CACA,MAAOsjF,YAAP,CACH,CA/QgC,EAAjC,CAiRA;;;;;;OAOA,GAAIyC,cAAe,OAAnB,CACA,GAAIC,YAAa,OAAjB,CACA,GAAIC,uBAAwB,YAA5B,CACA,GAAIC,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2BC,YAA3B,CAAyCC,eAAzC,CAA0D,CACtD,KAAKD,YAAL,CAAoBA,YAApB,CACA,KAAKC,eAAL,CAAuBA,eAAvB,CACH,CACD,MAAOF,kBAAP,CACH,CANsC,EAAvC,CAOA,GAAIG,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsB1sE,UAAtB,CAAkC,CAC9B,KAAKA,UAAL,CAAkBA,UAAlB,CACH,CACD0sE,aAAaj1F,SAAb,CAAuBk+E,gBAAvB,CAA0C,SAAUL,SAAV,CAAqB3Y,SAArB,CAAgCvrD,QAAhC,CAA0CL,MAA1C,CAAkDksE,SAAlD,CAA6D,CACnG,GAAI3hF,OAAQ,IAAZ,CACA,GAAId,GAAJ,CACA,GAAIgvF,mBAAoB,CAAxB,CACA,GAAImD,gBAAiBC,mBAAmBx7E,QAAnB,CAArB,CACA,GAAIy7E,wBAAyBhrF,SAA7B,CACA,GAAI,CAAC86D,UAAU5qD,MAAf,CAAuB,CACnB,GAAI+6E,YAAanwB,UAAUvrD,QAA3B,CACA,GAAI27E,kBAAmB,EAAvB,CACA,GAAID,WAAWt7E,UAAX,EAAyBs7E,WAAWt7E,UAAX,CAAsBtZ,MAAnD,CAA2D,CACvD60F,iBAAiB9zF,IAAjB,CAAsB,GAAImvD,gBAAJ,CAAoB,WAApB,CAAiC8F,wBAAwBonB,SAAxB,CAAmCwX,WAAWt7E,UAA9C,CAAjC,CAA4F,IAA5F,CAAtB,EACH,CACD,GAAIw7E,oBAAqBrgC,SAASp8C,iBAAiBosD,UAAUvzD,IAAV,CAAe4G,SAAhC,CAAT,CAAzB,CACA68E,uBAAyBG,mBAAmBhxF,IAA5C,CACAs5E,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B+zF,mBACrB3sF,GADqB,CACjBusD,WAAWzQ,YAAY4C,mBAAvB,EAA4CiD,MAA5C,CAAmD,CAAC,GAAIqG,eAAJ,CAAmB,CACxE,GAAID,gBAAJ,CAAoB,eAApB,CAAqCoF,QAAQs/B,WAAW37E,aAAnB,CAArC,CAAwE,KAAxE,CADwE,CAExE,GAAIi3C,gBAAJ,CAAoB,QAApB,CAA8Br3C,MAA9B,CAAsC,KAAtC,CAFwE,CAGxE,GAAIq3C,gBAAJ,CAAoB,MAApB,CAA4B,GAAIC,eAAJ,CAAmB0kC,gBAAnB,CAA5B,CAAkE,KAAlE,CAHwE,CAAnB,CAAD,CAAnD,CADiB,EAMrBlnC,UANqB,CAMVgH,WAAW1Q,YAAY6C,aAAvB,CANU,CAM6B,CAACzoD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAA6BvtE,QAAQ2yD,YAAR,CAAqB6a,QAAlD,CAN7B,CAA1B,EAOH,CACD,GAAI0lB,oBAAqB,SAAUpoD,MAAV,CAAkB,CACvC,GAAIqoD,mBAAoBF,mBAAxB,CACA,MAAO,IAAIyD,cAAJ,CAAkB3xF,MAAM0kB,UAAxB,CAAoCs1D,SAApC,CAA+Cj0C,MAA/C,CAAuDs7B,SAAvD,CAAkE+sB,iBAAlE,CAAqFzM,SAArF,CAAgG0P,cAAhG,CAAgHlD,kBAAhH,CAAP,CACH,CAHD,CAIA,GAAIrjF,SAAUqjF,mBAAmB,IAAnB,CAAd,CACArjF,QAAQ4S,QAAR,CAAiB,EAAjB,CAAqB5H,QAArB,EACA,CAAC5W,GAAK86E,UAAU7tB,UAAhB,EAA4BxuD,IAA5B,CAAiCb,KAAjC,CAAuCoC,EAAvC,CAA2CrB,SAASiN,QAAQm5B,KAAR,EAAT,CAA3C,EACA,MAAO,IAAIgtD,kBAAJ,CAAsBnmF,QAAQglF,QAA9B,CAAwCyB,sBAAxC,CAAP,CACH,CA9BD,CA+BA,MAAOH,aAAP,CACH,CApCiC,EAAlC,CAqCA,GAAIQ,WAAYvgC,SAAS,IAAT,CAAhB,CACA,GAAIwgC,UAAWxgC,SAAS,IAAT,CAAf,CACA,GAAIygC,WAAYzgC,SAAS,KAAT,CAAhB,CACA,GAAI0gC,UAAW1gC,SAAS,KAAT,CAAf,CACA,GAAI2gC,gBAAiB3gC,SAAS,IAAT,CAArB,CACA,GAAI4gC,mBAAoB5gC,SAAS,IAAT,CAAxB,CACA,GAAIsgC,eAAgB,aAAe,UAAY,CAC3C,QAAStD,YAAT,CAAqBtqC,SAArB,CAAgCi2B,SAAhC,CAA2Cj0C,MAA3C,CAAmDs7B,SAAnD,CAA8D+sB,iBAA9D,CAAiFzM,SAAjF,CAA4F0P,cAA5F,CAA4GlD,kBAA5G,CAAgI,CAC5H,KAAKpqC,SAAL,CAAiBA,SAAjB,CACA,KAAKi2B,SAAL,CAAiBA,SAAjB,CACA,KAAKj0C,MAAL,CAAcA,MAAd,CACA,KAAKs7B,SAAL,CAAiBA,SAAjB,CACA,KAAK+sB,iBAAL,CAAyBA,iBAAzB,CACA,KAAKzM,SAAL,CAAiBA,SAAjB,CACA,KAAK0P,cAAL,CAAsBA,cAAtB,CACA,KAAKlD,kBAAL,CAA0BA,kBAA1B,CACA,KAAKxwE,KAAL,CAAa,EAAb,CACA,KAAKu0E,mBAAL,CAA2Bx2F,OAAOU,MAAP,CAAc,IAAd,CAA3B,CACA;AACA,KAAK+1F,cAAL,CAAsBz2F,OAAOU,MAAP,CAAc,IAAd,CAAtB,CACA,KAAKgV,SAAL,CAAiB,EAAjB,CACA,KAAKJ,QAAL,CAAgB,EAAhB,CACA;AACA;AACA;AACA,KAAK+D,QAAL,CAAgB,KAAKq5E,iBAAL,CAAyB,CAAzB,CACZjpC,YADY,CAEZsM,eAAeuoB,UAAU1oB,UAAV,CAAqB,KAAK+P,SAAL,CAAevzD,IAAf,CAAoB4G,SAAzC,CAAf,CAFJ,CAGA,KAAKo7E,QAAL,CAAgBh7E,cAAc,KAAKusD,SAAL,CAAevzD,IAAf,CAAoB4G,SAAlC,CAA6C,KAAK05E,iBAAlD,CAAhB,CACH,CACDC,YAAYlyF,SAAZ,CAAsBuhB,QAAtB,CAAiC,SAAUtM,SAAV,CAAqB+9E,QAArB,CAA+B,CAC5D,GAAInvF,OAAQ,IAAZ,CACA,KAAKoR,SAAL,CAAiBA,SAAjB,CACA;AACA,GAAI,CAAC,KAAK20B,MAAV,CAAkB,CACd,KAAK47C,SAAL,CAAezhF,OAAf,CAAuB,SAAU+8E,IAAV,CAAgB,CACnC,GAAIA,KAAKt1E,IAAT,CAAe,CACX3H,MAAMkyF,mBAAN,CAA0BjV,KAAKv8E,IAA/B,EAAuCV,MAAMoyF,WAAN,CAAkB,IAAlB,CAAwBnV,IAAxB,CAAvC,CACH,CACJ,CAJD,EAKH,CACD,GAAI,CAAC,KAAKl3C,MAAV,CAAkB,CACd,GAAIssD,YAAaC,mBAAmB,KAAKjB,cAAxB,CAAjB,CACA,KAAKhwB,SAAL,CAAepqD,WAAf,CAA2B/W,OAA3B,CAAmC,SAAU4lB,KAAV,CAAiBysE,UAAjB,CAA6B,CAC5D;AACA,GAAI1uB,SAAU0uB,WAAa,CAA3B,CACA,GAAIrT,aAAcp5D,MAAMlf,KAAN,CAAc,CAAE,WAAhB,CAA8B,CAAE,SAAlD,CACA,GAAIysD,OAAQ,SAAU,mBAAV,CAAgCm/B,4BAA4BH,UAA5B,CAAwCxuB,OAAxC,CAAiD/9C,MAAMlf,KAAvD,CAA5C,CACA5G,MAAM2d,KAAN,CAAYhgB,IAAZ,CAAiB,UAAY,CAAE,MAAQ,CACnC8Q,WAAY,IADuB,CAEnCgkF,UAAWp/B,KAFwB,CAGnCq/B,QAASphC,WAAWzQ,YAAYoC,QAAvB,EAAiCyD,MAAjC,CAAwC,CAC7CwL,QAAQmB,KAAR,CAD6C,CAC7BnB,QAAQ2R,OAAR,CAD6B,CAE7C,GAAI9W,eAAJ,CAAmB,CAAC,GAAID,gBAAJ,CAAoBhnC,MAAMu6C,YAA1B,CAAwCnO,QAAQgtB,WAAR,CAAxC,CAA8D,KAA9D,CAAD,CAAnB,CAF6C,CAAxC,CAH0B,CAAR,CAO1B,CAPL,EAQH,CAbD,EAcH,CACDpsE,iBAAiB,IAAjB,CAAuBq8E,QAAvB,EACA,GAAI,KAAKppD,MAAL,GAAgBopD,SAASvyF,MAAT,GAAoB,CAApB,EAAyB+1F,wBAAwBxD,QAAxB,CAAzC,CAAJ,CAAiF,CAC7E;AACA,KAAKxxE,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAY,IADsB,CAElCgkF,UAAW,CAAE,iBAFqB,CAGlCC,QAASphC,WAAWzQ,YAAYgC,SAAvB,EAAkC6D,MAAlC,CAAyC,CAC9CwL,QAAQ,CAAE,UAAV,CAD8C,CACvBvE,SADuB,CACZA,SADY,CACDuE,QAAQ,CAAR,CADC,CAAzC,CAHyB,CAAR,CAMzB,CANL,EAOH,CACJ,CAvCD,CAwCAm8B,YAAYlyF,SAAZ,CAAsB8nC,KAAtB,CAA8B,SAAUmrD,gBAAV,CAA4B,CACtD,GAAIA,mBAAqB,IAAK,EAA9B,CAAiC,CAAEA,iBAAmB,EAAnB,CAAwB,CAC3D,KAAKp+E,QAAL,CAAc9Q,OAAd,CAAsB,SAAUqkB,KAAV,CAAiB,CAAE,MAAOA,OAAM0f,KAAN,CAAYmrD,gBAAZ,CAAP,CAAuC,CAAhF,EACA,GAAIlwF,IAAK,KAAK0zF,sBAAL,EAAT,CAAwCC,oBAAsB3zF,GAAG2zF,mBAAjE,CAAsFC,sBAAwB5zF,GAAG4zF,qBAAjH,CAAwIC,aAAe7zF,GAAG6zF,YAA1J,CACA,GAAIC,kBAAmB,KAAKC,eAAL,CAAqBJ,mBAArB,CAAvB,CACA,GAAIK,oBAAqB,KAAKD,eAAL,CAAqBH,qBAArB,CAAzB,CACA,GAAIK,WAAY,CAAE,UAAlB,CACA,GAAI,CAAC,KAAKptD,MAAN,EAAgB,KAAKs7B,SAAL,CAAe75D,eAAf,GAAmCH,wBAAwB+rF,MAA/E,CAAuF,CACnFD,WAAa,CAAE,YAAf,CACH,CACD,GAAIpD,aAAc,GAAI1jC,oBAAJ,CAAwB,KAAKyjC,QAA7B,CAAuC,CAAC,GAAI9jC,QAAJ,CAAY4lC,UAAUlxF,IAAtB,CAAD,CAAvC,CAAsE,CAAC,GAAIytD,gBAAJ,CAAoBmD,WAAWzQ,YAAY8B,OAAvB,EAAgC+D,MAAhC,CAAuC,CAC5IwL,QAAQihC,SAAR,CAD4I,CAE5IxhC,WAAWohC,YAAX,CAF4I,CAG5IG,kBAH4I,CAI5IF,gBAJ4I,CAAvC,CAApB,CAAD,CAAtE,CAKRzhC,WAAW1Q,YAAY8C,cAAvB,CALQ,CAKgC,KAAKyqC,iBAAL,GAA2B,CAA3B,CAA+B,CAACnzF,QAAQ2yD,YAAR,CAAqB6a,QAAtB,CAA/B,CAAiE,EALjG,CAAlB,CAMA2mB,iBAAiBzxF,IAAjB,CAAsBoyF,WAAtB,EACA,MAAOX,iBAAP,CACH,CAlBD,CAmBAf,YAAYlyF,SAAZ,CAAsB82F,eAAtB,CAAwC,SAAUI,WAAV,CAAuB,CAC3D,GAAIC,SAAJ,CACA,GAAID,YAAYz2F,MAAZ,CAAqB,CAAzB,CAA4B,CACxB,GAAI22F,UAAW,EAAf,CACA,GAAI,CAAC,KAAKlyB,SAAL,CAAe5qD,MAAhB,EAA0Bg6C,iBAAiB4iC,WAAjB,EAA8B35E,GAA9B,CAAkCq4E,SAASrxF,IAA3C,CAA9B,CAAgF,CAC5E6yF,SAAS51F,IAAT,CAAco0F,SAAShtF,GAAT,CAAa8sF,SAASviF,IAAT,CAAc,WAAd,CAAb,EAAyCi7C,UAAzC,CAAoD,KAAKx1C,QAAzD,CAAd,EACH,CACDu+E,SAAWtoC,GAAG,CACV,GAAIgB,QAAJ,CAAY8lC,UAAUpxF,IAAtB,CAA4B2kD,aAA5B,CADU,CAEV,GAAI2G,QAAJ,CAAY6lC,SAASnxF,IAArB,CAA2B2kD,aAA3B,CAFU,CAAH,CAGRxnD,SAAS01F,QAAT,CAAmBF,WAAnB,CAHQ,CAGyBhuC,aAHzB,CAAX,CAIH,CATD,IAUK,CACDiuC,SAAW3lC,SAAX,CACH,CACD,MAAO2lC,SAAP,CACH,CAhBD,CAiBAjF,YAAYlyF,SAAZ,CAAsBqW,cAAtB,CAAuC,SAAUE,GAAV,CAAe3H,OAAf,CAAwB,CAC3D;AACA,KAAK4S,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAYiE,IAAIjE,UADkB,CAElCgkF,UAAW,CAAE,mBAFqB,CAGlCC,QAASphC,WAAWzQ,YAAY0C,YAAvB,EAAqCmD,MAArC,CAA4C,CACjDwL,QAAQx/C,IAAIlE,cAAZ,CADiD,CACpB0jD,QAAQx/C,IAAIvF,KAAZ,CADoB,CAA5C,CAHyB,CAAR,CAMzB,CANL,EAOH,CATD,CAUAkhF,YAAYlyF,SAAZ,CAAsBwS,SAAtB,CAAkC,SAAU+D,GAAV,CAAe3H,OAAf,CAAwB,CACtD;AACA,GAAIyoF,YAAa,CAAC,CAAlB,CACA,KAAK71E,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAYiE,IAAIjE,UADkB,CAElCgkF,UAAW,CAAE,cAFqB,CAGlCC,QAASphC,WAAWzQ,YAAYiC,OAAvB,EAAgC4D,MAAhC,CAAuC,CAC5CwL,QAAQshC,UAAR,CAD4C,CAE5CthC,QAAQx/C,IAAIlE,cAAZ,CAF4C,CAG5CmjD,WAAW,CAACO,QAAQx/C,IAAIrV,KAAZ,CAAD,CAAX,CAH4C,CAAvC,CAHyB,CAAR,CAQzB,CARL,EASH,CAZD,CAaAgxF,YAAYlyF,SAAZ,CAAsB0S,cAAtB,CAAuC,SAAU6D,GAAV,CAAe3H,OAAf,CAAwB,CAC3D,GAAI/K,OAAQ,IAAZ,CACA,GAAIyzF,WAAY,KAAK91E,KAAL,CAAW/gB,MAA3B,CACA;AACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,IAAhB,EACA,GAAIqyF,eAAgBt9E,IAAIrV,KAAxB,CACA,GAAI4yF,OAAQD,cAAct9E,GAA1B,CACA,GAAIghF,2BAA4BzD,MAAMhgE,WAAN,CAAkB/qB,GAAlB,CAAsB,SAAUqyB,IAAV,CAAgBo8D,YAAhB,CAA8B,CAAE,MAAO3zF,OAAM4zF,2BAAN,CAAkC,CAAEH,UAAWA,SAAb,CAAwBE,aAAcA,YAAtC,CAAoDllF,WAAYiE,IAAIjE,UAApE,CAAgF1D,QAASgnF,QAAzF,CAAmG10F,MAAOk6B,IAA1G,CAAlC,CAAP,CAA6J,CAAnN,CAAhC,CACA;AACA;AACA,GAAIi8D,YAAaC,SAAjB,CACA,KAAK91E,KAAL,CAAW81E,SAAX,EAAwB,UAAY,CAAE,MAAQ,CAC1ChlF,WAAYiE,IAAIjE,UAD0B,CAE1CgkF,UAAW,CAAE,cAF6B,CAG1CC,QAASphC,WAAWzQ,YAAYiC,OAAvB,EAAgC4D,MAAhC,CAAuC,CAC5CwL,QAAQshC,UAAR,CAD4C,CAE5CthC,QAAQx/C,IAAIlE,cAAZ,CAF4C,CAG5CmjD,WAAWs+B,MAAMr+D,OAAN,CAAc1sB,GAAd,CAAkB,SAAU1I,CAAV,CAAa,CAAE,MAAO01D,SAAQ11D,CAAR,CAAP,CAAoB,CAArD,CAAX,CAH4C,CAAvC,CAHiC,CAQ1Cq3F,eAAgBH,yBAR0B,CAAR,CASjC,CATL,CAUH,CArBD,CAsBArF,YAAYlyF,SAAZ,CAAsBkV,qBAAtB,CAA8C,SAAUqB,GAAV,CAAe3H,OAAf,CAAwB,CAClE,GAAI/K,OAAQ,IAAZ,CACA,GAAIyzF,WAAY,KAAK91E,KAAL,CAAW/gB,MAA3B,CACA;AACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,IAAhB,EACA,GAAIuB,IAAK,KAAK40F,uBAAL,CAA6BL,SAA7B,CAAwC/gF,GAAxC,CAAT,CAAuD2gD,MAAQn0D,GAAGm0D,KAAlE,CAAyE0gC,iBAAmB70F,GAAG60F,gBAA/F,CAAiHliF,WAAa3S,GAAG2S,UAAjI,CACA,GAAIu+E,cAAe,KAAKjC,kBAAL,CAAwB,IAAxB,CAAnB,CACA,KAAKn9E,QAAL,CAAcrT,IAAd,CAAmByyF,YAAnB,EACAA,aAAa1yE,QAAb,CAAsBhL,IAAItB,SAA1B,CAAqCsB,IAAI1B,QAAzC,EACA,GAAIgjF,YAAa,KAAKr2E,KAAL,CAAW/gB,MAAX,CAAoB62F,SAApB,CAAgC,CAAjD,CACA;AACA;AACA;AACA;AACA,KAAK91E,KAAL,CAAW81E,SAAX,EAAwB,UAAY,CAAE,MAAQ,CAC1ChlF,WAAYiE,IAAIjE,UAD0B,CAE1CgkF,UAAW,CAAE,iBAAF,CAAsBp/B,KAFS,CAG1Cq/B,QAASphC,WAAWzQ,YAAYgC,SAAvB,EAAkC6D,MAAlC,CAAyC,CAC9CwL,QAAQmB,KAAR,CAD8C,CAE9C0gC,gBAF8C,CAG9C7hC,QAAQx/C,IAAIlE,cAAZ,CAH8C,CAI9C0jD,QAAQ8hC,UAAR,CAJ8C,CAK9Ch0F,MAAMi0F,2BAAN,CAAkCR,SAAlC,CAA6C5hF,UAA7C,CAL8C,CAM9Cw/C,SAAS++B,aAAaN,QAAtB,CAN8C,CAAzC,CAHiC,CAAR,CAWjC,CAXL,CAYH,CA1BD,CA2BAzB,YAAYlyF,SAAZ,CAAsB+U,YAAtB,CAAqC,SAAUwB,GAAV,CAAe3H,OAAf,CAAwB,CACzD,GAAI/K,OAAQ,IAAZ,CACA,GAAIyzF,WAAY,KAAK91E,KAAL,CAAW/gB,MAA3B,CACA;AACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,IAAhB,EACA;AACA,GAAI8lF,QAASnlF,cAAcoU,IAAIhS,IAAlB,EAA0B,IAA1B,CAAiCgS,IAAIhS,IAAlD,CACA,GAAIxB,IAAK,KAAK40F,uBAAL,CAA6BL,SAA7B,CAAwC/gF,GAAxC,CAAT,CAAuD2gD,MAAQn0D,GAAGm0D,KAAlE,CAAyE6gC,WAAah1F,GAAGg1F,UAAzF,CAAqGH,iBAAmB70F,GAAG60F,gBAA3H,CAA6II,gBAAkBj1F,GAAGwmB,YAAlK,CAAgL7T,WAAa3S,GAAG2S,UAAhM,CACA,GAAIuiF,WAAY,EAAhB,CACA,GAAIV,2BAA4B,EAAhC,CACA,GAAIW,YAAa,EAAjB,CACA,GAAI5Q,MAAJ,CAAY,CACR,GAAI/9D,cAAehT,IAAIjC,MAAJ,CACdvL,GADc,CACV,SAAUmrF,QAAV,CAAoB,CAAE,MAAQ,CACnCtlF,QAASgnF,QAD0B,CAEnC1B,SAAUA,QAFyB,CAGnCC,OAAQ,IAH2B,CAAR,CAI1B,CALc,EAMdxyF,MANc,CAMPq2F,eANO,CAAnB,CAOA,GAAIzuE,aAAa9oB,MAAjB,CAAyB,CACrB82F,0BACIhuE,aAAaxgB,GAAb,CAAiB,SAAUygB,WAAV,CAAuBguE,YAAvB,CAAqC,CAAE,MAAO3zF,OAAM4zF,2BAAN,CAAkC,CAC7F7oF,QAAS4a,YAAY5a,OADwE,CAE7F0oF,UAAWA,SAFkF,CAG7FE,aAAcA,YAH+E,CAI7FllF,WAAYkX,YAAY0qE,QAAZ,CAAqB5hF,UAJ4D,CAK7FpR,MAAOsoB,YAAY0qE,QAAZ,CAAqBhzF,KALiE,CAAlC,CAAP,CAMnD,CANL,CADJ,CAQA+2F,UAAY1uE,aAAaxgB,GAAb,CAAiB,SAAUygB,WAAV,CAAuB,CAAE,MAAO2uE,mBAAkB3uE,YAAY0qE,QAA9B,CAAwC1qE,YAAY2qE,MAApD,CAAP,CAAqE,CAA/G,CAAZ,CACH,CACD+D,WAAaH,WAAWhvF,GAAX,CAAe,SAAUhG,EAAV,CAAc,CACtC,GAAIC,IAAK5B,OAAO2B,EAAP,CAAW,CAAX,CAAT,CAAwBuQ,OAAStQ,GAAG,CAAH,CAAjC,CAAwC+I,UAAY/I,GAAG,CAAH,CAApD,CACA,MAAOwyD,YAAW,CAACO,QAAQziD,MAAR,CAAD,CAAkByiD,QAAQhqD,SAAR,CAAlB,CAAX,CAAP,CACH,CAHY,CAAb,CAIH,CACD4K,iBAAiB,IAAjB,CAAuBJ,IAAI1B,QAA3B,EACA,GAAIgjF,YAAa,KAAKr2E,KAAL,CAAW/gB,MAAX,CAAoB62F,SAApB,CAAgC,CAAjD,CACA,GAAIc,SAAU7hF,IAAI9B,UAAJ,CAAe2jC,IAAf,CAAoB,SAAU+7C,MAAV,CAAkB,CAAE,MAAOA,QAAO3+E,SAAP,CAAiB+E,WAAxB,CAAsC,CAA9E,CAAd,CACA,GAAI89E,kBAAmB7mC,SAAvB,CACA,GAAI8mC,UAAW9mC,SAAf,CACA,GAAI4mC,OAAJ,CAAa,CACTE,SAAW,KAAKza,SAAL,CAAe1oB,UAAf,CAA0BijC,QAAQ5iF,SAAR,CAAkBwF,iBAA5C,CAAX,CACAq9E,iBAAmB,KAAKxa,SAAL,CAAe1oB,UAAf,CAA0BijC,QAAQ5iF,SAAR,CAAkByF,YAA5C,CAAnB,CACH,CACD;AACA;AACA,GAAIo8E,YAAaC,SAAjB,CACA,KAAK91E,KAAL,CAAW81E,SAAX,EAAwB,UAAY,CAAE,MAAQ,CAC1ChlF,WAAYiE,IAAIjE,UAD0B,CAE1CgkF,UAAW,CAAE,iBAAF,CAAsBp/B,KAFS,CAG1Cq/B,QAASphC,WAAWzQ,YAAY+B,UAAvB,EAAmC8D,MAAnC,CAA0C,CAC/CwL,QAAQshC,UAAR,CAD+C,CAE/CthC,QAAQmB,KAAR,CAF+C,CAG/C0gC,gBAH+C,CAI/C7hC,QAAQx/C,IAAIlE,cAAZ,CAJ+C,CAK/C0jD,QAAQ8hC,UAAR,CAL+C,CAM/C9hC,QAAQuxB,MAAR,CAN+C,CAO/CA,OAASiR,cAAchiF,GAAd,CAAT,CAA8Bi7C,SAPiB,CAQ/CymC,UAAUx3F,MAAV,CAAmB+0D,WAAWyiC,SAAX,CAAnB,CAA2CzmC,SARI,CAS/C0mC,WAAWz3F,MAAX,CAAoB+0D,WAAW0iC,UAAX,CAApB,CAA6C1mC,SATE,CAU/C3tD,MAAMi0F,2BAAN,CAAkCR,SAAlC,CAA6C5hF,UAA7C,CAV+C,CAW/C4iF,QAX+C,CAY/CD,gBAZ+C,CAA1C,CAHiC,CAiB1CX,eAAgBH,yBAjB0B,CAAR,CAkBjC,CAlBL,CAmBH,CAlED,CAmEArF,YAAYlyF,SAAZ,CAAsB23F,uBAAtB,CAAgD,SAAUL,SAAV,CAAqB/gF,GAArB,CAA0B,CACtE,GAAI1S,OAAQ,IAAZ,CACA,GAAIqzD,OAAQ,CAAE,UAAd,CACA,GAAI3gD,IAAI5B,gBAAR,CAA0B,CACtBuiD,OAAS,QAAS,mBAAlB,CACH,CACD,GAAI6gC,YAAa,GAAI7wF,IAAJ,EAAjB,CACAqP,IAAIhC,OAAJ,CAAYxQ,OAAZ,CAAoB,SAAU4P,KAAV,CAAiB,CACjC,GAAI5Q,IAAKy1F,0BAA0B7kF,KAA1B,CAAiC,IAAjC,CAAT,CAAiDpP,KAAOxB,GAAGwB,IAA3D,CAAiE+O,OAASvQ,GAAGuQ,MAA7E,CACAykF,WAAWnvF,GAAX,CAAe6vF,qBAAqBnlF,MAArB,CAA6B/O,IAA7B,CAAf,CAAmD,CAAC+O,MAAD,CAAS/O,IAAT,CAAnD,EACH,CAHD,EAIAgS,IAAI9B,UAAJ,CAAe1Q,OAAf,CAAuB,SAAUowF,MAAV,CAAkB,CACrCA,OAAOz+E,UAAP,CAAkB3R,OAAlB,CAA0B,SAAU4P,KAAV,CAAiB,CACvC,GAAI5Q,IAAKy1F,0BAA0B7kF,KAA1B,CAAiCwgF,MAAjC,CAAT,CAAmD5vF,KAAOxB,GAAGwB,IAA7D,CAAmE+O,OAASvQ,GAAGuQ,MAA/E,CACAykF,WAAWnvF,GAAX,CAAe6vF,qBAAqBnlF,MAArB,CAA6B/O,IAA7B,CAAf,CAAmD,CAAC+O,MAAD,CAAS/O,IAAT,CAAnD,EACH,CAHD,EAIH,CALD,EAMA,GAAIglB,cAAe,EAAnB,CACA,GAAI7T,YAAa,EAAjB,CACA,KAAKgjF,sCAAL,CAA4CniF,IAAI9B,UAAhD,EACA8B,IAAI7B,SAAJ,CAAc3Q,OAAd,CAAsB,SAAUkmE,WAAV,CAAuBU,aAAvB,CAAsC,CACxD,GAAIwpB,QAAS/pF,SAAb,CACA,GAAIuuF,UAAWvuF,SAAf,CACAmM,IAAI9B,UAAJ,CAAe1Q,OAAf,CAAuB,SAAU60F,WAAV,CAAuBt4F,CAAvB,CAA0B,CAC7C,GAAIs4F,YAAYpjF,SAAZ,CAAsB7D,IAAtB,CAA2B4G,SAA3B,GAAyCY,eAAe8wD,YAAYlgE,KAA3B,CAA7C,CAAgF,CAC5EoqF,OAASyE,WAAT,CACAD,SAAWr4F,CAAX,CACH,CACJ,CALD,EAMA,GAAI6zF,MAAJ,CAAY,CACR,GAAIpxF,IAAKc,MAAMg1F,eAAN,CAAsB5uB,WAAtB,CAAmCkqB,MAAnC,CAA2CwE,QAA3C,CAAqDrB,SAArD,CAAgE/gF,IAAI/B,UAApE,CAAgF+B,IAAI3B,YAApF,CAAkGmjF,UAAlG,CAA8Gl0F,MAAMqxF,cAAN,CAAqBvsF,GAArB,CAAyB4N,GAAzB,CAA9G,CAAT,CAAuJyhF,gBAAkBj1F,GAAGwmB,YAA5K,CAA0LuvE,cAAgB/1F,GAAG2S,UAA7M,CACA6T,aAAa/nB,IAAb,CAAkBb,KAAlB,CAAwB4oB,YAAxB,CAAsC7nB,SAASs2F,eAAT,CAAtC,EACAtiF,WAAWlU,IAAX,CAAgBb,KAAhB,CAAsB+U,UAAtB,CAAkChU,SAASo3F,aAAT,CAAlC,EACH,CAJD,IAKK,CACDj1F,MAAMk1F,cAAN,CAAqB9uB,WAArB,CAAkC1zD,IAAI3B,YAAtC,EACH,CACJ,CAjBD,EAkBA,GAAIokF,iBAAkB,EAAtB,CACAziF,IAAI3B,YAAJ,CAAiB7Q,OAAjB,CAAyB,SAAU4B,KAAV,CAAiB,CACtC,GAAImjD,WAAY1+C,SAAhB,CACA,GAAI+O,eAAexT,MAAMzE,KAArB,IACA2C,MAAM+jD,SAAN,CAAgBC,wBAAhB,CAAyCnD,YAAYG,UAArD,CADJ,CACsE,CAClEiE,UAAY,CAAE,gBAAd,CACH,CAHD,IAIK,IAAI3vC,eAAexT,MAAMzE,KAArB,IACL2C,MAAM+jD,SAAN,CAAgBC,wBAAhB,CAAyCnD,YAAYK,gBAArD,CADC,CACuE,CACxE+D,UAAY,CAAE,sBAAd,CACH,CAHI,IAIA,IAAI3vC,eAAexT,MAAMzE,KAArB,IACL2C,MAAM+jD,SAAN,CAAgBC,wBAAhB,CAAyCnD,YAAYQ,WAArD,CADC,CACkE,CACnE4D,UAAY,CAAE,iBAAd,CACH,CACD,GAAIA,WAAa,IAAjB,CAAuB,CACnBkwC,gBAAgBx3F,IAAhB,CAAqBg0D,WAAW,CAACO,QAAQpwD,MAAM+hE,OAAd,CAAD,CAAyB3R,QAAQjN,SAAR,CAAzB,CAAX,CAArB,EACH,CACJ,CAjBD,EAkBAvyC,IAAI/B,UAAJ,CAAezQ,OAAf,CAAuB,SAAUyU,GAAV,CAAe,CAClC,GAAIswC,WAAY1+C,SAAhB,CACA,GAAI,CAACoO,IAAItX,KAAT,CAAgB,CACZ4nD,UAAY,CAAE,mBAAd,CACH,CAFD,IAGK,IAAI3vC,eAAeX,IAAItX,KAAnB,IACL2C,MAAM+jD,SAAN,CAAgBC,wBAAhB,CAAyCnD,YAAYQ,WAArD,CADC,CACkE,CACnE4D,UAAY,CAAE,iBAAd,CACH,CACD,GAAIA,WAAa,IAAjB,CAAuB,CACnBjlD,MAAMmyF,cAAN,CAAqBx9E,IAAIjU,IAAzB,EAAiC+yF,SAAjC,CACA0B,gBAAgBx3F,IAAhB,CAAqBg0D,WAAW,CAACO,QAAQv9C,IAAIjU,IAAZ,CAAD,CAAoBwxD,QAAQjN,SAAR,CAApB,CAAX,CAArB,EACH,CACJ,CAbD,EAcAvyC,IAAIhC,OAAJ,CAAYxQ,OAAZ,CAAoB,SAAUswF,SAAV,CAAqB,CACrC3+E,WAAWlU,IAAX,CAAgB,CAAEoN,QAASgnF,QAAX,CAAqBqD,SAAU5E,SAA/B,CAA0CF,OAAQ,IAAlD,CAAhB,EACH,CAFD,EAGA,MAAO,CACHj9B,MAAOA,KADJ,CAEH6gC,WAAYr4F,MAAM88C,IAAN,CAAWu7C,WAAW9qF,MAAX,EAAX,CAFT,CAGH2qF,iBAAkBoB,gBAAgBv4F,MAAhB,CAAyB+0D,WAAWwjC,eAAX,CAAzB,CAAuDxnC,SAHtE,CAIHjoC,aAAcA,YAJX,CAKH7T,WAAYA,UALT,CAAP,CAOH,CAjFD,CAkFAw8E,YAAYlyF,SAAZ,CAAsB64F,eAAtB,CAAwC,SAAU5uB,WAAV,CAAuBkqB,MAAvB,CAA+BnqB,cAA/B,CAA+CkvB,gBAA/C,CAAiEzzB,IAAjE,CAAuE7wD,YAAvE,CAAqFmjF,UAArF,CAAiGoB,QAAjG,CAA2G,CAC/I,GAAIt1F,OAAQ,IAAZ,CACA,GAAIyzF,WAAY,KAAK91E,KAAL,CAAW/gB,MAA3B,CACA;AACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,IAAhB,EACA2yF,OAAO3+E,SAAP,CAAiBoF,OAAjB,CAAyB7W,OAAzB,CAAiC,SAAU4lB,KAAV,CAAiBysE,UAAjB,CAA6B,CAC1D,GAAI1uB,SAAUysB,OAAOx+E,mBAAP,CAA6BygF,UAA3C,CACA,GAAIl/B,OAAQ,QAAS,sBAAT,CAAkCm/B,4BAA4B8C,QAA5B,CAAsCzxB,OAAtC,CAA+C/9C,MAAMlf,KAArD,CAA9C,CACA,GAAIs4E,aAAcp5D,MAAMlf,KAAN,CAAc,CAAE,WAAhB,CAA8B,CAAE,SAAlD,CACA5G,MAAM2d,KAAN,CAAYhgB,IAAZ,CAAiB,UAAY,CAAE,MAAQ,CACnC8Q,WAAY6hF,OAAO7hF,UADgB,CAEnCgkF,UAAWp/B,KAFwB,CAGnCq/B,QAASphC,WAAWzQ,YAAYoC,QAAvB,EAAiCyD,MAAjC,CAAwC,CAC7CwL,QAAQmB,KAAR,CAD6C,CAC7BnB,QAAQ2R,OAAR,CAD6B,CAE7C,GAAI9W,eAAJ,CAAmB,CAAC,GAAID,gBAAJ,CAAoBhnC,MAAMu6C,YAA1B,CAAwCnO,QAAQgtB,WAAR,CAAxC,CAA8D,KAA9D,CAAD,CAAnB,CAF6C,CAAxC,CAH0B,CAAR,CAO1B,CAPL,EAQH,CAZD,EAaA;AACA;AACA;AACA;AACA,GAAI8U,YAAa,KAAKr2E,KAAL,CAAW/gB,MAAX,CAAoB62F,SAApB,CAAgC,CAAjD,CACA,GAAIv0F,IAAK,KAAKq2F,yBAAL,CAA+BnvB,WAA/B,CAA4Cr1D,YAA5C,CAAT,CAAoEsiD,MAAQn0D,GAAGm0D,KAA/E,CAAsF8hC,gBAAkBj2F,GAAGi2F,eAA3G,CAA4H1uB,aAAevnE,GAAGunE,YAA9I,CAA4JE,SAAWznE,GAAGynE,QAA1K,CACA/E,KAAK1hE,OAAL,CAAa,SAAUyU,GAAV,CAAe,CACxB,GAAIA,IAAItX,KAAJ,EAAaiY,eAAeX,IAAItX,KAAnB,IAA8BiY,eAAe8wD,YAAYlgE,KAA3B,CAA/C,CAAkF,CAC9ElG,MAAMmyF,cAAN,CAAqBx9E,IAAIjU,IAAzB,EAAiC+yF,SAAjC,CACA0B,gBAAgBx3F,IAAhB,CAAqBg0D,WAAW,CAACO,QAAQv9C,IAAIjU,IAAZ,CAAD,CAAoBwxD,QAAQ,CAAE,cAAV,CAApB,CAAX,CAArB,EACH,CACJ,CALD,EAMA,GAAIo+B,OAAO3+E,SAAP,CAAiB+E,WAArB,CAAkC,CAC9B28C,OAAS,KAAM,eAAf,CACH,CACD,GAAI+gC,WAAY9D,OAAO7/E,MAAP,CAAcvL,GAAd,CAAkB,SAAUmrF,QAAV,CAAoB15D,UAApB,CAAgC,CAC9D,GAAI6+D,UAAW7jC,WAAW,CAACO,QAAQv7B,UAAR,CAAD,CAAsBu7B,QAAQm+B,SAAS9+E,aAAjB,CAAtB,CAAX,CAAf,CACA;AACA,MAAO,IAAIu7C,gBAAJ,CAAoBujC,SAAS9+E,aAA7B,CAA4CikF,QAA5C,CAAsD,KAAtD,CAAP,CACH,CAJe,CAAhB,CAKA,GAAInB,YAAa,EAAjB,CACA,GAAI38B,SAAU44B,OAAO3+E,SAArB,CACAjW,OAAOiQ,IAAP,CAAY+rD,QAAQhnD,OAApB,EAA6BxQ,OAA7B,CAAqC,SAAUqlB,QAAV,CAAoB,CACrD,GAAIrd,WAAYwvD,QAAQhnD,OAAR,CAAgB6U,QAAhB,CAAhB,CACA,GAAI2uE,WAAWx6E,GAAX,CAAexR,SAAf,CAAJ,CAA+B,CAC3B;AACAmsF,WAAW12F,IAAX,CAAgB,GAAImvD,gBAAJ,CAAoBvnC,QAApB,CAA8B2sC,QAAQhqD,SAAR,CAA9B,CAAkD,KAAlD,CAAhB,EACH,CACJ,CAND,EAOA,GAAIutF,4BAA6B,EAAjC,CACA,GAAInF,OAAO7/E,MAAP,CAAc7T,MAAd,EAAwB,CAACy2D,OAAS,MAAO,aAAP,CAAuB,KAAM,YAAtC,CAAD,EAAwD,CAApF,CAAuF,CACnFoiC,2BACInF,OAAO7/E,MAAP,CAAcvL,GAAd,CAAkB,SAAUiF,KAAV,CAAiBwpF,YAAjB,CAA+B,CAAE,MAAO3zF,OAAM4zF,2BAAN,CAAkC,CACxFH,UAAWA,SAD6E,CAExFE,aAAcA,YAF0E,CAGxFllF,WAAYtE,MAAMsE,UAHsE,CAIxF1D,QAASgnF,QAJ+E,CAKxF10F,MAAO8M,MAAM9M,KAL2E,CAAlC,CAAP,CAM9C,CANL,CADJ,CAQH,CACD,GAAIq4F,gBAAiBpkC,WAAWzQ,YAAYyC,SAAvB,EAAkCoD,MAAlC,CAAyC,CAACmrC,QAAD,CAAW3/B,QAAQuhC,SAAR,CAAX,CAAzC,CAArB,CACA,GAAI/tE,cAAe4qE,OAAO1+E,cAAP,CAAsB1M,GAAtB,CAA0B,SAAUmrF,QAAV,CAAoB,CAAE,MAAQ,CACvEtlF,QAAS2qF,cAD8D,CAEvEpF,OAAQA,MAF+D,CAGvED,SAAUA,QAH6D,CAAR,CAI9D,CAJc,CAAnB,CAKA,GAAIx+E,YAAay+E,OAAOz+E,UAAP,CAAkB3M,GAAlB,CAAsB,SAAUurF,YAAV,CAAwB,CAAE,MAAQ,CACrE1lF,QAAS2qF,cAD4D,CAErEN,SAAU3E,YAF2D,CAE7CH,OAAQA,MAFqC,CAAR,CAG5D,CAHY,CAAjB,CAIA;AACA;AACA,GAAIkD,YAAaC,SAAjB,CACA,KAAK91E,KAAL,CAAW81E,SAAX,EAAwB,UAAY,CAAE,MAAQ,CAC1ChlF,WAAY6hF,OAAO7hF,UADuB,CAE1CgkF,UAAW,KAAM,mBAAN,CAA4Bp/B,KAFG,CAG1Cq/B,QAASphC,WAAWzQ,YAAYkC,YAAvB,EAAqC2D,MAArC,CAA4C,CACjDwL,QAAQshC,UAAR,CADiD,CAEjDthC,QAAQmB,KAAR,CAFiD,CAGjD8hC,gBAAgBv4F,MAAhB,CAAyB+0D,WAAWwjC,eAAX,CAAzB,CAAuDxnC,SAHN,CAIjDuE,QAAQ8hC,UAAR,CAJiD,CAKjDvtB,YALiD,CAMjDE,QANiD,CAOjDytB,UAAUx3F,MAAV,CAAmB,GAAImwD,eAAJ,CAAmBqnC,SAAnB,CAAnB,CAAmDzmC,SAPF,CAQjD0mC,WAAWz3F,MAAX,CAAoB,GAAImwD,eAAJ,CAAmBsnC,UAAnB,CAApB,CAAqD1mC,SARJ,CAA5C,CAHiC,CAa1CgoC,iBAAkBF,0BAbwB,CAc1C9jF,UAAW2+E,OAAO3+E,SAAP,CAAiB7D,IAdc,CAAR,CAejC,CAfL,CAgBA,MAAO,CAAE4X,aAAcA,YAAhB,CAA8B7T,WAAYA,UAA1C,CAAP,CACH,CAxFD,CAyFAw8E,YAAYlyF,SAAZ,CAAsB+4F,cAAtB,CAAuC,SAAU9uB,WAAV,CAAuBr1D,YAAvB,CAAqC,CACxE,KAAK6kF,gBAAL,CAAsB,KAAKL,yBAAL,CAA+BnvB,WAA/B,CAA4Cr1D,YAA5C,CAAtB,EACH,CAFD,CAGAs9E,YAAYlyF,SAAZ,CAAsB04F,sCAAtB,CAA+D,SAAUjkF,UAAV,CAAsB,CACjF,GAAIilF,kBAAmBjlF,WAAW2jC,IAAX,CAAgB,SAAU+7C,MAAV,CAAkB,CAAE,MAAOA,QAAO3+E,SAAP,CAAiB+E,WAAxB,CAAsC,CAA1E,CAAvB,CACA,GAAIm/E,kBAAoBA,iBAAiBlkF,SAAjB,CAA2BuF,eAA3B,CAA2Cta,MAAnE,CAA2E,CACvE,GAAIsC,IAAKooE,oCAAoC,KAAKvjB,SAAzC,CAAoD,KAAKi2B,SAAzD,CAAoE,IAAK,qBAAzE,CAAgG6b,iBAAiBlkF,SAAjB,CAA2BuF,eAA3H,CAAT,CAAsJuvD,aAAevnE,GAAGunE,YAAxK,CAAsLE,SAAWznE,GAAGynE,QAApM,CAA8MtT,MAAQn0D,GAAGm0D,KAAzN,CAAgOC,UAAYp0D,GAAGo0D,SAA/O,CACA,KAAKsiC,gBAAL,CAAsB,CAClBnvB,aAAcA,YADI,CAElBE,SAAUA,QAFQ,CAGlBtT,MAAOA,KAHW,CAIlBC,UAAWA,SAJO,CAKlB6hC,gBAAiB,EALC,CAMlB1mF,WAAYonF,iBAAiBpnF,UANX,CAAtB,EAQH,CACJ,CAbD,CAcA4/E,YAAYlyF,SAAZ,CAAsBy5F,gBAAtB,CAAyC,SAAUjvF,IAAV,CAAgB,CACrD,GAAI8sF,WAAY,KAAK91E,KAAL,CAAW/gB,MAA3B,CACA;AACA;AACA;AACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAY9H,KAAK8H,UADiB,CAElCgkF,UAAW9rF,KAAK0sD,KAFkB,CAGlCq/B,QAASphC,WAAWzQ,YAAYmC,WAAvB,EAAoC0D,MAApC,CAA2C,CAChDwL,QAAQvrD,KAAK0sD,KAAb,CADgD,CAEhD1sD,KAAKwuF,eAAL,CAAqBv4F,MAArB,CAA8B+0D,WAAWhrD,KAAKwuF,eAAhB,CAA9B,CAAiExnC,SAFjB,CAGhDhnD,KAAK2sD,SAH2C,CAGhC3sD,KAAK8/D,YAH2B,CAGb9/D,KAAKggE,QAHQ,CAA3C,CAHyB,CAAR,CAQzB,CARL,EASH,CAdD,CAeA0nB,YAAYlyF,SAAZ,CAAsBo5F,yBAAtB,CAAkD,SAAUnvB,WAAV,CAAuBr1D,YAAvB,CAAqC,CACnF,GAAIsiD,OAAQ,CAAE,UAAd,CACA,GAAI8hC,iBAAkB,EAAtB,CACApkF,aAAa7Q,OAAb,CAAqB,SAAU4B,KAAV,CAAiB,CAClC,GAAIwT,eAAexT,MAAMzE,KAArB,IAAgCiY,eAAe8wD,YAAYlgE,KAA3B,CAApC,CAAuE,CACnEivF,gBAAgBx3F,IAAhB,CAAqBg0D,WAAW,CAACO,QAAQpwD,MAAM+hE,OAAd,CAAD,CAAyB3R,QAAQ,CAAE,cAAV,CAAzB,CAAX,CAArB,EACH,CACJ,CAJD,EAKA,GAAIhzD,IAAK8jD,YAAY,KAAKg3B,SAAjB,CAA4B5T,WAA5B,CAAT,CAAmDK,aAAevnE,GAAGunE,YAArE,CAAmFE,SAAWznE,GAAGynE,QAAjG,CAA2GD,cAAgBxnE,GAAGm0D,KAA9H,CAAqIC,UAAYp0D,GAAGo0D,SAApJ,CACA,MAAO,CACHD,MAAOA,MAAQqT,aADZ,CAEHyuB,gBAAiBA,eAFd,CAGH1uB,aAAcA,YAHX,CAIHE,SAAUA,QAJP,CAKHrT,UAAWA,SALR,CAMH7kD,WAAY23D,YAAY33D,UANrB,CAAP,CAQH,CAjBD,CAkBA4/E,YAAYlyF,SAAZ,CAAsBgxF,QAAtB,CAAiC,SAAUzsF,IAAV,CAAgB,CAC7C,GAAIA,MAAQ2oF,iBAAiBv5E,KAAjB,CAAuBpP,IAAnC,CAAyC,CACrC,MAAO2oF,kBAAiBv5E,KAAxB,CACH,CACD,GAAIgmF,cAAejE,QAAnB,CACA,IAAK,GAAInB,aAAc,IAAvB,CAA6BA,WAA7B,CAA0CA,YAAcA,YAAY3qD,MAA1B,CACtC+vD,aAAeA,aAAaxmF,IAAb,CAAkB,QAAlB,EAA4Bi6C,IAA5B,CAAiCpE,YAAjC,CADnB,CACmE,CAC/D;AACA,GAAI4wC,cAAerF,YAAYyB,cAAZ,CAA2BzxF,IAA3B,CAAnB,CACA,GAAIq1F,cAAgB,IAApB,CAA0B,CACtB,MAAOzkC,YAAWzQ,YAAYyC,SAAvB,EAAkCoD,MAAlC,CAAyC,CAACovC,YAAD,CAAe5jC,QAAQ6jC,YAAR,CAAf,CAAzC,CAAP,CACH,CACD;AACA,GAAIpF,QAASD,YAAYt/E,SAAZ,CAAsBmjC,IAAtB,CAA2B,SAAUo8C,MAAV,CAAkB,CAAE,MAAOA,QAAOjwF,IAAP,GAAgBA,IAAvB,CAA8B,CAA7E,CAAb,CACA,GAAIiwF,MAAJ,CAAY,CACR,GAAIqF,UAAWrF,OAAOtzF,KAAP,EAAgB2zF,qBAA/B,CACA,MAAO8E,cAAaxmF,IAAb,CAAkB,SAAlB,EAA6BA,IAA7B,CAAkC0mF,QAAlC,CAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CApBD,CAqBA3H,YAAYlyF,SAAZ,CAAsB85F,4BAAtB,CAAqD,SAAUxnF,UAAV,CAAsB27E,QAAtB,CAAgC,CACjF,GAAIA,WAAa,CAAjB,CAAoB,CAChB,GAAI8L,aAAc5kC,WAAWzQ,YAAY2B,WAAvB,CAAlB,CACA,MAAO,WAAY,CAAE,MAAO0zC,YAAP,CAAqB,CAA1C,CACH,CACD,GAAI1C,YAAa,KAAK71E,KAAL,CAAW/gB,MAA5B,CACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAYA,UADsB,CAElCgkF,UAAW,EAAG,mBAFoB,CAGlCC,QAASphC,WAAWzQ,YAAYqC,YAAvB,EAAqCwD,MAArC,CAA4C,CACjDwL,QAAQshC,UAAR,CADiD,CAEjDthC,QAAQk4B,QAAR,CAFiD,CAA5C,CAHyB,CAAR,CAOzB,CAPL,EAQA,MAAO,UAAUjiF,IAAV,CAAgB,CAAE,MAAOguF,eAAc3C,UAAd,CAA0BrrF,IAA1B,CAAP,CAAyC,CAAlE,CACH,CAfD,CAgBAkmF,YAAYlyF,SAAZ,CAAsBi6F,0BAAtB,CAAmD,SAAU3nF,UAAV,CAAsB9C,IAAtB,CAA4B,CAC3E,GAAIA,KAAK/O,MAAL,GAAgB,CAApB,CAAuB,CACnB,GAAIy5F,aAAc/kC,WAAWzQ,YAAY4B,SAAvB,CAAlB,CACA,MAAO,WAAY,CAAE,MAAO4zC,YAAP,CAAqB,CAA1C,CACH,CACD,GAAInxF,KAAM0sD,WAAWjmD,KAAKzG,GAAL,CAAS,SAAUxH,CAAV,CAAajB,CAAb,CAAgB,CAAE,MAAQJ,UAAS,EAAT,CAAaqB,CAAb,CAAgB,CAAEL,MAAO60D,QAAQz1D,CAAR,CAAT,CAAhB,CAAR,CAAkD,CAA7E,CAAX,CAAV,CACA,GAAI+2F,YAAa,KAAK71E,KAAL,CAAW/gB,MAA5B,CACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAYA,UADsB,CAElCgkF,UAAW,EAAG,oBAFoB,CAGlCC,QAASphC,WAAWzQ,YAAYsC,aAAvB,EAAsCuD,MAAtC,CAA6C,CAClDwL,QAAQshC,UAAR,CADkD,CAElDtuF,GAFkD,CAA7C,CAHyB,CAAR,CAOzB,CAPL,EAQA,MAAO,UAAUiD,IAAV,CAAgB,CAAE,MAAOguF,eAAc3C,UAAd,CAA0BrrF,IAA1B,CAAP,CAAyC,CAAlE,CACH,CAhBD,CAiBAkmF,YAAYlyF,SAAZ,CAAsBm6F,oBAAtB,CAA6C,SAAUv5E,UAAV,CAAsBrc,IAAtB,CAA4B0pF,QAA5B,CAAsC,CAC/E,GAAInN,MAAO,KAAK0E,SAAL,CAAeptC,IAAf,CAAoB,SAAU6pB,WAAV,CAAuB,CAAE,MAAOA,aAAY19D,IAAZ,GAAqBA,IAA5B,CAAmC,CAAhF,CAAX,CACA,GAAIu8E,KAAKt1E,IAAT,CAAe,CACX,GAAI4uF,cAAe,KAAK54E,KAAL,CAAW/gB,MAA9B,CACA,KAAK+gB,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAYsO,WAAWtO,UADW,CAElCgkF,UAAW,GAAI,kBAFmB,CAGlCC,QAASphC,WAAWzQ,YAAYuC,WAAvB,EAAoCsD,MAApC,CAA2C,CAChDwL,QAAQqkC,YAAR,CADgD,CAEhDrkC,QAAQk4B,QAAR,CAFgD,CAA3C,CAHyB,CAAR,CAOzB,CAPL,EAQA;AACA,GAAIoM,cAAe3E,QAAnB,CACA,GAAI4E,aAAc,IAAlB,CACA,MAAOA,YAAY1wD,MAAnB,CAA2B,CACvB0wD,YAAcA,YAAY1wD,MAA1B,CACAywD,aAAeA,aAAalnF,IAAb,CAAkB,QAAlB,EAA4Bi6C,IAA5B,CAAiCpE,YAAjC,CAAf,CACH,CACD,GAAIuxC,eAAgBD,YAAYvE,mBAAZ,CAAgCxxF,IAAhC,CAApB,CACA,GAAIi2F,iBAAkBrlC,WAAWzQ,YAAYyC,SAAvB,EAAkCoD,MAAlC,CAAyC,CAAC8vC,YAAD,CAAetkC,QAAQwkC,aAAR,CAAf,CAAzC,CAAtB,CACA,MAAO,UAAUvuF,IAAV,CAAgB,CAAE,MAAOyuF,iBAAgB75E,WAAW02E,SAA3B,CAAsC12E,WAAW42E,YAAjD,CAA+DwC,cAAcI,YAAd,CAA4B,CAACI,eAAD,EAAkB74F,MAAlB,CAAyBqK,IAAzB,CAA5B,CAA/D,CAAP,CAAqI,CAA9J,CACH,CApBD,IAqBK,CACD,GAAIsrF,WAAY,KAAKrB,WAAL,CAAiBr1E,WAAWtO,UAA5B,CAAwCwuE,IAAxC,CAAhB,CACA,GAAI4Z,iBAAkBvlC,WAAWzQ,YAAYyC,SAAvB,EAAkCoD,MAAlC,CAAyC,CAACmrC,QAAD,CAAW3/B,QAAQuhC,SAAR,CAAX,CAAzC,CAAtB,CACA,MAAO,UAAUtrF,IAAV,CAAgB,CAAE,MAAOyuF,iBAAgB75E,WAAW02E,SAA3B,CAAsC12E,WAAW42E,YAAjD,CAA+DkD,gBAAgBtwC,UAAhB,CAA2B,WAA3B,CAAwCp+C,IAAxC,CAA/D,CAAP,CAAuH,CAAhJ,CACH,CACJ,CA5BD,CA6BAkmF,YAAYlyF,SAAZ,CAAsBi2F,WAAtB,CAAoC,SAAU3jF,UAAV,CAAsBwuE,IAAtB,CAA4B,CAC5D,GAAIj9E,OAAQ,IAAZ,CACA,GAAIyzF,WAAY,KAAK91E,KAAL,CAAW/gB,MAA3B,CACA,GAAIy2D,OAAQ,CAAE,UAAd,CACA4pB,KAAKnvE,IAAL,CAAUsE,cAAV,CAAyBlS,OAAzB,CAAiC,SAAUmmE,aAAV,CAAyB,CACtD;AACA,GAAIA,gBAAkB3Q,eAAeG,SAArC,CAAgD,CAC5CxC,OAASiT,wBAAwBD,aAAxB,CAAT,CACH,CACJ,CALD,EAMA,GAAIU,UAAWkW,KAAKnvE,IAAL,CAAUmrD,MAAV,CAAiB/zD,GAAjB,CAAqB,SAAU4xF,KAAV,CAAiB,CAAE,MAAO3vB,QAAOnnE,MAAMg6E,SAAb,CAAwB8c,KAAxB,CAAP,CAAwC,CAAhF,CAAf,CACA;AACA;AACA,KAAKn5E,KAAL,CAAWhgB,IAAX,CAAgB,UAAY,CAAE,MAAQ,CAClC8Q,WAAYA,UADsB,CAElCgkF,UAAW,EAAG,cAFoB,CAGlCC,QAASphC,WAAWzQ,YAAYwC,OAAvB,EAAgCqD,MAAhC,CAAuC,CAC5CwL,QAAQmB,KAAR,CAD4C,CAC5BrzD,MAAMg6E,SAAN,CAAgB1oB,UAAhB,CAA2B2rB,KAAKnvE,IAAL,CAAU4G,SAArC,CAD4B,CACqBi9C,WAAWoV,QAAX,CADrB,CAAvC,CAHyB,CAAR,CAMzB,CANL,EAOA,MAAO0sB,UAAP,CACH,CArBD,CAsBA;;;;;;WAOApF,YAAYlyF,SAAZ,CAAsBy3F,2BAAtB,CAAoD,SAAU72E,UAAV,CAAsB,CACtE,GAAI/c,OAAQ,IAAZ,CACA,MAAO,CACHyzF,UAAW12E,WAAW02E,SADnB,CAEHE,aAAc52E,WAAW42E,YAFtB,CAGHllF,WAAYsO,WAAWtO,UAHpB,CAIH1D,QAASgS,WAAWhS,OAJjB,CAKH1N,MAAO6sF,+BAA+B,CAClCC,4BAA6B,SAAUC,QAAV,CAAoB,CAAE,MAAOpqF,OAAMi2F,4BAAN,CAAmCl5E,WAAWtO,UAA9C,CAA0D27E,QAA1D,CAAP,CAA6E,CAD9F,CAElCC,0BAA2B,SAAU1+E,IAAV,CAAgB,CACvC,MAAO3L,OAAMo2F,0BAAN,CAAiCr5E,WAAWtO,UAA5C,CAAwD9C,IAAxD,CAAP,CACH,CAJiC,CAKlC2+E,oBAAqB,SAAU5pF,IAAV,CAAgB0pF,QAAhB,CAA0B,CAC3C,MAAOpqF,OAAMs2F,oBAAN,CAA2Bv5E,UAA3B,CAAuCrc,IAAvC,CAA6C0pF,QAA7C,CAAP,CACH,CAPiC,CAA/B,CAQJrtE,WAAW1f,KARP,CALJ,CAAP,CAeH,CAjBD,CAkBAgxF,YAAYlyF,SAAZ,CAAsBy2F,sBAAtB,CAA+C,UAAY,CACvD,GAAImE,MAAO,IAAX,CACA,GAAIC,oBAAqB,CAAzB,CACA,GAAInE,qBAAsB,EAA1B,CACA,GAAIC,uBAAwB,EAA5B,CACA,GAAIC,cAAe,KAAKp1E,KAAL,CAAWzY,GAAX,CAAe,SAAUlK,OAAV,CAAmBy4F,SAAnB,CAA8B,CAC5D,GAAIv0F,IAAKlE,SAAT,CAAoB03F,QAAUxzF,GAAGwzF,OAAjC,CAA0CD,UAAYvzF,GAAGuzF,SAAzD,CAAoEkD,iBAAmBz2F,GAAGy2F,gBAA1F,CAA4G9B,eAAiB30F,GAAG20F,cAAhI,CAAgJplF,WAAavP,GAAGuP,UAAhK,CACA,GAAIolF,cAAJ,CAAoB,CAChBhB,oBAAoBl1F,IAApB,CAAyBb,KAAzB,CAA+B+1F,mBAA/B,CAAoDh1F,SAASo5F,uBAAuBxD,SAAvB,CAAkChlF,UAAlC,CAA8ColF,cAA9C,CAA8D,KAA9D,CAAT,CAApD,EACH,CACD,GAAI8B,gBAAJ,CAAsB,CAClB7C,sBAAsBn1F,IAAtB,CAA2Bb,KAA3B,CAAiCg2F,qBAAjC,CAAwDj1F,SAASo5F,uBAAuBxD,SAAvB,CAAkChlF,UAAlC,CAA8CknF,gBAA9C,CAAgE,CAAClD,WAAa,MAAO,aAAP,CAAuB,KAAM,YAA1C,CAAD,EAA4D,CAA5H,CAAT,CAAxD,EACH,CACD;AACA;AACA;AACA;AACA;AACA,GAAIyE,gBAAiBzE,UAAY,CAAE,mBAAd,CACjB,GAAIxlC,UAAJ,CAAc,CAAC2kC,UAAUlrC,MAAV,CAAiB,EAAjB,EAAqBA,MAArB,CAA4B,EAA5B,CAAD,CAAkCgsC,OAAlC,CAAd,CADiB,CAEjBA,OAFJ,CAGA,MAAOxhC,qCAAoCgmC,cAApC,CAAoDzoF,UAApD,CAAP,CACH,CAjBkB,CAAnB,CAkBA,MAAO,CAAEokF,oBAAqBA,mBAAvB,CAA4CC,sBAAuBA,qBAAnE,CAA0FC,aAAcA,YAAxG,CAAP,CACA,QAASkE,uBAAT,CAAgCxD,SAAhC,CAA2ChlF,UAA3C,CAAuDwhB,WAAvD,CAAoEknE,eAApE,CAAqF,CACjF,GAAI9D,aAAc,EAAlB,CACA,GAAI/7D,OAAQrH,YAAY/qB,GAAZ,CAAgB,SAAUhG,EAAV,CAAc,CACtC,GAAIuP,YAAavP,GAAGuP,UAApB,CAAgC1D,QAAU7L,GAAG6L,OAA7C,CAAsD1N,MAAQ6B,GAAG7B,KAAjE,CACA,GAAIysF,WAAY,GAAKkN,oBAArB,CACA,GAAIvH,cAAe1kF,UAAYgnF,QAAZ,CAAuBgF,IAAvB,CAA8B,IAAjD,CACA,GAAI53F,IAAKosF,uBAAuBkE,YAAvB,CAAqC1kF,OAArC,CAA8C1N,KAA9C,CAAqDysF,SAArD,CAAgEwB,YAAYoE,OAA5E,CAAT,CAA+Fn/B,MAAQpxD,GAAGoxD,KAA1G,CAAiH86B,YAAclsF,GAAGksF,WAAlI,CACAgI,YAAY11F,IAAZ,CAAiBb,KAAjB,CAAuBu2F,WAAvB,CAAoCx1F,SAAS0yD,MAAMrrD,GAAN,CAAU,SAAU4oD,IAAV,CAAgB,CAAE,MAAOiD,oCAAmCjD,IAAnC,CAAyCr/C,UAAzC,CAAP,CAA8D,CAA1F,CAAT,CAApC,EACA,MAAOyiD,qCAAoCm6B,WAApC,CAAiD58E,UAAjD,CAAP,CACH,CAPW,CAAZ,CAQA,GAAIwhB,YAAYrzB,MAAZ,EAAsBu6F,eAA1B,CAA2C,CACvC9D,YAAY11F,IAAZ,CAAiBozD,mCAAmColC,cAAc1C,SAAd,CAAyBn8D,KAAzB,EAAgCmyB,MAAhC,EAAnC,CAA6Eh7C,UAA7E,CAAjB,EACH,CACD,MAAO4kF,YAAP,CACH,CACJ,CAvCD,CAwCAhF,YAAYlyF,SAAZ,CAAsB83F,2BAAtB,CAAoD,SAAUR,SAAV,CAAqB2D,QAArB,CAA+B,CAC/E,GAAIp3F,OAAQ,IAAZ,CACA,GAAIq3F,kBAAmB,EAAvB,CACA,GAAIC,yBAA0B,CAA9B,CACAF,SAASl3F,OAAT,CAAiB,SAAUhB,EAAV,CAAc,CAC3B,GAAI6L,SAAU7L,GAAG6L,OAAjB,CAA0BqqF,SAAWl2F,GAAGk2F,QAAxC,CAAkD9E,OAASpxF,GAAGoxF,MAA9D,CACA,GAAIxG,WAAY,GAAKwN,yBAArB,CACA,GAAI7H,cAAe1kF,UAAYgnF,QAAZ,CAAuB/xF,KAAvB,CAA+B,IAAlD,CACA,GAAIb,IAAKuqF,qBAAqB+F,YAArB,CAAmC1kF,OAAnC,CAA4CqqF,SAASzlF,OAArD,CAA8Dm6E,SAA9D,CAAT,CAAmFv5B,MAAQpxD,GAAGoxD,KAA9F,CAAqGg5B,aAAepqF,GAAGoqF,YAAvH,CACA,GAAIgO,WAAYhnC,KAAhB,CACA,GAAIg5B,YAAJ,CAAkB,CACdgO,UAAU55F,IAAV,CAAes0F,kBAAkBltF,GAAlB,CAAsBwkF,aAAajhC,GAAb,CAAiB2pC,iBAAjB,CAAtB,EAA2DxoC,MAA3D,EAAf,EACH,CACD,GAAIlqD,IAAKo1F,0BAA0BS,QAA1B,CAAoC9E,MAApC,CAAT,CAAsDkH,YAAcj4F,GAAGkQ,MAAvE,CAA+EvH,UAAY3I,GAAGmB,IAA9F,CACA,GAAI+2F,eAAgB7C,qBAAqB4C,WAArB,CAAkCtvF,SAAlC,CAApB,CACAmvF,iBAAiB15F,IAAjB,CAAsBozD,mCAAmC,GAAI/B,OAAJ,CAAWkD,QAAQulC,aAAR,EAAuBjwC,SAAvB,CAAiCwqC,cAAjC,CAAX,CAA6DuF,SAA7D,CAAnC,CAA4GnC,SAAS3mF,UAArH,CAAtB,EACH,CAZD,EAaA,GAAIipF,cAAJ,CACA,GAAIL,iBAAiBz6F,MAAjB,CAA0B,CAA9B,CAAiC,CAC7B,GAAI22F,UAAW,CAACtB,kBAAkBltF,GAAlB,CAAsBmtD,QAAQ,IAAR,CAAtB,EAAqC3H,UAArC,CAAgDhF,SAAhD,CAAD,CAAf,CACA,GAAI,CAAC,KAAK8b,SAAL,CAAe5qD,MAAhB,EAA0Bg6C,iBAAiB4mC,gBAAjB,EAAmC39E,GAAnC,CAAuCq4E,SAASrxF,IAAhD,CAA9B,CAAqF,CACjF6yF,SAAS51F,IAAT,CAAco0F,SAAShtF,GAAT,CAAa8sF,SAASviF,IAAT,CAAc,WAAd,CAAb,EAAyCi7C,UAAzC,CAAoD,KAAKx1C,QAAzD,CAAd,EACH,CACD2iF,cAAgB1sC,GAAG,CACf,GAAIgB,QAAJ,CAAY6lC,SAASnxF,IAArB,CAA2B2kD,aAA3B,CADe,CAEf,GAAI2G,QAAJ,CAAYgmC,eAAetxF,IAA3B,CAAiC2kD,aAAjC,CAFe,CAGf,GAAI2G,QAAJ,CAAYq9B,iBAAiBv5E,KAAjB,CAAuBpP,IAAnC,CAAyC2kD,aAAzC,CAHe,CAAH,CAIbxnD,SAAS01F,QAAT,CAAmB8D,gBAAnB,CAAqC,CAAC,GAAIlpC,gBAAJ,CAAoB8jC,iBAApB,CAAD,CAArC,CAJa,CAImE5sC,aAJnE,CAAhB,CAKH,CAVD,IAWK,CACDqyC,cAAgB/pC,SAAhB,CACH,CACD,MAAO+pC,cAAP,CACH,CAjCD,CAkCArJ,YAAYlyF,SAAZ,CAAsB4V,cAAtB,CAAuC,SAAUW,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlE,CACAsjF,YAAYlyF,SAAZ,CAAsBsV,sBAAtB,CAA+C,SAAUiB,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA1E,CACAsjF,YAAYlyF,SAAZ,CAAsBgU,cAAtB,CAAuC,SAAUuC,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAlE,CACAsjF,YAAYlyF,SAAZ,CAAsBoU,aAAtB,CAAsC,SAAUmC,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAjE,CACAsjF,YAAYlyF,SAAZ,CAAsB6T,UAAtB,CAAmC,SAAU0C,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA9D,CACAsjF,YAAYlyF,SAAZ,CAAsBoT,oBAAtB,CAA6C,SAAUmD,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAAxE,CACAsjF,YAAYlyF,SAAZ,CAAsB4S,SAAtB,CAAkC,SAAU2D,GAAV,CAAe3H,OAAf,CAAwB,CAAG,CAA7D,CACA,MAAOsjF,YAAP,CACH,CAhqBkC,EAAnC,CAiqBA,QAASsE,wBAAT,CAAiCxD,QAAjC,CAA2C,CACvC,GAAIwI,aAAcxI,SAASA,SAASvyF,MAAT,CAAkB,CAA3B,CAAlB,CACA,GAAI+6F,sBAAuBxmF,oBAA3B,CAAgD,CAC5C,MAAOwmF,aAAY7mF,gBAAnB,CACH,CACD,GAAI6mF,sBAAuBnnF,WAA3B,CAAuC,CACnC,GAAIlS,cAAcq5F,YAAYj3F,IAA1B,GAAmCi3F,YAAY3mF,QAAZ,CAAqBpU,MAA5D,CAAoE,CAChE,MAAO+1F,yBAAwBgF,YAAY3mF,QAApC,CAAP,CACH,CACD,MAAO2mF,aAAY7mF,gBAAnB,CACH,CACD,MAAO6mF,uBAAuBplF,aAA9B,CACH,CACD,QAAS+hF,kBAAT,CAA2BjE,QAA3B,CAAqCC,MAArC,CAA6C,CACzC,OAAQD,SAASviF,IAAjB,EACI,IAAK,EAAE,eAAP,CACI,MAAO6jD,YAAW,CACdO,QAAQ,CAAE,0BAAV,CADc,CACyBA,QAAQm+B,SAAS3vF,IAAjB,CADzB,CAEdwxD,QAAQm+B,SAASnhF,eAAjB,CAFc,CAAX,CAAP,CAIJ,IAAK,EAAE,cAAP,CACI,MAAOyiD,YAAW,CACdO,QAAQ,CAAE,kBAAV,CADc,CACiBA,QAAQm+B,SAAS3vF,IAAjB,CADjB,CAEdwxD,QAAQm+B,SAASnhF,eAAjB,CAFc,CAAX,CAAP,CAIJ,IAAK,EAAE,eAAP,CACI,GAAIgwE,aAAc,CAAE,kBAAF,EACboR,QAAUA,OAAO3+E,SAAP,CAAiB+E,WAA3B,CAAyC,EAAG,2BAA5C,CACG,EAAG,uBAFO,CAAlB,CAGA,MAAOi7C,YAAW,CACdO,QAAQgtB,WAAR,CADc,CACQhtB,QAAQ,IAAMm+B,SAAS3vF,IAAvB,CADR,CACsCwxD,QAAQm+B,SAASnhF,eAAjB,CADtC,CAAX,CAAP,CAGJ,IAAK,EAAE,WAAP,CACI,MAAOyiD,YAAW,CAACO,QAAQ,CAAE,sBAAV,CAAD,CAAoCA,QAAQm+B,SAAS3vF,IAAjB,CAApC,CAA4DitD,SAA5D,CAAX,CAAP,CACJ,IAAK,EAAE,WAAP,CACI,MAAOgE,YAAW,CACdO,QAAQ,CAAE,sBAAV,CADc,CACqBA,QAAQm+B,SAAS3vF,IAAjB,CADrB,CAC6CwxD,QAAQm+B,SAASlhF,IAAjB,CAD7C,CAAX,CAAP,CArBR,CAyBH,CACD,QAASulF,cAAT,CAAuBkD,UAAvB,CAAmC,CAC/B,GAAIC,WAAYn8F,OAAOU,MAAP,CAAc,IAAd,CAAhB,CACAw7F,WAAWv2F,KAAX,CAAiBnB,OAAjB,CAAyB,SAAUkiE,OAAV,CAAmB,CAAEy1B,UAAUz1B,QAAQ1hE,IAAlB,EAA0B0hE,QAAQ/kE,KAAlC,CAA0C,CAAxF,EACAu6F,WAAWhnF,UAAX,CAAsB1Q,OAAtB,CAA8B,SAAUowF,MAAV,CAAkB,CAC5C50F,OAAOiQ,IAAP,CAAY2kF,OAAO3+E,SAAP,CAAiBkF,cAA7B,EAA6C3W,OAA7C,CAAqD,SAAUQ,IAAV,CAAgB,CACjE,GAAIrD,OAAQizF,OAAO3+E,SAAP,CAAiBkF,cAAjB,CAAgCnW,IAAhC,CAAZ,CACA,GAAIsnF,WAAY6P,UAAUn3F,IAAV,CAAhB,CACAm3F,UAAUn3F,IAAV,EAAkBsnF,WAAa,IAAb,CAAoB8P,oBAAoBp3F,IAApB,CAA0BsnF,SAA1B,CAAqC3qF,KAArC,CAApB,CAAkEA,KAApF,CACH,CAJD,EAKH,CAND,EAOA;AACA;AACA,MAAOs0D,YAAWj2D,OAAOiQ,IAAP,CAAYksF,SAAZ,EAAuBlqD,IAAvB,GAA8BzoC,GAA9B,CAAkC,SAAUvC,QAAV,CAAoB,CAAE,MAAOgvD,YAAW,CAACO,QAAQvvD,QAAR,CAAD,CAAoBuvD,QAAQ2lC,UAAUl1F,QAAV,CAAR,CAApB,CAAX,CAAP,CAAuE,CAA/H,CAAX,CAAP,CACH,CACD,QAASm1F,oBAAT,CAA6Bn1F,QAA7B,CAAuCo1F,UAAvC,CAAmDC,UAAnD,CAA+D,CAC3D,GAAIr1F,UAAYmuF,YAAZ,EAA4BnuF,UAAYouF,UAA5C,CAAwD,CACpD,MAAOgH,YAAa,GAAb,CAAmBC,UAA1B,CACH,CAFD,IAGK,CACD,MAAOA,WAAP,CACH,CACJ,CACD,QAAS7B,cAAT,CAAuB1C,SAAvB,CAAkCn8D,KAAlC,CAAyC,CACrC,GAAIA,MAAM16B,MAAN,CAAe,EAAnB,CAAuB,CACnB,MAAOk1F,WAAUprC,MAAV,CAAiB,CAACmrC,QAAD,CAAW3/B,QAAQuhC,SAAR,CAAX,CAA+BvhC,QAAQ,CAAE,aAAV,CAA/B,CAAyDP,WAAWr6B,KAAX,CAAzD,CAAjB,CAAP,CACH,CAFD,IAGK,CACD,MAAOw6D,WAAUprC,MAAV,CAAiB7oD,SAAS,CAACg0F,QAAD,CAAW3/B,QAAQuhC,SAAR,CAAX,CAA+BvhC,QAAQ,CAAE,YAAV,CAA/B,CAAT,CAAkE56B,KAAlE,CAAjB,CAAP,CACH,CACJ,CACD,QAASs/D,gBAAT,CAAyBnD,SAAzB,CAAoCwE,UAApC,CAAgD1gE,IAAhD,CAAsD,CAClD,MAAO+5B,YAAWzQ,YAAY2C,WAAvB,EAAoCkD,MAApC,CAA2C,CAC9CmrC,QAD8C,CACpC3/B,QAAQuhC,SAAR,CADoC,CAChBvhC,QAAQ+lC,UAAR,CADgB,CACK1gE,IADL,CAA3C,CAAP,CAGH,CACD,QAAS+5D,mBAAT,CAA4B3zE,KAA5B,CAAmC7a,MAAnC,CAA2C,CACvC,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,GAAIO,IAAJ,EAAT,CAAqB,CAC9Csa,MAAMzd,OAAN,CAAc,SAAUkc,IAAV,CAAgB,CAC1B,GAAIi1E,gBAAiB,GAAIr4E,IAAJ,EAArB,CACA,GAAIk/E,iBAAkB,GAAIl/E,IAAJ,EAAtB,CACA,GAAIjI,cAAexK,SAAnB,CACA,GAAI6V,eAAgB5L,WAApB,CAAgC,CAC5B8gF,mBAAmBl1E,KAAKpL,QAAxB,CAAkClO,MAAlC,EACAsZ,KAAKpL,QAAL,CAAc9Q,OAAd,CAAsB,SAAUqkB,KAAV,CAAiB,CACnC,GAAI4zE,WAAYr1F,OAAOgC,GAAP,CAAWyf,KAAX,CAAhB,CACA4zE,UAAU9G,cAAV,CAAyBnxF,OAAzB,CAAiC,SAAU2jE,OAAV,CAAmB,CAAE,MAAOwtB,gBAAe13E,GAAf,CAAmBkqD,OAAnB,CAAP,CAAqC,CAA3F,EACAs0B,UAAUD,eAAV,CAA0Bh4F,OAA1B,CAAkC,SAAU2jE,OAAV,CAAmB,CAAE,MAAOq0B,iBAAgBv+E,GAAhB,CAAoBkqD,OAApB,CAAP,CAAsC,CAA7F,EACH,CAJD,EAKA9yD,aAAeqL,KAAKrL,YAApB,CACH,CARD,IASK,IAAIqL,eAAgBjL,oBAApB,CAAyC,CAC1CmgF,mBAAmBl1E,KAAKpL,QAAxB,CAAkClO,MAAlC,EACAsZ,KAAKpL,QAAL,CAAc9Q,OAAd,CAAsB,SAAUqkB,KAAV,CAAiB,CACnC,GAAI4zE,WAAYr1F,OAAOgC,GAAP,CAAWyf,KAAX,CAAhB,CACA4zE,UAAU9G,cAAV,CAAyBnxF,OAAzB,CAAiC,SAAU2jE,OAAV,CAAmB,CAAE,MAAOq0B,iBAAgBv+E,GAAhB,CAAoBkqD,OAApB,CAAP,CAAsC,CAA5F,EACAs0B,UAAUD,eAAV,CAA0Bh4F,OAA1B,CAAkC,SAAU2jE,OAAV,CAAmB,CAAE,MAAOq0B,iBAAgBv+E,GAAhB,CAAoBkqD,OAApB,CAAP,CAAsC,CAA7F,EACH,CAJD,EAKA9yD,aAAeqL,KAAKrL,YAApB,CACH,CACD,GAAIA,YAAJ,CAAkB,CACdA,aAAa7Q,OAAb,CAAqB,SAAU4B,KAAV,CAAiB,CAAE,MAAOuvF,gBAAe13E,GAAf,CAAmB7X,MAAM+hE,OAAzB,CAAP,CAA2C,CAAnF,EACH,CACDq0B,gBAAgBh4F,OAAhB,CAAwB,SAAU2jE,OAAV,CAAmB,CAAE,MAAOwtB,gBAAepvE,MAAf,CAAsB4hD,OAAtB,CAAP,CAAwC,CAArF,EACA/gE,OAAOiC,GAAP,CAAWqX,IAAX,CAAiB,CAAEi1E,eAAgBA,cAAlB,CAAkC6G,gBAAiBA,eAAnD,CAAjB,EACH,CA3BD,EA4BA,MAAOp1F,OAAP,CACH,CACD,QAASwvF,mBAAT,CAA4B8F,kBAA5B,CAAgD,CAC5C,GAAI/G,gBAAiB,GAAIr4E,IAAJ,EAArB,CACA,GAAIk/E,iBAAkB,GAAIl/E,IAAJ,EAAtB,CACAnd,MAAM88C,IAAN,CAAWy/C,mBAAmBhvF,MAAnB,EAAX,EAAwClJ,OAAxC,CAAgD,SAAUi3C,KAAV,CAAiB,CAC7DA,MAAMk6C,cAAN,CAAqBnxF,OAArB,CAA6B,SAAU2jE,OAAV,CAAmB,CAAE,MAAOwtB,gBAAe13E,GAAf,CAAmBkqD,OAAnB,CAAP,CAAqC,CAAvF,EACA1sB,MAAM+gD,eAAN,CAAsBh4F,OAAtB,CAA8B,SAAU2jE,OAAV,CAAmB,CAAE,MAAOq0B,iBAAgBv+E,GAAhB,CAAoBkqD,OAApB,CAAP,CAAsC,CAAzF,EACH,CAHD,EAIAq0B,gBAAgBh4F,OAAhB,CAAwB,SAAU2jE,OAAV,CAAmB,CAAE,MAAOwtB,gBAAepvE,MAAf,CAAsB4hD,OAAtB,CAAP,CAAwC,CAArF,EACA,MAAO,CAAEwtB,eAAgBA,cAAlB,CAAkC6G,gBAAiBA,eAAnD,CAAP,CACH,CACD,QAASvD,0BAAT,CAAmCS,QAAnC,CAA6C9E,MAA7C,CAAqD,CACjD,GAAI8E,SAAShmF,WAAb,CAA0B,CACtB,MAAO,CACH1O,KAAM,IAAM00F,SAAS10F,IAAf,CAAsB,GAAtB,CAA4B00F,SAAS1lF,KADxC,CAEHD,OAAQ6gF,QAAUA,OAAO3+E,SAAP,CAAiB+E,WAA3B,CAAyC,WAAzC,CAAuD,IAF5D,CAAP,CAIH,CALD,IAMK,CACD,MAAO0+E,SAAP,CACH,CACJ,CACD,QAAS5C,4BAAT,CAAqC8C,QAArC,CAA+CzxB,OAA/C,CAAwDw0B,OAAxD,CAAiE,CAC7D,GAAIhlC,OAAQ,CAAE,UAAd,CACA;AACA;AACA,GAAIglC,UAAY/C,SAASjE,cAAT,CAAwB33E,GAAxB,CAA4BmqD,OAA5B,GAAwC,CAACyxB,SAAS4C,eAAT,CAAyBx+E,GAAzB,CAA6BmqD,OAA7B,CAArD,CAAJ,CAAiG,CAC7FxQ,OAAS,SAAU,iBAAnB,CACH,CAFD,IAGK,CACDA,OAAS,SAAU,kBAAnB,CACH,CACD,MAAOA,MAAP,CACH,CACD,QAASuhC,qBAAT,CAA8BnlF,MAA9B,CAAsC/O,IAAtC,CAA4C,CACxC,MAAO+O,QAASA,OAAS,GAAT,CAAe/O,IAAxB,CAA+BA,IAAtC,CACH,CAED;;;;;;OAOA,GAAI43F,iBAAkB,IAAtB,CACA;AACA,GAAIC,oBAAqB,MAAzB,CACA;;OAGA,GAAIC,cAAe,aAAnB,CACA;;;;;OAMA,GAAIC,aAAc,EAAlB,CACA;;;;;;;OAQA,GAAIC,iBAAkB,aAAe,SAAU9lF,MAAV,CAAkB,CACnD5W,UAAU08F,eAAV,CAA2B9lF,MAA3B,EACA,QAAS8lF,gBAAT,CAAyBC,QAAzB,CAAmC,CAC/B,GAAI34F,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,CAAkB87F,SAAS7qF,IAA3B,GAAoC,IAAhD,CACA9N,MAAM24F,QAAN,CAAiBA,QAAjB,CACA34F,MAAMszB,QAAN,CAAiBqlE,QAAjB,CACA,MAAO34F,MAAP,CACH,CACD04F,gBAAgBv8F,SAAhB,CAA0B4tD,eAA1B,CAA4C,SAAUj/C,OAAV,CAAmBC,OAAnB,CAA4B,CACpE,GAAIA,UAAY0tF,WAAhB,CAA6B,CACzB;AACA;AACA,MAAO,MAAKnlE,QAAL,CAAcy2B,eAAd,CAA8Bj/C,OAA9B,CAAuCC,OAAvC,CAAP,CACH,CAJD,IAKK,CACD,MAAO,MAAK4tF,QAAL,CAAc5uC,eAAd,CAA8Bj/C,OAA9B,CAAuCC,OAAvC,CAAP,CACH,CACJ,CATD,CAUA2tF,gBAAgBv8F,SAAhB,CAA0B+pD,YAA1B,CAAyC,SAAUxoD,CAAV,CAAa,CAClD,MAAOA,aAAag7F,gBAAb,EAAgC,KAAKC,QAAL,CAAczyC,YAAd,CAA2BxoD,EAAEi7F,QAA7B,CAAvC,CACH,CAFD,CAGAD,gBAAgBv8F,SAAhB,CAA0B2tD,UAA1B,CAAuC,UAAY,CAAE,MAAO,KAAP,CAAc,CAAnE,CACA4uC,gBAAgBv8F,SAAhB,CAA0By8F,KAA1B,CAAkC,SAAU77E,UAAV,CAAsB,CACpD,KAAK47E,QAAL,CAAgB57E,UAAhB,CACA,KAAK87E,MAAL,CAAc,IAAd,CACH,CAHD,CAIA,MAAOH,gBAAP,CACH,CA3BoC,CA2BnCtyC,UA3BmC,CAArC,CA4BA;;;;OAKA,GAAI0yC,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,EAAwB,CACpB,KAAK3sC,UAAL,CAAkB,EAAlB,CACA,KAAK7b,YAAL,CAAoB,GAAIjtC,IAAJ,EAApB,CACA,KAAK01F,QAAL,CAAgB,GAAI11F,IAAJ,EAAhB,CACA,KAAK21F,gBAAL,CAAwB,GAAI31F,IAAJ,EAAxB,CACA,KAAK41F,mBAAL,CAA2B,GAAI51F,IAAJ,EAA3B,CACA,KAAK61F,oBAAL,CAA4B,GAAI71F,IAAJ,EAA5B,CACA,KAAK81F,oBAAL,CAA4B,GAAI91F,IAAJ,EAA5B,CACA,KAAK+1F,eAAL,CAAuB,GAAI/1F,IAAJ,EAAvB,CACA,KAAKg2F,aAAL,CAAqB,CAArB,CACH,CACDP,aAAa38F,SAAb,CAAuBm9F,eAAvB,CAAyC,SAAUC,UAAV,CAAsBC,WAAtB,CAAmC,CACxE,GAAID,qBAAsBnuC,YAAtB,EAAqCmuC,qBAAsBb,gBAA/D,CAAgF,CAC5E;AACA;AACA,MAAOa,WAAP,CACH,CACD,GAAI3tF,KAAM,KAAK6tF,KAAL,CAAWF,UAAX,CAAV,CACA,GAAIX,OAAQ,KAAKG,QAAL,CAAcj0F,GAAd,CAAkB8G,GAAlB,CAAZ,CACA,GAAI8tF,UAAW,KAAf,CACA,GAAI,CAACd,KAAL,CAAY,CACRA,MAAQ,GAAIF,gBAAJ,CAAoBa,UAApB,CAAR,CACA,KAAKR,QAAL,CAAch0F,GAAd,CAAkB6G,GAAlB,CAAuBgtF,KAAvB,EACAc,SAAW,IAAX,CACH,CACD,GAAK,CAACA,QAAD,EAAa,CAACd,MAAMC,MAArB,EAAiCa,UAAYF,WAAjD,CAA+D,CAC3D;AACA,GAAIv2F,QAAS,KAAK02F,SAAL,EAAb,CACA,KAAKxtC,UAAL,CAAgBxuD,IAAhB,CAAqB0zD,SAASpuD,MAAT,EAAiB8B,GAAjB,CAAqBw0F,UAArB,EAAiChvC,UAAjC,CAA4ClF,aAA5C,CAA2D,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAA3D,CAArB,EACAowB,MAAMA,KAAN,CAAYvnC,SAASpuD,MAAT,CAAZ,EACH,CACD,MAAO21F,MAAP,CACH,CArBD,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAE,aAAa38F,SAAb,CAAuBy9F,cAAvB,CAAwC,SAAUxsE,OAAV,CAAmB7R,IAAnB,CAAyB,CAC7D;AACA,GAAI3P,KAAM2P,KAAKsrB,OAAL,CAAezZ,QAAU,MAAV,CAAmB7R,KAAKsrB,OAAvC,CAAiDzZ,OAA3D,CACA,GAAI+D,KAAM,KAAKmf,YAAL,CAAkBxrC,GAAlB,CAAsB8G,GAAtB,CAAV,CACA,GAAIulB,GAAJ,CAAS,CACL,MAAOA,IAAP,CACH,CACD,GAAI0oE,SAAUC,kBAAkBv+E,IAAlB,CAAd,CACA,GAAIs+E,OAAJ,CAAa,CACT,KAAK1tC,UAAL,CAAgBxuD,IAAhB,CAAqBk8F,OAArB,EACH,CACD;AACA,GAAIE,aAAc1oC,SAAS,KAAK2oC,oBAAL,EAAT,CAAlB,CACA,GAAIC,QAAS5oC,SAASmnC,YAAT,EAAuB9xC,MAAvB,CAA8B,CAACwL,QAAQ9kC,OAAR,CAAD,CAA9B,CAAb,CACA,GAAI8sE,SAAUH,YAAYh1F,GAAZ,CAAgBk1F,MAAhB,EAAwB1vC,UAAxB,CAAmClF,aAAnC,CAAkD,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAAlD,CAAd,CACA,KAAKrc,UAAL,CAAgBxuD,IAAhB,CAAqBu8F,OAArB,EACA,KAAK5pD,YAAL,CAAkBvrC,GAAlB,CAAsB6G,GAAtB,CAA2BmuF,WAA3B,EACA,MAAOA,YAAP,CACH,CAlBD,CAmBAjB,aAAa38F,SAAb,CAAuBg+F,aAAvB,CAAuC,SAAUrsF,IAAV,CAAgB0tB,IAAhB,CAAsBF,GAAtB,CAA2Bk+D,WAA3B,CAAwC,CAC3E,GAAIA,cAAgB,IAAK,EAAzB,CAA4B,CAAEA,YAAc,KAAd,CAAsB,CACpD,GAAIY,aAAc,KAAKC,aAAL,CAAmB7+D,IAAnB,CAAlB,CACA,GAAIo9D,OAAQwB,YAAYt1F,GAAZ,CAAgBgJ,IAAhB,CAAZ,CACA,GAAI4rF,UAAW,KAAf,CACA,GAAI,CAACd,KAAL,CAAY,CACR,GAAItmB,UAAW,KAAKgoB,cAAL,CAAoB9+D,IAApB,CAAf,CACAo9D,MAAQ,GAAIF,gBAAJ,CAAoBp9D,IAAIg2B,UAAJ,CAAexjD,IAAf,EAAqBwB,IAArB,CAA0BgjE,QAA1B,CAApB,CAAR,CACA8nB,YAAYr1F,GAAZ,CAAgB+I,IAAhB,CAAsB8qF,KAAtB,EACAc,SAAW,IAAX,CACH,CACD,GAAK,CAACA,QAAD,EAAa,CAACd,MAAMC,MAArB,EAAiCa,UAAYF,WAAjD,CAA+D,CAC3D,GAAI70F,QAAS,KAAKg1F,SAAL,EAAb,CACA,KAAKxtC,UAAL,CAAgBxuD,IAAhB,CAAqB0zD,SAAS1sD,MAAT,EAAiBI,GAAjB,CAAqB6zF,MAAMD,QAA3B,EAAqCpuC,UAArC,CAAgDlF,aAAhD,CAA+D,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAA/D,CAArB,EACAowB,MAAMA,KAAN,CAAYvnC,SAAS1sD,MAAT,CAAZ,EACH,CACD,MAAOi0F,MAAP,CACH,CAjBD,CAkBAE,aAAa38F,SAAb,CAAuBo+F,iBAAvB,CAA2C,SAAUhB,UAAV,CAAsB,CAC7D;AACA,GAAIA,qBAAsB7sC,iBAA1B,CAA4C,CACxC,GAAI8tC,iBAAkBjB,WAAW5sC,OAAX,CAAmBznD,GAAnB,CAAuB,SAAUxH,CAAV,CAAa,CAAE,MAAOA,GAAEosD,UAAF,GAAiBpsD,CAAjB,CAAqBw0D,QAAQ,IAAR,CAA5B,CAA4C,CAAlF,CAAtB,CACA,GAAItmD,KAAM,KAAK6tF,KAAL,CAAW9nC,WAAW6oC,eAAX,CAAX,CAAV,CACA,MAAO,MAAKC,kBAAL,CAAwB7uF,GAAxB,CAA6B2tF,WAAW5sC,OAAxC,CAAiD,SAAUA,OAAV,CAAmB,CAAE,MAAOgF,YAAWhF,OAAX,CAAP,CAA6B,CAAnG,CAAP,CACH,CAJD,IAKK,CACD,GAAI+tC,kBAAmB9oC,WAAW2nC,WAAW5sC,OAAX,CAAmBznD,GAAnB,CAAuB,SAAUxH,CAAV,CAAa,CAAE,MAAQ,CAC5EkO,IAAKlO,EAAEkO,GADqE,CAE5EvO,MAAOK,EAAEL,KAAF,CAAQysD,UAAR,GAAuBpsD,EAAEL,KAAzB,CAAiC60D,QAAQ,IAAR,CAFoC,CAG5Er5B,OAAQn7B,EAAEm7B,MAHkE,CAAR,CAInE,CAJ6B,CAAX,CAAvB,CAKA,GAAIjtB,KAAM,KAAK6tF,KAAL,CAAWiB,gBAAX,CAAV,CACA,MAAO,MAAKD,kBAAL,CAAwB7uF,GAAxB,CAA6B2tF,WAAW5sC,OAAX,CAAmBznD,GAAnB,CAAuB,SAAUxH,CAAV,CAAa,CAAE,MAAOA,GAAEL,KAAT,CAAiB,CAAvD,CAA7B,CAAuF,SAAUsvD,OAAV,CAAmB,CAAE,MAAOiF,YAAWjF,QAAQznD,GAAR,CAAY,SAAU7H,KAAV,CAAiB8P,KAAjB,CAAwB,CAAE,MAAQ,CAC/KvB,IAAK2tF,WAAW5sC,OAAX,CAAmBx/C,KAAnB,EAA0BvB,GADgJ,CAE/KvO,MAAOA,KAFwK,CAG/Kw7B,OAAQ0gE,WAAW5sC,OAAX,CAAmBx/C,KAAnB,EAA0B0rB,MAH6I,CAAR,CAItK,CAJgI,CAAX,CAAP,CAIzG,CAJH,CAAP,CAKH,CACJ,CApBD,CAqBAigE,aAAa38F,SAAb,CAAuBs+F,kBAAvB,CAA4C,SAAU7uF,GAAV,CAAexC,MAAf,CAAuBuxF,SAAvB,CAAkC,CAC1E,GAAI36F,OAAQ,IAAZ,CACA,GAAI46F,gBAAiB,KAAK5B,gBAAL,CAAsBl0F,GAAtB,CAA0B8G,GAA1B,CAArB,CACA,GAAIivF,yBAA0BzxF,OAAO0a,MAAP,CAAe,SAAUpmB,CAAV,CAAa,CAAE,MAAO,CAACA,EAAEosD,UAAF,EAAR,CAAyB,CAAvD,CAA9B,CACA,GAAI,CAAC8wC,cAAL,CAAqB,CACjB,GAAIE,mBAAoB1xF,OAAOlE,GAAP,CAAW,SAAUxH,CAAV,CAAayP,KAAb,CAAoB,CAAE,MAAOzP,GAAEosD,UAAF,GAAiB9pD,MAAMs5F,eAAN,CAAsB57F,CAAtB,CAAyB,IAAzB,CAAjB,CAAkD2zD,SAAS,IAAMlkD,KAAf,CAAzD,CAAiF,CAAlH,CAAxB,CACA,GAAIymD,YAAaknC,kBAAkBh3E,MAAlB,CAAyBi3E,UAAzB,EAAqC71F,GAArC,CAAyC,SAAUxH,CAAV,CAAa,CAAE,MAAO,IAAIsuD,QAAJ,CAAYtuD,EAAEgD,IAAd,CAAoBykD,YAApB,CAAP,CAA2C,CAAnG,CAAjB,CACA,GAAI61C,yBAA0BhwC,GAAG4I,UAAH,CAAe,CAAC,GAAIzF,gBAAJ,CAAoBwsC,UAAUG,iBAAV,CAApB,CAAD,CAAf,CAAoEz1C,aAApE,CAA9B,CACA,GAAI7/C,QAAS,KAAKm0F,SAAL,EAAb,CACA,KAAKxtC,UAAL,CAAgBxuD,IAAhB,CAAqB0zD,SAAS7rD,MAAT,EAAiBT,GAAjB,CAAqBi2F,uBAArB,EAA8CzwC,UAA9C,CAAyDlF,aAAzD,CAAwE,CACzFpqD,QAAQ2yD,YAAR,CAAqB4a,KADoE,CAAxE,CAArB,EAGAoyB,eAAiBvpC,SAAS7rD,MAAT,CAAjB,CACA,KAAKwzF,gBAAL,CAAsBj0F,GAAtB,CAA0B6G,GAA1B,CAA+BgvF,cAA/B,EACH,CACD,MAAO,CAAEA,eAAgBA,cAAlB,CAAkCC,wBAAyBA,uBAA3D,CAAP,CACH,CAhBD,CAiBA;;;;;;WAOA/B,aAAa38F,SAAb,CAAuBqxC,UAAvB,CAAoC,SAAU3uC,MAAV,CAAkB,CAAE,MAAO,GAAKA,MAAL,CAAc,KAAKw6F,aAAL,EAArB,CAA4C,CAApG,CACAP,aAAa38F,SAAb,CAAuBk+F,aAAvB,CAAuC,SAAU7+D,IAAV,CAAgB,CACnD,OAAQA,IAAR,EACI,IAAK,EAAE,eAAP,CACI,MAAO,MAAK29D,oBAAZ,CACJ,IAAK,EAAE,eAAP,CACI,MAAO,MAAKD,oBAAZ,CACJ,IAAK,EAAE,cAAP,CACI,MAAO,MAAKD,mBAAZ,CACJ,IAAK,EAAE,UAAP,CACI,MAAO,MAAKG,eAAZ,CARR,CAUAx7F,MAAM,2BAA6B49B,IAAnC,EACA,MAAO,MAAK29D,oBAAZ,CACH,CAbD,CAcAL,aAAa38F,SAAb,CAAuBm+F,cAAvB,CAAwC,SAAU9+D,IAAV,CAAgB,CACpD,OAAQA,IAAR,EACI,IAAK,EAAE,eAAP,CACI,MAAO,gBAAP,CACJ,IAAK,EAAE,eAAP,CACI,MAAO,gBAAP,CACJ,IAAK,EAAE,cAAP,CACI,MAAO,eAAP,CACJ,IAAK,EAAE,UAAP,CACI,MAAO,WAAP,CARR,CAUA59B,MAAM,2BAA6B49B,IAAnC,EACA,MAAO,WAAP,CACH,CAbD,CAcAs9D,aAAa38F,SAAb,CAAuBw9F,SAAvB,CAAmC,UAAY,CAAE,MAAO,MAAKnsD,UAAL,CAAgB8qD,eAAhB,CAAP,CAA0C,CAA3F,CACAQ,aAAa38F,SAAb,CAAuB69F,oBAAvB,CAA8C,UAAY,CACtD,MAAO,MAAKxsD,UAAL,CAAgB+qD,kBAAhB,EAAoCluF,WAApC,EAAP,CACH,CAFD,CAGAyuF,aAAa38F,SAAb,CAAuBs9F,KAAvB,CAA+B,SAAU18E,UAAV,CAAsB,CACjD,MAAOA,YAAWgtC,eAAX,CAA2B,GAAIkxC,WAAJ,EAA3B,CAA6CxC,WAA7C,CAAP,CACH,CAFD,CAGA,MAAOK,aAAP,CACH,CAlKiC,EAAlC,CAmKA;;;;;OAMA,GAAImC,YAAa,aAAe,UAAY,CACxC,QAASA,WAAT,EAAsB,CAClB,KAAK5wC,oBAAL,CAA4B6wC,OAA5B,CACA,KAAK5wC,iBAAL,CAAyB4wC,OAAzB,CACA,KAAKxwC,iBAAL,CAAyBwwC,OAAzB,CACA,KAAKtwC,kBAAL,CAA0BswC,OAA1B,CACA,KAAKnwC,qBAAL,CAA6BmwC,OAA7B,CACA,KAAKjwC,uBAAL,CAA+BiwC,OAA/B,CACA,KAAK/vC,oBAAL,CAA4B+vC,OAA5B,CACA,KAAKxvC,oBAAL,CAA4BwvC,OAA5B,CACA,KAAKtvC,YAAL,CAAoBsvC,OAApB,CACA,KAAKpvC,sBAAL,CAA8BovC,OAA9B,CACA,KAAKnvC,aAAL,CAAqBmvC,OAArB,CACA,KAAK9uC,iBAAL,CAAyB8uC,OAAzB,CACA,KAAK3uC,uBAAL,CAA+B2uC,OAA/B,CACA,KAAK1uC,iBAAL,CAAyB0uC,OAAzB,CACA,KAAKzuC,gBAAL,CAAwByuC,OAAxB,CACA,KAAKhuC,cAAL,CAAsBguC,OAAtB,CACH,CACDD,WAAW9+F,SAAX,CAAqBkvD,gBAArB,CAAwC,SAAU34C,GAAV,CAAe,CACnD,MAAO,IAAM,MAAOA,KAAIrV,KAAX,GAAqB,QAArB,CAAgC,IAAMqV,IAAIrV,KAAV,CAAkB,GAAlD,CAAwDqV,IAAIrV,KAAlE,CAAP,CACH,CAFD,CAGA49F,WAAW9+F,SAAX,CAAqB0wD,qBAArB,CAA6C,SAAUn6C,GAAV,CAAe3H,OAAf,CAAwB,CACjE,GAAI/K,OAAQ,IAAZ,CACA,MAAO,IAAM0S,IAAIi6C,OAAJ,CAAYznD,GAAZ,CAAgB,SAAUiyC,KAAV,CAAiB,CAAE,MAAOA,OAAM4S,eAAN,CAAsB/pD,KAAtB,CAA6B+K,OAA7B,CAAP,CAA+C,CAAlF,EAAoFrI,IAApF,CAAyF,GAAzF,CAAN,CAAsG,GAA7G,CACH,CAHD,CAIAu4F,WAAW9+F,SAAX,CAAqB6wD,mBAArB,CAA2C,SAAUt6C,GAAV,CAAe3H,OAAf,CAAwB,CAC/D,GAAI/K,OAAQ,IAAZ,CACA,GAAIm7F,QAAS,SAAUhkD,KAAV,CAAiB,CAC1B,GAAIzoB,OAAQyoB,MAAMte,MAAN,CAAe,GAAf,CAAqB,EAAjC,CACA,MAAO,GAAKnK,KAAL,CAAayoB,MAAMvrC,GAAnB,CAAyB8iB,KAAhC,CACH,CAHD,CAIA,GAAIqkC,UAAW,SAAU5b,KAAV,CAAiB,CAC5B,MAAOgkD,QAAOhkD,KAAP,EAAgB,GAAhB,CAAsBA,MAAM95C,KAAN,CAAY0sD,eAAZ,CAA4B/pD,KAA5B,CAAmC+K,OAAnC,CAA7B,CACH,CAFD,CAGA,MAAO,IAAM2H,IAAIi6C,OAAJ,CAAYznD,GAAZ,CAAgB6tD,QAAhB,EAA0BrwD,IAA1B,CAA+B,GAA/B,CAAb,CACH,CAVD,CAWAu4F,WAAW9+F,SAAX,CAAqBqvD,iBAArB,CAAyC,SAAU94C,GAAV,CAAe,CACpD,MAAOA,KAAIrV,KAAJ,CAAU0jD,UAAV,CAAuB,MAAQruC,IAAIrV,KAAJ,CAAU0jD,UAAlB,CAA+B,GAA/B,CAAqCruC,IAAIrV,KAAJ,CAAUqD,IAAtE,CACH,MAAQgS,IAAIrV,KAAJ,CAAUkuD,OAAV,CAAkB7qD,IAD9B,CAEH,CAHD,CAIAu6F,WAAW9+F,SAAX,CAAqB6tD,gBAArB,CAAwC,SAAU5tC,IAAV,CAAgB,CAAE,MAAO,OAASA,KAAK1b,IAArB,CAA4B,CAAtF,CACAu6F,WAAW9+F,SAAX,CAAqBguD,eAArB,CAAuC,SAAU/tC,IAAV,CAAgBrR,OAAhB,CAAyB,CAC5D,MAAO,UAAYqR,KAAKmb,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCh/C,OAAhC,CAAnB,CACH,CAFD,CAGA,MAAOkwF,WAAP,CACH,CA9C+B,EAAhC,CA+CA,QAASC,QAAT,CAAiBrN,GAAjB,CAAsB,CAClB,KAAM,IAAIzvF,MAAJ,CAAU,0BAA4B,KAAKlC,WAAL,CAAiBwE,IAA7C,CAAoD,kBAApD,CAAyEmtF,IAAI3xF,WAAJ,CAAgBwE,IAAnG,CAAN,CACH,CACD,QAASq6F,WAAT,CAAoBr9F,CAApB,CAAuB,CACnB,MAAOA,aAAaksD,YAApB,CACH,CACD;AACA;AACA,QAASkwC,kBAAT,CAA2Bv+E,IAA3B,CAAiC,CAC7B,GAAI+zC,MAAO,EAAX,CACA,GAAI/zC,KAAKowB,WAAT,CAAsB,CAClB2jB,KAAK3xD,IAAL,CAAU,CAAEY,QAAS,MAAO,UAAlB,CAA8BysB,KAAMzP,KAAKowB,WAAzC,CAAV,EACH,CACD,GAAIpwB,KAAKsrB,OAAT,CAAkB,CACdyoB,KAAK3xD,IAAL,CAAU,CAAEY,QAAS,SAAU,aAArB,CAAoCysB,KAAMzP,KAAKsrB,OAA/C,CAAV,EACH,CACD,MAAOyoB,MAAK1yD,MAAL,EAAe,CAAf,CAAmB,IAAnB,CAA0B,GAAIyyD,iBAAJ,CAAqBC,IAArB,CAAjC,CACH,CAED;;;;;;OAOA;;OAGA,GAAI8rC,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuB15E,WAAvB,CAAoCivB,aAApC,CAAmDC,cAAnD,CAAmEoJ,OAAnE,CAA4E,CACxE,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,IAAV,CAAiB,CAC3C,KAAKt4B,WAAL,CAAmBA,WAAnB,CACA,KAAKivB,aAAL,CAAqBA,aAArB,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAKoJ,OAAL,CAAeA,OAAf,CACA,KAAKhJ,SAAL,CAAiB,EAAjB,CACH,CACDoqD,cAAcj/F,SAAd,CAAwBk/F,kBAAxB,CAA6C,SAAUz7C,IAAV,CAAgB3kC,GAAhB,CAAqB2H,mBAArB,CAA0C,CACnF,GAAI1jB,GAAJ,CACA,GAAIo8F,kBAAmB,KAAK55E,WAAL,CAAiBngB,KAAjB,CAAuBq+C,IAAvB,CAA6B3kC,GAA7B,CAAkC,IAAlC,CAAwC2H,mBAAxC,CAAvB,CACA,GAAI04E,iBAAiBx4E,MAAjB,CAAwBlmB,MAA5B,CAAoC,CAChC,MAAO0+F,kBAAiBx4E,MAAxB,CACH,CACD,GAAIy4E,kBAAmBvrD,gBAAgBsrD,iBAAiBn4E,SAAjC,CAA4CP,mBAA5C,CAAiE,KAAK+tB,aAAtE,CAAqF,KAAKC,cAA1F,CAAvB,CACA,GAAI2qD,iBAAiBz4E,MAAjB,CAAwBlmB,MAA5B,CAAoC,CAChC,MAAO2+F,kBAAiBz4E,MAAxB,CACH,CACD,CAAC5jB,GAAK,KAAK8xC,SAAX,EAAsBrzC,IAAtB,CAA2Bb,KAA3B,CAAiCoC,EAAjC,CAAqCrB,SAAS09F,iBAAiB9qD,QAA1B,CAArC,EACA,MAAO,EAAP,CACH,CAZD,CAaA;AACA;AACA2qD,cAAcj/F,SAAd,CAAwBq/F,WAAxB,CAAsC,UAAY,CAAE,MAAO,MAAKxqD,SAAZ,CAAwB,CAA5E,CACAoqD,cAAcj/F,SAAd,CAAwB87C,KAAxB,CAAgC,SAAUwH,UAAV,CAAsBg8C,aAAtB,CAAqC,CACjE,GAAIhrD,UAAW,EAAf,CACA,GAAIirD,eAAgB,GAAIC,oBAAJ,EAApB,CACA;AACA,KAAK3qD,SAAL,CAAe9wC,OAAf,CAAuB,SAAUktB,OAAV,CAAmB,CACtC,GAAIluB,GAAJ,CACA,GAAIyZ,IAAK8mC,WAAW/Y,MAAX,CAAkBtZ,OAAlB,CAAT,CACA,GAAI,CAACqjB,SAAS10C,cAAT,CAAwB4c,EAAxB,CAAL,CAAkC,CAC9B83B,SAAS93B,EAAT,EAAeyU,OAAf,CACH,CAFD,IAGK,CACD,CAACluB,GAAKuxC,SAAS93B,EAAT,EAAaizB,OAAnB,EAA4BjuC,IAA5B,CAAiCb,KAAjC,CAAuCoC,EAAvC,CAA2CrB,SAASuvB,QAAQwe,OAAjB,CAA3C,EACH,CACJ,CATD,EAUA;AACA,GAAIgwD,SAAUlgG,OAAOiQ,IAAP,CAAY8kC,QAAZ,EAAsBvrC,GAAtB,CAA0B,SAAUyT,EAAV,CAAc,CAClD,GAAI0nC,QAASZ,WAAWxK,gBAAX,CAA4BxE,SAAS93B,EAAT,CAA5B,CAAb,CACA,GAAIkjF,KAAMprD,SAAS93B,EAAT,CAAV,CACA,GAAIgF,OAAQ0iC,OAASq7C,cAAcjiD,OAAd,CAAsBoiD,IAAIl+E,KAA1B,CAAiC0iC,MAAjC,CAAT,CAAoDw7C,IAAIl+E,KAApE,CACA,GAAIm+E,oBAAqB,GAAItwD,QAAJ,CAAY7tB,KAAZ,CAAmB,EAAnB,CAAuB,EAAvB,CAA2Bk+E,IAAIh1D,OAA/B,CAAwCg1D,IAAIlwD,WAA5C,CAAyDhzB,EAAzD,CAAzB,CACAmjF,mBAAmBlwD,OAAnB,CAA6BiwD,IAAIjwD,OAAjC,CACA,GAAI6vD,aAAJ,CAAmB,CACfK,mBAAmBlwD,OAAnB,CAA2B1rC,OAA3B,CAAmC,SAAU4yB,MAAV,CAAkB,CAAE,MAAOA,QAAOjf,QAAP,CAAkB4nF,cAAc3oE,OAAOjf,QAArB,CAAzB,CAA0D,CAAjH,EACH,CACD,MAAOioF,mBAAP,CACH,CAVa,CAAd,CAWA,MAAOr8C,YAAWxH,KAAX,CAAiB2jD,OAAjB,CAA0B,KAAK5hD,OAA/B,CAAP,CACH,CA3BD,CA4BA,MAAOohD,cAAP,CACH,CAtDkC,EAAnC,CAuDA;AACA,GAAIO,qBAAsB,aAAe,SAAU/oF,MAAV,CAAkB,CACvD5W,UAAU2/F,mBAAV,CAA+B/oF,MAA/B,EACA,QAAS+oF,oBAAT,EAA+B,CAC3B,MAAO/oF,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACDg/F,oBAAoBx/F,SAApB,CAA8Bs9C,OAA9B,CAAwC,SAAU97B,KAAV,CAAiB0iC,MAAjB,CAAyB,CAC7D,GAAIrgD,OAAQ,IAAZ,CACA,MAAOqgD,QAAS1iC,MAAMzY,GAAN,CAAU,SAAUxI,CAAV,CAAa,CAAE,MAAOA,GAAEgS,KAAF,CAAQ1O,KAAR,CAAeqgD,MAAf,CAAP,CAAgC,CAAzD,CAAT,CAAsE1iC,KAA7E,CACH,CAHD,CAIAg+E,oBAAoBx/F,SAApB,CAA8BorC,mBAA9B,CAAoD,SAAUC,EAAV,CAAc6Y,MAAd,CAAsB,CACtE,GAAIrgD,OAAQ,IAAZ,CACA,GAAIynC,WAAY4Y,OAAO9K,YAAP,CAAoB/N,GAAGC,SAAvB,CAAhB,CACA,GAAIC,WAAYF,GAAGE,SAAH,CAAe2Y,OAAO9K,YAAP,CAAoB/N,GAAGE,SAAvB,CAAf,CAAmDF,GAAGE,SAAtE,CACA,GAAI12B,UAAWw2B,GAAGx2B,QAAH,CAAY9L,GAAZ,CAAgB,SAAUxI,CAAV,CAAa,CAAE,MAAOA,GAAEgS,KAAF,CAAQ1O,KAAR,CAAeqgD,MAAf,CAAP,CAAgC,CAA/D,CAAf,CACA,MAAO,IAAIjU,eAAJ,CAAmB5E,GAAG6E,GAAtB,CAA2B7E,GAAGnmC,KAA9B,CAAqComC,SAArC,CAAgDC,SAAhD,CAA2D12B,QAA3D,CAAqEw2B,GAAG3nC,MAAxE,CAAgF2nC,GAAG/4B,UAAnF,CAAP,CACH,CAND,CAOAktF,oBAAoBx/F,SAApB,CAA8BwrC,gBAA9B,CAAiD,SAAUH,EAAV,CAAc6Y,MAAd,CAAsB,CACnE,MAAO,IAAI/T,YAAJ,CAAgB9E,GAAGnqC,KAAnB,CAA0BgjD,OAAO9K,YAAP,CAAoB/N,GAAG9mC,IAAvB,CAA1B,CAAwD8mC,GAAG/4B,UAA3D,CAAP,CACH,CAFD,CAGAktF,oBAAoBx/F,SAApB,CAA8ByrC,mBAA9B,CAAoD,SAAUJ,EAAV,CAAc6Y,MAAd,CAAsB,CACtE,MAAO,IAAI9T,eAAJ,CAAmB/E,GAAGnqC,KAAtB,CAA6BgjD,OAAO9K,YAAP,CAAoB/N,GAAG9mC,IAAvB,CAA7B,CAA2D8mC,GAAG/4B,UAA9D,CAAP,CACH,CAFD,CAGA,MAAOktF,oBAAP,CACH,CAvBwC,CAuBvCnvD,YAvBuC,CAAzC,CAyBA;;;;;;OAOA,QAASuvD,WAAT,CAAoBxyF,GAApB,CAAyB,CACrB,MAAOqoD,YAAWl2D,OAAOiQ,IAAP,CAAYpC,GAAZ,EAAiBrE,GAAjB,CAAqB,SAAU0G,GAAV,CAAe,CAAE,MAAQ,CAC5DA,IAAKA,GADuD,CAE5DitB,OAAQ,KAFoD,CAG5Dx7B,MAAOkM,IAAIqC,GAAJ,CAHqD,CAAR,CAInD,CAJa,CAAX,CAAP,CAKH,CAED;;;;;;OAOA,GAAIowF,QAAS,eAAb,CACA,GAAIC,eAAgB,aAAe,UAAY,CAC3C,QAASp7C,YAAT,EAAuB,CACtB,CACD,aACAA,YAAYq7C,UAAZ,CAAyB,SAAzB,CACAr7C,YAAYs7C,gBAAZ,CAA+B,WAA/B,CACAt7C,YAAYu7C,UAAZ,CAAyB,aAAzB,CACA,kBACAv7C,YAAYw7C,aAAZ,CAA4B,CAAE37F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYy7C,eAAZ,CAA8B,CAAE57F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA9B,CACAn7C,YAAY07C,YAAZ,CAA2B,CAAE77F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA3B,CACAn7C,YAAY1/C,OAAZ,CAAsB,CAAET,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAtB,CACAn7C,YAAY27C,YAAZ,CAA2B,CAAE97F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA3B,CACAn7C,YAAY47C,UAAZ,CAAyB,CAAE/7F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAAzB,CACAn7C,YAAY67C,eAAZ,CAA8B,CAAEh8F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA9B,CACAn7C,YAAY87C,gBAAZ,CAA+B,CAAEj8F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA/B,CACAn7C,YAAY+7C,gBAAZ,CAA+B,CAAEl8F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA/B,CACAn7C,YAAYg8C,cAAZ,CAA6B,CAAEn8F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA7B,CACAn7C,YAAYi8C,iBAAZ,CAAgC,CAAEp8F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAhC,CACAn7C,YAAYk8C,gBAAZ,CAA+B,CAAEr8F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA/B,CACAn7C,YAAYm8C,mBAAZ,CAAkC,CAAEt8F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAlC,CACAn7C,YAAYo8C,eAAZ,CAA8B,CAAEv8F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA9B,CACAn7C,YAAY71B,IAAZ,CAAmB,CAAEtqB,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAAnB,CACAn7C,YAAYq8C,WAAZ,CAA0B,CAAEx8F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA1B,CACAn7C,YAAYs8C,IAAZ,CAAmB,CAAEz8F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAAnB,CACAn7C,YAAYu8C,cAAZ,CAA6B,CAAE18F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAYw8C,cAAZ,CAA6B,CAAE38F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAYy8C,cAAZ,CAA6B,CAAE58F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY08C,cAAZ,CAA6B,CAAE78F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY28C,cAAZ,CAA6B,CAAE98F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY48C,cAAZ,CAA6B,CAAE/8F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY68C,cAAZ,CAA6B,CAAEh9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY88C,cAAZ,CAA6B,CAAEj9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY+8C,cAAZ,CAA6B,CAAEl9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAYg9C,aAAZ,CAA4B,CAAEn9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYi9C,aAAZ,CAA4B,CAAEp9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYk9C,aAAZ,CAA4B,CAAEr9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYm9C,aAAZ,CAA4B,CAAEt9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYo9C,aAAZ,CAA4B,CAAEv9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYq9C,aAAZ,CAA4B,CAAEx9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYs9C,aAAZ,CAA4B,CAAEz9F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYu9C,aAAZ,CAA4B,CAAE19F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYw9C,aAAZ,CAA4B,CAAE39F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYy9C,aAAZ,CAA4B,CAAE59F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAY09C,SAAZ,CAAwB,CAAE79F,KAAM,MAAR,CAAgBqgD,WAAYi7C,MAA5B,CAAxB,CACAn7C,YAAY29C,SAAZ,CAAwB,CAAE99F,KAAM,MAAR,CAAgBqgD,WAAYi7C,MAA5B,CAAxB,CACAn7C,YAAY49C,SAAZ,CAAwB,CAAE/9F,KAAM,MAAR,CAAgBqgD,WAAYi7C,MAA5B,CAAxB,CACAn7C,YAAY69C,SAAZ,CAAwB,CAAEh+F,KAAM,MAAR,CAAgBqgD,WAAYi7C,MAA5B,CAAxB,CACAn7C,YAAY89C,SAAZ,CAAwB,CAAEj+F,KAAM,MAAR,CAAgBqgD,WAAYi7C,MAA5B,CAAxB,CACAn7C,YAAY5H,IAAZ,CAAmB,CAAEv4C,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAnB,CACAn7C,YAAY+9C,aAAZ,CAA4B,CAAEl+F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAA5B,CACAn7C,YAAYg+C,aAAZ,CAA4B,CAAEn+F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYo8B,IAAZ,CAAmB,CAAEv8E,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAnB,CACAn7C,YAAYi+C,UAAZ,CAAyB,CAAEp+F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAAzB,CACAn7C,YAAYk+C,aAAZ,CAA4B,CAAEr+F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAYkB,MAAZ,CAAqB,CAAErhD,KAAM,QAAR,CAAkBqgD,WAAYi7C,MAA9B,CAArB,CACAn7C,YAAYm+C,eAAZ,CAA8B,CAAEt+F,KAAM,kBAAR,CAA4BqgD,WAAYi7C,MAAxC,CAA9B,CACAn7C,YAAYo+C,gBAAZ,CAA+B,CAAEv+F,KAAM,mBAAR,CAA6BqgD,WAAYi7C,MAAzC,CAA/B,CACAn7C,YAAYq+C,iBAAZ,CAAgC,CAAEx+F,KAAM,oBAAR,CAA8BqgD,WAAYi7C,MAA1C,CAAhC,CACAn7C,YAAYs+C,sBAAZ,CAAqC,CAAEz+F,KAAM,yBAAR,CAAmCqgD,WAAYi7C,MAA/C,CAArC,CACAn7C,YAAYu+C,uBAAZ,CAAsC,CAAE1+F,KAAM,0BAAR,CAAoCqgD,WAAYi7C,MAAhD,CAAtC,CACAn7C,YAAYw+C,eAAZ,CAA8B,CAAE3+F,KAAM,kBAAR,CAA4BqgD,WAAYi7C,MAAxC,CAA9B,CACAn7C,YAAYy+C,eAAZ,CAA8B,CAAE5+F,KAAM,kBAAR,CAA4BqgD,WAAYi7C,MAAxC,CAA9B,CACAn7C,YAAY0+C,YAAZ,CAA2B,CACvB7+F,KAAM,eADiB,CAEvBqgD,WAAYi7C,MAFW,CAA3B,CAIAn7C,YAAY2+C,eAAZ,CAA8B,CAC1B9+F,KAAM,kBADoB,CAE1BqgD,WAAYi7C,MAFc,CAA9B,CAIAn7C,YAAY4+C,YAAZ,CAA2B,CACvB/+F,KAAM,eADiB,CAEvBqgD,WAAYi7C,MAFW,CAA3B,CAIAn7C,YAAY6+C,WAAZ,CAA0B,CACtBh/F,KAAM,cADgB,CAEtBqgD,WAAYi7C,MAFU,CAA1B,CAIAn7C,YAAY8+C,cAAZ,CAA6B,CACzBj/F,KAAM,gBADmB,CAEzBqgD,WAAYi7C,MAFa,CAA7B,CAIAn7C,YAAY++C,WAAZ,CAA0B,CACtBl/F,KAAM,cADgB,CAEtBqgD,WAAYi7C,MAFU,CAA1B,CAIAn7C,YAAYg/C,cAAZ,CAA6B,CAAEn/F,KAAM,iBAAR,CAA2BqgD,WAAYi7C,MAAvC,CAA7B,CACAn7C,YAAYi/C,OAAZ,CAAsB,CAAEp/F,KAAM,UAAR,CAAoBqgD,WAAYi7C,MAAhC,CAAtB,CACAn7C,YAAYk/C,UAAZ,CAAyB,CAAEr/F,KAAM,aAAR,CAAuBqgD,WAAYi7C,MAAnC,CAAzB,CACAn7C,YAAY/6B,KAAZ,CAAoB,CAAEplB,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAApB,CACAn7C,YAAYm/C,YAAZ,CAA2B,CAAEt/F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA3B,CACAn7C,YAAYo/C,oBAAZ,CAAmC,CAAEv/F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAnC,CACAn7C,YAAYq/C,kBAAZ,CAAiC,CAAEx/F,KAAM,qBAAR,CAA+BqgD,WAAYi7C,MAA3C,CAAjC,CACAn7C,YAAYs/C,wBAAZ,CAAuC,CAAEz/F,KAAM,2BAAR,CAAqCqgD,WAAYi7C,MAAjD,CAAvC,CACAn7C,YAAYu/C,QAAZ,CAAuB,CAAE1/F,KAAM,IAAR,CAAcqgD,WAAYi7C,MAA1B,CAAvB,CACA;AACAn7C,YAAYw/C,YAAZ,CAA2B,CAAE3/F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA3B,CACA;AACAn7C,YAAYy/C,YAAZ,CAA2B,CAAE5/F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA3B,CACAn7C,YAAY0/C,aAAZ,CAA4B,CAAE7/F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA5B,CACAn7C,YAAY2/C,qBAAZ,CAAoC,CAAE9/F,KAAM,MAAR,CAAgBqgD,WAAYi7C,MAA5B,CAApC,CACAn7C,YAAY4/C,mBAAZ,CAAkC,CAAE//F,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAAlC,CACAn7C,YAAY6/C,cAAZ,CAA6B,CAAEhgG,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA7B,CACAn7C,YAAY8/C,WAAZ,CAA0B,CAAEjgG,KAAM,KAAR,CAAeqgD,WAAYi7C,MAA3B,CAA1B,CACA,MAAOn7C,YAAP,CACH,CA1GkC,EAAnC,CA4GA;;;;;;OAOA,uDACA,GAAI+/C,gBAAiB,IAArB,CACA,oEACA,GAAIC,cAAe,KAAnB,CACA,6DACA,GAAIC,cAAe,IAAnB,CACA,qCACA,GAAIC,kBAAmB,IAAvB,CACA,iDACA,GAAIC,oBAAqB,WAAzB,CACA,mCACA,GAAIC,WAAY,MAAhB,CACA,GAAIC,kBAAmB,OAAvB,CACA,oCACA,GAAIC,qBAAsB,GAA1B,CACA,GAAIC,gBAAiB,IAArB,CACA;;;;OAKA,QAASC,mBAAT,CAA4Bl1C,UAA5B,CAAwCzrD,IAAxC,CAA8C,CAC1C,GAAIkoC,MAAO,IAAX,CACA,MAAO,WAAY,CACf,GAAI,CAACA,IAAL,CAAW,CACPujB,WAAWxuD,IAAX,CAAgB,GAAI6sD,eAAJ,CAAmBo2C,cAAnB,CAAmCr6F,SAAnC,CAA8C4+C,YAA9C,CAAhB,EACAvc,KAAOyoB,SAAS3wD,IAAT,CAAP,CACH,CACD,MAAOkoC,KAAP,CACH,CAND,CAOH,CACD,QAAS04D,YAAT,CAAqBC,OAArB,CAA8B,CAC1B,GAAI,IAAJ,CAAU,CACN,KAAM,IAAInjG,MAAJ,CAAU,WAAa,KAAKlC,WAAL,CAAiBwE,IAA9B,CAAqC,mBAArC,CAA2D6gG,OAA3D,CAAqE,MAA/E,CAAN,CACH,CACD,KAAM,IAAInjG,MAAJ,CAAU,WAAamjG,OAAb,CAAuB,uBAAjC,CAAN,CACH,CACD,QAASC,UAAT,CAAmB3T,GAAnB,CAAwB,CACpB,KAAM,IAAIzvF,MAAJ,CAAU,0BAA4B,KAAKlC,WAAL,CAAiBwE,IAA7C,CAAoD,kBAApD,CAAyE6F,SAAnF,CAAN,CACH,CACD,QAASk7F,UAAT,CAAmBpkG,KAAnB,CAA0B,CACtB,GAAIxB,MAAMmP,OAAN,CAAc3N,KAAd,CAAJ,CAA0B,CACtB,MAAOs0D,YAAWt0D,MAAM6H,GAAN,CAAUu8F,SAAV,CAAX,CAAP,CACH,CACD,MAAOvvC,SAAQ70D,KAAR,CAAegoD,aAAf,CAAP,CACH,CACD,QAASq8C,oCAAT,CAA6C/1F,IAA7C,CAAmD,CAC/C,GAAIjQ,OAAOimG,mBAAP,CAA2Bh2F,IAA3B,EAAiC/O,MAAjC,CAA0C,CAA9C,CAAiD,CAC7C,MAAOglG,iBAAgBj2F,IAAhB,CAAP,CACH,CACD,MAAO,KAAP,CACH,CACD,QAASi2F,gBAAT,CAAyB18F,GAAzB,CAA8B2zB,MAA9B,CAAsC,CAClC,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,KAAT,CAAiB,CAC1C,MAAO+4B,YAAWl2D,OAAOimG,mBAAP,CAA2Bz8F,GAA3B,EAAgCA,GAAhC,CAAoC,SAAU0G,GAAV,CAAe,CAAE,MAAQ,CAAEA,IAAKA,GAAP,CAAYitB,OAAQA,MAApB,CAA4Bx7B,MAAOokG,UAAUv8F,IAAI0G,GAAJ,CAAV,CAAnC,CAAR,CAAoE,CAAzH,CAAX,CAAP,CACH,CACD;;OAGA,QAASi2F,kBAAT,CAA2BjuC,UAA3B,CAAuC,CACnC,MAAOzB,OAAOyB,WAAWA,WAAWh3D,MAAX,CAAoB,CAA/B,CAAP,CAAP,CAAkD,CAC9Cg3D,WAAWr3C,GAAX,GACH,CACD,MAAOq3C,WAAP,CACH,CACD,QAASkuC,kBAAT,CAA2Bh8E,KAA3B,CAAkCi8E,YAAlC,CAAgD,CAC5C,GAAIlmG,MAAMmP,OAAN,CAAc8a,MAAM6Z,SAApB,CAAJ,CAAoC,CAChC,MAAOoiE,cAAazI,eAAb,CAA6B3nC,WAAW7rC,MAAM6Z,SAAN,CAAgBz6B,GAAhB,CAAoB,SAAU1D,QAAV,CAAoB,CAAE,MAAO0wD,SAAQ1wD,QAAR,CAAP,CAA2B,CAArE,CAAX,CAA7B,CAAP,CACH,CAFD,IAGK,CACD,MAAOskB,OAAM6Z,SAAb,CACH,CACJ,CACD,QAASqiE,KAAT,EAAgB,CAAG,CACnB,GAAIC,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,EAAyB,CACrB,KAAK74F,MAAL,CAAc,EAAd,CACH,CACD64F,cAAc9lG,SAAd,CAAwB4I,GAAxB,CAA8B,SAAU6G,GAAV,CAAevO,KAAf,CAAsB,CAChD,GAAIA,KAAJ,CAAW,CACP,KAAK+L,MAAL,CAAYzL,IAAZ,CAAiB,CAAEiO,IAAKA,GAAP,CAAYvO,MAAOA,KAAnB,CAA0Bw7B,OAAQ,KAAlC,CAAjB,EACH,CACJ,CAJD,CAKAopE,cAAc9lG,SAAd,CAAwB+lG,YAAxB,CAAuC,UAAY,CAAE,MAAOtwC,YAAW,KAAKxoD,MAAhB,CAAP,CAAiC,CAAtF,CACA,MAAO64F,cAAP,CACH,CAXkC,EAAnC,CAaA;;;;;;OAOA,CAAC,SAAUE,wBAAV,CAAoC,CACjC;;WAGAA,yBAAyBA,yBAAyB,OAAzB,EAAoC,CAA7D,EAAkE,OAAlE,CACA;;;;WAKAA,yBAAyBA,yBAAyB,WAAzB,EAAwC,CAAjE,EAAsE,WAAtE,CACA;;WAGAA,yBAAyBA,yBAAyB,UAAzB,EAAuC,CAAhE,EAAqE,UAArE,CACA;;WAGAA,yBAAyBA,yBAAyB,YAAzB,EAAyC,CAAlE,EAAuE,YAAvE,CACA;;WAGAA,yBAAyBA,yBAAyB,aAAzB,EAA0C,CAAnE,EAAwE,aAAxE,CACA;;WAGAA,yBAAyBA,yBAAyB,kBAAzB,EAA+C,CAAxE,EAA6E,kBAA7E,CACA;;WAGAA,yBAAyBA,yBAAyB,mBAAzB,EAAgD,CAAzE,EAA8E,mBAA9E,CACH,CA/BD,EA+BGlnG,QAAQknG,wBAAR,GAAqClnG,QAAQknG,wBAAR,CAAmC,EAAxE,CA/BH,EAgCA;;OAGA,QAASC,uBAAT,CAAgC7mF,IAAhC,CAAsC,CAClC;AACA,GAAIpT,MAAOoT,KAAKf,IAAL,CAAUtV,GAAV,CAAc,SAAUkuD,GAAV,CAAe,CAAE,MAAOivC,yBAAwBjvC,GAAxB,CAA6B73C,KAAK+mF,QAAlC,CAAP,CAAqD,CAApF,CAAX,CACA;AACA,GAAI/qE,MAAOhc,KAAKgnF,MAAL,CAAc,GAAI17C,gBAAJ,CAAoBtrC,KAAKinF,SAAzB,CAAoCr6F,IAApC,CAAd,CACP,GAAIw+C,mBAAJ,CAAuBprC,KAAKinF,SAA5B,CAAuCr6F,IAAvC,CADJ,CAEA,MAAO6iD,IAAG,EAAH,CAAO,CAAC,GAAImD,gBAAJ,CAAoB52B,IAApB,CAAD,CAAP,CAAoC8tB,aAApC,CAAmD9+C,SAAnD,CAA8DgV,KAAK7a,IAAL,CAAY,UAA1E,CAAP,CACH,CACD,QAAS2hG,wBAAT,CAAiCjvC,GAAjC,CAAsCkvC,QAAtC,CAAgD,CAC5C;AACA,OAAQlvC,IAAIulC,QAAZ,EACI,IAAK19F,SAAQknG,wBAAR,CAAiC92E,KAAtC,CACA,IAAKpwB,SAAQknG,wBAAR,CAAiClgD,QAAtC,CAAgD,CAC5C;AACA,GAAIoR,OAAQ,CAAE,aAAF,EAAmBD,IAAI2jC,IAAJ,CAAW,CAAE,UAAb,CAA0B,CAA7C,GACP3jC,IAAIqvC,QAAJ,CAAe,CAAE,cAAjB,CAAkC,CAD3B,GACiCrvC,IAAI97C,IAAJ,CAAW,CAAE,UAAb,CAA0B,CAD3D,GAEP87C,IAAIsvC,QAAJ,CAAe,CAAE,cAAjB,CAAkC,CAF3B,CAAZ,CAGA;AACA;AACA;AACA,GAAIx8F,OAAQktD,IAAIltD,KAAhB,CACA,GAAIktD,IAAIulC,QAAJ,GAAiB19F,QAAQknG,wBAAR,CAAiClgD,QAAtD,CAAgE,CAC5D/7C,MAAQorD,WAAWzQ,YAAYmB,QAAvB,CAAR,CACH,CACD;AACA,GAAI2gD,YAAa,CAACz8F,KAAD,CAAjB,CACA;AACA;AACA;AACA,GAAImtD,QAAU,CAAE,aAAZ,EAA6BD,IAAIsvC,QAArC,CAA+C,CAC3CC,WAAWhlG,IAAX,CAAgBu0D,QAAQmB,KAAR,CAAhB,EACH,CACD,MAAO/B,YAAWgxC,QAAX,EAAqB57C,MAArB,CAA4Bi8C,UAA5B,CAAP,CACH,CACD,IAAK1nG,SAAQknG,wBAAR,CAAiChlF,SAAtC,CACI;AACA,MAAOm0C,YAAW2qC,cAAc+C,eAAzB,EAA0Ct4C,MAA1C,CAAiD,CAAC0M,IAAIltD,KAAL,CAAjD,CAAP,CACJ,IAAKjL,SAAQknG,wBAAR,CAAiCnhD,UAAtC,CACI,MAAOsQ,YAAW2qC,cAAcgD,gBAAzB,EAA2Cv4C,MAA3C,CAAkD,EAAlD,CAAP,CACJ,IAAKzrD,SAAQknG,wBAAR,CAAiC9gD,WAAtC,CACI,MAAOiQ,YAAW2qC,cAAciD,iBAAzB,EAA4Cx4C,MAA5C,CAAmD,EAAnD,CAAP,CACJ,IAAKzrD,SAAQknG,wBAAR,CAAiCjhD,gBAAtC,CACI,MAAOoQ,YAAW2qC,cAAckD,sBAAzB,EAAiDz4C,MAAjD,CAAwD,EAAxD,CAAP,CACJ,IAAKzrD,SAAQknG,wBAAR,CAAiChhD,iBAAtC,CACI,MAAOmQ,YAAW2qC,cAAcmD,uBAAzB,EAAkD14C,MAAlD,CAAyD,EAAzD,CAAP,CACJ,QACI,MAAO46C,aAAY,qCAAuCrmG,QAAQknG,wBAAR,CAAiC/uC,IAAIulC,QAArC,CAAnD,CAAP,CApCR,CAsCH,CACD;;;OAIA,QAASiK,+BAAT,CAAwC90F,IAAxC,CAA8CksE,SAA9C,CAAyDj2B,SAAzD,CAAoE,CAChE,GAAIuO,IAAJ,CAASpzD,EAAT,CACA;AACA;AACA;AACA,GAAI2jG,YAAa9+C,UAAUC,wBAAV,CAAmCnD,YAAYG,UAA/C,CAAjB,CACA,GAAI8hD,aAAc/+C,UAAUC,wBAAV,CAAmCnD,YAAYQ,WAA/C,CAAlB,CACA,GAAI0hD,kBAAmBh/C,UAAUC,wBAAV,CAAmCnD,YAAYK,gBAA/C,CAAvB,CACA,GAAI8hD,aAAcj/C,UAAUC,wBAAV,CAAmCnD,YAAYoB,QAA/C,CAAlB,CACA;AACA,GAAIznC,MAAO,EAAX,CACA,GAAI,CACA,IAAK,GAAIrb,IAAKpC,SAAS+Q,KAAKmrD,MAAd,CAAT,CAAgC15D,GAAKJ,GAAG/B,IAAH,EAA1C,CAAqD,CAACmC,GAAGjC,IAAzD,CAA+DiC,GAAKJ,GAAG/B,IAAH,EAApE,CAA+E,CAC3E,GAAI6lG,YAAa1jG,GAAGlC,KAApB,CACA,GAAI4lG,WAAW/8F,KAAf,CAAsB,CAClB,GAAIk3D,UAAW9nD,eAAe2tF,WAAW/8F,KAA1B,CAAf,CACA,GAAIyyF,UAAW19F,QAAQknG,wBAAR,CAAiC92E,KAAhD,CACA,GAAI+xC,WAAaylC,UAAjB,CAA6B,CACzBlK,SAAW19F,QAAQknG,wBAAR,CAAiCnhD,UAA5C,CACH,CAFD,IAGK,IAAIoc,WAAa0lC,WAAjB,CAA8B,CAC/BnK,SAAW19F,QAAQknG,wBAAR,CAAiC9gD,WAA5C,CACH,CAFI,IAGA,IAAI+b,WAAa2lC,gBAAjB,CAAmC,CACpCpK,SAAW19F,QAAQknG,wBAAR,CAAiCjhD,gBAA5C,CACH,CAFI,IAGA,IAAIkc,WAAa4lC,WAAjB,CAA8B,CAC/BrK,SAAW19F,QAAQknG,wBAAR,CAAiClgD,QAA5C,CACH,CAFI,IAGA,IAAIghD,WAAWvkC,WAAf,CAA4B,CAC7Bi6B,SAAW19F,QAAQknG,wBAAR,CAAiChlF,SAA5C,CACH,CACD;AACA;AACA,GAAIjX,OAAQk3D,mBAAoBxpD,aAApB,CAAmComE,UAAU1oB,UAAV,CAAqB8L,QAArB,CAAnC,CAAoElL,QAAQkL,QAAR,CAAhF,CACA;AACA5iD,KAAK7c,IAAL,CAAU,CACNuI,MAAOA,KADD,CAENyyF,SAAUA,QAFJ,CAGNrhF,KAAM,CAAC,CAAC2rF,WAAWxsF,MAHb,CAINisF,SAAU,CAAC,CAACO,WAAWpkC,UAJjB,CAKNk4B,KAAM,CAAC,CAACkM,WAAWtkC,MALb,CAMN8jC,SAAU,CAAC,CAACQ,WAAWrkC,UANjB,CAAV,EAQH,CA9BD,IA+BK,CACD0iC,YAAY,4BAAZ,EACH,CACJ,CACJ,CACD,MAAO7uC,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CAvCzC,OAwCQ,CACJ,GAAI,CACA,GAAIlzD,IAAM,CAACA,GAAGjC,IAAV,GAAmB4B,GAAKC,GAAGuzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQsC,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAImzD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,MAAO4c,KAAP,CACH,CAED;;;;;;OAOA;;OAGA,QAAS0oF,mBAAT,CAA4Bh+F,GAA5B,CAAiC,CAC7B,GAAIpC,QAASpH,OAAOiQ,IAAP,CAAYzG,GAAZ,EAAiBA,GAAjB,CAAqB,SAAU0G,GAAV,CAAe,CAAE,MAAQ,CAAEA,IAAKA,GAAP,CAAYvO,MAAO6H,IAAI0G,GAAJ,CAAnB,CAA6BitB,OAAQ,KAArC,CAAR,CAAwD,CAA9F,CAAb,CACA,MAAO+4B,YAAW9uD,MAAX,CAAP,CACH,CACD;;;;OAKA,QAASqgG,oBAAT,CAA6B5nF,IAA7B,CAAmC+f,GAAnC,CAAwC,CACpC,GAAIz/B,MAAMmP,OAAN,CAAcuQ,IAAd,CAAJ,CAAyB,CACrB,MAAOo2C,YAAWp2C,KAAKrW,GAAL,CAAS,SAAUiyC,KAAV,CAAiB,CAAE,MAAOgsD,qBAAoBhsD,KAApB,CAA2B7b,GAA3B,CAAP,CAAyC,CAArE,CAAX,CAAP,CACH,CACD,GAAI/f,eAAgB3H,aAApB,CAAkC,CAC9B,MAAO0nB,KAAIg2B,UAAJ,CAAe/1C,IAAf,CAAP,CACH,CACD,GAAIA,MAAQ,IAAZ,CAAkB,CACd,MAAO22C,SAAQ32C,IAAR,CAAP,CACH,CACD,KAAM,IAAInd,MAAJ,CAAU,oDAAsDmd,IAAhE,CAAN,CACH,CACD,QAAS6nF,mBAAT,CAA4Bt1F,IAA5B,CAAkCu1F,SAAlC,CAA6C,CACzC,GAAI78C,QAAS,IAAb,CACA,GAAI68C,UAAY,CAAhB,CAAmB,CACf78C,OAAS,EAAT,CACA,IAAK,GAAI/pD,GAAI,CAAb,CAAgBA,EAAI4mG,SAApB,CAA+B5mG,GAA/B,CAAoC,CAChC+pD,OAAO7oD,IAAP,CAAYwnD,YAAZ,EACH,CACJ,CACD,MAAOsM,gBAAe3jD,IAAf,CAAqB,IAArB,CAA2B04C,MAA3B,CAAP,CACH,CAED;;;;;;OAOA;;OAGA,QAAS88C,gBAAT,CAAyB/nF,IAAzB,CAA+B,CAC3B,GAAIq/C,YAAar/C,KAAKzN,IAAtB,CAA4B+uD,UAAYthD,KAAKshD,SAA7C,CAAwDL,aAAejhD,KAAKihD,YAA5E,CAA0Fd,QAAUngD,KAAKmgD,OAAzG,CAAkHzgE,QAAUsgB,KAAKtgB,OAAjI,CACA,GAAI8hB,YAAau0C,WAAW2qC,cAAc4D,cAAzB,EAAyCn5C,MAAzC,CAAgD,CAACw8C,mBAAmB,CAC7Ep1F,KAAM8sD,UADuE,CAE7EiC,UAAWlL,WAAWkL,SAAX,CAFkE,CAG7EL,aAAc7K,WAAW6K,YAAX,CAH+D,CAI7Ed,QAAS/J,WAAW+J,OAAX,CAJoE,CAK7EzgE,QAAS02D,WAAW12D,OAAX,CALoE,CAAnB,CAAD,CAAhD,CAAjB,CAOA,GAAI6S,MAAO,GAAI42C,eAAJ,CAAmB4M,WAAW2qC,cAAc2D,WAAzB,CAAsC,CAChE,GAAIl7C,eAAJ,CAAmBkW,UAAnB,CADgE,CAChC2oC,YAAY/mC,YAAZ,CADgC,CACL+mC,YAAY7nC,OAAZ,CADK,CAEhE6nC,YAAYtoG,OAAZ,CAFgE,CAAtC,CAAnB,CAAX,CAIA,GAAIuoG,sBAAuB,EAA3B,CACA,MAAO,CAAEzmF,WAAYA,UAAd,CAA0BjP,KAAMA,IAAhC,CAAsC01F,qBAAsBA,oBAA5D,CAAP,CACH,CACD,QAASC,gBAAT,CAAyBloF,IAAzB,CAA+B,CAC3B,GAAIwB,YAAau0C,WAAW2qC,cAAc0D,cAAzB,EAAyCj5C,MAAzC,CAAgD,CAACw8C,mBAAmB,CAC7EloG,QAASonG,uBAAuB,CAC5B1hG,KAAM6a,KAAK7a,IADiB,CAE5B8hG,UAAWjnF,KAAKzN,IAFY,CAG5B0M,KAAMe,KAAKf,IAHiB,CAI5B+nF,OAAQ,IAJoB,CAK5BD,SAAUrG,cAAcl6C,MALI,CAAvB,CADoE,CAQ7ElxC,UAAW0K,KAAK1K,SAR6D,CAS7E6qD,QAASngD,KAAKmgD,OAT+D,CAAnB,CAAD,CAAhD,CAAjB,CAWA,GAAI5tD,MAAO,GAAI42C,eAAJ,CAAmB4M,WAAW2qC,cAAcyD,WAAzB,CAAsC,CAAC,GAAIh7C,eAAJ,CAAmBnpC,KAAKzN,IAAxB,CAAD,CAAtC,CAAnB,CAAX,CACA,MAAO,CAAEiP,WAAYA,UAAd,CAA0BjP,KAAMA,IAAhC,CAAP,CACH,CACD;AACA,QAAS41F,2BAAT,CAAoCpoE,GAApC,CAAyCjzB,QAAzC,CAAmDs7F,kBAAnD,CAAuE,CACnE,GAAIj/F,WAAY8P,eAAenM,SAASyF,IAAxB,CAAhB,CACA,GAAI2tD,YAAapzD,SAASozD,UAAT,CAAsB,CAACpzD,SAASozD,UAAV,CAAtB,CAA8C,EAA/D,CACA,GAAID,YAAanzD,SAASmzD,UAAT,CAAsB,CAACnzD,SAASmzD,UAAV,CAAtB,CAA8C,EAA/D,CACA,GAAIooC,gBAAiB7H,WAAW,CAC5B,UAAW4H,mBAAmBpwC,UAAnB,CAA8B,CAAEzlD,KAAMzF,SAASyF,IAAjB,CAAuB4lD,OAAQrrD,SAASyF,IAAT,CAAc4G,SAA7C,CAA9B,CAAwF4mB,GAAxF,CADiB,CAE5B,YAAa6nE,oBAAoB96F,SAASszD,YAA7B,CAA2CrgC,GAA3C,CAFe,CAG5B,UAAW6nE,oBAAoBtlG,SAAS49D,UAAT,CAAqBD,UAArB,CAApB,CAAsDlgC,GAAtD,CAHiB,CAAX,CAArB,CAKA,GAAIuoE,aAAcvyC,WAAW2qC,cAAc0D,cAAzB,EAAyCj5C,MAAzC,CAAgD,CAACk9C,cAAD,CAAhD,CAAlB,CACAtoE,IAAI6wB,UAAJ,CAAexuD,IAAf,CAAoB,GAAI+wD,UAAJ,CACpB,UAAWhqD,SADS,CAEpB,YAAa,IAFO,CAGpB,YAAa,CAAC,GAAI4pD,WAAJ,CACV,UAAW,eADD,CAEV,UAAWjJ,aAFD,CAGV,eAAgB,CAACpqD,QAAQ2yD,YAAR,CAAqBoG,MAAtB,CAHN,CAIV,iBAAkB6vC,WAJR,CAAD,CAHO,CAQpB,aAAc,EARM,CASpB,uBAAwB,GAAIr1C,YAAJ,CAAgB,IAAhB,CAAsB,EAAtB,CAA0B,EAA1B,CATJ,CAUpB,aAAc,EAVM,CAApB,EAWH,CACD,QAAS+0C,YAAT,CAAqBpyE,GAArB,CAA0B,CACtB,GAAI2yE,OAAQ3yE,IAAIjsB,GAAJ,CAAQ,SAAU4I,IAAV,CAAgB,CAAE,MAAO4jD,YAAW5jD,IAAX,CAAP,CAA0B,CAApD,CAAZ,CACA,MAAOqjB,KAAIv0B,MAAJ,CAAa,CAAb,CAAiB60D,eAAeE,WAAWmyC,KAAX,CAAf,CAAjB,CAAqDh+C,SAA5D,CACH,CAED;;;;;;OAOA,QAASi+C,wBAAT,CAAiC/+E,QAAjC,CAA2C,CACvC,GAAIg/E,qBAAsB,EAA1B,CACA;AACAA,oBAAoBrmG,IAApB,CAAyB,CAAEiO,IAAK,MAAP,CAAevO,MAAO60D,QAAQltC,SAASi7D,QAAjB,CAAtB,CAAkDpnD,OAAQ,KAA1D,CAAzB,EACA;AACAmrE,oBAAoBrmG,IAApB,CAAyB,CAAEiO,IAAK,MAAP,CAAevO,MAAO2nB,SAASlX,IAA/B,CAAqC+qB,OAAQ,KAA7C,CAAzB,EACA,GAAIorE,iBAAkB7B,uBAAuB,CACzC1hG,KAAMskB,SAAStkB,IAD0B,CAEzC8hG,UAAWx9E,SAASlX,IAFqB,CAGzC0M,KAAMwK,SAASxK,IAH0B,CAIzC+nF,OAAQ,IAJiC,CAKzCD,SAAUrG,cAAcoD,eALiB,CAAvB,CAAtB,CAOA2E,oBAAoBrmG,IAApB,CAAyB,CAAEiO,IAAK,SAAP,CAAkBvO,MAAO4mG,eAAzB,CAA0CprE,OAAQ,KAAlD,CAAzB,EACA;AACAmrE,oBAAoBrmG,IAApB,CAAyB,CAAEiO,IAAK,MAAP,CAAevO,MAAO60D,QAAQltC,SAASrd,IAAjB,CAAtB,CAA8CkxB,OAAQ,KAAtD,CAAzB,EACA,GAAI9b,YAAau0C,WAAW2qC,cAAc8D,UAAzB,EAAqCr5C,MAArC,CAA4C,CAACkL,WAAWoyC,mBAAX,CAAD,CAA5C,CAAjB,CACA,GAAIl2F,MAAO,GAAI42C,eAAJ,CAAmB4M,WAAW2qC,cAAc6D,OAAzB,CAAkC,CAC5D,GAAIp7C,eAAJ,CAAmB1/B,SAASlX,IAA5B,CAD4D,CAE5D,GAAI42C,eAAJ,CAAmB,GAAI0G,YAAJ,CAAgBpmC,SAASi7D,QAAzB,CAAnB,CAF4D,CAAlC,CAAnB,CAAX,CAIA,MAAO,CAAEljE,WAAYA,UAAd,CAA0BjP,KAAMA,IAAhC,CAAP,CACH,CACD;;OAGA,QAASo2F,uBAAT,CAAgClqB,SAAhC,CAA2CiD,IAA3C,CAAiDl5B,SAAjD,CAA4D,CACxD,GAAIrjD,MAAO8T,eAAeyoE,KAAKnvE,IAApB,CAAX,CACA,GAAI,CAACpN,IAAL,CAAW,CACP,MAAO9C,OAAM,8BAAgCq/E,KAAKnvE,IAA3C,CAAP,CACH,CACD,GAAIkX,UAAW,CACXtkB,KAAMA,IADK,CAEXu/E,SAAUhD,KAAKv8E,IAFJ,CAGXoN,KAAMksE,UAAU1oB,UAAV,CAAqB2rB,KAAKnvE,IAAL,CAAU4G,SAA/B,CAHK,CAIX8F,KAAMooF,+BAA+B3lB,KAAKnvE,IAApC,CAA0CksE,SAA1C,CAAqDj2B,SAArD,CAJK,CAKXp8C,KAAMs1E,KAAKt1E,IALA,CAAf,CAOA,GAAIhG,KAAMoiG,wBAAwB/+E,QAAxB,CAAV,CACA,GAAIm/E,iBAAkBnqB,UAAU+nB,YAAV,CAAuBzH,cAAvB,CAAsC,CAAE,UAAxC,CAAtB,CACAtgB,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B,GAAI+wD,UAAJ,CAC1B,UAAWhuD,IADe,CAE1B,YAAa,IAFa,CAG1B,YAAa,CAAC,GAAI4tD,WAAJ,CACV,UAAW61C,eADD,CAEV,UAAW9+C,aAFD,CAGV,eAAgB,CAACpqD,QAAQ2yD,YAAR,CAAqBoG,MAAtB,CAHN,CAIV,iBAAkBryD,IAAIob,UAJZ,CAAD,CAHa,CAQ1B,aAAc,EARY,CAS1B,uBAAwB,GAAIyxC,YAAJ,CAAgB,IAAhB,CAAsB,EAAtB,CAA0B,EAA1B,CATE,CAU1B,aAAc,EAVY,CAA1B,EAWH,CAED;;;;;;OAOA,GAAI41C,QAAS,aAAe,UAAY,CACpC,QAAS5nF,KAAT,CAAcnf,KAAd,CAAqBoR,UAArB,CAAiC,CAC7B,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD+N,KAAKrgB,SAAL,CAAeuS,KAAf,CAAuB,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQ6D,SAAR,CAAkB,IAAlB,CAAP,CAAiC,CAA7E,CACA,MAAO6N,KAAP,CACH,CAP2B,EAA5B,CAQA,GAAI6nF,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmBhnG,KAAnB,CAA0BoR,UAA1B,CAAsC,CAClC,KAAKpR,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD41F,UAAUloG,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQ+D,cAAR,CAAuB,IAAvB,CAAP,CAAsC,CAAvF,CACA,MAAOw1F,UAAP,CACH,CAP8B,EAA/B,CAQA,GAAIC,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuB5jG,IAAvB,CAA6BrD,KAA7B,CAAoCoR,UAApC,CAAgD2O,SAAhD,CAA2D,CACvD,KAAK1c,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACA,KAAK2O,SAAL,CAAiBA,SAAjB,CACH,CACDknF,cAAcnoG,SAAd,CAAwBuS,KAAxB,CAAgC,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQy5F,kBAAR,CAA2B,IAA3B,CAAP,CAA0C,CAA/F,CACA,MAAOD,cAAP,CACH,CATkC,EAAnC,CAUA,GAAIE,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwB9jG,IAAxB,CAA8BoN,IAA9B,CAAoCoB,eAApC,CAAqD7R,KAArD,CAA4D8R,IAA5D,CAAkEV,UAAlE,CAA8E,CAC1E,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKoN,IAAL,CAAYA,IAAZ,CACA,KAAKoB,eAAL,CAAuBA,eAAvB,CACA,KAAK7R,KAAL,CAAaA,KAAb,CACA,KAAK8R,IAAL,CAAYA,IAAZ,CACA,KAAKV,UAAL,CAAkBA,UAAlB,CACH,CACD+1F,eAAeC,wBAAf,CAA0C,SAAUn1F,IAAV,CAAgB,CACtD,MAAO,IAAIk1F,eAAJ,CAAmBl1F,KAAK5O,IAAxB,CAA8B4O,KAAKxB,IAAnC,CAAyCwB,KAAKJ,eAA9C,CAA+DI,KAAKjS,KAApE,CAA2EiS,KAAKH,IAAhF,CAAsFG,KAAKb,UAA3F,CAAP,CACH,CAFD,CAGA+1F,eAAeroG,SAAf,CAAyBuS,KAAzB,CAAiC,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQ45F,mBAAR,CAA4B,IAA5B,CAAP,CAA2C,CAAjG,CACA,MAAOF,eAAP,CACH,CAdmC,EAApC,CAeA,GAAIG,YAAa,aAAe,UAAY,CACxC,QAASA,WAAT,CAAoBjkG,IAApB,CAA0BiP,OAA1B,CAAmCF,MAAnC,CAA2CC,KAA3C,CAAkDjB,UAAlD,CAA8D,CAC1D,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKiP,OAAL,CAAeA,OAAf,CACA,KAAKF,MAAL,CAAcA,MAAd,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKjB,UAAL,CAAkBA,UAAlB,CACH,CACDk2F,WAAW90F,eAAX,CAA6B,SAAUC,KAAV,CAAiB,CAC1C,GAAIL,QAASK,MAAMhC,IAAN,GAAe,CAAE,aAAjB,CAAiCgC,MAAMC,aAAvC,CAAuD,IAApE,CACA,GAAIL,OAAQI,MAAMhC,IAAN,GAAe,CAAE,eAAjB,CAAmCgC,MAAMC,aAAzC,CAAyD,IAArE,CACA,MAAO,IAAI40F,WAAJ,CAAe70F,MAAMpP,IAArB,CAA2BoP,MAAMH,OAAjC,CAA0CF,MAA1C,CAAkDC,KAAlD,CAAyDI,MAAMrB,UAA/D,CAAP,CACH,CAJD,CAKAk2F,WAAWxoG,SAAX,CAAqBuS,KAArB,CAA6B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQ85F,eAAR,CAAwB,IAAxB,CAAP,CAAuC,CAAzF,CACA,MAAOD,WAAP,CACH,CAf+B,EAAhC,CAgBA,GAAIE,WAAY,aAAe,UAAY,CACvC,QAASvnF,QAAT,CAAiB5c,IAAjB,CAAuBuzC,UAAvB,CAAmCxjC,MAAnC,CAA2CC,OAA3C,CAAoDM,QAApD,CAA8DL,UAA9D,CAA0ElC,UAA1E,CAAsF8O,eAAtF,CAAuGtM,aAAvG,CAAsH,CAClH,KAAKvQ,IAAL,CAAYA,IAAZ,CACA,KAAKuzC,UAAL,CAAkBA,UAAlB,CACA,KAAKxjC,MAAL,CAAcA,MAAd,CACA,KAAKC,OAAL,CAAeA,OAAf,CACA,KAAKM,QAAL,CAAgBA,QAAhB,CACA,KAAKL,UAAL,CAAkBA,UAAlB,CACA,KAAKlC,UAAL,CAAkBA,UAAlB,CACA,KAAK8O,eAAL,CAAuBA,eAAvB,CACA,KAAKtM,aAAL,CAAqBA,aAArB,CACH,CACDqM,QAAQnhB,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQoG,YAAR,CAAqB,IAArB,CAAP,CAAoC,CAAnF,CACA,MAAOoM,QAAP,CACH,CAd8B,EAA/B,CAeA,GAAIwnF,UAAW,aAAe,UAAY,CACtC,QAASA,SAAT,CAAkB7wD,UAAlB,CAA8BxjC,MAA9B,CAAsCO,QAAtC,CAAgDL,UAAhD,CAA4DS,SAA5D,CAAuE3C,UAAvE,CAAmF8O,eAAnF,CAAoGtM,aAApG,CAAmH,CAC/G,KAAKgjC,UAAL,CAAkBA,UAAlB,CACA,KAAKxjC,MAAL,CAAcA,MAAd,CACA,KAAKO,QAAL,CAAgBA,QAAhB,CACA,KAAKL,UAAL,CAAkBA,UAAlB,CACA,KAAKS,SAAL,CAAiBA,SAAjB,CACA,KAAK3C,UAAL,CAAkBA,UAAlB,CACA,KAAK8O,eAAL,CAAuBA,eAAvB,CACA,KAAKtM,aAAL,CAAqBA,aAArB,CACH,CACD6zF,SAAS3oG,SAAT,CAAmBuS,KAAnB,CAA2B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQi6F,aAAR,CAAsB,IAAtB,CAAP,CAAqC,CAArF,CACA,MAAOD,SAAP,CACH,CAb6B,EAA9B,CAcA,GAAIE,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,CAAiBC,aAAjB,CAAgChxD,UAAhC,CAA4CxlC,UAA5C,CAAwD,CACpD,KAAKw2F,aAAL,CAAqBA,aAArB,CACA,KAAKhxD,UAAL,CAAkBA,UAAlB,CACA,KAAKxlC,UAAL,CAAkBA,UAAlB,CACH,CACDu2F,QAAQ7oG,SAAR,CAAkBuS,KAAlB,CAA0B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQo6F,YAAR,CAAqB,IAArB,CAAP,CAAoC,CAAnF,CACA,MAAOF,QAAP,CACH,CAR4B,EAA7B,CASA,GAAIG,UAAW,aAAe,UAAY,CACtC,QAASA,SAAT,CAAkBzkG,IAAlB,CAAwBrD,KAAxB,CAA+BoR,UAA/B,CAA2C,CACvC,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD02F,SAAShpG,SAAT,CAAmBuS,KAAnB,CAA2B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQyF,aAAR,CAAsB,IAAtB,CAAP,CAAqC,CAArF,CACA,MAAO40F,SAAP,CACH,CAR6B,EAA9B,CASA,GAAIC,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmB1kG,IAAnB,CAAyBrD,KAAzB,CAAgCoR,UAAhC,CAA4C,CACxC,KAAK/N,IAAL,CAAYA,IAAZ,CACA,KAAKrD,KAAL,CAAaA,KAAb,CACA,KAAKoR,UAAL,CAAkBA,UAAlB,CACH,CACD22F,UAAUjpG,SAAV,CAAoBuS,KAApB,CAA4B,SAAU5D,OAAV,CAAmB,CAAE,MAAOA,SAAQqF,cAAR,CAAuB,IAAvB,CAAP,CAAsC,CAAvF,CACA,MAAOi1F,UAAP,CACH,CAR8B,EAA/B,CASA,QAASC,WAAT,CAAoBv6F,OAApB,CAA6B6S,KAA7B,CAAoC,CAChC,GAAI20C,IAAJ,CAASpzD,EAAT,CAAa6vF,GAAb,CAAkB5vF,EAAlB,CACA,GAAI2D,QAAS,EAAb,CACA,GAAIgI,QAAQ4D,KAAZ,CAAmB,CACf,GAAI,CACA,IAAK,GAAI42F,SAAUvoG,SAAS4gB,KAAT,CAAd,CAA+B4nF,UAAYD,QAAQloG,IAAR,EAAhD,CAAgE,CAACmoG,UAAUjoG,IAA3E,CAAiFioG,UAAYD,QAAQloG,IAAR,EAA7F,CAA6G,CACzG,GAAIgf,MAAOmpF,UAAUloG,KAArB,CACA,GAAImoG,SAAU16F,QAAQ4D,KAAR,CAAc0N,IAAd,GAAuBA,KAAK1N,KAAL,CAAW5D,OAAX,CAArC,CACH,CACJ,CACD,MAAO2nD,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI8yC,WAAa,CAACA,UAAUjoG,IAAxB,GAAiC4B,GAAKomG,QAAQ5yC,MAA9C,CAAJ,CAA2DxzD,GAAGrC,IAAH,CAAQyoG,OAAR,EAC9D,CAFD,OAGQ,CAAE,GAAIhzC,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACJ,CAdD,IAeK,CACD,GAAI,CACA,IAAK,GAAI6nG,SAAU1oG,SAAS4gB,KAAT,CAAd,CAA+B+nF,UAAYD,QAAQroG,IAAR,EAAhD,CAAgE,CAACsoG,UAAUpoG,IAA3E,CAAiFooG,UAAYD,QAAQroG,IAAR,EAA7F,CAA6G,CACzG,GAAIgf,MAAOspF,UAAUroG,KAArB,CACA,GAAImoG,SAAUppF,KAAK1N,KAAL,CAAW5D,OAAX,CAAd,CACA,GAAI06F,OAAJ,CAAa,CACT1iG,OAAOnF,IAAP,CAAY6nG,OAAZ,EACH,CACJ,CACJ,CACD,MAAOtW,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CATzC,OAUQ,CACJ,GAAI,CACA,GAAIwW,WAAa,CAACA,UAAUpoG,IAAxB,GAAiC6B,GAAKsmG,QAAQ/yC,MAA9C,CAAJ,CAA2DvzD,GAAGtC,IAAH,CAAQ4oG,OAAR,EAC9D,CAFD,OAGQ,CAAE,GAAI1W,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACJ,CACD,MAAOkF,OAAP,CACH,CAED;;;;;;OAOA,GAAI6iG,oBAAqB,0GAAzB,CACA;AACA,GAAIC,eAAgB,CAApB,CACA;AACA,GAAIC,cAAe,CAAnB,CACA;AACA,GAAIC,cAAe,CAAnB,CACA;AACA,GAAIC,aAAc,CAAlB,CACA;AACA,GAAIC,iBAAkB,CAAtB,CACA;AACA,GAAIC,aAAc,CAAlB,CACA;AACA,GAAIC,gBAAiB,CAArB,CACA;AACA,GAAIC,wBAAyB,CAA7B,CACA;AACA,GAAIC,sBAAuB,CAA3B,CACA;AACA,GAAIC,mBAAoB,EAAxB,CACA,GAAIC,wBAAyB,GAA7B,CACA;AACA,GAAIC,0BAA2B,GAA/B,CACA,QAASC,oBAAT,CAA6BC,SAA7B,CAAwClkB,aAAxC,CAAuD,CACnD,GAAIvxB,aAAc,GAAI01C,gBAAJ,CAAoBnkB,aAApB,CAAlB,CACA,GAAIokB,UAAWjpF,SAASszC,WAAT,CAAsBy1C,SAAtB,CAAf,CACA;AACA,GAAIG,WAAYrkB,cAAcz/D,MAAd,CAAqBhlB,MAArB,CAA4BkzD,YAAYluC,MAAxC,CAAhB,CACA,GAAIA,QAAS8jF,UAAU9iF,MAAV,CAAiB,SAAUpmB,CAAV,CAAa,CAAE,MAAOA,GAAEy9B,KAAF,GAAYlgC,QAAQggC,eAAR,CAAwBG,KAA3C,CAAmD,CAAnF,CAAb,CACA,GAAItY,OAAOlmB,MAAP,CAAgB,CAApB,CAAuB,CACnB,GAAImmB,aAAcD,OAAOpgB,IAAP,CAAY,IAAZ,CAAlB,CACA,KAAM6J,aAAY,2BAA6BwW,WAAzC,CAAsDD,MAAtD,CAAN,CACH,CACD,MAAO,CACHnF,MAAOgpF,QADJ,CAEH7jF,OAAQ8jF,SAFL,CAGHzwF,mBAAoB66C,YAAY76C,kBAH7B,CAIH0wF,aAAc71C,YAAY61C,YAJvB,CAAP,CAMH,CACD,GAAIH,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyBnkB,aAAzB,CAAwC,CACpC,KAAKA,aAAL,CAAqBA,aAArB,CACA,KAAKz/D,MAAL,CAAc,EAAd,CACA;AACA,KAAK3M,kBAAL,CAA0B,EAA1B,CACA;AACA,KAAK0wF,YAAL,CAAoB,KAApB,CACH,CACD;AACAH,gBAAgBvqG,SAAhB,CAA0B+U,YAA1B,CAAyC,SAAU/P,OAAV,CAAmB,CACxD,GAAImxD,IAAJ,CAASpzD,EAAT,CACA,GAAImlB,kBAAmB/D,gBAAgBnf,OAAhB,CAAvB,CACA,GAAIkjB,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBI,MAA/C,EACAiD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBG,KADnD,CAC0D,CACtD;AACA;AACA;AACA,MAAO,KAAP,CACH,CACD,GAAIkD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBK,UAA/C,EACApC,qBAAqBoF,iBAAiB7D,QAAtC,CADJ,CACqD,CACjD;AACA;AACA,MAAO,KAAP,CACH,CACD;AACA,GAAI2jE,mBAAoB1lF,aAAa0C,QAAQT,IAArB,CAAxB,CACA,GAAIomG,qBAAsB,EAA1B,CACA,GAAIC,kBAAmB,EAAvB,CACA,GAAIngB,aAAc,EAAlB,CACA,GAAIx1E,WAAY,EAAhB,CACA,GAAIT,YAAa,EAAjB,CACA,GAAIsjC,YAAa,EAAjB,CACA,GAAI+yD,6BAA8B,EAAlC,CACA,GAAIC,yBAAJ,CACA,GAAIC,0BAA2B,EAA/B,CACA,GAAIC,mBAAoB,EAAxB,CACA;AACA,GAAIC,0BAA2B,KAA/B,CACA,GAAI,CACA,IAAK,GAAIjoG,IAAKpC,SAASoE,QAAQE,KAAjB,CAAT,CAAkC9B,GAAKJ,GAAG/B,IAAH,EAA5C,CAAuD,CAACmC,GAAGjC,IAA3D,CAAiEiC,GAAKJ,GAAG/B,IAAH,EAAtE,CAAiF,CAC7E,GAAIuxC,WAAYpvC,GAAGlC,KAAnB,CACA,GAAIgnF,YAAa,KAAjB,CACA,GAAII,gBAAiB4iB,uBAAuB14D,UAAUjuC,IAAjC,CAArB,CACA;AACA,GAAI4mG,mBAAoB,KAAxB,CACA,GAAI7iB,eAAe3wC,UAAf,CAA0BwyD,sBAA1B,CAAJ,CAAuD,CACnD,GAAIc,wBAAJ,CAA8B,CAC1B,KAAKG,WAAL,CAAiB,8FAAjB,CAAiH54D,UAAUlgC,UAA3H,EACH,CACD64F,kBAAoB,IAApB,CACAF,yBAA2B,IAA3B,CACA,GAAI7iB,eAAgB51C,UAAUtxC,KAA9B,CACA,GAAImnF,aAAcC,eAAe72E,SAAf,CAAyB04F,uBAAuB1pG,MAAhD,CAAlB,CACAqqG,yBAA2Bt4D,UAAUvxB,SAAV,EAAuBuxB,UAAUlgC,UAA5D,CACA,GAAI21E,iBAAkB,EAAtB,CACA,KAAK7B,aAAL,CAAmBvE,0BAAnB,CAA8CwG,WAA9C,CAA2DD,aAA3D,CAA0E51C,UAAUlgC,UAApF,CAAgGu4F,2BAAhG,CAA6HE,wBAA7H,CAAuJ9iB,eAAvJ,EACA+iB,kBAAkBxpG,IAAlB,CAAuBb,KAAvB,CAA6BqqG,iBAA7B,CAAgDtpG,SAASumF,gBAAgBl/E,GAAhB,CAAoB,SAAUoL,CAAV,CAAa,CAAE,MAAO,IAAI60F,SAAJ,CAAa70F,EAAE5P,IAAf,CAAqB4P,EAAEjT,KAAvB,CAA8BiT,EAAE7B,UAAhC,CAAP,CAAqD,CAAxF,CAAT,CAAhD,EACH,CAZD,IAaK,CACD;AACA41E,WAAa,KAAKmjB,cAAL,CAAoBrjB,iBAApB,CAAuCx1C,SAAvC,CAAkDm4D,mBAAlD,CAAuEC,gBAAvE,CAAyFngB,WAAzF,CAAsGx1E,SAAtG,CAAiHT,UAAjH,CAAb,CACH,CACD,GAAI,CAAC0zE,UAAD,EAAe,CAACijB,iBAApB,CAAuC,CACnC;AACArzD,WAAWt2C,IAAX,CAAgB,KAAK0f,cAAL,CAAoBsxB,SAApB,CAAhB,EACAm4D,oBAAoBnpG,IAApB,CAAyB,CAACgxC,UAAUjuC,IAAX,CAAiBiuC,UAAUtxC,KAA3B,CAAzB,EACH,CACJ,CACJ,CACD,MAAOo1D,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CA/BzC,OAgCQ,CACJ,GAAI,CACA,GAAIlzD,IAAM,CAACA,GAAGjC,IAAV,GAAmB4B,GAAKC,GAAGuzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQsC,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAImzD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,GAAIoT,UAAW0M,SAAS2G,iBAAiB3D,WAAjB,CAA+B+mF,sBAA/B,CAAwD,IAAjE,CAAuEtmG,QAAQ6P,QAA/E,CAAf,CACA,GAAI40E,cAAJ,CACA,GAAIvhE,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBE,UAAnD,CAA+D,CAC3D;AACA,KAAK2lF,YAAL,CAAoB,IAApB,CACA,GAAI1lG,QAAQ6P,QAAR,EAAoB,CAAC7P,QAAQ6P,QAAR,CAAiB47C,KAAjB,CAAuB86C,eAAvB,CAAzB,CAAkE,CAC9D,KAAKH,WAAL,CAAiB,2CAAjB,CAA8DpmG,QAAQsN,UAAtE,EACH,CACD,GAAIjN,UAAW6iB,iBAAiB9D,UAAhC,CACA,GAAIonF,cAAexmG,QAAQE,KAAR,CAAc6D,GAAd,CAAkB,SAAUypC,SAAV,CAAqB,CACtD,MAAO,IAAI21D,cAAJ,CAAkB31D,UAAUjuC,IAA5B,CAAkCiuC,UAAUtxC,KAA5C,CAAmDsxC,UAAUlgC,UAA7D,CAAyEkgC,UAAUvxB,SAAnF,CAAP,CACH,CAFkB,CAAnB,CAGA,GAAI6nF,eAAgBzjG,WAAa+kG,wBAAb,CAAwC,CAAxC,CAA4C,KAAKpwF,kBAAL,CAAwBxY,IAAxB,CAA6B6D,QAA7B,CAAhE,CACAokF,cAAgB,GAAIof,QAAJ,CAAYC,aAAZ,CAA2B0C,YAA3B,CAAyCxmG,QAAQsN,UAAjD,CAAhB,CACH,CAZD,IAaK,IAAI01E,iBAAJ,CAAuB,CACxB;AACA,GAAIyjB,iBAAkB,KAAKC,qBAAL,CAA2B1mG,QAAQT,IAAnC,CAAyCqmG,gBAAzC,CAAtB,CACAnhB,cAAgB,GAAIkf,SAAJ,CAAa7wD,UAAb,CAAyB2zD,eAAzB,CAA0C52F,QAA1C,CAAoDL,UAApD,CAAgES,SAAhE,CAA2EjQ,QAAQsN,UAAnF,CAA+FtN,QAAQoc,eAAvG,CAAwHpc,QAAQ8P,aAAhI,CAAhB,CACH,CAJI,IAKA,CACD,GAAI22F,iBAAkB,KAAKC,qBAAL,CAA2B1mG,QAAQT,IAAnC,CAAyCqmG,gBAAzC,CAAtB,CACAnhB,cAAgB,GAAIif,UAAJ,CAAc1jG,QAAQT,IAAtB,CAA4BuzC,UAA5B,CAAwC2zD,eAAxC,CAAyDhhB,WAAzD,CAAsE51E,QAAtE,CAAgFL,UAAhF,CAA4FxP,QAAQsN,UAApG,CAAgHtN,QAAQoc,eAAxH,CAAyIpc,QAAQ8P,aAAjJ,CAAhB,CACH,CACD,GAAIm2F,wBAAJ,CAA8B,CAC1B,GAAIU,cAAe,EAAnB,CACAd,4BAA4B9mG,OAA5B,CAAoC,SAAUhB,EAAV,CAAc,CAC9C,GAAIC,IAAK5B,OAAO2B,EAAP,CAAW,CAAX,CAAT,CAAwBwB,KAAOvB,GAAG,CAAH,CAA/B,CAAsC9B,MAAQ8B,GAAG,CAAH,CAA9C,CACA,MAAO2oG,cAAanqG,IAAb,CAAkB,GAAI2mG,cAAJ,CAAkB5jG,IAAlB,CAAwBrD,KAAxB,CAA+B4pG,wBAA/B,CAAlB,CAAP,CACH,CAHD,EAIA,GAAIW,iBAAkB,KAAKC,qBAAL,CAA2B,aAA3B,CAA0CX,wBAA1C,CAAtB,CACAthB,cAAgB,GAAIkf,SAAJ,CAAagD,YAAb,CAA2BF,eAA3B,CAA4C,CAAChiB,aAAD,CAA5C,CAA6D,EAA7D,CAAiEuhB,iBAAjE,CAAoFhmG,QAAQsN,UAA5F,CAAwGtN,QAAQoc,eAAhH,CAAiIpc,QAAQ8P,aAAzI,CAAhB,CACH,CACD,MAAO20E,cAAP,CACH,CAtGD,CAuGA8gB,gBAAgBvqG,SAAhB,CAA0BkhB,cAA1B,CAA2C,SAAUsxB,SAAV,CAAqB,CAC5D,MAAO,IAAI21D,cAAJ,CAAkB31D,UAAUjuC,IAA5B,CAAkCiuC,UAAUtxC,KAA5C,CAAmDsxC,UAAUlgC,UAA7D,CAAyEkgC,UAAUvxB,SAAnF,CAAP,CACH,CAFD,CAGAspF,gBAAgBvqG,SAAhB,CAA0BwS,SAA1B,CAAsC,SAAUqc,IAAV,CAAgB,CAClD,GAAIu4D,aAAcjI,YAAYtwD,KAAK3tB,KAAjB,CAAlB,CACA,GAAIk6B,MAAO,KAAKgrD,aAAL,CAAmB5sD,kBAAnB,CAAsC4tD,WAAtC,CAAmDv4D,KAAKvc,UAAxD,CAAX,CACA,MAAO8oB,MAAO,GAAI8sE,UAAJ,CAAc9sE,IAAd,CAAoBvM,KAAKvc,UAAzB,CAAP,CAA8C,GAAI21F,OAAJ,CAAW7gB,WAAX,CAAwBv4D,KAAKvc,UAA7B,CAArD,CACH,CAJD,CAKAi4F,gBAAgBvqG,SAAhB,CAA0BshB,YAA1B,CAAyC,SAAUoxB,OAAV,CAAmB,CAAE,MAAO,KAAP,CAAc,CAA5E,CACA63D,gBAAgBvqG,SAAhB,CAA0B0gB,cAA1B,CAA2C,SAAU69B,SAAV,CAAqB,CAAE,MAAO,KAAP,CAAc,CAAhF,CACAgsD,gBAAgBvqG,SAAhB,CAA0B+gB,kBAA1B,CAA+C,SAAUy9B,aAAV,CAAyB,CAAE,MAAO,KAAP,CAAc,CAAxF,CACA+rD,gBAAgBvqG,SAAhB,CAA0B0rG,qBAA1B,CAAkD,SAAU5pG,WAAV,CAAuBi0E,UAAvB,CAAmC,CACjF,GAAIlyE,OAAQ,IAAZ,CACA,MAAOkyE,YAAWpuD,MAAX,CAAkB,SAAUxU,IAAV,CAAgB,CAAE,MAAO,CAACA,KAAKmkB,SAAb,CAAyB,CAA7D,EACFvuB,GADE,CACE,SAAUoK,IAAV,CAAgB,CAAE,MAAOtP,OAAMuiF,aAAN,CAAoB9E,0BAApB,CAA+Cx/E,WAA/C,CAA4DqR,IAA5D,CAAP,CAA2E,CAD/F,EAEFpK,GAFE,CAEE,SAAUoK,IAAV,CAAgB,CAAE,MAAOk1F,gBAAeC,wBAAf,CAAwCn1F,IAAxC,CAAP,CAAuD,CAF3E,CAAP,CAGH,CALD,CAMAo3F,gBAAgBvqG,SAAhB,CAA0BqrG,cAA1B,CAA2C,SAAUrjB,iBAAV,CAA6Bx1C,SAA7B,CAAwCm4D,mBAAxC,CAA6DC,gBAA7D,CAA+EngB,WAA/E,CAA4Fx1E,SAA5F,CAAuGT,UAAvG,CAAmH,CAC1J,GAAIjQ,MAAO2mG,uBAAuB14D,UAAUjuC,IAAjC,CAAX,CACA,GAAIrD,OAAQsxC,UAAUtxC,KAAtB,CACA,GAAIspF,SAAUh4C,UAAUlgC,UAAxB,CACA,GAAIo4E,WAAYnmF,KAAKoB,KAAL,CAAW6jG,kBAAX,CAAhB,CACA,GAAIthB,YAAa,KAAjB,CACA,GAAIwC,SAAJ,CAAe,CACXxC,WAAa,IAAb,CACA,GAAIwC,UAAU+e,aAAV,GAA4B,IAAhC,CAAsC,CAClC,KAAKrjB,aAAL,CAAmBlF,oBAAnB,CAAwCwJ,UAAUqf,cAAV,CAAxC,CAAmE7oG,KAAnE,CAA0E,KAA1E,CAAiFspF,OAAjF,CAA0FmgB,mBAA1F,CAA+GC,gBAA/G,EACH,CAFD,IAGK,IAAIlgB,UAAUgf,YAAV,CAAJ,CAA6B,CAC9B,GAAI1hB,iBAAJ,CAAuB,CACnB,GAAIvvE,YAAaiyE,UAAUqf,cAAV,CAAjB,CACA,KAAK6B,aAAL,CAAmBnzF,UAAnB,CAA+BvX,KAA/B,CAAsCspF,OAAtC,CAA+Cv1E,SAA/C,EACH,CAHD,IAIK,CACD,KAAKm2F,WAAL,CAAiB,qDAAjB,CAAwE5gB,OAAxE,EACH,CACJ,CARI,IASA,IAAIE,UAAUif,YAAV,CAAJ,CAA6B,CAC9B,GAAIlxF,YAAaiyE,UAAUqf,cAAV,CAAjB,CACA,KAAK8B,cAAL,CAAoBpzF,UAApB,CAAgCvX,KAAhC,CAAuCspF,OAAvC,CAAgDh2E,UAAhD,EACH,CAHI,IAIA,IAAIk2E,UAAUkf,WAAV,CAAJ,CAA4B,CAC7B,GAAIjiB,QAAS,EAAb,CACA,KAAKvB,aAAL,CAAmB3E,UAAnB,CAA8BiJ,UAAUqf,cAAV,CAA9B,CAAyD7oG,KAAzD,CAAgEspF,OAAhE,CAAyEmgB,mBAAzE,CAA8FhjB,MAA9F,EACAmkB,UAAUnkB,MAAV,CAAkB8C,WAAlB,EACH,CAJI,IAKA,IAAIC,UAAUmf,eAAV,CAAJ,CAAgC,CACjC,KAAKzjB,aAAL,CAAmBlF,oBAAnB,CAAwCwJ,UAAUqf,cAAV,CAAxC,CAAmE7oG,KAAnE,CAA0E,KAA1E,CAAiFspF,OAAjF,CAA0FmgB,mBAA1F,CAA+GC,gBAA/G,EACA,KAAKmB,oBAAL,CAA0BrhB,UAAUqf,cAAV,CAA1B,CAAqD7oG,KAArD,CAA4DspF,OAA5D,CAAqEmgB,mBAArE,CAA0FlgB,WAA1F,EACH,CAHI,IAIA,IAAIC,UAAUof,WAAV,CAAJ,CAA4B,CAC7B,KAAK1jB,aAAL,CAAmBjE,gBAAnB,CAAoC59E,IAApC,CAA0CrD,KAA1C,CAAiDspF,OAAjD,CAA0DmgB,mBAA1D,CAA+EC,gBAA/E,EACH,CAFI,IAGA,IAAIlgB,UAAUsf,sBAAV,CAAJ,CAAuC,CACxC,KAAK5jB,aAAL,CAAmBlF,oBAAnB,CAAwCwJ,UAAUsf,sBAAV,CAAxC,CAA2E9oG,KAA3E,CAAkF,KAAlF,CAAyFspF,OAAzF,CAAkGmgB,mBAAlG,CAAuHC,gBAAvH,EACA,KAAKmB,oBAAL,CAA0BrhB,UAAUsf,sBAAV,CAA1B,CAA6D9oG,KAA7D,CAAoEspF,OAApE,CAA6EmgB,mBAA7E,CAAkGlgB,WAAlG,EACH,CAHI,IAIA,IAAIC,UAAUuf,oBAAV,CAAJ,CAAqC,CACtC,KAAK7jB,aAAL,CAAmBlF,oBAAnB,CAAwCwJ,UAAUuf,oBAAV,CAAxC,CAAyE/oG,KAAzE,CAAgF,KAAhF,CAAuFspF,OAAvF,CAAgGmgB,mBAAhG,CAAqHC,gBAArH,EACH,CAFI,IAGA,IAAIlgB,UAAUwf,iBAAV,CAAJ,CAAkC,CACnC,GAAIviB,QAAS,EAAb,CACA,KAAKvB,aAAL,CAAmB3E,UAAnB,CAA8BiJ,UAAUwf,iBAAV,CAA9B,CAA4DhpG,KAA5D,CAAmEspF,OAAnE,CAA4EmgB,mBAA5E,CAAiGhjB,MAAjG,EACAmkB,UAAUnkB,MAAV,CAAkB8C,WAAlB,EACH,CACJ,CA1CD,IA2CK,CACDvC,WAAa,KAAK9B,aAAL,CAAmBzD,0BAAnB,CAA8Cp+E,IAA9C,CAAoDrD,KAApD,CAA2DspF,OAA3D,CAAoEmgB,mBAApE,CAAyFC,gBAAzF,CAAb,CACH,CACD,MAAO1iB,WAAP,CACH,CArDD,CAsDAqiB,gBAAgBvqG,SAAhB,CAA0B4rG,aAA1B,CAA0C,SAAUnzF,UAAV,CAAsBvX,KAAtB,CAA6BoR,UAA7B,CAAyC2C,SAAzC,CAAoD,CAC1F,GAAIwD,WAAWzW,OAAX,CAAmB,GAAnB,EAA0B,CAAC,CAA/B,CAAkC,CAC9B,KAAKopG,WAAL,CAAiB,wCAAjB,CAA2D94F,UAA3D,EACH,CACD2C,UAAUzT,IAAV,CAAe,GAAIwnG,SAAJ,CAAavwF,UAAb,CAAyBvX,KAAzB,CAAgCoR,UAAhC,CAAf,EACH,CALD,CAMAi4F,gBAAgBvqG,SAAhB,CAA0B6rG,cAA1B,CAA2C,SAAUpzF,UAAV,CAAsBvX,KAAtB,CAA6BoR,UAA7B,CAAyCkC,UAAzC,CAAqD,CAC5F,GAAIiE,WAAWzW,OAAX,CAAmB,GAAnB,EAA0B,CAAC,CAA/B,CAAkC,CAC9B,KAAKopG,WAAL,CAAiB,yCAAjB,CAA4D94F,UAA5D,EACH,CACDkC,WAAWhT,IAAX,CAAgB,GAAIynG,UAAJ,CAAcxwF,UAAd,CAA0BvX,KAA1B,CAAiCoR,UAAjC,CAAhB,EACH,CALD,CAMAi4F,gBAAgBvqG,SAAhB,CAA0B+rG,oBAA1B,CAAiD,SAAUxnG,IAAV,CAAgBqc,UAAhB,CAA4BtO,UAA5B,CAAwCwvE,oBAAxC,CAA8D2I,WAA9D,CAA2E,CACxH,GAAI9C,QAAS,EAAb,CACA,KAAKvB,aAAL,CAAmB3E,UAAnB,CAA8Bl9E,KAAO,QAArC,CAA+Cqc,WAAa,SAA5D,CAAuEtO,UAAvE,CAAmFwvE,oBAAnF,CAAyG6F,MAAzG,EACAmkB,UAAUnkB,MAAV,CAAkB8C,WAAlB,EACH,CAJD,CAKA8f,gBAAgBvqG,SAAhB,CAA0BorG,WAA1B,CAAwC,SAAUn6E,OAAV,CAAmB3e,UAAnB,CAA+B0sB,KAA/B,CAAsC,CAC1E,GAAIA,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQlgC,QAAQggC,eAAR,CAAwBG,KAAhC,CAAwC,CAChE,KAAKtY,MAAL,CAAYnlB,IAAZ,CAAiB,GAAIu9B,WAAJ,CAAezsB,UAAf,CAA2B2e,OAA3B,CAAoC+N,KAApC,CAAjB,EACH,CAHD,CAIA,MAAOurE,gBAAP,CACH,CA9MoC,EAArC,CA+MA,GAAIyB,sBAAuB,aAAe,UAAY,CAClD,QAAS1f,mBAAT,EAA8B,CAC7B,CACDA,mBAAmBtsF,SAAnB,CAA6B+U,YAA7B,CAA4C,SAAUwB,GAAV,CAAe,CACvD,GAAI2R,kBAAmB/D,gBAAgB5N,GAAhB,CAAvB,CACA,GAAI2R,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBI,MAA/C,EACAiD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBG,KAD/C,EAEAkD,iBAAiBvW,IAAjB,GAA0BkT,qBAAqBK,UAFnD,CAE+D,CAC3D;AACA;AACA;AACA,MAAO,KAAP,CACH,CACD,GAAIrQ,UAAW0M,SAAS,IAAT,CAAehL,IAAI1B,QAAnB,CAA6B,IAA7B,CAAf,CACA,MAAO,IAAI6zF,UAAJ,CAAcnyF,IAAIhS,IAAlB,CAAwBgd,SAAS,IAAT,CAAehL,IAAIrR,KAAnB,CAAxB,CACP,YAAa,EADN,CACU,aAAc,EADxB,CAC4B2P,QAD5B,CACsC,gBAAiB,EADvD,CAC2D0B,IAAIjE,UAD/D,CAC2EiE,IAAI6K,eAD/E,CACgG7K,IAAIzB,aADpG,CAAP,CAEH,CAbD,CAcAw3E,mBAAmBtsF,SAAnB,CAA6BshB,YAA7B,CAA4C,SAAUoxB,OAAV,CAAmB,CAAE,MAAO,KAAP,CAAc,CAA/E,CACA45C,mBAAmBtsF,SAAnB,CAA6BkhB,cAA7B,CAA8C,SAAUsxB,SAAV,CAAqB,CAC/D,MAAO,IAAI21D,cAAJ,CAAkB31D,UAAUjuC,IAA5B,CAAkCiuC,UAAUtxC,KAA5C,CAAmDsxC,UAAUlgC,UAA7D,CAAP,CACH,CAFD,CAGAg6E,mBAAmBtsF,SAAnB,CAA6BwS,SAA7B,CAAyC,SAAUqc,IAAV,CAAgB,CAAE,MAAO,IAAIo5E,OAAJ,CAAWp5E,KAAK3tB,KAAhB,CAAuB2tB,KAAKvc,UAA5B,CAAP,CAAiD,CAA5G,CACAg6E,mBAAmBtsF,SAAnB,CAA6B0gB,cAA7B,CAA8C,SAAU69B,SAAV,CAAqB,CAAE,MAAO,KAAP,CAAc,CAAnF,CACA+tC,mBAAmBtsF,SAAnB,CAA6B+gB,kBAA7B,CAAkD,SAAUy9B,aAAV,CAAyB,CAAE,MAAO,KAAP,CAAc,CAA3F,CACA,MAAO8tC,mBAAP,CACH,CAzByC,EAA1C,CA0BA,GAAIgf,wBAAyB,GAAIU,qBAAJ,EAA7B,CACA,QAASd,uBAAT,CAAgC1kG,QAAhC,CAA0C,CACtC,MAAO,WAAU+b,IAAV,CAAe/b,QAAf,EAA2BA,SAASiL,SAAT,CAAmB,CAAnB,CAA3B,CAAmDjL,QAA1D,CACH,CACD,QAASslG,UAAT,CAAmBnkB,MAAnB,CAA2B8C,WAA3B,CAAwC,CACpCA,YAAYjpF,IAAZ,CAAiBb,KAAjB,CAAuB8pF,WAAvB,CAAoC/oF,SAASimF,OAAO5+E,GAAP,CAAW,SAAUxH,CAAV,CAAa,CAAE,MAAOinG,YAAW90F,eAAX,CAA2BnS,CAA3B,CAAP,CAAuC,CAAjE,CAAT,CAApC,EACH,CACD,QAASgqG,gBAAT,CAAyBtrF,IAAzB,CAA+B,CAC3B,MAAOA,gBAAgBI,KAAhB,EAAwBJ,KAAK/e,KAAL,CAAWuN,IAAX,GAAkBhO,MAAlB,EAA4B,CAA3D,CACH,CAED;;;;;;OAOA;;;;;;OAOA,QAASwrG,WAAT,CAAoB/qG,KAApB,CAA2B,CACvB,GAAIoY,QAAS,EAAb,CACA,GAAIhZ,GAAI,CAAR,CACA,GAAI4rG,YAAa,CAAjB,CACA,GAAI35E,OAAQ,CAAE,eAAd,CACA,GAAI8T,YAAa,CAAjB,CACA,GAAI8lE,WAAY,CAAhB,CACA,GAAIC,aAAc,IAAlB,CACA,GAAIC,gBAAiB,KAArB,CACA,MAAO/rG,EAAIY,MAAMT,MAAjB,CAAyB,CACrB,GAAIsJ,OAAQ7I,MAAMgQ,UAAN,CAAiB5Q,GAAjB,CAAZ,CACA,OAAQyJ,KAAR,EACI,IAAK,GAAG,eAAR,CACImiG,aACA,MACJ,IAAK,GAAG,gBAAR,CACIA,aACA,MACJ,IAAK,GAAG,iBAAR,CACI;AACA;AACAG,eAAiBA,gBAAkBhmE,WAAa,CAAhD,CACA,GAAI9T,QAAU,CAAE,eAAhB,CAAiC,CAC7BA,MAAQ,EAAG,iBAAX,CACH,CAFD,IAGK,IAAIA,QAAU,EAAG,iBAAb,EAAkCrxB,MAAMgQ,UAAN,CAAiB5Q,EAAI,CAArB,IAA4B,EAAG,eAArE,CAAsF,CACvFiyB,MAAQ,CAAE,eAAV,CACH,CACD,MACJ,IAAK,GAAG,iBAAR,CACI;AACA85E,eAAiBA,gBAAkBhmE,WAAa,CAAhD,CACA,GAAI9T,QAAU,CAAE,eAAhB,CAAiC,CAC7BA,MAAQ,EAAG,iBAAX,CACH,CAFD,IAGK,IAAIA,QAAU,EAAG,iBAAb,EAAkCrxB,MAAMgQ,UAAN,CAAiB5Q,EAAI,CAArB,IAA4B,EAAG,eAArE,CAAsF,CACvFiyB,MAAQ,CAAE,eAAV,CACH,CACD,MACJ,IAAK,GAAG,WAAR,CACI,GAAI,CAAC65E,WAAD,EAAgBF,aAAe,CAA/B,EAAoC35E,QAAU,CAAE,eAApD,CAAqE,CACjE65E,YAAcE,UAAUprG,MAAMuQ,SAAN,CAAgB06F,SAAhB,CAA2B7rG,EAAI,CAA/B,EAAkCmO,IAAlC,EAAV,CAAd,CACA43B,WAAa/lC,CAAb,CACH,CACD,MACJ,IAAK,GAAG,eAAR,CACI,GAAI8rG,aAAe/lE,WAAa,CAA5B,EAAiC6lE,aAAe,CAAhD,EAAqD35E,QAAU,CAAE,eAArE,CAAsF,CAClF,GAAIg6E,UAAWrrG,MAAMuQ,SAAN,CAAgB40B,UAAhB,CAA4B/lC,EAAI,CAAhC,EAAmCmO,IAAnC,EAAf,CACA6K,OAAO8yF,WAAP,EAAsBC,eAAiBG,uBAAuBD,QAAvB,CAAjB,CAAoDA,QAA1E,CACAJ,UAAY7rG,CAAZ,CACA+lC,WAAa,CAAb,CACA+lE,YAAc,IAAd,CACAC,eAAiB,KAAjB,CACH,CACD,MA3CR,CA6CH,CACD,GAAID,aAAe/lE,UAAnB,CAA+B,CAC3B,GAAIkmE,UAAWrrG,MAAM88B,MAAN,CAAaqI,UAAb,EAAyB53B,IAAzB,EAAf,CACA6K,OAAO8yF,WAAP,EAAsBC,eAAiBG,uBAAuBD,QAAvB,CAAjB,CAAoDA,QAA1E,CACH,CACD,MAAOjzF,OAAP,CACH,CACD,QAASkzF,uBAAT,CAAgCtrG,KAAhC,CAAuC,CACnC,GAAIurG,IAAKvrG,MAAMgQ,UAAN,CAAiB,CAAjB,CAAT,CACA,GAAIw7F,IAAKxrG,MAAMgQ,UAAN,CAAiBhQ,MAAMT,MAAN,CAAe,CAAhC,CAAT,CACA,GAAIgsG,IAAMC,EAAN,GAAaD,IAAM,EAAG,iBAAT,EAA8BA,IAAM,EAAG,iBAApD,CAAJ,CAA4E,CACxE,GAAIE,WAAYzrG,MAAMuQ,SAAN,CAAgB,CAAhB,CAAmBvQ,MAAMT,MAAN,CAAe,CAAlC,CAAhB,CACA;AACA;AACA,GAAIksG,UAAU3qG,OAAV,CAAkB,IAAlB,GAA2B,CAAC,CAA5B,EAAiC2qG,UAAU3qG,OAAV,CAAkB,GAAlB,GAA0B,CAAC,CAAhE,CAAmE,CAC/Dd,MAAQyrG,SAAR,CACH,CACJ,CACD,MAAOzrG,MAAP,CACH,CACD,QAASorG,UAAT,CAAmBprG,KAAnB,CAA0B,CACtB,MAAOA,OAAM+M,OAAN,CAAc,aAAd,CAA6B,SAAUkG,CAAV,CAAa,CAC7C,MAAOA,GAAEy4F,MAAF,CAAS,CAAT,EAAc,GAAd,CAAoBz4F,EAAEy4F,MAAF,CAAS,CAAT,CAA3B,CACH,CAFM,EAEJxoG,WAFI,EAAP,CAGH,CAED;;;;;;OAOA,QAASyoG,wBAAT,CAAiCl7F,IAAjC,CAAuC,CACnC,OAAQA,IAAR,EACI,IAAK,EAAE,cAAP,CACI,MAAOmuF,eAAcS,eAArB,CACJ,IAAK,EAAE,eAAP,CACI,MAAOT,eAAcU,gBAArB,CACJ,IAAK,EAAE,WAAP,CACI,MAAOV,eAAcW,gBAArB,CACJ,QACI,MAAOr2F,UAAP,CARR,CAUH,CACD;AACA,QAAS0iG,sBAAT,CAA+B51C,KAA/B,CAAsClH,UAAtC,CAAkD,CAC9C,MAAO4F,QAAOV,SAASyvC,YAAT,EAAuBt4C,UAAvB,CAAkC0J,QAAQmB,KAAR,CAAlC,CAAkD,IAAlD,CAAwD,KAAxD,CAAP,CAAuElH,UAAvE,CAAP,CACH,CACD,GAAI+8C,2BAA4B,aAAe,UAAY,CACvD,QAASA,0BAAT,CAAmCnH,YAAnC,CAAiDoH,gBAAjD,CAAmEC,kBAAnE,CAAuFjuE,KAAvF,CAA8FkuE,WAA9F,CAA2G73F,YAA3G,CAAyHyF,WAAzH,CAAsIqyF,gBAAtI,CAAwJ14F,UAAxJ,CAAoK24F,cAApK,CAAoLpwF,KAApL,CAA2LqwF,UAA3L,CAAuM,CACnM,GAAIruE,QAAU,IAAK,EAAnB,CAAsB,CAAEA,MAAQ,CAAR,CAAY,CACpC,GAAIn7B,OAAQ,IAAZ,CACA,KAAK+hG,YAAL,CAAoBA,YAApB,CACA,KAAKoH,gBAAL,CAAwBA,gBAAxB,CACA,KAAKhuE,KAAL,CAAaA,KAAb,CACA,KAAKkuE,WAAL,CAAmBA,WAAnB,CACA,KAAK73F,YAAL,CAAoBA,YAApB,CACA,KAAKyF,WAAL,CAAmBA,WAAnB,CACA,KAAKqyF,gBAAL,CAAwBA,gBAAxB,CACA,KAAK14F,UAAL,CAAkBA,UAAlB,CACA,KAAK24F,cAAL,CAAsBA,cAAtB,CACA,KAAKpwF,KAAL,CAAaA,KAAb,CACA,KAAKqwF,UAAL,CAAkBA,UAAlB,CACA,KAAKC,UAAL,CAAkB,CAAlB,CACA,KAAKC,eAAL,CAAuB,CAAvB,CACA,KAAKC,WAAL,CAAmB,EAAnB,CACA,KAAKC,aAAL,CAAqB,EAArB,CACA,KAAKC,aAAL,CAAqB,EAArB,CACA,KAAKC,YAAL,CAAoB,EAApB,CACA,KAAKC,YAAL,CAAoB,EAApB,CACA,KAAKC,YAAL,CAAoB1I,WAApB,CACA;AACA,KAAK2I,cAAL,CAAsB,KAAtB,CACA,KAAKC,iBAAL,CAAyB,CAAC,CAA1B,CACA;AACA,KAAKC,cAAL,CAAsB,CAAC,EAAD,CAAtB,CACA;AACA,KAAKC,kBAAL,CAA0B,CAA1B,CACA;AACA,KAAKj6F,cAAL,CAAsBqxF,SAAtB,CACA,KAAKjxF,aAAL,CAAqBixF,SAArB,CACA,KAAK+C,kBAAL,CAA0B/C,SAA1B,CACA,KAAKkD,mBAAL,CAA2BlD,SAA3B,CACA,KAAKoD,eAAL,CAAuBpD,SAAvB,CACA;AACA;AACA,KAAKiI,UAAL,CAAkBxyF,YAAYra,MAA9B,CACA,KAAKytG,aAAL,CACIjB,mBAAmBkB,WAAnB,CAA+B,SAAUC,MAAV,CAAkBxtF,UAAlB,CAA8B,CACzD/c,MAAM8pG,YAAN,CAAmBnsG,IAAnB,CAAwB4sG,OAAOxlG,GAAP,CAAWgY,UAAX,EAAuBwtC,UAAvB,CAAkClF,aAAlC,CAAiD,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAAjD,CAAxB,EACH,CAFD,CADJ,CAIA,KAAKgiC,eAAL,CAAuB,GAAIC,eAAJ,CAAmB1I,YAAnB,CAAiC,UAAY,CAAE,MAAO/hG,OAAM0qG,gBAAN,EAAP,CAAkC,CAAjF,CAAmF,SAAUC,QAAV,CAAoB,CAAE,MAAO3qG,OAAMoqG,kBAAN,EAA4BO,QAAnC,CAA8C,CAAvJ,CAAyJ,SAAUjqG,IAAV,CAAgB5B,SAAhB,CAA2B8rG,IAA3B,CAAiCvtG,KAAjC,CAAwC,CACpN,GAAI4gE,UAAWsrC,eAAezkG,GAAf,CAAmBpE,IAAnB,CAAf,CACA,GAAIu9D,QAAJ,CAAc,CACVj+D,MAAMmZ,KAAN,CAAYQ,GAAZ,CAAgBskD,QAAhB,EACH,CACDj+D,MAAMqqG,aAAN,CAAoBtlG,GAApB,CAAwBjG,SAAxB,CAAmCzB,KAAnC,EACA2C,MAAM4pG,aAAN,CAAoBjsG,IAApB,CAAyB2zD,WAAW2qC,cAAchf,IAAzB,EAA+Bv2B,MAA/B,CAAsC,CAACwL,QAAQ04C,IAAR,CAAD,CAAgB14C,QAAQxxD,IAAR,CAAhB,CAAtC,EAAsE+oD,MAAtE,EAAzB,EACH,CAPsB,CAAvB,CAQH,CACDy/C,0BAA0B/sG,SAA1B,CAAoC0uG,qBAApC,CAA4D,SAAUltF,KAAV,CAAiBvM,SAAjB,CAA4By1F,YAA5B,CAA0C1wF,kBAA1C,CAA8D,CACtH,GAAI0wF,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,KAAf,CAAuB,CACtD,GAAI1wF,qBAAuB,IAAK,EAAhC,CAAmC,CAAEA,mBAAqB,EAArB,CAA0B,CAC/D,GAAIm8C,IAAJ,CAASpzD,EAAT,CAAa6vF,GAAb,CAAkB5vF,EAAlB,CACA,GAAI,KAAKqqG,UAAL,GAAoBvN,cAAcI,aAAtC,CAAqD,CACjD,KAAKyO,WAAL,CAAiB,KAAKlB,aAAtB,CAAqC,IAArC,CAA2C,KAAKJ,UAAhD,EACH,CACD,GAAI,CACA;AACA,IAAK,GAAIuB,aAAchuG,SAASqU,SAAT,CAAlB,CAAuC45F,cAAgBD,YAAY3tG,IAAZ,EAA5D,CAAgF,CAAC4tG,cAAc1tG,IAA/F,CAAqG0tG,cAAgBD,YAAY3tG,IAAZ,EAArH,CAAyI,CACrI,GAAI28F,aAAciR,cAAc3tG,KAAhC,CACA,GAAI4tG,cAAelR,YAAYr5F,IAA/B,CACA,GAAIqc,YAAas0C,SAAS,KAAK83C,gBAAd,EAAgC75F,IAAhC,CAAqCyqF,YAAY18F,KAAZ,EAAqB2jG,kBAA1D,CAAjB,CACA,GAAIkK,YAAa,KAAKb,aAAL,CAAmBc,kBAAnB,EAAjB,CACA;AACA,KAAKd,aAAL,CAAmBtlG,GAAnB,CAAuBkmG,YAAvB,CAAqC55C,SAAS45C,aAAeC,UAAxB,CAArC,CAA0EnuF,UAA1E,EACH,CACJ,CACD,MAAO01C,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CAXzC,OAYQ,CACJ,GAAI,CACA,GAAIu4C,eAAiB,CAACA,cAAc1tG,IAAhC,GAAyC4B,GAAK6rG,YAAYr4C,MAA1D,CAAJ,CAAuExzD,GAAGrC,IAAH,CAAQkuG,WAAR,EAC1E,CAFD,OAGQ,CAAE,GAAIz4C,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD;AACA,GAAIipG,YAAJ,CAAkB,CACd,GAAIjzC,YAAa,EAAjB,CACA;AACA,GAAIz9C,mBAAmBvZ,MAAnB,CAA4B,CAAhC,CAAmC,CAC/B,GAAIwuG,aAAcj1F,mBAAmBjR,GAAnB,CAAuB,SAAU1I,CAAV,CAAa,CAAE,MAAOsN,2BAA0BtN,CAA1B,CAAP,CAAsC,CAA5E,CAAlB,CACA;AACA,GAAI6uG,QAAS,KAAKtJ,YAAL,CAAkBzI,eAAlB,CAAkCmI,UAAU2J,WAAV,CAAlC,CAA0D,IAA1D,CAAb,CACA,GAAIE,UAAW,KAAKvJ,YAAL,CAAkBzI,eAAlB,CAAkCmI,UAAUtrF,kBAAV,CAAlC,CAAiE,IAAjE,CAAf,CACAy9C,WAAWj2D,IAAX,CAAgB0tG,MAAhB,CAAwBC,QAAxB,EACH,CACD,KAAKR,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAK+rG,aAAN,CAAqB,IAArB,CAA2B3N,cAAc8C,aAAzC,CAAT,CAAkEnrC,UAAlE,CAA7B,EACH,CACDyxC,WAAW,IAAX,CAAiB1nF,KAAjB,EACA,GAAI,KAAKysF,kBAAL,CAA0B,CAA9B,CAAiC,CAC7B,KAAKU,WAAL,CAAiB,KAAKlB,aAAtB,CAAqC,IAArC,CAA2C3N,cAAcoE,YAAzD,CAAuEnuC,QAAQ,KAAKk4C,kBAAb,CAAvE,EACH,CACD,GAAImB,cAAe,KAAK3B,aAAL,CAAmBhtG,MAAnB,CAA4B,CAA5B,CACf,CAACqsG,sBAAsB,CAAE,YAAxB,CAAsC,KAAKW,aAA3C,CAAD,CADe,CAEf,EAFJ,CAGA,GAAI4B,YAAa,KAAK1B,YAAL,CAAkBltG,MAAlB,CAA2B,CAA3B,CACb,CAACqsG,sBAAsB,CAAE,YAAxB,CAAsC,KAAKa,YAA3C,CAAD,CADa,CAEb,EAFJ,CAGA,GAAI,CACA;AACA;AACA,IAAK,GAAIvqG,IAAKxC,SAAS,KAAKotG,cAAd,CAAT,CAAwCzqG,GAAKH,GAAGnC,IAAH,EAAlD,CAA6D,CAACsC,GAAGpC,IAAjE,CAAuEoC,GAAKH,GAAGnC,IAAH,EAA5E,CAAuF,CACnF,GAAIquG,aAAc/rG,GAAGrC,KAArB,CACA,GAAI3B,OAAOiQ,IAAP,CAAY8/F,WAAZ,EAAyB7uG,MAAzB,CAAkC,CAAtC,CAAyC,CACrC,GAAIsuG,YAAa,KAAKb,aAAL,CAAmBc,kBAAnB,EAAjB,CACA,GAAIO,OAAQr6C,SAAS65C,UAAT,EACPnmG,GADO,CACH68F,gBAAgB6J,WAAhB,CAA6B,IAA7B,CADG,EAEPlhD,UAFO,CAEIlF,aAFJ,CAEmB,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAFnB,CAAZ,CAGA,KAAKmhC,WAAL,CAAiBhsG,IAAjB,CAAsB+tG,KAAtB,EACH,CACJ,CACJ,CACD,MAAOxc,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CAdzC,OAeQ,CACJ,GAAI,CACA,GAAIxvF,IAAM,CAACA,GAAGpC,IAAV,GAAmB6B,GAAKI,GAAGmzD,MAA3B,CAAJ,CAAwCvzD,GAAGtC,IAAH,CAAQ0C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAIwvF,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACD,MAAOotD,IAAG,CAAC,GAAIgB,QAAJ,CAAY80C,YAAZ,CAA0Bn7C,WAA1B,CAAD,CAAyC,GAAIqG,QAAJ,CAAY,KAAKm9C,gBAAjB,CAAmC,IAAnC,CAAzC,CAAH,CAAuFtrG,SAAS,KAAK8rG,WAAd,CAA2B4B,YAA3B,CAAyC,KAAK1B,aAA9C,CAA6D2B,UAA7D,CAAyE,KAAKzB,YAA9E,CAAvF,CAAoL1kD,aAApL,CAAmM,IAAnM,CAAyM,KAAK7zC,YAA9M,CAAP,CACH,CAtED,CAuEA;AACA03F,0BAA0B/sG,SAA1B,CAAoCgxF,QAApC,CAA+C,SAAUzsF,IAAV,CAAgB,CAAE,MAAO,MAAK2pG,aAAL,CAAmBvlG,GAAnB,CAAuBpE,IAAvB,CAAP,CAAsC,CAAvG,CACAwoG,0BAA0B/sG,SAA1B,CAAoC+oG,YAApC,CAAmD,SAAUyG,SAAV,CAAqB,CACpE,GAAIf,MAAO,KAAKF,gBAAL,EAAX,CACA,GAAIzF,eAAgB0G,UAAU1G,aAA9B,CACA,GAAIrxC,YAAa,CAAC1B,QAAQ04C,IAAR,CAAD,CAAjB,CACA,GAAIgB,iBAAkB,EAAtB,CACAD,UAAU13D,UAAV,CAAqB/zC,OAArB,CAA6B,SAAUyuC,SAAV,CAAqB,CAC9C,GAAIjuC,MAAOiuC,UAAUjuC,IAArB,CACA,GAAIA,OAAS,QAAb,CAAuB,CACnBkrG,gBAAgBjuG,IAAhB,CAAqB+C,IAArB,CAA2BiuC,UAAUtxC,KAArC,EACH,CACJ,CALD,EAMA,GAAIuuG,gBAAgBhvG,MAAhB,CAAyB,CAA7B,CAAgC,CAC5Bg3D,WAAWj2D,IAAX,CAAgBu0D,QAAQ+yC,aAAR,CAAhB,CAAwCxD,UAAUmK,eAAV,CAAxC,EACH,CAFD,IAGK,IAAI3G,gBAAkB,CAAtB,CAAyB,CAC1BrxC,WAAWj2D,IAAX,CAAgBu0D,QAAQ+yC,aAAR,CAAhB,EACH,CACD,KAAK6F,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAK+rG,aAAN,CAAqB+B,UAAUl9F,UAA/B,CAA2CwtF,cAAc6C,UAAzD,CAAT,CAA+ElrC,UAA/E,CAA7B,EACH,CAlBD,CAmBAs1C,0BAA0B/sG,SAA1B,CAAoC0vG,uBAApC,CAA8D,SAAUC,YAAV,CAAwB,CAClF,OAAQA,YAAR,EACI,IAAK,MAAL,CACI,MAAO7P,eAAcK,eAArB,CACJ,IAAK,KAAL,CACI,MAAOL,eAAcM,YAArB,CACJ,QACI,MAAON,eAAcI,aAArB,CANR,CAQH,CATD,CAUA6M,0BAA0B/sG,SAA1B,CAAoC4vG,uBAApC,CAA8D,SAAUC,aAAV,CAAyB7qG,OAAzB,CAAkC,CAC5F,KAAKqoG,UAAL,CAAkBwC,aAAlB,CACA,KAAKlB,WAAL,CAAiB,KAAKlB,aAAtB,CAAqCzoG,QAAQsN,UAA7C,CAAyDu9F,aAAzD,EACH,CAHD,CAIA9C,0BAA0B/sG,SAA1B,CAAoC+U,YAApC,CAAmD,SAAU/P,OAAV,CAAmB,CAClE,GAAInB,OAAQ,IAAZ,CACA,GAAIqvF,IAAJ,CAASnwF,EAAT,CAAaC,EAAb,CAAiBI,EAAjB,CACA,GAAI0sG,cAAe,KAAKvB,gBAAL,EAAnB,CACA,GAAIwB,oBAAqB,GAAI7oG,IAAJ,EAAzB,CACA,GAAI8oG,kBAAmB,KAAKlC,cAA5B,CACA,GAAImC,aAAc,EAAlB,CACA,GAAIC,eAAgB,EAApB,CACA,GAAIr5D,UAAW,EAAf,CACA,GAAItzC,IAAKnC,OAAOS,YAAYmD,QAAQT,IAApB,CAAP,CAAkC,CAAlC,CAAT,CAA+CorG,aAAepsG,GAAG,CAAH,CAA9D,CAAqEzB,YAAcyB,GAAG,CAAH,CAAnF,CACA;AACA;AACA,GAAI,KAAKuqG,cAAT,CAAyB,CACrB,GAAI/6D,QAAS/tC,QAAQT,IAAR,CAAaH,WAAb,EAAb,CACA,GAAI,CAAC,KAAK4pG,cAAL,CAAoB,KAAKD,iBAAzB,EAA4Ch7D,MAA5C,CAAL,CAA0D,CACtD,KAAKi7D,cAAL,CAAoB,KAAKD,iBAAzB,EAA4Ch7D,MAA5C,EAAsD,EAAtD,CACH,CACD,KAAKi7D,cAAL,CAAoB,KAAKD,iBAAzB,EAA4Ch7D,MAA5C,EAAoDvxC,IAApD,CAAyDsuG,YAAzD,EACH,CACD,GAAI,CACA;AACA,IAAK,GAAIrsG,IAAK7C,SAASoE,QAAQ8yC,UAAjB,CAAT,CAAuCn0C,GAAKF,GAAGxC,IAAH,EAAjD,CAA4D,CAAC0C,GAAGxC,IAAhE,CAAsEwC,GAAKF,GAAGxC,IAAH,EAA3E,CAAsF,CAClF,GAAIwjB,MAAO9gB,GAAGzC,KAAd,CACA,GAAI4F,QAAS2d,KAAKlgB,IAAlB,CACA,GAAIrD,OAAQujB,KAAKvjB,KAAjB,CACA,GAAI4F,SAAWg+F,SAAf,CAA0B,CACtB,GAAI,KAAKgJ,cAAT,CAAyB,CACrB,KAAM,IAAI7rG,MAAJ,CAAU,4EAAV,CAAN,CACH,CACD,KAAK6rG,cAAL,CAAsB,IAAtB,CACA,KAAKC,iBAAL,GACA,KAAKC,cAAL,CAAoB,KAAKD,iBAAzB,EAA8C,EAA9C,CACAl3D,SAAW31C,KAAX,CACH,CARD,IASK,IAAI4F,OAAO6wC,UAAP,CAAkBotD,gBAAlB,CAAJ,CAAyC,CAC1CmL,cAAcppG,OAAO5E,KAAP,CAAa6iG,iBAAiBtkG,MAA9B,CAAd,EAAuDS,KAAvD,CACH,CAFI,IAGA,CACD+uG,YAAYnpG,MAAZ,EAAsB5F,KAAtB,CACH,CACJ,CACJ,CACD,MAAOwyF,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CAvBzC,OAwBQ,CACJ,GAAI,CACA,GAAI/vF,IAAM,CAACA,GAAGxC,IAAV,GAAmB4B,GAAKU,GAAG8yD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQ+C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAIyvF,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACD;AACA,GAAI,KAAK0rG,gBAAT,CAA2B,CACvB,GAAI9nG,UAAW8qG,kBAAkBnrG,QAAQT,IAA1B,CAAgC0rG,WAAhC,CAAf,CACA,KAAK9C,gBAAL,CAAsBxnG,KAAtB,CAA4BN,QAA5B,CAAsC,SAAU+qG,GAAV,CAAeC,UAAf,CAA2B,CAAExsG,MAAM4Q,UAAN,CAAiB+I,GAAjB,CAAqB6yF,UAArB,EAAmC,CAAtG,EACH,CACD;AACA,GAAI54C,YAAa,CACb1B,QAAQ+5C,YAAR,CADa,CAEb/5C,QAAQj0D,WAAR,CAFa,CAAjB,CAIA;AACA,GAAIwuG,cAAe,EAAnB,CACA,GAAIx4D,YAAa,EAAjB,CACA,GAAIy4D,0BAA2B,EAA/B,CACA,GAAIC,0BAA2B,EAA/B,CACA,GAAIC,aAAc,EAAlB,CACA,GAAIC,aAAc,EAAlB,CACA,GAAIC,gBAAiB,EAArB,CACA3rG,QAAQsP,MAAR,CAAevQ,OAAf,CAAuB,SAAUiK,KAAV,CAAiB,CACpC,OAAQA,MAAM2D,IAAd,EACI;AACA;AACA;AACA;AACA;AACA,IAAK,EAAE,cAAP,CACI,GAAI3D,MAAMzJ,IAAN,EAAc,OAAlB,CAA2B,CACvB;AACAksG,YAAYtmE,MAAZ,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBn8B,KAAzB,EACH,CAHD,IAIK,IAAI4iG,eAAe5iG,KAAf,CAAJ,CAA2B,CAC5B;AACA0iG,YAAYvmE,MAAZ,CAAmB,CAAnB,CAAsB,CAAtB,CAAyBn8B,KAAzB,EACH,CAHI,IAIA,CACD2iG,eAAenvG,IAAf,CAAoBwM,KAApB,EACH,CACD,MACJ,IAAK,EAAE,WAAP,CACIyiG,YAAYjvG,IAAZ,CAAiBwM,KAAjB,EACA,MACJ,IAAK,EAAE,WAAP,CACI0iG,YAAYlvG,IAAZ,CAAiBwM,KAAjB,EACA,MACJ,QACI2iG,eAAenvG,IAAf,CAAoBwM,KAApB,EACA,MA3BR,CA6BH,CA9BD,EA+BA,GAAI6iG,gBAAiB,CAArB,CACA,GAAIC,gBAAiB,CAArB,CACA,GAAIC,iBAAkB,IAAtB,CACA,GAAIC,kBAAmB,IAAvB,CACA,GAAIC,gBAAiB,EAArB,CACA,GAAIC,iBAAkB,EAAtB,CACA3xG,OAAOimG,mBAAP,CAA2ByK,WAA3B,EAAwClsG,OAAxC,CAAgD,SAAUQ,IAAV,CAAgB,CAC5D,GAAIrD,OAAQ+uG,YAAY1rG,IAAZ,CAAZ,CACA,GAAIA,MAAQ,OAAZ,CAAqB,CACjBwsG,gBAAkB9E,WAAW/qG,KAAX,CAAlB,CACA3B,OAAOiQ,IAAP,CAAYuhG,eAAZ,EAA6BhtG,OAA7B,CAAqC,SAAUoP,IAAV,CAAgB,CAAE89F,eAAe99F,IAAf,EAAuB09F,gBAAvB,CAA0C,CAAjG,EACH,CAHD,IAIK,IAAItsG,MAAQ,OAAZ,CAAqB,CACtBysG,iBAAmB,EAAnB,CACA9vG,MAAM6Q,KAAN,CAAY,MAAZ,EAAoBhO,OAApB,CAA4B,SAAUwE,SAAV,CAAqB,CAC7C2oG,gBAAgB3oG,SAAhB,EAA6BuoG,gBAA7B,CACAE,iBAAiBzoG,SAAjB,EAA8B,IAA9B,CACH,CAHD,EAIH,CANI,IAOA,CACDuvC,WAAWt2C,IAAX,CAAgBu0D,QAAQxxD,IAAR,CAAhB,EACA,GAAI2rG,cAActwG,cAAd,CAA6B2E,IAA7B,CAAJ,CAAwC,CACpC,GAAI6a,MAAO+xF,cAAcjB,cAAc3rG,IAAd,CAAd,CAAX,CACA,GAAIq5F,aAAc/5F,MAAM+hG,YAAN,CAAmBnI,cAAnB,CAAkCv8F,KAAlC,CAAyCke,IAAzC,CAAlB,CACA04B,WAAWt2C,IAAX,CAAgBo8F,WAAhB,EACH,CAJD,IAKK,CACD9lD,WAAWt2C,IAAX,CAAgBu0D,QAAQ70D,KAAR,CAAhB,EACH,CACJ,CACJ,CAxBD,EAyBA,GAAIkwG,oBAAqB,KAAzB,CACA,IAAK,GAAI9wG,GAAI,CAAb,CAAgBA,EAAImwG,YAAYhwG,MAAhC,CAAwCH,GAAxC,CAA6C,CACzC,GAAI0N,OAAQyiG,YAAYnwG,CAAZ,CAAZ,CACA,GAAI+wG,wBAAyB/wG,IAAM,CAAN,EAAW0N,MAAMzJ,IAAN,GAAe,OAAvD,CACA,GAAI8sG,sBAAJ,CAA4B,CACxBD,mBAAqB,IAArB,CACH,CAFD,IAGK,IAAI,CAACH,eAAerxG,cAAf,CAA8BoO,MAAMzJ,IAApC,CAAL,CAAgD,CACjD0sG,eAAejjG,MAAMzJ,IAArB,EAA6BssG,gBAA7B,CACH,CACJ,CACD,IAAK,GAAIvwG,GAAI,CAAb,CAAgBA,EAAIowG,YAAYjwG,MAAhC,CAAwCH,GAAxC,CAA6C,CACzC,GAAI0N,OAAQ0iG,YAAYpwG,CAAZ,CAAZ,CACA,GAAIgxG,wBAAyBhxG,IAAM,CAAN,EAAWswG,eAAe5iG,KAAf,CAAxC,CACA,GAAI,CAACsjG,sBAAD,EAA2B,CAACL,eAAerxG,cAAf,CAA8BoO,MAAMzJ,IAApC,CAAhC,CAA2E,CACvE2sG,gBAAgBljG,MAAMzJ,IAAtB,EAA8BusG,gBAA9B,CACH,CACJ,CACD;AACA;AACA;AACA;AACA,GAAIS,0BAA2BH,kBAA/B,CACA;AACA;AACA7xG,OAAOiQ,IAAP,CAAYyhG,cAAZ,EAA4BltG,OAA5B,CAAoC,SAAUoP,IAAV,CAAgB,CAChDo+F,yBAA2BA,0BAA4BC,mBAAmBr+F,IAAnB,CAAvD,CACAo9F,yBAAyB/uG,IAAzB,CAA8Bu0D,QAAQ5iD,IAAR,CAA9B,EACH,CAHD,EAIA,GAAI49F,eAAJ,CAAqB,CACjBR,yBAAyB/uG,IAAzB,CAA8Bu0D,QAAQ,CAAE,iBAAV,CAA9B,EACAx2D,OAAOiQ,IAAP,CAAYuhG,eAAZ,EAA6BhtG,OAA7B,CAAqC,SAAUoP,IAAV,CAAgB,CACjDo9F,yBAAyB/uG,IAAzB,CAA8Bu0D,QAAQ5iD,IAAR,CAA9B,EACA,GAAIjS,OAAQ6vG,gBAAgB59F,IAAhB,CAAZ,CACAo9F,yBAAyB/uG,IAAzB,CAA8Bu0D,QAAQ70D,KAAR,CAA9B,EACH,CAJD,EAKH,CACD3B,OAAOiQ,IAAP,CAAY0hG,eAAZ,EAA6BntG,OAA7B,CAAqC,SAAUoP,IAAV,CAAgB,CACjDq9F,yBAAyBhvG,IAAzB,CAA8Bu0D,QAAQ5iD,IAAR,CAA9B,EACH,CAFD,EAGA,GAAI69F,gBAAJ,CAAsB,CAClBR,yBAAyBhvG,IAAzB,CAA8Bu0D,QAAQ,CAAE,iBAAV,CAA9B,EACAx2D,OAAOiQ,IAAP,CAAYwhG,gBAAZ,EAA8BjtG,OAA9B,CAAsC,SAAUwE,SAAV,CAAqB,CACvDioG,yBAAyBhvG,IAAzB,CAA8Bu0D,QAAQxtD,SAAR,CAA9B,EACAioG,yBAAyBhvG,IAAzB,CAA8Bu0D,QAAQ,IAAR,CAA9B,EACH,CAHD,EAIH,CACD,GAAI07C,wBAAyBlB,yBAAyB9vG,MAAzB,EAAmCgwG,YAAYhwG,MAA/C,EACzB+vG,yBAAyB/vG,MADA,EACUiwG,YAAYjwG,MADnD,CAEA,GAAIixG,SAAU55D,WAAWr3C,MAAX,CAAoB,CAApB,CACV,KAAKmlG,YAAL,CAAkBzI,eAAlB,CAAkC3nC,WAAW1d,UAAX,CAAlC,CAA0D,IAA1D,CADU,CAEVqV,eAFJ,CAGAsK,WAAWj2D,IAAX,CAAgBkwG,OAAhB,EACA,GAAI1sG,QAAQwP,UAAR,EAAsBxP,QAAQwP,UAAR,CAAmB/T,MAAnB,CAA4B,CAAtD,CAAyD,CACrD,GAAI+T,YAAa2F,QAAQnV,QAAQwP,UAAR,CAAmBzL,GAAnB,CAAuB,SAAUwP,SAAV,CAAqB,CACjE,GAAIk2F,MAAO5qG,MAAM0qG,gBAAN,EAAX,CACAwB,mBAAmBnnG,GAAnB,CAAuB2P,UAAUhU,IAAjC,CAAuCkqG,IAAvC,EACA;AACA,GAAIK,cAAejrG,MAAMqqG,aAAN,CAAoBc,kBAApB,EAAnB,CACAnrG,MAAM6pG,aAAN,CAAoBlsG,IAApB,CAAyB0zD,SAAS45C,YAAT,CAAuB5lD,aAAvB,EACpBtgD,GADoB,CAChBusD,WAAW2qC,cAAchjD,IAAzB,EAA+ByN,MAA/B,CAAsC,CAACwL,QAAQ04C,IAAR,CAAD,CAAtC,CADgB,EAEpBrgD,UAFoB,CAETlF,aAFS,CAEM,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAFN,CAAzB,EAGAxoE,MAAMqqG,aAAN,CAAoBtlG,GAApB,CAAwB2P,UAAUhU,IAAlC,CAAwC2wD,SAAS45C,YAAT,CAAxC,EACA,MAAO,CAACv2F,UAAUhU,IAAX,CAAiBgU,UAAUrX,KAA3B,CAAP,CACH,CAVwB,CAAR,CAAjB,CAWAu2D,WAAWj2D,IAAX,CAAgB,KAAKokG,YAAL,CAAkBzI,eAAlB,CAAkCmI,UAAU9wF,UAAV,CAAlC,CAAyD,IAAzD,CAAhB,EACH,CAbD,IAcK,CACDijD,WAAWj2D,IAAX,CAAgB2rD,eAAhB,EACH,CACD;AACA,GAAImjD,aAAa7vG,MAAb,CAAsB,CAA1B,CAA6B,CACzB,CAACuC,GAAK,KAAKyqG,aAAX,EAA0BjsG,IAA1B,CAA+Bb,KAA/B,CAAqCqC,EAArC,CAAyCtB,SAAS4uG,YAAT,CAAzC,EACH,CACD,GAAIqB,gBAAiB,KAAKtE,UAA1B,CACA,GAAIuE,kBAAmB,KAAKlC,uBAAL,CAA6BC,YAA7B,CAAvB,CACA;AACA;AACA,GAAIiC,mBAAqBD,cAAzB,CAAyC,CACrC,KAAK/B,uBAAL,CAA6BgC,gBAA7B,CAA+C5sG,OAA/C,EACH,CACD,GAAI6sG,UAAW38C,SAASwvC,YAAT,CAAf,CACA,GAAIoN,8BAA+B,CAACL,sBAAD,EAA2BzsG,QAAQ6P,QAAR,CAAiBpU,MAAjB,GAA4B,CAAvD,EAA4DuE,QAAQuP,OAAR,CAAgB9T,MAAhB,GAA2B,CAA1H,CACA,GAAIqxG,4BAAJ,CAAkC,CAC9B,KAAKnD,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAK+rG,aAAN,CAAqBzoG,QAAQsN,UAA7B,CAAyCwtF,cAAc96F,OAAvD,CAAT,CAA0E0gG,kBAAkBjuC,UAAlB,CAA1E,CAA7B,EACH,CAFD,IAGK,CACD;AACA,GAAI64C,aAAa7vG,MAAb,CAAsB,CAA1B,CAA6B,CACzB,CAAC2C,GAAK,KAAKqqG,aAAX,EAA0BjsG,IAA1B,CAA+Bb,KAA/B,CAAqCyC,EAArC,CAAyC1B,SAAS4uG,YAAT,CAAzC,EACH,CACD,KAAK3B,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAK+rG,aAAN,CAAqBzoG,QAAQsN,UAA7B,CAAyCwtF,cAAcO,YAAvD,CAAT,CAA+EqF,kBAAkBjuC,UAAlB,CAA/E,CAA7B,EACA;AACA,GAAIg6C,sBAAJ,CAA4B,CACxB,GAAIM,YAAa,EAAjB,CACA,GAAIvB,yBAAyB/vG,MAA7B,CAAqC,CACjC;AACA;AACA;AACA;AACAsxG,WAAWvwG,IAAX,CAAgB,KAAKokG,YAAL,CAAkBzI,eAAlB,CAAkC3nC,WAAWg7C,wBAAX,CAAlC,CAAwE,IAAxE,CAAhB,EACH,CAND,IAOK,IAAID,yBAAyB9vG,MAAzB,EAAmC8wG,wBAAvC,CAAiE,CAClE;AACAQ,WAAWvwG,IAAX,CAAgBgwD,SAAhB,EACH,CACD,GAAI++C,yBAAyB9vG,MAA7B,CAAqC,CACjC;AACA;AACA;AACA;AACAsxG,WAAWvwG,IAAX,CAAgB,KAAKokG,YAAL,CAAkBzI,eAAlB,CAAkC3nC,WAAW+6C,wBAAX,CAAlC,CAAwE,IAAxE,CAAhB,EACH,CAND,IAOK,IAAIgB,wBAAJ,CAA8B,CAC/B;AACAQ,WAAWvwG,IAAX,CAAgBgwD,SAAhB,EACH,CACD,GAAI+/C,wBAAJ,CAA8B,CAC1BQ,WAAWvwG,IAAX,CAAgB2zD,WAAW2qC,cAAcuE,qBAAzB,CAAhB,EACH,CACD,KAAKoJ,aAAL,CAAmBjsG,IAAnB,CAAwB2zD,WAAW2qC,cAAcY,cAAzB,EAAyCn2C,MAAzC,CAAgDwnD,UAAhD,EAA4DzkD,MAA5D,EAAxB,EACH,CACD;AACAtoD,QAAQuP,OAAR,CAAgBxQ,OAAhB,CAAwB,SAAUswF,SAAV,CAAqB,CACzC,GAAI/M,QAASnvE,mBAAmBnT,QAAQT,IAA3B,CAAb,CACA,GAAIytG,QAAS75F,mBAAmBk8E,UAAU9vF,IAA7B,CAAb,CACA,GAAI0tG,cAAepuG,MAAMwR,YAAN,CAAqB,GAArB,CAA2BiyE,MAA3B,CAAoC,GAApC,CAA0C0qB,MAA1C,CAAmD,WAAtE,CACA,GAAIE,WAAY,EAAhB,CACA,GAAIC,cAAetuG,MAAMqqG,aAAN,CAAoBC,WAApB,CAAgC,SAAUC,MAAV,CAAkBgE,aAAlB,CAAiC,CAChFF,UAAU1wG,IAAV,CAAe4sG,OAAOxlG,GAAP,CAAWwpG,aAAX,EAA0BhkD,UAA1B,CAAqClF,aAArC,CAAoD,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAApD,CAAf,EACH,CAFkB,CAAnB,CAGA,GAAIgmC,aAAc9kB,qBAAqB4kB,YAArB,CAAmCN,QAAnC,CAA6Cxd,UAAU7gF,OAAvD,CAAgE,GAAhE,CAAqE,UAAY,CAAE,MAAO/R,OAAM,0BAAN,CAAP,CAA2C,CAA9H,CAAlB,CACA,GAAI+R,SAAUq7C,GAAG,CAAC,GAAIgB,QAAJ,CAAY,QAAZ,CAAsB7G,YAAtB,CAAD,CAAH,CAA0CtnD,SAASwwG,SAAT,CAAoBG,YAAYhlB,YAAhC,CAA1C,CAAyFnkC,aAAzF,CAAwG,IAAxG,CAA8G+oD,YAA9G,CAAd,CACApuG,MAAM8qG,WAAN,CAAkB9qG,MAAM4pG,aAAxB,CAAuCpZ,UAAU/hF,UAAjD,CAA6DwtF,cAAcmE,QAA3E,CAAqFluC,QAAQs+B,UAAU9vF,IAAlB,CAArF,CAA8GiP,OAA9G,EACH,CAXD,EAYH,CACD,GAAI,CAACi9F,YAAYhwG,MAAZ,EAAsBiwG,YAAYjwG,MAAnC,GAA8CgxG,sBAAlD,CAA0E,CACtE,GAAIa,cAAev8C,QAAQ+5C,YAAR,CAAnB,CACA,GAAIyC,YAAa9B,YAAY,CAAZ,CAAjB,CACA,GAAI+B,oBAAqBD,YAAcA,WAAWhuG,IAAX,EAAmB,OAAjC,CAA2CguG,UAA3C,CAAwD,IAAjF,CACA,GAAIE,YAAa/B,YAAY,CAAZ,CAAjB,CACA,GAAIgC,oBAAqBD,YAAc7B,eAAe6B,UAAf,CAAd,CAA2CA,UAA3C,CAAwD,IAAjF,CACA,GAAIE,cAAeH,oBAAsBE,kBAAzC,CACA,GAAIC,YAAJ,CAAkB,CACd,GAAItoD,QAAS,EAAb,CACA,GAAIqoD,kBAAJ,CAAwB,CACpBroD,OAAO7oD,IAAP,CAAY,KAAK4tF,sBAAL,CAA4ByiB,QAA5B,CAAsCa,mBAAmBxxG,KAAzD,CAAgE,IAAhE,CAAZ,EACH,CAFD,IAGK,IAAIsxG,kBAAJ,CAAwB,CACzBnoD,OAAO7oD,IAAP,CAAYgwD,SAAZ,EACH,CACD,GAAIghD,kBAAJ,CAAwB,CACpBnoD,OAAO7oD,IAAP,CAAY,KAAK4tF,sBAAL,CAA4ByiB,QAA5B,CAAsCW,mBAAmBtxG,KAAzD,CAAgE,IAAhE,CAAZ,EACH,CACD,KAAKytG,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAKisG,YAAN,CAAoBgF,aAAargG,UAAjC,CAA6CwtF,cAAca,iBAA3D,CAA8E2R,YAA9E,CAAT,CAAsGjoD,MAAtG,CAA7B,EACH,CACD,GAAIuoD,kBAAmB,IAAvB,CACA,GAAInC,YAAYhwG,MAAhB,CAAwB,CACpB,GAAIH,GAAIkyG,mBAAqB,CAArB,CAAyB,CAAjC,CACA,IAAKlyG,CAAL,CAAQA,EAAImwG,YAAYhwG,MAAxB,CAAgCH,GAAhC,CAAqC,CACjC,GAAI0N,OAAQyiG,YAAYnwG,CAAZ,CAAZ,CACA,GAAIuyG,kBAAmB,KAAKzjB,sBAAL,CAA4ByiB,QAA5B,CAAsC7jG,MAAM9M,KAA5C,CAAmD,IAAnD,CAAvB,CACA,GAAImpD,QAAS,CAACwoD,gBAAD,CAAb,CACA,GAAIC,iBAAkBC,sBAAsB/kG,KAAtB,CAA6BA,MAAM+E,eAAnC,CAAtB,CACA,GAAI+/F,eAAJ,CAAqB,CACjBzoD,OAAO7oD,IAAP,CAAYsxG,eAAZ,EACH,CACD,GAAIrjG,KAAMzB,MAAMzJ,IAAhB,CACA,GAAIyuG,YAAa/B,eAAexhG,GAAf,CAAjB,CACA,KAAKk/F,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAKisG,YAAN,CAAoB3/F,MAAMsE,UAA1B,CAAsCwtF,cAAcc,gBAApD,CAAsE0R,YAAtE,CAClCv8C,QAAQi9C,UAAR,CADkC,CAAT,CACH3oD,MADG,CAA7B,EAEH,CACDuoD,iBAAmBnC,YAAYA,YAAYhwG,MAAZ,CAAqB,CAAjC,CAAnB,CACH,CACD,GAAIiwG,YAAYjwG,MAAhB,CAAwB,CACpB,GAAIH,GAAIoyG,mBAAqB,CAArB,CAAyB,CAAjC,CACA,IAAKpyG,CAAL,CAAQA,EAAIowG,YAAYjwG,MAAxB,CAAgCH,GAAhC,CAAqC,CACjC,GAAI0N,OAAQ0iG,YAAYpwG,CAAZ,CAAZ,CACA,GAAIuyG,kBAAmB,KAAKzjB,sBAAL,CAA4ByiB,QAA5B,CAAsC7jG,MAAM9M,KAA5C,CAAmD,IAAnD,CAAvB,CACA,GAAImpD,QAAS,CAACwoD,gBAAD,CAAb,CACA,GAAIC,iBAAkBC,sBAAsB/kG,KAAtB,CAA6BA,MAAM+E,eAAnC,CAAtB,CACA,GAAI+/F,eAAJ,CAAqB,CACjBzoD,OAAO7oD,IAAP,CAAYsxG,eAAZ,EACH,CACD,GAAIrjG,KAAMzB,MAAMzJ,IAAhB,CACA,GAAI0uG,YAAa/B,gBAAgBzhG,GAAhB,CAAjB,CACA,KAAKk/F,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAKisG,YAAN,CAAoB3/F,MAAMsE,UAA1B,CAAsCwtF,cAAcW,gBAApD,CAAsE6R,YAAtE,CAClCv8C,QAAQk9C,UAAR,CADkC,CAAT,CACH5oD,MADG,CAA7B,EAEH,CACDuoD,iBAAmBlC,YAAYA,YAAYjwG,MAAZ,CAAqB,CAAjC,CAAnB,CACH,CACD,KAAKkuG,WAAL,CAAiB,KAAKhB,YAAtB,CAAoCiF,iBAAiBtgG,UAArD,CAAiEwtF,cAAce,mBAA/E,CAAoGyR,YAApG,EACH,CACD;AACA3B,eAAe5sG,OAAf,CAAuB,SAAUiK,KAAV,CAAiB,CACpC,GAAIA,MAAM2D,IAAN,GAAe,CAAE,eAArB,CAAsC,CAClCkkC,QAAQp0C,KAAR,CAAc,+CAAd,EACA,OACH,CACD,GAAIoxG,kBAAmBhvG,MAAMurF,sBAAN,CAA6ByiB,QAA7B,CAAuC7jG,MAAM9M,KAA7C,CAAvB,CACA,GAAIytG,aAAc9B,wBAAwB7+F,MAAM2D,IAA9B,CAAlB,CACA,GAAIg9F,WAAJ,CAAiB,CACb,GAAItkD,QAAS,CAACwoD,gBAAD,CAAb,CACA,GAAIC,iBAAkBC,sBAAsB/kG,KAAtB,CAA6BA,MAAM+E,eAAnC,CAAtB,CACA,GAAI+/F,eAAJ,CAAqB,CACjBzoD,OAAO7oD,IAAP,CAAYsxG,eAAZ,EACH,CACD;AACAjvG,MAAM8qG,WAAN,CAAkBhuG,KAAlB,CAAwBkD,KAAxB,CAA+BnC,SAAS,CAACmC,MAAM8pG,YAAP,CAAqB3/F,MAAMsE,UAA3B,CAAuCq8F,WAAvC,CAAoD54C,QAAQ+5C,YAAR,CAApD,CACpC/5C,QAAQ/nD,MAAMzJ,IAAd,CADoC,CAAT,CACL8lD,MADK,CAA/B,EAEH,CATD,IAUK,CACDxmD,MAAMgqG,YAAN,CAAmB,gBAAkB7/F,MAAM2D,IAA3C,EACH,CACJ,CApBD,EAqBA;AACA,GAAI,KAAKm8F,cAAL,EAAuB9oG,QAAQ6P,QAAR,CAAiBpU,MAAjB,EAA2B,CAAlD,EACAuE,QAAQ6P,QAAR,CAAiB,CAAjB,WAA+BozF,OADnC,CAC2C,CACvC,GAAIp5E,MAAO7pB,QAAQ6P,QAAR,CAAiB,CAAjB,CAAX,CACA,KAAKq+F,wBAAL,CAA8BrkF,IAA9B,CAAoCgoB,QAApC,EACH,CAJD,IAKK,CACDqyD,WAAW,IAAX,CAAiBlkG,QAAQ6P,QAAzB,EACH,CACD,GAAI,CAACi9F,4BAAL,CAAmC,CAC/B;AACA,KAAKnD,WAAL,CAAiB,KAAKlB,aAAtB,CAAqCzoG,QAAQ8P,aAAR,EAAyB9P,QAAQsN,UAAtE,CAAkFwtF,cAAcQ,UAAhG,EACH,CACD;AACA,KAAKwN,cAAL,CAAsBkC,gBAAtB,CACH,CAvWD,CAwWAjD,0BAA0B/sG,SAA1B,CAAoC4oG,aAApC,CAAoD,SAAUjvF,QAAV,CAAoB,CACpE,GAAI9V,OAAQ,IAAZ,CACA,GAAIsvG,eAAgB,KAAK5E,gBAAL,EAApB,CACA,GAAIjnB,QAAS,EAAb,CACA,GAAI3tE,SAAS9E,QAAT,CAAkBpU,MAAlB,GAA6B,CAA7B,EAAkCkZ,SAAS9E,QAAT,CAAkB,CAAlB,WAAgC6zF,UAAtE,CAAiF,CAC7E;AACAphB,OAASnvE,mBAAmBwB,SAAS9E,QAAT,CAAkB,CAAlB,EAAqBtQ,IAAxC,CAAT,CACH,CACD,GAAI2oG,aAAc5lB,OAAS,KAAK4lB,WAAL,CAAmB,GAAnB,CAAyB5lB,MAAlC,CAA2C,EAA7D,CACA,GAAIjyE,cAAe63F,YAAcA,YAAc,YAAd,CAA6BiG,aAA3C,CAA2D,YAAcA,aAA5F,CACA,GAAIC,iBAAkB,MAAQ,KAAKp0E,KAAnC,CACA,GAAIy4B,YAAa,CACb1B,QAAQo9C,aAAR,CADa,CAEbj+C,SAAS7/C,YAAT,CAFa,CAGb83C,eAHa,CAAjB,CAKA,GAAIkmD,gBAAiB,EAArB,CACA,GAAIC,cAAe,EAAnB,CACA35F,SAASm+B,UAAT,CAAoB/zC,OAApB,CAA4B,SAAUslB,CAAV,CAAa,CACrCgqF,eAAe7xG,IAAf,CAAoB8jG,UAAUj8E,EAAE9kB,IAAZ,CAApB,CAAuC+gG,UAAU,EAAV,CAAvC,EACAgO,aAAajqF,EAAE9kB,IAAf,EAAuB8kB,EAAEnoB,KAAzB,CACH,CAHD,EAIA;AACA,GAAI,KAAKisG,gBAAT,CAA2B,CACvB,GAAI9nG,UAAW8qG,kBAAkB,aAAlB,CAAiCmD,YAAjC,CAAf,CACA,KAAKnG,gBAAL,CAAsBxnG,KAAtB,CAA4BN,QAA5B,CAAsC,SAAUK,WAAV,CAAuB2qG,UAAvB,CAAmC,CAAExsG,MAAM4Q,UAAN,CAAiB+I,GAAjB,CAAqB6yF,UAArB,EAAmC,CAA9G,EACH,CACD,GAAIgD,eAAe5yG,MAAnB,CAA2B,CACvBg3D,WAAWj2D,IAAX,CAAgB,KAAKokG,YAAL,CAAkBzI,eAAlB,CAAkC3nC,WAAW69C,cAAX,CAAlC,CAA8D,IAA9D,CAAhB,EACH,CACD;AACA,KAAK1E,WAAL,CAAiBhuG,KAAjB,CAAuB,IAAvB,CAA6Be,SAAS,CAAC,KAAK+rG,aAAN,CAAqB9zF,SAASrH,UAA9B,CAA0CwtF,cAAcgB,eAAxD,CAAT,CAAmF4E,kBAAkBjuC,UAAlB,CAAnF,CAA7B,EACA;AACA,GAAI7oD,SAAUsmD,SAASwvC,YAAT,CAAd,CACA/qF,SAASrF,MAAT,CAAgBvQ,OAAhB,CAAwB,SAAUiK,KAAV,CAAiB,CACrC,GAAI6kG,kBAAmBhvG,MAAMurF,sBAAN,CAA6BxgF,OAA7B,CAAsCZ,MAAM9M,KAA5C,CAAvB,CACA2C,MAAM8qG,WAAN,CAAkB9qG,MAAM8pG,YAAxB,CAAsCh0F,SAASrH,UAA/C,CAA2DwtF,cAAcS,eAAzE,CAA0FxqC,QAAQo9C,aAAR,CAA1F,CAAkHp9C,QAAQ/nD,MAAMzJ,IAAd,CAAlH,CAAuIsuG,gBAAvI,EACH,CAHD,EAIA;AACA,GAAIU,iBAAkB,GAAIxG,0BAAJ,CAA8B,KAAKnH,YAAnC,CAAiDwN,eAAjD,CAAkE,KAAKlF,aAAvE,CAAsF,KAAKlvE,KAAL,CAAa,CAAnG,CAAsGkuE,WAAtG,CAAmH73F,YAAnH,CAAiI,EAAjI,CAAqI,KAAK83F,gBAA1I,CAA4J,KAAK14F,UAAjK,CAA6K,KAAK24F,cAAlL,CAAkM,KAAKpwF,KAAvM,CAA8M,KAAKqwF,UAAnN,CAAtB,CACA,GAAImG,sBAAuBD,gBAAgB7E,qBAAhB,CAAsC/0F,SAAS9E,QAA/C,CAAyD8E,SAAS1E,SAAlE,CAA3B,CACA,KAAK24F,YAAL,CAAkBpsG,IAAlB,CAAuBgyG,qBAAqBplD,UAArB,CAAgC/4C,YAAhC,CAA8C,IAA9C,CAAvB,EACH,CA1CD,CA2CA03F,0BAA0B/sG,SAA1B,CAAoC0S,cAApC,CAAqD,SAAUmc,IAAV,CAAgB,CACjE,GAAIyoE,WAAY,KAAKiX,gBAAL,EAAhB,CACA,KAAKI,WAAL,CAAiB,KAAKlB,aAAtB,CAAqC5+E,KAAKvc,UAA1C,CAAsDwtF,cAAcjxE,IAApE,CAA0EknC,QAAQuhC,SAAR,CAA1E,EACA,KAAKqX,WAAL,CAAiB,KAAKhB,YAAtB,CAAoC9+E,KAAKvc,UAAzC,CAAqDwtF,cAAciB,WAAnE,CAAgFhrC,QAAQuhC,SAAR,CAAhF,CAAoG,KAAKlI,sBAAL,CAA4Bl6B,SAASwvC,YAAT,CAA5B,CAAoD71E,KAAK3tB,KAAzD,CAApG,EACH,CAJD,CAKA6rG,0BAA0B/sG,SAA1B,CAAoCwS,SAApC,CAAgD,SAAUqc,IAAV,CAAgB,CAC5D,KAAK8/E,WAAL,CAAiB,KAAKlB,aAAtB,CAAqC5+E,KAAKvc,UAA1C,CAAsDwtF,cAAcjxE,IAApE,CAA0EknC,QAAQ,KAAKw4C,gBAAL,EAAR,CAA1E,CAA4Gx4C,QAAQlnC,KAAK3tB,KAAb,CAA5G,EACH,CAFD,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA6rG,0BAA0B/sG,SAA1B,CAAoCkzG,wBAApC,CAA+D,SAAUrkF,IAAV,CAAgBgoB,QAAhB,CAA0B,CACrF,GAAIz3B,MAAO+xF,cAAct6D,QAAd,CAAX,CACA,GAAI+mD,aAAc,KAAKgI,YAAL,CAAkBnI,cAAlB,CAAiC5uE,KAAK3tB,KAAtC,CAA6Cke,IAA7C,CAAlB,CACA,KAAKuvF,WAAL,CAAiB,KAAKlB,aAAtB,CAAqC5+E,KAAKvc,UAA1C,CAAsDwtF,cAAcjxE,IAApE,CAA0EknC,QAAQ,KAAKw4C,gBAAL,EAAR,CAA1E,CAA4G3Q,WAA5G,EACH,CAJD,CAKAmP,0BAA0B/sG,SAA1B,CAAoCuuG,gBAApC,CAAuD,UAAY,CAAE,MAAO,MAAKjB,UAAL,EAAP,CAA2B,CAAhG,CACAP,0BAA0B/sG,SAA1B,CAAoCyzG,cAApC,CAAqD,UAAY,CAAE,MAAO,GAAK,KAAKlG,eAAL,EAAZ,CAAqC,CAAxG,CACAR,0BAA0B/sG,SAA1B,CAAoC2uG,WAApC,CAAkD,SAAU3+C,UAAV,CAAsBhuC,IAAtB,CAA4BzJ,SAA5B,CAAuC,CACrF,GAAI8xC,QAAS,EAAb,CACA,IAAK,GAAIr9C,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1Cq9C,OAAOr9C,GAAK,CAAZ,EAAiBxM,UAAUwM,EAAV,CAAjB,CACH,CACDgjD,WAAWxuD,IAAX,CAAgB2zD,WAAW58C,SAAX,CAAsB,IAAtB,CAA4ByJ,IAA5B,EAAkCuoC,MAAlC,CAAyCF,MAAzC,CAAiDroC,IAAjD,EAAuDsrC,MAAvD,EAAhB,EACH,CAND,CAOAy/C,0BAA0B/sG,SAA1B,CAAoCovF,sBAApC,CAA6D,SAAUyiB,QAAV,CAAoB3wG,KAApB,CAA2BwyG,UAA3B,CAAuC,CAChG,GAAI3wG,GAAJ,CAAQC,EAAR,CACA,GAAI2wG,qBAAsBzyG,MAAMqR,KAAN,CAAY,KAAK87F,eAAjB,CAA1B,CACA,GAAIsF,8BAA+Bn+E,cAAnC,CAAkD,CAC9C,GAAIo+E,0BAA2BxkB,uBAAuB,IAAvB,CAA6ByiB,QAA7B,CAAuC8B,mBAAvC,CAA4D,KAAKF,cAAL,EAA5D,CAAmFtkB,YAAYO,SAA/F,CAA0GtpC,WAA1G,CAA/B,CACA,CAACrjD,GAAK,KAAK4qG,YAAX,EAAyBnsG,IAAzB,CAA8Bb,KAA9B,CAAoCoC,EAApC,CAAwCrB,SAASkyG,yBAAyBx/C,KAAlC,CAAxC,EACA,MAAOw/C,0BAAyB1kB,WAAhC,CACH,CAJD,IAKK,CACD,GAAI0kB,0BAA2BxkB,uBAAuB,IAAvB,CAA6ByiB,QAA7B,CAAuC8B,mBAAvC,CAA4D,KAAKF,cAAL,EAA5D,CAAmFtkB,YAAYO,SAA/F,CAA0G,UAAY,CAAE,MAAOjuF,OAAM,0BAAN,CAAP,CAA2C,CAAnK,CAA/B,CACA,CAACuB,GAAK,KAAK2qG,YAAX,EAAyBnsG,IAAzB,CAA8Bb,KAA9B,CAAoCqC,EAApC,CAAwCtB,SAASkyG,yBAAyBx/C,KAAlC,CAAxC,EACA,GAAIy/C,SAAUD,yBAAyB1kB,WAAvC,CACA,MAAOwkB,YAAaG,OAAb,CAAuB1+C,WAAW2qC,cAAckB,IAAzB,EAA+Bz2C,MAA/B,CAAsC,CAACspD,OAAD,CAAtC,CAA9B,CACH,CACJ,CAdD,CAeA,MAAO9G,0BAAP,CACH,CAnmB8C,EAA/C,CAomBA,GAAIuB,gBAAiB,aAAe,SAAU73F,MAAV,CAAkB,CAClD5W,UAAUyuG,cAAV,CAA0B73F,MAA1B,EACA,QAAS63F,eAAT,CAAwB1I,YAAxB,CAAsCkO,YAAtC,CAAoDC,yBAApD,CAA+EnQ,UAA/E,CAA2F,CACvF,GAAI//F,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAM+hG,YAAN,CAAqBA,YAArB,CACA/hG,MAAMiwG,YAAN,CAAqBA,YAArB,CACAjwG,MAAMkwG,yBAAN,CAAkCA,yBAAlC,CACAlwG,MAAM+/F,UAAN,CAAmBA,UAAnB,CACA,MAAO//F,MAAP,CACH,CACD;AACAyqG,eAAetuG,SAAf,CAAyBi1B,SAAzB,CAAqC,SAAU6rD,IAAV,CAAgBlyE,OAAhB,CAAyB,CAC1D;AACA,GAAI6/F,MAAO,KAAKqF,YAAL,EAAX,CACA,GAAIE,iBAAkB,QAAUvF,IAAhC,CACA;AACA,GAAIwF,kBAAmB,KAAKF,yBAAL,CAA+B,EAAIjzB,KAAK90E,IAAL,CAAUvL,MAA7C,CAAvB,CACA,GAAI6S,QAAS,GAAI8gB,aAAJ,CAAiB0sD,KAAK9+D,IAAtB,CAA4B,GAAI2R,iBAAJ,CAAqBmtD,KAAK9+D,IAA1B,CAA5B,CAA6DgyF,eAA7D,CAAb,CACA,GAAIjxG,IAAKmxG,oBAAoBpzB,KAAK90E,IAAzB,CAAT,CAAyCyM,WAAa1V,GAAG0V,UAAzD,CAAqE07F,YAAcpxG,GAAGoxG,WAAtF,CACA,KAAKvQ,UAAL,CAAgB9iB,KAAKv8E,IAArB,CAA2ByvG,eAA3B,CAA4CvF,IAA5C,CAAkDt5C,WAAW18C,UAAX,CAAlD,EACA,GAAIzM,MAAOtK,SAAS,CAACo/E,KAAK9rD,GAAN,CAAT,CAAqB8rD,KAAK90E,IAA1B,CAAX,CACA,GAAI0kF,eAAgByjB,YAAc,KAAK5yF,QAAL,CAAc,CAAC,GAAI6T,aAAJ,CAAiB0rD,KAAK9+D,IAAtB,CAA4BhW,IAA5B,CAAD,CAAd,CAAd,CAAmE,KAAKuV,QAAL,CAAcvV,IAAd,CAAvF,CACA,MAAO,IAAIwqB,aAAJ,CAAiBsqD,KAAK9+D,IAAtB,CAA4B1O,MAA5B,CAAoC5R,SAAS,CAChD,GAAIwzB,iBAAJ,CAAqB4rD,KAAK9+D,IAA1B,CAAgCysF,IAAhC,CADgD,CAEhD,GAAIv5E,iBAAJ,CAAqB4rD,KAAK9+D,IAA1B,CAAgCiyF,gBAAhC,CAFgD,CAAT,CAGxCvjB,aAHwC,CAApC,CAAP,CAIH,CAfD,CAgBA4d,eAAetuG,SAAf,CAAyBq1B,iBAAzB,CAA6C,SAAUwvC,KAAV,CAAiBj2D,OAAjB,CAA0B,CACnE,GAAI/K,OAAQ,IAAZ,CACA,MAAO,IAAIssF,oBAAJ,CAAwBtrB,MAAM7iD,IAA9B,CAAoC,KAAKT,QAAL,CAAcsjD,MAAM/wC,WAApB,CAApC,CAAsE,SAAU7mB,MAAV,CAAkB,CAC3F;AACA;AACA;AACA,GAAImwF,YAAa5nC,WAAWvoD,MAAX,CAAjB,CACA,MAAOA,QAAOwjD,KAAP,CAAa,SAAUpnC,CAAV,CAAa,CAAE,MAAOA,GAAEskC,UAAF,EAAP,CAAwB,CAApD,EACH9pD,MAAM+hG,YAAN,CAAmBzI,eAAnB,CAAmCC,UAAnC,CAA+C,IAA/C,CADG,CAEHgB,kBAAkBv6F,MAAM+hG,YAAxB,CAAsCxI,UAAtC,CAAkDv5F,MAAMkwG,yBAAxD,CAFJ,CAGH,CARM,CAAP,CASH,CAXD,CAYAzF,eAAetuG,SAAf,CAAyBu1B,eAAzB,CAA2C,SAAUxsB,GAAV,CAAe6F,OAAf,CAAwB,CAC/D,GAAI/K,OAAQ,IAAZ,CACA,MAAO,IAAIssF,oBAAJ,CAAwBpnF,IAAIiZ,IAA5B,CAAkC,KAAKT,QAAL,CAAcxY,IAAIkE,MAAlB,CAAlC,CAA6D,SAAUA,MAAV,CAAkB,CAClF;AACA;AACA;AACA,GAAImwF,YAAa3nC,WAAWxoD,OAAOlE,GAAP,CAAW,SAAU7H,KAAV,CAAiB8P,KAAjB,CAAwB,CAAE,MAAQ,CAAEvB,IAAK1G,IAAIyG,IAAJ,CAASwB,KAAT,EAAgBvB,GAAvB,CAA4BvO,MAAOA,KAAnC,CAA0Cw7B,OAAQ3zB,IAAIyG,IAAJ,CAASwB,KAAT,EAAgB0rB,MAAlE,CAAR,CAAsF,CAA3H,CAAX,CAAjB,CACA,MAAOzvB,QAAOwjD,KAAP,CAAa,SAAUpnC,CAAV,CAAa,CAAE,MAAOA,GAAEskC,UAAF,EAAP,CAAwB,CAApD,EACH9pD,MAAM+hG,YAAN,CAAmBzI,eAAnB,CAAmCC,UAAnC,CAA+C,IAA/C,CADG,CAEHgB,kBAAkBv6F,MAAM+hG,YAAxB,CAAsCxI,UAAtC,CAAkDv5F,MAAMkwG,yBAAxD,CAFJ,CAGH,CARM,CAAP,CASH,CAXD,CAYA,MAAOzF,eAAP,CACH,CApDmC,CAoDlCr3E,6BApDkC,CAApC,CAqDA;AACA,GAAIm9E,wBAAyB,CAACtU,cAAcsC,SAAf,CAA0BtC,cAAcuC,SAAxC,CAAmDvC,cAAcwC,SAAjE,CAA4ExC,cAAcyC,SAA1F,CAA7B,CACA,QAAS2R,oBAAT,CAA6BloG,IAA7B,CAAmC,CAC/B,GAAIyM,YAAa27F,uBAAuBpoG,KAAKvL,MAA5B,CAAjB,CACA,MAAO,CACHgY,WAAYA,YAAcqnF,cAAc0C,SADrC,CAEH2R,YAAa,CAAC17F,UAFX,CAAP,CAIH,CACD,GAAI47F,yBAA0B,CAC1BvU,cAAc4B,aADY,CACG5B,cAAc6B,aADjB,CACgC7B,cAAc8B,aAD9C,CAC6D9B,cAAc+B,aAD3E,CAC0F/B,cAAcgC,aADxG,CAE1BhC,cAAciC,aAFY,CAEGjC,cAAckC,aAFjB,CAEgClC,cAAcmC,aAF9C,CAE6DnC,cAAcoC,aAF3E,CAA9B,CAIA,QAASoS,qBAAT,CAA8BtoG,IAA9B,CAAoC,CAChC,GAAIyM,YAAa47F,wBAAwBroG,KAAKvL,MAA7B,CAAjB,CACA,MAAO,CACHgY,WAAYA,YAAcqnF,cAAcqC,aADrC,CAEHgS,YAAa,CAAC17F,UAFX,CAAP,CAIH,CACD,QAAS2lF,kBAAT,CAA2BwH,YAA3B,CAAyCxI,UAAzC,CAAqDmX,aAArD,CAAoE,CAChE,GAAIxxG,IAAK6iG,aAAaxH,iBAAb,CAA+BhB,UAA/B,CAAT,CAAqDqB,eAAiB17F,GAAG07F,cAAzE,CAAyFC,wBAA0B37F,GAAG27F,uBAAtH,CACA;AACA,GAAI8V,WAAYD,cAAc,EAAI7V,wBAAwBj+F,MAA1C,CAAhB,CACAi+F,wBAAwBj+F,MAAxB,CAAiC,CAAjC,EAAsCgB,MAAM,kDAAN,CAAtC,CACA,GAAIuB,IAAKsxG,qBAAqB5V,uBAArB,CAAT,CAAwDjmF,WAAazV,GAAGyV,UAAxE,CAAoF07F,YAAcnxG,GAAGmxG,WAArG,CACA;AACA;AACA,GAAInoG,MAAO,CACP+pD,QAAQy+C,SAAR,CADO,CAEP/V,cAFO,CAAX,CAIA,GAAI0V,WAAJ,CAAiB,CACbnoG,KAAKxK,IAAL,CAAUg0D,WAAWkpC,uBAAX,CAAV,EACH,CAFD,IAGK,CACD1yF,KAAKxK,IAAL,CAAUb,KAAV,CAAgBqL,IAAhB,CAAsBtK,SAASg9F,uBAAT,CAAtB,EACH,CACD,MAAOvpC,YAAW18C,UAAX,EAAuB8xC,MAAvB,CAA8Bv+C,IAA9B,CAAP,CACH,CACD,GAAIyoG,cAAe,aAAe,UAAY,CAC1C,QAASA,aAAT,CAAsB7qE,MAAtB,CAA8B8qE,uBAA9B,CAAuD,CACnD,GAAI9qE,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,IAAT,CAAgB,CACzC,GAAI8qE,0BAA4B,IAAK,EAArC,CAAwC,CAAEA,wBAA0B7O,IAA1B,CAAiC,CAC3E,KAAKj8D,MAAL,CAAcA,MAAd,CACA,KAAK8qE,uBAAL,CAA+BA,uBAA/B,CACA;;;;;;;;;eAUA,KAAK3rG,GAAL,CAAW,GAAI7B,IAAJ,EAAX,CACA,KAAKytG,kBAAL,CAA0B,CAA1B,CACH,CACDp1G,OAAOsgB,cAAP,CAAsB40F,YAAtB,CAAoC,YAApC,CAAkD,CAC9C9rG,IAAK,UAAY,CACb,GAAI,CAAC8rG,aAAaG,WAAlB,CAA+B,CAC3BH,aAAaG,WAAb,CAA2B,GAAIH,aAAJ,GAAmB7rG,GAAnB,CAAuB,QAAvB,CAAiCssD,SAAS,QAAT,CAAjC,CAA3B,CACH,CACD,MAAOu/C,cAAaG,WAApB,CACH,CAN6C,CAO9C90F,WAAY,IAPkC,CAQ9CC,aAAc,IARgC,CAAlD,EAUA00F,aAAaz0G,SAAb,CAAuB2I,GAAvB,CAA6B,SAAUpE,IAAV,CAAgB,CACzC,GAAIqB,SAAU,IAAd,CACA,MAAOA,OAAP,CAAgB,CACZ,GAAI1E,OAAQ0E,QAAQmD,GAAR,CAAYJ,GAAZ,CAAgBpE,IAAhB,CAAZ,CACA,GAAIrD,OAAS,IAAb,CAAmB,CACf,GAAI0E,UAAY,IAAhB,CAAsB,CAClB;AACA1E,MAAQ,CAAEivD,IAAKjvD,MAAMivD,GAAb,CAAkBnF,IAAK9pD,MAAM8pD,GAA7B,CAAkC6pD,SAAU,KAA5C,CAAR,CACA;AACA,KAAK9rG,GAAL,CAASH,GAAT,CAAarE,IAAb,CAAmBrD,KAAnB,EACH,CACD,GAAIA,MAAM8pD,GAAN,EAAa,CAAC9pD,MAAM2zG,QAAxB,CAAkC,CAC9B;AACA;AACA,KAAKH,uBAAL,CAA6BxzG,MAAMivD,GAAnC,CAAwCjvD,MAAM8pD,GAA9C,EACA9pD,MAAM2zG,QAAN,CAAiB,IAAjB,CACH,CACD,MAAO3zG,OAAMivD,GAAb,CACH,CACDvqD,QAAUA,QAAQgkC,MAAlB,CACH,CACD,MAAO,KAAP,CACH,CAtBD,CAuBA;;;;;;;;WASA6qE,aAAaz0G,SAAb,CAAuB4I,GAAvB,CAA6B,SAAUrE,IAAV,CAAgB4rD,GAAhB,CAAqBnF,GAArB,CAA0B,CACnD,CAAC,KAAKjiD,GAAL,CAASwU,GAAT,CAAahZ,IAAb,CAAD,EACI9C,MAAM,YAAc8C,IAAd,CAAqB,qCAArB,CAA6D,KAAKwE,GAAL,CAASJ,GAAT,CAAapE,IAAb,CAAnE,CADJ,CAEA,KAAKwE,GAAL,CAASH,GAAT,CAAarE,IAAb,CAAmB,CAAE4rD,IAAKA,GAAP,CAAYnF,IAAKA,GAAjB,CAAsB6pD,SAAU,KAAhC,CAAnB,EACA,MAAO,KAAP,CACH,CALD,CAMAJ,aAAaz0G,SAAb,CAAuBgxF,QAAvB,CAAkC,SAAUzsF,IAAV,CAAgB,CAAE,MAAO,MAAKoE,GAAL,CAASpE,IAAT,CAAP,CAAwB,CAA5E,CACAkwG,aAAaz0G,SAAb,CAAuBmuG,WAAvB,CAAqC,SAAU2G,eAAV,CAA2B,CAC5D,MAAO,IAAIL,aAAJ,CAAiB,IAAjB,CAAuBK,eAAvB,CAAP,CACH,CAFD,CAGAL,aAAaz0G,SAAb,CAAuBgvG,kBAAvB,CAA4C,UAAY,CACpD,GAAIppG,SAAU,IAAd,CACA;AACA,MAAOA,QAAQgkC,MAAf,CACIhkC,QAAUA,QAAQgkC,MAAlB,CACJ,GAAIpxB,KAAM,GAAKosF,gBAAL,CAAwBh/F,QAAQ+uG,kBAAR,EAAlC,CACA,MAAOn8F,IAAP,CACH,CAPD,CAQA,MAAOi8F,aAAP,CACH,CAhFiC,EAAlC,CAiFA;;OAGA,QAAStE,kBAAT,CAA2BjgE,GAA3B,CAAgC4H,UAAhC,CAA4C,CACxC,GAAIpyC,aAAc,GAAIX,YAAJ,EAAlB,CACAW,YAAYM,UAAZ,CAAuBkqC,GAAvB,EACA3wC,OAAOimG,mBAAP,CAA2B1tD,UAA3B,EAAuC/zC,OAAvC,CAA+C,SAAUQ,IAAV,CAAgB,CAC3D,GAAIrD,OAAQ42C,WAAWvzC,IAAX,CAAZ,CACAmB,YAAYQ,YAAZ,CAAyB3B,IAAzB,CAA+BrD,KAA/B,EACA,GAAIqD,KAAKH,WAAL,KAAuB,OAA3B,CAAoC,CAChC,GAAIkJ,SAAUpM,MAAMuN,IAAN,GAAasD,KAAb,CAAmB,MAAnB,CAAd,CACAzE,QAAQvJ,OAAR,CAAgB,SAAUwE,SAAV,CAAqB,CAAE,MAAO7C,aAAYO,YAAZ,CAAyBsC,SAAzB,CAAP,CAA6C,CAApF,EACH,CACJ,CAPD,EAQA,MAAO7C,YAAP,CACH,CACD;AACA;AACA;AACA;AACA,QAASyrG,cAAT,CAAuB94D,IAAvB,CAA6B,CACzB,GAAIt1C,GAAJ,CAAQC,EAAR,CACA,GAAI0nC,QAAJ,CACA,GAAI8E,YAAJ,CACA,GAAIhzB,GAAJ,CACA,GAAI67B,IAAJ,CAAU,CACN;AACA,GAAIC,SAAUD,KAAKr2C,OAAL,CAAaijG,cAAb,CAAd,CACA,GAAI1sD,WAAYF,KAAKr2C,OAAL,CAAagjG,mBAAb,CAAhB,CACA,GAAIxsD,gBAAiB,IAAK,EAA1B,CACAz1C,GAAK3B,OAAQk3C,QAAU,CAAC,CAAZ,CAAiB,CAACD,KAAKn2C,KAAL,CAAW,CAAX,CAAco2C,OAAd,CAAD,CAAyBD,KAAKn2C,KAAL,CAAWo2C,QAAU,CAArB,CAAzB,CAAjB,CAAqE,CAACD,IAAD,CAAO,EAAP,CAA5E,CAAwF,CAAxF,CAAL,CAAiGG,eAAiBz1C,GAAG,CAAH,CAAlH,CAAyHyZ,GAAKzZ,GAAG,CAAH,CAA9H,CACAC,GAAK5B,OAAQm3C,UAAY,CAAC,CAAd,CACR,CAACC,eAAet2C,KAAf,CAAqB,CAArB,CAAwBq2C,SAAxB,CAAD,CAAqCC,eAAet2C,KAAf,CAAqBq2C,UAAY,CAAjC,CAArC,CADQ,CAER,CAAC,EAAD,CAAKC,cAAL,CAFC,CAEqB,CAFrB,CAAL,CAE8B9N,QAAU1nC,GAAG,CAAH,CAFxC,CAE+CwsC,YAAcxsC,GAAG,CAAH,CAF7D,CAGH,CACD,MAAO,CAAEwsC,YAAaA,WAAf,CAA4BhzB,GAAIA,EAAhC,CAAoCkuB,QAASA,OAA7C,CAAP,CACH,CACD,QAAS0b,YAAT,CAAqBp6C,IAArB,CAA2B,CACvBA,KAAOA,KAAK9J,KAAL,CAAW,CAAX,CAAP,CAAsB;AACtB,OAAQ8J,KAAKvL,MAAb,EACI,IAAK,EAAL,CACI,MAAO00D,YAAW2qC,cAAcmB,cAAzB,EAAyC12C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,EAAL,CACI,MAAOmpD,YAAW2qC,cAAcoB,cAAzB,EAAyC32C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,EAAL,CACI,MAAOmpD,YAAW2qC,cAAcqB,cAAzB,EAAyC52C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,EAAL,CACI,MAAOmpD,YAAW2qC,cAAcsB,cAAzB,EAAyC72C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,GAAL,CACI,MAAOmpD,YAAW2qC,cAAcuB,cAAzB,EAAyC92C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,GAAL,CACI,MAAOmpD,YAAW2qC,cAAcwB,cAAzB,EAAyC/2C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,GAAL,CACI,MAAOmpD,YAAW2qC,cAAcyB,cAAzB,EAAyCh3C,MAAzC,CAAgDv+C,IAAhD,CAAP,CACJ,IAAK,GAAL,CACI,MAAOmpD,YAAW2qC,cAAc0B,cAAzB,EAAyCj3C,MAAzC,CAAgDv+C,IAAhD,CAAP,CAhBR,CAkBCA,KAAKvL,MAAL,EAAe,EAAf,EAAqBuL,KAAKvL,MAAL,CAAc,CAAd,EAAmB,CAAzC,EACIgB,MAAM,yCAA2CuK,KAAKvL,MAAtD,CADJ,CAEA,MAAO00D,YAAW2qC,cAAc2B,cAAzB,EAAyCl3C,MAAzC,CAAgD,CAACiL,WAAWxpD,IAAX,CAAD,CAAhD,CAAP,CACH,CACD;;;;;OAMA,QAAS+oG,cAAT,CAAuBp7F,QAAvB,CAAiCC,WAAjC,CAA8Cg4E,OAA9C,CAAuD,CACnD,GAAIA,UAAY,IAAK,EAArB,CAAwB,CAAEA,QAAU,EAAV,CAAe,CACzC,GAAIxL,eAAgB4uB,mBAApB,CACA,GAAIC,YAAa,GAAInyD,WAAJ,EAAjB,CACA,GAAIyB,aAAc0wD,WAAW7vG,KAAX,CAAiBuU,QAAjB,CAA2BC,WAA3B,CAAlB,CACA,GAAI2qC,YAAY59B,MAAZ,EAAsB49B,YAAY59B,MAAZ,CAAmBlmB,MAAnB,CAA4B,CAAtD,CAAyD,CACrD,MAAO,CAAEkmB,OAAQ49B,YAAY59B,MAAtB,CAA8BnF,MAAO,EAArC,CAAyCkpF,aAAc,KAAvD,CAA8D1wF,mBAAoB,EAAlF,CAAP,CACH,CACD,GAAIgN,WAAYu9B,YAAYv9B,SAA5B,CACA,GAAI,CAAC4qE,QAAQx6E,mBAAb,CAAkC,CAC9B4P,UAAYzF,SAAS,GAAI69D,kBAAJ,EAAT,CAAkCp4D,SAAlC,CAAZ,CACH,CACD,GAAIjkB,IAAKsnG,oBAAoBrjF,SAApB,CAA+Bo/D,aAA/B,CAAT,CAAwD5kE,MAAQze,GAAGye,KAAnE,CAA0EkpF,aAAe3nG,GAAG2nG,YAA5F,CAA0G1wF,mBAAqBjX,GAAGiX,kBAAlI,CAAsJ2M,OAAS5jB,GAAG4jB,MAAlK,CACA,GAAIA,QAAUA,OAAOlmB,MAAP,CAAgB,CAA9B,CAAiC,CAC7B,MAAO,CAAEkmB,OAAQA,MAAV,CAAkBnF,MAAO,EAAzB,CAA6BkpF,aAAc,KAA3C,CAAkD1wF,mBAAoB,EAAtE,CAAP,CACH,CACD,MAAO,CAAEwH,MAAOA,KAAT,CAAgBkpF,aAAcA,YAA9B,CAA4C1wF,mBAAoBA,kBAAhE,CAAP,CACH,CACD;;OAGA,QAASg7F,kBAAT,EAA6B,CACzB,MAAO,IAAIv0B,cAAJ,CAAkB,GAAIpoD,OAAJ,CAAW,GAAI1J,MAAJ,EAAX,CAAlB,CAA2ChM,4BAA3C,CAAyE,GAAI+yD,yBAAJ,EAAzE,CAAyG,IAAzG,CAA+G,EAA/G,CAAP,CACH,CACD,QAASk7B,eAAT,CAAwB5iG,KAAxB,CAA+B,CAC3B,MAAOA,OAAMzJ,IAAN,EAAc,WAAd,EAA6ByJ,MAAMzJ,IAAN,EAAc,OAAlD,CACH,CACD,QAASwuG,sBAAT,CAA+B/kG,KAA/B,CAAsCY,OAAtC,CAA+C,CAC3C,OAAQA,OAAR,EACI,IAAK/B,iBAAgB+nE,IAArB,CACI,MAAOzf,YAAW2qC,cAAcqE,YAAzB,CAAP,CACJ,IAAKt3F,iBAAgBoY,MAArB,CACI,MAAOkwC,YAAW2qC,cAAcyE,cAAzB,CAAP,CACJ,IAAK13F,iBAAgBmY,KAArB,CACI;AACA;AACA;AACA,MAAOhX,OAAM2D,IAAN,GAAe,CAAE,eAAjB,CAAmCwjD,WAAW2qC,cAAcsE,aAAzB,CAAnC,CAA6E,IAApF,CACJ,IAAKv3F,iBAAgBgoE,GAArB,CACI,MAAO1f,YAAW2qC,cAAc0E,WAAzB,CAAP,CACJ,IAAK33F,iBAAgBioE,YAArB,CACI,MAAO3f,YAAW2qC,cAAcwE,mBAAzB,CAAP,CACJ,QACI,MAAO,KAAP,CAfR,CAiBH,CACD,QAASkN,mBAAT,CAA4Br+F,IAA5B,CAAkC,CAC9B,OAAQA,IAAR,EACI,IAAK,kBAAL,CACA,IAAK,YAAL,CACA,IAAK,cAAL,CACA,IAAK,QAAL,CACA,IAAK,YAAL,CACA,IAAK,kBAAL,CACI,MAAO,KAAP,CAPR,CASA,MAAO,MAAP,CACH,CAED;;;;;;OAOA,QAAS+hG,oBAAT,CAA6B91F,IAA7B,CAAmCwmF,YAAnC,CAAiDxf,aAAjD,CAAgE,CAC5D,GAAI+uB,eAAgB,GAAIrP,cAAJ,EAApB,CACA;AACAqP,cAAcvsG,GAAd,CAAkB,MAAlB,CAA0BwW,KAAKzN,IAA/B,EACA;AACAwjG,cAAcvsG,GAAd,CAAkB,WAAlB,CAA+BwsG,wBAAwBh2F,KAAK/Z,QAA7B,CAA/B,EACA;AACA8vG,cAAcvsG,GAAd,CAAkB,SAAlB,CAA6Bq9F,uBAAuB,CAChD1hG,KAAM6a,KAAK7a,IADqC,CAEhD8hG,UAAWjnF,KAAKzN,IAFgC,CAGhD0M,KAAMe,KAAKf,IAHqC,CAIhD+nF,OAAQ,IAJwC,CAKhDD,SAAUrG,cAAcoD,eALwB,CAAvB,CAA7B,EAOAiS,cAAcvsG,GAAd,CAAkB,gBAAlB,CAAoCysG,6BAA6Bj2F,IAA7B,CAAmCwmF,YAAnC,CAApC,EACAuP,cAAcvsG,GAAd,CAAkB,uBAAlB,CAA2C0sG,oCAAoCl2F,IAApC,CAA3C,EACA;AACA+1F,cAAcvsG,GAAd,CAAkB,cAAlB,CAAkC2sG,2BAA2Bn2F,IAA3B,CAAiCgnE,aAAjC,CAAlC,EACA;AACA+uB,cAAcvsG,GAAd,CAAkB,YAAlB,CAAgC4sG,0BAA0Bp2F,IAA1B,CAAhC,EACA;AACA+1F,cAAcvsG,GAAd,CAAkB,QAAlB,CAA4B28F,oCAAoCnmF,KAAK9K,MAAzC,CAA5B,EACA;AACA6gG,cAAcvsG,GAAd,CAAkB,SAAlB,CAA6B28F,oCAAoCnmF,KAAK7K,OAAzC,CAA7B,EACA;AACA,GAAIkhG,UAAW,EAAf,CACA,GAAIr2F,KAAKs2F,eAAT,CAA0B,CACtBD,SAASj0G,IAAT,CAAc2zD,WAAW2qC,cAAckE,wBAAzB,CAAd,EACH,CACD,GAAI5kF,KAAKu2F,SAAL,CAAeC,aAAnB,CAAkC,CAC9BH,SAASj0G,IAAT,CAAc2zD,WAAW2qC,cAAciE,kBAAzB,CAAd,EACH,CACD,GAAI0R,SAASh1G,MAAb,CAAqB,CACjB00G,cAAcvsG,GAAd,CAAkB,UAAlB,CAA8B4sD,WAAWigD,QAAX,CAA9B,EACH,CACD,MAAON,cAAP,CACH,CACD;;OAGA,QAASU,6BAAT,CAAsCz2F,IAAtC,CAA4CwmF,YAA5C,CAA0Dxf,aAA1D,CAAyE,CACrE,GAAI+uB,eAAgBD,oBAAoB91F,IAApB,CAA0BwmF,YAA1B,CAAwCxf,aAAxC,CAApB,CACA,GAAIxlE,YAAau0C,WAAW2qC,cAAcuD,eAAzB,EAA0C94C,MAA1C,CAAiD,CAAC4qD,cAAcpP,YAAd,EAAD,CAAjD,CAAjB,CACA;AACA;AACA,GAAI+P,iBAAkB,CAAC12F,KAAK/Z,QAAL,EAAiB,EAAlB,EAAsB4I,OAAtB,CAA8B,KAA9B,CAAqC,EAArC,CAAtB,CACA,GAAI0D,MAAO,GAAI42C,eAAJ,CAAmB4M,WAAW2qC,cAAcwD,YAAzB,CAAuC,CACjE2D,mBAAmB7nF,KAAKzN,IAAxB,CAA8ByN,KAAK22F,iBAAnC,CADiE,CAEjE,GAAIxtD,eAAJ,CAAmBwN,QAAQ+/C,eAAR,CAAnB,CAFiE,CAAvC,CAAnB,CAAX,CAIA,MAAO,CAAEl1F,WAAYA,UAAd,CAA0BjP,KAAMA,IAAhC,CAAP,CACH,CACD;;OAGA,QAASqkG,6BAAT,CAAsC52F,IAAtC,CAA4CwmF,YAA5C,CAA0Dxf,aAA1D,CAAyE,CACrE,GAAI+uB,eAAgBD,oBAAoB91F,IAApB,CAA0BwmF,YAA1B,CAAwCxf,aAAxC,CAApB,CACA,GAAI/gF,UAAW+Z,KAAK/Z,QAAL,EAAiBN,YAAYK,KAAZ,CAAkBga,KAAK/Z,QAAvB,CAAhC,CACA,GAAI4wG,eAAgB5wG,UAAYA,SAAS,CAAT,CAAhC,CACA;AACA;AACA,GAAI4wG,aAAJ,CAAmB,CACf,GAAIC,oBAAqBD,cAAcvvG,QAAd,EAAzB,CACA,GAAIwvG,mBAAmBz1G,MAAvB,CAA+B,CAC3B00G,cAAcvsG,GAAd,CAAkB,OAAlB,CAA2Bg9F,aAAazI,eAAb,CAA6B3nC,WAAW0gD,mBAAmBntG,GAAnB,CAAuB,SAAU7H,KAAV,CAAiB,CAAE,MAAOA,QAAS,IAAT,CAAgB60D,QAAQ70D,KAAR,CAAhB,CAAiC60D,QAAQ3rD,SAAR,CAAxC,CAA6D,CAAvG,CAAX,CAA7B,CAC3B,iBAAkB,IADS,CAA3B,EAEH,CACJ,CACD;AACA,GAAI+iG,kBAAmB,IAAvB,CACA,GAAI/tF,KAAK3K,UAAL,CAAgB4/D,IAApB,CAA0B,CACtB,GAAI8hC,WAAY,GAAInvG,gBAAJ,EAAhB,CACAoY,KAAK3K,UAAL,CAAgB1Q,OAAhB,CAAwB,SAAU6c,UAAV,CAAsBvb,QAAtB,CAAgC,CACpD8wG,UAAUxuG,cAAV,CAAyB5C,YAAYK,KAAZ,CAAkBC,QAAlB,CAAzB,CAAsDub,UAAtD,EACH,CAFD,EAGAusF,iBAAmBgJ,SAAnB,CACH,CACD,GAAI/2F,KAAKtE,WAAL,CAAiBra,MAArB,CAA6B,CACzB00G,cAAcvsG,GAAd,CAAkB,WAAlB,CAA+BwtG,0BAA0Bh3F,IAA1B,CAAgCwmF,YAAhC,CAA/B,EACH,CACD;AACA,GAAIyQ,kBAAmBj3F,KAAK7a,IAA5B,CACA,GAAI8Q,cAAeghG,iBAAmBA,iBAAmB,WAAtC,CAAoD,IAAvE,CACA,GAAIC,gBAAiB,GAAIz5F,IAAJ,EAArB,CACA,GAAI05F,WAAY,GAAI15F,IAAJ,EAAhB,CACA,GAAIlD,UAAWyF,KAAKzF,QAApB,CACA,GAAI68F,4BAA6B,GAAIzJ,0BAAJ,CAA8BnH,YAA9B,CAA4ClB,YAA5C,CAA0D+P,aAAagC,UAAvE,CAAmF,CAAnF,CAAsFJ,gBAAtF,CAAwGhhG,YAAxG,CAAsH+J,KAAKtE,WAA3H,CAAwIqyF,gBAAxI,CAA0JmJ,cAA1J,CAA0Kl3F,KAAKpC,KAA/K,CAAsLu5F,SAAtL,CAAiMzW,cAAcI,aAA/M,EAC5BwO,qBAD4B,CACN/0F,SAAS6H,KADH,CACU,EADV,CACc7H,SAAS+wF,YADvB,CACqC/wF,SAASK,kBAD9C,CAAjC,CAEAm7F,cAAcvsG,GAAd,CAAkB,UAAlB,CAA8B4tG,0BAA9B,EACA;AACA,GAAIF,eAAejiC,IAAnB,CAAyB,CACrB8gC,cAAcvsG,GAAd,CAAkB,YAAlB,CAAgC4sD,WAAW91D,MAAM88C,IAAN,CAAW85D,cAAX,CAAX,CAAhC,EACH,CACD;AACA,GAAIC,UAAUliC,IAAd,CAAoB,CAChB8gC,cAAcvsG,GAAd,CAAkB,OAAlB,CAA2B4sD,WAAW91D,MAAM88C,IAAN,CAAW+5D,SAAX,CAAX,CAA3B,EACH,CACD;AACA;AACA,GAAIT,iBAAkB,CAAC12F,KAAK/Z,QAAL,EAAiB,EAAlB,EAAsB4I,OAAtB,CAA8B,KAA9B,CAAqC,EAArC,CAAtB,CACA,GAAI2S,YAAau0C,WAAW2qC,cAAcqD,eAAzB,EAA0C54C,MAA1C,CAAiD,CAAC4qD,cAAcpP,YAAd,EAAD,CAAjD,CAAjB,CACA,GAAIp0F,MAAO,GAAI42C,eAAJ,CAAmB4M,WAAW2qC,cAAcsD,YAAzB,CAAuC,CACjE6D,mBAAmB7nF,KAAKzN,IAAxB,CAA8ByN,KAAK22F,iBAAnC,CADiE,CAEjE,GAAIxtD,eAAJ,CAAmBwN,QAAQ+/C,eAAR,CAAnB,CAFiE,CAAvC,CAAnB,CAAX,CAIA,MAAO,CAAEl1F,WAAYA,UAAd,CAA0BjP,KAAMA,IAAhC,CAAP,CACH,CACD;;;;;;OAOA,QAAS+kG,4BAAT,CAAqC74B,SAArC,CAAgDroE,SAAhD,CAA2DoyC,SAA3D,CAAsEw+B,aAAtE,CAAqF,CACjF,GAAI7hF,MAAO8T,eAAe7C,UAAU7D,IAAzB,CAAX,CACApN,MAAQ9C,MAAM,+BAAiC+T,UAAU7D,IAAjD,CAAR,CACA,GAAIq2F,iBAAkBnqB,UAAU+nB,YAAV,CAAuBzH,cAAvB,CAAsC,CAAE,eAAxC,CAAtB,CACA,GAAI/+E,MAAOu3F,oCAAoCnhG,SAApC,CAA+CqoE,SAA/C,CAA0Dj2B,SAA1D,CAAX,CACA,GAAIpiD,KAAMqwG,6BAA6Bz2F,IAA7B,CAAmCy+D,UAAU+nB,YAA7C,CAA2Dxf,aAA3D,CAAV,CACA;AACAvI,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B,GAAI+wD,UAAJ,CAAchuD,IAAd,CAAoB,IAApB,CAA0B,CAAC,GAAI4tD,WAAJ,CAAe61C,eAAf,CAAgC9+C,aAAhC,CAA+C,CAACpqD,QAAQ2yD,YAAR,CAAqBoG,MAAtB,CAA/C,CAA8EryD,IAAIob,UAAlF,CAAD,CAA1B,CAA2H,EAA3H,CAA+H,GAAIyxC,YAAJ,CAAgB,IAAhB,CAAsB,EAAtB,CAA0B,EAA1B,CAA/H,CAA8J,EAA9J,CAA1B,EACH,CACD;;;;;;OAOA,QAASukD,4BAAT,CAAqC/4B,SAArC,CAAgD3Y,SAAhD,CAA2D2xC,UAA3D,CAAuEjvD,SAAvE,CAAkFw+B,aAAlF,CAAiG0wB,kBAAjG,CAAqH1J,cAArH,CAAqI,CACjI,GAAI7oG,MAAO8T,eAAe6sD,UAAUvzD,IAAzB,CAAX,CACApN,MAAQ9C,MAAM,+BAAiCyjE,UAAUvzD,IAAjD,CAAR,CACA,GAAIq2F,iBAAkBnqB,UAAU+nB,YAAV,CAAuBzH,cAAvB,CAAsC,CAAE,eAAxC,CAAtB,CACA,GAAI1hC,SAAUyI,UAAU9qD,SAAV,EAAd,CACA;AACA,GAAIgF,MAAOlf,SAAS,EAAT,CAAay2G,oCAAoCzxC,SAApC,CAA+C2Y,SAA/C,CAA0Dj2B,SAA1D,CAAb,CAAmF,CAAEviD,SAAU6/D,UAAU7/D,QAAtB,CAAgCsU,SAAU,CAChI6H,MAAOq1F,WAAWr1F,KAD8G,CAEhIkpF,aAAcmM,WAAWnM,YAFuG,CAGhI1wF,mBAAoB68F,WAAW78F,kBAHiG,CAA1C,CAIvFvF,WAAYsiG,uBAAuBD,kBAAvB,CAA2Cj5B,SAA3C,CAJ2E,CAIpB7gE,MAAO+5F,uBAAuB3J,cAAvB,CAAuCvvB,SAAvC,CAJa,CAIsC/iE,YAAak8F,0BAA0B9xC,UAAUpqD,WAApC,CAAiD+iE,SAAjD,CAJnD,CAAnF,CAAX,CAKA,GAAIr4E,KAAMwwG,6BAA6B52F,IAA7B,CAAmCy+D,UAAU+nB,YAA7C,CAA2Dxf,aAA3D,CAAV,CACA;AACAvI,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B,GAAI+wD,UAAJ,CAAchuD,IAAd,CAAoB,IAApB,CAA0B,CAAC,GAAI4tD,WAAJ,CAAe61C,eAAf,CAAgC9+C,aAAhC,CAA+C,CAACpqD,QAAQ2yD,YAAR,CAAqBoG,MAAtB,CAA/C,CAA8EryD,IAAIob,UAAlF,CAAD,CAA1B,CAA2H,EAA3H,CAA+H,GAAIyxC,YAAJ,CAAgB,IAAhB,CAAsB,EAAtB,CAA0B,EAA1B,CAA/H,CAA8J,EAA9J,CAA1B,EACH,CACD;;OAGA,QAASskD,oCAAT,CAA6CnhG,SAA7C,CAAwDqoE,SAAxD,CAAmEj2B,SAAnE,CAA8E,CAC1E,GAAI6U,SAAUjnD,UAAU4E,SAAV,EAAd,CACA,GAAI7V,MAAO8T,eAAe7C,UAAU7D,IAAzB,CAAX,CACApN,MAAQ9C,MAAM,+BAAiC+T,UAAU7D,IAAjD,CAAR,CACA,MAAO,CACHpN,KAAMA,IADH,CAEHoN,KAAMksE,UAAU1oB,UAAV,CAAqB3/C,UAAU7D,IAAV,CAAe4G,SAApC,CAFH,CAGHw9F,kBAAmB,CAHhB,CAIH32E,eAAgBA,eAAe5pB,UAAU+E,WAAV,CAAwB,WAAxB,CAAsC,WAArD,CAAkE/E,UAAU7D,IAA5E,CAJb,CAKHtM,SAAUmQ,UAAUnQ,QALjB,CAMHgZ,KAAMooF,+BAA+BjxF,UAAU7D,IAAzC,CAA+CksE,SAA/C,CAA0Dj2B,SAA1D,CANH,CAOHhtC,QAASo8F,0BAA0BxhG,UAAUoF,OAApC,CAA6CijE,SAA7C,CAPN,CAQH83B,UAAW,CACPC,cAAepgG,UAAU7D,IAAV,CAAesE,cAAf,CAA8BhG,IAA9B,CAAmC,SAAU0lG,SAAV,CAAqB,CAAE,MAAOA,YAAap8C,eAAeK,SAAnC,CAA+C,CAAzG,CADR,CARR,CAWHz+C,KAAM,CACF28B,WAAYtiC,UAAUkF,cADpB,CAEFu8F,UAAWx6C,QAAQhiD,aAFjB,CAGFs7D,WAAYtZ,QAAQhnD,cAHlB,CAXH,CAgBHnB,OAAQkB,UAAUlB,MAhBf,CAiBHC,QAASiB,UAAUjB,OAjBhB,CAkBHmhG,gBAAiB,KAlBd,CAAP,CAoBH,CACD;;OAGA,QAASsB,0BAAT,CAAmCp8F,OAAnC,CAA4CijE,SAA5C,CAAuD,CACnD,MAAOjjE,SAAQ7R,GAAR,CAAY,SAAU4gB,KAAV,CAAiB,CAChC,GAAI46C,MAAO,IAAX,CACA,GAAI56C,MAAM46C,IAAN,EAAc56C,MAAM46C,IAAN,CAAW9rD,UAA7B,CAAyC,CACrC8rD,KAAOsZ,UAAU1oB,UAAV,CAAqBxrC,MAAM46C,IAAN,CAAW9rD,UAAX,CAAsBF,SAA3C,CAAP,CACH,CACD,MAAO,CACH2rD,aAAcv6C,MAAMu6C,YADjB,CAEHz5D,MAAOkf,MAAMlf,KAFV,CAGH+4B,UAAW0zE,4BAA4BvtF,MAAMjgB,SAAlC,CAA6Cm0E,SAA7C,CAHR,CAIHlzE,YAAagf,MAAMhf,WAJhB,CAI6B45D,KAAMA,IAJnC,CAAP,CAMH,CAXM,CAAP,CAYH,CACD;;;OAIA,QAAS2yC,4BAAT,CAAqCxtG,SAArC,CAAgDm0E,SAAhD,CAA2D,CACvD,GAAIn0E,UAAUjJ,MAAV,CAAmB,CAAnB,EAAyBiJ,UAAUjJ,MAAV,EAAoB,CAApB,EAAyBiJ,UAAU,CAAV,EAAaxI,KAAnE,CAA2E,CACvE,GAAIi2G,iBAAkBztG,UAAUX,GAAV,CAAc,SAAU7H,KAAV,CAAiB,CAAE,MAAOA,OAAMA,KAAb,CAAqB,CAAtD,CAAtB,CACAi2G,gBAAgBlnG,IAAhB,CAAqB,SAAU/O,KAAV,CAAiB,CAAE,MAAO,CAACA,KAAR,CAAgB,CAAxD,GACIO,MAAM,kDAAN,CADJ,CAEA,MAAOo8E,WAAU+nB,YAAV,CAAuBzI,eAAvB,CAAuC3nC,WAAW2hD,gBAAgBpuG,GAAhB,CAAoB,SAAU7H,KAAV,CAAiB,CAAE,MAAO60D,SAAQ70D,KAAR,CAAP,CAAwB,CAA/D,CAAX,CAAvC,CAAP,CACH,CACD,GAAIwI,UAAUjJ,MAAV,EAAoB,CAAxB,CAA2B,CACvB,GAAIgK,OAAQf,UAAU,CAAV,CAAZ,CACA,GAAIe,MAAMgO,UAAV,CAAsB,CAClB,MAAOolE,WAAU1oB,UAAV,CAAqB1qD,MAAMgO,UAAN,CAAiBF,SAAtC,CAAP,CACH,CACJ,CACD9W,MAAM,uBAAN,EACA,MAAO+vD,UAAP,CACH,CACD,QAAS4lD,sBAAT,CAA+BztF,KAA/B,CAAsCi8E,YAAtC,CAAoDyR,GAApD,CAAyD,CACrD,GAAI7zE,WAAYmiE,kBAAkBh8E,KAAlB,CAAyBi8E,YAAzB,CAAhB,CACA;AACA,GAAInuC,YAAa,CACb1B,QAAQshD,GAAR,CAAanuD,aAAb,CADa,CAEb1lB,SAFa,CAGbuyB,QAAQpsC,MAAMhf,WAAd,CAHa,CAAjB,CAKA,GAAIgf,MAAM46C,IAAV,CAAgB,CACZ9M,WAAWj2D,IAAX,CAAgBmoB,MAAM46C,IAAtB,EACH,CACD,MAAOpP,YAAW2qC,cAAcn2E,KAAzB,EAAgC4gC,MAAhC,CAAuCkN,UAAvC,CAAP,CACH,CACD;AACA,QAAS29C,wBAAT,CAAiC/vG,QAAjC,CAA2C,CACvC,MAAOigG,WAAU33F,0BAA0BtI,QAA1B,CAAV,CAAP,CACH,CACD,QAASmwG,0BAAT,CAAmCp2F,IAAnC,CAAyC,CACrC,GAAI+2C,IAAJ,CAASpzD,EAAT,CACA,GAAIkK,QAAS,EAAb,CACA,GAAI6qC,YAAa14B,KAAKjE,IAAL,CAAU28B,UAA3B,CACA,GAAI,CACA,IAAK,GAAI90C,IAAKpC,SAASrB,OAAOimG,mBAAP,CAA2B1tD,UAA3B,CAAT,CAAT,CAA2D10C,GAAKJ,GAAG/B,IAAH,EAArE,CAAgF,CAACmC,GAAGjC,IAApF,CAA0FiC,GAAKJ,GAAG/B,IAAH,EAA/F,CAA0G,CACtG,GAAIwO,KAAMrM,GAAGlC,KAAb,CACA,GAAIA,OAAQ42C,WAAWroC,GAAX,CAAZ,CACAxC,OAAOzL,IAAP,CAAYu0D,QAAQtmD,GAAR,CAAZ,CAA0BsmD,QAAQ70D,KAAR,CAA1B,EACH,CACJ,CACD,MAAOo1D,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CAPzC,OAQQ,CACJ,GAAI,CACA,GAAIlzD,IAAM,CAACA,GAAGjC,IAAV,GAAmB4B,GAAKC,GAAGuzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQsC,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAImzD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,GAAIwL,OAAOxM,MAAP,CAAgB,CAApB,CAAuB,CACnB,MAAO+0D,YAAWvoD,MAAX,CAAP,CACH,CACD,MAAO,KAAP,CACH,CACD;AACA,QAASooG,6BAAT,CAAsCj2F,IAAtC,CAA4CwmF,YAA5C,CAA0D,CACtD,GAAIxmF,KAAKxE,OAAL,CAAana,MAAjB,CAAyB,CACrB,GAAIuvD,YAAa5wC,KAAKxE,OAAL,CAAa7R,GAAb,CAAiB,SAAU4gB,KAAV,CAAiB,CAC/C,GAAI2tF,iBAAkBF,sBAAsBztF,KAAtB,CAA6Bi8E,YAA7B,CAA2C,IAA3C,CAAtB,CACA,MAAOzwC,YAAW2qC,cAAcgE,oBAAzB,EAA+Cv5C,MAA/C,CAAsD,CAAC+sD,eAAD,CAAtD,EAAyEhqD,MAAzE,EAAP,CACH,CAHgB,CAAjB,CAIA,GAAIiqD,UAAWn4F,KAAK7a,IAApB,CACA,MAAOsqD,IAAG,EAAH,CAAOmB,UAAP,CAAmB9G,aAAnB,CAAkC,IAAlC,CAAwCquD,SAAWA,SAAW,iBAAtB,CAA0C,IAAlF,CAAP,CACH,CACD,MAAO,KAAP,CACH,CACD;AACA,QAASjC,oCAAT,CAA6Cl2F,IAA7C,CAAmD,CAC/C,GAAIA,KAAKxE,OAAL,CAAana,MAAb,CAAsB,CAA1B,CAA6B,CACzB,GAAI+2G,cAAe,EAAnB,CACA,GAAID,UAAWn4F,KAAK7a,IAApB,CACA,GAAIkzD,YAAa,CACb,GAAI5H,QAAJ,CAAY,UAAZ,CAAwBrG,WAAxB,CADa,CAEb,GAAIqG,QAAJ,CAAY,iBAAZ,CAA+BrG,WAA/B,CAFa,CAAjB,CAIA,GAAIiuD,wBAAyBviD,SAAS,UAAT,CAA7B,CACA;AACA,GAAIwiD,aAAcxS,mBAAmBsS,YAAnB,CAAiC/S,cAAjC,CAAlB,CACA;AACA+S,aAAah2G,IAAb,CAAkBi2G,uBAAuB7uG,GAAvB,CAA2BusD,WAAW2qC,cAAc2C,aAAzB,EAAwCl4C,MAAxC,CAA+C,CAAC2K,SAAS,UAAT,CAAD,CAA/C,CAA3B,EACb9G,UADa,CACFlF,aADE,CACa,CAACpqD,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CADb,CAAlB,EAEAjtD,KAAKxE,OAAL,CAAa7W,OAAb,CAAqB,SAAU4lB,KAAV,CAAiB0tF,GAAjB,CAAsB,CACvC,GAAIM,WAAYziD,SAAS,iBAAT,CAAhB,CACA,GAAI0iD,cAAeziD,WAAW2qC,cAAc4C,aAAzB,EAAwCn4C,MAAxC,CAA+C,CAC9D8sD,IAAM,CAAN,CAAUM,UAAUhsD,IAAV,CAAeoK,QAAQshD,GAAR,CAAf,CAAV,CAAyCM,SADqB,CAA/C,CAAnB,CAGA,GAAIE,mBAAoBH,cAAc9uG,GAAd,CAAkBgvG,YAAlB,CAAxB,CACA,GAAIE,kBAAmB3iD,WAAW2qC,cAAc+D,YAAzB,EAAuCt5C,MAAvC,CAA8C,CAACstD,iBAAD,CAA9C,CAAvB,CACA,GAAIE,iBAAkBN,uBAAuBtkG,IAAvB,CAA4BwW,MAAMu6C,YAAlC,EACjBt7D,GADiB,CACb+gB,MAAMlf,KAAN,CAAcitG,cAAcvkG,IAAd,CAAmB,OAAnB,CAAd,CAA4CukG,aAD/B,CAAtB,CAEA,GAAIM,gCAAiCF,iBAAiB3rD,GAAjB,CAAqB4rD,eAArB,CAArC,CACAP,aAAah2G,IAAb,CAAkBw2G,+BAA+B1qD,MAA/B,EAAlB,EACH,CAXD,EAYA,MAAOuB,IAAG4I,UAAH,CAAe+/C,YAAf,CAA6BtuD,aAA7B,CAA4C,IAA5C,CAAkDquD,SAAWA,SAAW,wBAAtB,CAAiD,IAAnG,CAAP,CACH,CACD,MAAO,KAAP,CACH,CACD;AACA,QAASnB,0BAAT,CAAmCh3F,IAAnC,CAAyCwmF,YAAzC,CAAuD,CACnD,GAAIqS,kBAAmB,EAAvB,CACA,GAAIC,kBAAmB,EAAvB,CACA,GAAIC,eAAgBjT,mBAAmBgT,gBAAnB,CAAqCzT,cAArC,CAApB,CACA,IAAK,GAAInkG,GAAI,CAAb,CAAgBA,EAAI8e,KAAKtE,WAAL,CAAiBra,MAArC,CAA6CH,GAA7C,CAAkD,CAC9C,GAAIqpB,OAAQvK,KAAKtE,WAAL,CAAiBxa,CAAjB,CAAZ,CACA;AACA,GAAIg3G,iBAAkBF,sBAAsBztF,KAAtB,CAA6Bi8E,YAA7B,CAA2CtlG,CAA3C,CAAtB,CACA23G,iBAAiBz2G,IAAjB,CAAsB81G,gBAAgBhqD,MAAhB,EAAtB,EACA;AACA,GAAI6jC,WAAYgnB,eAAhB,CACA,GAAIP,cAAeziD,WAAW2qC,cAAchjD,IAAzB,EAA+ByN,MAA/B,CAAsC,CAACwL,QAAQz1D,CAAR,CAAD,CAAtC,CAAnB,CACA,GAAI83G,SAAUjjD,WAAW2qC,cAAc+D,YAAzB,EAAuCt5C,MAAvC,CAA8C,CAAC4mC,UAAUvoF,GAAV,CAAcgvG,YAAd,CAAD,CAA9C,CAAd,CACA,GAAIG,iBAAkB7iD,SAASwvC,YAAT,EACjBvxF,IADiB,CACZwW,MAAMu6C,YADM,EAEjBt7D,GAFiB,CAEb+gB,MAAMlf,KAAN,CAAc0mF,UAAUh+E,IAAV,CAAe,OAAf,CAAd,CAAwCg+E,SAF3B,CAAtB,CAGA+mB,iBAAiB12G,IAAjB,CAAsB42G,QAAQjsD,GAAR,CAAY4rD,eAAZ,EAA6BzqD,MAA7B,EAAtB,EACH,CACD,GAAI+qD,iBAAkBj5F,KAAK7a,IAAL,CAAY6a,KAAK7a,IAAL,CAAY,QAAxB,CAAmC,IAAzD,CACA,MAAOsqD,IAAG,CAAC,GAAIgB,QAAJ,CAAY80C,YAAZ,CAA0Bn7C,WAA1B,CAAD,CAAyC,GAAIqG,QAAJ,CAAY60C,YAAZ,CAA0B,IAA1B,CAAzC,CAAH,CAA8E,CACjFoI,sBAAsB,CAAE,YAAxB,CAAsCmL,gBAAtC,CADiF,CAEjFnL,sBAAsB,CAAE,YAAxB,CAAsCoL,gBAAtC,CAFiF,CAA9E,CAGJhvD,aAHI,CAGW,IAHX,CAGiBmvD,eAHjB,CAAP,CAIH,CACD;AACA,QAAS9C,2BAAT,CAAoCn2F,IAApC,CAA0CgnE,aAA1C,CAAyD,CACrD,GAAIwM,IAAJ,CAAS7vF,EAAT,CAAamwF,GAAb,CAAkBlwF,EAAlB,CACA,GAAIgtD,YAAa,EAAjB,CACA,GAAIsoD,uBAAwBl5F,KAAKggB,cAAjC,CACA,GAAIm5E,kBAAmBC,kBAAkBp5F,IAAlB,CAAvB,CACA;AACA,GAAI4K,UAAWo8D,cAAcpF,yBAAd,CAAwCu3B,gBAAxC,CAA0DD,qBAA1D,CAAf,CACA,GAAI7E,gBAAiBt+C,WAAW2qC,cAAc2C,aAAzB,EAAwCl4C,MAAxC,CAA+C,CAAC2K,SAAS,UAAT,CAAD,CAA/C,CAArB,CACA,GAAIlrC,QAAJ,CAAc,CACV,GAAI,CACA,IAAK,GAAIyuF,YAAa73G,SAASopB,QAAT,CAAjB,CAAqC0uF,aAAeD,WAAWx3G,IAAX,EAAzD,CAA4E,CAACy3G,aAAav3G,IAA1F,CAAgGu3G,aAAeD,WAAWx3G,IAAX,EAA/G,CAAkI,CAC9H,GAAImpB,SAAUsuF,aAAax3G,KAA3B,CACA,GAAImxG,aAAcjjB,uBAAuB,IAAvB,CAA6BqkB,cAA7B,CAA6CrpF,QAAQxJ,UAArD,CAAiE,GAAjE,CAAsEuuE,YAAYO,SAAlF,CAA6F,UAAY,CAAE,MAAOjuF,OAAM,0BAAN,CAAP,CAA2C,CAAtJ,CAAlB,CACAuuD,WAAWxuD,IAAX,CAAgBb,KAAhB,CAAsBqvD,UAAtB,CAAkCtuD,SAAS2wG,YAAYj+C,KAArB,CAAlC,EACApE,WAAWxuD,IAAX,CAAgB2zD,WAAW2qC,cAAcS,eAAzB,EACXh2C,MADW,CACJ,CACR2K,SAAS,SAAT,CADQ,CAERa,QAAQ3rC,QAAQ7lB,IAAhB,CAFQ,CAGR4wD,WAAW2qC,cAAckB,IAAzB,EAA+Bz2C,MAA/B,CAAsC,CAAC8nD,YAAYnjB,WAAb,CAAtC,CAHQ,CADI,EAMX5hC,MANW,EAAhB,EAOH,CACJ,CACD,MAAOylC,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CAdzC,OAeQ,CACJ,GAAI,CACA,GAAI2lB,cAAgB,CAACA,aAAav3G,IAA9B,GAAuC4B,GAAK01G,WAAWliD,MAAvD,CAAJ,CAAoExzD,GAAGrC,IAAH,CAAQ+3G,UAAR,EACvE,CAFD,OAGQ,CAAE,GAAI7lB,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACJ,CACD;AACA,GAAIk3G,eAAgBvyB,cAAc7E,4BAAd,CAA2Cg3B,gBAA3C,CAA6DD,qBAA7D,CAApB,CACA,GAAIK,aAAJ,CAAmB,CACf,GAAI,CACA,IAAK,GAAIC,iBAAkBh4G,SAAS+3G,aAAT,CAAtB,CAA+CE,kBAAoBD,gBAAgB33G,IAAhB,EAAxE,CAAgG,CAAC43G,kBAAkB13G,IAAnH,CAAyH03G,kBAAoBD,gBAAgB33G,IAAhB,EAA7I,CAAqK,CACjK,GAAImpB,SAAUyuF,kBAAkB33G,KAAhC,CACA,GAAImxG,aAAc9kB,qBAAqB,IAArB,CAA2BkmB,cAA3B,CAA2CrpF,QAAQ5W,OAAnD,CAA4D,GAA5D,CAAiE,UAAY,CAAE,MAAO/R,OAAM,0BAAN,CAAP,CAA2C,CAA1H,CAAlB,CACA,GAAIq3G,aAAc1uF,QAAQ7lB,IAAR,EAAgB4T,mBAAmBiS,QAAQ7lB,IAA3B,CAAlC,CACA,GAAIgzG,UAAWn4F,KAAK7a,IAApB,CACA,GAAI0tG,cAAesF,UAAYuB,WAAZ,CAA0BvB,SAAW,GAAX,CAAiBuB,WAAjB,CAA+B,qBAAzD,CAAiF,IAApG,CACA,GAAItlG,SAAUq7C,GAAG,CAAC,GAAIgB,QAAJ,CAAY,QAAZ,CAAsB7G,YAAtB,CAAD,CAAH,CAA0CtnD,SAAS2wG,YAAYj+C,KAArB,CAA4B,CAAC,GAAIpC,gBAAJ,CAAoBqgD,YAAYjlB,YAAhC,CAAD,CAA5B,CAA1C,CAAwHlkC,aAAxH,CAAuI,IAAvI,CAA6I+oD,YAA7I,CAAd,CACAjiD,WAAWxuD,IAAX,CAAgB2zD,WAAW2qC,cAAcmE,QAAzB,EAAmC15C,MAAnC,CAA0C,CAACwL,QAAQ3rC,QAAQ7lB,IAAhB,CAAD,CAAwBiP,OAAxB,CAA1C,EAA4E85C,MAA5E,EAAhB,EACH,CACJ,CACD,MAAOomC,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CAXzC,OAYQ,CACJ,GAAI,CACA,GAAImlB,mBAAqB,CAACA,kBAAkB13G,IAAxC,GAAiD6B,GAAK41G,gBAAgBriD,MAAtE,CAAJ,CAAmFvzD,GAAGtC,IAAH,CAAQk4G,eAAR,EACtF,CAFD,OAGQ,CAAE,GAAI1lB,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACJ,CACD,GAAIuuD,WAAWvvD,MAAX,CAAoB,CAAxB,CAA2B,CACvB,GAAI82G,UAAWn4F,KAAK7a,IAApB,CACA,MAAOsqD,IAAG,CACN,GAAIgB,QAAJ,CAAY,UAAZ,CAAwBrG,WAAxB,CADM,CAEN,GAAIqG,QAAJ,CAAY,SAAZ,CAAuBrG,WAAvB,CAFM,CAAH,CAGJwG,UAHI,CAGQ9G,aAHR,CAGuB,IAHvB,CAG6BquD,SAAWA,SAAW,eAAtB,CAAwC,IAHrE,CAAP,CAIH,CACD,MAAO,KAAP,CACH,CACD,QAASiB,kBAAT,CAA2Bp5F,IAA3B,CAAiC,CAC7B;AACA,MAAO,CACH1E,eAAgB0E,KAAKjE,IAAL,CAAU28B,UADvB,CAEHr9B,cAAe2E,KAAKjE,IAAL,CAAU87F,SAFtB,CAGHxhG,eAAgB2J,KAAKjE,IAAL,CAAU46D,UAHvB,CAAP,CAKA;AACH,CACD,QAASghC,uBAAT,CAAgChuG,GAAhC,CAAqC80E,SAArC,CAAgD,CAC5C;AACA,GAAIrtB,SAAU9wD,MAAM88C,IAAN,CAAWzzC,GAAX,EAAgBA,GAAhB,CAAoB,SAAUhG,EAAV,CAAc,CAC5C,GAAIC,IAAK5B,OAAO2B,EAAP,CAAW,CAAX,CAAT,CAAwB0M,IAAMzM,GAAG,CAAH,CAA9B,CAAqC2O,KAAO3O,GAAG,CAAH,CAA5C,CACA,MAAO,CAACyM,GAAD,CAAMouE,UAAU1oB,UAAV,CAAqBxjD,IAArB,CAAN,CAAP,CACH,CAHa,CAAd,CAIA,MAAO,IAAIzK,IAAJ,CAAQspD,OAAR,CAAP,CACH,CACD,GAAIuoD,gBAAiB,oDAArB,CACA,QAASC,kBAAT,CAA2B79F,IAA3B,CAAiC,CAC7B,GAAI28B,YAAa,EAAjB,CACA,GAAIm/D,WAAY,EAAhB,CACA,GAAIlhC,YAAa,EAAjB,CACA,GAAIh8D,YAAa,EAAjB,CACAxa,OAAOiQ,IAAP,CAAY2L,IAAZ,EAAkBpX,OAAlB,CAA0B,SAAU0L,GAAV,CAAe,CACrC,GAAIvO,OAAQia,KAAK1L,GAAL,CAAZ,CACA,GAAI2L,SAAU3L,IAAI9J,KAAJ,CAAUozG,cAAV,CAAd,CACA,GAAI39F,UAAY,IAAhB,CAAsB,CAClB08B,WAAWroC,GAAX,EAAkBvO,KAAlB,CACH,CAFD,IAGK,IAAIka,QAAQ,CAAE,cAAV,GAA6B,IAAjC,CAAuC,CACxC26D,WAAW36D,QAAQ,CAAE,cAAV,CAAX,EAAwCla,KAAxC,CACH,CAFI,IAGA,IAAIka,QAAQ,CAAE,WAAV,GAA0B,IAA9B,CAAoC,CACrC67F,UAAU77F,QAAQ,CAAE,WAAV,CAAV,EAAoCla,KAApC,CACH,CAFI,IAGA,IAAIka,QAAQ,CAAE,eAAV,GAA8B,IAAlC,CAAwC,CACzCrB,WAAWqB,QAAQ,CAAE,eAAV,CAAX,EAAyCla,KAAzC,CACH,CACJ,CAfD,EAgBA,MAAO,CAAE42C,WAAYA,UAAd,CAA0Bm/D,UAAWA,SAArC,CAAgDlhC,WAAYA,UAA5D,CAAwEh8D,WAAYA,UAApF,CAAP,CACH,CAED;;;;;;OAOA,GAAIk/F,eAAgB,aAAe,UAAY,CAC3C,QAASA,cAAT,CAAuBC,UAAvB,CAAmCC,UAAnC,CAA+CC,aAA/C,CAA8D,CAC1D,KAAKF,UAAL,CAAkBA,UAAlB,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,GAAI,MAAOC,cAAP,GAAyB,QAA7B,CAAuC,CACnC,KAAKziF,MAAL,CAAcyiF,aAAd,CACA,KAAKhlD,KAAL,CAAa,IAAb,CACH,CAHD,IAIK,CACD,KAAKz9B,MAAL,CAAc,IAAd,CACA,KAAKy9B,KAAL,CAAaglD,aAAb,CACH,CACJ,CACDH,cAAcj5G,SAAd,CAAwB+pD,YAAxB,CAAuC,SAAUD,KAAV,CAAiB,CACpD,GAAI,KAAKqvD,UAAL,GAAoBrvD,MAAMqvD,UAA9B,CAA0C,CACtC,MAAO,MAAP,CACH,CACD,GAAI,KAAKxiF,MAAT,CAAiB,CACb,MAAO,MAAKA,MAAL,GAAgBmzB,MAAMnzB,MAA7B,CACH,CACD,GAAImzB,MAAMsK,KAAN,EAAe,IAAnB,CAAyB,CACrB,MAAO,MAAP,CACH,CACD;AACA;AACA,MAAOpK,kBAAiB,KAAKoK,KAAtB,CAA6BtK,MAAMsK,KAAnC,CAAP,CACH,CAbD,CAcA,MAAO6kD,cAAP,CACH,CA5BkC,EAAnC,CA6BA,QAASI,aAAT,CAAsB97E,IAAtB,CAA4Bg1C,QAA5B,CAAsC,CAClC,GAAIA,WAAa,IAAK,EAAtB,CAAyB,CAAEA,SAAW,EAAX,CAAgB,CAC3C,GAAI,CAACh1C,KAAK62B,KAAV,CAAiB,CACb,KAAM,IAAInyD,MAAJ,CAAU,oDAAsDs7B,KAAK47E,UAArE,CAAN,CACH,CACD,MAAO,IAAI9mC,kBAAJ,GAAwBgB,cAAxB,CAAuC91C,KAAK47E,UAA5C,CAAwD57E,KAAK62B,KAA7D,CAAoEme,QAApE,CAAP,CACH,CAED;;;;;;OAOA,QAAS+mC,eAAT,CAAwB95F,UAAxB,CAAoCooC,SAApC,CAA+C,CAC3C,GAAIuO,IAAJ,CAASpzD,EAAT,CAAa6vF,GAAb,CAAkB5vF,EAAlB,CACA,GAAIu2G,eAAgB,EAApB,CACA,GAAI,CACA,IAAK,GAAIn2G,IAAKxC,SAAS4e,WAAWjD,gBAAX,CAA4B7H,SAArC,CAAT,CAA0DnR,GAAKH,GAAGnC,IAAH,EAApE,CAA+E,CAACsC,GAAGpC,IAAnF,CAAyFoC,GAAKH,GAAGnC,IAAH,EAA9F,CAAyG,CACrG,GAAIwC,IAAKF,GAAGrC,KAAZ,CAAmBmc,SAAW5Z,GAAG4Z,QAAjC,CAA2Cte,OAAS0E,GAAG1E,MAAvD,CACA,GAAIoa,eAAekE,SAAStT,KAAxB,IAAmC69C,UAAU4xD,MAAjD,CAAyD,CACrD,GAAIC,cAAeC,qBAAqBr8F,SAASa,QAA9B,CAAnB,CACA,GAAI,CACA,IAAK,GAAIy7F,gBAAiB/4G,SAAS64G,YAAT,CAArB,CAA6CG,iBAAmBD,eAAe14G,IAAf,EAArE,CAA4F,CAAC24G,iBAAiBz4G,IAA9G,CAAoHy4G,iBAAmBD,eAAe14G,IAAf,EAAvI,CAA8J,CAC1J,GAAI44G,OAAQD,iBAAiB14G,KAA7B,CACAq4G,cAAc/3G,IAAd,CAAmBs4G,eAAeD,KAAf,CAAsBjyD,SAAtB,CAAiC7oD,OAAOwZ,SAAxC,CAAnB,EACH,CACJ,CACD,MAAOw6E,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI6mB,kBAAoB,CAACA,iBAAiBz4G,IAAtC,GAA+C6B,GAAK22G,eAAepjD,MAAnE,CAAJ,CAAgFvzD,GAAGtC,IAAH,CAAQi5G,cAAR,EACnF,CAFD,OAGQ,CAAE,GAAI/mB,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACJ,CACJ,CACJ,CACD,MAAO60D,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CArBzC,OAsBQ,CACJ,GAAI,CACA,GAAI/yD,IAAM,CAACA,GAAGpC,IAAV,GAAmB4B,GAAKK,GAAGmzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQ0C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAI+yD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,MAAO83G,cAAP,CACH,CACD,QAASG,qBAAT,CAA8BK,MAA9B,CAAsCzmG,MAAtC,CAA8C,CAC1C,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,EAAT,CAAc,CACvC,GAAI4/E,IAAJ,CAASnwF,EAAT,CACA,GAAI,MAAOg3G,OAAP,GAAkB,QAAtB,CAAgC,CAC5BzmG,OAAO9R,IAAP,CAAYu4G,MAAZ,EACH,CAFD,IAGK,IAAIr6G,MAAMmP,OAAN,CAAckrG,MAAd,CAAJ,CAA2B,CAC5B,GAAI,CACA,IAAK,GAAIC,UAAWp5G,SAASm5G,MAAT,CAAf,CAAiCE,WAAaD,SAAS/4G,IAAT,EAAnD,CAAoE,CAACg5G,WAAW94G,IAAhF,CAAsF84G,WAAaD,SAAS/4G,IAAT,EAAnG,CAAoH,CAChH,GAAI44G,OAAQI,WAAW/4G,KAAvB,CACAw4G,qBAAqBG,KAArB,CAA4BvmG,MAA5B,EACH,CACJ,CACD,MAAOogF,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAIumB,YAAc,CAACA,WAAW94G,IAA1B,GAAmC4B,GAAKi3G,SAASzjD,MAAjD,CAAJ,CAA8DxzD,GAAGrC,IAAH,CAAQs5G,QAAR,EACjE,CAFD,OAGQ,CAAE,GAAI9mB,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACJ,CAdI,IAeA,IAAIs4G,OAAON,YAAX,CAAyB,CAC1BC,qBAAqBK,OAAON,YAA5B,CAA0CnmG,MAA1C,EACH,CAFI,IAGA,IAAIymG,OAAOllG,QAAX,CAAqB,CACtB6kG,qBAAqBK,OAAOllG,QAA5B,CAAsCvB,MAAtC,EACH,CACD,MAAOA,OAAP,CACH,CACD,QAASwmG,eAAT,CAAwBD,KAAxB,CAA+BjyD,SAA/B,CAA0C7oD,MAA1C,CAAkD,CAC9C,GAAIgE,IAAK3B,OAAOy4G,MAAM9nG,KAAN,CAAY,GAAZ,CAAP,CAAyB,CAAzB,CAAT,CAAsCmoG,UAAYn3G,GAAG,CAAH,CAAlD,CAAyDo3G,UAAYp3G,GAAG,CAAH,CAArE,CACA,GAAIq3G,kBAAmBxyD,UAAUC,wBAAV,CAAmC,CACtDjD,WAAYs1D,SAD0C,CAEtD31G,KAAM41G,SAFgD,CAAnC,CAGpBp7G,OAASA,OAAO2Y,QAAhB,CAA2BtN,SAHP,CAAvB,CAIA,MAAO,CAAEyvG,MAAOA,KAAT,CAAgB96G,OAAQA,QAAUq7G,gBAAlC,CAAoDA,iBAAkBA,gBAAtE,CAAP,CACH,CAED;;;;;;OAOA,GAAIC,IAAK,wBAAT,CACA,GAAIC,sBAAuB,aAAe,UAAY,CAClD,QAASA,qBAAT,CAA8B/iD,MAA9B,CAAsC1uC,QAAtC,CAAgD,CAC5C,KAAK0uC,MAAL,CAAcA,MAAd,CACA,KAAK1uC,QAAL,CAAgBA,QAAhB,CACH,CACD,MAAOyxF,qBAAP,CACH,CANyC,EAA1C,CAOA,GAAIC,0BAA2B,CAA/B,CACA;;;;;;;OAQA,GAAIC,sBAAuB,aAAe,UAAY,CAClD,QAASA,qBAAT,CAA8Br/F,IAA9B,CAAoCs/F,iBAApC,CAAuDC,eAAvD,CAAwEC,aAAxE,CAAuF,CACnF,KAAKx/F,IAAL,CAAYA,IAAZ,CACA,KAAKs/F,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,eAAL,CAAuBA,eAAvB,CACA,KAAKC,aAAL,CAAqBA,aAArB,CACA,KAAKC,aAAL,CAAqB,GAAI1zG,IAAJ,EAArB,CACA;AACA,KAAK2zG,eAAL,CAAuB,GAAI3zG,IAAJ,EAAvB,CACA,KAAK4zG,iBAAL,CAAyB,GAAIj+F,IAAJ,EAAzB,CACA;AACA,KAAKk+F,QAAL,CAAgB,GAAI7zG,IAAJ,EAAhB,CACA,KAAK8zG,mBAAL,CAA2B,GAAI9zG,IAAJ,EAA3B,CACA,KAAK+zG,cAAL,CAAsB,GAAI/zG,IAAJ,EAAtB,CACA,KAAKg0G,0BAAL,CAAkC,GAAIh0G,IAAJ,EAAlC,CACH,CACDszG,qBAAqBx6G,SAArB,CAA+Bm7G,aAA/B,CAA+C,SAAUC,YAAV,CAAwB,CACnE,GAAIA,aAAazjG,OAAb,CAAqBlX,MAArB,CAA8B,CAAlC,CAAqC,CACjC,MAAO,MAAK46G,qBAAL,CAA2BD,YAA3B,CAAP,CACH,CACD;AACA;AACA;AACA,GAAIE,mBAAoB,KAAKC,yBAAL,CAA+BH,YAA/B,CAAxB,CACA,GAAIE,iBAAJ,CAAuB,CACnB,MAAOA,kBAAP,CACH,CACD,GAAIE,iBAAkB,KAAKX,eAAL,CAAqBlyG,GAArB,CAAyByyG,YAAzB,CAAtB,CACA,GAAII,eAAJ,CAAqB,CACjB,MAAOA,gBAAP,CACH,CACD;AACA;AACA;AACA,KAAKC,gBAAL,CAAsBL,aAAa1jG,QAAnC,EACA,MAAO,MAAKmjG,eAAL,CAAqBlyG,GAArB,CAAyByyG,YAAzB,CAAP,CACH,CApBD,CAqBA;;;;;;;;WASAZ,qBAAqBx6G,SAArB,CAA+B07G,WAA/B,CAA6C,SAAUN,YAAV,CAAwBO,YAAxB,CAAsC,CAC/E,GAAIA,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,IAAf,CAAsB,CACrD,GAAIP,aAAazjG,OAAb,CAAqBlX,MAAzB,CAAiC,CAC7B,GAAIm7G,YAAa,KAAKC,eAAL,CAAqBT,aAAa1jG,QAAlC,CAA4C0jG,aAAa72G,IAAzD,CAAjB,CACA,GAAIu3G,cAAe,KAAKJ,WAAL,CAAiBE,UAAjB,CAA6BD,YAA7B,CAAnB,CACA,MAAOG,cACH,KAAKD,eAAL,CAAqBC,aAAapkG,QAAlC,CAA4CokG,aAAav3G,IAAzD,CAA+D62G,aAAazjG,OAA5E,CADG,CAEH,IAFJ,CAGH,CACD,GAAIokG,oBAAqB/iD,6BAA6BoiD,aAAa1jG,QAA1C,CAAzB,CACA,GAAIqkG,qBAAuBX,aAAa1jG,QAAxC,CAAkD,CAC9C,GAAIskG,gBAAiB7iD,6BAA6BiiD,aAAa72G,IAA1C,CAArB,CACA,GAAIq3G,YAAa,KAAKC,eAAL,CAAqBE,kBAArB,CAAyCC,cAAzC,CAAyDZ,aAAazjG,OAAtE,CAAjB,CACA,GAAImkG,cAAe,KAAKJ,WAAL,CAAiBE,UAAjB,CAA6BD,YAA7B,CAAnB,CACA,MAAOG,cACH,KAAKD,eAAL,CAAqB9iD,sBAAsB+iD,aAAapkG,QAAnC,CAArB,CAAmEuhD,kBAAkB6iD,aAAav3G,IAA/B,CAAnE,CAAyGq3G,WAAWjkG,OAApH,CADG,CAEH,IAFJ,CAGH,CACD,GAAIhR,QAAUg1G,cAAgB,KAAKjB,eAAL,CAAqBgB,WAArB,CAAiCN,YAAjC,CAAjB,EAAoE,IAAjF,CACA,GAAI,CAACz0G,MAAL,CAAa,CACTA,OAAS,KAAKo0G,QAAL,CAAcpyG,GAAd,CAAkByyG,YAAlB,CAAT,CACH,CACD,MAAOz0G,OAAP,CACH,CAvBD,CAwBA;;;;WAKA6zG,qBAAqBx6G,SAArB,CAA+Bi8G,eAA/B,CAAiD,SAAUb,YAAV,CAAwB,CACrE,MAAO,MAAKJ,mBAAL,CAAyBryG,GAAzB,CAA6ByyG,YAA7B,GAA8CA,aAAa1jG,QAAlE,CACH,CAFD,CAGA;;;WAIA8iG,qBAAqBx6G,SAArB,CAA+Bk8G,YAA/B,CAA8C,SAAUd,YAAV,CAAwB,CAClE;AACA;AACA;AACA;AACA,GAAI5iD,gBAAgB4iD,aAAa1jG,QAA7B,CAAJ,CAA4C,CACxC,MAAO,KAAP,CACH,CACD,GAAIykG,gBAAiBC,uBAAuB,KAAKjB,aAAL,CAAmBC,YAAnB,CAAvB,CAArB,CACA,MAAOe,gBAAkBA,eAAetzF,QAAf,WAAmCpR,aAA5D,CAA0E,CACtE0kG,eAAiBC,uBAAuB,KAAKjB,aAAL,CAAmBgB,eAAetzF,QAAlC,CAAvB,CAAjB,CACH,CACD,MAAQszF,iBAAkBA,eAAetzF,QAAjC,EAA6CszF,eAAetzF,QAAf,CAAwBwzF,KAAtE,EAAgF,IAAvF,CACH,CAbD,CAcA7B,qBAAqBx6G,SAArB,CAA+Bs8G,kBAA/B,CAAoD,SAAU5kG,QAAV,CAAoB,CACpE,MAAO,MAAKwjG,0BAAL,CAAgCvyG,GAAhC,CAAoC+O,QAApC,GAAiD,IAAxD,CACH,CAFD,CAGA8iG,qBAAqBx6G,SAArB,CAA+Bu8G,cAA/B,CAAgD,SAAUC,YAAV,CAAwBC,YAAxB,CAAsC,CAClFD,aAAa5kG,eAAb,GACA6kG,aAAa7kG,eAAb,GACA,KAAKmjG,QAAL,CAAcnyG,GAAd,CAAkB4zG,YAAlB,CAAgCC,YAAhC,EACH,CAJD,CAKAjC,qBAAqBx6G,SAArB,CAA+B08G,2BAA/B,CAA6D,SAAU7jD,QAAV,CAAoBjU,UAApB,CAAgC,CACzF,KAAKs2D,0BAAL,CAAgCtyG,GAAhC,CAAoCiwD,QAApC,CAA8CjU,UAA9C,EACH,CAFD,CAGA;;;;WAKA41D,qBAAqBx6G,SAArB,CAA+B28G,cAA/B,CAAgD,SAAU9jD,QAAV,CAAoB,CAChE,GAAI1C,IAAJ,CAASpzD,EAAT,CACA,KAAK63G,aAAL,CAAmB90F,MAAnB,CAA0B+yC,QAA1B,EACA,KAAKiiD,iBAAL,CAAuBh1F,MAAvB,CAA8B+yC,QAA9B,EACA,GAAI+jD,SAAU,KAAK3B,cAAL,CAAoBtyG,GAApB,CAAwBkwD,QAAxB,CAAd,CACA,GAAI+jD,OAAJ,CAAa,CACT,KAAK3B,cAAL,CAAoBn1F,MAApB,CAA2B+yC,QAA3B,EACA,GAAI,CACA,IAAK,GAAIgkD,WAAYj8G,SAASg8G,OAAT,CAAhB,CAAmCE,YAAcD,UAAU57G,IAAV,EAAtD,CAAwE,CAAC67G,YAAY37G,IAArF,CAA2F27G,YAAcD,UAAU57G,IAAV,EAAzG,CAA2H,CACvH,GAAIs2D,QAASulD,YAAY57G,KAAzB,CACA,KAAK25G,eAAL,CAAqB/0F,MAArB,CAA4ByxC,MAA5B,EACA,KAAKwjD,QAAL,CAAcj1F,MAAd,CAAqByxC,MAArB,EACA,KAAKyjD,mBAAL,CAAyBl1F,MAAzB,CAAgCyxC,MAAhC,EACH,CACJ,CACD,MAAOjB,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CARzC,OASQ,CACJ,GAAI,CACA,GAAIwmD,aAAe,CAACA,YAAY37G,IAA5B,GAAqC4B,GAAK85G,UAAUtmD,MAApD,CAAJ,CAAiExzD,GAAGrC,IAAH,CAAQm8G,SAAR,EACpE,CAFD,OAGQ,CAAE,GAAI1mD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACJ,CACJ,CAvBD,CAwBA,gBACA+4G,qBAAqBx6G,SAArB,CAA+B+8G,eAA/B,CAAiD,SAAUjtG,EAAV,CAAc,CAC3D,GAAIktG,UAAW,KAAKrC,aAApB,CACA,KAAKA,aAAL,CAAqB,UAAY,CAAG,CAApC,CACA,GAAI,CACA,MAAO7qG,KAAP,CACH,CAFD,OAGQ,CACJ,KAAK6qG,aAAL,CAAqBqC,QAArB,CACH,CACJ,CATD,CAUAxC,qBAAqBx6G,SAArB,CAA+Bq7G,qBAA/B,CAAuD,SAAUD,YAAV,CAAwB,CAC3E,GAAIzjG,SAAUyjG,aAAazjG,OAA3B,CACA,GAAIslG,oBAAqB,KAAK9B,aAAL,CAAmB,KAAKU,eAAL,CAAqBT,aAAa1jG,QAAlC,CAA4C0jG,aAAa72G,IAAzD,CAAnB,CAAzB,CACA,GAAI,CAAC04G,kBAAL,CAAyB,CACrB,MAAO,KAAP,CACH,CACD,GAAIC,cAAed,uBAAuBa,mBAAmBp0F,QAA1C,CAAnB,CACA,GAAIq0F,uBAAwBzlG,aAA5B,CAA0C,CACtC,MAAO,IAAI6iG,qBAAJ,CAAyBc,YAAzB,CAAuC,KAAKS,eAAL,CAAqBqB,aAAaxlG,QAAlC,CAA4CwlG,aAAa34G,IAAzD,CAA+DoT,OAA/D,CAAvC,CAAP,CACH,CAFD,IAGK,IAAIulG,cAAgBA,aAAaC,UAAb,GAA4B,OAAhD,CAAyD,CAC1D,GAAID,aAAaE,OAAb,EAAwBzlG,QAAQlX,MAAR,GAAmB,CAA/C,CAAkD,CAC9C,MAAO,IAAI65G,qBAAJ,CAAyBc,YAAzB,CAAuC8B,aAAaE,OAAb,CAAqBzlG,QAAQ,CAAR,CAArB,CAAvC,CAAP,CACH,CACJ,CAJI,IAKA,CACD,GAAIzW,OAAQg8G,YAAZ,CACA,IAAK,GAAI58G,GAAI,CAAb,CAAgBA,EAAIqX,QAAQlX,MAAZ,EAAsBS,KAAtC,CAA6CZ,GAA7C,CAAkD,CAC9CY,MAAQA,MAAMyW,QAAQrX,CAAR,CAAN,CAAR,CACH,CACD,MAAO,IAAIg6G,qBAAJ,CAAyBc,YAAzB,CAAuCl6G,KAAvC,CAAP,CACH,CACD,MAAO,KAAP,CACH,CAvBD,CAwBAs5G,qBAAqBx6G,SAArB,CAA+Bu7G,yBAA/B,CAA2D,SAAUH,YAAV,CAAwB,CAC/E,GAAI3+C,SAAU,KAAKi+C,eAAL,CAAqBh+C,cAArB,CAAoC0+C,YAApC,CAAd,CACA,MAAO3+C,SAAU,GAAI69C,qBAAJ,CAAyBc,YAAzB,CAAuC3+C,QAAQ5zC,QAA/C,CAAV,CAAqE,IAA5E,CACH,CAHD,CAIA;;;;;;;WAQA2xF,qBAAqBx6G,SAArB,CAA+B67G,eAA/B,CAAiD,SAAU7jG,eAAV,CAA2BzT,IAA3B,CAAiCoT,OAAjC,CAA0C,CACvF,MAAO,MAAK8iG,iBAAL,CAAuB9xG,GAAvB,CAA2BqP,eAA3B,CAA4CzT,IAA5C,CAAkDoT,OAAlD,CAAP,CACH,CAFD,CAGA;;;;;;WAOA6iG,qBAAqBx6G,SAArB,CAA+Bq9G,aAA/B,CAA+C,SAAU3lG,QAAV,CAAoB,CAC/D,GAAImR,UAAW,KAAKy0F,iBAAL,CAAuB5lG,QAAvB,CAAf,CACA,GAAImR,SAAS,UAAT,CAAJ,CAA0B,CACtB,MAAOtpB,QAAOiQ,IAAP,CAAYqZ,SAAS,UAAT,CAAZ,EAAkC5Y,IAAlC,CAAuC,SAAUstG,WAAV,CAAuB,CACjE,GAAIviE,OAAQnyB,SAAS,UAAT,EAAqB00F,WAArB,CAAZ,CACA,MAAOviE,QAASA,MAAMmiE,UAAN,GAAqB,OAA9B,EAAyCniE,MAAMwiE,UAAtD,CACH,CAHM,CAAP,CAIH,CACD,MAAO,MAAP,CACH,CATD,CAUAhD,qBAAqBx6G,SAArB,CAA+By9G,YAA/B,CAA8C,SAAU/lG,QAAV,CAAoB,CAC9D,GAAIgmG,gBAAiB,KAAKhD,eAAL,CAAqB+C,YAArB,CAAkC/lG,QAAlC,CAArB,CACA,GAAIgmG,cAAJ,CAAoB,CAChB,MAAOA,eAAP,CACH,CACD;AACA;AACA,KAAKjC,gBAAL,CAAsB/jG,QAAtB,EACA,GAAIimG,iBAAkB,EAAtB,CACA,KAAK9C,eAAL,CAAqB92G,OAArB,CAA6B,SAAUo4G,cAAV,CAA0B,CACnD,GAAIA,eAAe5kD,MAAf,CAAsB7/C,QAAtB,GAAmCA,QAAvC,CAAiD,CAC7CimG,gBAAgBn8G,IAAhB,CAAqB26G,eAAe5kD,MAApC,EACH,CACJ,CAJD,EAKA,MAAOomD,gBAAP,CACH,CAfD,CAgBAnD,qBAAqBx6G,SAArB,CAA+By7G,gBAA/B,CAAkD,SAAU/jG,QAAV,CAAoB,CAClE,GAAI7T,OAAQ,IAAZ,CACA,GAAI+uF,IAAJ,CAAS7vF,EAAT,CACA,GAAI,KAAK+3G,iBAAL,CAAuBv9F,GAAvB,CAA2B7F,QAA3B,CAAJ,CAA0C,CACtC,OACH,CACD,KAAKojG,iBAAL,CAAuBt9F,GAAvB,CAA2B9F,QAA3B,EACA,GAAImjG,iBAAkB,EAAtB,CACA,GAAIhyF,UAAW,KAAKy0F,iBAAL,CAAuB5lG,QAAvB,CAAf,CACA,GAAImR,SAAS,UAAT,CAAJ,CAA0B,CACtB;AACA;AACA,KAAKqyF,0BAAL,CAAgCtyG,GAAhC,CAAoC8O,QAApC,CAA8CmR,SAAS,UAAT,CAA9C,EACH,CACD;AACA,GAAIA,SAAS,SAAT,CAAJ,CAAyB,CACrB,GAAI+0F,SAAU,SAAUC,YAAV,CAAwB,CAClC;AACA,GAAIA,aAAaC,MAAjB,CAAyB,CACrBD,aAAaC,MAAb,CAAoB/5G,OAApB,CAA4B,SAAUg6G,YAAV,CAAwB,CAChD,GAAI7kD,WAAJ,CACA,GAAI,MAAO6kD,aAAP,GAAwB,QAA5B,CAAsC,CAClC7kD,WAAa6kD,YAAb,CACH,CAFD,IAGK,CACD7kD,WAAa6kD,aAAa/qC,EAA1B,CACH,CACD9Z,WAAa8kD,mBAAmB9kD,UAAnB,CAAb,CACA,GAAI+kD,SAAU/kD,UAAd,CACA,GAAI,MAAO6kD,aAAP,GAAwB,QAA5B,CAAsC,CAClCE,QAAUD,mBAAmBD,aAAax5G,IAAhC,CAAV,CACH,CACD,GAAI25G,gBAAiBr6G,MAAMs6G,aAAN,CAAoBN,aAAarhE,IAAjC,CAAuC9kC,QAAvC,CAArB,CACA,GAAIwmG,cAAJ,CAAoB,CAChB,GAAIzB,cAAe54G,MAAMg4G,eAAN,CAAsBqC,cAAtB,CAAsCD,OAAtC,CAAnB,CACA,GAAIzB,cAAe34G,MAAMg4G,eAAN,CAAsBnkG,QAAtB,CAAgCwhD,UAAhC,CAAnB,CACA2hD,gBAAgBr5G,IAAhB,CAAqBqC,MAAMu6G,YAAN,CAAmB5B,YAAnB,CAAiCC,YAAjC,CAArB,EACH,CACJ,CAnBD,EAoBH,CArBD,IAsBK,CACD;AACA,GAAIyB,gBAAiBG,OAAOF,aAAP,CAAqBN,aAAarhE,IAAlC,CAAwC9kC,QAAxC,CAArB,CACA,GAAIwmG,cAAJ,CAAoB,CAChB,GAAII,eAAgBD,OAAOZ,YAAP,CAAoBS,cAApB,CAApB,CACAI,cAAcv6G,OAAd,CAAsB,SAAU04G,YAAV,CAAwB,CAC1C,GAAID,cAAe34G,MAAMg4G,eAAN,CAAsBnkG,QAAtB,CAAgC+kG,aAAal4G,IAA7C,CAAnB,CACAs2G,gBAAgBr5G,IAAhB,CAAqBqC,MAAMu6G,YAAN,CAAmB5B,YAAnB,CAAiCC,YAAjC,CAArB,EACH,CAHD,EAIH,CACJ,CACJ,CAnCD,CAoCA,GAAI4B,QAAS,IAAb,CACA,GAAI,CACA,IAAK,GAAIr7G,IAAKpC,SAASioB,SAAS,SAAT,CAAT,CAAT,CAAwCzlB,GAAKJ,GAAG/B,IAAH,EAAlD,CAA6D,CAACmC,GAAGjC,IAAjE,CAAuEiC,GAAKJ,GAAG/B,IAAH,EAA5E,CAAuF,CACnF,GAAI48G,cAAez6G,GAAGlC,KAAtB,CACA08G,QAAQC,YAAR,EACH,CACJ,CACD,MAAO9qB,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI3vF,IAAM,CAACA,GAAGjC,IAAV,GAAmB4B,GAAKC,GAAGuzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQsC,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAI4vF,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACJ,CACD;AACA;AACA;AACA,GAAIonB,SAAS,UAAT,CAAJ,CAA0B,CACtB;AACA,GAAI01F,uBAAwB,GAAI1hG,IAAJ,CAAQtd,OAAOiQ,IAAP,CAAYqZ,SAAS,UAAT,CAAZ,EAAkC9f,GAAlC,CAAsCi1G,kBAAtC,CAAR,CAA5B,CACA,GAAIQ,WAAY31F,SAAS,SAAT,GAAuB,EAAvC,CACAtpB,OAAOiQ,IAAP,CAAYqZ,SAAS,UAAT,CAAZ,EAAkC9kB,OAAlC,CAA0C,SAAUw5G,WAAV,CAAuB,CAC7D,GAAIkB,YAAa51F,SAAS,UAAT,EAAqB00F,WAArB,CAAjB,CACA,GAAIh5G,MAAOy5G,mBAAmBT,WAAnB,CAAX,CACA,GAAIhmD,QAAS1zD,MAAMg4G,eAAN,CAAsBnkG,QAAtB,CAAgCnT,IAAhC,CAAb,CACA,GAAIm6G,QAASF,UAAU5+G,cAAV,CAAyB29G,WAAzB,GAAyCiB,UAAUjB,WAAV,CAAtD,CACA,GAAImB,MAAJ,CAAY,CACR;AACA;AACA;AACA,GAAIC,gBAAiB96G,MAAMs6G,aAAN,CAAoBO,MAApB,CAA4BhnG,QAA5B,CAArB,CACA,GAAI,CAACinG,cAAL,CAAqB,CACjB96G,MAAMunG,WAAN,CAAkB,GAAInpG,MAAJ,CAAU,wCAA0Cy8G,MAA1C,CAAmD,QAAnD,CAA8DhnG,QAAxE,CAAlB,EACH,CAFD,IAGK,CACD7T,MAAMm3G,mBAAN,CAA0BpyG,GAA1B,CAA8B2uD,MAA9B,CAAsConD,cAAtC,EACH,CACJ,CACD9D,gBAAgBr5G,IAAhB,CAAqBqC,MAAM+6G,oBAAN,CAA2BrnD,MAA3B,CAAmC7/C,QAAnC,CAA6C6mG,qBAA7C,CAAoEE,UAApE,CAArB,EACH,CAlBD,EAmBH,CACD5D,gBAAgB92G,OAAhB,CAAwB,SAAUo4G,cAAV,CAA0B,CAAE,MAAOt4G,OAAMg3G,eAAN,CAAsBjyG,GAAtB,CAA0BuzG,eAAe5kD,MAAzC,CAAiD4kD,cAAjD,CAAP,CAA0E,CAA9H,EACA,KAAKlB,cAAL,CAAoBryG,GAApB,CAAwB8O,QAAxB,CAAkCmjG,gBAAgB9xG,GAAhB,CAAoB,SAAUozG,cAAV,CAA0B,CAAE,MAAOA,gBAAe5kD,MAAtB,CAA+B,CAA/E,CAAlC,EACH,CAhGD,CAiGAijD,qBAAqBx6G,SAArB,CAA+B4+G,oBAA/B,CAAsD,SAAUpC,YAAV,CAAwBqC,YAAxB,CAAsCC,mBAAtC,CAA2Dj2F,QAA3D,CAAqE,CACvH,GAAIhlB,OAAQ,IAAZ,CACA;AACA;AACA;AACA;AACA;AACA,GAAIk7G,UAAW1E,GAAG93F,IAAH,CAAQi6F,aAAa9kG,QAArB,CAAf,CACA,GAAI,KAAKgjG,eAAL,CAAqBsE,aAArB,CAAmCxC,aAAa9kG,QAAhD,GAA6D,CAACqnG,QAA9D,EAA0El2F,QAA1E,EACAA,SAAS,YAAT,IAA2B,OAD/B,CACwC,CACpC,GAAIo2F,mBAAoB,CAAE9B,WAAY,OAAd,CAAuBd,MAAOxzF,SAASwzF,KAAvC,CAAxB,CACA,MAAO,IAAI/B,qBAAJ,CAAyBkC,YAAzB,CAAuCyC,iBAAvC,CAAP,CACH,CACD,GAAIC,kBAAJ,CACA,GAAIC,iBAAkB,UAAY,CAC9B,GAAI,CAACD,iBAAL,CAAwB,CACpB;AACA;AACA;AACA;AACAA,kBACIr7G,MAAMsX,IAAN,CAAWikG,aAAX,CAAyBP,aAAa5wG,OAAb,CAAqB,sBAArB,CAA6C,KAA7C,EACpBA,OADoB,CACZ,sBADY,CACY,EADZ,CAAzB,CADJ,CAGH,CACD,MAAOixG,kBAAP,CACH,CAXD,CAYA,GAAItkB,MAAO,IAAX,CACA,GAAIykB,sBAAuB,aAAe,SAAU5oG,MAAV,CAAkB,CACxD5W,UAAUw/G,oBAAV,CAAgC5oG,MAAhC,EACA,QAAS4oG,qBAAT,EAAgC,CAC5B,MAAO5oG,UAAW,IAAX,EAAmBA,OAAO9V,KAAP,CAAa,IAAb,CAAmBH,SAAnB,CAAnB,EAAoD,IAA3D,CACH,CACD6+G,qBAAqBr/G,SAArB,CAA+BgP,cAA/B,CAAgD,SAAUjG,GAAV,CAAeu2G,cAAf,CAA+B,CAC3E,GAAIC,UAAWx2G,IAAI,YAAJ,CAAf,CACA,GAAIw2G,WAAa,UAAjB,CAA6B,CACzB,GAAIC,QAASF,eAAe7+G,MAA5B,CACA6+G,eAAe99G,IAAf,CAAoBb,KAApB,CAA0B2+G,cAA1B,CAA0C59G,SAAUqH,IAAI,YAAJ,GAAqB,EAA/B,CAA1C,EACA,GAAIpC,QAAS8P,OAAOzW,SAAP,CAAiBgP,cAAjB,CAAgCtO,IAAhC,CAAqC,IAArC,CAA2CqI,GAA3C,CAAgDu2G,cAAhD,CAAb,CACAA,eAAe7+G,MAAf,CAAwB++G,MAAxB,CACA,MAAO74G,OAAP,CACH,CAND,IAOK,IAAI44G,WAAa,WAAjB,CAA8B,CAC/B,GAAIxgH,QAASgK,IAAI,QAAJ,CAAb,CACA,GAAIjC,QAASiC,IAAI,MAAJ,EAAci1G,mBAAmBj1G,IAAI,MAAJ,CAAnB,CAAd,CAAgDA,IAAI,MAAJ,CAA7D,CACA,GAAI,CAACjC,MAAL,CAAa,CACT,MAAO,KAAP,CACH,CACD,GAAI4Q,UAAW,IAAK,EAApB,CACA,GAAI3Y,MAAJ,CAAY,CACR2Y,SAAWkjF,KAAKujB,aAAL,CAAmBp/G,MAAnB,CAA2By9G,aAAa9kG,QAAxC,CAAX,CACA,GAAI,CAACA,QAAL,CAAe,CACX,MAAO,CACHylG,WAAY,OADT,CAEHlsF,QAAS,qBAAuBlyB,MAAvB,CAAgC,eAAhC,CAAkDy9G,aAAa9kG,QAA/D,CAA0E,GAFhF,CAGH8lB,KAAMz0B,IAAIy0B,IAHP,CAIHjvB,UAAWxF,IAAIwF,SAJZ,CAKHsqD,SAAUsmD,iBALP,CAAP,CAOH,CACD,MAAO,CACHhC,WAAY,UADT,CAEH5lD,OAAQqjC,KAAKihB,eAAL,CAAqBnkG,QAArB,CAA+B5Q,MAA/B,CAFL,CAGH02B,KAAMz0B,IAAIy0B,IAHP,CAIHjvB,UAAWxF,IAAIwF,SAJZ,CAKHsqD,SAAUsmD,iBALP,CAAP,CAOH,CAlBD,IAmBK,IAAIG,eAAet9G,OAAf,CAAuB8E,MAAvB,GAAkC,CAAtC,CAAyC,CAC1C;AACA,MAAO,CAAEq2G,WAAY,WAAd,CAA2B54G,KAAMuC,MAAjC,CAAP,CACH,CAHI,IAIA,CACD,GAAIg4G,oBAAoBvhG,GAApB,CAAwBzW,MAAxB,CAAJ,CAAqC,CACjC,MAAO8zF,MAAKihB,eAAL,CAAqBgD,YAArB,CAAmC/3G,MAAnC,CAAP,CACH,CACJ,CACJ,CAnCI,IAoCA,IAAIy4G,WAAa,OAAjB,CAA0B,CAC3B,MAAOr/G,UAAS,EAAT,CAAa6I,GAAb,CAAkB,CAAE8vD,SAAUsmD,iBAAZ,CAAlB,CAAP,CACH,CAFI,IAGA,CACD,MAAO1oG,QAAOzW,SAAP,CAAiBgP,cAAjB,CAAgCtO,IAAhC,CAAqC,IAArC,CAA2CqI,GAA3C,CAAgDu2G,cAAhD,CAAP,CACH,CACJ,CAnDD,CAoDA,MAAOD,qBAAP,CACH,CA1DyC,CA0DxC/vG,gBA1DwC,CAA1C,CA2DA,GAAImwG,iBAAkB/wG,WAAWma,QAAX,CAAqB,GAAIw2F,qBAAJ,EAArB,CAAiD,EAAjD,CAAtB,CACA,GAAIK,0BAA2BtD,uBAAuBqD,eAAvB,CAA/B,CACA,GAAIC,mCAAoCjoG,aAAxC,CAAsD,CAClD,MAAO,MAAK2mG,YAAL,CAAkB5B,YAAlB,CAAgCkD,wBAAhC,CAAP,CACH,CACD,MAAO,IAAIpF,qBAAJ,CAAyBkC,YAAzB,CAAuCiD,eAAvC,CAAP,CACH,CA5FD,CA6FAjF,qBAAqBx6G,SAArB,CAA+Bo+G,YAA/B,CAA8C,SAAU5B,YAAV,CAAwBC,YAAxB,CAAsC,CAChFD,aAAa5kG,eAAb,GACA6kG,aAAa7kG,eAAb,GACA,GAAI,KAAK8iG,eAAL,CAAqBsE,aAArB,CAAmCxC,aAAa9kG,QAAhD,GACA,KAAKgjG,eAAL,CAAqBsE,aAArB,CAAmCvC,aAAa/kG,QAAhD,CADJ,CAC+D,CAC3D;AACA;AACA;AACA;AACA,KAAKqjG,QAAL,CAAcnyG,GAAd,CAAkB6zG,YAAlB,CAAgC,KAAKf,WAAL,CAAiBc,YAAjB,GAAkCA,YAAlE,EACH,CACD,MAAO,IAAIlC,qBAAJ,CAAyBkC,YAAzB,CAAuCC,YAAvC,CAAP,CACH,CAZD,CAaAjC,qBAAqBx6G,SAArB,CAA+BorG,WAA/B,CAA6C,SAAU5mC,QAAV,CAAoB51D,OAApB,CAA6B+Q,IAA7B,CAAmC,CAC5E,GAAI,KAAKg7F,aAAT,CAAwB,CACpB,KAAKA,aAAL,CAAmBn2C,QAAnB,CAA8B51D,SAAWA,QAAQ8I,QAApB,EAAiCiI,IAA9D,EACH,CAFD,IAGK,CACD,KAAM6kD,SAAN,CACH,CACJ,CAPD,CAQA;;WAGAg2C,qBAAqBx6G,SAArB,CAA+Bs9G,iBAA/B,CAAmD,SAAUv+G,MAAV,CAAkB,CACjE,GAAI4gH,gBAAiB,KAAK/E,aAAL,CAAmBjyG,GAAnB,CAAuB5J,MAAvB,CAArB,CACA,GAAI,CAAC4gH,cAAL,CAAqB,CACjB,GAAIC,iBAAkB,KAAKzkG,IAAL,CAAU0kG,cAAV,CAAyB9gH,MAAzB,CAAtB,CACA,GAAI6gH,eAAJ,CAAqB,CACjB,GAAIE,cAAe,CAAC,CAApB,CACAF,gBAAgB77G,OAAhB,CAAwB,SAAUg8G,EAAV,CAAc,CAClC,GAAIA,IAAMA,GAAG,SAAH,EAAgBD,YAA1B,CAAwC,CACpCA,aAAeC,GAAG,SAAH,CAAf,CACAJ,eAAiBI,EAAjB,CACH,CACJ,CALD,EAMH,CACD,GAAI,CAACJ,cAAL,CAAqB,CACjBA,eACI,CAAExC,WAAY,QAAd,CAAwBxgE,QAAS49D,wBAAjC,CAA2Dx7G,OAAQA,MAAnE,CAA2E8pB,SAAU,EAArF,CADJ,CAEH,CACD,GAAI82F,eAAe,SAAf,GAA6BpF,wBAAjC,CAA2D,CACvD,GAAIyF,cAAeL,eAAe,SAAf,GAA6B,CAA7B,CACf,gCAAkCA,eAAe,SAAf,CAAlC,CAA8D,cAA9D,CAA+E5gH,MAA/E,CAAwF,8DADzE,CAEf,wCAA0CA,MAA1C,CAAmD,kBAAnD,CAAwE4gH,eAAe,SAAf,CAAxE,CAAoG,aAApG,CAAoHpF,wBAFxH,CAGA,KAAKnP,WAAL,CAAiB,GAAInpG,MAAJ,CAAU+9G,YAAV,CAAjB,EACH,CACD,KAAKpF,aAAL,CAAmBhyG,GAAnB,CAAuB7J,MAAvB,CAA+B4gH,cAA/B,EACH,CACD,MAAOA,eAAP,CACH,CA1BD,CA2BAnF,qBAAqBx6G,SAArB,CAA+BigH,iBAA/B,CAAmD,SAAUlhH,MAAV,CAAkBm6D,UAAlB,CAA8BgnD,cAA9B,CAA8C,CAC7F,GAAIxoG,UAAW,KAAKymG,aAAL,CAAmBp/G,MAAnB,CAA2BmhH,cAA3B,CAAf,CACA,GAAI,CAACxoG,QAAL,CAAe,CACX,KAAK0zF,WAAL,CAAiB,GAAInpG,MAAJ,CAAU,4BAA8BlD,MAA9B,EAAwCmhH,eAAiB,gBAChFA,cAD+D,CAC9C,EADM,CAAV,CAAjB,EAEA,MAAO,MAAKrE,eAAL,CAAqB,SAAW98G,MAAhC,CAAwCm6D,UAAxC,CAAP,CACH,CACD,MAAO,MAAK2iD,eAAL,CAAqBnkG,QAArB,CAA+BwhD,UAA/B,CAAP,CACH,CARD,CASAshD,qBAAqBx6G,SAArB,CAA+Bm+G,aAA/B,CAA+C,SAAUp/G,MAAV,CAAkBmhH,cAAlB,CAAkC,CAC7E,GAAI,CACA,MAAO,MAAK/kG,IAAL,CAAUglG,oBAAV,CAA+BphH,MAA/B,CAAuCmhH,cAAvC,CAAP,CACH,CACD,MAAO3+G,CAAP,CAAU,CACNs0C,QAAQp0C,KAAR,CAAc,6BAA+B1C,MAA/B,CAAwC,qBAAxC,CAAgEmhH,cAA9E,EACA,KAAK9U,WAAL,CAAiB7pG,CAAjB,CAAoB6I,SAApB,CAA+B81G,cAA/B,EACH,CACD,MAAO,KAAP,CACH,CATD,CAUA,MAAO1F,qBAAP,CACH,CAheyC,EAA1C,CAieA;AACA;AACA,QAASwD,mBAAT,CAA4BvlG,UAA5B,CAAwC,CACpC,MAAOA,YAAWk/B,UAAX,CAAsB,KAAtB,EAA+Bl/B,WAAWulB,MAAX,CAAkB,CAAlB,CAA/B,CAAsDvlB,UAA7D,CACH,CACD,QAAS2jG,uBAAT,CAAgCvzF,QAAhC,CAA0C,CACtC,GAAIA,UAAYA,SAASs0F,UAAT,GAAwB,UAAxC,CAAoD,CAChD,MAAOt0F,UAAS0uC,MAAhB,CACH,CACD,MAAO1uC,SAAP,CACH,CAED,QAASu3F,mBAAT,CAA4BC,WAA5B,CAAyCC,SAAzC,CAAoD5F,eAApD,CAAqE6F,cAArE,CAAqF3D,OAArF,CAA8FjV,KAA9F,CAAqG,CACjG,GAAI6Y,kBAAmB,GAAIC,iBAAJ,CAAqBF,cAArB,CAAqC7F,eAArC,CAAsD2F,WAAtD,CAAvB,CACA;AACA;AACA;AACAzD,QAAQ74G,OAAR,CAAgB,SAAUo4G,cAAV,CAA0B,CAAE,MAAOqE,kBAAiBE,UAAjB,CAA4B,CAAEnpD,OAAQ4kD,eAAe5kD,MAAzB,CAAiC1uC,SAAUszF,eAAetzF,QAA1D,CAA5B,CAAP,CAA2G,CAAvJ,EACA;AACA8+E,MAAM5jG,OAAN,CAAc,SAAUhB,EAAV,CAAc,CACxB,GAAI05D,SAAU15D,GAAG05D,OAAjB,CAA0B5zC,SAAW9lB,GAAG8lB,QAAxC,CACA23F,iBAAiBE,UAAjB,CAA4B,CAAEnpD,OAAQkF,QAAQ9qD,IAAR,CAAa4G,SAAvB,CAAkCsQ,SAAUze,SAA5C,CAAuDuH,KAAM8qD,OAA7D,CAA5B,EACH,CAHD,EAIA,GAAI15D,IAAKy9G,iBAAiBnmE,SAAjB,EAAT,CAAuCsmE,KAAO59G,GAAG49G,IAAjD,CAAuDnmG,SAAWzX,GAAGyX,QAArE,CACA,GAAI8lG,SAAJ,CAAe,CACX,GAAIM,oBAAqB,GAAIC,iBAAJ,CAAqBP,SAArB,CAAgCC,cAAhC,CAAgD7F,eAAhD,CAAzB,CACA/S,MAAM5jG,OAAN,CAAc,SAAUhB,EAAV,CAAc,CACxB,GAAI05D,SAAU15D,GAAG05D,OAAjB,CAA0B5zC,SAAW9lB,GAAG8lB,QAAxC,CACA+3F,mBAAmBE,aAAnB,CAAiCrkD,OAAjC,CAA0C5zC,QAA1C,EACH,CAHD,EAIA23F,iBAAiBO,kCAAjB,CAAoDh9G,OAApD,CAA4D,SAAU04D,OAAV,CAAmB,CAC3E,GAAIi+C,gBAAgBsE,aAAhB,CAA8BviD,QAAQlF,MAAR,CAAe7/C,QAA7C,GAA0D+kD,QAAQ9qD,IAAtE,CAA4E,CACxEivG,mBAAmBI,UAAnB,CAA8BvkD,QAAQ9qD,IAAtC,EACH,CACJ,CAJD,EAKAivG,mBAAmBvmE,SAAnB,CAA6B7/B,QAA7B,EACH,CACD,MAAO,CAAEmmG,KAAMA,IAAR,CAAcnmG,SAAUA,QAAxB,CAAP,CACH,CACD,QAASymG,qBAAT,CAA8BC,WAA9B,CAA2CxG,eAA3C,CAA4DyG,eAA5D,CAA6ER,IAA7E,CAAmF,CAC/E,GAAIS,cAAe,GAAIC,qBAAJ,CAAyBH,WAAzB,CAAsCxG,eAAtC,CAAnB,CACA,MAAO0G,cAAaE,WAAb,CAAyBH,eAAzB,CAA0CR,IAA1C,CAAP,CACH,CACD,QAASY,iBAAT,CAA0B1jC,SAA1B,CAAqCtlE,SAArC,CAAgD,CAC5C,MAAOipG,6BAA4B3jC,SAA5B,CAAuCtlE,SAAvC,CAAkDi5C,SAAlD,CAAP,CACH,CACD,QAASgwD,4BAAT,CAAqC3jC,SAArC,CAAgDtlE,SAAhD,CAA2DrX,KAA3D,CAAkE,CAC9D,GAAIugH,QAASxoD,kBAAkB1gD,UAAUhU,IAA5B,CAAb,CACAs5E,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0BqtD,GAAG,EAAH,CAAO,CAAC,GAAImD,gBAAJ,CAAoB9wD,KAApB,CAAD,CAAP,CAAqC,GAAIwnD,UAAJ,CAAcM,YAAd,CAArC,EAAkEoF,UAAlE,CAA6EqzD,MAA7E,CAAqF,CAC3G3iH,QAAQ2yD,YAAR,CAAqB4a,KADsF,CAC/EvtE,QAAQ2yD,YAAR,CAAqB6a,QAD0D,CAArF,CAA1B,EAGH,CACD,GAAIm0C,kBAAmB,aAAe,SAAUhqG,MAAV,CAAkB,CACpD5W,UAAU4gH,gBAAV,CAA4BhqG,MAA5B,EACA,QAASgqG,iBAAT,CAA0BF,cAA1B,CAA0C7F,eAA1C,CAA2D2F,WAA3D,CAAwE,CACpE,GAAIx8G,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAM08G,cAAN,CAAuBA,cAAvB,CACA18G,MAAM62G,eAAN,CAAwBA,eAAxB,CACA72G,MAAMw8G,WAAN,CAAoBA,WAApB,CACA;AACAx8G,MAAM+4G,OAAN,CAAgB,EAAhB,CACA/4G,MAAM69G,aAAN,CAAsB,GAAIx6G,IAAJ,EAAtB,CACArD,MAAM89G,YAAN,CAAqB,GAAIz6G,IAAJ,EAArB,CACA;AACA;AACArD,MAAM+9G,wBAAN,CAAiC,GAAI16G,IAAJ,EAAjC,CACArD,MAAMg+G,kBAAN,CAA2B,EAA3B,CACAh+G,MAAMk9G,kCAAN,CAA2C,GAAI75G,IAAJ,EAA3C,CACArD,MAAM+gD,UAAN,CAAmB27D,eAAejE,kBAAf,CAAkC+D,WAAlC,CAAnB,CACA,MAAOx8G,MAAP,CACH,CACD48G,iBAAiBzgH,SAAjB,CAA2B0gH,UAA3B,CAAwC,SAAUjkD,OAAV,CAAmB,CACvD,GAAI54D,OAAQ,IAAZ,CACA,GAAIi+G,oBAAqB,KAAKf,kCAAL,CAAwCp4G,GAAxC,CAA4C8zD,QAAQlF,MAApD,CAAzB,CACA,GAAIwqD,kBAAmB,KAAKH,wBAAL,CAA8Bj5G,GAA9B,CAAkC8zD,QAAQlF,MAA1C,CAAvB,CACA,GAAI,CAACuqD,kBAAL,CAAyB,CACrBA,mBAAqB,CAAEvqD,OAAQkF,QAAQlF,MAAlB,CAA0B1uC,SAAUze,SAApC,CAArB,CACA,KAAK22G,kCAAL,CAAwCn4G,GAAxC,CAA4C6zD,QAAQlF,MAApD,CAA4DuqD,kBAA5D,EACAC,iBAAmB,CAAExqD,OAAQ,KAAKyqD,YAAL,CAAkBvlD,QAAQlF,MAA1B,CAAkC,CAAE,UAApC,CAAV,CAAnB,CACA,KAAKsqD,kBAAL,CAAwBrgH,IAAxB,CAA6BugH,gBAA7B,EACA,KAAKH,wBAAL,CAA8Bh5G,GAA9B,CAAkC6zD,QAAQlF,MAA1C,CAAkDwqD,gBAAlD,EACH,CACD,GAAI,CAACD,mBAAmBj5F,QAApB,EAAgC4zC,QAAQ5zC,QAA5C,CAAsD,CAClD,GAAIo5F,YAAaxlD,QAAQ5zC,QAAR,EAAoB,EAArC,CACA,GAAIo5F,WAAW9E,UAAX,GAA0B,OAA9B,CAAuC,CACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAI+E,SAAU,EAAd,CACA3iH,OAAOiQ,IAAP,CAAYyyG,UAAZ,EAAwBl+G,OAAxB,CAAgC,SAAUqlB,QAAV,CAAoB,CAChD,GAAIA,WAAa,YAAjB,CAA+B,CAC3B84F,QAAQ94F,QAAR,EAAoB64F,WAAW74F,QAAX,CAApB,CACH,CACJ,CAJD,EAKA64F,WAAaC,OAAb,CACH,CAhBD,IAiBK,IAAIC,OAAOF,UAAP,CAAJ,CAAwB,CACzB,GAAI,CAACG,eAAeH,UAAf,CAAD,EAA+B,CAACI,uBAAuBJ,UAAvB,CAApC,CAAwE,CACpE;AACAA,WAAa,CACT9E,WAAY,OADH,CAETlsF,QAAS,2CAFA,CAAb,CAIH,CACJ,CACD;AACA;AACA6wF,mBAAmBj5F,QAAnB,CAA8Bo5F,UAA9B,CACAF,iBAAiBl5F,QAAjB,CAA4B,KAAKm5F,YAAL,CAAkBC,UAAlB,CAA8B,CAAE,kBAAhC,CAA5B,CACA,GAAIA,qBAAsBxqG,aAAtB,EACA,KAAKijG,eAAL,CAAqBsE,aAArB,CAAmCiD,WAAWvqG,QAA9C,CADJ,CAC6D,CACzD,GAAI4qG,mBAAoB,KAAK1F,OAAL,CAAa,KAAK8E,aAAL,CAAmB/4G,GAAnB,CAAuBs5G,UAAvB,CAAb,CAAxB,CACA,GAAI,CAAC5oD,gBAAgBipD,kBAAkB/9G,IAAlC,CAAL,CAA8C,CAC1C;AACA;AACA;AACA;AACA;AACA;AACA,KAAKo9G,YAAL,CAAkB/4G,GAAlB,CAAsB05G,iBAAtB,CAAyC7lD,QAAQlF,MAAjD,EACH,CACJ,CACJ,CACD,GAAI,CAACuqD,mBAAmBnwG,IAApB,EAA4B8qD,QAAQ9qD,IAAxC,CAA8C,CAC1CmwG,mBAAmBnwG,IAAnB,CAA0B8qD,QAAQ9qD,IAAlC,CACA;AACA;AACA;AACAowG,iBAAiBpwG,IAAjB,CAAwB,KAAKqwG,YAAL,CAAkBvlD,QAAQ9qD,IAA1B,CAAgC,CAAE,UAAlC,CAAxB,CACA;AACA;AACA,GAAI8qD,QAAQ9qD,IAAR,CAAa8J,WAAb,GAA6B3c,QAAQma,kBAAR,CAA2BwD,QAA5D,CAAsE,CAClE,GAAI8lG,iBAAkB9lD,QAAQ9qD,IAA9B,CACA4wG,gBAAgBvmG,kBAAhB,CAAmCra,MAAnC,CAA0C4gH,gBAAgBrmG,aAA1D,EAAyEnY,OAAzE,CAAiF,SAAUyY,EAAV,CAAc,CAC3F,GAAI+6C,QAAS/6C,GAAGjE,SAAhB,CACA,GAAI1U,MAAM62G,eAAN,CAAsBsE,aAAtB,CAAoCznD,OAAO7/C,QAA3C,GACA,CAAC7T,MAAMk9G,kCAAN,CAAyCxjG,GAAzC,CAA6Cg6C,MAA7C,CADL,CAC2D,CACvD,GAAIirD,WAAY3+G,MAAM62G,eAAN,CAAsBh+C,cAAtB,CAAqCnF,MAArC,CAAhB,CACA,GAAIirD,SAAJ,CAAe,CACX3+G,MAAM68G,UAAN,CAAiB8B,SAAjB,EACH,CACJ,CACJ,CATD,EAUH,CACJ,CACJ,CA/ED,CAgFA/B,iBAAiBzgH,SAAjB,CAA2Bq6C,SAA3B,CAAuC,UAAY,CAC/C,GAAIx2C,OAAQ,IAAZ,CACA,GAAI2W,UAAW,EAAf,CACA,GAAImmG,MAAO9oG,KAAKvG,SAAL,CAAe,CACtBszC,WAAY,KAAKA,UADK,CAEtB69D,UAAW,KAAKZ,kBAFM,CAGtBjF,QAAS,KAAKA,OAAL,CAAa7zG,GAAb,CAAiB,SAAUwuD,MAAV,CAAkBvmD,KAAlB,CAAyB,CAC/CumD,OAAO3/C,eAAP,GACA,GAAImjG,UAAW3wG,SAAf,CACA,GAAIvG,MAAM62G,eAAN,CAAsBsE,aAAtB,CAAoCznD,OAAO7/C,QAA3C,CAAJ,CAA0D,CACtD,GAAIgrG,gBAAiB7+G,MAAM89G,YAAN,CAAmBh5G,GAAnB,CAAuB4uD,MAAvB,CAArB,CACA,GAAImrD,cAAJ,CAAoB,CAChB3H,SAAWl3G,MAAM69G,aAAN,CAAoB/4G,GAApB,CAAwB+5G,cAAxB,CAAX,CACH,CAFD,IAGK,CACD,GAAIjmD,SAAU54D,MAAMk9G,kCAAN,CAAyCp4G,GAAzC,CAA6C4uD,MAA7C,CAAd,CACA,GAAI,CAACkF,OAAD,EAAY,CAACA,QAAQ5zC,QAArB,EAAiC4zC,QAAQ5zC,QAAR,CAAiBs0F,UAAjB,GAAgC,WAArE,CAAkF,CAC9EpC,SAAWxjD,OAAOhzD,IAAP,CAAc,GAAd,CAAoByM,KAA/B,CACAwJ,SAAShZ,IAAT,CAAc,CAAE+1D,OAAQA,MAAV,CAAkB/8C,SAAUugG,QAA5B,CAAd,EACH,CACJ,CACJ,CACD,MAAO,CACH4H,SAAU3xG,KADP,CAEHzM,KAAMgzD,OAAOhzD,IAFV,CAGHmT,SAAU7T,MAAM62G,eAAN,CAAsBkI,iBAAtB,CAAwCrrD,OAAO7/C,QAA/C,CAAyD7T,MAAMw8G,WAA/D,CAHP,CAIHtF,SAAUA,QAJP,CAAP,CAMH,CAtBQ,CAHa,CAAf,CAAX,CA2BA,MAAO,CAAE4F,KAAMA,IAAR,CAAcnmG,SAAUA,QAAxB,CAAP,CACH,CA/BD,CAgCAimG,iBAAiBzgH,SAAjB,CAA2BgiH,YAA3B,CAA0C,SAAU9gH,KAAV,CAAiBg2D,KAAjB,CAAwB,CAC9D,MAAOxoD,YAAWxN,KAAX,CAAkB,IAAlB,CAAwBg2D,KAAxB,CAAP,CACH,CAFD,CAGAupD,iBAAiBzgH,SAAjB,CAA2BkP,UAA3B,CAAwC,SAAUhO,KAAV,CAAiB0N,OAAjB,CAA0B,CAC9D,GAAI1N,gBAAiBuW,aAArB,CAAmC,CAC/B,GAAImkG,YAAa,KAAK2E,cAAL,CAAoB1E,eAApB,CAAoC36G,MAAMwW,QAA1C,CAAoDxW,MAAMqD,IAA1D,CAAjB,CACA,GAAIyM,OAAQ,KAAK6xG,iBAAL,CAAuBjH,UAAvB,CAAmChtG,OAAnC,CAAZ,CACA,MAAO,CAAE+zG,SAAU3xG,KAAZ,CAAmB2G,QAASzW,MAAMyW,OAAlC,CAAP,CACH,CACJ,CAND,CAOA;;;;;;WAOA8oG,iBAAiBzgH,SAAjB,CAA2BgP,cAA3B,CAA4C,SAAUjG,GAAV,CAAe6F,OAAf,CAAwB,CAChE,GAAI7F,IAAI,YAAJ,IAAsB,UAA1B,CAAsC,CAClC,MAAO2F,YAAW3F,IAAIwuD,MAAf,CAAuB,IAAvB,CAA6B3oD,OAA7B,CAAP,CACH,CACD,GAAI7F,IAAI,YAAJ,IAAsB,OAA1B,CAAmC,CAC/B,MAAOA,KAAI,MAAJ,CAAP,CACA,MAAOA,KAAI,WAAJ,CAAP,CACH,CACD,MAAO0N,QAAOzW,SAAP,CAAiBgP,cAAjB,CAAgCtO,IAAhC,CAAqC,IAArC,CAA2CqI,GAA3C,CAAgD6F,OAAhD,CAAP,CACH,CATD,CAUA;;;WAIA6xG,iBAAiBzgH,SAAjB,CAA2B6iH,iBAA3B,CAA+C,SAAUjH,UAAV,CAAsB1kD,KAAtB,CAA6B,CACxE,GAAIlmD,OAAQ,KAAK0wG,aAAL,CAAmB/4G,GAAnB,CAAuBizG,UAAvB,CAAZ,CACA,GAAIn/C,SAAU,IAAd,CACA,GAAIvF,MAAQ,CAAE,kBAAV,EACA,KAAKwjD,eAAL,CAAqBsE,aAArB,CAAmCpD,WAAWlkG,QAA9C,CADJ,CAC6D,CACzD,GAAI,KAAKqpG,kCAAL,CAAwCxjG,GAAxC,CAA4Cq+F,UAA5C,CAAJ,CAA6D,CACzD;AACA;AACA,MAAO5qG,MAAP,CACH,CACDyrD,QAAU,KAAKqmD,WAAL,CAAiBlH,UAAjB,CAAV,CACA,GAAIn/C,SAAWA,QAAQ5zC,QAAR,WAA4BpR,aAA3C,CAAyD,CACrD;AACAzG,MAAQ,KAAK6xG,iBAAL,CAAuBpmD,QAAQ5zC,QAA/B,CAAyCquC,KAAzC,CAAR,CACA;AACAuF,QAAU,IAAV,CACH,CACJ,CAdD,IAeK,IAAIzrD,OAAS,IAAb,CAAmB,CACpB;AACA;AACA,MAAOA,MAAP,CACH,CACD;AACA,GAAIA,OAAS,IAAb,CAAmB,CACfA,MAAQ,KAAK4rG,OAAL,CAAan8G,MAArB,CACA,KAAKm8G,OAAL,CAAap7G,IAAb,CAAkBo6G,UAAlB,EACH,CACD,KAAK8F,aAAL,CAAmB94G,GAAnB,CAAuBgzG,UAAvB,CAAmC5qG,KAAnC,EACA,GAAIyrD,OAAJ,CAAa,CACT,KAAKikD,UAAL,CAAgBjkD,OAAhB,EACH,CACD,MAAOzrD,MAAP,CACH,CAjCD,CAkCAyvG,iBAAiBzgH,SAAjB,CAA2B8iH,WAA3B,CAAyC,SAAUvrD,MAAV,CAAkB,CACvD,GAAIkF,SAAU,KAAKi+C,eAAL,CAAqBh+C,cAArB,CAAoCnF,MAApC,CAAd,CACA,GAAI,CAACkF,OAAL,CAAc,CACV;AACA;AACA;AACA,GAAI0/C,gBAAiB,KAAKoE,cAAL,CAAoBpF,aAApB,CAAkC5jD,MAAlC,CAArB,CACA,GAAI4kD,cAAJ,CAAoB,CAChB1/C,QAAU,CAAElF,OAAQ4kD,eAAe5kD,MAAzB,CAAiC1uC,SAAUszF,eAAetzF,QAA1D,CAAV,CACH,CACJ,CACD,MAAO4zC,QAAP,CACH,CAZD,CAaA,MAAOgkD,iBAAP,CACH,CAlNqC,CAkNpCnxG,gBAlNoC,CAAtC,CAmNA,GAAIuxG,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0BhjC,SAA1B,CAAqC0iC,cAArC,CAAqD7F,eAArD,CAAsE,CAClE,KAAK78B,SAAL,CAAiBA,SAAjB,CACA,KAAK0iC,cAAL,CAAsBA,cAAtB,CACA,KAAK7F,eAAL,CAAuBA,eAAvB,CACA,KAAKlwG,IAAL,CAAY,EAAZ,CACH,CACDq2G,iBAAiB7gH,SAAjB,CAA2B8gH,aAA3B,CAA2C,SAAUrkD,OAAV,CAAmB5zC,QAAnB,CAA6B,CACpE,KAAKre,IAAL,CAAUhJ,IAAV,CAAe,CAAEi7D,QAASA,OAAX,CAAoB5zC,SAAUA,QAA9B,CAAwCk6F,UAAW,KAAnD,CAAf,EACH,CAFD,CAGAlC,iBAAiB7gH,SAAjB,CAA2BghH,UAA3B,CAAwC,SAAUvkD,OAAV,CAAmB,CACvD,KAAKjyD,IAAL,CAAUhJ,IAAV,CAAe,CAAEi7D,QAASA,OAAX,CAAoB5zC,SAAU,IAA9B,CAAoCk6F,UAAW,IAA/C,CAAf,EACH,CAFD,CAGAlC,iBAAiB7gH,SAAjB,CAA2Bq6C,SAA3B,CAAuC,SAAU2oE,WAAV,CAAuB,CAC1D,GAAIn/G,OAAQ,IAAZ,CACA,GAAIsyD,IAAJ,CAASpzD,EAAT,CAAa6vF,GAAb,CAAkB5vF,EAAlB,CAAsBkwF,GAAtB,CAA2B9vF,EAA3B,CACA,GAAI6/G,kBAAmB,GAAI/7G,IAAJ,EAAvB,CACA,GAAI,CACA,IAAK,GAAIg8G,eAAgBtiH,SAASoiH,WAAT,CAApB,CAA2CG,gBAAkBD,cAAcjiH,IAAd,EAAlE,CAAwF,CAACkiH,gBAAgBhiH,IAAzG,CAA+GgiH,gBAAkBD,cAAcjiH,IAAd,EAAjI,CAAuJ,CACnJ,GAAIsC,IAAK4/G,gBAAgBjiH,KAAzB,CAAgCq2D,OAASh0D,GAAGg0D,MAA5C,CAAoD/8C,SAAWjX,GAAGiX,QAAlE,CACAyoG,iBAAiBr6G,GAAjB,CAAqB2uD,MAArB,CAA6B/8C,QAA7B,EACH,CACJ,CACD,MAAO87C,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI6sD,iBAAmB,CAACA,gBAAgBhiH,IAApC,GAA6C4B,GAAKmgH,cAAc3sD,MAAhE,CAAJ,CAA6ExzD,GAAGrC,IAAH,CAAQwiH,aAAR,EAChF,CAFD,OAGQ,CAAE,GAAI/sD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,GAAI2hH,iBAAkB,GAAIvmG,IAAJ,EAAtB,CACA,GAAI,CACA,IAAK,GAAIpZ,IAAK7C,SAAS,KAAK4J,IAAd,CAAT,CAA8B7G,GAAKF,GAAGxC,IAAH,EAAxC,CAAmD,CAAC0C,GAAGxC,IAAvD,CAA6DwC,GAAKF,GAAGxC,IAAH,EAAlE,CAA6E,CACzE,GAAIoiH,IAAK1/G,GAAGzC,KAAZ,CAAmBu7D,QAAU4mD,GAAG5mD,OAAhC,CAAyC5zC,SAAWw6F,GAAGx6F,QAAvD,CAAiEk6F,UAAYM,GAAGN,SAAhF,CACA,GAAItmD,QAAQhhD,WAAR,GAAwB3c,QAAQma,kBAAR,CAA2BwD,QAAvD,CAAiE,CAC7D;AACA;AACA;AACA;AACA2mG,gBAAgB5lG,GAAhB,CAAoBi/C,QAAQ9qD,IAAR,CAAa4G,SAAjC,EACA,GAAIuoD,YAAarE,OAAjB,CACA,GAAI,CACA,IAAK,GAAI6mD,IAAK1iH,SAASkgE,WAAWpkD,OAApB,CAAT,CAAuC6mG,GAAKD,GAAGriH,IAAH,EAAjD,CAA4D,CAACsiH,GAAGpiH,IAAhE,CAAsEoiH,GAAKD,GAAGriH,IAAH,EAA3E,CAAsF,CAClF,GAAI8/D,KAAMwiD,GAAGriH,KAAb,CACAkiH,gBAAgB5lG,GAAhB,CAAoBujD,IAAIxoD,SAAxB,EACH,CACJ,CACD,MAAOm7E,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI6vB,IAAM,CAACA,GAAGpiH,IAAV,GAAmBiC,GAAKkgH,GAAG/sD,MAA3B,CAAJ,CAAwCnzD,GAAG1C,IAAH,CAAQ4iH,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAIpwB,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACJ,CACD,GAAI,CAACshH,SAAL,CAAgB,CACZ,GAAItB,QAASxoD,kBAAkBwD,QAAQ9qD,IAAR,CAAa4G,SAAb,CAAuBhU,IAAzC,CAAb,CACAi9G,4BAA4B,KAAK3jC,SAAjC,CAA4CphB,QAAQ9qD,IAAR,CAAa4G,SAAzD,CAAoE,KAAKirG,wBAAL,CAA8B/mD,OAA9B,CAAuC5zC,QAAvC,CAApE,EACH,CACJ,CACJ,CACD,MAAOkqE,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CA9BzC,OA+BQ,CACJ,GAAI,CACA,GAAIpvF,IAAM,CAACA,GAAGxC,IAAV,GAAmB6B,GAAKS,GAAG8yD,MAA3B,CAAJ,CAAwCvzD,GAAGtC,IAAH,CAAQ+C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAImvF,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACD2hH,gBAAgBr/G,OAAhB,CAAwB,SAAU0/G,cAAV,CAA0B,CAC9C,GAAI5/G,MAAM62G,eAAN,CAAsBsE,aAAtB,CAAoCyE,eAAe/rG,QAAnD,CAAJ,CAAkE,CAC9D,GAAI8C,UAAWyoG,iBAAiBt6G,GAAjB,CAAqB86G,cAArB,GAAwCA,eAAel/G,IAAtE,CACA,GAAIm/G,iBAAkBzqD,kBAAkBz+C,QAAlB,CAAtB,CACA3W,MAAMg6E,SAAN,CAAgB7tB,UAAhB,CAA2BxuD,IAA3B,CAAgC0zD,SAASwuD,eAAT,EAC3B96G,GAD2B,CACvB/E,MAAM8/G,mBAAN,CAA0BF,cAA1B,CADuB,EAE3Br1D,UAF2B,CAEhB,IAFgB,CAEV,CAACtvD,QAAQ2yD,YAAR,CAAqB6a,QAAtB,CAFU,CAAhC,EAGH,CACJ,CARD,EASH,CAhED,CAiEAu0C,iBAAiB7gH,SAAjB,CAA2BwjH,wBAA3B,CAAsD,SAAU/mD,OAAV,CAAmB5zC,QAAnB,CAA6B,CAC/E,GAAIhlB,OAAQ,IAAZ,CACA,GAAIiwB,aAAc,CAAC,KAAK8vF,gBAAL,CAAsBnnD,OAAtB,CAAD,CAAlB,CACA,GAAI/nD,WAAY,EAAhB,CACA,GAAImU,mBAAoB/M,wBAAxB,CAAiD,CAC7CgY,YAAYtyB,IAAZ,CAAiBb,KAAjB,CAAuBmzB,WAAvB,CAAoCpyB,SACpC;AACA;AACA;AACAmnB,SAAS9M,kBAAT,CAA4Bpa,MAA5B,CAAmCknB,SAAS5M,aAA5C,EACKlT,GADL,CACS,SAAU4I,IAAV,CAAgB,CAAE,MAAOA,MAAK4G,SAAZ,CAAwB,CADnD,CAEI;AACA;AACA;AACA;AALJ,CAMK5W,MANL,CAMYknB,SAAStM,gBAAT,CAA0BG,OAA1B,CAAkC3T,GAAlC,CAAsC,SAAU4I,IAAV,CAAgB,CAAE,MAAOA,MAAK4G,SAAZ,CAAwB,CAAhF,EACPoP,MADO,CACA,SAAUnP,GAAV,CAAe,CAAE,MAAOA,OAAQqQ,SAASlX,IAAT,CAAc4G,SAA7B,CAAyC,CAD1D,CANZ,EAQKxP,GARL,CAQS,SAAUyP,GAAV,CAAe,CAAE,MAAO3U,OAAM8/G,mBAAN,CAA0BnrG,GAA1B,CAAP,CAAwC,CARlE,CAJoC,CAApC,EAaA;AACA;AACA9D,UAAYmU,SAASnU,SAArB,CACH,CAjBD,IAkBK,IAAI+nD,QAAQhhD,WAAR,GAAwB3c,QAAQma,kBAAR,CAA2ByC,SAAvD,CAAkE,CACnE,GAAI2iD,YAAa5B,OAAjB,CACA/nD,UAAY2pD,WAAW3pD,SAAX,CAAqB/S,MAArB,CAA4B08D,WAAW1jD,aAAvC,CAAZ,CACH,CACD;AACA;AACA;AACA;AACAmZ,YAAYtyB,IAAZ,CAAiBb,KAAjB,CAAuBmzB,WAAvB,CAAoCpyB,SAASgT,UAAUiT,MAAV,CAAiB,SAAUtK,QAAV,CAAoB,CAAE,MAAO,CAAC,CAACA,SAASY,QAAlB,CAA6B,CAApE,EAAsElV,GAAtE,CAA0E,SAAUsU,QAAV,CAAoB,CAAE,MAAOxZ,OAAM+/G,gBAAN,CAAuB,CACvKnoG,YAAa3c,QAAQma,kBAAR,CAA2BuoD,UAD+H,CACnH7vD,KAAM0L,SAASY,QADoG,CAAvB,CAAP,CAExI,CAFwC,CAAT,CAApC,EAGA,MAAOu3C,YAAW1hC,WAAX,CAAP,CACH,CAlCD,CAmCA+sF,iBAAiB7gH,SAAjB,CAA2B2jH,mBAA3B,CAAiD,SAAUE,UAAV,CAAsB,CACnE,GAAIC,mBAAoB,KAAKvD,cAAL,CAAoB1E,eAApB,CAAoC9iD,sBAAsB8qD,WAAWnsG,QAAjC,CAApC,CAAgFuhD,kBAAkB4qD,WAAWt/G,IAA7B,CAAhF,CAAxB,CACA,MAAO,MAAKs5E,SAAL,CAAe1oB,UAAf,CAA0B2uD,iBAA1B,CAAP,CACH,CAHD,CAIAjD,iBAAiB7gH,SAAjB,CAA2B4jH,gBAA3B,CAA8C,SAAUp5G,IAAV,CAAgB,CAC1D,GAAIqzE,WAAY,KAAKA,SAArB,CACA,GAAIkmC,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,EAAuB,CACtB,CACDA,YAAY/jH,SAAZ,CAAsB8O,UAAtB,CAAmC,SAAUS,GAAV,CAAeX,OAAf,CAAwB,CACvD,GAAI/K,OAAQ,IAAZ,CACA,MAAO2xD,YAAWjmD,IAAIxG,GAAJ,CAAQ,SAAUiyC,KAAV,CAAiB,CAAE,MAAOtsC,YAAWssC,KAAX,CAAkBn3C,KAAlB,CAAyB+K,OAAzB,CAAP,CAA2C,CAAtE,CAAX,CAAP,CACH,CAHD,CAIAm1G,YAAY/jH,SAAZ,CAAsBgP,cAAtB,CAAuC,SAAUjG,GAAV,CAAe6F,OAAf,CAAwB,CAC3D,GAAI/K,OAAQ,IAAZ,CACA,MAAO,IAAI+sD,eAAJ,CAAmBrxD,OAAOiQ,IAAP,CAAYzG,GAAZ,EAAiBA,GAAjB,CAAqB,SAAU0G,GAAV,CAAe,CAAE,MAAO,IAAIkhD,gBAAJ,CAAoBlhD,GAApB,CAAyBf,WAAW3F,IAAI0G,GAAJ,CAAX,CAAqB5L,KAArB,CAA4B+K,OAA5B,CAAzB,CAA+D,KAA/D,CAAP,CAA+E,CAArH,CAAnB,CAAP,CACH,CAHD,CAIAm1G,YAAY/jH,SAAZ,CAAsBiP,cAAtB,CAAuC,SAAU/N,KAAV,CAAiB0N,OAAjB,CAA0B,CAAE,MAAOmnD,SAAQ70D,KAAR,CAAP,CAAwB,CAA3F,CACA6iH,YAAY/jH,SAAZ,CAAsBkP,UAAtB,CAAmC,SAAUhO,KAAV,CAAiB0N,OAAjB,CAA0B,CACzD,GAAI1N,gBAAiBuW,aAArB,CAAmC,CAC/B,MAAOomE,WAAU1oB,UAAV,CAAqBj0D,KAArB,CAAP,CACH,CAFD,IAGK,CACD,KAAM,IAAIe,MAAJ,CAAU,oCAAsCf,KAAhD,CAAN,CACH,CACJ,CAPD,CAQA,MAAO6iH,YAAP,CACH,CArBgC,EAAjC,CAsBA,MAAOr1G,YAAWlE,IAAX,CAAiB,GAAIu5G,YAAJ,EAAjB,CAAoC,IAApC,CAAP,CACH,CAzBD,CA0BA,MAAOlD,iBAAP,CACH,CAhJqC,EAAtC,CAiJA,GAAIQ,sBAAuB,aAAe,SAAU5qG,MAAV,CAAkB,CACxD5W,UAAUwhH,oBAAV,CAAgC5qG,MAAhC,EACA,QAAS4qG,qBAAT,CAA8BH,WAA9B,CAA2CxG,eAA3C,CAA4D,CACxD,GAAI72G,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAMq9G,WAAN,CAAoBA,WAApB,CACAr9G,MAAM62G,eAAN,CAAwBA,eAAxB,CACA,MAAO72G,MAAP,CACH,CACDw9G,qBAAqBrhH,SAArB,CAA+BshH,WAA/B,CAA6C,SAAUH,eAAV,CAA2BR,IAA3B,CAAiC,CAC1E,GAAI98G,OAAQ,IAAZ,CACA,GAAI2G,MAAOqN,KAAKzS,KAAL,CAAWu7G,IAAX,CAAX,CACA,GAAIqD,aAAc,EAAlB,CACA,KAAKpH,OAAL,CAAepyG,KAAKoyG,OAAL,CAAa7zG,GAAb,CAAiB,SAAUk7G,gBAAV,CAA4B,CAAE,MAAOpgH,OAAMq9G,WAAN,CAAkBv4G,GAAlB,CAAsB9E,MAAM62G,eAAN,CAAsBwJ,mBAAtB,CAA0CD,iBAAiBvsG,QAA3D,CAAqEypG,eAArE,CAAtB,CAA6G8C,iBAAiB1/G,IAA9H,CAAP,CAA6I,CAA5L,CAAf,CACAiG,KAAKoyG,OAAL,CAAa74G,OAAb,CAAqB,SAAUkgH,gBAAV,CAA4BjzG,KAA5B,CAAmC,CACpD,GAAIumD,QAAS1zD,MAAM+4G,OAAN,CAAc5rG,KAAd,CAAb,CACA,GAAI+pG,UAAWkJ,iBAAiBlJ,QAAhC,CACA,GAAI,MAAOA,SAAP,GAAoB,QAAxB,CAAkC,CAC9BiJ,YAAYxiH,IAAZ,CAAiB,CAAE+1D,OAAQA,MAAV,CAAkBwjD,SAAUl3G,MAAM+4G,OAAN,CAAc7B,QAAd,CAA5B,CAAjB,EACH,CAFD,IAGK,IAAI,MAAOA,SAAP,GAAoB,QAAxB,CAAkC,CACnCiJ,YAAYxiH,IAAZ,CAAiB,CAAE+1D,OAAQA,MAAV,CAAkBwjD,SAAUl3G,MAAMq9G,WAAN,CAAkBv4G,GAAlB,CAAsBuvD,kBAAkBipD,eAAlB,CAAtB,CAA0DpG,QAA1D,CAA5B,CAAjB,EACH,CACJ,CATD,EAUA,GAAI0H,WAAY/zG,WAAWlE,KAAKi4G,SAAhB,CAA2B,IAA3B,CAAiC,IAAjC,CAAhB,CACA,MAAO,CAAE79D,WAAYp6C,KAAKo6C,UAAnB,CAA+B69D,UAAWA,SAA1C,CAAqD1H,SAAUiJ,WAA/D,CAAP,CACH,CAjBD,CAkBA3C,qBAAqBrhH,SAArB,CAA+BgP,cAA/B,CAAgD,SAAUjG,GAAV,CAAe6F,OAAf,CAAwB,CACpE,GAAI,YAAc7F,IAAlB,CAAuB,CACnB,GAAI6yG,YAAa,KAAKgB,OAAL,CAAa7zG,IAAI,UAAJ,CAAb,CAAjB,CACA,GAAI4O,SAAU5O,IAAI,SAAJ,CAAd,CACA,MAAO4O,SAAQlX,MAAR,CAAiB,KAAKygH,WAAL,CAAiBv4G,GAAjB,CAAqBizG,WAAWlkG,QAAhC,CAA0CkkG,WAAWr3G,IAArD,CAA2DoT,OAA3D,CAAjB,CACHikG,UADJ,CAEH,CALD,IAMK,CACD,MAAOnlG,QAAOzW,SAAP,CAAiBgP,cAAjB,CAAgCtO,IAAhC,CAAqC,IAArC,CAA2CqI,GAA3C,CAAgD6F,OAAhD,CAAP,CACH,CACJ,CAVD,CAWA,MAAOyyG,qBAAP,CACH,CAtCyC,CAsCxC/xG,gBAtCwC,CAA1C,CAuCA,QAAS6yG,OAAT,CAAgBt5F,QAAhB,CAA0B,CACtB,MAAOA,WAAYA,SAASs0F,UAAT,GAAwB,MAA3C,CACH,CACD,QAASiF,eAAT,CAAwBv5F,QAAxB,CAAkC,CAC9B,MAAOs5F,QAAOt5F,QAAP,GAAoBuzF,uBAAuBvzF,SAASjI,UAAhC,WAAuDnJ,aAAlF,CACH,CACD,QAAS4qG,uBAAT,CAAgCx5F,QAAhC,CAA0C,CACtC,MAAOs5F,QAAOt5F,QAAP,GAAoBA,SAASjI,UAA7B,EAA2CiI,SAASjI,UAAT,CAAoBu8F,UAApB,GAAmC,QAA9E,EACHf,uBAAuBvzF,SAASjI,UAAT,CAAoBA,UAA3C,WAAkEnJ,aADtE,CAEH,CAED;;;;;;OAOA,GAAI0sG,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqB3+F,OAArB,CAA8B4+F,QAA9B,CAAwCC,KAAxC,CAA+Cz8D,SAA/C,CAA0D08D,iBAA1D,CAA6EC,eAA7E,CAA8FC,cAA9F,CAA8GC,aAA9G,CAA6HC,kBAA7H,CAAiJC,iBAAjJ,CAAoKC,mBAApK,CAAyLC,cAAzL,CAAyMnqD,gBAAzM,CAA2NoqD,eAA3N,CAA4O,CACxO,KAAKt/F,OAAL,CAAeA,OAAf,CACA,KAAK4+F,QAAL,CAAgBA,QAAhB,CACA,KAAKC,KAAL,CAAaA,KAAb,CACA,KAAKz8D,SAAL,CAAiBA,SAAjB,CACA,KAAK08D,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,eAAL,CAAuBA,eAAvB,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAKC,aAAL,CAAqBA,aAArB,CACA,KAAKC,kBAAL,CAA0BA,kBAA1B,CACA,KAAKC,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,mBAAL,CAA2BA,mBAA3B,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAKnqD,gBAAL,CAAwBA,gBAAxB,CACA,KAAKoqD,eAAL,CAAuBA,eAAvB,CACA,KAAKC,iBAAL,CAAyB,GAAI79G,IAAJ,EAAzB,CACA,KAAK89G,cAAL,CAAsB,GAAI99G,IAAJ,EAAtB,CACA,KAAK+9G,4BAAL,CAAoC,GAAI/9G,IAAJ,EAApC,CACH,CACDi9G,YAAYnkH,SAAZ,CAAsB0lB,UAAtB,CAAmC,UAAY,CAAE,KAAK4+F,iBAAL,CAAuB5+F,UAAvB,GAAsC,CAAvF,CACAy+F,YAAYnkH,SAAZ,CAAsBklH,kBAAtB,CAA2C,SAAUC,SAAV,CAAqB,CAC5D,GAAIthH,OAAQ,IAAZ,CACA,GAAIuhH,eAAgBC,4BAA4BF,SAA5B,CAAuC,KAAKd,KAA5C,CAAmD,KAAKS,eAAxD,CAAyE,KAAKR,iBAA9E,CAApB,CACAc,cAAcE,SAAd,CAAwBvhH,OAAxB,CAAgC,SAAUmI,QAAV,CAAoB,CAAE,MAAOrI,OAAMygH,iBAAN,CAAwBzlD,oCAAxB,CAA6D3yD,SAASyF,IAAT,CAAc4G,SAA3E,CAAsF,IAAtF,CAAP,CAAqG,CAA3J,EACA,MAAO6sG,cAAP,CACH,CALD,CAMAjB,YAAYnkH,SAAZ,CAAsBulH,mBAAtB,CAA4C,SAAUJ,SAAV,CAAqB,CAC7D,GAAIthH,OAAQ,IAAZ,CACA,GAAIuhH,eAAgBC,4BAA4BF,SAA5B,CAAuC,KAAKd,KAA5C,CAAmD,KAAKS,eAAxD,CAAyE,KAAKR,iBAA9E,CAApB,CACA,MAAOp0G,SACFH,GADE,CACEq1G,cAAcE,SAAd,CAAwBv8G,GAAxB,CAA4B,SAAUmD,QAAV,CAAoB,CAAE,MAAOrI,OAAMygH,iBAAN,CAAwBzlD,oCAAxB,CAA6D3yD,SAASyF,IAAT,CAAc4G,SAA3E,CAAsF,KAAtF,CAAP,CAAsG,CAAxJ,CADF,EAEF1I,IAFE,CAEG,UAAY,CAAE,MAAOu1G,cAAP,CAAuB,CAFxC,CAAP,CAGH,CAND,CAOAjB,YAAYnkH,SAAZ,CAAsBwlH,YAAtB,CAAqC,SAAU3sD,QAAV,CAAoB,CACrD,GAAI4sD,cAAe,KAAKT,cAAL,CAAoBr8G,GAApB,CAAwBkwD,QAAxB,CAAnB,CACA,GAAI,CAAC4sD,YAAL,CAAmB,CACfA,aACIC,YAAY,KAAKrB,KAAjB,CAAwB,KAAKS,eAA7B,CAA8C,KAAKR,iBAAnD,CAAsEzrD,QAAtE,CADJ,CAEA,KAAKmsD,cAAL,CAAoBp8G,GAApB,CAAwBiwD,QAAxB,CAAkC4sD,YAAlC,EACH,CACD,MAAOA,aAAP,CACH,CARD,CASAtB,YAAYnkH,SAAZ,CAAsB2lH,0BAAtB,CAAmD,SAAU9sD,QAAV,CAAoB,CACnE,GAAI4sD,cAAe,KAAKR,4BAAL,CAAkCt8G,GAAlC,CAAsCkwD,QAAtC,CAAnB,CACA,GAAI,CAAC4sD,YAAL,CAAmB,CACfA,aAAeG,0BAA0B,KAAKvB,KAA/B,CAAsC,KAAKS,eAA3C,CAA4D,KAAKR,iBAAjE,CAAoFzrD,QAApF,CAAf,CACA,KAAKosD,4BAAL,CAAkCr8G,GAAlC,CAAsCiwD,QAAtC,CAAgD4sD,YAAhD,EACH,CACD,MAAOA,aAAP,CACH,CAPD,CAQAtB,YAAYnkH,SAAZ,CAAsB6lH,sBAAtB,CAA+C,SAAUhtD,QAAV,CAAoB,CAC/D,GAAIh1D,OAAQ,IAAZ,CACA,GAAIiiH,cAAe,EAAnB,CACA,GAAIvoF,MAAO,KAAKioF,YAAL,CAAkB3sD,QAAlB,CAAX,CACA;AACA;AACA;AACA;AACA;AACA,GAAI,KAAKurD,QAAL,CAAc2B,sBAAd,EAAwCxoF,KAAK9oB,UAAL,CAAgBhU,MAAxD,EAAkE88B,KAAKvgB,KAAL,CAAWvc,MAA7E,EACA88B,KAAKyoF,WAAL,CAAiBvlH,MADjB,EAC2B88B,KAAK+nF,SAAL,CAAe7kH,MAD1C,EACoD88B,KAAK0oF,qBAD7D,CACoF,CAChFH,aAAatkH,IAAb,CAAkB02D,kBAAkB36B,KAAKs7B,QAAvB,CAAiC,IAAjC,CAAlB,EACA,GAAI,KAAKurD,QAAL,CAAc8B,qBAAlB,CAAyC,CACrCJ,aAAatkH,IAAb,CAAkBu3D,sBAAsBx7B,KAAKs7B,QAA3B,CAAqC,IAArC,CAAlB,EACH,CACJ,CACD,GAAIstD,YAAa7tD,uBAAuBD,sBAAsB96B,KAAKs7B,QAA3B,CAAqC,IAArC,EAA2C,CAA3C,CAAvB,CAAjB,CACAt7B,KAAK9oB,UAAL,CAAgB1Q,OAAhB,CAAwB,SAAUqiH,SAAV,CAAqB,CACzC,GAAInnG,UAAWpb,MAAMygH,iBAAN,CAAwBrnD,iCAAxB,CAA0DmpD,SAA1D,EAAqEv9F,QAApF,CACA,GAAI,CAAC5J,SAAS1E,WAAd,CAA2B,CACvB,OACH,CACD;AACA0E,SAAStF,QAAT,CAAkBJ,SAAlB,CAA4BxV,OAA5B,CAAoC,SAAUwjB,QAAV,CAAoB,CACpD,GAAI8+F,eAAgBxiH,MAAMwgH,KAAN,CAAYiC,sBAAZ,CAAmC/+F,QAAnC,CAA6CgW,KAAKs7B,QAAlD,CAApB,CACA,GAAI,CAACwtD,aAAL,CAAoB,CAChB,KAAMj2G,aAAY,6BAA+BmX,QAA/B,CAA0C,eAA1C,CAA4DgW,KAAKs7B,QAA7E,CAAN,CACH,CACD,GAAI0tD,WAAY,CAACtnG,SAAStF,QAAT,CAAkBD,aAAlB,EACb7V,MAAM2hB,OAAN,CAAczO,oBADF,IAC4B9L,kBAAkB+L,QAD9D,CAEA8uG,aAAatkH,IAAb,CAAkBglH,iBAAiBH,aAAjB,CAAgCE,SAAhC,CAA2CJ,UAA3C,CAAlB,EACA,GAAItiH,MAAMugH,QAAN,CAAe2B,sBAAnB,CAA2C,CACvCD,aAAatkH,IAAb,CAAkBglH,iBAAiBH,aAAjB,CAAgC,CAACE,SAAjC,CAA4CJ,UAA5C,CAAlB,EACH,CACJ,CAXD,EAYH,CAlBD,EAmBA,MAAOL,aAAP,CACH,CArCD,CAsCA3B,YAAYnkH,SAAZ,CAAsBymH,aAAtB,CAAsC,SAAUC,WAAV,CAAuBC,gBAAvB,CAAyC,CAC3E,GAAI9oC,WAAY,KAAK+oC,oBAAL,CAA0BF,WAA1B,CAAhB,CACA,GAAIA,YAAYjuD,QAAZ,CAAqB,eAArB,CAAJ,CAA2C,CACvC,GAAI,CAACkuD,gBAAL,CAAuB,CACnB,KAAM,IAAI1kH,MAAJ,CAAU,6EAA+EykH,WAAzF,CAAN,CACH,CACD,GAAIG,cAAe,KAAKrB,YAAL,CAAkBmB,gBAAlB,CAAnB,CACA,KAAKG,oBAAL,CAA0BjpC,SAA1B,CAAqCgpC,YAArC,CAAmD,CAAE,WAArD,EACH,CAND,IAOK,IAAIH,YAAYjuD,QAAZ,CAAqB,eAArB,CAAJ,CAA2C,CAC5C,GAAI,KAAK2rD,QAAL,CAAc8B,qBAAlB,CAAyC,CACrC,GAAI,CAACS,gBAAL,CAAuB,CACnB,KAAM,IAAI1kH,MAAJ,CAAU,6EAA+EykH,WAAzF,CAAN,CACH,CACD,GAAIG,cAAe,KAAKrB,YAAL,CAAkBmB,gBAAlB,CAAnB,CACAI,iBAAiBlpC,SAAjB,EACAgpC,aAAavB,SAAb,CAAuBvhH,OAAvB,CAA+B,SAAUmI,QAAV,CAAoB,CAC/C;AACAq1G,iBAAiB1jC,SAAjB,CAA4B3xE,SAASyF,IAAT,CAAc4G,SAA1C,EACH,CAHD,EAIH,CACJ,CAZI,IAaA,IAAImuG,YAAYjuD,QAAZ,CAAqB,aAArB,CAAJ,CAAyC,CAC1CsuD,iBAAiBlpC,SAAjB,EACH,CACD;AACA;AACA;AACA;AACA;AACA,MAAO,MAAKmpC,oBAAL,CAA0B,SAA1B,CAAqCnpC,SAArC,CAAP,CACH,CA/BD,CAgCAsmC,YAAYnkH,SAAZ,CAAsBinH,iBAAtB,CAA0C,SAAUP,WAAV,CAAuBC,gBAAvB,CAAyC,CAC/E,GAAIE,cAAe,KAAKrB,YAAL,CAAkBmB,gBAAlB,CAAnB,CACA,GAAI9oC,WAAY,KAAK+oC,oBAAL,CAA0BF,WAA1B,CAAhB,CACA,GAAIA,YAAYjuD,QAAZ,CAAqB,eAArB,CAAJ,CAA2C,CACvC,KAAKquD,oBAAL,CAA0BjpC,SAA1B,CAAqCgpC,YAArC,CAAmD,CAAE,eAArD,EACH,CACD,MAAOhpC,WAAU7tB,UAAV,CAAqBvvD,MAArB,CAA8B,CAA9B,CACH,KAAKumH,oBAAL,CAA0BH,aAAahuD,QAAvC,CAAiDglB,SAAjD,CADG,CAEH,IAFJ,CAGH,CATD,CAUAsmC,YAAYnkH,SAAZ,CAAsBknH,cAAtB,CAAuC,SAAUC,SAAV,CAAqBC,OAArB,CAA8B,CACjE,GAAIvjH,OAAQ,IAAZ,CACA,GAAIwjH,OAAQF,UAAUp+G,GAAV,CAAc,SAAU8vD,QAAV,CAAoB,CAAE,MAAOh1D,OAAM2hH,YAAN,CAAmB3sD,QAAnB,CAAP,CAAsC,CAA1E,CAAZ,CACA,GAAIyuD,iBAAkB,EAAtB,CACAD,MAAMtjH,OAAN,CAAc,SAAUw5B,IAAV,CAAgB,CAAE,MAAOA,MAAK+nF,SAAL,CAAevhH,OAAf,CAAuB,SAAUmI,QAAV,CAAoB,CAC9E,MAAOo7G,iBAAgB9lH,IAAhB,CAAqBqC,MAAMygH,iBAAN,CAAwBzlD,oCAAxB,CAA6D3yD,SAASyF,IAAT,CAAc4G,SAA3E,CAAsF,KAAtF,CAArB,CAAP,CACH,CAFsC,CAAP,CAE3B,CAFL,EAGA,GAAIgvG,qBAAsBH,QAAQr+G,GAAR,CAAY,SAAUy+G,MAAV,CAAkB,CAAE,MAAO3jH,OAAM8hH,0BAAN,CAAiC6B,MAAjC,CAAP,CAAkD,CAAlF,CAA1B,CACA,MAAOt3G,SAAQH,GAAR,CAAYu3G,eAAZ,EAA6Bz3G,IAA7B,CAAkC,SAAUgY,CAAV,CAAa,CAAE,MAAQ,CAC5D4/F,gBAAiBC,wBAAwBL,KAAxB,CAD2C,CAE5DE,oBAAqBA,mBAFuC,CAAR,CAGnD,CAHE,CAAP,CAIH,CAZD,CAaApD,YAAYnkH,SAAZ,CAAsB2nH,aAAtB,CAAsC,SAAUR,SAAV,CAAqBC,OAArB,CAA8B,CAChE,GAAIvjH,OAAQ,IAAZ,CACA,GAAIwjH,OAAQF,UAAUp+G,GAAV,CAAc,SAAU8vD,QAAV,CAAoB,CAAE,MAAOh1D,OAAM2hH,YAAN,CAAmB3sD,QAAnB,CAAP,CAAsC,CAA1E,CAAZ,CACAwuD,MAAMtjH,OAAN,CAAc,SAAUw5B,IAAV,CAAgB,CAAE,MAAOA,MAAK+nF,SAAL,CAAevhH,OAAf,CAAuB,SAAUmI,QAAV,CAAoB,CAAE,MAAOrI,OAAMygH,iBAAN,CAAwBzlD,oCAAxB,CAA6D3yD,SAASyF,IAAT,CAAc4G,SAA3E,CAAsF,IAAtF,CAAP,CAAqG,CAAlJ,CAAP,CAA6J,CAA7L,EACA,GAAIgvG,qBAAsBH,QAAQr+G,GAAR,CAAY,SAAUy+G,MAAV,CAAkB,CAAE,MAAO3jH,OAAM8hH,0BAAN,CAAiC6B,MAAjC,CAAP,CAAkD,CAAlF,CAA1B,CACA,MAAO,CACHC,gBAAiBC,wBAAwBL,KAAxB,CADd,CAEHE,oBAAqBA,mBAFlB,CAAP,CAIH,CATD,CAUApD,YAAYnkH,SAAZ,CAAsB8mH,oBAAtB,CAA6C,SAAUjpC,SAAV,CAAqBtgD,IAArB,CAA2BqqF,SAA3B,CAAsC,CAC/E,GAAI/jH,OAAQ,IAAZ,CACA,GAAIguF,aAAc,CAAlB,CACAt0D,KAAK+nF,SAAL,CAAevhH,OAAf,CAAuB,SAAUo7D,YAAV,CAAwB0oD,aAAxB,CAAuC,CAC1D;AACA;AACA;AACAhkH,MAAM8gH,iBAAN,CAAwB14C,UAAxB,CAAmC4R,SAAnC,CAA8C1e,aAAaxtD,IAAb,CAAkB4G,SAAhE,EACA;AACA;AACA;AACA;AACA,GAAIo8C,oBAAqBjzD,SAASy9D,aAAa5iD,gBAAb,CAA8B9H,UAA9B,CAAyC1L,GAAzC,CAA6C,SAAU1J,CAAV,CAAa,CAAE,MAAOA,GAAEkZ,SAAT,CAAqB,CAAjF,CAAT,CAA6F4mD,aAAa5iD,gBAAb,CAA8BS,KAA9B,CAAoCjU,GAApC,CAAwC,SAAU1J,CAAV,CAAa,CAAE,MAAOA,GAAEkZ,SAAT,CAAqB,CAA5E,CAA7F,CAA4K4mD,aAAa/iD,eAAb,CAA6BrT,GAA7B,CAAiC,SAAUjI,CAAV,CAAa,CAAE,MAAOA,GAAE6Q,IAAF,CAAO4G,SAAd,CAA0B,CAA1E,CAA5K,CAAyP4mD,aAAa9iD,eAAb,CAA6BtT,GAA7B,CAAiC,SAAUjI,CAAV,CAAa,CAAE,MAAOA,GAAE6Q,IAAF,CAAO4G,SAAd,CAA0B,CAA1E,CAAzP,CAAsU1U,MAAMikH,6BAAN,CAAoC,CAACpjE,YAAYQ,WAAb,CAA0BR,YAAYG,UAAtC,CAApC,CAAtU,CAAzB,CACA,GAAIitC,uBAAwB,GAAI5qF,IAAJ,EAA5B,CACAytD,mBAAmB5wD,OAAnB,CAA2B,SAAUyU,GAAV,CAAeuvG,SAAf,CAA0B,CACjDj2B,sBAAsBlpF,GAAtB,CAA0B4P,GAA1B,CAA+B,QAAUqvG,aAAV,CAA0B,GAA1B,CAAgCE,SAA/D,EACH,CAFD,EAGAj2B,sBAAsB/tF,OAAtB,CAA8B,SAAUugE,OAAV,CAAmB/rD,SAAnB,CAA8B,CACxDslE,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B0zD,SAASoP,OAAT,EACrB17D,GADqB,CACjB4oD,UAAUpE,IAAV,CAAepE,YAAf,CADiB,EAErBoF,UAFqB,CAEVkH,eAAeuoB,UAAU1oB,UAAV,CAAqB58C,SAArB,CAAgC,gBAAiB,IAAjD,CAAuD,kBAAmB,KAA1E,CAAf,CAFU,CAA1B,EAGH,CAJD,EAKA,GAAIqvG,UAAY,CAAE,eAAlB,CAAmC,CAC/B;AACAzoD,aAAapjD,kBAAb,CAAgChY,OAAhC,CAAwC,SAAUikH,KAAV,CAAiB,CACrD,GAAI/oG,UAAWpb,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6C6pD,MAAMzvG,SAAnD,CAAf,CACA,GAAI,CAAC0G,SAAS1E,WAAd,CAA2B,CACvB,OACH,CACDs3E,cACAhuF,MAAMokH,qBAAN,CAA4BpqC,SAA5B,CAAuC5+D,SAAStN,IAAT,CAAc4G,SAAd,CAAwBhU,IAAxB,CAA+B,QAA/B,CAA0CstF,WAAjF,CAA8F1yB,YAA9F,CAA4Gt7D,MAAMygH,iBAAN,CAAwB3nD,wBAAxB,CAAiD19C,QAAjD,CAA5G,CAAwK,CAACA,SAAStN,IAAV,CAAxK,CAAyLmgF,qBAAzL,EACAjuF,MAAMokH,qBAAN,CAA4BpqC,SAA5B,CAAuC5+D,SAAStN,IAAT,CAAc4G,SAAd,CAAwBhU,IAAxB,CAA+B,GAA/B,CAAqCstF,WAA5E,CAAyF1yB,YAAzF,CAAuGlgD,QAAvG,CAAiHkgD,aAAa5iD,gBAAb,CAA8B9H,UAA/I,CAA2Jq9E,qBAA3J,EACH,CARD,EASH,CACJ,CA/BD,EAgCA,GAAIjU,UAAU7tB,UAAV,CAAqBvvD,MAArB,GAAgC,CAApC,CAAuC,CACnCsmH,iBAAiBlpC,SAAjB,EACH,CACJ,CAtCD,CAuCAsmC,YAAYnkH,SAAZ,CAAsB8nH,6BAAtB,CAAsD,SAAUtzG,UAAV,CAAsB,CACxE,GAAI2hD,IAAJ,CAASpzD,EAAT,CACA,GAAI4D,QAAS,EAAb,CACA,GAAI,CACA,IAAK,GAAIuhH,cAAetnH,SAAS4T,UAAT,CAAnB,CAAyC2zG,eAAiBD,aAAajnH,IAAb,EAA/D,CAAoF,CAACknH,eAAehnH,IAApG,CAA0GgnH,eAAiBD,aAAajnH,IAAb,EAA3H,CAAgJ,CAC5I,GAAIsX,WAAY4vG,eAAejnH,KAA/B,CACA,GAAI6I,OAAQ49C,gCAAgC,KAAKC,SAArC,CAAgDrvC,SAAhD,CAAZ,CACA,GAAIxO,MAAM0O,UAAV,CAAsB,CAClB9R,OAAOnF,IAAP,CAAYuI,MAAM0O,UAAN,CAAiBF,SAA7B,EACH,CACJ,CACJ,CACD,MAAO+9C,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CATzC,OAUQ,CACJ,GAAI,CACA,GAAI6xD,gBAAkB,CAACA,eAAehnH,IAAlC,GAA2C4B,GAAKmlH,aAAa3xD,MAA7D,CAAJ,CAA0ExzD,GAAGrC,IAAH,CAAQwnH,YAAR,EAC7E,CAFD,OAGQ,CAAE,GAAI/xD,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,MAAOkF,OAAP,CACH,CApBD,CAqBAw9G,YAAYnkH,SAAZ,CAAsBioH,qBAAtB,CAA8C,SAAU9oF,GAAV,CAAe0yD,WAAf,CAA4BryE,UAA5B,CAAwCP,QAAxC,CAAkDxK,UAAlD,CAA8Dq9E,qBAA9D,CAAqF,CAC/H,GAAI/uF,GAAJ,CACA,GAAIC,IAAK,KAAKolH,cAAL,CAAoBnpG,QAApB,CAA8BO,UAA9B,CAA0C/K,UAA1C,CAAT,CAAgE4zG,eAAiBrlH,GAAG2W,QAApF,CAA8F6rE,UAAYxiF,GAAGga,KAA7G,CACA,CAACja,GAAKo8B,IAAI6wB,UAAV,EAAsBxuD,IAAtB,CAA2Bb,KAA3B,CAAiCoC,EAAjC,CAAqCrB,SAAS,KAAKgjH,kBAAL,CAAwBxmC,gBAAxB,CAAyC2T,WAAzC,CAAsD5yE,QAAtD,CAAgEopG,cAAhE,CAAgF7iC,SAAhF,CAA2FsM,qBAA3F,CAAkH3yD,GAAlH,CAAT,CAArC,EACH,CAJD,CAKAglF,YAAYnkH,SAAZ,CAAsBsoH,iBAAtB,CAA0C,SAAUlD,aAAV,CAAyBrpE,MAAzB,CAAiC,CACvE,GAAIl4C,OAAQ,IAAZ,CACA,GAAI8iB,QAAS,EAAb,CACA,GAAIsuF,YAAa,GAAInyD,WAAJ,EAAjB,CACA;AACA,GAAIylE,eAAgB,GAAItpB,cAAJ,CAAkBgW,UAAlB,CAA8B,EAA9B,CAAkC,EAAlC,CAAsCl5D,MAAtC,CAApB,CACAqpE,cAAciC,KAAd,CAAoBtjH,OAApB,CAA4B,SAAUw5B,IAAV,CAAgB,CACxC,GAAIirF,WAAY,EAAhB,CACAjrF,KAAK9oB,UAAL,CAAgB1Q,OAAhB,CAAwB,SAAUolB,aAAV,CAAyB,CAC7C,GAAIoyC,SAAU13D,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6Ch1C,aAA7C,CAAd,CACA,GAAIoyC,SAAWA,QAAQhhD,WAAvB,CAAoC,CAChCiuG,UAAUhnH,IAAV,CAAe+5D,OAAf,EACH,CACJ,CALD,EAMAitD,UAAUzkH,OAAV,CAAkB,SAAUkb,QAAV,CAAoB,CAClC,GAAIwkC,MAAOxkC,SAAStF,QAAT,CAAkBA,QAA7B,CACA;AACA;AACA,GAAIC,aAAcqF,SAAStF,QAAT,CAAkBC,WAApC,CACA,GAAI6M,qBAAsBjE,oBAAoBC,SAApB,CAA8BxD,SAAStF,QAAT,CAAkBM,aAAhD,CAA1B,CACA0M,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAAS6mH,cAAcrpB,kBAAd,CAAiCz7C,IAAjC,CAAuC7pC,WAAvC,CAAoD6M,mBAApD,CAAT,CAA1B,EACH,CAPD,EAQH,CAhBD,EAiBA,GAAIE,OAAOlmB,MAAX,CAAmB,CACf,KAAM,IAAIwB,MAAJ,CAAU0kB,OAAO5d,GAAP,CAAW,SAAUxH,CAAV,CAAa,CAAE,MAAOA,GAAEqF,QAAF,EAAP,CAAsB,CAAhD,EAAkDL,IAAlD,CAAuD,IAAvD,CAAV,CAAN,CACH,CACD,MAAOgiH,cAAP,CACH,CA3BD,CA4BApE,YAAYnkH,SAAZ,CAAsByoH,qBAAtB,CAA8C,SAAU1lH,EAAV,CAAc2lH,OAAd,CAAuB,CACjE,GAAI7kH,OAAQ,IAAZ,CACA,GAAI8kH,2BAA4B5lH,GAAG4lH,yBAAnC,CAA8DtB,MAAQtkH,GAAGskH,KAAzE,CACA,GAAIuB,YAAa,GAAI1hH,IAAJ,EAAjB,CACA,GAAIg3B,YAAa,SAAU26B,QAAV,CAAoB,CACjC,GAAI,CAAC+vD,WAAWrrG,GAAX,CAAes7C,QAAf,CAAL,CAA+B,CAC3B+vD,WAAWhgH,GAAX,CAAeiwD,QAAf,CAAyBh1D,MAAM+iH,oBAAN,CAA2B/tD,QAA3B,CAAzB,EACH,CACD,MAAO+vD,YAAWjgH,GAAX,CAAekwD,QAAf,CAAP,CACH,CALD,CAMAwuD,MAAMtjH,OAAN,CAAc,SAAUw5B,IAAV,CAAgB,CAAE,MAAO15B,OAAMglH,qBAAN,CAA4BtrF,KAAKs7B,QAAjC,CAA2C8vD,yBAA3C,CAAsEprF,KAAK9oB,UAA3E,CAAuF8oB,KAAKvgB,KAA5F,CAAmGugB,KAAK+nF,SAAxG,CAAmH/nF,KAAKyoF,WAAxH,CAAqI9nF,WAAWX,KAAKs7B,QAAhB,CAArI,CAAP,CAAyK,CAAzM,EACA6vD,QAAQ3kH,OAAR,CAAgB,SAAUw5B,IAAV,CAAgB,CAAE,MAAO15B,OAAMilH,sBAAN,CAA6BvrF,KAAKs7B,QAAlC,CAA4Ct7B,KAAKwrF,cAAjD,CAAiE7qF,WAAWX,KAAKs7B,QAAhB,CAAjE,CAAP,CAAqG,CAAvI,EACA,MAAOn5D,OAAM88C,IAAN,CAAWosE,WAAW37G,MAAX,EAAX,EACFlE,GADE,CACE,SAAU6F,OAAV,CAAmB,CAAE,MAAQ,CAClCiqD,SAAUjqD,QAAQ4hE,WADgB,CAElCxgB,WAAYtuD,SAASkN,QAAQg3F,YAAR,CAAqB51C,UAA9B,CAA0CphD,QAAQohD,UAAlD,CAFsB,CAAR,CAGzB,CAJE,CAAP,CAKH,CAjBD,CAkBAm0D,YAAYnkH,SAAZ,CAAsB8oH,sBAAtB,CAA+C,SAAUjwD,QAAV,CAAoBkwD,cAApB,CAAoCn6G,OAApC,CAA6C,CACxF,GAAI/K,OAAQ,IAAZ,CACAklH,eAAehlH,OAAf,CAAuB,SAAUhF,MAAV,CAAkB,CAAE,MAAOwoG,4BAA2B34F,OAA3B,CAAoC7P,MAApC,CAA4C8E,MAAM+gH,mBAAlD,CAAP,CAAgF,CAA3H,EACH,CAHD,CAIAT,YAAYnkH,SAAZ,CAAsB6oH,qBAAtB,CAA8C,SAAUhwD,QAAV,CAAoB8vD,yBAApB,CAA+Cl0G,UAA/C,CAA2DuI,KAA3D,CAAkEsoG,SAAlE,CAA6EU,WAA7E,CAA0Fp3G,OAA1F,CAAmG,CAC7I,GAAI/K,OAAQ,IAAZ,CACA,GAAI8iB,QAAS,EAAb,CACA,GAAIqiG,gBAAiB,GAAItzC,yBAAJ,EAArB,CACA,GAAIuzC,mBAAoB,GAAIxoC,cAAJ,CAAkB,KAAK8jC,eAAL,CAAqB2E,gBAAvC,CAAyDvmG,4BAAzD,CAAuFqmG,cAAvF,CAAuG,EAAvG,CAA2GriG,MAA3G,CAAxB,CACA;AACAlS,WAAW1Q,OAAX,CAAmB,SAAUolB,aAAV,CAAyB,CACxC,GAAIggG,mBAAoBtlH,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6Ch1C,aAA7C,CAAxB,CACA,GAAIggG,kBAAkB5uG,WAAtB,CAAmC,CAC/B,GAAIxb,QAAS4pH,0BAA0BhgH,GAA1B,CAA8BwgB,aAA9B,CAAb,CACApqB,QACI0C,MAAM,8CAAgD4W,eAAe8wG,kBAAkBx3G,IAAjC,CAAhD,CAAyF,GAA/F,CADJ,CAEA,GAAIkI,SAAUsvG,kBAAkBxvG,QAAlB,CAA2BE,OAAzC,CACA,GAAIzC,qBAAsB+xG,kBAAkBxvG,QAAlB,CAA2BvC,mBAArD,CACA,GAAI,CAACA,mBAAL,CAA0B,CACtByC,QAAUylE,kBAAkBzlE,OAAlB,CAAV,CACH,CACD,GAAIg9F,YAAaxM,oBAAoBxwF,QAAQmN,SAA5B,CAAuCiiG,iBAAvC,CAAjB,CACA;AACA,GAAIG,sBAAuB,GAAIliH,IAAJ,EAA3B,CACA,GAAImiH,cAAetqH,OAAOwd,gBAAP,CAAwB9H,UAAxB,CAAmC1L,GAAnC,CAAuC,SAAUiC,GAAV,CAAe,CAAE,MAAOnH,OAAMygH,iBAAN,CAAwBlmD,mBAAxB,CAA4CpzD,IAAIuN,SAAhD,CAAP,CAAoE,CAA5H,CAAnB,CACA8wG,aAAatlH,OAAb,CAAqB,SAAUyR,SAAV,CAAqB,CACtC,GAAIA,UAAUnQ,QAAd,CAAwB,CACpB+jH,qBAAqBxgH,GAArB,CAAyB4M,UAAUnQ,QAAnC,CAA6CmQ,UAAU7D,IAAV,CAAe4G,SAA5D,EACH,CACJ,CAJD,EAKA;AACA,GAAI+wG,kBAAmB,GAAIpiH,IAAJ,EAAvB,CACA,GAAIqiH,SAAUxqH,OAAOwd,gBAAP,CAAwBS,KAAxB,CAA8BjU,GAA9B,CAAkC,SAAU+3E,IAAV,CAAgB,CAAE,MAAOj9E,OAAMygH,iBAAN,CAAwBtiD,cAAxB,CAAuC8e,KAAKvoE,SAA5C,CAAP,CAAgE,CAApH,CAAd,CACAgxG,QAAQxlH,OAAR,CAAgB,SAAU+8E,IAAV,CAAgB,CAAEwoC,iBAAiB1gH,GAAjB,CAAqBk4E,KAAKv8E,IAA1B,CAAgCu8E,KAAKnvE,IAAL,CAAU4G,SAA1C,EAAuD,CAAzF,EACAq+F,4BAA4BhoG,OAA5B,CAAqCu6G,iBAArC,CAAwDtS,UAAxD,CAAoEhzG,MAAM+jD,SAA1E,CAAqFqhE,iBAArF,CAAwGG,oBAAxG,CAA8HE,gBAA9H,EACH,CAvBD,IAwBK,CACD5S,4BAA4B9nG,OAA5B,CAAqCu6G,iBAArC,CAAwDtlH,MAAM+jD,SAA9D,CAAyEqhE,iBAAzE,EACH,CACJ,CA7BD,EA8BAjsG,MAAMjZ,OAAN,CAAc,SAAU+9D,QAAV,CAAoB,CAC9B,GAAI0nD,cAAe3lH,MAAMygH,iBAAN,CAAwBziD,eAAxB,CAAwCC,QAAxC,CAAnB,CACA,GAAI0nD,YAAJ,CAAkB,CACdzhB,uBAAuBn5F,OAAvB,CAAgC46G,YAAhC,CAA8C3lH,MAAM+jD,SAApD,EACH,CACJ,CALD,EAMAo+D,YAAYjiH,OAAZ,CAAoB,SAAUqI,UAAV,CAAsB,CAAE,MAAOvI,OAAM+gH,mBAAN,CAA0BhtD,OAA1B,CAAkCxrD,UAAlC,CAA8CwC,OAA9C,CAAP,CAAgE,CAA5G,EACH,CA3CD,CA4CAu1G,YAAYnkH,SAAZ,CAAsBypH,sBAAtB,CAA+C,SAAUpC,KAAV,CAAiB,CAC5D,GAAIxjH,OAAQ,IAAZ,CACA;AACA,MAAOwjH,OAAM5oG,MAAN,CAAa,SAAUpd,CAAV,CAAak8B,IAAb,CAAmB,CACnCl8B,EAAEG,IAAF,CAAOb,KAAP,CAAaU,CAAb,CAAgBK,SAASmC,MAAM6lH,mBAAN,CAA0BnsF,KAAKs7B,QAA/B,CAAyCt7B,KAAKyoF,WAA9C,CAAT,CAAhB,EACA,MAAO3kH,EAAP,CACH,CAHM,CAGJ,EAHI,CAAP,CAIH,CAPD,CAQA8iH,YAAYnkH,SAAZ,CAAsB0pH,mBAAtB,CAA4C,SAAU7wD,QAAV,CAAoBmtD,WAApB,CAAiC,CACzE,GAAIniH,OAAQ,IAAZ,CACA,GAAI+K,SAAU,KAAKg4G,oBAAL,CAA0B/tD,QAA1B,CAAd,CACAmtD,YAAYjiH,OAAZ,CAAoB,SAAUqI,UAAV,CAAsB,CAAE,MAAOvI,OAAM+gH,mBAAN,CAA0BhtD,OAA1B,CAAkCxrD,UAAlC,CAA8CwC,OAA9C,CAAP,CAAgE,CAA5G,EACA,GAAIA,QAAQohD,UAAR,EAAsBphD,QAAQohD,UAAR,CAAmBvvD,MAAnB,CAA4B,CAAtD,CAAyD,CACrD,MAAO,CAAC,CAAEo4D,SAAUA,QAAZ,CAAsB7I,WAAYtuD,SAASkN,QAAQg3F,YAAR,CAAqB51C,UAA9B,CAA0CphD,QAAQohD,UAAlD,CAAlC,CAAD,CAAP,CACH,CACD,MAAO,EAAP,CACH,CARD,CASAm0D,YAAYnkH,SAAZ,CAAsB2pH,YAAtB,CAAqC,SAAUvE,aAAV,CAAyB,CAC1D,GAAIvhH,OAAQ,IAAZ,CACA,GAAI8kH,2BAA4BvD,cAAcuD,yBAA9C,CAAyEtB,MAAQjC,cAAciC,KAA/F,CACA,GAAIuC,eAAgBvC,MAAMt+G,GAAN,CAAU,SAAUw0B,IAAV,CAAgB,CAAE,MAAO15B,OAAMgmH,gBAAN,CAAuBtsF,KAAKs7B,QAA5B,CAAsC8vD,yBAAtC,CAAiEprF,KAAK9oB,UAAtE,CAAkF8oB,KAAKvgB,KAAvF,CAA8FugB,KAAK+nF,SAAnG,CAA8G/nF,KAAKyoF,WAAnH,CAAP,CAAyI,CAArK,CAApB,CACA,MAAO7rG,SAAQyvG,aAAR,CAAP,CACH,CALD,CAMAzF,YAAYnkH,SAAZ,CAAsB6pH,gBAAtB,CAAyC,SAAU3Q,UAAV,CAAsByP,yBAAtB,CAAiDl0G,UAAjD,CAA6DuI,KAA7D,CAAoEsoG,SAApE,CAA+EU,WAA/E,CAA4F,CACjI,GAAIniH,OAAQ,IAAZ,CACA,GAAIsiH,YAAa7tD,uBAAuBD,sBAAsB6gD,UAAtB,CAAkC,IAAlC,EAAwC,CAAxC,CAAvB,CAAjB,CACA,GAAI4Q,gBAAiB,EAArB,CACA,GAAIjsC,WAAY,KAAK+oC,oBAAL,CAA0B1uD,kBAAkBghD,UAAlB,CAA8B,IAA9B,CAA1B,CAAhB,CACA4Q,eAAetoH,IAAf,CAAoBb,KAApB,CAA0BmpH,cAA1B,CAA0CpoH,SAAS,KAAKqoH,cAAL,CAAoB7Q,UAApB,CAAgCzkG,UAAhC,CAA4CuI,KAA5C,CAAmDsoG,SAAnD,CAA8DU,WAA9D,CAA2EnoC,SAA3E,CAAT,CAA1C,EACA;AACAynC,UAAUvhH,OAAV,CAAkB,SAAUo7D,YAAV,CAAwB,CAAE,MAAOt7D,OAAMmmH,cAAN,CAAqBnsC,SAArB,CAAgC1e,YAAhC,CAAP,CAAuD,CAAnG,EACA;AACA1qD,WAAW1Q,OAAX,CAAmB,SAAU+3D,OAAV,CAAmB,CAClC,GAAI78C,UAAWpb,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6CrC,OAA7C,CAAf,CACA,GAAI,CAAC78C,SAAS1E,WAAd,CAA2B,CACvB,OACH,CACD,GAAIrO,UAAWy8G,0BAA0BhgH,GAA1B,CAA8BmzD,OAA9B,CAAf,CACA,GAAI,CAAC5vD,QAAL,CAAe,CACX,KAAM,IAAIjK,MAAJ,CAAU,6DAA+DoW,eAAe4G,SAAStN,IAAxB,CAA/D,CAA+F,GAAzG,CAAN,CACH,CACD;AACA,GAAIs4G,qBAAsBpmH,MAAM2gH,cAAN,CAAqBtmC,gBAArB,CAAsCL,SAAtC,CAAiD5+D,QAAjD,CAA1B,CACA;AACAA,SAAStF,QAAT,CAAkBG,mBAAlB,CAAsC/V,OAAtC,CAA8C,SAAUmmH,cAAV,CAA0B,CACpE;AACA;AACA,GAAI5rC,MAAOz6E,MAAM2gH,cAAN,CAAqBpmC,cAArB,CAAoCn/D,QAApC,CAAX,CACA6qG,eAAetoH,IAAf,CAAoBqC,MAAMsmH,cAAN,CAAqBjR,UAArB,CAAiCj6F,QAAjC,CAA2CirG,cAA3C,CAA2D5rC,IAA3D,CAAiE6nC,UAAjE,CAApB,EACA,GAAItiH,MAAMugH,QAAN,CAAe2B,sBAAnB,CAA2C,CACvC+D,eAAetoH,IAAf,CAAoBqC,MAAMsmH,cAAN,CAAqBjR,UAArB,CAAiCj6F,QAAjC,CAA2CirG,cAA3C,CAA2D,CAAC5rC,IAA5D,CAAkE6nC,UAAlE,CAApB,EACH,CACJ,CARD,EASA;AACA,GAAIiE,cAAevmH,MAAMwmH,iBAAN,CAAwBxsC,SAAxB,CAAmC5+D,QAAnC,CAA6C/S,QAA7C,CAAuDA,SAASqQ,gBAAT,CAA0B9H,UAAjF,CAA6Fw1G,mBAA7F,CAAkH9D,UAAlH,CAAnB,CACAtiH,MAAMymH,wBAAN,CAA+BzsC,SAA/B,CAA0C5+D,QAA1C,CAAoD/S,QAApD,CAA8Di6G,UAA9D,EACH,CAxBD,EAyBA,GAAItoC,UAAU7tB,UAAV,CAAqBvvD,MAArB,CAA8B,CAA9B,EAAmC,KAAK2jH,QAAL,CAAc2B,sBAArD,CAA6E,CACzE,GAAIwE,WAAY,KAAKvD,oBAAL,CAA0B9N,UAA1B,CAAsCr7B,SAAtC,CAAhB,CACAisC,eAAeh6B,OAAf,CAAuBy6B,SAAvB,EACH,CACD,MAAOT,eAAP,CACH,CAvCD,CAwCA3F,YAAYnkH,SAAZ,CAAsB+pH,cAAtB,CAAuC,SAAU1J,WAAV,CAAuB5rG,UAAvB,CAAmCuI,KAAnC,CAA0CsoG,SAA1C,CAAqDU,WAArD,CAAkEwE,YAAlE,CAAgF,CACnH,GAAI3mH,OAAQ,IAAZ,CACA,GAAI4mH,iBAAkB,KAAK3F,eAAL,CAAqBrH,YAArB,CAAkC4C,WAAlC,EACjBt3G,GADiB,CACb,SAAUwuD,MAAV,CAAkB,CAAE,MAAO1zD,OAAMihH,eAAN,CAAsB3J,aAAtB,CAAoC5jD,MAApC,CAAP,CAAqD,CAD5D,CAAtB,CAEA,GAAImzD,UAAWhpH,SAAS4jH,UAAUv8G,GAAV,CAAc,SAAUqW,IAAV,CAAgB,CAAE,MAAQ,CAC5Dq9C,QAAS54D,MAAMygH,iBAAN,CAAwB9lD,kBAAxB,CAA2Cp/C,KAAKzN,IAAL,CAAU4G,SAArD,CADmD,CAE5DsQ,SAAUhlB,MAAMygH,iBAAN,CAAwB1lD,mBAAxB,CAA4Cx/C,KAAKzN,IAAL,CAAU4G,SAAtD,CAFkD,CAAR,CAGnD,CAHmB,CAAT,CAGP9D,WAAW1L,GAAX,CAAe,SAAUyP,GAAV,CAAe,CAAE,MAAQ,CAC5CikD,QAAS54D,MAAMygH,iBAAN,CAAwBlmD,mBAAxB,CAA4C5lD,GAA5C,CADmC,CAE5CqQ,SAAUhlB,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6C3lD,GAA7C,CAFkC,CAAR,CAGnC,CAHG,CAHO,CAMPwE,MAAMjU,GAAN,CAAU,SAAUyP,GAAV,CAAe,CAAE,MAAQ,CACvCikD,QAAS54D,MAAMygH,iBAAN,CAAwBtiD,cAAxB,CAAuCxpD,GAAvC,CAD8B,CAEvCqQ,SAAUhlB,MAAMygH,iBAAN,CAAwBziD,eAAxB,CAAwCrpD,GAAxC,CAF6B,CAAR,CAG9B,CAHG,CANO,CASPwtG,YAAYj9G,GAAZ,CAAgB,SAAUyP,GAAV,CAAe,CAAE,MAAQ,CAC7CikD,QAAS54D,MAAMygH,iBAAN,CAAwB/iD,oBAAxB,CAA6C/oD,IAAI++C,MAAjD,CADoC,CAE7C1uC,SAAUhlB,MAAMygH,iBAAN,CAAwB/iD,oBAAxB,CAA6C/oD,IAAI++C,MAAjD,EAAyD5lD,IAFtB,CAAR,CAGpC,CAHG,CATO,CAAf,CAaA,GAAIg5G,iBAAkB,KAAKvG,QAAL,CAAc8B,qBAAd,CAClB,KAAKU,oBAAL,CAA0B7tD,sBAAsBsnD,WAAtB,CAAmC,IAAnC,CAA1B,CADkB,CAElB,IAFJ,CAGA,GAAIt9G,IAAKq9G,mBAAmBC,WAAnB,CAAgCsK,eAAhC,CAAiD,KAAKjwD,gBAAtD,CAAwE,KAAKoqD,eAA7E,CAA8F2F,eAA9F,CAA+GC,QAA/G,CAAT,CAAmI/J,KAAO59G,GAAG49G,IAA7I,CAAmJnmG,SAAWzX,GAAGyX,QAAjK,CACAA,SAASzW,OAAT,CAAiB,SAAUi3C,KAAV,CAAiB,CAC9BwvE,aAAax6D,UAAb,CAAwBxuD,IAAxB,CAA6B0zD,SAASla,MAAMxgC,QAAf,EAAyB5R,GAAzB,CAA6B4hH,aAAar1D,UAAb,CAAwBna,MAAMuc,MAA9B,CAA7B,EAAoEnJ,UAApE,CAA+E,IAA/E,CAAqF,CAC9GtvD,QAAQ2yD,YAAR,CAAqB6a,QADyF,CAArF,CAA7B,EAGH,CAJD,EAKA,GAAIs+C,aAAc,GAAI3R,cAAJ,CAAkBoH,WAAlB,CAA+BznD,gBAAgBynD,WAAhB,CAA/B,CAA6DM,IAA7D,CAAlB,CACA,GAAIh6G,QAAS,CAACikH,WAAD,CAAb,CACA,GAAID,eAAJ,CAAqB,CACjBhkH,OAAOnF,IAAP,CAAY,KAAKwlH,oBAAL,CAA0B3G,WAA1B,CAAuCsK,eAAvC,CAAZ,EACH,CACD,MAAOhkH,OAAP,CACH,CAhCD,CAiCAw9G,YAAYnkH,SAAZ,CAAsBgqH,cAAtB,CAAuC,SAAUnsC,SAAV,CAAqB3xE,QAArB,CAA+B,CAClE,GAAIwI,WAAY,EAAhB,CACA,GAAI,KAAK0vG,QAAL,CAAcroE,MAAlB,CAA0B,CACtB,GAAI8uE,kBAAmB,KAAKzG,QAAL,CAAcroE,MAAd,CAAqB9tC,OAArB,CAA6B,IAA7B,CAAmC,GAAnC,CAAvB,CACAyG,UAAUlT,IAAV,CAAe,CACXuI,MAAO49C,gCAAgC,KAAKC,SAArC,CAAgDlD,YAAYuB,SAA5D,CADI,CAEX/nC,SAAU2sG,gBAFC,CAAf,EAIH,CACD,GAAI,KAAKzG,QAAL,CAAc0G,UAAlB,CAA8B,CAC1Bp2G,UAAUlT,IAAV,CAAe,CACXuI,MAAO49C,gCAAgC,KAAKC,SAArC,CAAgDlD,YAAYwB,mBAA5D,CADI,CAEXhoC,SAAU,KAAKkmG,QAAL,CAAc0G,UAFb,CAAf,EAIH,CACD,KAAKnG,iBAAL,CAAuB/sD,OAAvB,CAA+BimB,SAA/B,CAA0C3xE,QAA1C,CAAoDwI,SAApD,EACH,CAhBD,CAiBAyvG,YAAYnkH,SAAZ,CAAsBsqH,wBAAtB,CAAiD,SAAUzsC,SAAV,CAAqB5+D,QAArB,CAA+B/S,QAA/B,CAAyCi6G,UAAzC,CAAqD,CAClG,GAAI4E,UAAW,KAAKzG,iBAAL,CAAuB3nD,wBAAvB,CAAgD19C,QAAhD,CAAf,CACA,GAAI+rG,oBAAqB,KAAKX,iBAAL,CAAuBxsC,SAAvB,CAAkCktC,QAAlC,CAA4C7+G,QAA5C,CAAsD,CAAC+S,SAAStN,IAAV,CAAtD,CAAuE,IAAvE,CAA6Ew0G,UAA7E,EACpBpxB,YADL,CAEA,GAAIk2B,gBAAiBjyG,qBAAqBiG,SAAStN,IAAT,CAAc4G,SAAnC,CAArB,CACA,GAAI2yG,aAAc,EAAlB,CACA,IAAK,GAAI9hG,SAAT,GAAqBnK,UAAS3K,MAA9B,CAAsC,CAClC,GAAIe,cAAe4J,SAAS3K,MAAT,CAAgB8U,QAAhB,CAAnB,CACA;AACA8hG,YAAY1pH,IAAZ,CAAiB,GAAImvD,gBAAJ,CAAoBvnC,QAApB,CAA8B2sC,QAAQ1gD,YAAR,CAA9B,CAAqD,KAArD,CAAjB,EACH,CACD,GAAI81G,cAAe,EAAnB,CACA,IAAK,GAAI/hG,SAAT,GAAqBnK,UAAS1K,OAA9B,CAAuC,CACnC,GAAIc,cAAe4J,SAAS1K,OAAT,CAAiB6U,QAAjB,CAAnB,CACA;AACA+hG,aAAa3pH,IAAb,CAAkB,GAAImvD,gBAAJ,CAAoBvnC,QAApB,CAA8B2sC,QAAQ1gD,YAAR,CAA9B,CAAqD,KAArD,CAAlB,EACH,CACDwoE,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B0zD,SAAS+1D,cAAT,EACrBriH,GADqB,CACjBusD,WAAWzQ,YAAY+C,sBAAvB,EAA+C8C,MAA/C,CAAsD,CAC3DwL,QAAQ92C,SAAS5Z,QAAjB,CAD2D,CAC/Bw4E,UAAU1oB,UAAV,CAAqBl2C,SAAStN,IAAT,CAAc4G,SAAnC,CAD+B,CAE3D28C,SAAS81D,kBAAT,CAF2D,CAE7B,GAAIp6D,eAAJ,CAAmBs6D,WAAnB,CAF6B,CAG3D,GAAIt6D,eAAJ,CAAmBu6D,YAAnB,CAH2D,CAI3D31D,WAAWv2C,SAAStF,QAAT,CAAkBK,kBAAlB,CAAqCjR,GAArC,CAAyC,SAAU1D,QAAV,CAAoB,CAAE,MAAO0wD,SAAQ1wD,QAAR,CAAP,CAA2B,CAA1F,CAAX,CAJ2D,CAAtD,CADiB,EAOrB+oD,UAPqB,CAOVgH,WAAW1Q,YAAYW,gBAAvB,CAAyC,CAACiQ,eAAeuoB,UAAU1oB,UAAV,CAAqBl2C,SAAStN,IAAT,CAAc4G,SAAnC,CAAf,CAAD,CAAzC,CAA0G,CAACuvC,aAAaskB,KAAd,CAA1G,CAPU,CAOuH,CAACttE,QAAQ2yD,YAAR,CAAqB4a,KAAtB,CAA6BvtE,QAAQ2yD,YAAR,CAAqB6a,QAAlD,CAPvH,CAA1B,EAQH,CAzBD,CA0BA63C,YAAYnkH,SAAZ,CAAsBqqH,iBAAtB,CAA0C,SAAUxsC,SAAV,CAAqB5+D,QAArB,CAA+B/S,QAA/B,CAAyCk/G,oBAAzC,CAA+DC,eAA/D,CAAgFlF,UAAhF,CAA4F,CAClI,GAAIpjH,IAAK,KAAKqlH,cAAL,CAAoBnpG,QAApB,CAA8B/S,QAA9B,CAAwCk/G,oBAAxC,CAAT,CAAwE/C,eAAiBtlH,GAAG4W,QAA5F,CAAsG6rE,UAAYziF,GAAGia,KAArH,CACA,GAAIsuG,YAAaD,gBAAkBn2D,SAASm2D,gBAAgBvtC,SAAzB,CAAlB,CAAwDtoB,WAAW,EAAX,CAAzE,CACA,GAAI+1D,YAAa,KAAK9G,aAAL,CAAmBvmC,gBAAnB,CAAoCL,SAApC,CAA+C5+D,QAA/C,CAAyDopG,cAAzD,CAAyEiD,UAAzE,CAAqF9lC,SAArF,CAAjB,CACA,GAAI6lC,eAAJ,CAAqB,CACjBG,wBAAwB,KAAK1G,eAA7B,CAA8CuG,eAA9C,CAA+D,KAAK7G,cAAL,CAAoBpmC,cAApB,CAAmCn/D,QAAnC,CAA/D,CAA6GknG,UAA7G,EACH,CACD,MAAOoF,WAAP,CACH,CARD,CASApH,YAAYnkH,SAAZ,CAAsBooH,cAAtB,CAAuC,SAAUnpG,QAAV,CAAoB/S,QAApB,CAA8Bk/G,oBAA9B,CAAoD,CACvF,GAAIvnH,OAAQ,IAAZ,CACA,GAAI,KAAKkhH,iBAAL,CAAuBxnG,GAAvB,CAA2B0B,SAAStN,IAAT,CAAc4G,SAAzC,CAAJ,CAAyD,CACrD,MAAO,MAAKwsG,iBAAL,CAAuBp8G,GAAvB,CAA2BsW,SAAStN,IAAT,CAAc4G,SAAzC,CAAP,CACH,CACD,GAAInB,qBAAsB6H,SAAStF,QAAT,CAAkBvC,mBAA5C,CACA,GAAI3C,YAAa22G,qBAAqBriH,GAArB,CAAyB,SAAUiC,GAAV,CAAe,CAAE,MAAOnH,OAAMygH,iBAAN,CAAwBlmD,mBAAxB,CAA4CpzD,IAAIuN,SAAhD,CAAP,CAAoE,CAA9G,CAAjB,CACA,GAAIyE,OAAQ9Q,SAASqQ,gBAAT,CAA0BS,KAA1B,CAAgCjU,GAAhC,CAAoC,SAAU+3E,IAAV,CAAgB,CAAE,MAAOj9E,OAAMygH,iBAAN,CAAwBtiD,cAAxB,CAAuC8e,KAAKvoE,SAA5C,CAAP,CAAgE,CAAtH,CAAZ,CACA,GAAI5R,QAAS,KAAK49G,eAAL,CAAqBn/G,KAArB,CAA2B6Z,QAA3B,CAAqCA,SAAStF,QAAT,CAAkBE,OAAvD,CAAgEpF,UAAhE,CAA4EuI,KAA5E,CAAmF9Q,SAASoQ,OAA5F,CAAqGyC,kBAAkB7S,SAASyF,IAA3B,CAAiCsN,QAAjC,CAA2CA,SAAStF,QAApD,CAArG,CAAoKvC,mBAApK,CAAb,CACA,KAAK2tG,iBAAL,CAAuBn8G,GAAvB,CAA2BqW,SAAStN,IAAT,CAAc4G,SAAzC,CAAoD5R,MAApD,EACA,MAAOA,OAAP,CACH,CAXD,CAYAw9G,YAAYnkH,SAAZ,CAAsB4mH,oBAAtB,CAA6C,SAAUp2C,WAAV,CAAuB,CAChE,GAAI3sE,OAAQ,IAAZ,CACA,GAAI4nH,eAAgB,SAAUl0D,MAAV,CAAkB/O,UAAlB,CAA8BmzD,YAA9B,CAA4C,CAC5D,GAAInzD,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,IAAb,CAAoB,CACjD,GAAImzD,eAAiB,IAAK,EAA1B,CAA6B,CAAEA,aAAe,IAAf,CAAsB,CACrD,GAAI,EAAEpkD,iBAAkB9/C,aAApB,CAAJ,CAAuC,CACnC,KAAM,IAAIxV,MAAJ,CAAU,sCAAwC4V,KAAKvG,SAAL,CAAeimD,MAAf,CAAlD,CAAN,CACH,CACD,GAAI8kD,OAAQx4G,MAAMihH,eAAN,CAAsB5I,YAAtB,CAAmC3kD,MAAnC,GAA8C,CAA1D,CACA,GAAIx0D,IAAKc,MAAMihH,eAAN,CAAsBpJ,WAAtB,CAAkCnkD,MAAlC,CAA0CokD,YAA1C,GAA2DpkD,MAApE,CAA4E7/C,SAAW3U,GAAG2U,QAA1F,CAAoGnT,KAAOxB,GAAGwB,IAA9G,CAAoHoT,QAAU5U,GAAG4U,OAAjI,CACA,GAAI+zG,cAAe7nH,MAAM8nH,qBAAN,CAA4Bj0G,QAA5B,CAAsC84D,WAAtC,CAAnB,CACA;AACA;AACA;AACA;AACA,GAAIo7C,eAAgB/nH,MAAM8nH,qBAAN,CAA4Bn7C,WAA5B,CAAyCA,WAAzC,CAApB,CACA,GAAI5rB,YAAa8mE,eAAiBE,aAAjB,CAAiC,IAAjC,CAAwCF,YAAzD,CACA;AACA;AACA;AACA;AACA;AACA,GAAIG,oBAAqBrjE,YAAc,EAAvC,CACA,GAAIsjE,wBAAyBzP,MAAQwP,mBAAmBprH,MAAxD,CACA,GAAIsrH,eAAgBF,mBAAmBlqH,MAAnB,CAA0B,GAAIjC,MAAJ,CAAUosH,sBAAV,EAAkCE,IAAlC,CAAuChjE,YAAvC,CAA1B,CAApB,CACA,MAAOrxC,SAAQ8G,MAAR,CAAe,SAAU2c,IAAV,CAAgB6wF,UAAhB,CAA4B,CAAE,MAAO7wF,MAAKjoB,IAAL,CAAU84G,UAAV,CAAP,CAA+B,CAA5E,CAA8E92D,WAAW,GAAI7F,kBAAJ,CAAsB1K,UAAtB,CAAkCrgD,IAAlC,CAAwC,IAAxC,CAAX,CAA0DwnH,aAA1D,CAA9E,CAAP,CACH,CAxBD,CAyBA,MAAO,CAAE/7D,WAAY,EAAd,CAAkBwgB,YAAaA,WAA/B,CAA4Crb,WAAYs2D,aAAxD,CAAuE7lB,aAAc,GAAIjJ,aAAJ,EAArF,CAAP,CACH,CA5BD,CA6BAwnB,YAAYnkH,SAAZ,CAAsB2rH,qBAAtB,CAA8C,SAAUO,gBAAV,CAA4BC,kBAA5B,CAAgD,CAC1F,MAAO,MAAKzxD,gBAAL,CAAsB4hD,kBAAtB,CAAyC4P,gBAAzC,GACH,KAAKpH,eAAL,CAAqBxI,kBAArB,CAAwC4P,gBAAxC,CADG,EAEH,KAAK7H,KAAL,CAAW+H,oBAAX,CAAgCF,gBAAhC,CAAkDC,kBAAlD,CAFJ,CAGH,CAJD,CAKAhI,YAAYnkH,SAAZ,CAAsBmqH,cAAtB,CAAuC,SAAUjR,UAAV,CAAsBj6F,QAAtB,CAAgCotG,kBAAhC,CAAoDtuC,SAApD,CAA+DooC,UAA/D,CAA2E,CAC9G,GAAItoC,WAAY,KAAK+oC,oBAAL,CAA0BJ,iBAAiB6F,mBAAmBhzG,SAApC,CAA+C0kE,SAA/C,CAA0DooC,UAA1D,CAA1B,CAAhB,CACA,GAAImG,oBAAqB,KAAK9H,cAAL,CAAoBnmC,aAApB,CAAkCR,SAAlC,CAA6C5+D,QAA7C,CAAuDotG,kBAAvD,CAA2EtuC,SAA3E,CAAzB,CACAytC,wBAAwB,KAAK1G,eAA7B,CAA8CwH,kBAA9C,CAAkEvuC,SAAlE,CAA6EooC,UAA7E,EACA,MAAO,MAAKa,oBAAL,CAA0B9N,UAA1B,CAAsCr7B,SAAtC,CAAP,CACH,CALD,CAMAsmC,YAAYnkH,SAAZ,CAAsBgnH,oBAAtB,CAA6C,SAAU9N,UAAV,CAAsB/5E,GAAtB,CAA2B,CACpE,MAAO,IAAI85E,cAAJ,CAAkBC,UAAlB,CAA8B/5E,IAAIqxC,WAAlC,CAA+CrxC,IAAI6wB,UAAnD,CAAP,CACH,CAFD,CAGAm0D,YAAYnkH,SAAZ,CAAsBs5G,cAAtB,CAAuC,SAAUiT,UAAV,CAAsB9E,eAAtB,CAAuC,CAC1E,GAAI70B,IAAJ,CAAS7vF,EAAT,CAAamwF,GAAb,CAAkBlwF,EAAlB,CACA,GAAI43F,MAAO,IAAX,CACA,GAAI2xB,UAAJ,CAAgB,CACZ,GAAIh1D,QAASuiD,eAAeyS,UAAf,CAA2B,KAAK3kE,SAAhC,EAA2CwyD,gBAAxD,CACA,MAAOoS,gBAAej1D,MAAf,CAAP,CACH,CAHD,IAIK,IAAIkwD,eAAJ,CAAqB,CACtB,GAAIlO,eAAgB,EAApB,CACA,GAAI,CACA,IAAK,GAAIn2G,IAAKxC,SAAS6mH,gBAAgBnC,SAAzB,CAAT,CAA8C/hH,GAAKH,GAAGnC,IAAH,EAAxD,CAAmE,CAACsC,GAAGpC,IAAvE,CAA6EoC,GAAKH,GAAGnC,IAAH,EAAlF,CAA6F,CACzF,GAAIiL,UAAW3I,GAAGrC,KAAlB,CACA,GAAIurH,YAAanT,eAAeptG,QAAf,CAAyB,KAAK07C,SAA9B,CAAjB,CACA,GAAI,CACA,IAAK,GAAI8kE,cAAe9rH,SAAS6rH,UAAT,CAAnB,CAAyCE,eAAiBD,aAAazrH,IAAb,EAA/D,CAAoF,CAAC0rH,eAAexrH,IAApG,CAA0GwrH,eAAiBD,aAAazrH,IAAb,EAA3H,CAAgJ,CAC5I,GAAI2rH,WAAYD,eAAezrH,KAA/B,CACAq4G,cAAc/3G,IAAd,CAAmBorH,SAAnB,EACH,CACJ,CACD,MAAOl5B,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAIi5B,gBAAkB,CAACA,eAAexrH,IAAlC,GAA2C6B,GAAK0pH,aAAan2D,MAA7D,CAAJ,CAA0EvzD,GAAGtC,IAAH,CAAQgsH,YAAR,EAC7E,CAFD,OAGQ,CAAE,GAAIx5B,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACJ,CACJ,CACD,MAAOsxF,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CAnBzC,OAoBQ,CACJ,GAAI,CACA,GAAIxvF,IAAM,CAACA,GAAGpC,IAAV,GAAmB4B,GAAKK,GAAGmzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQ0C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAIwvF,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACD,MAAO83G,cAAP,CACH,CA7BI,IA8BA,CACD,KAAM,IAAIt3G,MAAJ,CAAU,sDAAV,CAAN,CACH,CACD,QAASuqH,eAAT,CAAwBj1D,MAAxB,CAAgCs1D,UAAhC,CAA4CtT,aAA5C,CAA2D,CACvD,GAAIsT,aAAe,IAAK,EAAxB,CAA2B,CAAEA,WAAa,GAAIhwG,IAAJ,EAAb,CAAyB,CACtD,GAAI08F,gBAAkB,IAAK,EAA3B,CAA8B,CAAEA,cAAgB,EAAhB,CAAqB,CACrD,GAAIuT,IAAJ,CAAS/pH,EAAT,CACA;AACA;AACA,GAAI8pH,WAAWtvG,GAAX,CAAeg6C,MAAf,GAA0B,CAACA,OAAOhzD,IAAtC,CAA4C,CACxC,MAAOg1G,cAAP,CACH,CACDsT,WAAWrvG,GAAX,CAAe+5C,MAAf,EACA,GAAIk1D,YAAanT,eAAe1e,KAAK0pB,iBAAL,CAAuB1lD,mBAAvB,CAA2CrH,MAA3C,CAAmD,IAAnD,CAAf,CAAyEqjC,KAAKhzC,SAA9E,CAAjB,CACA,GAAI,CACA,IAAK,GAAImlE,cAAensH,SAAS6rH,UAAT,CAAnB,CAAyCO,eAAiBD,aAAa9rH,IAAb,EAA/D,CAAoF,CAAC+rH,eAAe7rH,IAApG,CAA0G6rH,eAAiBD,aAAa9rH,IAAb,EAA3H,CAAgJ,CAC5I,GAAI2rH,WAAYI,eAAe9rH,KAA/B,CACAq4G,cAAc/3G,IAAd,CAAmBorH,SAAnB,EACAJ,eAAeI,UAAUxS,gBAAzB,CAA2CyS,UAA3C,CAAuDtT,aAAvD,EACH,CACJ,CACD,MAAO0T,KAAP,CAAc,CAAEH,IAAM,CAAErrH,MAAOwrH,KAAT,CAAN,CAAyB,CAPzC,OAQQ,CACJ,GAAI,CACA,GAAID,gBAAkB,CAACA,eAAe7rH,IAAlC,GAA2C4B,GAAKgqH,aAAax2D,MAA7D,CAAJ,CAA0ExzD,GAAGrC,IAAH,CAAQqsH,YAAR,EAC7E,CAFD,OAGQ,CAAE,GAAID,GAAJ,CAAS,KAAMA,KAAIrrH,KAAV,CAAkB,CACxC,CACD,MAAO83G,cAAP,CACH,CACJ,CAnED,CAoEA,MAAO4K,YAAP,CACH,CAzkBgC,EAAjC,CA0kBA,QAAS4C,iBAAT,CAA0BlpC,SAA1B,CAAqC,CACjC;AACA;AACA;AACAA,UAAU7tB,UAAV,CAAqBxuD,IAArB,CAA0B2zD,WAAWzQ,YAAYW,gBAAvB,EAAyCiI,MAAzC,EAA1B,EACH,CACD,QAASk+D,wBAAT,CAAiCjL,cAAjC,CAAiD2M,aAAjD,CAAgE3G,SAAhE,CAA2EJ,UAA3E,CAAuF,CACnF+G,cAAc3uG,YAAd,CAA2Bxa,OAA3B,CAAmC,SAAUkzD,GAAV,CAAe,CAC9CA,IAAI0mB,QAAJ,CAAa4iC,eAAe1E,eAAf,CAA+B2K,iBAAiBvvD,IAAI59C,SAArB,CAAgCktG,SAAhC,CAA2CJ,UAA3C,CAA/B,CAAuFlvD,IAAI1yD,IAA3F,CAAb,EACH,CAFD,EAGH,CACD,QAASiiH,iBAAT,CAA0B2G,aAA1B,CAAyC7uC,IAAzC,CAA+CjF,MAA/C,CAAuD,CACnD,MAAO,GAAK8zC,aAAL,EAAsB7uC,KAAO,OAAP,CAAiB,EAAvC,EAA6C,UAA7C,CAA0DjF,MAAjE,CACH,CACD,QAAS+zC,iBAAT,CAA0BjG,SAA1B,CAAqChsG,IAArC,CAA2CkyG,oBAA3C,CAAiEC,gBAAjE,CAAmF,CAC/E,GAAIjG,OAAQkG,sCAAsCpG,SAAtC,CAAiDhsG,IAAjD,CAAuDkyG,oBAAvD,CAA6EC,gBAA7E,CAAZ,CACA,MAAOE,oBAAmBnG,KAAnB,CAAP,CACH,CACD,QAAShC,4BAAT,CAAqC8B,SAArC,CAAgDhsG,IAAhD,CAAsDkyG,oBAAtD,CAA4EC,gBAA5E,CAA8F,CAC1F,MAAOG,yBAAwBL,iBAAiBjG,SAAjB,CAA4BhsG,IAA5B,CAAkCkyG,oBAAlC,CAAwDC,gBAAxD,CAAxB,CAAP,CACH,CACD,QAASG,wBAAT,CAAiChG,eAAjC,CAAkD,CAC9C,GAAIA,gBAAgBiG,oBAAhB,EAAwCjG,gBAAgBiG,oBAAhB,CAAqCjtH,MAAjF,CAAyF,CACrF,GAAI6zC,UAAWmzE,gBAAgBiG,oBAAhB,CAAqC3kH,GAArC,CAAyC,SAAU1I,CAAV,CAAa,CACjE,MAAO,yCAA2CA,EAAEkE,IAA7C,CAAoD,MAApD,CAA6DlE,EAAEqX,QAA/D,CAA0E,QAA1E,CAAqFrX,EAAEkE,IAAvF,CAA8F,6BAArG,CACH,CAFc,CAAf,CAGA,KAAM6L,aAAYkkC,SAAS/tC,IAAT,CAAc,IAAd,CAAZ,CAAN,CACH,CACD,MAAOkhH,gBAAP,CACH,CACD;AACA;AACA;AACA,QAAS8F,sCAAT,CAA+CpG,SAA/C,CAA0DhsG,IAA1D,CAAgEkyG,oBAAhE,CAAsFC,gBAAtF,CAAwG,CACpG,GAAIK,WAAY,GAAI9wG,IAAJ,EAAhB,CACA,GAAIwqG,OAAQ,EAAZ,CACA,GAAIuG,WAAY,SAAU/0D,QAAV,CAAoB,CAChC,GAAI80D,UAAUpwG,GAAV,CAAcs7C,QAAd,GAA2B,CAAC19C,KAAK0yG,YAAL,CAAkBh1D,QAAlB,CAAhC,CAA6D,CACzD,MAAO,MAAP,CACH,CACD80D,UAAUnwG,GAAV,CAAcq7C,QAAd,EACA,GAAI4sD,cAAeC,YAAYvqG,IAAZ,CAAkBkyG,oBAAlB,CAAwCC,gBAAxC,CAA0Dz0D,QAA1D,CAAnB,CACAwuD,MAAM7lH,IAAN,CAAWikH,YAAX,EACAA,aAAaH,SAAb,CAAuBvhH,OAAvB,CAA+B,SAAUmI,QAAV,CAAoB,CAC/CA,SAASqQ,gBAAT,CAA0BG,OAA1B,CAAkC3Y,OAAlC,CAA0C,SAAU+pH,OAAV,CAAmB,CAAE,MAAOF,WAAUE,QAAQv1G,SAAR,CAAkBb,QAA5B,CAAP,CAA+C,CAA9G,EACH,CAFD,EAGH,CAVD,CAWAyvG,UAAUpjH,OAAV,CAAkB,SAAU80D,QAAV,CAAoB,CAAE,MAAO+0D,WAAU/0D,QAAV,CAAP,CAA6B,CAArE,EACA,MAAOwuD,MAAP,CACH,CACD,QAAS3B,YAAT,CAAqBvqG,IAArB,CAA2BkyG,oBAA3B,CAAiDC,gBAAjD,CAAmEz0D,QAAnE,CAA6E,CACzE,GAAIpkD,YAAa,EAAjB,CACA,GAAIuI,OAAQ,EAAZ,CACA,GAAIgpG,aAAc,EAAlB,CACA,GAAIV,WAAY,EAAhB,CACA,GAAIjI,eAAgBgQ,qBAAqBhQ,aAArB,CAAmCxkD,QAAnC,CAApB,CACA,GAAIotD,uBAAwB,KAA5B,CACA;AACA;AACA;AACA;AACA;AACA,GAAI,CAACptD,SAASJ,QAAT,CAAkB,OAAlB,CAAD,EAA+B4kD,aAAnC,CAAkD,CAC9CgQ,qBAAqB5P,YAArB,CAAkC5kD,QAAlC,EAA4C90D,OAA5C,CAAoD,SAAUwzD,MAAV,CAAkB,CAClE,GAAI4kD,gBAAiBkR,qBAAqBlS,aAArB,CAAmC5jD,MAAnC,CAArB,CACA,GAAIknD,YAAatC,eAAetzF,QAAhC,CACA,GAAI,CAAC41F,UAAD,EAAeA,WAAWtB,UAAX,GAA0B,OAA7C,CAAsD,CAClD,OACH,CACD,GAAI4Q,YAAa,KAAjB,CACA,GAAItP,WAAWtB,UAAX,GAA0B,OAA9B,CAAuC,CACnC,GAAImQ,iBAAiB9kG,WAAjB,CAA6B+uC,MAA7B,CAAJ,CAA0C,CACtCw2D,WAAa,IAAb,CACAt5G,WAAWjT,IAAX,CAAgB+1D,MAAhB,EACH,CAHD,IAIK,IAAI+1D,iBAAiBhvD,MAAjB,CAAwB/G,MAAxB,CAAJ,CAAqC,CACtCw2D,WAAa,IAAb,CACA/wG,MAAMxb,IAAN,CAAW+1D,MAAX,EACH,CAHI,IAIA,IAAI+1D,iBAAiB/uD,UAAjB,CAA4BhH,MAA5B,CAAJ,CAAyC,CAC1C,GAAIrrD,UAAWohH,iBAAiB1uD,mBAAjB,CAAqCrH,MAArC,CAA6C,KAA7C,CAAf,CACA,GAAIrrD,QAAJ,CAAc,CACV6hH,WAAa,IAAb,CACAzI,UAAU9jH,IAAV,CAAe0K,QAAf,EACH,CACJ,CANI,IAOA,IAAIohH,iBAAiBlsD,YAAjB,CAA8B7J,MAA9B,CAAJ,CAA2C,CAC5Cw2D,WAAa,IAAb,CACA,GAAI3hH,YAAakhH,iBAAiB7rD,qBAAjB,CAAuClK,MAAvC,CAA+C,IAA/C,CAAqD,KAArD,CAAjB,CACA,GAAInrD,UAAJ,CAAgB,CACZ45G,YAAYxkH,IAAZ,CAAiB4K,UAAjB,EACH,CACJ,CACJ,CACD,GAAI,CAAC2hH,UAAL,CAAiB,CACb9H,sBACIA,uBAAyB+H,8BAA8B7yG,IAA9B,CAAoCsjG,UAApC,CAD7B,CAEH,CACJ,CAnCD,EAoCH,CACD,MAAO,CACH5lD,SAAUA,QADP,CACiBpkD,WAAYA,UAD7B,CACyCuI,MAAOA,KADhD,CACuDsoG,UAAWA,SADlE,CAC6EU,YAAaA,WAD1F,CACuGC,sBAAuBA,qBAD9H,CAAP,CAGH,CACD,QAASL,0BAAT,CAAmCzqG,IAAnC,CAAyCkyG,oBAAzC,CAA+DC,gBAA/D,CAAiFz0D,QAAjF,CAA2F,CACvF,GAAImtD,aAAc,EAAlB,CACA,GAAI+C,gBAAiB,EAArB,CACA,GAAIsE,qBAAqBhQ,aAArB,CAAmCxkD,QAAnC,CAAJ,CAAkD,CAC9Cw0D,qBAAqB5P,YAArB,CAAkC5kD,QAAlC,EAA4C90D,OAA5C,CAAoD,SAAUwzD,MAAV,CAAkB,CAClE,GAAI4kD,gBAAiBkR,qBAAqBlS,aAArB,CAAmC5jD,MAAnC,CAArB,CACA,GAAIknD,YAAatC,eAAetzF,QAAhC,CACA,GAAI,CAAC41F,UAAD,EAAeA,WAAWtB,UAAX,GAA0B,OAA7C,CAAsD,CAClD,OACH,CACD,GAAIsB,WAAWtB,UAAX,GAA0B,OAA9B,CAAuC,CACnC,GAAImQ,iBAAiBlsD,YAAjB,CAA8B7J,MAA9B,CAAJ,CAA2C,CACvC,GAAInrD,YAAakhH,iBAAiB7rD,qBAAjB,CAAuClK,MAAvC,CAA+C,IAA/C,CAAqD,KAArD,CAAjB,CACA,GAAInrD,UAAJ,CAAgB,CACZ45G,YAAYxkH,IAAZ,CAAiB4K,UAAjB,EACH,CACJ,CALD,IAMK,IAAIkhH,iBAAiB/uD,UAAjB,CAA4BhH,MAA5B,CAAJ,CAAyC,CAC1C,GAAIx4D,QAASuuH,iBAAiBruD,wBAAjB,CAA0C1H,MAA1C,CAAb,CACA,GAAIx4D,MAAJ,CAAY,CACRgqH,eAAevnH,IAAf,CAAoBzC,MAApB,EACH,CACJ,CACJ,CACJ,CApBD,EAqBH,CACD,MAAO,CAAE85D,SAAUA,QAAZ,CAAsBmtD,YAAaA,WAAnC,CAAgD+C,eAAgBA,cAAhE,CAAP,CACH,CACD,QAASiF,8BAAT,CAAuC7yG,IAAvC,CAA6C0N,QAA7C,CAAuD,CACnD,GAAIo9F,uBAAwB,KAA5B,CACA,GAAIgI,SAAU,aAAe,UAAY,CACrC,QAASA,QAAT,EAAmB,CAClB,CACDA,QAAQjuH,SAAR,CAAkB8O,UAAlB,CAA+B,SAAUS,GAAV,CAAeX,OAAf,CAAwB,CACnD,GAAI/K,OAAQ,IAAZ,CACA0L,IAAIxL,OAAJ,CAAY,SAAUoQ,CAAV,CAAa,CAAE,MAAOzF,YAAWyF,CAAX,CAActQ,KAAd,CAAqB+K,OAArB,CAAP,CAAuC,CAAlE,EACH,CAHD,CAIAq/G,QAAQjuH,SAAR,CAAkBgP,cAAlB,CAAmC,SAAUjG,GAAV,CAAe6F,OAAf,CAAwB,CACvD,GAAI/K,OAAQ,IAAZ,CACAtE,OAAOiQ,IAAP,CAAYzG,GAAZ,EAAiBhF,OAAjB,CAAyB,SAAU0L,GAAV,CAAe,CAAE,MAAOf,YAAW3F,IAAI0G,GAAJ,CAAX,CAAqB5L,KAArB,CAA4B+K,OAA5B,CAAP,CAA8C,CAAxF,EACH,CAHD,CAIAq/G,QAAQjuH,SAAR,CAAkBiP,cAAlB,CAAmC,SAAU/N,KAAV,CAAiB0N,OAAjB,CAA0B,CAAG,CAAhE,CACAq/G,QAAQjuH,SAAR,CAAkBkP,UAAlB,CAA+B,SAAUhO,KAAV,CAAiB0N,OAAjB,CAA0B,CACrD,GAAI1N,gBAAiBuW,aAAjB,EAAiC,CAAC0D,KAAK0yG,YAAL,CAAkB3sH,MAAMwW,QAAxB,CAAtC,CAAyE,CACrEuuG,sBAAwB,IAAxB,CACH,CACJ,CAJD,CAKA,MAAOgI,QAAP,CACH,CAlB4B,EAA7B,CAmBAv/G,WAAWma,QAAX,CAAqB,GAAIolG,QAAJ,EAArB,CAAoC,IAApC,EACA,MAAOhI,sBAAP,CACH,CACD,QAASuH,mBAAT,CAA4BU,aAA5B,CAA2C,CACvC,GAAIC,cAAe,EAAnB,CACA,GAAIxF,2BAA4B,GAAIzhH,IAAJ,EAAhC,CACA,GAAIknH,uBAAwB,GAAIvxG,IAAJ,EAA5B,CACAqxG,cAAcnqH,OAAd,CAAsB,SAAUsqH,EAAV,CAAc,CAChCA,GAAG/I,SAAH,CAAavhH,OAAb,CAAqB,SAAUmI,QAAV,CAAoB,CACrCiiH,aAAa3sH,IAAb,CAAkB0K,QAAlB,EACAA,SAAS6P,kBAAT,CAA4BhY,OAA5B,CAAoC,SAAU1E,CAAV,CAAa,CAAE,MAAOspH,2BAA0B//G,GAA1B,CAA8BvJ,EAAEkZ,SAAhC,CAA2CrM,QAA3C,CAAP,CAA8D,CAAjH,EACAA,SAAS+P,aAAT,CAAuBlY,OAAvB,CAA+B,SAAUpE,CAAV,CAAa,CAAE,MAAOgpH,2BAA0B//G,GAA1B,CAA8BjJ,EAAE4Y,SAAhC,CAA2CrM,QAA3C,CAAP,CAA8D,CAA5G,EACH,CAJD,EAKAmiH,GAAG55G,UAAH,CAAc1Q,OAAd,CAAsB,SAAU1E,CAAV,CAAa,CAAE,MAAO+uH,uBAAsB5wG,GAAtB,CAA0Bne,CAA1B,CAAP,CAAsC,CAA3E,EACAgvH,GAAGrxG,KAAH,CAASjZ,OAAT,CAAiB,SAAUpE,CAAV,CAAa,CAAE,MAAOyuH,uBAAsB5wG,GAAtB,CAA0B7d,CAA1B,CAAP,CAAsC,CAAtE,EACH,CARD,EASA,GAAI+tH,sBAAuB,EAA3B,CACAU,sBAAsBrqH,OAAtB,CAA8B,SAAUyU,GAAV,CAAe,CACzC,GAAI,CAACmwG,0BAA0BprG,GAA1B,CAA8B/E,GAA9B,CAAL,CAAyC,CACrCk1G,qBAAqBlsH,IAArB,CAA0BgX,GAA1B,EACH,CACJ,CAJD,EAKA,MAAO,CACH8sG,UAAW6I,YADR,CAEHxF,0BAA2BA,yBAFxB,CAGH+E,qBAAsBA,oBAHnB,CAIHrG,MAAO6G,aAJJ,CAAP,CAMH,CACD,QAASxG,wBAAT,CAAiCL,KAAjC,CAAwC,CACpC,MAAOoG,yBAAwBD,mBAAmBnG,KAAnB,CAAxB,CAAP,CACH,CAED;;;;;;OAOA,GAAIiH,mBAAoB,oBAAxB,CACA,QAASC,UAAT,CAAmBvvF,KAAnB,CAA0B,CACtB,GAAIA,OAAS,CAAb,CACI,MAAO,EAAP,CACJ,GAAIA,MAAQ,CAAZ,CACI,MAAO,CAAC,EAAD,CAAK,GAAL,CAAU,IAAV,CAAgB,KAAhB,CAAuB,MAAvB,CAA+B,OAA/B,EAAwCA,KAAxC,CAAP,CACJ,GAAIwvF,MAAOD,UAAUx/E,KAAK0/E,KAAL,CAAWzvF,MAAQ,CAAnB,CAAV,CAAX,CACA,MAAOwvF,MAAOA,IAAP,EAAexvF,MAAQ,CAAR,GAAc,CAAd,CAAkB,GAAlB,CAAwB,EAAvC,CAAP,CACH,CACD,QAAS0vF,YAAT,CAAqBC,KAArB,CAA4B5/C,MAA5B,CAAoC,CAChC,GAAIA,SAAW,IAAK,EAApB,CAAuB,CAAEA,OAAS,CAAT,CAAa,CACtC,GAAI,CAAC4/C,KAAL,CACI,MAAO,EAAP,CACJ,GAAI/uG,UAAW+uG,MAAM/uG,QAAN,CACX+uG,MAAM/uG,QAAN,CAAei5C,QAAf,CAA0B,GAA1B,EAAiC81D,MAAM/uG,QAAN,CAAe4d,IAAf,CAAsB,CAAvD,EAA4D,GAA5D,EAAmEmxF,MAAM/uG,QAAN,CAAesxD,MAAf,CAAwB,CAA3F,EAAgG,GADrF,CAEX,EAFJ,CAGA,GAAIxuE,QAASkd,UAAYmvD,SAAW,CAAvB,CAA2BnvD,SAAW,IAAtC,CAA6C,EAA1D,CACA,GAAIgvG,SAAUhvG,UAAYmvD,SAAW,CAAvB,CAA2B,OAASnvD,QAApC,CAA+C,EAA7D,CACA,GAAIqR,SAAU,GAAKvuB,MAAL,CAAcisH,MAAM19F,OAApB,CAA8B29F,OAA5C,CACA,MAAO,GAAKL,UAAUx/C,MAAV,CAAL,CAAyB99C,OAAzB,EAAqC09F,MAAM1tH,IAAN,EAAe,KAAOytH,YAAYC,MAAM1tH,IAAlB,CAAwB8tE,OAAS,CAAjC,CAAvB,EAAgE,EAApG,CAAP,CACH,CACD,QAAS8/C,eAAT,CAAwBF,KAAxB,CAA+B,CAC3B,GAAI19F,SAAUy9F,YAAYC,KAAZ,EAAqB,GAAnC,CACA,GAAInqD,UAAWp0D,YAAY6gB,OAAZ,CAAf,CACAuzC,SAAS8pD,iBAAT,EAA8B,IAA9B,CACA9pD,SAASmqD,KAAT,CAAiBA,KAAjB,CACAnqD,SAAS5kD,QAAT,CAAoB+uG,MAAM/uG,QAA1B,CACA,MAAO4kD,SAAP,CACH,CACD,QAASsqD,iBAAT,CAA0BtqD,QAA1B,CAAoC,CAChC,MAAO,CAAC,CAACA,SAAS8pD,iBAAT,CAAT,CACH,CAED;;;;;;OAOA,GAAIS,cAAe,eAAnB,CACA,GAAIC,gBAAiB,iBAArB,CACA,GAAIC,YAAa,UAAjB,CACA,GAAIC,QAAS,CACT/R,WAAY,QADH,CAAb,CAGA,GAAIgS,WAAY,UAAhB,CACA,GAAIC,SAAU,SAAd,CACA,GAAIC,eAAgB,GAAIxyG,IAAJ,CAAQ,CAACsyG,SAAD,CAAY,YAAZ,CAA0B,MAA1B,CAAkC,IAAlC,CAAwC,cAAxC,CAAR,CAApB,CACA,GAAIG,mBAAoB,WAAxB,CACA,GAAIC,QAAS,OAAb,CACA,QAASC,aAAT,CAAsBtuH,KAAtB,CAA6B,CACzB,MAAOA,QAASA,MAAMi8G,UAAN,EAAoB,QAApC,CACH,CACD;;;OAIA,GAAIsS,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,CAAyB/U,eAAzB,CAA0C6F,cAA1C,CAA0DmP,oBAA1D,CAAgFC,sBAAhF,CAAwGhV,aAAxG,CAAuH,CACnH,GAAI+U,uBAAyB,IAAK,EAAlC,CAAqC,CAAEA,qBAAuB,EAAvB,CAA4B,CACnE,GAAIC,yBAA2B,IAAK,EAApC,CAAuC,CAAEA,uBAAyB,EAAzB,CAA8B,CACvE,GAAI9rH,OAAQ,IAAZ,CACA,KAAK62G,eAAL,CAAuBA,eAAvB,CACA,KAAK6F,cAAL,CAAsBA,cAAtB,CACA,KAAK5F,aAAL,CAAqBA,aAArB,CACA,KAAKiV,eAAL,CAAuB,GAAI1oH,IAAJ,EAAvB,CACA,KAAK2oH,sBAAL,CAA8B,GAAI3oH,IAAJ,EAA9B,CACA,KAAK4oH,aAAL,CAAqB,GAAI5oH,IAAJ,EAArB,CACA,KAAK6oH,cAAL,CAAsB,GAAI7oH,IAAJ,EAAtB,CACA,KAAK8oH,WAAL,CAAmB,GAAI9oH,IAAJ,EAAnB,CACA,KAAK+oH,WAAL,CAAmB,GAAI/oH,IAAJ,EAAnB,CACA,KAAKgpH,aAAL,CAAqB,GAAIhpH,IAAJ,EAArB,CACA,KAAKipH,0BAAL,CAAkC,GAAIjpH,IAAJ,EAAlC,CACA,KAAKkpH,uCAAL,CAA+C,GAAIlpH,IAAJ,EAA/C,CACA,KAAKmpH,uBAAL,GACAX,qBAAqB3rH,OAArB,CAA6B,SAAUusH,EAAV,CAAc,CAAE,MAAOzsH,OAAM0sH,+BAAN,CAAsC1sH,MAAMg4G,eAAN,CAAsByU,GAAG54G,QAAzB,CAAmC44G,GAAG/rH,IAAtC,CAAtC,CAAmF+rH,GAAGnwG,IAAtF,CAAP,CAAqG,CAAlJ,EACAwvG,uBAAuB5rH,OAAvB,CAA+B,SAAUysH,EAAV,CAAc,CAAE,MAAO3sH,OAAM4sH,iBAAN,CAAwB5sH,MAAMg4G,eAAN,CAAsB2U,GAAG94G,QAAzB,CAAmC84G,GAAGjsH,IAAtC,CAAxB,CAAqEisH,GAAG3hE,EAAxE,CAAP,CAAqF,CAApI,EACA,KAAKuhE,uCAAL,CAA6CxnH,GAA7C,CAAiD9J,QAAQma,kBAAR,CAA2ByC,SAA5E,CAAuF,CAAC3Q,eAAD,CAAkBI,eAAlB,CAAvF,EACA,KAAKilH,uCAAL,CAA6CxnH,GAA7C,CAAiD9J,QAAQma,kBAAR,CAA2B2C,IAA5E,CAAkF,CAACrQ,UAAD,CAAlF,EACA,KAAK6kH,uCAAL,CAA6CxnH,GAA7C,CAAiD9J,QAAQma,kBAAR,CAA2BwD,QAA5E,CAAsF,CAACxQ,cAAD,CAAtF,EACA,KAAKmkH,uCAAL,CAA6CxnH,GAA7C,CAAiD9J,QAAQma,kBAAR,CAA2BuoD,UAA5E,CAAwF,CAACr1D,gBAAD,CAAmBZ,UAAnB,CAA+BR,eAA/B,CAAgDI,eAAhD,CAAiEc,cAAjE,CAAxF,EACH,CACDwjH,gBAAgBzvH,SAAhB,CAA0Bs9D,kBAA1B,CAA+C,SAAU8E,UAAV,CAAsB,CACjE,GAAIg5C,cAAe,KAAKsV,qBAAL,CAA2BtuD,UAA3B,CAAnB,CACA,MAAO,MAAKm+C,cAAL,CAAoBtE,eAApB,CAAoCb,YAApC,CAAP,CACH,CAHD,CAIAqU,gBAAgBzvH,SAAhB,CAA0B6nD,wBAA1B,CAAqD,SAAUrvC,GAAV,CAAe0nG,cAAf,CAA+B,CAChF,GAAIzwG,KAAMrF,SAAV,CACA,GAAI,CAAC81G,cAAL,CAAqB,CACjBzwG,IAAM+I,IAAIosC,UAAJ,CAAiB,GAAjB,CAAuBpsC,IAAIjU,IAAjC,CACA,GAAIosH,qBAAsB,KAAKR,0BAAL,CAAgCxnH,GAAhC,CAAoC8G,GAApC,CAA1B,CACA,GAAIkhH,mBAAJ,CACI,MAAOA,oBAAP,CACP,CACD,GAAIC,WAAY,KAAKrQ,cAAL,CAAoBN,iBAApB,CAAsCznG,IAAIosC,UAA1C,CAAsDpsC,IAAIjU,IAA1D,CAAgE27G,cAAhE,CAAhB,CACA,GAAIoC,mBAAoB,KAAKoO,qBAAL,CAA2BE,SAA3B,CAAxB,CACA,GAAI,CAAC1Q,cAAL,CAAqB,CACjB,KAAKK,cAAL,CAAoB7D,2BAApB,CAAgDkU,UAAUl5G,QAA1D,CAAoEc,IAAIosC,UAAxE,EACA,KAAK27D,cAAL,CAAoBhE,cAApB,CAAmC+F,iBAAnC,CAAsDsO,SAAtD,EACH,CACD,GAAInhH,GAAJ,CAAS,CACL,KAAK0gH,0BAAL,CAAgCvnH,GAAhC,CAAoC6G,GAApC,CAAyC6yG,iBAAzC,EACH,CACD,MAAOA,kBAAP,CACH,CAlBD,CAmBAmN,gBAAgBzvH,SAAhB,CAA0B6wH,eAA1B,CAA4C,SAAUx3G,SAAV,CAAqB9U,IAArB,CAA2B27G,cAA3B,CAA2C,CACnF,MAAO,MAAKwQ,qBAAL,CAA2B,KAAKnQ,cAAL,CAAoBN,iBAApB,CAAsC5mG,SAAtC,CAAiD9U,IAAjD,CAAuD27G,cAAvD,CAA3B,CAAP,CACH,CAFD,CAGAuP,gBAAgBzvH,SAAhB,CAA0B8wH,kBAA1B,CAA+C,SAAUz3G,SAAV,CAAqB9U,IAArB,CAA2B27G,cAA3B,CAA2C,CACtF,GAAIr8G,OAAQ,IAAZ,CACA,MAAO,MAAK08G,cAAL,CAAoBxD,eAApB,CAAoC,UAAY,CAAE,MAAOl5G,OAAMgtH,eAAN,CAAsBx3G,SAAtB,CAAiC9U,IAAjC,CAAuC27G,cAAvC,CAAP,CAAgE,CAAlH,CAAP,CACH,CAHD,CAIAuP,gBAAgBzvH,SAAhB,CAA0B0wH,qBAA1B,CAAkD,SAAUn5D,MAAV,CAAkB,CAChE,GAAI4kD,gBAAiB,KAAKoE,cAAL,CAAoBpF,aAApB,CAAkC5jD,MAAlC,CAArB,CACA,GAAI4kD,cAAJ,CAAoB,CAChB,GAAI4U,kBAAmB5U,eAAetzF,QAAtC,CACA,GAAIkoG,kBAAoBA,iBAAiB5T,UAAjB,GAAgC,UAAxD,CAAoE,CAChE4T,iBAAmBA,iBAAiBx5D,MAApC,CACH,CACD,GAAIw5D,2BAA4Bt5G,aAAhC,CAA8C,CAC1C,MAAO,MAAKi5G,qBAAL,CAA2BvU,eAAetzF,QAA1C,CAAP,CACH,CACJ,CACD,MAAO0uC,OAAP,CACH,CAZD,CAaAk4D,gBAAgBzvH,SAAhB,CAA0BqhE,cAA1B,CAA2C,SAAU1vD,IAAV,CAAgB,CACvD,GAAIq/G,kBAAmB,KAAKrW,aAA5B,CACA,KAAKA,aAAL,CAAqB,SAAUn2C,QAAV,CAAoB3L,QAApB,CAA8B,CAAG,CAAtD,CACA,GAAI,CACA,MAAO,MAAKnwC,WAAL,CAAiB/W,IAAjB,CAAP,CACH,CAFD,OAGQ,CACJ,KAAKgpG,aAAL,CAAqBqW,gBAArB,CACH,CACJ,CATD,CAUAvB,gBAAgBzvH,SAAhB,CAA0B0oB,WAA1B,CAAwC,SAAU/W,IAAV,CAAgB,CACpD,GAAI9N,OAAQ,IAAZ,CACA,MAAO,MAAKotH,YAAL,CAAkBt/G,IAAlB,CAAwB,SAAUA,IAAV,CAAgB6rG,UAAhB,CAA4B,CAAE,MAAO35G,OAAMqtH,QAAN,CAAev/G,IAAf,CAAqB6rG,UAArB,CAAP,CAA0C,CAAhG,CAAkG,KAAKoS,eAAvG,CAAP,CACH,CAHD,CAIAH,gBAAgBzvH,SAAhB,CAA0Bo/D,kBAA1B,CAA+C,SAAUztD,IAAV,CAAgB,CAC3D,GAAI9N,OAAQ,IAAZ,CACA,MAAO,MAAKotH,YAAL,CAAkBt/G,IAAlB,CAAwB,SAAUA,IAAV,CAAgB6rG,UAAhB,CAA4B,CAAE,MAAO35G,OAAMqtH,QAAN,CAAev/G,IAAf,CAAqB6rG,UAArB,CAAiC,IAAjC,CAAP,CAAgD,CAAtG,CAAwG,KAAKqS,sBAA7G,CAAP,CACH,CAHD,CAIAJ,gBAAgBzvH,SAAhB,CAA0BixH,YAA1B,CAAyC,SAAUt/G,IAAV,CAAgBu/G,QAAhB,CAA0BtB,eAA1B,CAA2C,CAChF,GAAIlnG,aAAcknG,gBAAgBjnH,GAAhB,CAAoBgJ,IAApB,CAAlB,CACA,GAAI,CAAC+W,WAAL,CAAkB,CACdA,YAAc,EAAd,CACA,GAAIyoG,eAAgB,KAAKC,eAAL,CAAqBz/G,IAArB,CAApB,CACA,GAAI0/G,YAAa,KAAKC,cAAL,CAAoB3/G,IAApB,CAA0Bw/G,aAA1B,CAAjB,CACA,GAAIE,UAAJ,CAAgB,CACZ,GAAIE,mBAAoB,KAAK7oG,WAAL,CAAiB2oG,UAAjB,CAAxB,CACA3oG,YAAYlnB,IAAZ,CAAiBb,KAAjB,CAAuB+nB,WAAvB,CAAoChnB,SAAS6vH,iBAAT,CAApC,EACH,CACD,GAAIC,kBAAmB,EAAvB,CACA,GAAIL,cAAc,YAAd,CAAJ,CAAiC,CAC7BK,iBAAmBN,SAASv/G,IAAT,CAAew/G,cAAc,YAAd,CAAf,CAAnB,CACA,GAAIK,gBAAJ,CAAsB,CAClB9oG,YAAYlnB,IAAZ,CAAiBb,KAAjB,CAAuB+nB,WAAvB,CAAoChnB,SAAS8vH,gBAAT,CAApC,EACH,CACJ,CACD,GAAIH,YAAc,CAAC,KAAK3W,eAAL,CAAqBsE,aAArB,CAAmCrtG,KAAK+F,QAAxC,CAAf,EACA,KAAKgjG,eAAL,CAAqBsE,aAArB,CAAmCqS,WAAW35G,QAA9C,CADJ,CAC6D,CACzD,GAAI+kD,SAAU,KAAKi+C,eAAL,CAAqBh+C,cAArB,CAAoC20D,UAApC,CAAd,CACA,GAAI50D,SAAWA,QAAQ9qD,IAAvB,CAA6B,CACzB,GAAI8/G,yBAA0B,KAAKrB,uCAAL,CAA6CznH,GAA7C,CAAiD8zD,QAAQ9qD,IAAR,CAAa8J,WAA9D,CAA9B,CACA,GAAIi2G,2BAA4BD,wBAAwBxhH,IAAxB,CAA6B,SAAU0hH,YAAV,CAAwB,CAAE,MAAOH,kBAAiBvhH,IAAjB,CAAsB,SAAUqxD,GAAV,CAAe,CAAE,MAAOqwD,cAAaxkH,QAAb,CAAsBm0D,GAAtB,CAAP,CAAoC,CAA3E,CAAP,CAAsF,CAA7I,CAAhC,CACA,GAAI,CAACowD,yBAAL,CAAgC,CAC5B,KAAKtmB,WAAL,CAAiBwmB,oBAAoBC,cAAc,SAAWlgH,KAAKpN,IAAhB,CAAuB,MAAvB,CAAgCoN,KAAK+F,QAArC,CAAgD,kBAAhD,CAAqE5Y,QAAQma,kBAAR,CAA2BwjD,QAAQ9qD,IAAR,CAAa8J,WAAxC,CAArE,CAA4H,gEAA1I,CACrC,aAAcrR,SADuB,CACZ,gBAAkBqnH,wBAAwB1oH,GAAxB,CAA4B,SAAU4I,IAAV,CAAgB,CAAE,MAAOA,MAAKzE,cAAZ,CAA6B,CAA3E,EAA6E3G,IAA7E,CAAkF,MAAlF,CAAlB,CAA8G,yBADlG,CAApB,CACkJoL,IADlJ,CAAjB,CAC0KA,IAD1K,EAEH,CACJ,CACJ,CACDi+G,gBAAgBhnH,GAAhB,CAAoB+I,IAApB,CAA0B+W,YAAYf,MAAZ,CAAmB,SAAU25C,GAAV,CAAe,CAAE,MAAO,CAAC,CAACA,GAAT,CAAe,CAAnD,CAA1B,EACH,CACD,MAAO54C,YAAP,CACH,CAhCD,CAiCA+mG,gBAAgBzvH,SAAhB,CAA0BgpB,YAA1B,CAAyC,SAAUrX,IAAV,CAAgB,CACrD,GAAI9N,OAAQ,IAAZ,CACA,GAAImlB,cAAe,KAAK8mG,aAAL,CAAmBnnH,GAAnB,CAAuBgJ,IAAvB,CAAnB,CACA,GAAI,CAACqX,YAAL,CAAmB,CACf,GAAImoG,eAAgB,KAAKC,eAAL,CAAqBz/G,IAArB,CAApB,CACAqX,aAAe,EAAf,CACA,GAAIqoG,YAAa,KAAKC,cAAL,CAAoB3/G,IAApB,CAA0Bw/G,aAA1B,CAAjB,CACA,GAAIE,UAAJ,CAAgB,CACZ,GAAIS,sBAAuB,KAAK9oG,YAAL,CAAkBqoG,UAAlB,CAA3B,CACA9xH,OAAOiQ,IAAP,CAAYsiH,oBAAZ,EAAkC/tH,OAAlC,CAA0C,SAAUguH,UAAV,CAAsB,CAC5D/oG,aAAa+oG,UAAb,EAA2BD,qBAAqBC,UAArB,CAA3B,CACH,CAFD,EAGH,CACD,GAAIC,WAAYb,cAAc,SAAd,GAA4B,EAA5C,CACA5xH,OAAOiQ,IAAP,CAAYwiH,SAAZ,EAAuBjuH,OAAvB,CAA+B,SAAUqlB,QAAV,CAAoB,CAC/C,GAAI6oG,UAAWD,UAAU5oG,QAAV,CAAf,CACA,GAAIjW,MAAO8+G,SACN75E,IADM,CACD,SAAU/uB,CAAV,CAAa,CAAE,MAAOA,GAAE,YAAF,GAAmB,UAAnB,EAAiCA,EAAE,YAAF,GAAmB,QAA3D,CAAsE,CADpF,CAAX,CAEA,GAAIm0F,YAAa,EAAjB,CACA,GAAIx0F,aAAaI,QAAb,CAAJ,CAA4B,CACxBo0F,WAAWh8G,IAAX,CAAgBb,KAAhB,CAAsB68G,UAAtB,CAAkC97G,SAASsnB,aAAaI,QAAb,CAAT,CAAlC,EACH,CACDJ,aAAaI,QAAb,EAAyBo0F,UAAzB,CACA,GAAIrqG,MAAQA,KAAK,YAAL,CAAZ,CAAgC,CAC5BqqG,WAAWh8G,IAAX,CAAgBb,KAAhB,CAAsB68G,UAAtB,CAAkC97G,SAASmC,MAAMqtH,QAAN,CAAev/G,IAAf,CAAqBwB,KAAK,YAAL,CAArB,CAAT,CAAlC,EACH,CACJ,CAZD,EAaA,KAAK28G,aAAL,CAAmBlnH,GAAnB,CAAuB+I,IAAvB,CAA6BqX,YAA7B,EACH,CACD,MAAOA,aAAP,CACH,CA9BD,CA+BAymG,gBAAgBzvH,SAAhB,CAA0By3D,UAA1B,CAAuC,SAAU9lD,IAAV,CAAgB,CACnD,GAAI9N,OAAQ,IAAZ,CACA,GAAI,EAAE8N,eAAgB8F,aAAlB,CAAJ,CAAqC,CACjC,KAAK2zF,WAAL,CAAiB,GAAInpG,MAAJ,CAAU,uBAAyB4V,KAAKvG,SAAL,CAAeK,IAAf,CAAzB,CAAgD,8BAA1D,CAAjB,CAA4GA,IAA5G,EACA,MAAO,EAAP,CACH,CACD,GAAI,CACA,GAAIugH,cAAe,KAAKnC,cAAL,CAAoBpnH,GAApB,CAAwBgJ,IAAxB,CAAnB,CACA,GAAI,CAACugH,YAAL,CAAmB,CACf,GAAIf,eAAgB,KAAKC,eAAL,CAAqBz/G,IAArB,CAApB,CACA,GAAI0/G,YAAa,KAAKC,cAAL,CAAoB3/G,IAApB,CAA0Bw/G,aAA1B,CAAjB,CACA,GAAIx5G,SAAUw5G,cAAgBA,cAAc,SAAd,CAAhB,CAA2C,IAAzD,CACA,GAAIgB,UAAWx6G,QAAUA,QAAQ,UAAR,CAAV,CAAgC,IAA/C,CACA,GAAIw6G,QAAJ,CAAc,CACV,GAAIhyG,MAAOgyG,SAAS/5E,IAAT,CAAc,SAAU/uB,CAAV,CAAa,CAAE,MAAOA,GAAE,YAAF,GAAmB,aAA1B,CAA0C,CAAvE,CAAX,CACA,GAAI+oG,mBAAoBjyG,KAAK,YAAL,GAAsB,EAA9C,CACA,GAAIkyG,uBAAwB,KAAKnB,QAAL,CAAcv/G,IAAd,CAAoBwO,KAAK,qBAAL,GAA+B,EAAnD,CAA5B,CACA+xG,aAAe,EAAf,CACAE,kBAAkBruH,OAAlB,CAA0B,SAAUuuH,YAAV,CAAwBthH,KAAxB,CAA+B,CACrD,GAAIuhH,cAAe,EAAnB,CACA,GAAIC,WAAY3uH,MAAM4uH,WAAN,CAAkB9gH,IAAlB,CAAwB2gH,YAAxB,CAAhB,CACA,GAAIE,SAAJ,CACID,aAAa/wH,IAAb,CAAkBgxH,SAAlB,EACJ,GAAIhV,YAAa6U,sBAAwBA,sBAAsBrhH,KAAtB,CAAxB,CAAuD,IAAxE,CACA,GAAIwsG,UAAJ,CAAgB,CACZ+U,aAAa/wH,IAAb,CAAkBb,KAAlB,CAAwB4xH,YAAxB,CAAsC7wH,SAAS87G,UAAT,CAAtC,EACH,CACD0U,aAAa1wH,IAAb,CAAkB+wH,YAAlB,EACH,CAVD,EAWH,CAhBD,IAiBK,IAAIlB,UAAJ,CAAgB,CACjBa,aAAe,KAAKz6D,UAAL,CAAgB45D,UAAhB,CAAf,CACH,CACD,GAAI,CAACa,YAAL,CAAmB,CACfA,aAAe,EAAf,CACH,CACD,KAAKnC,cAAL,CAAoBnnH,GAApB,CAAwB+I,IAAxB,CAA8BugH,YAA9B,EACH,CACD,MAAOA,aAAP,CACH,CACD,MAAO3wH,CAAP,CAAU,CACNs0C,QAAQp0C,KAAR,CAAc,kBAAoBoW,KAAKvG,SAAL,CAAeK,IAAf,CAApB,CAA2C,cAA3C,CAA4DpQ,CAA1E,EACA,KAAMA,EAAN,CACH,CACJ,CA5CD,CA6CAkuH,gBAAgBzvH,SAAhB,CAA0B0yH,YAA1B,CAAyC,SAAU/gH,IAAV,CAAgB,CACrD,GAAIghH,aAAc,KAAK3C,WAAL,CAAiBrnH,GAAjB,CAAqBgJ,IAArB,CAAlB,CACA,GAAI,CAACghH,WAAL,CAAkB,CACd,GAAIxB,eAAgB,KAAKC,eAAL,CAAqBz/G,IAArB,CAApB,CACAghH,YAAc,EAAd,CACA,GAAItB,YAAa,KAAKC,cAAL,CAAoB3/G,IAApB,CAA0Bw/G,aAA1B,CAAjB,CACA,GAAIE,UAAJ,CAAgB,CACZ,GAAIuB,qBAAsB,KAAKF,YAAL,CAAkBrB,UAAlB,CAA1B,CACA9xH,OAAOiQ,IAAP,CAAYojH,mBAAZ,EAAiC7uH,OAAjC,CAAyC,SAAUguH,UAAV,CAAsB,CAC3DY,YAAYZ,UAAZ,EAA0Ba,oBAAoBb,UAApB,CAA1B,CACH,CAFD,EAGH,CACD,GAAIc,WAAY1B,cAAc,SAAd,GAA4B,EAA5C,CACA5xH,OAAOiQ,IAAP,CAAYqjH,SAAZ,EAAuB9uH,OAAvB,CAA+B,SAAUqlB,QAAV,CAAoB,CAC/C,GAAI6oG,UAAWY,UAAUzpG,QAAV,CAAf,CACA,GAAI0pG,UAAWb,SAAShiH,IAAT,CAAc,SAAUoZ,CAAV,CAAa,CAAE,MAAOA,GAAE,YAAF,GAAmB,QAA1B,CAAqC,CAAlE,CAAf,CACAspG,YAAYvpG,QAAZ,EAAwBupG,YAAYvpG,QAAZ,GAAyB0pG,QAAjD,CACH,CAJD,EAKA,KAAK9C,WAAL,CAAiBpnH,GAAjB,CAAqB+I,IAArB,CAA2BghH,WAA3B,EACH,CACD,MAAOA,YAAP,CACH,CArBD,CAsBAlD,gBAAgBzvH,SAAhB,CAA0B+yH,cAA1B,CAA2C,SAAUphH,IAAV,CAAgB,CACvD,GAAIqhH,eAAgB,KAAK/C,WAAL,CAAiBtnH,GAAjB,CAAqBgJ,IAArB,CAApB,CACA,GAAI,CAACqhH,aAAL,CAAoB,CAChB,GAAI7B,eAAgB,KAAKC,eAAL,CAAqBz/G,IAArB,CAApB,CACA,GAAIshH,kBAAmB9B,cAAc,SAAd,GAA4B,EAAnD,CACA6B,cAAgBzzH,OAAOiQ,IAAP,CAAYyjH,gBAAZ,CAAhB,CACA,KAAKhD,WAAL,CAAiBrnH,GAAjB,CAAqB+I,IAArB,CAA2BqhH,aAA3B,EACH,CACD,MAAOA,cAAP,CACH,CATD,CAUAvD,gBAAgBzvH,SAAhB,CAA0BsxH,cAA1B,CAA2C,SAAU3/G,IAAV,CAAgBw/G,aAAhB,CAA+B,CACtE,GAAIE,YAAa,KAAKoB,WAAL,CAAiB9gH,IAAjB,CAAuBw/G,cAAc,SAAd,CAAvB,CAAjB,CACA,GAAIE,qBAAsB55G,aAA1B,CAAwC,CACpC,MAAO45G,WAAP,CACH,CACJ,CALD,CAMA5B,gBAAgBzvH,SAAhB,CAA0Bi6D,gBAA1B,CAA6C,SAAUtoD,IAAV,CAAgBuhH,UAAhB,CAA4B,CACrE,GAAI,EAAEvhH,eAAgB8F,aAAlB,CAAJ,CAAqC,CACjC,KAAK2zF,WAAL,CAAiB,GAAInpG,MAAJ,CAAU,6BAA+B4V,KAAKvG,SAAL,CAAeK,IAAf,CAA/B,CAAsD,8BAAhE,CAAjB,CAAkHA,IAAlH,EACH,CACD,GAAI,CACA,MAAO,CAAC,CAAC,KAAK+gH,YAAL,CAAkB/gH,IAAlB,EAAwBuhH,UAAxB,CAAT,CACH,CACD,MAAO3xH,CAAP,CAAU,CACNs0C,QAAQp0C,KAAR,CAAc,kBAAoBoW,KAAKvG,SAAL,CAAeK,IAAf,CAApB,CAA2C,cAA3C,CAA4DpQ,CAA1E,EACA,KAAMA,EAAN,CACH,CACJ,CAXD,CAYAkuH,gBAAgBzvH,SAAhB,CAA0B6a,MAA1B,CAAmC,SAAUlJ,IAAV,CAAgB,CAC/C,GAAIwkD,IAAJ,CAASpzD,EAAT,CACA,GAAI,EAAE4O,eAAgB8F,aAAlB,CAAJ,CAAqC,CACjC,KAAK2zF,WAAL,CAAiB,GAAInpG,MAAJ,CAAU,mBAAqB4V,KAAKvG,SAAL,CAAeK,IAAf,CAArB,CAA4C,8BAAtD,CAAjB,CAAwGA,IAAxG,EACA,MAAO,EAAP,CACH,CACD,GAAIqhH,eAAgB,KAAKD,cAAL,CAAoBphH,IAApB,CAApB,CACA,GAAIhL,QAAS,EAAb,CACA,GAAI,CACA,IAAK,GAAIwsH,iBAAkBvyH,SAASoyH,aAAT,CAAtB,CAA+CI,kBAAoBD,gBAAgBlyH,IAAhB,EAAxE,CAAgG,CAACmyH,kBAAkBjyH,IAAnH,CAAyHiyH,kBAAoBD,gBAAgBlyH,IAAhB,EAA7I,CAAqK,CACjK,GAAI6F,QAASssH,kBAAkBlyH,KAA/B,CACA,GAAI4F,OAAO2xD,QAAP,CAAgB62D,iBAAhB,CAAJ,CAAwC,CACpC,GAAIn5C,UAAWrvE,OAAOk3B,MAAP,CAAc,CAAd,CAAiBl3B,OAAOrG,MAAP,CAAgB6uH,kBAAkB7uH,MAAnD,CAAf,CACA,GAAIS,OAAQ,IAAK,EAAjB,CACA,GAAIi1E,SAAS1d,QAAT,CAAkB82D,MAAlB,CAAJ,CAA+B,CAC3Bp5C,SAAWrvE,OAAOk3B,MAAP,CAAc,CAAd,CAAiBm4C,SAAS11E,MAAT,CAAkB8uH,OAAO9uH,MAA1C,CAAX,CACAS,MAAQquH,MAAR,CACH,CAHD,IAIK,CACDruH,MAAQ,KAAK26G,eAAL,CAAqBlqG,KAAK+F,QAA1B,CAAoC/F,KAAKpN,IAAzC,CAA+C,CAACuC,MAAD,CAA/C,CAAR,CACH,CACDH,OAAOwvE,QAAP,EAAmBj1E,KAAnB,CACH,CACJ,CACJ,CACD,MAAOo1D,KAAP,CAAc,CAAEH,IAAM,CAAE10D,MAAO60D,KAAT,CAAN,CAAyB,CAjBzC,OAkBQ,CACJ,GAAI,CACA,GAAI88D,mBAAqB,CAACA,kBAAkBjyH,IAAxC,GAAiD4B,GAAKowH,gBAAgB58D,MAAtE,CAAJ,CAAmFxzD,GAAGrC,IAAH,CAAQyyH,eAAR,EACtF,CAFD,OAGQ,CAAE,GAAIh9D,GAAJ,CAAS,KAAMA,KAAI10D,KAAV,CAAkB,CACxC,CACD,MAAOkF,OAAP,CACH,CAjCD,CAkCA8oH,gBAAgBzvH,SAAhB,CAA0BuwH,+BAA1B,CAA4D,SAAU5+G,IAAV,CAAgBwO,IAAhB,CAAsB,CAC9E,KAAK+vG,aAAL,CAAmBtnH,GAAnB,CAAuB+I,IAAvB,CAA6B,SAAU/C,OAAV,CAAmB5C,IAAnB,CAAyB,CAAE,MAAO,KAAKmU,KAAK6gF,IAAL,CAAUrgG,KAAV,CAAgBwf,IAAhB,CAAsBze,SAAS,CAAC,IAAK,EAAN,CAAT,CAAmBsK,IAAnB,CAAtB,CAAL,GAAP,CAAiE,CAAzH,EACH,CAFD,CAGAyjH,gBAAgBzvH,SAAhB,CAA0BywH,iBAA1B,CAA8C,SAAU9+G,IAAV,CAAgBk9C,EAAhB,CAAoB,CAC9D,KAAKqhE,aAAL,CAAmBtnH,GAAnB,CAAuB+I,IAAvB,CAA6B,SAAU/C,OAAV,CAAmB5C,IAAnB,CAAyB,CAAE,MAAO6iD,IAAGluD,KAAH,CAASyJ,SAAT,CAAoB4B,IAApB,CAAP,CAAmC,CAA3F,EACH,CAFD,CAGAyjH,gBAAgBzvH,SAAhB,CAA0BqwH,uBAA1B,CAAoD,UAAY,CAC5D,KAAKE,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,YAAnC,CAArC,CAAuF5iH,gBAAvF,EACA,KAAKknH,cAAL,CAAsB,KAAKxC,eAAL,CAAqB9B,YAArB,CAAmC,gBAAnC,CAAtB,CACA,KAAKuE,WAAL,CAAmB,KAAKzC,eAAL,CAAqB9B,YAArB,CAAmC,aAAnC,CAAnB,CACA,KAAKvV,MAAL,CAAc,KAAKsX,kBAAL,CAAwB9B,cAAxB,CAAwC,QAAxC,CAAd,CACA,KAAKrqE,4BAAL,CACI,KAAKksE,eAAL,CAAqB9B,YAArB,CAAmC,8BAAnC,CADJ,CAEA,KAAKwB,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,MAAnC,CAArC,CAAiFriH,UAAjF,EACA,KAAK6jH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,MAAnC,CAArC,CAAiFviH,UAAjF,EACA,KAAK+jH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,UAAnC,CAArC,CAAqFtiH,cAArF,EACA,KAAK8jH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,QAAnC,CAArC,CAAmFllH,YAAnF,EACA,KAAK0mH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,UAAnC,CAArC,CAAqFxiH,cAArF,EACA,KAAKgkH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,WAAnC,CAArC,CAAsF1kH,eAAtF,EACA,KAAKkmH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,cAAnC,CAArC,CAAyFnkH,kBAAzF,EACA,KAAK2lH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,iBAAnC,CAArC,CAA4FxkH,qBAA5F,EACA,KAAKgmH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,WAAnC,CAArC,CAAsFjkH,eAAtF,EACA,KAAKylH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,cAAnC,CAArC,CAAyFlkH,kBAAzF,EACA,KAAK0lH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,OAAnC,CAArC,CAAkFtjH,WAAlF,EACA,KAAK8kH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,QAAnC,CAArC,CAAmFpjH,YAAnF,EACA,KAAK4kH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,MAAnC,CAArC,CAAiFxjH,UAAjF,EACA,KAAKglH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,aAAnC,CAArC,CAAwFnjH,iBAAxF,EACA,KAAK2kH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,cAAnC,CAArC,CAAyFjjH,kBAAzF,EACA,KAAKykH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,WAAnC,CAArC,CAAsFhkH,eAAtF,EACA,KAAKwlH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,WAAnC,CAArC,CAAsF5jH,eAAtF,EACA,KAAKolH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,UAAnC,CAArC,CAAqF9iH,cAArF,EACA;AACA,KAAKskH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,MAAnC,CAArC,CAAiFriH,UAAjF,EACA,KAAK6jH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,MAAnC,CAArC,CAAiFviH,UAAjF,EACA,KAAK+jH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,UAAnC,CAArC,CAAqFtiH,cAArF,EACA,KAAK8jH,+BAAL,CAAqC,KAAKM,eAAL,CAAqB9B,YAArB,CAAmC,UAAnC,CAArC,CAAqFxiH,cAArF,EACH,CA9BD,CA+BA;;;;;;WAOAkjH,gBAAgBzvH,SAAhB,CAA0B67G,eAA1B,CAA4C,SAAU7jG,eAAV,CAA2BzT,IAA3B,CAAiCoT,OAAjC,CAA0C,CAClF,MAAO,MAAK4oG,cAAL,CAAoB1E,eAApB,CAAoC7jG,eAApC,CAAqDzT,IAArD,CAA2DoT,OAA3D,CAAP,CACH,CAFD,CAGA;;WAGA83G,gBAAgBzvH,SAAhB,CAA0ByyH,WAA1B,CAAwC,SAAU7jH,OAAV,CAAmB1N,KAAnB,CAA0B,CAC9D,GAAI8vH,kBAAmB,KAAKrW,aAA5B,CACA,KAAKA,aAAL,CAAqB,SAAUn2C,QAAV,CAAoB3L,QAApB,CAA8B,CAAG,CAAtD,CACA,GAAIlyD,QAAS,KAAKuqH,QAAL,CAActiH,OAAd,CAAuB1N,KAAvB,CAAb,CACA,KAAKy5G,aAAL,CAAqBqW,gBAArB,CACA,MAAOrqH,OAAP,CACH,CAND,CAOA,gBACA8oH,gBAAgBzvH,SAAhB,CAA0BkxH,QAA1B,CAAqC,SAAUtiH,OAAV,CAAmB1N,KAAnB,CAA0BqyH,IAA1B,CAAgC,CACjE,GAAIA,OAAS,IAAK,EAAlB,CAAqB,CAAEA,KAAO,KAAP,CAAe,CACtC,GAAI34B,MAAO,IAAX,CACA,GAAI44B,OAAQC,eAAeC,KAA3B,CACA,GAAIC,SAAU,GAAIzsH,IAAJ,EAAd,CACA,QAAS0sH,kBAAT,CAA2BhlH,OAA3B,CAAoC1N,KAApC,CAA2C2yH,KAA3C,CAAkDr/G,UAAlD,CAA8D,CAC1D,QAASs/G,sBAAT,CAA+B1Y,YAA/B,CAA6C,CACzC,GAAIe,gBAAiBvhB,KAAK2lB,cAAL,CAAoBpF,aAApB,CAAkCC,YAAlC,CAArB,CACA,MAAOe,gBAAiBA,eAAetzF,QAAhC,CAA2C,IAAlD,CACH,CACD,QAASkrG,gBAAT,CAAyB7yH,KAAzB,CAAgC,CAC5B,MAAO0yH,mBAAkBhlH,OAAlB,CAA2B1N,KAA3B,CAAkC2yH,KAAlC,CAAyC,CAAzC,CAAP,CACH,CACD,QAASG,eAAT,CAAwB9yH,KAAxB,CAA+B,CAC3B,MAAO0yH,mBAAkBhlH,OAAlB,CAA2B1N,KAA3B,CAAkC2yH,KAAlC,CAAyCr/G,WAAa,CAAtD,CAAP,CACH,CACD,QAASy/G,eAAT,CAAwBC,aAAxB,CAAuChzH,KAAvC,CAA8C,CAC1C,GAAIgzH,gBAAkBtlH,OAAtB,CAA+B,CAC3B;AACA,MAAOglH,mBAAkBM,aAAlB,CAAiChzH,KAAjC,CAAwC2yH,MAAQ,CAAhD,CAAmDr/G,UAAnD,CAAP,CACH,CACD,GAAI,CACA,MAAOo/G,mBAAkBM,aAAlB,CAAiChzH,KAAjC,CAAwC2yH,MAAQ,CAAhD,CAAmDr/G,UAAnD,CAAP,CACH,CACD,MAAOjT,CAAP,CAAU,CACN,GAAI4yH,gBAAgB5yH,CAAhB,CAAJ,CAAwB,CACpB;AACA;AACA;AACA,GAAI6yH,YAAa7yH,EAAEotH,KAAF,CAAU,gBAAkBptH,EAAEg2D,MAAF,CAAShzD,IAA3B,CAAkC,IAA5C,CAAmD8vH,aAAa9yH,CAAb,CAApE,CACA,GAAIk7D,SAAU,IAAMy3D,cAAc3vH,IAApB,CAA2B,IAA3B,CAAkC6vH,UAAhD,CACA,GAAIzF,OAAQ,CAAE19F,QAASwrC,OAAX,CAAoB78C,SAAUre,EAAEqe,QAAhC,CAA0C3e,KAAMM,EAAEotH,KAAlD,CAAZ,CACA;AACA;AACA/zB,KAAKn5F,KAAL,CAAW,CACPwvB,QAAS1vB,EAAE0vB,OADJ,CAEPqjG,OAAQ/yH,EAAE+yH,MAFH,CAGP1lH,QAASrN,EAAEqN,OAHJ,CAGa+/G,MAAOA,KAHpB,CAIPp3D,OAAQ28D,aAJD,CAAX,CAKGtlH,OALH,EAMH,CAfD,IAgBK,CACD;AACA,KAAMrN,EAAN,CACH,CACJ,CACJ,CACD,QAASgzH,aAAT,CAAsBC,cAAtB,CAAsCC,cAAtC,CAAsDzoH,IAAtD,CAA4D0oH,gBAA5D,CAA8E,CAC1E,GAAID,gBAAkBA,eAAe,YAAf,GAAgC,UAAtD,CAAkE,CAC9D,GAAId,QAAQhrH,GAAR,CAAY6rH,cAAZ,CAAJ,CAAiC,CAC7B55B,KAAKn5F,KAAL,CAAW,CACPwvB,QAAS,4BADF,CAEPwrC,QAAS,WAAa+3D,eAAejwH,IAA5B,CAAmC,eAFrC,CAGPrD,MAAOuzH,cAHA,CAAX,CAIGD,cAJH,EAKH,CACD,GAAI,CACA,GAAIG,SAAUF,eAAe,OAAf,CAAd,CACA,GAAIE,UAAYd,OAAS,CAAT,EAAcc,QAAQxX,UAAR,EAAsB,OAAhD,CAAJ,CAA8D,CAC1D,GAAI1lD,YAAag9D,eAAe,YAAf,CAAjB,CACA,GAAIG,UAAWH,eAAeG,QAA9B,CACA5oH,KAAOA,KAAKjD,GAAL,CAAS,SAAU2oF,GAAV,CAAe,CAAE,MAAOuiC,gBAAerlH,OAAf,CAAwB8iF,GAAxB,CAAP,CAAsC,CAAhE,EACF3oF,GADE,CACE,SAAU2oF,GAAV,CAAe,CAAE,MAAO89B,cAAa99B,GAAb,EAAoBtnF,SAApB,CAAgCsnF,GAAvC,CAA6C,CADhE,CAAP,CAEA,GAAIkjC,UAAYA,SAASn0H,MAAT,CAAkBuL,KAAKvL,MAAvC,CAA+C,CAC3CuL,KAAKxK,IAAL,CAAUb,KAAV,CAAgBqL,IAAhB,CAAsBtK,SAASkzH,SAAS1yH,KAAT,CAAe8J,KAAKvL,MAApB,EAA4BsI,GAA5B,CAAgC,SAAU7H,KAAV,CAAiB,CAAE,MAAOgwH,UAAShwH,KAAT,CAAP,CAAyB,CAA5E,CAAT,CAAtB,EACH,CACDyyH,QAAQ/qH,GAAR,CAAY4rH,cAAZ,CAA4B,IAA5B,EACA,GAAIK,eAAgBpB,eAAe3rF,KAAf,EAApB,CACA,IAAK,GAAIxnC,GAAI,CAAb,CAAgBA,EAAIm3D,WAAWh3D,MAA/B,CAAuCH,GAAvC,CAA4C,CACxCu0H,cAAc71H,MAAd,CAAqBy4D,WAAWn3D,CAAX,CAArB,CAAoC0L,KAAK1L,CAAL,CAApC,EACH,CACD,GAAIw0H,UAAWtB,KAAf,CACA,GAAIuB,SAAJ,CACA,GAAI,CACAvB,MAAQqB,cAAc1zH,IAAd,EAAR,CACA4zH,SAAWd,eAAeO,cAAf,CAA+BG,OAA/B,CAAX,CACH,CAHD,OAIQ,CACJnB,MAAQsB,QAAR,CACH,CACD,MAAOC,SAAP,CACH,CACJ,CA1BD,OA2BQ,CACJpB,QAAQ7tG,MAAR,CAAe0uG,cAAf,EACH,CACJ,CACD,GAAIX,QAAU,CAAd,CAAiB,CACb;AACA;AACA;AACA,MAAO3E,OAAP,CACH,CACD,GAAItvG,UAAWxV,SAAf,CACA,GAAIsqH,kBAAoBA,iBAAiBvX,UAAjB,EAA+B,UAAvD,CAAmE,CAC/D,GAAI3/E,MAAOk3F,iBAAiBl3F,IAA5B,CACA,GAAIjvB,WAAYmmH,iBAAiBnmH,SAAjC,CACA,GAAIsqD,UAAW67D,iBAAiB77D,QAAhC,CACA,GAAIA,UAAY,IAAZ,EAAoBr7B,MAAQ,IAA5B,EAAoCjvB,WAAa,IAArD,CAA2D,CACvDqR,SAAW,CAAEi5C,SAAUA,QAAZ,CAAsBr7B,KAAMA,IAA5B,CAAkC0zC,OAAQ3iE,SAA1C,CAAX,CACH,CACJ,CACDqsF,KAAKn5F,KAAL,CAAW,CACPwvB,QAAS+jG,2BADF,CAEPpmH,QAAS4lH,cAFF,CAGPtzH,MAAOuzH,cAHA,CAGgB70G,SAAUA,QAH1B,CAAX,CAIGhR,OAJH,EAKH,CACD,QAASsiH,SAAT,CAAkBtwG,UAAlB,CAA8B,CAC1B,GAAIgyE,IAAJ,CAAS7vF,EAAT,CAAamwF,GAAb,CAAkBlwF,EAAlB,CACA,GAAIiyH,YAAYr0G,UAAZ,CAAJ,CAA6B,CACzB,MAAOA,WAAP,CACH,CACD,GAAIA,qBAAsBlhB,MAA1B,CAAiC,CAC7B,GAAIw1H,UAAW,EAAf,CACA,GAAI,CACA,IAAK,GAAI9xH,IAAKxC,SAASggB,UAAT,CAAT,CAA+Brd,GAAKH,GAAGnC,IAAH,EAAzC,CAAoD,CAACsC,GAAGpC,IAAxD,CAA8DoC,GAAKH,GAAGnC,IAAH,EAAnE,CAA8E,CAC1E,GAAI0d,MAAOpb,GAAGrC,KAAd,CACA;AACA,GAAIyd,MAAQA,KAAKw+F,UAAL,GAAoB,QAAhC,CAA0C,CACtC;AACA;AACA,GAAIgY,aAAcpB,gBAAgBp1G,KAAKiC,UAArB,CAAlB,CACA,GAAIlhB,MAAMmP,OAAN,CAAcsmH,WAAd,CAAJ,CAAgC,CAC5B,GAAI,CACA,IAAK,GAAIC,eAAgBx0H,SAASu0H,WAAT,CAApB,CAA2CE,gBAAkBD,cAAcn0H,IAAd,EAAlE,CAAwF,CAACo0H,gBAAgBl0H,IAAzG,CAA+Gk0H,gBAAkBD,cAAcn0H,IAAd,EAAjI,CAAuJ,CACnJ,GAAIq0H,YAAaD,gBAAgBn0H,KAAjC,CACAg0H,SAAS1zH,IAAT,CAAc8zH,UAAd,EACH,CACJ,CACD,MAAO5hC,KAAP,CAAc,CAAER,IAAM,CAAEzxF,MAAOiyF,KAAT,CAAN,CAAyB,CANzC,OAOQ,CACJ,GAAI,CACA,GAAI2hC,iBAAmB,CAACA,gBAAgBl0H,IAApC,GAA6C6B,GAAKoyH,cAAc7+D,MAAhE,CAAJ,CAA6EvzD,GAAGtC,IAAH,CAAQ00H,aAAR,EAChF,CAFD,OAGQ,CAAE,GAAIliC,GAAJ,CAAS,KAAMA,KAAIzxF,KAAV,CAAkB,CACxC,CACD,SACH,CACJ,CACD,GAAI8zH,SAAUrE,SAASvyG,IAAT,CAAd,CACA,GAAI6wG,aAAa+F,OAAb,CAAJ,CAA2B,CACvB,SACH,CACDL,SAAS1zH,IAAT,CAAc+zH,OAAd,EACH,CACJ,CACD,MAAOxiC,KAAP,CAAc,CAAEH,IAAM,CAAEnxF,MAAOsxF,KAAT,CAAN,CAAyB,CAhCzC,OAiCQ,CACJ,GAAI,CACA,GAAIxvF,IAAM,CAACA,GAAGpC,IAAV,GAAmB4B,GAAKK,GAAGmzD,MAA3B,CAAJ,CAAwCxzD,GAAGrC,IAAH,CAAQ0C,EAAR,EAC3C,CAFD,OAGQ,CAAE,GAAIwvF,GAAJ,CAAS,KAAMA,KAAInxF,KAAV,CAAkB,CACxC,CACD,MAAOyzH,SAAP,CACH,CACD,GAAIt0G,qBAAsBnJ,aAA1B,CAAwC,CACpC;AACA;AACA,GAAImJ,aAAeg6E,KAAKy4B,cAApB,EAAsCz4B,KAAKs1B,aAAL,CAAmB3yG,GAAnB,CAAuBqD,UAAvB,CAAtC,EACCpM,WAAa,CAAb,EAAkB,CAACoM,WAAWjJ,OAAX,CAAmBlX,MAD3C,CACoD,CAChD,MAAOmgB,WAAP,CACH,CAHD,IAIK,CACD,GAAIw6F,cAAex6F,UAAnB,CACA,GAAI40G,kBAAmB1B,sBAAsB1Y,YAAtB,CAAvB,CACA,GAAIoa,kBAAoB,IAAxB,CAA8B,CAC1B,MAAOvB,gBAAe7Y,YAAf,CAA6Boa,gBAA7B,CAAP,CACH,CAFD,IAGK,CACD,MAAOpa,aAAP,CACH,CACJ,CACJ,CACD,GAAIx6F,UAAJ,CAAgB,CACZ,GAAIA,WAAW,YAAX,CAAJ,CAA8B,CAC1B,GAAIw6F,cAAe,IAAK,EAAxB,CACA,OAAQx6F,WAAW,YAAX,CAAR,EACI,IAAK,OAAL,CACI,GAAIiV,MAAOq7F,SAAStwG,WAAW,MAAX,CAAT,CAAX,CACA,GAAI4uG,aAAa35F,IAAb,CAAJ,CACI,MAAOA,KAAP,CACJ,GAAIC,OAAQo7F,SAAStwG,WAAW,OAAX,CAAT,CAAZ,CACA,GAAI4uG,aAAa15F,KAAb,CAAJ,CACI,MAAOA,MAAP,CACJ,OAAQlV,WAAW,UAAX,CAAR,EACI,IAAK,IAAL,CACI,MAAOiV,OAAQC,KAAf,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,KAAL,CACI,MAAOD,QAASC,KAAhB,CACJ,IAAK,KAAL,CACI,MAAOD,QAASC,KAAhB,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,IAAL,CACI,MAAOD,OAAQC,KAAf,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CACJ,IAAK,GAAL,CACI,MAAOD,MAAOC,KAAd,CAxCR,CA0CA,MAAO,KAAP,CACJ,IAAK,IAAL,CACI,GAAIlL,WAAYsmG,SAAStwG,WAAW,WAAX,CAAT,CAAhB,CACA,MAAOgK,WAAYsmG,SAAStwG,WAAW,gBAAX,CAAT,CAAZ,CACHswG,SAAStwG,WAAW,gBAAX,CAAT,CADJ,CAEJ,IAAK,KAAL,CACI,GAAI60G,SAAUvE,SAAStwG,WAAW,SAAX,CAAT,CAAd,CACA,GAAI4uG,aAAaiG,OAAb,CAAJ,CACI,MAAOA,QAAP,CACJ,OAAQ70G,WAAW,UAAX,CAAR,EACI,IAAK,GAAL,CACI,MAAO60G,QAAP,CACJ,IAAK,GAAL,CACI,MAAO,CAACA,OAAR,CACJ,IAAK,GAAL,CACI,MAAO,CAACA,OAAR,CACJ,IAAK,GAAL,CACI,MAAO,CAACA,OAAR,CARR,CAUA,MAAO,KAAP,CACJ,IAAK,OAAL,CACI,GAAIC,aAAc3B,gBAAgBnzG,WAAW,YAAX,CAAhB,CAAlB,CACA,GAAI5P,OAAQ+iH,gBAAgBnzG,WAAW,OAAX,CAAhB,CAAZ,CACA,GAAI80G,aAAeT,YAAYjkH,KAAZ,CAAnB,CACI,MAAO0kH,aAAY1kH,KAAZ,CAAP,CACJ,MAAO,KAAP,CACJ,IAAK,QAAL,CACI,GAAI2kH,QAAS/0G,WAAW,QAAX,CAAb,CACA,GAAIg1G,eAAgBhnH,OAApB,CACA,GAAIinH,cAAe3E,SAAStwG,WAAW,YAAX,CAAT,CAAnB,CACA,GAAIi1G,uBAAwBp+G,aAA5B,CAA0C,CACtC,GAAIE,SAAUk+G,aAAal+G,OAAb,CAAqBhW,MAArB,CAA4Bg0H,MAA5B,CAAd,CACAC,cACIh7B,KAAKihB,eAAL,CAAqBga,aAAan+G,QAAlC,CAA4Cm+G,aAAatxH,IAAzD,CAA+DoT,OAA/D,CADJ,CAEA,GAAI69G,kBAAmB1B,sBAAsB8B,aAAtB,CAAvB,CACA,GAAIJ,kBAAoB,IAAxB,CAA8B,CAC1B,MAAOvB,gBAAe2B,aAAf,CAA8BJ,gBAA9B,CAAP,CACH,CAFD,IAGK,CACD,MAAOI,cAAP,CACH,CACJ,CACD,GAAIC,cAAgBZ,YAAYU,MAAZ,CAApB,CACI,MAAO1B,gBAAe2B,aAAf,CAA8BC,aAAaF,MAAb,CAA9B,CAAP,CACJ,MAAO,KAAP,CACJ,IAAK,WAAL,CACI;AACA;AACA;AACA,GAAIntH,QAASoY,WAAW,MAAX,CAAb,CACA,GAAIk1G,YAAatC,MAAM/vG,OAAN,CAAcjb,MAAd,CAAjB,CACA,GAAIstH,YAAcrC,eAAesC,OAAjC,CAA0C,CACtC,MAAOD,WAAP,CACH,CACD,MACJ,IAAK,UAAL,CACI,GAAI,CACA,MAAO5E,UAAStwG,WAAW22C,MAApB,CAAP,CACH,CACD,MAAOh2D,CAAP,CAAU,CACN;AACA;AACA;AACA,GAAI4yH,gBAAgB5yH,CAAhB,GAAsBqf,WAAWi4C,QAAX,EAAuB,IAA7C,EACAj4C,WAAW4c,IAAX,EAAmB,IADnB,EAC2B5c,WAAWrS,SAAX,EAAwB,IADvD,CAC6D,CACzDhN,EAAEqe,QAAF,CAAa,CACTi5C,SAAUj4C,WAAWi4C,QADZ,CAETr7B,KAAM5c,WAAW4c,IAFR,CAGT0zC,OAAQtwD,WAAWrS,SAHV,CAAb,CAKH,CACD,KAAMhN,EAAN,CACH,CACL,IAAK,OAAL,CACI,MAAOqN,QAAP,CACJ,IAAK,UAAL,CACI,MAAOA,QAAP,CACJ,IAAK,KAAL,CACA,IAAK,MAAL,CACI;AACAwsG,aAAewY,kBAAkBhlH,OAAlB,CAA2BgS,WAAW,YAAX,CAA3B,CAAqDizG,MAAQ,CAA7D,CAAgE,gBAAiB,CAAjF,CAAf,CACA,GAAIzY,uBAAwB3jG,aAA5B,CAA0C,CACtC,GAAI2jG,eAAiBxgB,KAAKy4B,cAAtB,EAAwCjY,eAAiBxgB,KAAK04B,WAAlE,CAA+E,CAC3E;AACA;AACA;AACA;AACA,MAAO1kH,QAAP,CACH,CACD,GAAIonH,gBAAiBp1G,WAAW,WAAX,GAA2B,EAAhD,CACA,GAAIu8B,WAAYy9C,KAAKs1B,aAAL,CAAmBvnH,GAAnB,CAAuByyG,YAAvB,CAAhB,CACA,GAAIj+D,SAAJ,CAAe,CACX,GAAInxC,MAAOgqH,eAAejtH,GAAf,CAAmB,SAAU2oF,GAAV,CAAe,CAAE,MAAOuiC,gBAAerlH,OAAf,CAAwB8iF,GAAxB,CAAP,CAAsC,CAA1E,EACN3oF,GADM,CACF,SAAU2oF,GAAV,CAAe,CAAE,MAAO89B,cAAa99B,GAAb,EAAoBtnF,SAApB,CAAgCsnF,GAAvC,CAA6C,CAD5D,CAAX,CAEA,MAAOv0C,WAAUvuC,OAAV,CAAmB5C,IAAnB,CAAP,CACH,CAJD,IAKK,CACD;AACA,GAAIyoH,gBAAiBX,sBAAsB1Y,YAAtB,CAArB,CACA,MAAOmZ,cAAanZ,YAAb,CAA2BqZ,cAA3B,CAA2CuB,cAA3C,CAA2Dp1G,WAAW,YAAX,CAA3D,CAAP,CACH,CACJ,CACD,MAAOsuG,OAAP,CACJ,IAAK,OAAL,CACI,GAAIj+F,SAAUrQ,WAAWqQ,OAAzB,CACA,GAAIrQ,WAAW,MAAX,GAAsB,IAA1B,CAAgC,CAC5Bg6E,KAAKn5F,KAAL,CAAW,CACPwvB,QAASA,OADF,CAEPriB,QAASgS,WAAWhS,OAFb,CAGP1N,MAAO0f,UAHA,CAIPhB,SAAU,CACNi5C,SAAUj4C,WAAW,UAAX,CADJ,CAEN4c,KAAM5c,WAAW,MAAX,CAFA,CAGNswD,OAAQtwD,WAAW,WAAX,CAHF,CAJH,CAAX,CASGhS,OATH,EAUH,CAXD,IAYK,CACDgsF,KAAKn5F,KAAL,CAAW,CAAEwvB,QAASA,OAAX,CAAoBriB,QAASgS,WAAWhS,OAAxC,CAAX,CAA8DA,OAA9D,EACH,CACD,MAAOsgH,OAAP,CACJ,IAAK,QAAL,CACI,MAAOtuG,WAAP,CA5KR,CA8KA,MAAO,KAAP,CACH,CACD,MAAOq1G,cAAar1G,UAAb,CAAyB,SAAU1f,KAAV,CAAiBqD,IAAjB,CAAuB,CACnD,GAAI8qH,cAAc9xG,GAAd,CAAkBhZ,IAAlB,CAAJ,CAA6B,CACzB,GAAIA,OAAS4qH,SAAT,EAAsBC,UAAWxuG,WAArC,CAAiD,CAC7C;AACA;AACA,GAAI+/C,SAAUuwD,SAAStwG,WAAW+/C,OAApB,CAAd,CACA,GAAIA,UAAYi6B,KAAK4e,MAAjB,EAA2B74C,SAAWi6B,KAAKj2C,4BAA/C,CAA6E,CACzE,MAAOusE,UAAShwH,KAAT,CAAP,CACH,CACJ,CACD,MAAO8yH,gBAAe9yH,KAAf,CAAP,CACH,CACD,MAAOgwH,UAAShwH,KAAT,CAAP,CACH,CAbM,CAAP,CAcH,CACD,MAAOguH,OAAP,CACH,CACD,MAAOgC,UAAShwH,KAAT,CAAP,CACH,CACD,GAAIyF,OAAJ,CACA,GAAI,CACAA,OAASitH,kBAAkBhlH,OAAlB,CAA2B1N,KAA3B,CAAkC,CAAlC,CAAqCqyH,KAAO,CAAP,CAAW,CAAhD,CAAT,CACH,CACD,MAAOhyH,CAAP,CAAU,CACN,GAAI,KAAKo5G,aAAT,CAAwB,CACpB,KAAKvP,WAAL,CAAiB7pG,CAAjB,CAAoBqN,OAApB,EACH,CAFD,IAGK,CACD,KAAMgjH,qBAAoBrwH,CAApB,CAAuBqN,OAAvB,CAAN,CACH,CACJ,CACD,GAAI4gH,aAAa7oH,MAAb,CAAJ,CAA0B,CACtB,MAAOyD,UAAP,CACH,CACD,MAAOzD,OAAP,CACH,CApYD,CAqYA8oH,gBAAgBzvH,SAAhB,CAA0BoxH,eAA1B,CAA4C,SAAUz/G,IAAV,CAAgB,CACxD,GAAIwqG,gBAAiB,KAAKoE,cAAL,CAAoBpF,aAApB,CAAkCxpG,IAAlC,CAArB,CACA,MAAOwqG,iBAAkBA,eAAetzF,QAAjC,CAA4CszF,eAAetzF,QAA3D,CACH,CAAEs0F,WAAY,OAAd,CADJ,CAEH,CAJD,CAKAsS,gBAAgBzvH,SAAhB,CAA0BorG,WAA1B,CAAwC,SAAU5mC,QAAV,CAAoB51D,OAApB,CAA6B+Q,IAA7B,CAAmC,CACvE,GAAI,KAAKg7F,aAAT,CAAwB,CACpB,KAAKA,aAAL,CAAmBiX,oBAAoBptD,QAApB,CAA8B51D,OAA9B,CAAnB,CAA4DA,SAAWA,QAAQ8I,QAApB,EAAiCiI,IAA5F,EACH,CAFD,IAGK,CACD,KAAM6kD,SAAN,CACH,CACJ,CAPD,CAQAirD,gBAAgBzvH,SAAhB,CAA0ByB,KAA1B,CAAkC,SAAUsB,EAAV,CAAcmzH,gBAAd,CAAgC,CAC9D,GAAIjlG,SAAUluB,GAAGkuB,OAAjB,CAA0BwrC,QAAU15D,GAAG05D,OAAvC,CAAgD63D,OAASvxH,GAAGuxH,MAA5D,CAAoE10G,SAAW7c,GAAG6c,QAAlF,CAA4FhR,QAAU7L,GAAG6L,OAAzG,CAAkH1N,MAAQ6B,GAAG7B,KAA7H,CAAoIq2D,OAASx0D,GAAGw0D,MAAhJ,CAAwJo3D,MAAQ5rH,GAAG4rH,KAAnK,CACA,KAAKvjB,WAAL,CAAiBymB,cAAc5gG,OAAd,CAAuBwrC,OAAvB,CAAgC63D,MAAhC,CAAwC10G,QAAxC,CAAkD23C,MAAlD,CAA0D3oD,OAA1D,CAAmE+/G,KAAnE,CAAjB,CAA4FuH,gBAA5F,EACH,CAHD,CAIA,MAAOzG,gBAAP,CACH,CAxuBoC,EAArC,CAyuBA,GAAI0G,gBAAiB,iBAArB,CACA,QAAStE,cAAT,CAAuB5gG,OAAvB,CAAgCwrC,OAAhC,CAAyC63D,MAAzC,CAAiD10G,QAAjD,CAA2D23C,MAA3D,CAAmE3oD,OAAnE,CAA4E+/G,KAA5E,CAAmF,CAC/E,GAAInqD,UAAWp0D,YAAY6gB,OAAZ,CAAf,CACAuzC,SAAS2xD,cAAT,EAA2B,IAA3B,CACA,GAAI7B,MAAJ,CACI9vD,SAAS8vD,MAAT,CAAkBA,MAAlB,CACJ,GAAI10G,QAAJ,CACI4kD,SAAS5kD,QAAT,CAAoBA,QAApB,CACJ,GAAI68C,OAAJ,CACI+H,SAAS/H,OAAT,CAAmBA,OAAnB,CACJ,GAAI7tD,OAAJ,CACI41D,SAAS51D,OAAT,CAAmBA,OAAnB,CACJ,GAAI+/G,KAAJ,CACInqD,SAASmqD,KAAT,CAAiBA,KAAjB,CACJ,GAAIp3D,MAAJ,CACIiN,SAASjN,MAAT,CAAkBA,MAAlB,CACJ,MAAOiN,SAAP,CACH,CACD,QAAS2vD,gBAAT,CAAyB3vD,QAAzB,CAAmC,CAC/B,MAAO,CAAC,CAACA,SAAS2xD,cAAT,CAAT,CACH,CACD,GAAIC,gCAAiC,iCAArC,CACA,GAAIC,0BAA2B,0BAA/B,CACA,GAAIC,2BAA4B,6BAAhC,CACA,GAAIC,wBAAyB,wBAA7B,CACA,GAAIvB,6BAA8B,6BAAlC,CACA,GAAIwB,2BAA4B,6BAAhC,CACA,GAAIC,sBAAuB,sBAA3B,CACA,QAASC,gBAAT,CAAyBzlG,OAAzB,CAAkCriB,OAAlC,CAA2C,CACvC,OAAQqiB,OAAR,EACI,IAAKmlG,+BAAL,CACI,GAAIxnH,SAAWA,QAAQrG,SAAvB,CAAkC,CAC9B,MAAO,0EAA4EqG,QAAQrG,SAApF,CAAgG,kBAAvG,CACH,CACD,MACJ,IAAK8tH,yBAAL,CACI,MAAO,gJAAP,CACJ,IAAKC,0BAAL,CACI,MAAO,4IAAP,CACJ,IAAKC,uBAAL,CACI,GAAI3nH,SAAWA,QAAQ2oG,QAAvB,CAAiC,CAC7B,MAAO,0BAA4B3oG,QAAQ2oG,QAA3C,CACH,CACD,MACJ,IAAKyd,4BAAL,CACI,GAAIpmH,SAAWA,QAAQrK,IAAvB,CAA6B,CACzB,MAAO,uDAAyDqK,QAAQrK,IAAjE,CAAwE,cAA/E,CACH,CACD,MAAO,gDAAP,CACJ,IAAKiyH,0BAAL,CACI,GAAI5nH,SAAWA,QAAQrK,IAAvB,CAA6B,CACzB,MAAO,oFAAsFqK,QAAQrK,IAA9F,CAAqG,kBAA5G,CACH,CACD,MACJ,IAAKkyH,qBAAL,CACI,MAAO,sDAAP,CA1BR,CA4BA,MAAOxlG,QAAP,CACH,CACD,QAAS0lG,cAAT,CAAuB1lG,OAAvB,CAAgCriB,OAAhC,CAAyC,CACrC,OAAQqiB,OAAR,EACI,IAAKmlG,+BAAL,CACI,GAAIxnH,SAAWA,QAAQrG,SAAvB,CAAkC,CAC9B,MAAO,uBAAyBqG,QAAQrG,SAAjC,CAA6C,GAApD,CACH,CACD,MACJ,IAAK+tH,0BAAL,CACI,MAAO,6CAAP,CACJ,IAAKE,0BAAL,CACI,GAAI5nH,SAAWA,QAAQrK,IAAvB,CAA6B,CACzB,MAAO,uBAAyBqK,QAAQrK,IAAjC,CAAwC,GAA/C,CACH,CACD,MACJ,IAAKkyH,qBAAL,CACI,MAAO,qEAAP,CAdR,CAgBA,MAAOrsH,UAAP,CACH,CACD,QAASiqH,aAAT,CAAsB7vD,QAAtB,CAAgC,CAC5B,GAAIA,SAAS/H,OAAb,CAAsB,CAClB,MAAO+H,UAAS/H,OAAhB,CACH,CACD,OAAQ+H,SAASvzC,OAAjB,EACI,IAAKmlG,+BAAL,CACI,GAAI5xD,SAAS51D,OAAT,EAAoB41D,SAAS51D,OAAT,CAAiBrG,SAAzC,CAAoD,CAChD,MAAO,iCAAmCi8D,SAAS51D,OAAT,CAAiBrG,SAA3D,CACH,CACD,MACJ,IAAK8tH,yBAAL,CACI,MAAO,oBAAP,CACJ,IAAKC,0BAAL,CACI,MAAO,4BAAP,CACJ,IAAKC,uBAAL,CACI,MAAO,uBAAP,CACJ,IAAKvB,4BAAL,CACI,GAAIxwD,SAAS51D,OAAT,EAAoB41D,SAAS51D,OAAT,CAAiBrK,IAAzC,CAA+C,CAC3C,MAAO,UAAYigE,SAAS51D,OAAT,CAAiBrK,IAA7B,CAAoC,GAA3C,CACH,CACD,MAAO,kBAAP,CACJ,IAAKiyH,0BAAL,CACI,GAAIhyD,SAAS51D,OAAT,EAAoB41D,SAAS51D,OAAT,CAAiBrK,IAAzC,CAA+C,CAC3C,MAAO,6BAA+BigE,SAAS51D,OAAT,CAAiBrK,IAAvD,CACH,CACD,MAAO,6BAAP,CArBR,CAuBA,MAAO,oBAAP,CACH,CACD,QAAS0xH,aAAT,CAAsBjoH,KAAtB,CAA6By4E,SAA7B,CAAwC,CACpC,GAAI,CAACz4E,KAAL,CACI,MAAO,EAAP,CACJ,GAAIrH,QAAS,EAAb,CACApH,OAAOiQ,IAAP,CAAYxB,KAAZ,EAAmBjK,OAAnB,CAA2B,SAAU0L,GAAV,CAAe,CACtC,GAAIvO,OAAQulF,UAAUz4E,MAAMyB,GAAN,CAAV,CAAsBA,GAAtB,CAAZ,CACA,GAAI,CAAC+/G,aAAatuH,KAAb,CAAL,CAA0B,CACtB,GAAI+tH,WAAW1sG,IAAX,CAAgB9S,GAAhB,CAAJ,CAA0B,CACtBlQ,OAAOsgB,cAAP,CAAsBlZ,MAAtB,CAA8B8I,GAA9B,CAAmC,CAAEqQ,WAAY,KAAd,CAAqBC,aAAc,IAAnC,CAAyC7e,MAAOA,KAAhD,CAAnC,EACH,CAFD,IAGK,CACDyF,OAAO8I,GAAP,EAAcvO,KAAd,CACH,CACJ,CACJ,CAVD,EAWA,MAAOyF,OAAP,CACH,CACD,QAASsuH,YAAT,CAAqBp0H,CAArB,CAAwB,CACpB,MAAOA,KAAM,IAAN,EAAe,MAAOA,EAAP,GAAa,UAAb,EAA2B,MAAOA,EAAP,GAAa,QAA9D,CACH,CACD,GAAI4yH,gBAAiB,aAAe,UAAY,CAC5C,QAAShf,aAAT,EAAwB,CACvB,CACDA,aAAa3sE,KAAb,CAAqB,UAAY,CAC7B,GAAIliC,SAAU,GAAIsB,IAAJ,EAAd,CACA,MAAO,CACHlI,OAAQ,SAAUuF,IAAV,CAAgBrD,KAAhB,CAAuB,CAC3B0E,QAAQgD,GAAR,CAAYrE,IAAZ,CAAkBrD,KAAlB,EACA,MAAO,KAAP,CACH,CAJE,CAKHC,KAAM,UAAY,CACd,MAAOyE,SAAQyuE,IAAR,CAAe,CAAf,CAAmB,GAAIuiD,eAAJ,CAAmBhxH,OAAnB,CAAnB,CAAiD6uG,aAAaif,KAArE,CACH,CAPE,CAAP,CASH,CAXD,CAYAjf,aAAashB,OAAb,CAAuB,EAAvB,CACAthB,aAAaif,KAAb,CAAqB,CAAEjwG,QAAS,SAAUlf,IAAV,CAAgB,CAAE,MAAOkwG,cAAashB,OAApB,CAA8B,CAA3D,CAArB,CACA,MAAOthB,aAAP,CACH,CAlBmC,EAApC,CAmBA,GAAImiB,gBAAiB,aAAe,SAAUngH,MAAV,CAAkB,CAClD5W,UAAU+2H,cAAV,CAA0BngH,MAA1B,EACA,QAASmgH,eAAT,CAAwB5sG,QAAxB,CAAkC,CAC9B,GAAInmB,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAMmmB,QAAN,CAAiBA,QAAjB,CACA,MAAOnmB,MAAP,CACH,CACD+yH,eAAe52H,SAAf,CAAyByjB,OAAzB,CAAmC,SAAUlf,IAAV,CAAgB,CAC/C,MAAO,MAAKylB,QAAL,CAAczM,GAAd,CAAkBhZ,IAAlB,EAA0B,KAAKylB,QAAL,CAAcrhB,GAAd,CAAkBpE,IAAlB,CAA1B,CAAoDkvH,eAAesC,OAA1E,CACH,CAFD,CAGA,MAAOa,eAAP,CACH,CAXmC,CAWlCnD,cAXkC,CAApC,CAYA,QAASoD,2BAAT,CAAoClI,KAApC,CAA2C2F,MAA3C,CAAmD,CAC/C,GAAIx0C,UAAW42C,gBAAgB/H,MAAM19F,OAAtB,CAA+B09F,MAAM//G,OAArC,CAAf,CACA,GAAIkoH,SAAUnI,MAAMp3D,MAAN,CAAe,QAAUo3D,MAAMp3D,MAAN,CAAahzD,IAAvB,CAA8B,GAA7C,CAAmD,EAAjE,CACA,GAAI0sB,SAAU,GAAK6uD,QAAL,CAAgBg3C,OAA9B,CACA,GAAIl3G,UAAW+uG,MAAM/uG,QAArB,CACA,GAAI3e,MAAO0tH,MAAM1tH,IAAN,CACP41H,2BAA2BlI,MAAM1tH,IAAjC,CAAuCqzH,MAAvC,CADO,CAEPA,OAAS,CAAErjG,QAASqjG,MAAX,CAAT,CAA+BlqH,SAFnC,CAGA,MAAO,CAAE6mB,QAASA,OAAX,CAAoBrR,SAAUA,QAA9B,CAAwC3e,KAAMA,IAA9C,CAAP,CACH,CACD,QAAS2wH,oBAAT,CAA6BrwH,CAA7B,CAAgCqN,OAAhC,CAAyC,CACrC,GAAIulH,gBAAgB5yH,CAAhB,CAAJ,CAAwB,CACpB;AACA;AACA,GAAIqe,UAAWre,EAAEqe,QAAjB,CACA,GAAI+uG,OAAQ,CACR19F,QAAS,qCAAuCriB,QAAQrK,IAA/C,CAAsD,GADvD,CAERqb,SAAUA,QAFF,CAGR3e,KAAM,CAAEgwB,QAAS1vB,EAAE0vB,OAAb,CAAsBhwB,KAAMM,EAAEotH,KAA9B,CAAqC//G,QAASrN,EAAEqN,OAAhD,CAAyD2oD,OAAQh2D,EAAEg2D,MAAnE,CAHE,CAAZ,CAKA,GAAI+8D,QAAS/yH,EAAE+yH,MAAF,EAAYqC,cAAcp1H,EAAE0vB,OAAhB,CAAyB1vB,EAAEqN,OAA3B,CAAzB,CACA,MAAOigH,gBAAegI,2BAA2BlI,KAA3B,CAAkC2F,MAAlC,CAAf,CAAP,CACH,CACD,MAAO/yH,EAAP,CACH,CAED;;;;;;OAOA,GAAIw1H,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,CAA4B57G,IAA5B,CAAkCs/F,iBAAlC,CAAqD,CACjD,KAAKt/F,IAAL,CAAYA,IAAZ,CACA,KAAKs/F,iBAAL,CAAyBA,iBAAzB,CACA;AACA,KAAKuc,YAAL,CAAoB,GAAI9vH,IAAJ,EAApB,CACA,KAAK+vH,eAAL,CAAuB,GAAI/vH,IAAJ,EAAvB,CACA;AACA,KAAK6zG,QAAL,CAAgB,GAAI7zG,IAAJ,EAAhB,CACA,KAAKg0G,0BAAL,CAAkC,GAAIh0G,IAAJ,EAAlC,CACH,CACD6vH,mBAAmB/2H,SAAnB,CAA6Bg/G,aAA7B,CAA6C,SAAUtnG,QAAV,CAAoB,CAC7D;AACA;AACA;AACA,MAAO,CAAC,KAAKyD,IAAL,CAAU0yG,YAAV,CAAuBt1D,yBAAyB7gD,QAAzB,CAAvB,CAAR,CACH,CALD,CAMAq/G,mBAAmB/2H,SAAnB,CAA6B4iH,iBAA7B,CAAiD,SAAUlrG,QAAV,CAAoBw/G,oBAApB,CAA0C,CACvF,MAAO,MAAK/7G,IAAL,CAAUynG,iBAAV,CAA4BlrG,QAA5B,CAAsCw/G,oBAAtC,CAAP,CACH,CAFD,CAGAH,mBAAmB/2H,SAAnB,CAA6BkkH,mBAA7B,CAAmD,SAAUrrD,QAAV,CAAoBs+D,oBAApB,CAA0C,CACzF,MAAO,MAAKh8G,IAAL,CAAU+oG,mBAAV,CAA8BrrD,QAA9B,CAAwCs+D,oBAAxC,CAAP,CACH,CAFD,CAGAJ,mBAAmB/2H,SAAnB,CAA6B08D,cAA7B,CAA8C,SAAU0+C,YAAV,CAAwB,CAClE,GAAIgc,YAAahc,aAAazjG,OAAb,CAAqBlX,MAArB,CACb,KAAKg6G,iBAAL,CAAuB9xG,GAAvB,CAA2ByyG,aAAa1jG,QAAxC,CAAkD0jG,aAAa72G,IAA/D,CADa,CAEb62G,YAFJ,CAGA,GAAI3+C,SAAU,KAAKu6D,YAAL,CAAkBruH,GAAlB,CAAsByuH,UAAtB,CAAd,CACA,GAAI,CAAC36D,OAAL,CAAc,CACV,KAAK46D,gBAAL,CAAsBjc,aAAa1jG,QAAnC,EACA+kD,QAAU,KAAKu6D,YAAL,CAAkBruH,GAAlB,CAAsByyG,YAAtB,CAAV,CACH,CACD,MAAQgc,cAAehc,YAAf,EAA+B3+C,OAAhC,EAA4C,IAAnD,CACH,CAVD,CAWAs6D,mBAAmB/2H,SAAnB,CAA6By9G,YAA7B,CAA4C,SAAU/lG,QAAV,CAAoB,CAC5D,GAAI,KAAK2/G,gBAAL,CAAsB3/G,QAAtB,CAAJ,CAAqC,CACjC,MAAOhY,OAAM88C,IAAN,CAAW,KAAKw6E,YAAL,CAAkBxnH,IAAlB,EAAX,EAAqCmY,MAArC,CAA4C,SAAU4vC,MAAV,CAAkB,CAAE,MAAOA,QAAO7/C,QAAP,GAAoBA,QAA3B,CAAsC,CAAtG,CAAP,CACH,CACD,MAAO,KAAP,CACH,CALD,CAMAq/G,mBAAmB/2H,SAAnB,CAA6B07G,WAA7B,CAA2C,SAAUN,YAAV,CAAwB,CAC/DA,aAAaxjG,eAAb,GACA,MAAO,MAAKmjG,QAAL,CAAcpyG,GAAd,CAAkByyG,YAAlB,CAAP,CACH,CAHD,CAIA;;WAGA2b,mBAAmB/2H,SAAnB,CAA6Bs8G,kBAA7B,CAAkD,SAAU4P,gBAAV,CAA4B,CAC1E,MAAO,MAAKhR,0BAAL,CAAgCvyG,GAAhC,CAAoCujH,gBAApC,GAAyD,IAAhE,CACH,CAFD,CAGA6K,mBAAmB/2H,SAAnB,CAA6B0gH,UAA7B,CAA0C,SAAUjkD,OAAV,CAAmB,CAAE,KAAKu6D,YAAL,CAAkBpuH,GAAlB,CAAsB6zD,QAAQlF,MAA9B,CAAsCkF,OAAtC,EAAiD,CAAhH,CACAs6D,mBAAmB/2H,SAAnB,CAA6Bq3H,gBAA7B,CAAgD,SAAU3/G,QAAV,CAAoB,CAChE,GAAI7T,OAAQ,IAAZ,CACA,GAAIyzH,YAAa,KAAKL,eAAL,CAAqBtuH,GAArB,CAAyB+O,QAAzB,CAAjB,CACA,GAAI4/G,YAAc,IAAlB,CAAwB,CACpB,MAAOA,WAAP,CACH,CACD,GAAI3W,MAAO,IAAX,CACA,GAAI,KAAK3B,aAAL,CAAmBtnG,QAAnB,CAAJ,CAAkC,CAC9B,GAAI6/G,iBAAkB3+D,gBAAgBlhD,QAAhB,CAAtB,CACA,GAAI,CACAipG,KAAO,KAAKxlG,IAAL,CAAU2nG,WAAV,CAAsByU,eAAtB,CAAP,CACH,CACD,MAAOh2H,CAAP,CAAU,CACNs0C,QAAQp0C,KAAR,CAAc,8BAAgC81H,eAA9C,EACA,KAAMh2H,EAAN,CACH,CACJ,CACD+1H,WAAa3W,MAAQ,IAArB,CACA,KAAKsW,eAAL,CAAqBruH,GAArB,CAAyB8O,QAAzB,CAAmC4/G,UAAnC,EACA,GAAI3W,IAAJ,CAAU,CACN,GAAI59G,IAAKk+G,qBAAqB,KAAKxG,iBAA1B,CAA6C,IAA7C,CAAmD/iG,QAAnD,CAA6DipG,IAA7D,CAAT,CAA6E/7D,WAAa7hD,GAAG6hD,UAA7F,CAAyG69D,UAAY1/G,GAAG0/G,SAAxH,CAAmI1H,SAAWh4G,GAAGg4G,QAAjJ,CACA0H,UAAU1+G,OAAV,CAAkB,SAAU04D,OAAV,CAAmB,CAAE,MAAO54D,OAAMmzH,YAAN,CAAmBpuH,GAAnB,CAAuB6zD,QAAQlF,MAA/B,CAAuCkF,OAAvC,CAAP,CAAyD,CAAhG,EACA,GAAI7X,UAAJ,CAAgB,CACZ,KAAKs2D,0BAAL,CAAgCtyG,GAAhC,CAAoC8O,QAApC,CAA8CktC,UAA9C,EACH,CACDm2D,SAASh3G,OAAT,CAAiB,SAAUg3G,QAAV,CAAoB,CAAEl3G,MAAMk3G,QAAN,CAAenyG,GAAf,CAAmBmyG,SAASxjD,MAA5B,CAAoCwjD,SAASA,QAA7C,EAAyD,CAAhG,EACH,CACD,MAAOuc,WAAP,CACH,CA5BD,CA6BA,MAAOP,mBAAP,CACH,CAjFuC,EAAxC,CAmFA;;;;;;OAOA,QAASS,qBAAT,CAA8Br8G,IAA9B,CAAoC,CAChC,MAAO,CACHsI,QAAS,SAAUg0G,QAAV,CAAoB34G,GAApB,CAAyB,CAC9B,GAAIpH,UAAWyD,KAAKmrG,sBAAL,CAA4BxnG,GAA5B,CAAiC24G,QAAjC,CAAf,CACA,GAAI,CAAC//G,QAAL,CAAe,CACX,KAAMtH,aAAY,6BAA+B0O,GAA/B,CAAqC,QAArC,CAAgD24G,QAA5D,CAAN,CACH,CACD,MAAO//G,SAAP,CACH,CAPE,CAAP,CASH,CACD;;OAGA,QAASggH,kBAAT,CAA2BC,YAA3B,CAAyC/lC,OAAzC,CAAkDgmC,cAAlD,CAAkE,CAC9D,GAAIzjF,cAAey9C,QAAQz9C,YAAR,EAAwB,EAA3C,CACA,GAAI0jF,aAAcL,qBAAqBG,YAArB,CAAlB,CACA,GAAIzW,aAAc,GAAIppG,kBAAJ,EAAlB,CACA,GAAI4iG,iBAAkB,GAAIqc,mBAAJ,CAAuBY,YAAvB,CAAqCzW,WAArC,CAAtB,CACA,GAAIX,gBAAiB,GAAI/F,qBAAJ,CAAyBmd,YAAzB,CAAuCzW,WAAvC,CAAoDxG,eAApD,CAArB,CACA,GAAIod,iBAAkB,GAAIrI,gBAAJ,CAAoB/U,eAApB,CAAqC6F,cAArC,CAAqD,EAArD,CAAyD,EAAzD,CAA6DqX,cAA7D,CAAtB,CACA,GAAI3iB,WAAJ,CACA,GAAI,CAAC,CAACrjB,QAAQmmC,SAAd,CAAyB,CACrB;AACA9iB,WAAa,GAAInyD,WAAJ,EAAb,CACH,CAHD,IAIK,CACDmyD,WAAa,GAAI9wD,eAAJ,CAAmB,GAAIrB,WAAJ,EAAnB,CAAqC3O,YAArC,CAAmDy9C,QAAQk5B,UAA3D,CAAuEl5B,QAAQz6E,kBAA/E,CAAmG0+B,OAAnG,CAAb,CACH,CACD,GAAI1d,QAAS,GAAIrhB,eAAJ,CAAmB,CAC5BC,qBAAsB9L,kBAAkB+L,QADZ,CAE5BC,OAAQ,KAFoB,CAG5BE,mBAAoBy6E,QAAQz6E,kBAHA,CAI5BC,oBAAqBw6E,QAAQx6E,mBAJD,CAK5BC,0BAA2Bu6E,QAAQv6E,yBALP,CAAnB,CAAb,CAOA,GAAI2gH,YAAa,GAAI5yG,oBAAJ,CAAwB,CAAEzc,IAAK,SAAUmW,GAAV,CAAe,CAAE,MAAO64G,cAAaM,YAAb,CAA0Bn5G,GAA1B,CAAP,CAAwC,CAAhE,CAAxB,CAA4F+4G,WAA5F,CAAyG5iB,UAAzG,CAAqH98E,MAArH,CAAjB,CACA,GAAI+wF,kBAAmB,GAAI7wF,OAAJ,CAAW,GAAI1J,MAAJ,EAAX,CAAvB,CACA,GAAIupG,uBAAwB,GAAIxiD,yBAAJ,EAA5B,CACA,GAAIyiD,YAAa,GAAI1yC,eAAJ,CAAmBttD,MAAnB,CAA2B2/F,eAA3B,CAA4C5O,gBAA5C,CAA8DgP,qBAA9D,CAAqFjjB,UAArF,CAAiGp/D,OAAjG,CAA0G,EAA1G,CAAjB,CACA,GAAI3yB,UAAW,GAAIo3C,wBAAJ,CAA4BniC,MAA5B,CAAoC88E,UAApC,CAAgD,GAAI1oC,iBAAJ,CAAqBurD,eAArB,CAAhD,CAAuF,GAAIxvG,kBAAJ,CAAsBwvG,eAAtB,CAAvF,CAA+H,GAAIvjD,aAAJ,CAAiBujD,eAAjB,CAA/H,CAAkKpd,eAAlK,CAAmLwd,qBAAnL,CAA0MF,UAA1M,CAAsNniF,OAAtN,CAA+NqrE,WAA/N,CAA4O4W,eAA5O,CAA6PF,cAA7P,CAAf,CACA;AACA,GAAIQ,cAAe,GAAInjC,aAAJ,CAAiB6iC,eAAjB,CAAnB,CACA,GAAIO,mBAAoB,GAAI1mC,kBAAJ,CAAsBC,OAAtB,CAA+BkmC,eAA/B,CAAxB,CACA,GAAI34H,UAAW,GAAIglH,YAAJ,CAAgBhsF,MAAhB,CAAwBy5D,OAAxB,CAAiC+lC,YAAjC,CAA+CG,eAA/C,CAAgE50G,QAAhE,CAA0Ei1G,UAA1E,CAAsF,GAAIn6C,cAAJ,CAAkB65C,WAAlB,CAAtF,CAAsHO,YAAtH,CAAoIC,iBAApI,CAAuJ,GAAI3sD,iBAAJ,CAAqBosD,eAArB,CAAvJ,CAA8L,GAAIjhE,mBAAJ,CAAuBihE,eAAvB,CAAwC,CAAC,CAAClmC,QAAQmmC,SAAlD,CAA9L,CAA4P,GAAI1lD,kBAAJ,EAA5P,CAAqRqoC,eAArR,CAAsS6F,cAAtS,CAAf,CACA,MAAO,CAAEphH,SAAUA,QAAZ,CAAsByoD,UAAWkwE,eAAjC,CAAP,CACH,CAED,GAAIQ,iBAAkB,aAAe,UAAY,CAC7C,QAASA,gBAAT,EAA2B,CAC1B,CACD,MAAOA,gBAAP,CACH,CAJoC,EAArC,CAKA,GAAIC,oBAAqB,aAAe,UAAY,CAChD,QAASA,mBAAT,EAA8B,CAC1B,KAAKC,UAAL,CAAkB,GAAItxH,IAAJ,EAAlB,CACH,CACDqxH,mBAAmBv4H,SAAnB,CAA6Bg/G,aAA7B,CAA6C,UAAY,CAAE,MAAO,MAAP,CAAe,CAA1E,CACAuZ,mBAAmBv4H,SAAnB,CAA6B4iH,iBAA7B,CAAiD,SAAU/pD,QAAV,CAAoB,CAAE,MAAOA,SAAP,CAAkB,CAAzF,CACA0/D,mBAAmBv4H,SAAnB,CAA6BkkH,mBAA7B,CAAmD,SAAUrrD,QAAV,CAAoB,CAAE,MAAOA,SAAP,CAAkB,CAA3F,CACA0/D,mBAAmBv4H,SAAnB,CAA6B08D,cAA7B,CAA8C,SAAUnkD,SAAV,CAAqB,CAC/D,MAAO,MAAKigH,UAAL,CAAgB7vH,GAAhB,CAAoB4P,SAApB,GAAkC,IAAzC,CACH,CAFD,CAGAggH,mBAAmBv4H,SAAnB,CAA6By9G,YAA7B,CAA4C,UAAY,CAAE,MAAO,EAAP,CAAY,CAAtE,CACA8a,mBAAmBv4H,SAAnB,CAA6B07G,WAA7B,CAA2C,SAAUnjG,SAAV,CAAqB,CAAE,MAAOA,UAAP,CAAmB,CAArF,CACAggH,mBAAmBv4H,SAAnB,CAA6Bs8G,kBAA7B,CAAkD,SAAUzjD,QAAV,CAAoB,CAAE,MAAO,KAAP,CAAc,CAAtF,CACA0/D,mBAAmBv4H,SAAnB,CAA6B0gH,UAA7B,CAA0C,SAAUjkD,OAAV,CAAmB,CAAE,KAAK+7D,UAAL,CAAgB5vH,GAAhB,CAAoB6zD,QAAQlF,MAA5B,CAAoCkF,OAApC,EAA+C,CAA9G,CACA,MAAO87D,mBAAP,CACH,CAfuC,EAAxC,CAiBA;;;;;;OAOA,QAASE,oBAAT,CAA6BzoE,UAA7B,CAAyCpI,SAAzC,CAAoD,CAChD,GAAIzoB,KAAM,GAAIu5F,kBAAJ,CAAsB,IAAtB,CAA4B,IAA5B,CAAkC,IAAlC,CAAwC,GAAIxxH,IAAJ,EAAxC,CAAV,CACA,GAAIyH,SAAU,GAAIgqH,qBAAJ,CAAyB/wE,SAAzB,CAAd,CACAj5C,QAAQqlD,kBAAR,CAA2BhE,UAA3B,CAAuC7wB,GAAvC,EACA,GAAIx4B,QAAS,EAAb,CACAw4B,IAAIrgC,OAAJ,CAAYiF,OAAZ,CAAoB,SAAU60H,UAAV,CAAsB,CAAEjyH,OAAOiyH,UAAP,EAAqBz5F,IAAI05F,IAAJ,CAASlwH,GAAT,CAAaiwH,UAAb,CAArB,CAAgD,CAA5F,EACA,MAAOjyH,OAAP,CACH,CACD,QAASmyH,2BAAT,CAAoCtkE,QAApC,CAA8CukE,SAA9C,CAAyD/oE,UAAzD,CAAqE7wB,GAArE,CAA0ExwB,OAA1E,CAAmF,CAC/E,GAAIqqH,UAAW75F,IAAI85F,wBAAJ,EAAf,CACA,IAAK,GAAI34H,GAAI,CAAb,CAAgBA,EAAIk0D,SAAS/zD,MAA7B,CAAqCH,GAArC,CAA0C,CACtC04H,SAASH,IAAT,CAAcjwH,GAAd,CAAkB4rD,SAASl0D,CAAT,CAAlB,CAA+By4H,UAAUz4H,CAAV,CAA/B,EACH,CACD,GAAIqG,QAASgI,QAAQqlD,kBAAR,CAA2BhE,UAA3B,CAAuCgpE,QAAvC,CAAb,CACA,MAAOryH,QAASA,OAAOzF,KAAhB,CAAwB,IAA/B,CACH,CACD,GAAIw3H,mBAAoB,aAAe,UAAY,CAC/C,QAASA,kBAAT,CAA2B9uF,MAA3B,CAAmCsvF,QAAnC,CAA6C3wH,SAA7C,CAAwDswH,IAAxD,CAA8D,CAC1D,KAAKjvF,MAAL,CAAcA,MAAd,CACA,KAAKsvF,QAAL,CAAgBA,QAAhB,CACA,KAAK3wH,SAAL,CAAiBA,SAAjB,CACA,KAAKswH,IAAL,CAAYA,IAAZ,CACA,KAAK/5H,OAAL,CAAe,EAAf,CACH,CACD45H,kBAAkB14H,SAAlB,CAA4Bi5H,wBAA5B,CAAuD,UAAY,CAC/D,MAAO,IAAIP,kBAAJ,CAAsB,IAAtB,CAA4B,KAAKQ,QAAjC,CAA2C,KAAK3wH,SAAhD,CAA2D,GAAIrB,IAAJ,EAA3D,CAAP,CACH,CAFD,CAGA,MAAOwxH,kBAAP,CACH,CAZsC,EAAvC,CAaA,GAAIS,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqBj4H,KAArB,CAA4B,CACxB,KAAKA,KAAL,CAAaA,KAAb,CACH,CACD,MAAOi4H,YAAP,CACH,CALgC,EAAjC,CAMA,QAASC,mBAAT,CAA4BC,UAA5B,CAAwCC,IAAxC,CAA8Cl/E,QAA9C,CAAwD,CACpD,GAAIm/E,qBAAsB,EAA1B,CACAF,WAAW5mE,OAAX,CAAmB1uD,OAAnB,CAA2B,SAAUmwD,MAAV,CAAkB,CACzC;AACAqlE,oBAAoBrlE,OAAO3vD,IAA3B,EAAmC,CAC/Bwb,aAAc,KADiB,CAE/BpX,IAAK,UAAY,CACb,GAAI6wH,aAAc,GAAId,kBAAJ,CAAsBY,IAAtB,CAA4B,IAA5B,CAAkCD,WAAW90H,IAA7C,CAAmD+0H,KAAKT,IAAxD,CAAlB,CACA,MAAOC,4BAA2B,EAA3B,CAA+B,EAA/B,CAAmC5kE,OAAOzX,IAA1C,CAAgD+8E,WAAhD,CAA6Dp/E,QAA7D,CAAP,CACH,CAL8B,CAAnC,CAOH,CATD,EAUAi/E,WAAW1mE,OAAX,CAAmB5uD,OAAnB,CAA2B,SAAU4qD,MAAV,CAAkB,CACzC,GAAI8qE,YAAa9qE,OAAOtE,MAAP,CAActhD,GAAd,CAAkB,SAAU+mD,KAAV,CAAiB,CAAE,MAAOA,OAAMvrD,IAAb,CAAoB,CAAzD,CAAjB,CACA;AACAg1H,oBAAoB5qE,OAAOpqD,IAA3B,EAAmC,CAC/Bm1H,SAAU,KADqB,CAE/B35G,aAAc,KAFiB,CAG/B7e,MAAO,UAAY,CACf,GAAI8K,MAAO,EAAX,CACA,IAAK,GAAIgB,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ChB,KAAKgB,EAAL,EAAWxM,UAAUwM,EAAV,CAAX,CACH,CACD,GAAIwsH,aAAc,GAAId,kBAAJ,CAAsBY,IAAtB,CAA4B,IAA5B,CAAkCD,WAAW90H,IAA7C,CAAmD+0H,KAAKT,IAAxD,CAAlB,CACA,MAAOC,4BAA2BW,UAA3B,CAAuCztH,IAAvC,CAA6C2iD,OAAOlS,IAApD,CAA0D+8E,WAA1D,CAAuEp/E,QAAvE,CAAP,CACH,CAV8B,CAAnC,CAYH,CAfD,EAgBA,GAAIu/E,gBAAiBN,WAAW3mE,iBAAX,CAA6BrI,MAA7B,CAAoCthD,GAApC,CAAwC,SAAU+mD,KAAV,CAAiB,CAAE,MAAOA,OAAMvrD,IAAb,CAAoB,CAA/E,CAArB,CACA;AACA,GAAI4b,MAAO,UAAY,CACnB,GAAItc,OAAQ,IAAZ,CACA,GAAImI,MAAO,EAAX,CACA,IAAK,GAAIgB,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ChB,KAAKgB,EAAL,EAAWxM,UAAUwM,EAAV,CAAX,CACH,CACD,GAAIwsH,aAAc,GAAId,kBAAJ,CAAsBY,IAAtB,CAA4B,IAA5B,CAAkCD,WAAW90H,IAA7C,CAAmD+0H,KAAKT,IAAxD,CAAlB,CACAQ,WAAW7mE,MAAX,CAAkBzuD,OAAlB,CAA0B,SAAU2vE,KAAV,CAAiB,CAAE7vE,MAAM6vE,MAAMnvE,IAAZ,EAAoB6F,SAApB,CAAgC,CAA7E,EACA0uH,2BAA2Ba,cAA3B,CAA2C3tH,IAA3C,CAAiDqtH,WAAW3mE,iBAAX,CAA6BjW,IAA9E,CAAoF+8E,WAApF,CAAiGp/E,QAAjG,EACH,CATD,CAUA,GAAIw/E,YAAaP,WAAWzvF,MAAX,CAAoByvF,WAAWzvF,MAAX,CAAkBgkB,eAAlB,CAAkCxT,QAAlC,CAA4Ck/E,IAA5C,CAApB,CAAwE/5H,MAAzF,CACA4gB,KAAKngB,SAAL,CAAiBT,OAAOU,MAAP,CAAc25H,WAAW55H,SAAzB,CAAoCu5H,mBAApC,CAAjB,CACA,MAAOp5G,KAAP,CACH,CACD,GAAIw4G,sBAAuB,aAAe,UAAY,CAClD,QAASA,qBAAT,CAA8B/wE,SAA9B,CAAyC,CACrC,KAAKA,SAAL,CAAiBA,SAAjB,CACH,CACD+wE,qBAAqB34H,SAArB,CAA+B65H,QAA/B,CAA0C,SAAUtjH,GAAV,CAAe,CAAE,MAAO47D,4BAA2B57D,GAA3B,CAAP,CAAyC,CAApG,CACAoiH,qBAAqB34H,SAArB,CAA+B6xD,mBAA/B,CAAqD,SAAUF,IAAV,CAAgBxyB,GAAhB,CAAqB,CACtE,GAAI26F,cAAenoE,KAAKzwD,KAAL,CAAaywD,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAb,CAAqD/0B,SAAxE,CACA+0B,IAAI05F,IAAJ,CAASjwH,GAAT,CAAa+oD,KAAKptD,IAAlB,CAAwBu1H,YAAxB,EACA,GAAInoE,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjDntC,IAAIrgC,OAAJ,CAAY0C,IAAZ,CAAiBmwD,KAAKptD,IAAtB,EACH,CACD,MAAO,KAAP,CACH,CAPD,CAQAo0H,qBAAqB34H,SAArB,CAA+BmuD,iBAA/B,CAAmD,SAAU/yB,IAAV,CAAgB+D,GAAhB,CAAqB,CACpE,GAAIj+B,OAAQk6B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAZ,CACA,GAAI46F,SAAU56F,GAAd,CACA,MAAO46F,SAAW,IAAlB,CAAwB,CACpB,GAAIA,QAAQlB,IAAR,CAAat7G,GAAb,CAAiB6d,KAAK72B,IAAtB,CAAJ,CAAiC,CAC7Bw1H,QAAQlB,IAAR,CAAajwH,GAAb,CAAiBwyB,KAAK72B,IAAtB,CAA4BrD,KAA5B,EACA,MAAOA,MAAP,CACH,CACD64H,QAAUA,QAAQnwF,MAAlB,CACH,CACD,KAAM,IAAI3nC,MAAJ,CAAU,yBAA2Bm5B,KAAK72B,IAA1C,CAAN,CACH,CAXD,CAYAo0H,qBAAqB34H,SAArB,CAA+BkuD,oBAA/B,CAAsD,SAAU33C,GAAV,CAAe4oB,GAAf,CAAoB,CACtE,KAAM,IAAIl9B,MAAJ,CAAU,qCAAV,CAAN,CACH,CAFD,CAGA02H,qBAAqB34H,SAArB,CAA+BguD,eAA/B,CAAiD,SAAUz3C,GAAV,CAAe4oB,GAAf,CAAoB,CACjE,KAAM,IAAIl9B,MAAJ,CAAU,+BAAV,CAAN,CACH,CAFD,CAGA02H,qBAAqB34H,SAArB,CAA+B6tD,gBAA/B,CAAkD,SAAUt3C,GAAV,CAAe4oB,GAAf,CAAoB,CAClE,GAAImlC,SAAU/tD,IAAIhS,IAAlB,CACA,GAAIgS,IAAIm3C,OAAJ,EAAe,IAAnB,CAAyB,CACrB,OAAQn3C,IAAIm3C,OAAZ,EACI,IAAK5uD,SAAQ0uD,UAAR,CAAmB2D,KAAxB,CACI,MAAOhyB,KAAI+5F,QAAJ,CAAaz5H,SAApB,CACJ,IAAKX,SAAQ0uD,UAAR,CAAmByD,IAAxB,CACI,MAAO9xB,KAAI+5F,QAAX,CACJ,IAAKp6H,SAAQ0uD,UAAR,CAAmB6D,UAAxB,CACIiT,QAAU01D,iBAAV,CACA,MACJ,IAAKl7H,SAAQ0uD,UAAR,CAAmB+D,UAAxB,CACI+S,QAAU21D,iBAAV,CACA,MACJ,QACI,KAAM,IAAIh4H,MAAJ,CAAU,4BAA8BsU,IAAIm3C,OAA5C,CAAN,CAZR,CAcH,CACD,GAAIqsE,SAAU56F,GAAd,CACA,MAAO46F,SAAW,IAAlB,CAAwB,CACpB,GAAIA,QAAQlB,IAAR,CAAat7G,GAAb,CAAiB+mD,OAAjB,CAAJ,CAA+B,CAC3B,MAAOy1D,SAAQlB,IAAR,CAAalwH,GAAb,CAAiB27D,OAAjB,CAAP,CACH,CACDy1D,QAAUA,QAAQnwF,MAAlB,CACH,CACD,KAAM,IAAI3nC,MAAJ,CAAU,yBAA2BqiE,OAArC,CAAN,CACH,CA1BD,CA2BAq0D,qBAAqB34H,SAArB,CAA+BuuD,iBAA/B,CAAmD,SAAUnzB,IAAV,CAAgB+D,GAAhB,CAAqB,CACpE,GAAI9K,UAAW+G,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAf,CACA,GAAInuB,OAAQoqB,KAAKpqB,KAAL,CAAW48C,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAZ,CACA,GAAIj+B,OAAQk6B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAZ,CACA9K,SAASrjB,KAAT,EAAkB9P,KAAlB,CACA,MAAOA,MAAP,CACH,CAND,CAOAy3H,qBAAqB34H,SAArB,CAA+ByuD,kBAA/B,CAAoD,SAAUrzB,IAAV,CAAgB+D,GAAhB,CAAqB,CACrE,GAAI9K,UAAW+G,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAf,CACA,GAAIj+B,OAAQk6B,KAAKl6B,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAZ,CACA9K,SAAS+G,KAAK72B,IAAd,EAAsBrD,KAAtB,CACA,MAAOA,MAAP,CACH,CALD,CAMAy3H,qBAAqB34H,SAArB,CAA+B4uD,qBAA/B,CAAuD,SAAUxzB,IAAV,CAAgB+D,GAAhB,CAAqB,CACxE,GAAI9K,UAAW+G,KAAK/G,QAAL,CAAcu5B,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAf,CACA,GAAInzB,MAAO,KAAK+nD,mBAAL,CAAyB34B,KAAKpvB,IAA9B,CAAoCmzB,GAApC,CAAX,CACA,GAAIx4B,OAAJ,CACA,GAAIy0B,KAAKsyB,OAAL,EAAgB,IAApB,CAA0B,CACtB,OAAQtyB,KAAKsyB,OAAb,EACI,IAAK5uD,SAAQ4vD,aAAR,CAAsBwlB,WAA3B,CACIvtE,OAAS0tB,SAAS1yB,MAAT,CAAgBhB,KAAhB,CAAsB0zB,QAAtB,CAAgC3yB,SAASsK,IAAT,CAAhC,CAAT,CACA,MACJ,IAAKlN,SAAQ4vD,aAAR,CAAsBylB,mBAA3B,CACIxtE,OAAS0tB,SAAS6lG,SAAT,CAAmB,CAAEj5H,KAAM+K,KAAK,CAAL,CAAR,CAAnB,CAAT,CACA,MACJ,IAAKlN,SAAQ4vD,aAAR,CAAsB0lB,IAA3B,CACIztE,OAAS0tB,SAAS2sE,IAAT,CAAcrgG,KAAd,CAAoB0zB,QAApB,CAA8B3yB,SAASsK,IAAT,CAA9B,CAAT,CACA,MACJ,QACI,KAAM,IAAI/J,MAAJ,CAAU,0BAA4Bm5B,KAAKsyB,OAA3C,CAAN,CAXR,CAaH,CAdD,IAeK,CACD/mD,OAAS0tB,SAAS+G,KAAK72B,IAAd,EAAoB5D,KAApB,CAA0B0zB,QAA1B,CAAoCroB,IAApC,CAAT,CACH,CACD,MAAOrF,OAAP,CACH,CAvBD,CAwBAgyH,qBAAqB34H,SAArB,CAA+B8uD,uBAA/B,CAAyD,SAAU6C,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC1E,GAAInzB,MAAO,KAAK+nD,mBAAL,CAAyBpC,KAAK3lD,IAA9B,CAAoCmzB,GAApC,CAAX,CACA,GAAIg7F,QAASxoE,KAAK9C,EAAlB,CACA,GAAIsrE,iBAAkB1sE,YAAlB,EAAiC0sE,OAAOzsE,OAAP,GAAmB5uD,QAAQ0uD,UAAR,CAAmB2D,KAA3E,CAAkF,CAC9EhyB,IAAI+5F,QAAJ,CAAan5H,WAAb,CAAyBC,SAAzB,CAAmCD,WAAnC,CAA+CY,KAA/C,CAAqDw+B,IAAI+5F,QAAzD,CAAmEltH,IAAnE,EACA,MAAO,KAAP,CACH,CAHD,IAIK,CACD,GAAIouH,OAAQzoE,KAAK9C,EAAL,CAAQjB,eAAR,CAAwB,IAAxB,CAA8BzuB,GAA9B,CAAZ,CACA,MAAOi7F,OAAMz5H,KAAN,CAAY,IAAZ,CAAkBqL,IAAlB,CAAP,CACH,CACJ,CAXD,CAYA2sH,qBAAqB34H,SAArB,CAA+BiyD,eAA/B,CAAiD,SAAUN,IAAV,CAAgBxyB,GAAhB,CAAqB,CAClE,MAAO,IAAIg6F,YAAJ,CAAgBxnE,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAhB,CAAP,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+B4yD,qBAA/B,CAAuD,SAAUjB,IAAV,CAAgBxyB,GAAhB,CAAqB,CACxE,GAAIm4B,OAAQ8hE,mBAAmBznE,IAAnB,CAAyBxyB,GAAzB,CAA8B,IAA9B,CAAZ,CACAA,IAAI05F,IAAJ,CAASjwH,GAAT,CAAa+oD,KAAKptD,IAAlB,CAAwB+yD,KAAxB,EACA,GAAI3F,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjDntC,IAAIrgC,OAAJ,CAAY0C,IAAZ,CAAiBmwD,KAAKptD,IAAtB,EACH,CACD,MAAO,KAAP,CACH,CAPD,CAQAo0H,qBAAqB34H,SAArB,CAA+B+xD,mBAA/B,CAAqD,SAAUJ,IAAV,CAAgBxyB,GAAhB,CAAqB,CACtE,MAAOwyB,MAAKv2B,IAAL,CAAUwyB,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,CAAP,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+B8yD,WAA/B,CAA6C,SAAUnB,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC9D,GAAIvU,WAAY+mC,KAAK/mC,SAAL,CAAegjC,eAAf,CAA+B,IAA/B,CAAqCzuB,GAArC,CAAhB,CACA,GAAIvU,SAAJ,CAAe,CACX,MAAO,MAAKopC,kBAAL,CAAwBrC,KAAK/G,QAA7B,CAAuCzrB,GAAvC,CAAP,CACH,CAFD,IAGK,IAAIwyB,KAAK9G,SAAL,EAAkB,IAAtB,CAA4B,CAC7B,MAAO,MAAKmJ,kBAAL,CAAwBrC,KAAK9G,SAA7B,CAAwC1rB,GAAxC,CAAP,CACH,CACD,MAAO,KAAP,CACH,CATD,CAUAw5F,qBAAqB34H,SAArB,CAA+ByzD,iBAA/B,CAAmD,SAAU9B,IAAV,CAAgBxyB,GAAhB,CAAqB,CACpE,GAAI,CACA,MAAO,MAAK60B,kBAAL,CAAwBrC,KAAK4B,SAA7B,CAAwCp0B,GAAxC,CAAP,CACH,CACD,MAAO59B,CAAP,CAAU,CACN,GAAIy3H,UAAW75F,IAAI85F,wBAAJ,EAAf,CACAD,SAASH,IAAT,CAAcjwH,GAAd,CAAkBoxH,iBAAlB,CAAqCz4H,CAArC,EACAy3H,SAASH,IAAT,CAAcjwH,GAAd,CAAkBqxH,iBAAlB,CAAqC14H,EAAE+oC,KAAvC,EACA,MAAO,MAAK0pB,kBAAL,CAAwBrC,KAAK6B,UAA7B,CAAyCwlE,QAAzC,CAAP,CACH,CACJ,CAVD,CAWAL,qBAAqB34H,SAArB,CAA+B2zD,cAA/B,CAAgD,SAAUhC,IAAV,CAAgBxyB,GAAhB,CAAqB,CACjE,KAAMwyB,MAAKlwD,KAAL,CAAWmsD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,CAAN,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+BizD,gBAA/B,CAAkD,SAAUtB,IAAV,CAAgB/iD,OAAhB,CAAyB,CAAE,MAAO,KAAP,CAAc,CAA3F,CACA+pH,qBAAqB34H,SAArB,CAA+BozD,qBAA/B,CAAuD,SAAUzB,IAAV,CAAgB/iD,OAAhB,CAAyB,CAAE,MAAO,KAAP,CAAc,CAAhG,CACA+pH,qBAAqB34H,SAArB,CAA+BgvD,oBAA/B,CAAsD,SAAUz4C,GAAV,CAAe4oB,GAAf,CAAoB,CACtE,GAAInzB,MAAO,KAAK+nD,mBAAL,CAAyBx9C,IAAIvK,IAA7B,CAAmCmzB,GAAnC,CAAX,CACA,GAAIm4B,OAAQ/gD,IAAIw4C,SAAJ,CAAcnB,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAZ,CACA,MAAO,KAAKm4B,MAAM0pC,IAAN,CAAWrgG,KAAX,CAAiB22D,KAAjB,CAAwB51D,SAAS,CAAC,IAAK,EAAN,CAAT,CAAmBsK,IAAnB,CAAxB,CAAL,GAAP,CACH,CAJD,CAKA2sH,qBAAqB34H,SAArB,CAA+BkvD,gBAA/B,CAAkD,SAAU34C,GAAV,CAAe4oB,GAAf,CAAoB,CAAE,MAAO5oB,KAAIrV,KAAX,CAAmB,CAA3F,CACAy3H,qBAAqB34H,SAArB,CAA+BqvD,iBAA/B,CAAmD,SAAU94C,GAAV,CAAe4oB,GAAf,CAAoB,CACnE,MAAO,MAAKyoB,SAAL,CAAeC,wBAAf,CAAwCtxC,IAAIrV,KAA5C,CAAP,CACH,CAFD,CAGAy3H,qBAAqB34H,SAArB,CAA+BuvD,oBAA/B,CAAsD,SAAUh5C,GAAV,CAAe4oB,GAAf,CAAoB,CACtE,GAAI5oB,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAJ,CAA8C,CAC1C,MAAO5oB,KAAIq0C,QAAJ,CAAagD,eAAb,CAA6B,IAA7B,CAAmCzuB,GAAnC,CAAP,CACH,CAFD,IAGK,IAAI5oB,IAAIs0C,SAAJ,EAAiB,IAArB,CAA2B,CAC5B,MAAOt0C,KAAIs0C,SAAJ,CAAc+C,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAP,CACH,CACD,MAAO,KAAP,CACH,CARD,CASAw5F,qBAAqB34H,SAArB,CAA+ByvD,YAA/B,CAA8C,SAAUl5C,GAAV,CAAe4oB,GAAf,CAAoB,CAC9D,MAAO,CAAC5oB,IAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAR,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+B2vD,sBAA/B,CAAwD,SAAUp5C,GAAV,CAAe4oB,GAAf,CAAoB,CACxE,MAAO5oB,KAAIqU,SAAJ,CAAcgjC,eAAd,CAA8B,IAA9B,CAAoCzuB,GAApC,CAAP,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+B4vD,aAA/B,CAA+C,SAAUr5C,GAAV,CAAe4oB,GAAf,CAAoB,CAC/D,MAAO5oB,KAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,CAAP,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+BiwD,iBAA/B,CAAmD,SAAU15C,GAAV,CAAe4oB,GAAf,CAAoB,CACnE,GAAIs6F,YAAaljH,IAAI8zC,MAAJ,CAAWthD,GAAX,CAAe,SAAU+mD,KAAV,CAAiB,CAAE,MAAOA,OAAMvrD,IAAb,CAAoB,CAAtD,CAAjB,CACA,MAAO81H,YAAWZ,UAAX,CAAuBljH,IAAIy5C,UAA3B,CAAuC7wB,GAAvC,CAA4C,IAA5C,CAAP,CACH,CAHD,CAIAw5F,qBAAqB34H,SAArB,CAA+B8xD,wBAA/B,CAA0D,SAAUH,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC3E,GAAIs6F,YAAa9nE,KAAKtH,MAAL,CAAYthD,GAAZ,CAAgB,SAAU+mD,KAAV,CAAiB,CAAE,MAAOA,OAAMvrD,IAAb,CAAoB,CAAvD,CAAjB,CACA46B,IAAI05F,IAAJ,CAASjwH,GAAT,CAAa+oD,KAAKptD,IAAlB,CAAwB81H,WAAWZ,UAAX,CAAuB9nE,KAAK3B,UAA5B,CAAwC7wB,GAAxC,CAA6C,IAA7C,CAAxB,EACA,GAAIwyB,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjDntC,IAAIrgC,OAAJ,CAAY0C,IAAZ,CAAiBmwD,KAAKptD,IAAtB,EACH,CACD,MAAO,KAAP,CACH,CAPD,CAQAo0H,qBAAqB34H,SAArB,CAA+BowD,uBAA/B,CAAyD,SAAU75C,GAAV,CAAe4oB,GAAf,CAAoB,CACzE,GAAIt7B,OAAQ,IAAZ,CACA,GAAIssD,KAAM,UAAY,CAAE,MAAO55C,KAAI45C,GAAJ,CAAQvC,eAAR,CAAwB/pD,KAAxB,CAA+Bs7B,GAA/B,CAAP,CAA6C,CAArE,CACA,GAAI6rB,KAAM,UAAY,CAAE,MAAOz0C,KAAIy0C,GAAJ,CAAQ4C,eAAR,CAAwB/pD,KAAxB,CAA+Bs7B,GAA/B,CAAP,CAA6C,CAArE,CACA,OAAQ5oB,IAAIykB,QAAZ,EACI,IAAKl8B,SAAQ8qD,cAAR,CAAuBsB,MAA5B,CACI,MAAOiF,QAASnF,KAAhB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuB0B,SAA5B,CACI,MAAO6E,SAAUnF,KAAjB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBwB,SAA5B,CACI,MAAO+E,QAASnF,KAAhB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuB4B,YAA5B,CACI,MAAO2E,SAAUnF,KAAjB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBwC,GAA5B,CACI,MAAO+D,QAASnF,KAAhB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuB6C,EAA5B,CACI,MAAO0D,QAASnF,KAAhB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBgC,IAA5B,CACI,MAAOuE,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuB8B,KAA5B,CACI,MAAOyE,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBkC,MAA5B,CACI,MAAOqE,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBoC,QAA5B,CACI,MAAOmE,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBsC,MAA5B,CACI,MAAOiE,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuB+C,KAA5B,CACI,MAAOwD,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBiD,WAA5B,CACI,MAAOsD,QAASnF,KAAhB,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBmD,MAA5B,CACI,MAAOoD,OAAQnF,KAAf,CACJ,IAAKlsD,SAAQ8qD,cAAR,CAAuBqD,YAA5B,CACI,MAAOkD,QAASnF,KAAhB,CACJ,QACI,KAAM,IAAI/oD,MAAJ,CAAU,oBAAsBsU,IAAIykB,QAApC,CAAN,CAhCR,CAkCH,CAtCD,CAuCA29F,qBAAqB34H,SAArB,CAA+BqwD,iBAA/B,CAAmD,SAAU95C,GAAV,CAAe4oB,GAAf,CAAoB,CACnE,GAAIx4B,OAAJ,CACA,GAAI0tB,UAAW9d,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCzuB,GAAnC,CAAf,CACAx4B,OAAS0tB,SAAS9d,IAAIhS,IAAb,CAAT,CACA,MAAOoC,OAAP,CACH,CALD,CAMAgyH,qBAAqB34H,SAArB,CAA+BswD,gBAA/B,CAAkD,SAAU/5C,GAAV,CAAe4oB,GAAf,CAAoB,CAClE,GAAI9K,UAAW9d,IAAI8d,QAAJ,CAAau5B,eAAb,CAA6B,IAA7B,CAAmCzuB,GAAnC,CAAf,CACA,GAAIhsB,MAAOoD,IAAIvF,KAAJ,CAAU48C,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,CAAX,CACA,MAAO9K,UAASlhB,IAAT,CAAP,CACH,CAJD,CAKAwlH,qBAAqB34H,SAArB,CAA+B0wD,qBAA/B,CAAuD,SAAUn6C,GAAV,CAAe4oB,GAAf,CAAoB,CACvE,MAAO,MAAK40B,mBAAL,CAAyBx9C,IAAIi6C,OAA7B,CAAsCrxB,GAAtC,CAAP,CACH,CAFD,CAGAw5F,qBAAqB34H,SAArB,CAA+B6wD,mBAA/B,CAAqD,SAAUt6C,GAAV,CAAe4oB,GAAf,CAAoB,CACrE,GAAIt7B,OAAQ,IAAZ,CACA,GAAI8C,QAAS,EAAb,CACA4P,IAAIi6C,OAAJ,CAAYzsD,OAAZ,CAAoB,SAAUi3C,KAAV,CAAiB,CAAE,MAAOr0C,QAAOq0C,MAAMvrC,GAAb,EAAoBurC,MAAM95C,KAAN,CAAY0sD,eAAZ,CAA4B/pD,KAA5B,CAAmCs7B,GAAnC,CAA3B,CAAqE,CAA5G,EACA,MAAOx4B,OAAP,CACH,CALD,CAMAgyH,qBAAqB34H,SAArB,CAA+B+wD,cAA/B,CAAgD,SAAUx6C,GAAV,CAAe3H,OAAf,CAAwB,CACpE,GAAI3B,QAAS,KAAK8mD,mBAAL,CAAyBx9C,IAAIgF,KAA7B,CAAoC3M,OAApC,CAAb,CACA,MAAO3B,QAAOA,OAAOxM,MAAP,CAAgB,CAAvB,CAAP,CACH,CAHD,CAIAk4H,qBAAqB34H,SAArB,CAA+B+zD,mBAA/B,CAAqD,SAAUjgC,WAAV,CAAuBqL,GAAvB,CAA4B,CAC7E,GAAIt7B,OAAQ,IAAZ,CACA,MAAOiwB,aAAY/qB,GAAZ,CAAgB,SAAUqyB,IAAV,CAAgB,CAAE,MAAOA,MAAKwyB,eAAL,CAAqB/pD,KAArB,CAA4Bs7B,GAA5B,CAAP,CAA0C,CAA5E,CAAP,CACH,CAHD,CAIAw5F,qBAAqB34H,SAArB,CAA+Bg0D,kBAA/B,CAAoD,SAAUhE,UAAV,CAAsB7wB,GAAtB,CAA2B,CAC3E,IAAK,GAAI7+B,GAAI,CAAb,CAAgBA,EAAI0vD,WAAWvvD,MAA/B,CAAuCH,GAAvC,CAA4C,CACxC,GAAIqxD,MAAO3B,WAAW1vD,CAAX,CAAX,CACA,GAAI8O,KAAMuiD,KAAKC,cAAL,CAAoB,IAApB,CAA0BzyB,GAA1B,CAAV,CACA,GAAI/vB,cAAe+pH,YAAnB,CAAgC,CAC5B,MAAO/pH,IAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CATD,CAUA,MAAOupH,qBAAP,CACH,CAxQyC,EAA1C,CAyQA,QAAS0B,WAAT,CAAoB7lE,QAApB,CAA8BxE,UAA9B,CAA0C7wB,GAA1C,CAA+CxwB,OAA/C,CAAwD,CACpD,MAAO,WAAY,CACf,GAAI3C,MAAO,EAAX,CACA,IAAK,GAAIgB,IAAK,CAAd,CAAiBA,GAAKxM,UAAUC,MAAhC,CAAwCuM,IAAxC,CAA8C,CAC1ChB,KAAKgB,EAAL,EAAWxM,UAAUwM,EAAV,CAAX,CACH,CACD,MAAO8rH,4BAA2BtkE,QAA3B,CAAqCxoD,IAArC,CAA2CgkD,UAA3C,CAAuD7wB,GAAvD,CAA4DxwB,OAA5D,CAAP,CACH,CAND,CAOH,CACD,GAAIqrH,mBAAoB,OAAxB,CACA,GAAIC,mBAAoB,OAAxB,CAEA;;;;;;OAOA,GAAIK,0BAA2B,aAAe,SAAU7jH,MAAV,CAAkB,CAC5D5W,UAAUy6H,wBAAV,CAAoC7jH,MAApC,EACA,QAAS6jH,yBAAT,EAAoC,CAChC,MAAO7jH,QAAO/V,IAAP,CAAY,IAAZ,CAAkB,KAAlB,GAA4B,IAAnC,CACH,CACD45H,yBAAyBt6H,SAAzB,CAAmC4yD,qBAAnC,CAA2D,SAAUjB,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC5E,GAAIt7B,OAAQ,IAAZ,CACAs7B,IAAI+wC,SAAJ,CAAcve,IAAd,EACA,KAAKiiB,sBAAL,CAA4BjiB,IAA5B,CAAkCxyB,GAAlC,EACA,GAAIwyB,KAAK/nB,MAAL,EAAe,IAAnB,CAAyB,CACrBzK,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgBA,KAAKptD,IAAL,CAAY,6BAA5B,EACAotD,KAAK/nB,MAAL,CAAYgkB,eAAZ,CAA4B,IAA5B,CAAkCzuB,GAAlC,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,cAAlB,EACH,CACDA,KAAKc,OAAL,CAAa1uD,OAAb,CAAqB,SAAUmwD,MAAV,CAAkB,CAAE,MAAOrwD,OAAMgwE,iBAAN,CAAwBliB,IAAxB,CAA8BuC,MAA9B,CAAsC/0B,GAAtC,CAAP,CAAoD,CAA7F,EACAwyB,KAAKgB,OAAL,CAAa5uD,OAAb,CAAqB,SAAU4qD,MAAV,CAAkB,CAAE,MAAO9qD,OAAMiwE,iBAAN,CAAwBniB,IAAxB,CAA8BhD,MAA9B,CAAsCxvB,GAAtC,CAAP,CAAoD,CAA7F,EACAA,IAAIgxC,QAAJ,GACA,MAAO,KAAP,CACH,CAbD,CAcAmqD,yBAAyBt6H,SAAzB,CAAmC4zE,sBAAnC,CAA4D,SAAUjiB,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC7EA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,YAAcA,KAAKptD,IAAnB,CAA0B,GAA1C,EACA,GAAIotD,KAAKe,iBAAL,EAA0B,IAA9B,CAAoC,CAChC,KAAKshB,YAAL,CAAkBriB,KAAKe,iBAAL,CAAuBrI,MAAzC,CAAiDlrB,GAAjD,EACH,CACDA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,KAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,GAAIre,KAAKe,iBAAL,EAA0B,IAA9B,CAAoC,CAChC,GAAIf,KAAKe,iBAAL,CAAuBjW,IAAvB,CAA4Bh8C,MAA5B,CAAqC,CAAzC,CAA4C,CACxC0+B,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,kBAAlB,EACA,KAAKqC,kBAAL,CAAwBrC,KAAKe,iBAAL,CAAuBjW,IAA/C,CAAqDtd,GAArD,EACH,CACJ,CACDA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACH,CAfD,CAgBA2oE,yBAAyBt6H,SAAzB,CAAmC6zE,iBAAnC,CAAuD,SAAUliB,IAAV,CAAgBuC,MAAhB,CAAwB/0B,GAAxB,CAA6B,CAChFA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,yBAA2BA,KAAKptD,IAAhC,CAAuC,eAAvC,CAAyD2vD,OAAO3vD,IAAhE,CAAuE,wBAAzF,EACA46B,IAAI6wC,SAAJ,GACA,GAAI9b,OAAOzX,IAAP,CAAYh8C,MAAZ,CAAqB,CAAzB,CAA4B,CACxB0+B,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,kBAAlB,EACA,KAAKqC,kBAAL,CAAwBE,OAAOzX,IAA/B,CAAqCtd,GAArC,EACH,CACDA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,MAAlB,EACH,CATD,CAUA2oE,yBAAyBt6H,SAAzB,CAAmC8zE,iBAAnC,CAAuD,SAAUniB,IAAV,CAAgBhD,MAAhB,CAAwBxvB,GAAxB,CAA6B,CAChFA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgBA,KAAKptD,IAAL,CAAY,aAAZ,CAA4BoqD,OAAOpqD,IAAnC,CAA0C,cAA1D,EACA,KAAKyvE,YAAL,CAAkBrlB,OAAOtE,MAAzB,CAAiClrB,GAAjC,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,KAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,GAAIrhB,OAAOlS,IAAP,CAAYh8C,MAAZ,CAAqB,CAAzB,CAA4B,CACxB0+B,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,kBAAlB,EACA,KAAKqC,kBAAL,CAAwBrF,OAAOlS,IAA/B,CAAqCtd,GAArC,EACH,CACDA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,IAAlB,EACH,CAXD,CAYA2oE,yBAAyBt6H,SAAzB,CAAmCkuD,oBAAnC,CAA0D,SAAU33C,GAAV,CAAe4oB,GAAf,CAAoB,CAC1E,KAAM,IAAIl9B,MAAJ,CAAU,8CAAV,CAAN,CACH,CAFD,CAGAq4H,yBAAyBt6H,SAAzB,CAAmC6tD,gBAAnC,CAAsD,SAAUt3C,GAAV,CAAe4oB,GAAf,CAAoB,CACtE,GAAI5oB,IAAIm3C,OAAJ,GAAgB5uD,QAAQ0uD,UAAR,CAAmByD,IAAvC,CAA6C,CACzC9xB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,MAAf,EACH,CAFD,IAGK,IAAIA,IAAIm3C,OAAJ,GAAgB5uD,QAAQ0uD,UAAR,CAAmB2D,KAAvC,CAA8C,CAC/C,KAAM,IAAIlvD,MAAJ,CAAU,8EAAV,CAAN,CACH,CAFI,IAGA,CACDwU,OAAOzW,SAAP,CAAiB6tD,gBAAjB,CAAkCntD,IAAlC,CAAuC,IAAvC,CAA6C6V,GAA7C,CAAkD4oB,GAAlD,EACH,CACD,MAAO,KAAP,CACH,CAXD,CAYAm7F,yBAAyBt6H,SAAzB,CAAmC6xD,mBAAnC,CAAyD,SAAUF,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC1EA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,OAASA,KAAKptD,IAA9B,EACA,GAAIotD,KAAKzwD,KAAT,CAAgB,CACZi+B,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,KAAhB,EACAA,KAAKzwD,KAAL,CAAW0sD,eAAX,CAA2B,IAA3B,CAAiCzuB,GAAjC,EACH,CACDA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CARD,CASA2oE,yBAAyBt6H,SAAzB,CAAmC4vD,aAAnC,CAAmD,SAAUr5C,GAAV,CAAe4oB,GAAf,CAAoB,CACnE5oB,IAAIrV,KAAJ,CAAU0sD,eAAV,CAA0B,IAA1B,CAAgCzuB,GAAhC,EACA,MAAO,KAAP,CACH,CAHD,CAIAm7F,yBAAyBt6H,SAAzB,CAAmC8uD,uBAAnC,CAA6D,SAAU1zB,IAAV,CAAgB+D,GAAhB,CAAqB,CAC9E,GAAIg7F,QAAS/+F,KAAKyzB,EAAlB,CACA,GAAIsrE,iBAAkB1sE,YAAlB,EAAiC0sE,OAAOzsE,OAAP,GAAmB5uD,QAAQ0uD,UAAR,CAAmB2D,KAA3E,CAAkF,CAC9EhyB,IAAIo7F,YAAJ,CAAiB3wF,MAAjB,CAAwBgkB,eAAxB,CAAwC,IAAxC,CAA8CzuB,GAA9C,EACAA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,YAAhB,EACA,GAAIA,KAAKpvB,IAAL,CAAUvL,MAAV,CAAmB,CAAvB,CAA0B,CACtB0+B,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,IAAhB,EACA,KAAK24B,mBAAL,CAAyB34B,KAAKpvB,IAA9B,CAAoCmzB,GAApC,CAAyC,GAAzC,EACH,CACDA,IAAIuwC,KAAJ,CAAUt0C,IAAV,CAAgB,GAAhB,EACH,CARD,IASK,CACD3kB,OAAOzW,SAAP,CAAiB8uD,uBAAjB,CAAyCpuD,IAAzC,CAA8C,IAA9C,CAAoD06B,IAApD,CAA0D+D,GAA1D,EACH,CACD,MAAO,KAAP,CACH,CAfD,CAgBAm7F,yBAAyBt6H,SAAzB,CAAmCiwD,iBAAnC,CAAuD,SAAU15C,GAAV,CAAe4oB,GAAf,CAAoB,CACvEA,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,YAAcA,IAAIhS,IAAJ,CAAW,IAAMgS,IAAIhS,IAArB,CAA4B,EAA1C,EAAgD,GAA/D,EACA,KAAKyvE,YAAL,CAAkBz9D,IAAI8zC,MAAtB,CAA8BlrB,GAA9B,EACAA,IAAIqwC,OAAJ,CAAYj5D,GAAZ,CAAiB,KAAjB,EACA4oB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBz9C,IAAIy5C,UAA5B,CAAwC7wB,GAAxC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,GAAf,EACA,MAAO,KAAP,CACH,CATD,CAUA+jH,yBAAyBt6H,SAAzB,CAAmC8xD,wBAAnC,CAA8D,SAAUH,IAAV,CAAgBxyB,GAAhB,CAAqB,CAC/EA,IAAIuwC,KAAJ,CAAU/d,IAAV,CAAgB,YAAcA,KAAKptD,IAAnB,CAA0B,GAA1C,EACA,KAAKyvE,YAAL,CAAkBriB,KAAKtH,MAAvB,CAA+BlrB,GAA/B,EACAA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,KAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAK3B,UAA7B,CAAyC7wB,GAAzC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CATD,CAUA2oE,yBAAyBt6H,SAAzB,CAAmCyzD,iBAAnC,CAAuD,SAAU9B,IAAV,CAAgBxyB,GAAhB,CAAqB,CACxEA,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,OAAlB,EACAxyB,IAAI6wC,SAAJ,GACA,KAAKhc,kBAAL,CAAwBrC,KAAK4B,SAA7B,CAAwCp0B,GAAxC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,YAAcid,kBAAkBrqE,IAAhC,CAAuC,KAAzD,EACA46B,IAAI6wC,SAAJ,GACA,GAAIxc,YAAa,CAACqb,kBAAkBjmE,GAAlB,CAAsBgmE,kBAAkBz7D,IAAlB,CAAuB,OAAvB,CAAtB,EAAuDi7C,UAAvD,CAAkE,IAAlE,CAAwE,CAClFtvD,QAAQ2yD,YAAR,CAAqB4a,KAD6D,CAAxE,CAAD,EAET1qE,MAFS,CAEFgwD,KAAK6B,UAFH,CAAjB,CAGA,KAAKQ,kBAAL,CAAwBR,UAAxB,CAAoCr0B,GAApC,EACAA,IAAI8wC,SAAJ,GACA9wC,IAAIqwC,OAAJ,CAAY7d,IAAZ,CAAkB,GAAlB,EACA,MAAO,KAAP,CACH,CAdD,CAeA2oE,yBAAyBt6H,SAAzB,CAAmCg0E,YAAnC,CAAkD,SAAU3pB,MAAV,CAAkBlrB,GAAlB,CAAuB,CACrE,KAAK0yC,eAAL,CAAqB,SAAU/hB,KAAV,CAAiB,CAAE,MAAO3wB,KAAIuwC,KAAJ,CAAU,IAAV,CAAgB5f,MAAMvrD,IAAtB,CAAP,CAAqC,CAA7E,CAA+E8lD,MAA/E,CAAuFlrB,GAAvF,CAA4F,GAA5F,EACH,CAFD,CAGAm7F,yBAAyBt6H,SAAzB,CAAmC0xE,oBAAnC,CAA0D,SAAU/iB,MAAV,CAAkB,CACxE,GAAIpqD,KAAJ,CACA,OAAQoqD,MAAR,EACI,IAAK7vD,SAAQ4vD,aAAR,CAAsBwlB,WAA3B,CACI3vE,KAAO,QAAP,CACA,MACJ,IAAKzF,SAAQ4vD,aAAR,CAAsBylB,mBAA3B,CACI5vE,KAAO,WAAP,CACA,MACJ,IAAKzF,SAAQ4vD,aAAR,CAAsB0lB,IAA3B,CACI7vE,KAAO,MAAP,CACA,MACJ,QACI,KAAM,IAAItC,MAAJ,CAAU,2BAA6B0sD,MAAvC,CAAN,CAXR,CAaA,MAAOpqD,KAAP,CACH,CAhBD,CAiBA,MAAO+1H,yBAAP,CACH,CA7J6C,CA6J5ChpD,sBA7J4C,CAA9C,CA+JA;;;;;;OAOA,QAASkpD,eAAT,CAAwBrtD,SAAxB,CAAmChuC,GAAnC,CAAwC05F,IAAxC,CAA8C4B,eAA9C,CAA+D,CAC3D,GAAIC,QAASv7F,IAAIixC,QAAJ,GAAiB,kBAAjB,CAAsCjD,SAAnD,CACA,GAAIwtD,YAAa,EAAjB,CACA,GAAIC,aAAc,EAAlB,CACA,IAAK,GAAIC,QAAT,GAAoBhC,KAApB,CAA0B,CACtB8B,WAAWn5H,IAAX,CAAgBq5H,OAAhB,EACAD,YAAYp5H,IAAZ,CAAiBq3H,KAAKgC,OAAL,CAAjB,EACH,CACD,GAAIJ,eAAJ,CAAqB,CACjB;AACA;AACA;AACA;AACA;AACA,GAAIK,SAAU,IAAKluH,SAASo0F,IAAT,CAAcrgG,KAAd,CAAoBiM,QAApB,CAA8BlL,SAAS,CAAC,IAAK,EAAN,CAAT,CAAmBi5H,WAAWh5H,MAAX,CAAkB,cAAlB,CAAnB,CAA9B,CAAL,IAA6FiF,QAA7F,EAAd,CACA,GAAIm0H,aAAcD,QAAQ54H,KAAR,CAAc,CAAd,CAAiB44H,QAAQ94H,OAAR,CAAgB,cAAhB,CAAjB,EAAkD+P,KAAlD,CAAwD,IAAxD,EAA8DtR,MAA9D,CAAuE,CAAzF,CACAi6H,QAAU,KAAOv7F,IAAIoxC,oBAAJ,CAAyBpD,SAAzB,CAAoC4tD,WAApC,EAAiD/sD,WAAjD,EAAjB,CACH,CACD,MAAO,KAAKphE,SAASo0F,IAAT,CAAcrgG,KAAd,CAAoBiM,QAApB,CAA8BlL,SAAS,CAAC,IAAK,EAAN,CAAT,CAAmBi5H,WAAWh5H,MAAX,CAAkB+4H,MAAlB,CAAnB,CAA9B,CAAL,IAAqF/5H,KAArF,CAA2F,IAAK,EAAhG,CAAmGe,SAASk5H,WAAT,CAAnG,CAAP,CACH,CACD,QAASI,cAAT,CAAuB7tD,SAAvB,CAAkCnd,UAAlC,CAA8CpI,SAA9C,CAAyDqzE,gBAAzD,CAA2E,CACvE,GAAI99E,WAAY,GAAI+9E,kBAAJ,CAAsBtzE,SAAtB,CAAhB,CACA,GAAIzoB,KAAM+vC,sBAAsBK,UAAtB,EAAV,CACApyB,UAAU6W,kBAAV,CAA6BhE,UAA7B,CAAyC7wB,GAAzC,EACAge,UAAUg+E,gBAAV,CAA2Bh8F,GAA3B,EACA,MAAOq7F,gBAAertD,SAAf,CAA0BhuC,GAA1B,CAA+Bge,UAAUi+E,OAAV,EAA/B,CAAoDH,gBAApD,CAAP,CACH,CACD,GAAIC,mBAAoB,aAAe,SAAUzkH,MAAV,CAAkB,CACrD5W,UAAUq7H,iBAAV,CAA6BzkH,MAA7B,EACA,QAASykH,kBAAT,CAA2BtzE,SAA3B,CAAsC,CAClC,GAAI/jD,OAAQ4S,OAAO/V,IAAP,CAAY,IAAZ,GAAqB,IAAjC,CACAmD,MAAM+jD,SAAN,CAAkBA,SAAlB,CACA/jD,MAAMw3H,aAAN,CAAsB,EAAtB,CACAx3H,MAAMy3H,cAAN,CAAuB,EAAvB,CACAz3H,MAAM03H,iBAAN,CAA0B,EAA1B,CACA,MAAO13H,MAAP,CACH,CACDq3H,kBAAkBl7H,SAAlB,CAA4Bm7H,gBAA5B,CAA+C,SAAUh8F,GAAV,CAAe,CAC1D,GAAIwyB,MAAO,GAAIK,gBAAJ,CAAoB,GAAIpB,eAAJ,CAAmB,KAAK2qE,iBAAL,CAAuBxyH,GAAvB,CAA2B,SAAUyyH,SAAV,CAAqB,CAAE,MAAO,IAAI7qE,gBAAJ,CAAoB6qE,SAApB,CAA+BtmE,SAASsmE,SAAT,CAA/B,CAAoD,KAApD,CAAP,CAAoE,CAAtH,CAAnB,CAApB,CAAX,CACA7pE,KAAKC,cAAL,CAAoB,IAApB,CAA0BzyB,GAA1B,EACH,CAHD,CAIA+7F,kBAAkBl7H,SAAlB,CAA4Bo7H,OAA5B,CAAsC,UAAY,CAC9C,GAAIz0H,QAAS,EAAb,CACA,IAAK,GAAIrG,GAAI,CAAb,CAAgBA,EAAI,KAAK+6H,aAAL,CAAmB56H,MAAvC,CAA+CH,GAA/C,CAAoD,CAChDqG,OAAO,KAAK00H,aAAL,CAAmB/6H,CAAnB,CAAP,EAAgC,KAAKg7H,cAAL,CAAoBh7H,CAApB,CAAhC,CACH,CACD,MAAOqG,OAAP,CACH,CAND,CAOAu0H,kBAAkBl7H,SAAlB,CAA4BqvD,iBAA5B,CAAgD,SAAU94C,GAAV,CAAe4oB,GAAf,CAAoB,CAChE,KAAKs8F,wBAAL,CAA8BllH,GAA9B,CAAmC,KAAKqxC,SAAL,CAAeC,wBAAf,CAAwCtxC,IAAIrV,KAA5C,CAAnC,CAAuFi+B,GAAvF,EACA,MAAO,KAAP,CACH,CAHD,CAIA+7F,kBAAkBl7H,SAAlB,CAA4BkuD,oBAA5B,CAAmD,SAAU33C,GAAV,CAAe4oB,GAAf,CAAoB,CACnE,KAAKs8F,wBAAL,CAA8BllH,GAA9B,CAAmCA,IAAI0J,IAAvC,CAA6Ckf,GAA7C,EACA,MAAO,KAAP,CACH,CAHD,CAIA+7F,kBAAkBl7H,SAAlB,CAA4B6xD,mBAA5B,CAAkD,SAAUF,IAAV,CAAgBxyB,GAAhB,CAAqB,CACnE,GAAIwyB,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjD,KAAKivD,iBAAL,CAAuB/5H,IAAvB,CAA4BmwD,KAAKptD,IAAjC,EACH,CACD,MAAOkS,QAAOzW,SAAP,CAAiB6xD,mBAAjB,CAAqCnxD,IAArC,CAA0C,IAA1C,CAAgDixD,IAAhD,CAAsDxyB,GAAtD,CAAP,CACH,CALD,CAMA+7F,kBAAkBl7H,SAAlB,CAA4B8xD,wBAA5B,CAAuD,SAAUH,IAAV,CAAgBxyB,GAAhB,CAAqB,CACxE,GAAIwyB,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjD,KAAKivD,iBAAL,CAAuB/5H,IAAvB,CAA4BmwD,KAAKptD,IAAjC,EACH,CACD,MAAOkS,QAAOzW,SAAP,CAAiB8xD,wBAAjB,CAA0CpxD,IAA1C,CAA+C,IAA/C,CAAqDixD,IAArD,CAA2DxyB,GAA3D,CAAP,CACH,CALD,CAMA+7F,kBAAkBl7H,SAAlB,CAA4B4yD,qBAA5B,CAAoD,SAAUjB,IAAV,CAAgBxyB,GAAhB,CAAqB,CACrE,GAAIwyB,KAAK1J,WAAL,CAAiBnpD,QAAQ2yD,YAAR,CAAqB6a,QAAtC,CAAJ,CAAqD,CACjD,KAAKivD,iBAAL,CAAuB/5H,IAAvB,CAA4BmwD,KAAKptD,IAAjC,EACH,CACD,MAAOkS,QAAOzW,SAAP,CAAiB4yD,qBAAjB,CAAuClyD,IAAvC,CAA4C,IAA5C,CAAkDixD,IAAlD,CAAwDxyB,GAAxD,CAAP,CACH,CALD,CAMA+7F,kBAAkBl7H,SAAlB,CAA4By7H,wBAA5B,CAAuD,SAAUllH,GAAV,CAAerV,KAAf,CAAsBi+B,GAAtB,CAA2B,CAC9E,GAAI3iB,IAAK,KAAK8+G,cAAL,CAAoBt5H,OAApB,CAA4Bd,KAA5B,CAAT,CACA,GAAIsb,KAAO,CAAC,CAAZ,CAAe,CACXA,GAAK,KAAK8+G,cAAL,CAAoB76H,MAAzB,CACA,KAAK66H,cAAL,CAAoB95H,IAApB,CAAyBN,KAAzB,EACA,GAAI4F,QAASuR,eAAe,CAAEE,UAAWrX,KAAb,CAAf,GAAwC,KAArD,CACA,KAAKm6H,aAAL,CAAmB75H,IAAnB,CAAwB,OAASsF,MAAT,CAAkB,GAAlB,CAAwB0V,EAAhD,EACH,CACD2iB,IAAIuwC,KAAJ,CAAUn5D,GAAV,CAAe,KAAK8kH,aAAL,CAAmB7+G,EAAnB,CAAf,EACH,CATD,CAUA,MAAO0+G,kBAAP,CACH,CA1DsC,CA0DrCZ,wBA1DqC,CAAvC,CA4DA;;;;;;OAOA;;;;;;;;OASA,GAAIoB,aAAc,aAAe,UAAY,CACzC,QAASA,YAAT,CAAqBpX,iBAArB,CAAwCC,eAAxC,CAAyDC,cAAzD,CAAyEC,aAAzE,CAAwFE,iBAAxF,CAA2GjqD,gBAA3G,CAA6HnyC,UAA7H,CAAyIozG,eAAzI,CAA0J93E,QAA1J,CAAoK+3E,yBAApK,CAA+L,CAC3L,KAAKtX,iBAAL,CAAyBA,iBAAzB,CACA,KAAKC,eAAL,CAAuBA,eAAvB,CACA,KAAKC,cAAL,CAAsBA,cAAtB,CACA,KAAKC,aAAL,CAAqBA,aAArB,CACA,KAAKE,iBAAL,CAAyBA,iBAAzB,CACA,KAAKjqD,gBAAL,CAAwBA,gBAAxB,CACA,KAAKnyC,UAAL,CAAkBA,UAAlB,CACA,KAAKozG,eAAL,CAAuBA,eAAvB,CACA,KAAK93E,QAAL,CAAgBA,QAAhB,CACA,KAAK+3E,yBAAL,CAAiCA,yBAAjC,CACA,KAAKC,sBAAL,CAA8B,GAAI30H,IAAJ,EAA9B,CACA,KAAK40H,0BAAL,CAAkC,GAAI50H,IAAJ,EAAlC,CACA,KAAK60H,8BAAL,CAAsC,GAAI70H,IAAJ,EAAtC,CACA,KAAK80H,sBAAL,CAA8B,GAAI90H,IAAJ,EAA9B,CACA,KAAK+0H,sBAAL,CAA8B,CAA9B,CACA,KAAKC,kBAAL,CAA0B,GAAIr/G,IAAJ,EAA1B,CACH,CACD6+G,YAAY17H,SAAZ,CAAsBm8H,iBAAtB,CAA0C,SAAU19D,UAAV,CAAsB,CAC5D,MAAO/uD,WAAUC,UAAV,CAAqB,KAAKysH,2BAAL,CAAiC39D,UAAjC,CAA6C,IAA7C,CAArB,CAAP,CACH,CAFD,CAGAi9D,YAAY17H,SAAZ,CAAsBq8H,kBAAtB,CAA2C,SAAU59D,UAAV,CAAsB,CAC7D,MAAOvuD,SAAQuT,OAAR,CAAgB,KAAK24G,2BAAL,CAAiC39D,UAAjC,CAA6C,KAA7C,CAAhB,CAAP,CACH,CAFD,CAGAi9D,YAAY17H,SAAZ,CAAsBs8H,iCAAtB,CAA0D,SAAU79D,UAAV,CAAsB,CAC5E,MAAO/uD,WAAUC,UAAV,CAAqB,KAAK4sH,8BAAL,CAAoC99D,UAApC,CAAgD,IAAhD,CAArB,CAAP,CACH,CAFD,CAGAi9D,YAAY17H,SAAZ,CAAsBw8H,kCAAtB,CAA2D,SAAU/9D,UAAV,CAAsB,CAC7E,MAAOvuD,SAAQuT,OAAR,CAAgB,KAAK84G,8BAAL,CAAoC99D,UAApC,CAAgD,KAAhD,CAAhB,CAAP,CACH,CAFD,CAGAi9D,YAAY17H,SAAZ,CAAsBo8D,mBAAtB,CAA4C,SAAU8I,SAAV,CAAqB,CAC7D,GAAIzI,SAAU,KAAK6nD,iBAAL,CAAuBlmD,mBAAvB,CAA2C8G,SAA3C,CAAd,CACA,MAAOzI,SAAQvhD,gBAAf,CACH,CAHD,CAIAwgH,YAAY17H,SAAZ,CAAsBy8H,gBAAtB,CAAyC,SAAUha,SAAV,CAAqB,CAC1D,KAAK/8F,UAAL,GACA,KAAKg3G,gBAAL,CAAsBja,SAAtB,EACH,CAHD,CAIAiZ,YAAY17H,SAAZ,CAAsB08H,gBAAtB,CAAyC,SAAUtC,KAAV,CAAiB,CACtD,GAAI,KAAK8B,kBAAL,CAAwB3+G,GAAxB,CAA4B68G,KAA5B,CAAJ,CAAwC,CACpC,OACH,CACD,KAAK8B,kBAAL,CAAwB1+G,GAAxB,CAA4B48G,KAA5B,EACA,GAAI3X,WAAY2X,OAAhB,CACA,IAAK,GAAI95H,GAAI,CAAb,CAAgBA,EAAImiH,UAAUhiH,MAA9B,CAAsCH,GAAtC,CAA2C,CACvC,GAAI06C,OAAQynE,UAAUniH,CAAV,CAAZ,CACA,GAAI,MAAO06C,MAAP,GAAiB,UAArB,CAAiC,CAC7B,KAAK0hF,gBAAL,CAAsB1hF,KAAtB,EACH,CAFD,IAGK,CACD,GAAIyhB,SAAUzhB,KAAd,CACA,KAAK0f,gBAAL,CAAsBgmD,UAAtB,CAAiC,CAAEnpD,OAAQkF,QAAQ9qD,IAAR,CAAa4G,SAAvB,CAAkCsQ,SAAU,IAA5C,CAAkDlX,KAAM8qD,OAAxD,CAAjC,EACH,CACJ,CACJ,CAhBD,CAiBAi/D,YAAY17H,SAAZ,CAAsB28H,aAAtB,CAAsC,SAAUnkH,GAAV,CAAe,CAAE,MAAO,CAAC,CAAC,KAAKkiD,gBAAL,CAAsBgC,cAAtB,CAAqClkD,GAArC,CAAT,CAAqD,CAA5G,CACAkjH,YAAY17H,SAAZ,CAAsB48H,qBAAtB,CAA8C,SAAUC,GAAV,CAAe,CACzD,GAAIh5H,OAAQ,IAAZ,CACA,MAAOg5H,KAAI9zH,GAAJ,CAAQ,SAAUg4D,GAAV,CAAe,CAAE,MAAOA,KAAIxoD,SAAX,CAAuB,CAAhD,EAAkDoP,MAAlD,CAAyD,SAAUnP,GAAV,CAAe,CAAE,MAAO,CAAC3U,MAAM84H,aAAN,CAAoBnkH,GAApB,CAAR,CAAmC,CAA7G,CAAP,CACH,CAHD,CAIAkjH,YAAY17H,SAAZ,CAAsBo8H,2BAAtB,CAAoD,SAAU39D,UAAV,CAAsBzB,MAAtB,CAA8B,CAC9E,GAAIn5D,OAAQ,IAAZ,CACA,MAAO6L,WAAUG,IAAV,CAAe,KAAKitH,YAAL,CAAkBr+D,UAAlB,CAA8BzB,MAA9B,CAAf,CAAsD,UAAY,CACrEn5D,MAAMk5H,kBAAN,CAAyBt+D,UAAzB,CAAqC,IAArC,EACA,MAAO56D,OAAMmmH,cAAN,CAAqBvrD,UAArB,CAAP,CACH,CAHM,CAAP,CAIH,CAND,CAOAi9D,YAAY17H,SAAZ,CAAsBu8H,8BAAtB,CAAuD,SAAU99D,UAAV,CAAsBzB,MAAtB,CAA8B,CACjF,GAAIn5D,OAAQ,IAAZ,CACA,MAAO6L,WAAUG,IAAV,CAAe,KAAKitH,YAAL,CAAkBr+D,UAAlB,CAA8BzB,MAA9B,CAAf,CAAsD,UAAY,CACrE,GAAIggE,oBAAqB,EAAzB,CACAn5H,MAAMk5H,kBAAN,CAAyBt+D,UAAzB,CAAqCu+D,kBAArC,EACA,MAAO,CACHC,gBAAiBp5H,MAAMmmH,cAAN,CAAqBvrD,UAArB,CADd,CAEHu+D,mBAAoBA,kBAFjB,CAAP,CAIH,CAPM,CAAP,CAQH,CAVD,CAWAtB,YAAY17H,SAAZ,CAAsB88H,YAAtB,CAAqC,SAAUI,UAAV,CAAsBlgE,MAAtB,CAA8B,CAC/D,GAAIn5D,OAAQ,IAAZ,CACA,GAAIi7D,SAAU,EAAd,CACA,GAAIq+D,cAAe,KAAK7Y,iBAAL,CAAuB1lD,mBAAvB,CAA2Cs+D,UAA3C,CAAnB,CACA;AACA;AACA,KAAKN,qBAAL,CAA2BO,aAAa5gH,gBAAb,CAA8BG,OAAzD,EAAkE3Y,OAAlE,CAA0E,SAAUq5H,cAAV,CAA0B,CAChG;AACA,GAAI59G,YAAa3b,MAAMygH,iBAAN,CAAwB1lD,mBAAxB,CAA4Cw+D,cAA5C,CAAjB,CACAv5H,MAAM+4H,qBAAN,CAA4Bp9G,WAAWzD,kBAAvC,EAA2DhY,OAA3D,CAAmE,SAAUyU,GAAV,CAAe,CAC9E,GAAIumD,SAAUl7D,MAAMygH,iBAAN,CAAwBvnD,qBAAxB,CAA8Cv9C,WAAW7N,IAAX,CAAgB4G,SAA9D,CAAyEC,GAAzE,CAA8EwkD,MAA9E,CAAd,CACA,GAAI+B,OAAJ,CAAa,CACTD,QAAQt9D,IAAR,CAAau9D,OAAb,EACH,CACJ,CALD,EAMAl7D,MAAM+4H,qBAAN,CAA4Bp9G,WAAWvD,aAAvC,EACKlY,OADL,CACa,SAAUyU,GAAV,CAAe,CAAE,MAAO3U,OAAMygH,iBAAN,CAAwBpiD,qBAAxB,CAA8C1pD,GAA9C,CAAP,CAA4D,CAD1F,EAEH,CAXD,EAYA,MAAO9I,WAAUK,GAAV,CAAc+uD,OAAd,CAAP,CACH,CAnBD,CAoBA48D,YAAY17H,SAAZ,CAAsBgqH,cAAtB,CAAuC,SAAUvrD,UAAV,CAAsB,CACzD,GAAIw+D,iBAAkB,KAAKjB,sBAAL,CAA4BrzH,GAA5B,CAAgC81D,UAAhC,CAAtB,CACA,GAAI,CAACw+D,eAAL,CAAsB,CAClB,GAAIz9G,YAAa,KAAK8kG,iBAAL,CAAuB1lD,mBAAvB,CAA2CH,UAA3C,CAAjB,CACA;AACA,GAAIyK,gBAAiB,KAAK0yD,yBAAL,CAA+Bp8G,WAAW7N,IAAX,CAAgB4G,SAA/C,CAArB,CACA,GAAIslE,WAAYw/C,qBAAhB,CACA,GAAInQ,eAAgB,KAAKvI,iBAAL,CAAuB/sD,OAAvB,CAA+BimB,SAA/B,CAA0Cr+D,UAA1C,CAAsD0pD,cAAtD,CAApB,CACA+zD,gBAAkB,KAAKK,eAAL,CAAqB/9G,eAAeC,UAAf,CAArB,CAAiDq+D,UAAU7tB,UAA3D,EAAuEk9D,cAAc1hD,kBAArF,CAAlB,CACA,KAAKwwD,sBAAL,CAA4BpzH,GAA5B,CAAgC4W,WAAW7N,IAAX,CAAgB4G,SAAhD,CAA2D0kH,eAA3D,EACH,CACD,MAAOA,gBAAP,CACH,CAZD,CAaA;;WAGAvB,YAAY17H,SAAZ,CAAsB+8H,kBAAtB,CAA2C,SAAUG,UAAV,CAAsBK,qBAAtB,CAA6C,CACpF,GAAI15H,OAAQ,IAAZ,CACA,GAAIqI,UAAW,KAAKo4G,iBAAL,CAAuB1lD,mBAAvB,CAA2Cs+D,UAA3C,CAAf,CACA,GAAIM,sBAAuB,GAAIt2H,IAAJ,EAA3B,CACA,GAAIu2H,WAAY,GAAI5gH,IAAJ,EAAhB,CACA,GAAI6gH,iBAAkB,KAAKd,qBAAL,CAA2B1wH,SAASqQ,gBAAT,CAA0BG,OAArD,CAAtB,CACAghH,gBAAgB35H,OAAhB,CAAwB,SAAU45H,QAAV,CAAoB,CACxC,GAAIC,iBAAkB/5H,MAAMygH,iBAAN,CAAwB1lD,mBAAxB,CAA4C++D,QAA5C,CAAtB,CACA95H,MAAM+4H,qBAAN,CAA4BgB,gBAAgB7hH,kBAA5C,EAAgEhY,OAAhE,CAAwE,SAAU85H,MAAV,CAAkB,CACtFL,qBAAqB50H,GAArB,CAAyBi1H,MAAzB,CAAiCD,eAAjC,EACA,GAAIriE,SAAU13D,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6C0/D,MAA7C,CAAd,CACA,GAAItiE,QAAQhhD,WAAZ,CAAyB,CACrBkjH,UAAUjgH,GAAV,CAAc3Z,MAAMi6H,uBAAN,CAA8BviE,OAA9B,CAAuCqiE,eAAvC,CAAd,EACA,GAAIL,qBAAJ,CAA2B,CACvB,GAAI5jH,UAAW9V,MAAMk6H,2BAAN,CAAkCxiE,QAAQ5pD,IAAR,CAAa4G,SAA/C,CAA0DqlH,eAA1D,CAAf,CACAH,UAAUjgH,GAAV,CAAc7D,QAAd,EACA4jH,sBAAsB/7H,IAAtB,CAA2B+5D,QAAQrgD,gBAAnC,EACH,CACJ,CACJ,CAXD,EAYH,CAdD,EAeAwiH,gBAAgB35H,OAAhB,CAAwB,SAAU45H,QAAV,CAAoB,CACxC,GAAIC,iBAAkB/5H,MAAMygH,iBAAN,CAAwB1lD,mBAAxB,CAA4C++D,QAA5C,CAAtB,CACA95H,MAAM+4H,qBAAN,CAA4BgB,gBAAgB7hH,kBAA5C,EAAgEhY,OAAhE,CAAwE,SAAU85H,MAAV,CAAkB,CACtF,GAAItiE,SAAU13D,MAAMygH,iBAAN,CAAwBnmD,oBAAxB,CAA6C0/D,MAA7C,CAAd,CACA,GAAItiE,QAAQhhD,WAAZ,CAAyB,CACrBghD,QAAQxgD,eAAR,CAAwBhX,OAAxB,CAAgC,SAAUi6H,kBAAV,CAA8B,CAC1D,GAAIx+G,YAAag+G,qBAAqB70H,GAArB,CAAyBq1H,mBAAmBjgH,aAA5C,CAAjB,CACA0/G,UAAUjgH,GAAV,CAAc3Z,MAAMk6H,2BAAN,CAAkCC,mBAAmBjgH,aAArD,CAAoEyB,UAApE,CAAd,EACH,CAHD,EAIH,CACJ,CARD,EASAo+G,gBAAgB7iH,eAAhB,CAAgChX,OAAhC,CAAwC,SAAUi6H,kBAAV,CAA8B,CAClE,GAAI,CAACn6H,MAAM84H,aAAN,CAAoBqB,mBAAmBjgH,aAAvC,CAAL,CAA4D,CACxD,GAAIyB,YAAag+G,qBAAqB70H,GAArB,CAAyBq1H,mBAAmBjgH,aAA5C,CAAjB,CACA0/G,UAAUjgH,GAAV,CAAc3Z,MAAMk6H,2BAAN,CAAkCC,mBAAmBjgH,aAArD,CAAoEyB,UAApE,CAAd,EACH,CACJ,CALD,EAMH,CAjBD,EAkBAi+G,UAAU15H,OAAV,CAAkB,SAAU4V,QAAV,CAAoB,CAAE,MAAO9V,OAAMo6H,gBAAN,CAAuBtkH,QAAvB,CAAP,CAA0C,CAAlF,EACH,CAxCD,CAyCA+hH,YAAY17H,SAAZ,CAAsB4lB,aAAtB,CAAsC,SAAUjU,IAAV,CAAgB,CAClD,KAAKqqH,sBAAL,CAA4Bl2G,MAA5B,CAAmCnU,IAAnC,EACA,KAAK2yG,iBAAL,CAAuB1+F,aAAvB,CAAqCjU,IAArC,EACA,KAAKmqH,0BAAL,CAAgCh2G,MAAhC,CAAuCnU,IAAvC,EACA,GAAIusH,kBAAmB,KAAKrC,sBAAL,CAA4BlzH,GAA5B,CAAgCgJ,IAAhC,CAAvB,CACA,GAAIusH,gBAAJ,CAAsB,CAClB,KAAKrC,sBAAL,CAA4B/1G,MAA5B,CAAmCnU,IAAnC,EACH,CACJ,CARD,CASA+pH,YAAY17H,SAAZ,CAAsB0lB,UAAtB,CAAmC,UAAY,CAC3C;AACA,KAAK4+F,iBAAL,CAAuB5+F,UAAvB,GACA,KAAKm2G,sBAAL,CAA4Bl2G,KAA5B,GACA,KAAKm2G,0BAAL,CAAgCn2G,KAAhC,GACA,KAAKq2G,sBAAL,CAA4Br2G,KAA5B,GACH,CAND,CAOA+1G,YAAY17H,SAAZ,CAAsB+9H,2BAAtB,CAAoD,SAAUnlH,QAAV,CAAoB1M,QAApB,CAA8B,CAC9E,GAAI,CAACA,QAAL,CAAe,CACX,KAAM,IAAIjK,MAAJ,CAAU,aAAeqP,UAAUsH,QAAV,CAAf,CAAqC,oFAA/C,CAAN,CACH,CACD,GAAIslH,kBAAmB,KAAKpC,0BAAL,CAAgCnzH,GAAhC,CAAoCiQ,QAApC,CAAvB,CACA,GAAI,CAACslH,gBAAL,CAAuB,CACnB,GAAIj/G,UAAW,KAAKqlG,iBAAL,CAAuBnmD,oBAAvB,CAA4CvlD,QAA5C,CAAf,CACAulH,gBAAgBl/G,QAAhB,EACA,GAAI8rG,UAAW,KAAKzG,iBAAL,CAAuB3nD,wBAAvB,CAAgD19C,QAAhD,CAA0DA,SAAS/D,gBAAT,CAA0BkjH,cAApF,CAAf,CACAF,iBACI,GAAIG,iBAAJ,CAAqB,IAArB,CAA2Bp/G,SAAStN,IAApC,CAA0Co5G,QAA1C,CAAoD7+G,QAApD,CAA8D,CAAC+S,SAAStN,IAAV,CAA9D,CADJ,CAEA,KAAKmqH,0BAAL,CAAgClzH,GAAhC,CAAoCgQ,QAApC,CAA8CslH,gBAA9C,EACH,CACD,MAAOA,iBAAP,CACH,CAdD,CAeAxC,YAAY17H,SAAZ,CAAsB89H,uBAAtB,CAAgD,SAAU7+G,QAAV,CAAoB/S,QAApB,CAA8B,CAC1E,GAAIgyH,kBAAmB,KAAKrC,sBAAL,CAA4BlzH,GAA5B,CAAgCsW,SAAStN,IAAT,CAAc4G,SAA9C,CAAvB,CACA,GAAI,CAAC2lH,gBAAL,CAAuB,CACnBC,gBAAgBl/G,QAAhB,EACAi/G,iBAAmB,GAAIG,iBAAJ,CAAqB,KAArB,CAA4Bp/G,SAAStN,IAArC,CAA2CsN,QAA3C,CAAqD/S,QAArD,CAA+DA,SAASqQ,gBAAT,CAA0B9H,UAAzF,CAAnB,CACA,KAAKonH,sBAAL,CAA4BjzH,GAA5B,CAAgCqW,SAAStN,IAAT,CAAc4G,SAA9C,CAAyD2lH,gBAAzD,EACH,CACD,MAAOA,iBAAP,CACH,CARD,CASAxC,YAAY17H,SAAZ,CAAsBi+H,gBAAtB,CAAyC,SAAUtkH,QAAV,CAAoB,CACzD,GAAI9V,OAAQ,IAAZ,CACA,GAAI8V,SAAS2kH,UAAb,CAAyB,CACrB,OACH,CACD,GAAIr/G,UAAWtF,SAASsF,QAAxB,CACA,GAAIs/G,gCAAiC,GAAIr3H,IAAJ,EAArC,CACA,GAAIs3H,eAAgBnB,qBAApB,CACA,GAAIpT,qBAAsB,KAAKzF,cAAL,CAAoBtmC,gBAApB,CAAqCsgD,aAArC,CAAoDv/G,QAApD,CAA1B,CACAA,SAAStF,QAAT,CAAkBG,mBAAlB,CAAsC/V,OAAtC,CAA8C,SAAUmmH,cAAV,CAA0B,CACpE,GAAIoC,oBAAqBzoH,MAAM2gH,cAAN,CAAqBnmC,aAArB,CAAmCg/C,qBAAnC,CAA0Dp+G,QAA1D,CAAoEirG,cAApE,CAAzB,CACAqU,+BAA+B31H,GAA/B,CAAmCshH,eAAe7wG,SAAlD,CAA6DizG,kBAA7D,EACH,CAHD,EAIA,KAAKmS,2BAAL,CAAiCxU,mBAAjC,CAAsDsU,8BAAtD,EACA,GAAIvhH,OAAQrD,SAASzN,QAAT,CAAkBqQ,gBAAlB,CAAmCS,KAAnC,CAAyCjU,GAAzC,CAA6C,SAAU+3E,IAAV,CAAgB,CAAE,MAAOj9E,OAAMygH,iBAAN,CAAwBtiD,cAAxB,CAAuC8e,KAAKvoE,SAA5C,CAAP,CAAgE,CAA/H,CAAZ,CACA,GAAIxV,IAAK,KAAKqlH,cAAL,CAAoBnpG,QAApB,CAA8BtF,SAASzN,QAAvC,CAAiDyN,SAASlF,UAA1D,CAAT,CAAgF4zG,eAAiBtlH,GAAG4W,QAApG,CAA8G6rE,UAAYziF,GAAGia,KAA7H,CACA,GAAIkwG,eAAgB,KAAKzI,aAAL,CAAmBvmC,gBAAnB,CAAoCsgD,aAApC,CAAmDv/G,QAAnD,CAA6DopG,cAA7D,CAA6EnzD,SAAS+0D,oBAAoBnsC,SAA7B,CAA7E,CAAsH0H,SAAtH,CAApB,CACA,GAAIk5C,YAAa,KAAKpB,eAAL,CAAqB79G,eAAe9F,SAASzN,QAAT,CAAkByF,IAAjC,CAAuCgI,SAASsF,QAAhD,CAArB,CAAgFu/G,cAAcxuE,UAA9F,CAAjB,CACA,GAAI2uE,WAAYD,WAAWxR,cAAcn4B,YAAzB,CAAhB,CACA,GAAI95E,cAAeyjH,WAAWxR,cAAcl4B,eAAzB,CAAnB,CACAr7E,SAASilH,QAAT,CAAkBD,SAAlB,CAA6B1jH,YAA7B,EACH,CArBD,CAsBAygH,YAAY17H,SAAZ,CAAsBooH,cAAtB,CAAuC,SAAUnpG,QAAV,CAAoB/S,QAApB,CAA8Bk/G,oBAA9B,CAAoD,CACvF,GAAIvnH,OAAQ,IAAZ,CACA;AACA,GAAIuT,qBAAsB6H,SAAStF,QAAT,CAAkBvC,mBAA5C,CACA,GAAI3C,YAAa22G,qBAAqBriH,GAArB,CAAyB,SAAUiC,GAAV,CAAe,CAAE,MAAOnH,OAAMygH,iBAAN,CAAwBlmD,mBAAxB,CAA4CpzD,IAAIuN,SAAhD,CAAP,CAAoE,CAA9G,CAAjB,CACA,GAAIyE,OAAQ9Q,SAASqQ,gBAAT,CAA0BS,KAA1B,CAAgCjU,GAAhC,CAAoC,SAAU+3E,IAAV,CAAgB,CAAE,MAAOj9E,OAAMygH,iBAAN,CAAwBtiD,cAAxB,CAAuC8e,KAAKvoE,SAA5C,CAAP,CAAgE,CAAtH,CAAZ,CACA,MAAO,MAAKgsG,eAAL,CAAqBn/G,KAArB,CAA2B6Z,QAA3B,CAAqCA,SAAStF,QAAT,CAAkBE,OAAvD,CAAgEpF,UAAhE,CAA4EuI,KAA5E,CAAmF9Q,SAASoQ,OAA5F,CAAqGyC,kBAAkB7S,SAASyF,IAA3B,CAAiCsN,QAAjC,CAA2CA,SAAStF,QAApD,CAArG,CAAoKvC,mBAApK,CAAP,CACH,CAPD,CAQAskH,YAAY17H,SAAZ,CAAsBy+H,2BAAtB,CAAoD,SAAU93H,MAAV,CAAkB43H,8BAAlB,CAAkD,CAClG,GAAI16H,OAAQ,IAAZ,CACA8C,OAAO4X,YAAP,CAAoBxa,OAApB,CAA4B,SAAUkzD,GAAV,CAAe32D,CAAf,CAAkB,CAC1C,GAAIu+H,qBAAsBN,+BAA+B51H,GAA/B,CAAmCsuD,IAAI59C,SAAvC,CAA1B,CACA,GAAIylH,iBAAkBj7H,MAAMk7H,kCAAN,CAAyCF,mBAAzC,CAA8DN,8BAA9D,CAAtB,CACAtnE,IAAI0mB,QAAJ,CAAamhD,eAAb,EACH,CAJD,EAKH,CAPD,CAQApD,YAAY17H,SAAZ,CAAsB++H,kCAAtB,CAA2D,SAAUp4H,MAAV,CAAkB43H,8BAAlB,CAAkD,CACzG,KAAKE,2BAAL,CAAiC93H,MAAjC,CAAyC43H,8BAAzC,EACA,MAAO,MAAKjB,eAAL,CAAqBn+G,uBAAuBxY,OAAOyY,IAA9B,CAAoC,KAAK68G,sBAAL,EAApC,CAArB,CAAyFt1H,OAAOk3E,SAAP,CAAiB7tB,UAA1G,EAAsHrpD,OAAOm3E,SAA7H,CAAP,CACH,CAHD,CAIA49C,YAAY17H,SAAZ,CAAsBs9H,eAAtB,CAAwC,SAAUnwD,SAAV,CAAqBnd,UAArB,CAAiC,CACrE,GAAI,CAAC,KAAK2rE,eAAL,CAAqB1kH,MAA1B,CAAkC,CAC9B,MAAOwhH,qBAAoBzoE,UAApB,CAAgC,KAAKznC,UAArC,CAAP,CACH,CAFD,IAGK,CACD,MAAOyyG,eAAc7tD,SAAd,CAAyBnd,UAAzB,CAAqC,KAAKznC,UAA1C,CAAsD,KAAKozG,eAAL,CAAqBzkH,UAA3E,CAAP,CACH,CACJ,CAPD,CAQA,MAAOwkH,YAAP,CACH,CAvPgC,EAAjC,CAwPA,GAAI2C,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,CAA0B/jH,MAA1B,CAAkC1B,QAAlC,CAA4CqG,QAA5C,CAAsD/S,QAAtD,CAAgEuI,UAAhE,CAA4E,CACxE,KAAK6F,MAAL,CAAcA,MAAd,CACA,KAAK1B,QAAL,CAAgBA,QAAhB,CACA,KAAKqG,QAAL,CAAgBA,QAAhB,CACA,KAAK/S,QAAL,CAAgBA,QAAhB,CACA,KAAKuI,UAAL,CAAkBA,UAAlB,CACA,KAAKuqH,UAAL,CAAkB,IAAlB,CACA,KAAKV,UAAL,CAAkB,KAAlB,CACH,CACDD,iBAAiBr+H,SAAjB,CAA2B4+H,QAA3B,CAAsC,SAAUD,SAAV,CAAqB1jH,YAArB,CAAmC,CACrE,KAAK+jH,UAAL,CAAkBL,SAAlB,CACA,KAAK1/G,QAAL,CAAcjE,iBAAd,CAAgC4gD,WAAhC,CAA4C+iE,SAA5C,EACA,IAAK,GAAIxrH,KAAT,GAAiB8H,aAAjB,CAA+B,CAC3B,KAAKgE,QAAL,CAAchE,YAAd,CAA2B9H,IAA3B,EAAmC8H,aAAa9H,IAAb,CAAnC,CACH,CACD,KAAKmrH,UAAL,CAAkB,IAAlB,CACH,CAPD,CAQA,MAAOD,iBAAP,CACH,CAnBqC,EAAtC,CAoBA,QAASF,gBAAT,CAAyB/+G,IAAzB,CAA+B,CAC3B,GAAI,CAACA,KAAK7E,WAAV,CAAuB,CACnB,KAAM,IAAItY,MAAJ,CAAU,sBAAwBoW,eAAe+G,KAAKzN,IAApB,CAAxB,CAAoD,kCAA9D,CAAN,CACH,CACJ,CACD,QAAS0rH,oBAAT,EAA+B,CAC3B,GAAI5R,eAAgB,SAAUl0D,MAAV,CAAkB,CAClC,MAAOpC,YAAW,CAAE5wD,KAAM8T,eAAek/C,MAAf,CAAR,CAAgC3S,WAAY,IAA5C,CAAkDwK,QAASmI,MAA3D,CAAX,CAAP,CACH,CAFD,CAGA,MAAO,CAAEvH,WAAY,EAAd,CAAkBwgB,YAAa,EAA/B,CAAmCrb,WAAYs2D,aAA/C,CAA8D7lB,aAAc,GAAIjJ,aAAJ,EAA5E,CAAP,CACH,CAED;;;;;;OAOA;;OAGA,GAAIsiC,kBAAmB,aAAe,UAAY,CAC9C,QAASA,iBAAT,EAA4B,CAC3B,CACD,MAAOA,iBAAP,CACH,CAJqC,EAAtC,CAMA;;;;;;OAOA;;OAGA,QAASC,sCAAT,EAAiD,CAC7C,MAAO,IAAIC,YAAJ,EAAP,CACH,CACD,QAASC,gCAAT,EAA2C,CACvC,MAAO,IAAID,YAAJ,CAAgB,GAAhB,CAAP,CACH,CACD,GAAIA,aAAc,aAAe,UAAY,CACzC,QAASE,gBAAT,CAAyBC,cAAzB,CAAyC,CACrC,GAAIA,iBAAmB,IAAK,EAA5B,CAA+B,CAAEA,eAAiB,IAAjB,CAAwB,CACzD,KAAKA,cAAL,CAAsBA,cAAtB,CACH,CACD;;;;;;;WAQAD,gBAAgBr/H,SAAhB,CAA0ByjB,OAA1B,CAAoC,SAAUN,OAAV,CAAmBrE,GAAnB,CAAwB,CACxD,GAAIygH,aAAczgH,GAAlB,CACA,GAAIqE,SAAW,IAAX,EAAmBA,QAAQ1iB,MAAR,CAAiB,CAAxC,CAA2C,CACvC8+H,YAAcC,YAAYr8G,OAAZ,CAAqBo8G,WAArB,CAAd,CACH,CACD,GAAIE,eAAgBC,OAAOH,WAAP,CAApB,CACA,GAAI78H,QAAS,KAAK48H,cAAlB,CACA,GAAI58H,QAAU,IAAV,EAAkB+8H,eAAiB,IAAnC,EACAA,cAAcE,gBAAgBC,MAA9B,GAAyC,SAD7C,CACwD,CACpD,GAAIjgH,MAAO8/G,cAAcE,gBAAgBE,IAA9B,CAAX,CACAn9H,OAASA,OAAOuL,OAAP,CAAe,MAAf,CAAuB,EAAvB,CAAT,CACA0R,KAAOA,KAAK1R,OAAL,CAAa,MAAb,CAAqB,EAArB,CAAP,CACA,MAAOvL,QAAS,GAAT,CAAeid,IAAtB,CACH,CACD,MAAO4/G,YAAP,CACH,CAfD,CAgBA,MAAOF,gBAAP,CACH,CA9BgC,EAAjC,CA+BA;;OAGA,QAASS,aAAT,CAAsBhhH,GAAtB,CAA2B,CACvB,GAAInZ,OAAQ+5H,OAAO5gH,GAAP,CAAZ,CACA,MAAQnZ,QAASA,MAAMg6H,gBAAgBC,MAAtB,CAAV,EAA4C,EAAnD,CACH,CACD;AACA;AACA;;;;;;;;;;;;;;;;OAiBA,QAASG,uBAAT,CAAgCC,UAAhC,CAA4CC,YAA5C,CAA0DC,UAA1D,CAAsEC,QAAtE,CAAgFC,QAAhF,CAA0FC,aAA1F,CAAyGC,YAAzG,CAAuH,CACnH,GAAIpqE,KAAM,EAAV,CACA,GAAI8pE,YAAc,IAAlB,CAAwB,CACpB9pE,IAAI10D,IAAJ,CAASw+H,WAAa,GAAtB,EACH,CACD,GAAIE,YAAc,IAAlB,CAAwB,CACpBhqE,IAAI10D,IAAJ,CAAS,IAAT,EACA,GAAIy+H,cAAgB,IAApB,CAA0B,CACtB/pE,IAAI10D,IAAJ,CAASy+H,aAAe,GAAxB,EACH,CACD/pE,IAAI10D,IAAJ,CAAS0+H,UAAT,EACA,GAAIC,UAAY,IAAhB,CAAsB,CAClBjqE,IAAI10D,IAAJ,CAAS,IAAM2+H,QAAf,EACH,CACJ,CACD,GAAIC,UAAY,IAAhB,CAAsB,CAClBlqE,IAAI10D,IAAJ,CAAS4+H,QAAT,EACH,CACD,GAAIC,eAAiB,IAArB,CAA2B,CACvBnqE,IAAI10D,IAAJ,CAAS,IAAM6+H,aAAf,EACH,CACD,GAAIC,cAAgB,IAApB,CAA0B,CACtBpqE,IAAI10D,IAAJ,CAAS,IAAM8+H,YAAf,EACH,CACD,MAAOpqE,KAAI3vD,IAAJ,CAAS,EAAT,CAAP,CACH,CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA6DA,GAAIg6H,UAAW,GAAIz7H,OAAJ,CAAW,IACtB,KADsB,CAEtB,aAFsB,CAEN;AAChB;AACA;AACA,KALsB,CAMtB,OANsB,CAOtB,iBAPsB,CAOF;AACpB,iCARsB,CAQc;AACpC;AACA;AACA,gBAXsB,CAWH;AACnB,IAZsB,CAatB,WAbsB,CAaR;AACd,iBAdsB,CAcF;AACpB,YAfsB,CAeP;AACf,GAhBW,CAAf,CAiBA;;;OAIA,GAAI66H,gBAAJ,CACA,CAAC,SAAUA,eAAV,CAA2B,CACxBA,gBAAgBA,gBAAgB,QAAhB,EAA4B,CAA5C,EAAiD,QAAjD,CACAA,gBAAgBA,gBAAgB,UAAhB,EAA8B,CAA9C,EAAmD,UAAnD,CACAA,gBAAgBA,gBAAgB,QAAhB,EAA4B,CAA5C,EAAiD,QAAjD,CACAA,gBAAgBA,gBAAgB,MAAhB,EAA0B,CAA1C,EAA+C,MAA/C,CACAA,gBAAgBA,gBAAgB,MAAhB,EAA0B,CAA1C,EAA+C,MAA/C,CACAA,gBAAgBA,gBAAgB,WAAhB,EAA+B,CAA/C,EAAoD,WAApD,CACAA,gBAAgBA,gBAAgB,UAAhB,EAA8B,CAA9C,EAAmD,UAAnD,CACH,CARD,EAQGA,kBAAoBA,gBAAkB,EAAtC,CARH,EASA;;;;;;;;;;;;;;OAeA,QAASD,OAAT,CAAgBc,GAAhB,CAAqB,CACjB,MAAOA,KAAI76H,KAAJ,CAAU46H,QAAV,CAAP,CACH,CACD;;;;;;QAOA,QAASE,mBAAT,CAA4B9gH,IAA5B,CAAkC,CAC9B,GAAIA,MAAQ,GAAZ,CACI,MAAO,GAAP,CACJ,GAAI+gH,cAAe/gH,KAAK,CAAL,GAAW,GAAX,CAAiB,GAAjB,CAAuB,EAA1C,CACA,GAAIghH,eAAgBhhH,KAAKA,KAAKlf,MAAL,CAAc,CAAnB,IAA0B,GAA1B,CAAgC,GAAhC,CAAsC,EAA1D,CACA,GAAIotE,UAAWluD,KAAK5N,KAAL,CAAW,GAAX,CAAf,CACA,GAAImkD,KAAM,EAAV,CACA,GAAI0qE,IAAK,CAAT,CACA,IAAK,GAAIC,KAAM,CAAf,CAAkBA,IAAMhzD,SAASptE,MAAjC,CAAyCogI,KAAzC,CAAgD,CAC5C,GAAIlhF,SAAUkuB,SAASgzD,GAAT,CAAd,CACA,OAAQlhF,OAAR,EACI,IAAK,EAAL,CACA,IAAK,GAAL,CACI,MACJ,IAAK,IAAL,CACI,GAAIuW,IAAIz1D,MAAJ,CAAa,CAAjB,CAAoB,CAChBy1D,IAAI91C,GAAJ,GACH,CAFD,IAGK,CACDwgH,KACH,CACD,MACJ,QACI1qE,IAAI10D,IAAJ,CAASm+C,OAAT,EAbR,CAeH,CACD,GAAI+gF,cAAgB,EAApB,CAAwB,CACpB,MAAOE,KAAO,CAAd,CAAiB,CACb1qE,IAAI45B,OAAJ,CAAY,IAAZ,EACH,CACD,GAAI55B,IAAIz1D,MAAJ,GAAe,CAAnB,CACIy1D,IAAI10D,IAAJ,CAAS,GAAT,EACP,CACD,MAAOk/H,cAAexqE,IAAI3vD,IAAJ,CAAS,GAAT,CAAf,CAA+Bo6H,aAAtC,CACH,CACD;;;OAIA,QAASG,yBAAT,CAAkCvlH,KAAlC,CAAyC,CACrC,GAAIoE,MAAOpE,MAAMokH,gBAAgBE,IAAtB,CAAX,CACAlgH,KAAOA,MAAQ,IAAR,CAAe,EAAf,CAAoB8gH,mBAAmB9gH,IAAnB,CAA3B,CACApE,MAAMokH,gBAAgBE,IAAtB,EAA8BlgH,IAA9B,CACA,MAAOogH,wBAAuBxkH,MAAMokH,gBAAgBC,MAAtB,CAAvB,CAAsDrkH,MAAMokH,gBAAgBoB,QAAtB,CAAtD,CAAuFxlH,MAAMokH,gBAAgBqB,MAAtB,CAAvF,CAAsHzlH,MAAMokH,gBAAgBsB,IAAtB,CAAtH,CAAmJthH,IAAnJ,CAAyJpE,MAAMokH,gBAAgBuB,SAAtB,CAAzJ,CAA2L3lH,MAAMokH,gBAAgBwB,QAAtB,CAA3L,CAAP,CACH,CACD;;;;OAKA,QAAS3B,YAAT,CAAqB/tF,IAArB,CAA2B3yB,GAA3B,CAAgC,CAC5B,GAAIvD,OAAQmkH,OAAO0B,UAAUtiH,GAAV,CAAP,CAAZ,CACA,GAAIuiH,WAAY3B,OAAOjuF,IAAP,CAAhB,CACA,GAAIl2B,MAAMokH,gBAAgBC,MAAtB,GAAiC,IAArC,CAA2C,CACvC,MAAOkB,0BAAyBvlH,KAAzB,CAAP,CACH,CAFD,IAGK,CACDA,MAAMokH,gBAAgBC,MAAtB,EAAgCyB,UAAU1B,gBAAgBC,MAA1B,CAAhC,CACH,CACD,IAAK,GAAIt/H,GAAIq/H,gBAAgBC,MAA7B,CAAqCt/H,GAAKq/H,gBAAgBsB,IAA1D,CAAgE3gI,GAAhE,CAAqE,CACjE,GAAIib,MAAMjb,CAAN,GAAY,IAAhB,CAAsB,CAClBib,MAAMjb,CAAN,EAAW+gI,UAAU/gI,CAAV,CAAX,CACH,CACJ,CACD,GAAIib,MAAMokH,gBAAgBE,IAAtB,EAA4B,CAA5B,GAAkC,GAAtC,CAA2C,CACvC,MAAOiB,0BAAyBvlH,KAAzB,CAAP,CACH,CACD,GAAIoE,MAAO0hH,UAAU1B,gBAAgBE,IAA1B,CAAX,CACA,GAAIlgH,MAAQ,IAAZ,CACIA,KAAO,GAAP,CACJ,GAAI3O,OAAQ2O,KAAKse,WAAL,CAAiB,GAAjB,CAAZ,CACAte,KAAOA,KAAKlO,SAAL,CAAe,CAAf,CAAkBT,MAAQ,CAA1B,EAA+BuK,MAAMokH,gBAAgBE,IAAtB,CAAtC,CACAtkH,MAAMokH,gBAAgBE,IAAtB,EAA8BlgH,IAA9B,CACA,MAAOmhH,0BAAyBvlH,KAAzB,CAAP,CACH,CAED;;;;;;OAOA;;;OAIA,GAAI+lH,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,EAA0B,CACzB,CACDA,eAAethI,SAAf,CAAyB2I,GAAzB,CAA+B,SAAUmW,GAAV,CAAe,CAAE,MAAO,EAAP,CAAY,CAA5D,CACA,MAAOwiH,eAAP,CACH,CALmC,EAApC,CAOA;;;;;;OAOA,GAAIC,WAAY,aAAe,UAAY,CACvC,QAASA,UAAT,CAAmBpmH,IAAnB,CAAyBkyG,oBAAzB,CAA+C9E,aAA/C,CAA8D+E,gBAA9D,CAAgF,CAC5E,KAAKnyG,IAAL,CAAYA,IAAZ,CACA,KAAKkyG,oBAAL,CAA4BA,oBAA5B,CACA,KAAK9E,aAAL,CAAqBA,aAArB,CACA,KAAK+E,gBAAL,CAAwBA,gBAAxB,CACH,CACDiU,UAAUvhI,SAAV,CAAoBi0C,OAApB,CAA8B,SAAUkxE,SAAV,CAAqB,CAC/C,GAAIthH,OAAQ,IAAZ,CACA,GAAId,IAAKsiH,4BAA4BF,SAA5B,CAAuC,KAAKhqG,IAA5C,CAAkD,KAAKkyG,oBAAvD,CAA6E,KAAKC,gBAAlF,CAAT,CAA8GjG,MAAQtkH,GAAGskH,KAAzH,CAAgI/B,UAAYviH,GAAGuiH,SAA/I,CACA,MAAOp1G,SACFH,GADE,CACEu1G,UAAUv8G,GAAV,CAAc,SAAUmD,QAAV,CAAoB,CAAE,MAAOrI,OAAMypH,gBAAN,CAAuBzuD,oCAAvB,CAA4D3yD,SAASyF,IAAT,CAAc4G,SAA1E,CAAqF,KAArF,CAAP,CAAqG,CAAzI,CADF,EAEF1I,IAFE,CAEG,UAAY,CAClB,GAAI8W,QAAS,EAAb,CACA0gG,MAAMtjH,OAAN,CAAc,SAAUw5B,IAAV,CAAgB,CAC1B,GAAIirF,WAAY,EAAhB,CACAjrF,KAAK9oB,UAAL,CAAgB1Q,OAAhB,CAAwB,SAAUolB,aAAV,CAAyB,CAC7C,GAAIoyC,SAAU13D,MAAMypH,gBAAN,CAAuBnvD,oBAAvB,CAA4Ch1C,aAA5C,CAAd,CACA,GAAIoyC,SAAWA,QAAQhhD,WAAvB,CAAoC,CAChCiuG,UAAUhnH,IAAV,CAAe+5D,OAAf,EACH,CACJ,CALD,EAMAitD,UAAUzkH,OAAV,CAAkB,SAAUkb,QAAV,CAAoB,CAClC,GAAIwkC,MAAOxkC,SAAStF,QAAT,CAAkBA,QAA7B,CACA;AACA;AACA;AACA,GAAIC,aAAcqF,SAAStF,QAAT,CAAkBC,WAApC,CACA,GAAI6M,qBAAsBjE,oBAAoBC,SAApB,CAA8BxD,SAAStF,QAAT,CAAkBM,aAAhD,CAA1B,CACA0M,OAAOnlB,IAAP,CAAYb,KAAZ,CAAkBgmB,MAAlB,CAA0BjlB,SAASmC,MAAM0kH,aAAN,CAAoBrpB,kBAApB,CAAuCz7C,IAAvC,CAA6C7pC,WAA7C,CAA0D6M,mBAA1D,CAAT,CAA1B,EACH,CARD,EASH,CAjBD,EAkBA,GAAIE,OAAOlmB,MAAX,CAAmB,CACf,KAAM,IAAIwB,MAAJ,CAAU0kB,OAAO5d,GAAP,CAAW,SAAUxH,CAAV,CAAa,CAAE,MAAOA,GAAEqF,QAAF,EAAP,CAAsB,CAAhD,EAAkDL,IAAlD,CAAuD,IAAvD,CAAV,CAAN,CACH,CACD,MAAO1C,OAAM0kH,aAAb,CACH,CA1BM,CAAP,CA2BH,CA9BD,CA+BAgZ,UAAUthI,MAAV,CAAmB,SAAUkb,IAAV,CAAgB4gC,MAAhB,CAAwB,CACvC,GAAIk5D,YAAa,GAAInyD,WAAJ,EAAjB,CACA,GAAI+0E,aAAcL,qBAAqBr8G,IAArB,CAAlB,CACA,GAAI+lG,aAAc,GAAIppG,kBAAJ,EAAlB,CACA,GAAI4iG,iBAAkB,GAAIqc,mBAAJ,CAAuB57G,IAAvB,CAA6B+lG,WAA7B,CAAtB,CACA,GAAImM,sBAAuB,GAAI7S,qBAAJ,CAAyBr/F,IAAzB,CAA+B+lG,WAA/B,CAA4CxG,eAA5C,CAA3B,CACA,GAAIod,iBAAkB,GAAIrI,gBAAJ,CAAoB/U,eAApB,CAAqC2S,oBAArC,CAAtB,CACA,GAAIl1F,QAAS,GAAIrhB,eAAJ,CAAmB,CAAEC,qBAAsB9L,kBAAkB+L,QAA1C,CAAoDC,OAAQ,KAA5D,CAAnB,CAAb,CACA,GAAI+gH,YAAa,GAAI5yG,oBAAJ,CAAwB,CAAEzc,IAAK,SAAUmW,GAAV,CAAe,CAAE,MAAO3D,MAAK88G,YAAL,CAAkBn5G,GAAlB,CAAP,CAAgC,CAAxD,CAAxB,CAAoF+4G,WAApF,CAAiG5iB,UAAjG,CAA6G98E,MAA7G,CAAjB,CACA,GAAI+/F,uBAAwB,GAAIxiD,yBAAJ,EAA5B,CACA,GAAIxyD,UAAW,GAAIo3C,wBAAJ,CAA4BniC,MAA5B,CAAoC88E,UAApC,CAAgD,GAAI1oC,iBAAJ,CAAqBurD,eAArB,CAAhD,CAAuF,GAAIxvG,kBAAJ,CAAsBwvG,eAAtB,CAAvF,CAA+H,GAAIvjD,aAAJ,CAAiBujD,eAAjB,CAA/H,CAAkKpd,eAAlK,CAAmLwd,qBAAnL,CAA0MF,UAA1M,CAAsNniF,OAAtN,CAA+NqrE,WAA/N,CAA4O4W,eAA5O,CAAf,CACA;AACA,GAAIvP,eAAgB,GAAItpB,cAAJ,CAAkBgW,UAAlB,CAA8B,EAA9B,CAAkC,EAAlC,CAAsCl5D,MAAtC,CAApB,CACA,GAAIylF,WAAY,GAAID,UAAJ,CAAcpmH,IAAd,CAAoBkyG,oBAApB,CAA0C9E,aAA1C,CAAyDrlG,QAAzD,CAAhB,CACA,MAAO,CAAEs+G,UAAWA,SAAb,CAAwB1J,gBAAiBA,eAAzC,CAAP,CACH,CAfD,CAgBA,MAAOyJ,UAAP,CACH,CAvD8B,EAA/B,CAyDA;;;;;;OAQA;;;;;;OAOA,QAASE,kBAAT,CAA2BriH,IAA3B,CAAiC,CAC7B,GAAIvgB,SAAU2yD,SAAd,CACA,QAASkwE,OAAT,CAAgBC,GAAhB,CAAqB,CACjB,MAAO9yE,IAAG,EAAH,CAAO,CAAC,GAAImD,gBAAJ,CAAoB2vE,GAApB,CAAD,CAAP,CAAmCv3H,SAAnC,CAA8CA,SAA9C,CAAyDgV,KAAK7a,IAAL,CAAY,UAArE,CAAP,CACH,CACD,GAAI6a,KAAKnB,QAAL,GAAkB7T,SAAlB,EAA+BgV,KAAKhB,UAAL,GAAoBhU,SAAvD,CAAkE,CAC9D;AACA;AACA;AACA;AACA,GAAIgV,KAAKf,IAAL,GAAcjU,SAAlB,CAA6B,CACzB;AACA,GAAIi8F,WAAYjnF,KAAKnB,QAAL,EAAiBmB,KAAKhB,UAAtC,CACA;AACA,GAAIgoF,QAAShnF,KAAKnB,QAAL,GAAkB7T,SAA/B,CACAvL,QAAUonG,uBAAuB,CAC7B1hG,KAAM6a,KAAK7a,IADkB,CAE7B8hG,UAAWA,SAFkB,CAG7BD,OAAQA,MAHqB,CAI7BD,SAAUzhD,YAAYkB,MAJO,CAK7BvnC,KAAMe,KAAKf,IALkB,CAAvB,CAAV,CAOH,CAZD,IAaK,IAAIe,KAAKnB,QAAL,GAAkB7T,SAAtB,CAAiC,CAClC;AACA,GAAIgV,KAAKnB,QAAL,CAAc8rC,YAAd,CAA2B3qC,KAAKzN,IAAhC,CAAJ,CAA2C,CACvC;AACA;AACA;AACA,KAAM,IAAI1P,MAAJ,CAAU,4EAAV,CAAN,CACH,CACDpD,QACI6iI,OAAO,GAAIx3E,aAAJ,CAAiB,GAAIA,aAAJ,CAAiB9qC,KAAKnB,QAAtB,CAAgC,iBAAhC,CAAjB,CAAqE,SAArE,EACFssC,MADE,CACK,EADL,CAAP,CADJ,CAGH,CAXI,IAYA,IAAInrC,KAAKhB,UAAL,GAAoBhU,SAAxB,CAAmC,CACpC;AACAvL,QAAUugB,KAAKhB,UAAL,CAAgBmsC,MAAhB,CAAuB,EAAvB,CAAV,CACH,CAHI,IAIA,CACD;AACA;AACA,KAAM,IAAItoD,MAAJ,CAAU,mDAAV,CAAN,CACH,CACJ,CAvCD,IAwCK,IAAImd,KAAKlB,QAAL,GAAkB9T,SAAtB,CAAiC,CAClC;AACA;AACA;AACAvL,QAAU6iI,OAAOtiH,KAAKlB,QAAZ,CAAV,CACH,CALI,IAMA,IAAIkB,KAAKjB,WAAL,GAAqB/T,SAAzB,CAAoC,CACrC;AACAvL,QAAU6iI,OAAOvsE,WAAWzQ,YAAYkB,MAAvB,EAA+B2E,MAA/B,CAAsC,CAACnrC,KAAKjB,WAAN,CAAtC,CAAP,CAAV,CACH,CAHI,IAIA,CACD;AACA;AACA,GAAIiB,KAAKf,IAAL,GAAcjU,SAAlB,CAA6B,CACzB,KAAM,IAAInI,MAAJ,CAAU,0DAAV,CAAN,CACH,CACDpD,QAAUonG,uBAAuB,CAC7B1hG,KAAM6a,KAAK7a,IADkB,CAE7B8hG,UAAWjnF,KAAKzN,IAFa,CAG7By0F,OAAQ,IAHqB,CAI7BD,SAAUzhD,YAAYkB,MAJO,CAK7BvnC,KAAMe,KAAKf,IALkB,CAAvB,CAAV,CAOH,CACD,GAAItU,OAAQqV,KAAKzN,IAAjB,CACA,GAAIgmD,YAAav4C,KAAKu4C,UAAtB,CACA,GAAI/2C,YAAau0C,WAAWzQ,YAAYqB,gBAAvB,EAAyCwE,MAAzC,CAAgD,CAACw8C,mBAAmB,CAAEh9F,MAAOA,KAAT,CAAgBlL,QAASA,OAAzB,CAAkC84D,WAAYA,UAA9C,CAAnB,CAAD,CAAhD,CAAjB,CACA,GAAIhmD,MAAO,GAAI42C,eAAJ,CAAmB4M,WAAWzQ,YAAYsB,aAAvB,CAAsC,CAAC,GAAIuC,eAAJ,CAAmBnpC,KAAKzN,IAAxB,CAAD,CAAtC,CAAnB,CAAX,CACA,MAAO,CACHiP,WAAYA,UADT,CACqBjP,KAAMA,IAD3B,CAAP,CAGH,CAED;;;;;;OAOA;;;;;OAMA,GAAIiwH,gBAAiB,aAAe,UAAY,CAC5C,QAASA,eAAT,CAAwBhzH,OAAxB,CAAiC,CAC7B,KAAKA,OAAL,CAAeA,OAAf,CACH,CACDgzH,eAAe5hI,SAAf,CAAyB6nD,wBAAzB,CAAoD,SAAUrvC,GAAV,CAAe,CAC/D;AACA,GAAIA,IAAIosC,UAAJ,GAAmB,eAAvB,CAAwC,CACpC,KAAM,IAAI3iD,MAAJ,CAAU,wCAA0CuW,IAAIosC,UAA9C,CAA2D,mDAArE,CAAN,CACH,CACD,GAAI,CAAC,KAAKh2C,OAAL,CAAahP,cAAb,CAA4B4Y,IAAIjU,IAAhC,CAAL,CAA4C,CACxC,KAAM,IAAItC,MAAJ,CAAU,+CAAiDuW,IAAIjU,IAArD,CAA4D,IAAtE,CAAN,CACH,CACD,MAAO,MAAKqK,OAAL,CAAa4J,IAAIjU,IAAjB,CAAP,CACH,CATD,CAUAq9H,eAAe5hI,SAAf,CAAyBy3D,UAAzB,CAAsC,SAAU2K,UAAV,CAAsB,CAAE,KAAM,IAAIngE,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAApG,CACA2/H,eAAe5hI,SAAf,CAAyB0oB,WAAzB,CAAuC,SAAU05C,UAAV,CAAsB,CAAE,KAAM,IAAIngE,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAArG,CACA2/H,eAAe5hI,SAAf,CAAyBo/D,kBAAzB,CAA8C,SAAUgD,UAAV,CAAsB,CAAE,KAAM,IAAIngE,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAA5G,CACA2/H,eAAe5hI,SAAf,CAAyBqhE,cAAzB,CAA0C,SAAUe,UAAV,CAAsB,CAAE,KAAM,IAAIngE,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAAxG,CACA2/H,eAAe5hI,SAAf,CAAyBgpB,YAAzB,CAAwC,SAAUo5C,UAAV,CAAsB,CAAE,KAAM,IAAIngE,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAAtG,CACA2/H,eAAe5hI,SAAf,CAAyBi6D,gBAAzB,CAA4C,SAAUtoD,IAAV,CAAgBuhH,UAAhB,CAA4B,CAAE,KAAM,IAAIjxH,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAAhH,CACA2/H,eAAe5hI,SAAf,CAAyB6a,MAAzB,CAAkC,SAAUunD,UAAV,CAAsB,CAAE,KAAM,IAAIngE,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAAhG,CACA2/H,eAAe5hI,SAAf,CAAyBs9D,kBAAzB,CAA8C,SAAU3rD,IAAV,CAAgBkwH,WAAhB,CAA6B,CAAE,KAAM,IAAI5/H,MAAJ,CAAU,kBAAV,CAAN,CAAsC,CAAnH,CACA,MAAO2/H,eAAP,CACH,CAvBmC,EAApC,CAwBA;;;;;;;;OASA,QAASE,cAAT,CAAuBh4G,GAAvB,CAA4Blb,OAA5B,CAAqCu+D,SAArC,CAAgDy4B,YAAhD,CAA8D,CAC1D;AACA;AACA;AACA,GAAI51C,YAAatuD,SAAUkkG,eAAiBx7F,SAAjB,CAA6Bw7F,aAAa51C,UAA1C,CAAuD,EAAjE,CAAsE,CACnF,GAAI3B,eAAJ,CAAmB,MAAnB,CAA2BvkC,GAA3B,CAAgC1f,SAAhC,CAA2C,CAACtL,QAAQ2yD,YAAR,CAAqB6a,QAAtB,CAA3C,CADmF,CAAtE,CAAjB,CAGA,GAAI9mE,KAAMw1H,cAAc7tD,SAAd,CAAyBnd,UAAzB,CAAqC,GAAI4xE,eAAJ,CAAmBhzH,OAAnB,CAArC,CAAkE,KAAlE,CAAV,CACA,MAAOpJ,KAAI,MAAJ,CAAP,CACH,CAED;;;;;;OAOA;AAEA;;;;;;OAOA;AAEA;;;;;;OAQA;;;;;;OAQA1G,QAAQ8O,IAAR,CAAeA,IAAf,CACA9O,QAAQgY,cAAR,CAAyBA,cAAzB,CACAhY,QAAQwY,0BAAR,CAAqCA,0BAArC,CACAxY,QAAQu6D,eAAR,CAA0BA,eAA1B,CACAv6D,QAAQw6D,mBAAR,CAA8BA,mBAA9B,CACAx6D,QAAQ4lD,WAAR,CAAsBA,WAAtB,CACA5lD,QAAQ48H,WAAR,CAAsBA,WAAtB,CACA58H,QAAQ69F,YAAR,CAAuBA,YAAvB,CACA79F,QAAQwpB,iBAAR,CAA4BA,iBAA5B,CACAxpB,QAAQy1E,YAAR,CAAuBA,YAAvB,CACAz1E,QAAQytE,gBAAR,CAA2BA,gBAA3B,CACAztE,QAAQ6jB,4BAAR,CAAuCA,4BAAvC,CACA7jB,QAAQ0jB,mBAAR,CAA8BA,mBAA9B,CACA1jB,QAAQ4sE,gBAAR,CAA2BA,gBAA3B,CACA5sE,QAAQ4pD,SAAR,CAAoBA,SAApB,CACA5pD,QAAQ4wD,aAAR,CAAwBA,aAAxB,CACA5wD,QAAQmsD,kBAAR,CAA6BA,kBAA7B,CACAnsD,QAAQspD,WAAR,CAAsBA,WAAtB,CACAtpD,QAAQuuD,QAAR,CAAmBA,QAAnB,CACAvuD,QAAQqzD,UAAR,CAAqBA,UAArB,CACArzD,QAAQuzD,WAAR,CAAsBA,WAAtB,CACAvzD,QAAQyzD,SAAR,CAAoBA,SAApB,CACAzzD,QAAQgyD,SAAR,CAAoBA,SAApB,CACAhyD,QAAQi0D,WAAR,CAAsBA,WAAtB,CACAj0D,QAAQgsD,eAAR,CAA0BA,eAA1B,CACAhsD,QAAQoxD,mBAAR,CAA8BA,mBAA9B,CACApxD,QAAQuvD,cAAR,CAAyBA,cAAzB,CACAvvD,QAAQmrD,UAAR,CAAqBA,UAArB,CACAnrD,QAAQyuD,mBAAR,CAA8BA,mBAA9B,CACAzuD,QAAQypD,cAAR,CAAyBA,cAAzB,CACAzpD,QAAQqwD,YAAR,CAAuBA,YAAvB,CACArwD,QAAQwwD,iBAAR,CAA4BA,iBAA5B,CACAxwD,QAAQixD,YAAR,CAAuBA,YAAvB,CACAjxD,QAAQ+zD,MAAR,CAAiBA,MAAjB,CACA/zD,QAAQ4rD,eAAR,CAA0BA,eAA1B,CACA5rD,QAAQ0rD,kBAAR,CAA6BA,kBAA7B,CACA1rD,QAAQwrD,gBAAR,CAA2BA,gBAA3B,CACAxrD,QAAQo0D,gBAAR,CAA2BA,gBAA3B,CACAp0D,QAAQyxD,gBAAR,CAA2BA,gBAA3B,CACAzxD,QAAQmwD,WAAR,CAAsBA,WAAtB,CACAnwD,QAAQ8xD,cAAR,CAAyBA,cAAzB,CACA9xD,QAAQ+pD,OAAR,CAAkBA,OAAlB,CACA/pD,QAAQ0wD,OAAR,CAAkBA,OAAlB,CACA1wD,QAAQqrD,WAAR,CAAsBA,WAAtB,CACArrD,QAAQorD,YAAR,CAAuBA,YAAvB,CACAprD,QAAQ2uD,WAAR,CAAsBA,WAAtB,CACA3uD,QAAQkzD,eAAR,CAA0BA,eAA1B,CACAlzD,QAAQ40D,SAAR,CAAoBA,SAApB,CACA50D,QAAQw0D,YAAR,CAAuBA,YAAvB,CACAx0D,QAAQ6N,IAAR,CAAeo7C,MAAf,CACAjpD,QAAQmvD,eAAR,CAA0BA,eAA1B,CACAnvD,QAAQwvD,YAAR,CAAuBA,YAAvB,CACAxvD,QAAQ0vD,aAAR,CAAwBA,aAAxB,CACA1vD,QAAQgvD,YAAR,CAAuBA,YAAvB,CACAhvD,QAAQ4yD,SAAR,CAAoBA,SAApB,CACA5yD,QAAQivD,UAAR,CAAqBA,UAArB,CACAjvD,QAAQ21D,yBAAR,CAAoCA,yBAApC,CACA31D,QAAQowE,qBAAR,CAAgCA,qBAAhC,CACApwE,QAAQm2F,YAAR,CAAuBA,YAAvB,CACAn2F,QAAQ2R,cAAR,CAAyBA,cAAzB,CACA3R,QAAQ0R,aAAR,CAAwBA,aAAxB,CACA1R,QAAQsR,WAAR,CAAsBA,WAAtB,CACAtR,QAAQ8S,OAAR,CAAkBA,OAAlB,CACA9S,QAAQgjI,aAAR,CAAwBA,aAAxB,CACAhjI,QAAQwoG,eAAR,CAA0BA,eAA1B,CACAxoG,QAAQqoG,eAAR,CAA0BA,eAA1B,CACAroG,QAAQ8oG,uBAAR,CAAkCA,uBAAlC,CACA9oG,QAAQk2G,iBAAR,CAA4BA,iBAA5B,CACAl2G,QAAQi2G,aAAR,CAAwBA,aAAxB,CACAj2G,QAAQk3G,4BAAR,CAAuCA,4BAAvC,CACAl3G,QAAQ+2G,4BAAR,CAAuCA,4BAAvC,CACA/2G,QAAQk6G,iBAAR,CAA4BA,iBAA5B,CACAl6G,QAAQqT,OAAR,CAAkBA,OAAlB,CACArT,QAAQsT,OAAR,CAAkBA,OAAlB,CACAtT,QAAQ2T,YAAR,CAAuBA,YAAvB,CACA3T,QAAQ6T,OAAR,CAAkBA,OAAlB,CACA7T,QAAQgU,uBAAR,CAAkCA,uBAAlC,CACAhU,QAAQuU,aAAR,CAAwBA,aAAxB,CACAvU,QAAQgV,YAAR,CAAuBA,YAAvB,CACAhV,QAAQmV,WAAR,CAAsBA,WAAtB,CACAnV,QAAQuV,UAAR,CAAqBA,UAArB,CACAvV,QAAQkW,mBAAR,CAA8BA,mBAA9B,CACAlW,QAAQqW,yBAAR,CAAoCA,yBAApC,CACArW,QAAQyW,YAAR,CAAuBA,YAAvB,CACAzW,QAAQ+W,WAAR,CAAsBA,WAAtB,CACA/W,QAAQsX,YAAR,CAAuBA,YAAvB,CACAtX,QAAQwX,mBAAR,CAA8BA,mBAA9B,CACAxX,QAAQ0X,2BAAR,CAAsCA,2BAAtC,CACA1X,QAAQ6X,gBAAR,CAA2BA,gBAA3B,CACA7X,QAAQqZ,kBAAR,CAA6BA,kBAA7B,CACArZ,QAAQuZ,cAAR,CAAyBA,cAAzB,CACAvZ,QAAQ4Z,mBAAR,CAA8BA,mBAA9B,CACA5Z,QAAQ6Z,aAAR,CAAwBA,aAAxB,CACA7Z,QAAQga,gBAAR,CAA2BA,gBAA3B,CACAha,QAAQia,iBAAR,CAA4BA,iBAA5B,CACAja,QAAQka,oBAAR,CAA+BA,oBAA/B,CACAla,QAAQoa,SAAR,CAAoBA,SAApB,CACApa,QAAQqa,cAAR,CAAyBA,cAAzB,CACAra,QAAQsa,yBAAR,CAAoCA,yBAApC,CACAta,QAAQ2a,uBAAR,CAAkCA,uBAAlC,CACA3a,QAAQub,wBAAR,CAAmCA,wBAAnC,CACAvb,QAAQ6c,mBAAR,CAA8BA,mBAA9B,CACA7c,QAAQ+c,4BAAR,CAAuCA,4BAAvC,CACA/c,QAAQgd,uBAAR,CAAkCA,uBAAlC,CACAhd,QAAQ6d,iCAAR,CAA4CA,iCAA5C,CACA7d,QAAQkf,YAAR,CAAuBA,YAAvB,CACAlf,QAAQqb,OAAR,CAAkBA,OAAlB,CACArb,QAAQigB,iBAAR,CAA4BA,iBAA5B,CACAjgB,QAAQqgB,sBAAR,CAAiCA,sBAAjC,CACArgB,QAAQygB,cAAR,CAAyBA,cAAzB,CACAzgB,QAAQ2gB,cAAR,CAAyBA,cAAzB,CACA3gB,QAAQ04H,oBAAR,CAA+BA,oBAA/B,CACA14H,QAAQ44H,iBAAR,CAA4BA,iBAA5B,CACA54H,QAAQqlH,WAAR,CAAsBA,WAAtB,CACArlH,QAAQsuH,gBAAR,CAA2BA,gBAA3B,CACAtuH,QAAQumH,2BAAR,CAAsCA,2BAAtC,CACAvmH,QAAQ4mH,WAAR,CAAsBA,WAAtB,CACA5mH,QAAQ8mH,yBAAR,CAAoCA,yBAApC,CACA9mH,QAAQ0uH,kBAAR,CAA6BA,kBAA7B,CACA1uH,QAAQm6G,aAAR,CAAwBA,aAAxB,CACAn6G,QAAQu6G,YAAR,CAAuBA,YAAvB,CACAv6G,QAAQ+vH,cAAR,CAAyBA,cAAzB,CACA/vH,QAAQgwH,gBAAR,CAA2BA,gBAA3B,CACAhwH,QAAQ2wH,eAAR,CAA0BA,eAA1B,CACA3wH,QAAQ2Y,YAAR,CAAuBA,YAAvB,CACA3Y,QAAQgZ,iBAAR,CAA4BA,iBAA5B,CACAhZ,QAAQw7G,oBAAR,CAA+BA,oBAA/B,CACAx7G,QAAQ07G,oBAAR,CAA+BA,oBAA/B,CACA17G,QAAQk/G,kBAAR,CAA6BA,kBAA7B,CACAl/G,QAAQs9G,sBAAR,CAAiCA,sBAAjC,CACAt9G,QAAQi4H,kBAAR,CAA6BA,kBAA7B,CACAj4H,QAAQ4gB,OAAR,CAAkBA,OAAlB,CACA5gB,QAAQw5H,eAAR,CAA0BA,eAA1B,CACAx5H,QAAQy5H,kBAAR,CAA6BA,kBAA7B,CACAz5H,QAAQmgI,gBAAR,CAA2BA,gBAA3B,CACAngI,QAAQogI,qCAAR,CAAgDA,qCAAhD,CACApgI,QAAQsgI,+BAAR,CAA0CA,+BAA1C,CACAtgI,QAAQqgI,WAAR,CAAsBA,WAAtB,CACArgI,QAAQghI,YAAR,CAAuBA,YAAvB,CACAhhI,QAAQwiI,cAAR,CAAyBA,cAAzB,CACAxiI,QAAQq2E,qBAAR,CAAgCA,qBAAhC,CACAr2E,QAAQyiI,SAAR,CAAoBA,SAApB,CACAziI,QAAQqlD,cAAR,CAAyBA,cAAzB,CACArlD,QAAQmgG,aAAR,CAAwBA,aAAxB,CACAngG,QAAQ+5C,UAAR,CAAqBA,UAArB,CACA/5C,QAAQ+8C,KAAR,CAAgBA,KAAhB,CACA/8C,QAAQwgD,MAAR,CAAiBA,MAAjB,CACAxgD,QAAQwiD,GAAR,CAAcA,GAAd,CACAxiD,QAAQujD,GAAR,CAAcA,GAAd,CACAvjD,QAAQsmB,mBAAR,CAA8BA,mBAA9B,CACAtmB,QAAQm0B,WAAR,CAAsBA,WAAtB,CACAn0B,QAAQs0B,SAAR,CAAoBA,SAApB,CACAt0B,QAAQu0B,GAAR,CAAcA,GAAd,CACAv0B,QAAQw0B,KAAR,CAAgBA,KAAhB,CACAx0B,QAAQ40B,SAAR,CAAoBA,SAApB,CACA50B,QAAQ60B,gBAAR,CAA2BA,gBAA3B,CACA70B,QAAQ+0B,KAAR,CAAgBA,KAAhB,CACA/0B,QAAQk1B,WAAR,CAAsBA,WAAtB,CACAl1B,QAAQs1B,YAAR,CAAuBA,YAAvB,CACAt1B,QAAQy1B,aAAR,CAAwBA,aAAxB,CACAz1B,QAAQ21B,gBAAR,CAA2BA,gBAA3B,CACA31B,QAAQ61B,SAAR,CAAoBA,SAApB,CACA71B,QAAQ+1B,UAAR,CAAqBA,UAArB,CACA/1B,QAAQi2B,WAAR,CAAsBA,WAAtB,CACAj2B,QAAQo2B,gBAAR,CAA2BA,gBAA3B,CACAp2B,QAAQs2B,YAAR,CAAuBA,YAAvB,CACAt2B,QAAQw2B,UAAR,CAAqBA,UAArB,CACAx2B,QAAQ02B,aAAR,CAAwBA,aAAxB,CACA12B,QAAQ62B,MAAR,CAAiBA,MAAjB,CACA72B,QAAQk3B,SAAR,CAAoBA,SAApB,CACAl3B,QAAQo3B,aAAR,CAAwBA,aAAxB,CACAp3B,QAAQs3B,UAAR,CAAqBA,UAArB,CACAt3B,QAAQw3B,cAAR,CAAyBA,cAAzB,CACAx3B,QAAQ03B,YAAR,CAAuBA,YAAvB,CACA13B,QAAQ43B,aAAR,CAAwBA,aAAxB,CACA53B,QAAQ83B,eAAR,CAA0BA,eAA1B,CACA93B,QAAQg4B,cAAR,CAAyBA,cAAzB,CACAh4B,QAAQi4B,mBAAR,CAA8BA,mBAA9B,CACAj4B,QAAQk4B,cAAR,CAAyBA,cAAzB,CACAl4B,QAAQm4B,6BAAR,CAAwCA,6BAAxC,CACAn4B,QAAQs4B,gBAAR,CAA2BA,gBAA3B,CACAt4B,QAAQu4B,cAAR,CAAyBA,cAAzB,CACAv4B,QAAQ44B,WAAR,CAAsBA,WAAtB,CACA54B,QAAQ64B,cAAR,CAAyBA,cAAzB,CACA74B,QAAQ84B,oBAAR,CAA+BA,oBAA/B,CACA94B,QAAQ6vB,KAAR,CAAgBA,KAAhB,CACA7vB,QAAQowB,KAAR,CAAgBA,KAAhB,CACApwB,QAAQoyB,GAAR,CAAcA,GAAd,CACApyB,QAAQ+wB,YAAR,CAAuBA,YAAvB,CACA/wB,QAAQi0B,OAAR,CAAkBA,OAAlB,CACAj0B,QAAQ+4B,kBAAR,CAA6BA,kBAA7B,CACA/4B,QAAQi5B,0BAAR,CAAqCA,0BAArC,CACAj5B,QAAQu5B,MAAR,CAAiBA,MAAjB,CACAv5B,QAAQ65B,SAAR,CAAoBA,SAApB,CACA75B,QAAQu7D,oBAAR,CAA+BA,oBAA/B,CACAv7D,QAAQw7D,uBAAR,CAAkCA,uBAAlC,CACAx7D,QAAQuhB,IAAR,CAAeA,IAAf,CACAvhB,QAAQwhB,SAAR,CAAoBA,SAApB,CACAxhB,QAAQ6hB,aAAR,CAAwBA,aAAxB,CACA7hB,QAAQkiB,SAAR,CAAoBA,SAApB,CACAliB,QAAQqiB,OAAR,CAAkBA,OAAlB,CACAriB,QAAQuiB,OAAR,CAAkBA,OAAlB,CACAviB,QAAQyiB,QAAR,CAAmBA,QAAnB,CACAziB,QAAQ2iB,gBAAR,CAA2BA,gBAA3B,CACA3iB,QAAQgjB,QAAR,CAAmBA,QAAnB,CACAhjB,QAAQgkD,UAAR,CAAqBA,UAArB,CACAhkD,QAAQ0oC,eAAR,CAA0BA,eAA1B,CACA1oC,QAAQyoC,SAAR,CAAoBA,SAApB,CACAzoC,QAAQgE,iBAAR,CAA4BA,iBAA5B,CACAhE,QAAQ4F,oBAAR,CAA+BA,oBAA/B,CACA5F,QAAQ+C,WAAR,CAAsBA,WAAtB,CACA/C,QAAQqD,aAAR,CAAwBA,aAAxB,CACArD,QAAQuD,WAAR,CAAsBA,WAAtB,CACAvD,QAAQwD,YAAR,CAAuBA,YAAvB,CACAxD,QAAQyD,WAAR,CAAsBA,WAAtB,CACAzD,QAAQ2D,cAAR,CAAyBA,cAAzB,CACA3D,QAAQ8D,cAAR,CAAyBA,cAAzB,CACA9D,QAAQ+D,YAAR,CAAuBA,YAAvB,CACA/D,QAAQqzE,0BAAR,CAAqCA,0BAArC,CACArzE,QAAQuzE,iBAAR,CAA4BA,iBAA5B,CACAvzE,QAAQw+B,aAAR,CAAwBA,aAAxB,CACAx+B,QAAQ6/B,eAAR,CAA0BA,eAA1B,CACA7/B,QAAQ8/B,eAAR,CAA0BA,eAA1B,CACA9/B,QAAQigC,UAAR,CAAqBA,UAArB,CACAjgC,QAAQsgC,cAAR,CAAyBA,cAAzB,CACAtgC,QAAQ42E,wBAAR,CAAmCA,wBAAnC,CACA52E,QAAQiG,WAAR,CAAsBA,WAAtB,CACAjG,QAAQkI,eAAR,CAA0BA,eAA1B,CACAlI,QAAQiJ,mBAAR,CAA8BA,mBAA9B,CACAjJ,QAAQqJ,eAAR,CAA0BA,eAA1B,CACArJ,QAAQ4+E,uBAAR,CAAkCA,uBAAlC,CACA5+E,QAAQ8+E,kBAAR,CAA6BA,kBAA7B,CACA9+E,QAAQk/E,aAAR,CAAwBA,aAAxB,CACAl/E,QAAQumF,kBAAR,CAA6BA,kBAA7B,CACAvmF,QAAQwmF,mBAAR,CAA8BA,mBAA9B,CACAxmF,QAAQ2mF,cAAR,CAAyBA,cAAzB,CACA3mF,QAAQ2tF,YAAR,CAAuBA,YAAvB,CACA3tF,QAAQ6pF,wBAAR,CAAmCA,wBAAnC,CACA7pF,QAAQmnF,uBAAR,CAAkCA,uBAAlC,CACAnnF,QAAQ2iI,iBAAR,CAA4BA,iBAA5B,CAEAliI,OAAOsgB,cAAP,CAAsB/gB,OAAtB,CAA+B,YAA/B,CAA6C,CAAEoC,MAAO,IAAT,CAA7C,EAEH,CA52wBA,CAAD,CA62wBA","file":"compiler.umd.js","sourcesContent":["/**\n * @license Angular v6.1.10\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define('@angular/compiler', ['exports'], factory) :\n    (factory((global.ng = global.ng || {}, global.ng.compiler = {})));\n}(this, (function (exports) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __values(o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    }\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spread() {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    (function (TagContentType) {\n        TagContentType[TagContentType[\"RAW_TEXT\"] = 0] = \"RAW_TEXT\";\n        TagContentType[TagContentType[\"ESCAPABLE_RAW_TEXT\"] = 1] = \"ESCAPABLE_RAW_TEXT\";\n        TagContentType[TagContentType[\"PARSABLE_DATA\"] = 2] = \"PARSABLE_DATA\";\n    })(exports.TagContentType || (exports.TagContentType = {}));\n    function splitNsName(elementName) {\n        if (elementName[0] != ':') {\n            return [null, elementName];\n        }\n        var colonIndex = elementName.indexOf(':', 1);\n        if (colonIndex == -1) {\n            throw new Error(\"Unsupported format \\\"\" + elementName + \"\\\" expecting \\\":namespace:name\\\"\");\n        }\n        return [elementName.slice(1, colonIndex), elementName.slice(colonIndex + 1)];\n    }\n    // `<ng-container>` tags work the same regardless the namespace\n    function isNgContainer(tagName) {\n        return splitNsName(tagName)[1] === 'ng-container';\n    }\n    // `<ng-content>` tags work the same regardless the namespace\n    function isNgContent(tagName) {\n        return splitNsName(tagName)[1] === 'ng-content';\n    }\n    // `<ng-template>` tags work the same regardless the namespace\n    function isNgTemplate(tagName) {\n        return splitNsName(tagName)[1] === 'ng-template';\n    }\n    function getNsPrefix(fullName) {\n        return fullName === null ? null : splitNsName(fullName)[0];\n    }\n    function mergeNsAndName(prefix, localName) {\n        return prefix ? \":\" + prefix + \":\" + localName : localName;\n    }\n    // see http://www.w3.org/TR/html51/syntax.html#named-character-references\n    // see https://html.spec.whatwg.org/multipage/entities.json\n    // This list is not exhaustive to keep the compiler footprint low.\n    // The `&#123;` / `&#x1ab;` syntax should be used when the named character reference does not\n    // exist.\n    var NAMED_ENTITIES = {\n        'Aacute': '\\u00C1',\n        'aacute': '\\u00E1',\n        'Acirc': '\\u00C2',\n        'acirc': '\\u00E2',\n        'acute': '\\u00B4',\n        'AElig': '\\u00C6',\n        'aelig': '\\u00E6',\n        'Agrave': '\\u00C0',\n        'agrave': '\\u00E0',\n        'alefsym': '\\u2135',\n        'Alpha': '\\u0391',\n        'alpha': '\\u03B1',\n        'amp': '&',\n        'and': '\\u2227',\n        'ang': '\\u2220',\n        'apos': '\\u0027',\n        'Aring': '\\u00C5',\n        'aring': '\\u00E5',\n        'asymp': '\\u2248',\n        'Atilde': '\\u00C3',\n        'atilde': '\\u00E3',\n        'Auml': '\\u00C4',\n        'auml': '\\u00E4',\n        'bdquo': '\\u201E',\n        'Beta': '\\u0392',\n        'beta': '\\u03B2',\n        'brvbar': '\\u00A6',\n        'bull': '\\u2022',\n        'cap': '\\u2229',\n        'Ccedil': '\\u00C7',\n        'ccedil': '\\u00E7',\n        'cedil': '\\u00B8',\n        'cent': '\\u00A2',\n        'Chi': '\\u03A7',\n        'chi': '\\u03C7',\n        'circ': '\\u02C6',\n        'clubs': '\\u2663',\n        'cong': '\\u2245',\n        'copy': '\\u00A9',\n        'crarr': '\\u21B5',\n        'cup': '\\u222A',\n        'curren': '\\u00A4',\n        'dagger': '\\u2020',\n        'Dagger': '\\u2021',\n        'darr': '\\u2193',\n        'dArr': '\\u21D3',\n        'deg': '\\u00B0',\n        'Delta': '\\u0394',\n        'delta': '\\u03B4',\n        'diams': '\\u2666',\n        'divide': '\\u00F7',\n        'Eacute': '\\u00C9',\n        'eacute': '\\u00E9',\n        'Ecirc': '\\u00CA',\n        'ecirc': '\\u00EA',\n        'Egrave': '\\u00C8',\n        'egrave': '\\u00E8',\n        'empty': '\\u2205',\n        'emsp': '\\u2003',\n        'ensp': '\\u2002',\n        'Epsilon': '\\u0395',\n        'epsilon': '\\u03B5',\n        'equiv': '\\u2261',\n        'Eta': '\\u0397',\n        'eta': '\\u03B7',\n        'ETH': '\\u00D0',\n        'eth': '\\u00F0',\n        'Euml': '\\u00CB',\n        'euml': '\\u00EB',\n        'euro': '\\u20AC',\n        'exist': '\\u2203',\n        'fnof': '\\u0192',\n        'forall': '\\u2200',\n        'frac12': '\\u00BD',\n        'frac14': '\\u00BC',\n        'frac34': '\\u00BE',\n        'frasl': '\\u2044',\n        'Gamma': '\\u0393',\n        'gamma': '\\u03B3',\n        'ge': '\\u2265',\n        'gt': '>',\n        'harr': '\\u2194',\n        'hArr': '\\u21D4',\n        'hearts': '\\u2665',\n        'hellip': '\\u2026',\n        'Iacute': '\\u00CD',\n        'iacute': '\\u00ED',\n        'Icirc': '\\u00CE',\n        'icirc': '\\u00EE',\n        'iexcl': '\\u00A1',\n        'Igrave': '\\u00CC',\n        'igrave': '\\u00EC',\n        'image': '\\u2111',\n        'infin': '\\u221E',\n        'int': '\\u222B',\n        'Iota': '\\u0399',\n        'iota': '\\u03B9',\n        'iquest': '\\u00BF',\n        'isin': '\\u2208',\n        'Iuml': '\\u00CF',\n        'iuml': '\\u00EF',\n        'Kappa': '\\u039A',\n        'kappa': '\\u03BA',\n        'Lambda': '\\u039B',\n        'lambda': '\\u03BB',\n        'lang': '\\u27E8',\n        'laquo': '\\u00AB',\n        'larr': '\\u2190',\n        'lArr': '\\u21D0',\n        'lceil': '\\u2308',\n        'ldquo': '\\u201C',\n        'le': '\\u2264',\n        'lfloor': '\\u230A',\n        'lowast': '\\u2217',\n        'loz': '\\u25CA',\n        'lrm': '\\u200E',\n        'lsaquo': '\\u2039',\n        'lsquo': '\\u2018',\n        'lt': '<',\n        'macr': '\\u00AF',\n        'mdash': '\\u2014',\n        'micro': '\\u00B5',\n        'middot': '\\u00B7',\n        'minus': '\\u2212',\n        'Mu': '\\u039C',\n        'mu': '\\u03BC',\n        'nabla': '\\u2207',\n        'nbsp': '\\u00A0',\n        'ndash': '\\u2013',\n        'ne': '\\u2260',\n        'ni': '\\u220B',\n        'not': '\\u00AC',\n        'notin': '\\u2209',\n        'nsub': '\\u2284',\n        'Ntilde': '\\u00D1',\n        'ntilde': '\\u00F1',\n        'Nu': '\\u039D',\n        'nu': '\\u03BD',\n        'Oacute': '\\u00D3',\n        'oacute': '\\u00F3',\n        'Ocirc': '\\u00D4',\n        'ocirc': '\\u00F4',\n        'OElig': '\\u0152',\n        'oelig': '\\u0153',\n        'Ograve': '\\u00D2',\n        'ograve': '\\u00F2',\n        'oline': '\\u203E',\n        'Omega': '\\u03A9',\n        'omega': '\\u03C9',\n        'Omicron': '\\u039F',\n        'omicron': '\\u03BF',\n        'oplus': '\\u2295',\n        'or': '\\u2228',\n        'ordf': '\\u00AA',\n        'ordm': '\\u00BA',\n        'Oslash': '\\u00D8',\n        'oslash': '\\u00F8',\n        'Otilde': '\\u00D5',\n        'otilde': '\\u00F5',\n        'otimes': '\\u2297',\n        'Ouml': '\\u00D6',\n        'ouml': '\\u00F6',\n        'para': '\\u00B6',\n        'permil': '\\u2030',\n        'perp': '\\u22A5',\n        'Phi': '\\u03A6',\n        'phi': '\\u03C6',\n        'Pi': '\\u03A0',\n        'pi': '\\u03C0',\n        'piv': '\\u03D6',\n        'plusmn': '\\u00B1',\n        'pound': '\\u00A3',\n        'prime': '\\u2032',\n        'Prime': '\\u2033',\n        'prod': '\\u220F',\n        'prop': '\\u221D',\n        'Psi': '\\u03A8',\n        'psi': '\\u03C8',\n        'quot': '\\u0022',\n        'radic': '\\u221A',\n        'rang': '\\u27E9',\n        'raquo': '\\u00BB',\n        'rarr': '\\u2192',\n        'rArr': '\\u21D2',\n        'rceil': '\\u2309',\n        'rdquo': '\\u201D',\n        'real': '\\u211C',\n        'reg': '\\u00AE',\n        'rfloor': '\\u230B',\n        'Rho': '\\u03A1',\n        'rho': '\\u03C1',\n        'rlm': '\\u200F',\n        'rsaquo': '\\u203A',\n        'rsquo': '\\u2019',\n        'sbquo': '\\u201A',\n        'Scaron': '\\u0160',\n        'scaron': '\\u0161',\n        'sdot': '\\u22C5',\n        'sect': '\\u00A7',\n        'shy': '\\u00AD',\n        'Sigma': '\\u03A3',\n        'sigma': '\\u03C3',\n        'sigmaf': '\\u03C2',\n        'sim': '\\u223C',\n        'spades': '\\u2660',\n        'sub': '\\u2282',\n        'sube': '\\u2286',\n        'sum': '\\u2211',\n        'sup': '\\u2283',\n        'sup1': '\\u00B9',\n        'sup2': '\\u00B2',\n        'sup3': '\\u00B3',\n        'supe': '\\u2287',\n        'szlig': '\\u00DF',\n        'Tau': '\\u03A4',\n        'tau': '\\u03C4',\n        'there4': '\\u2234',\n        'Theta': '\\u0398',\n        'theta': '\\u03B8',\n        'thetasym': '\\u03D1',\n        'thinsp': '\\u2009',\n        'THORN': '\\u00DE',\n        'thorn': '\\u00FE',\n        'tilde': '\\u02DC',\n        'times': '\\u00D7',\n        'trade': '\\u2122',\n        'Uacute': '\\u00DA',\n        'uacute': '\\u00FA',\n        'uarr': '\\u2191',\n        'uArr': '\\u21D1',\n        'Ucirc': '\\u00DB',\n        'ucirc': '\\u00FB',\n        'Ugrave': '\\u00D9',\n        'ugrave': '\\u00F9',\n        'uml': '\\u00A8',\n        'upsih': '\\u03D2',\n        'Upsilon': '\\u03A5',\n        'upsilon': '\\u03C5',\n        'Uuml': '\\u00DC',\n        'uuml': '\\u00FC',\n        'weierp': '\\u2118',\n        'Xi': '\\u039E',\n        'xi': '\\u03BE',\n        'Yacute': '\\u00DD',\n        'yacute': '\\u00FD',\n        'yen': '\\u00A5',\n        'yuml': '\\u00FF',\n        'Yuml': '\\u0178',\n        'Zeta': '\\u0396',\n        'zeta': '\\u03B6',\n        'zwj': '\\u200D',\n        'zwnj': '\\u200C',\n    };\n    // The &ngsp; pseudo-entity is denoting a space. see:\n    // https://github.com/dart-lang/angular/blob/0bb611387d29d65b5af7f9d2515ab571fd3fbee4/_tests/test/compiler/preserve_whitespace_test.dart\n    var NGSP_UNICODE = '\\uE500';\n    NAMED_ENTITIES['ngsp'] = NGSP_UNICODE;\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var HtmlTagDefinition = /** @class */ (function () {\n        function HtmlTagDefinition(_a) {\n            var _b = _a === void 0 ? {} : _a, closedByChildren = _b.closedByChildren, requiredParents = _b.requiredParents, implicitNamespacePrefix = _b.implicitNamespacePrefix, _c = _b.contentType, contentType = _c === void 0 ? exports.TagContentType.PARSABLE_DATA : _c, _d = _b.closedByParent, closedByParent = _d === void 0 ? false : _d, _e = _b.isVoid, isVoid = _e === void 0 ? false : _e, _f = _b.ignoreFirstLf, ignoreFirstLf = _f === void 0 ? false : _f;\n            var _this = this;\n            this.closedByChildren = {};\n            this.closedByParent = false;\n            this.canSelfClose = false;\n            if (closedByChildren && closedByChildren.length > 0) {\n                closedByChildren.forEach(function (tagName) { return _this.closedByChildren[tagName] = true; });\n            }\n            this.isVoid = isVoid;\n            this.closedByParent = closedByParent || isVoid;\n            if (requiredParents && requiredParents.length > 0) {\n                this.requiredParents = {};\n                // The first parent is the list is automatically when none of the listed parents are present\n                this.parentToAdd = requiredParents[0];\n                requiredParents.forEach(function (tagName) { return _this.requiredParents[tagName] = true; });\n            }\n            this.implicitNamespacePrefix = implicitNamespacePrefix || null;\n            this.contentType = contentType;\n            this.ignoreFirstLf = ignoreFirstLf;\n        }\n        HtmlTagDefinition.prototype.requireExtraParent = function (currentParent) {\n            if (!this.requiredParents) {\n                return false;\n            }\n            if (!currentParent) {\n                return true;\n            }\n            var lcParent = currentParent.toLowerCase();\n            var isParentTemplate = lcParent === 'template' || currentParent === 'ng-template';\n            return !isParentTemplate && this.requiredParents[lcParent] != true;\n        };\n        HtmlTagDefinition.prototype.isClosedByChild = function (name) {\n            return this.isVoid || name.toLowerCase() in this.closedByChildren;\n        };\n        return HtmlTagDefinition;\n    }());\n    var _DEFAULT_TAG_DEFINITION;\n    // see http://www.w3.org/TR/html51/syntax.html#optional-tags\n    // This implementation does not fully conform to the HTML5 spec.\n    var TAG_DEFINITIONS;\n    function getHtmlTagDefinition(tagName) {\n        if (!TAG_DEFINITIONS) {\n            _DEFAULT_TAG_DEFINITION = new HtmlTagDefinition();\n            TAG_DEFINITIONS = {\n                'base': new HtmlTagDefinition({ isVoid: true }),\n                'meta': new HtmlTagDefinition({ isVoid: true }),\n                'area': new HtmlTagDefinition({ isVoid: true }),\n                'embed': new HtmlTagDefinition({ isVoid: true }),\n                'link': new HtmlTagDefinition({ isVoid: true }),\n                'img': new HtmlTagDefinition({ isVoid: true }),\n                'input': new HtmlTagDefinition({ isVoid: true }),\n                'param': new HtmlTagDefinition({ isVoid: true }),\n                'hr': new HtmlTagDefinition({ isVoid: true }),\n                'br': new HtmlTagDefinition({ isVoid: true }),\n                'source': new HtmlTagDefinition({ isVoid: true }),\n                'track': new HtmlTagDefinition({ isVoid: true }),\n                'wbr': new HtmlTagDefinition({ isVoid: true }),\n                'p': new HtmlTagDefinition({\n                    closedByChildren: [\n                        'address', 'article', 'aside', 'blockquote', 'div', 'dl', 'fieldset',\n                        'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5',\n                        'h6', 'header', 'hgroup', 'hr', 'main', 'nav', 'ol',\n                        'p', 'pre', 'section', 'table', 'ul'\n                    ],\n                    closedByParent: true\n                }),\n                'thead': new HtmlTagDefinition({ closedByChildren: ['tbody', 'tfoot'] }),\n                'tbody': new HtmlTagDefinition({ closedByChildren: ['tbody', 'tfoot'], closedByParent: true }),\n                'tfoot': new HtmlTagDefinition({ closedByChildren: ['tbody'], closedByParent: true }),\n                'tr': new HtmlTagDefinition({\n                    closedByChildren: ['tr'],\n                    requiredParents: ['tbody', 'tfoot', 'thead'],\n                    closedByParent: true\n                }),\n                'td': new HtmlTagDefinition({ closedByChildren: ['td', 'th'], closedByParent: true }),\n                'th': new HtmlTagDefinition({ closedByChildren: ['td', 'th'], closedByParent: true }),\n                'col': new HtmlTagDefinition({ requiredParents: ['colgroup'], isVoid: true }),\n                'svg': new HtmlTagDefinition({ implicitNamespacePrefix: 'svg' }),\n                'math': new HtmlTagDefinition({ implicitNamespacePrefix: 'math' }),\n                'li': new HtmlTagDefinition({ closedByChildren: ['li'], closedByParent: true }),\n                'dt': new HtmlTagDefinition({ closedByChildren: ['dt', 'dd'] }),\n                'dd': new HtmlTagDefinition({ closedByChildren: ['dt', 'dd'], closedByParent: true }),\n                'rb': new HtmlTagDefinition({ closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true }),\n                'rt': new HtmlTagDefinition({ closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true }),\n                'rtc': new HtmlTagDefinition({ closedByChildren: ['rb', 'rtc', 'rp'], closedByParent: true }),\n                'rp': new HtmlTagDefinition({ closedByChildren: ['rb', 'rt', 'rtc', 'rp'], closedByParent: true }),\n                'optgroup': new HtmlTagDefinition({ closedByChildren: ['optgroup'], closedByParent: true }),\n                'option': new HtmlTagDefinition({ closedByChildren: ['option', 'optgroup'], closedByParent: true }),\n                'pre': new HtmlTagDefinition({ ignoreFirstLf: true }),\n                'listing': new HtmlTagDefinition({ ignoreFirstLf: true }),\n                'style': new HtmlTagDefinition({ contentType: exports.TagContentType.RAW_TEXT }),\n                'script': new HtmlTagDefinition({ contentType: exports.TagContentType.RAW_TEXT }),\n                'title': new HtmlTagDefinition({ contentType: exports.TagContentType.ESCAPABLE_RAW_TEXT }),\n                'textarea': new HtmlTagDefinition({ contentType: exports.TagContentType.ESCAPABLE_RAW_TEXT, ignoreFirstLf: true }),\n            };\n        }\n        return TAG_DEFINITIONS[tagName.toLowerCase()] || _DEFAULT_TAG_DEFINITION;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _SELECTOR_REGEXP = new RegExp('(\\\\:not\\\\()|' + //\":not(\"\n        '([-\\\\w]+)|' + // \"tag\"\n        '(?:\\\\.([-\\\\w]+))|' + // \".class\"\n        // \"-\" should appear first in the regexp below as FF31 parses \"[.-\\w]\" as a range\n        '(?:\\\\[([-.\\\\w*]+)(?:=([\\\"\\']?)([^\\\\]\\\"\\']*)\\\\5)?\\\\])|' + // \"[name]\", \"[name=value]\",\n        // \"[name=\"value\"]\",\n        // \"[name='value']\"\n        '(\\\\))|' + // \")\"\n        '(\\\\s*,\\\\s*)', // \",\"\n    'g');\n    /**\n     * A css selector contains an element name,\n     * css classes and attribute/value pairs with the purpose\n     * of selecting subsets out of them.\n     */\n    var CssSelector = /** @class */ (function () {\n        function CssSelector() {\n            this.element = null;\n            this.classNames = [];\n            /**\n             * The selectors are encoded in pairs where:\n             * - even locations are attribute names\n             * - odd locations are attribute values.\n             *\n             * Example:\n             * Selector: `[key1=value1][key2]` would parse to:\n             * ```\n             * ['key1', 'value1', 'key2', '']\n             * ```\n             */\n            this.attrs = [];\n            this.notSelectors = [];\n        }\n        CssSelector.parse = function (selector) {\n            var results = [];\n            var _addResult = function (res, cssSel) {\n                if (cssSel.notSelectors.length > 0 && !cssSel.element && cssSel.classNames.length == 0 &&\n                    cssSel.attrs.length == 0) {\n                    cssSel.element = '*';\n                }\n                res.push(cssSel);\n            };\n            var cssSelector = new CssSelector();\n            var match;\n            var current = cssSelector;\n            var inNot = false;\n            _SELECTOR_REGEXP.lastIndex = 0;\n            while (match = _SELECTOR_REGEXP.exec(selector)) {\n                if (match[1]) {\n                    if (inNot) {\n                        throw new Error('Nesting :not is not allowed in a selector');\n                    }\n                    inNot = true;\n                    current = new CssSelector();\n                    cssSelector.notSelectors.push(current);\n                }\n                if (match[2]) {\n                    current.setElement(match[2]);\n                }\n                if (match[3]) {\n                    current.addClassName(match[3]);\n                }\n                if (match[4]) {\n                    current.addAttribute(match[4], match[6]);\n                }\n                if (match[7]) {\n                    inNot = false;\n                    current = cssSelector;\n                }\n                if (match[8]) {\n                    if (inNot) {\n                        throw new Error('Multiple selectors in :not are not supported');\n                    }\n                    _addResult(results, cssSelector);\n                    cssSelector = current = new CssSelector();\n                }\n            }\n            _addResult(results, cssSelector);\n            return results;\n        };\n        CssSelector.prototype.isElementSelector = function () {\n            return this.hasElementSelector() && this.classNames.length == 0 && this.attrs.length == 0 &&\n                this.notSelectors.length === 0;\n        };\n        CssSelector.prototype.hasElementSelector = function () { return !!this.element; };\n        CssSelector.prototype.setElement = function (element) {\n            if (element === void 0) { element = null; }\n            this.element = element;\n        };\n        /** Gets a template string for an element that matches the selector. */\n        CssSelector.prototype.getMatchingElementTemplate = function () {\n            var tagName = this.element || 'div';\n            var classAttr = this.classNames.length > 0 ? \" class=\\\"\" + this.classNames.join(' ') + \"\\\"\" : '';\n            var attrs = '';\n            for (var i = 0; i < this.attrs.length; i += 2) {\n                var attrName = this.attrs[i];\n                var attrValue = this.attrs[i + 1] !== '' ? \"=\\\"\" + this.attrs[i + 1] + \"\\\"\" : '';\n                attrs += \" \" + attrName + attrValue;\n            }\n            return getHtmlTagDefinition(tagName).isVoid ? \"<\" + tagName + classAttr + attrs + \"/>\" :\n                \"<\" + tagName + classAttr + attrs + \"></\" + tagName + \">\";\n        };\n        CssSelector.prototype.getAttrs = function () {\n            var result = [];\n            if (this.classNames.length > 0) {\n                result.push('class', this.classNames.join(' '));\n            }\n            return result.concat(this.attrs);\n        };\n        CssSelector.prototype.addAttribute = function (name, value) {\n            if (value === void 0) { value = ''; }\n            this.attrs.push(name, value && value.toLowerCase() || '');\n        };\n        CssSelector.prototype.addClassName = function (name) { this.classNames.push(name.toLowerCase()); };\n        CssSelector.prototype.toString = function () {\n            var res = this.element || '';\n            if (this.classNames) {\n                this.classNames.forEach(function (klass) { return res += \".\" + klass; });\n            }\n            if (this.attrs) {\n                for (var i = 0; i < this.attrs.length; i += 2) {\n                    var name_1 = this.attrs[i];\n                    var value = this.attrs[i + 1];\n                    res += \"[\" + name_1 + (value ? '=' + value : '') + \"]\";\n                }\n            }\n            this.notSelectors.forEach(function (notSelector) { return res += \":not(\" + notSelector + \")\"; });\n            return res;\n        };\n        return CssSelector;\n    }());\n    /**\n     * Reads a list of CssSelectors and allows to calculate which ones\n     * are contained in a given CssSelector.\n     */\n    var SelectorMatcher = /** @class */ (function () {\n        function SelectorMatcher() {\n            this._elementMap = new Map();\n            this._elementPartialMap = new Map();\n            this._classMap = new Map();\n            this._classPartialMap = new Map();\n            this._attrValueMap = new Map();\n            this._attrValuePartialMap = new Map();\n            this._listContexts = [];\n        }\n        SelectorMatcher.createNotMatcher = function (notSelectors) {\n            var notMatcher = new SelectorMatcher();\n            notMatcher.addSelectables(notSelectors, null);\n            return notMatcher;\n        };\n        SelectorMatcher.prototype.addSelectables = function (cssSelectors, callbackCtxt) {\n            var listContext = null;\n            if (cssSelectors.length > 1) {\n                listContext = new SelectorListContext(cssSelectors);\n                this._listContexts.push(listContext);\n            }\n            for (var i = 0; i < cssSelectors.length; i++) {\n                this._addSelectable(cssSelectors[i], callbackCtxt, listContext);\n            }\n        };\n        /**\n         * Add an object that can be found later on by calling `match`.\n         * @param cssSelector A css selector\n         * @param callbackCtxt An opaque object that will be given to the callback of the `match` function\n         */\n        SelectorMatcher.prototype._addSelectable = function (cssSelector, callbackCtxt, listContext) {\n            var matcher = this;\n            var element = cssSelector.element;\n            var classNames = cssSelector.classNames;\n            var attrs = cssSelector.attrs;\n            var selectable = new SelectorContext(cssSelector, callbackCtxt, listContext);\n            if (element) {\n                var isTerminal = attrs.length === 0 && classNames.length === 0;\n                if (isTerminal) {\n                    this._addTerminal(matcher._elementMap, element, selectable);\n                }\n                else {\n                    matcher = this._addPartial(matcher._elementPartialMap, element);\n                }\n            }\n            if (classNames) {\n                for (var i = 0; i < classNames.length; i++) {\n                    var isTerminal = attrs.length === 0 && i === classNames.length - 1;\n                    var className = classNames[i];\n                    if (isTerminal) {\n                        this._addTerminal(matcher._classMap, className, selectable);\n                    }\n                    else {\n                        matcher = this._addPartial(matcher._classPartialMap, className);\n                    }\n                }\n            }\n            if (attrs) {\n                for (var i = 0; i < attrs.length; i += 2) {\n                    var isTerminal = i === attrs.length - 2;\n                    var name_2 = attrs[i];\n                    var value = attrs[i + 1];\n                    if (isTerminal) {\n                        var terminalMap = matcher._attrValueMap;\n                        var terminalValuesMap = terminalMap.get(name_2);\n                        if (!terminalValuesMap) {\n                            terminalValuesMap = new Map();\n                            terminalMap.set(name_2, terminalValuesMap);\n                        }\n                        this._addTerminal(terminalValuesMap, value, selectable);\n                    }\n                    else {\n                        var partialMap = matcher._attrValuePartialMap;\n                        var partialValuesMap = partialMap.get(name_2);\n                        if (!partialValuesMap) {\n                            partialValuesMap = new Map();\n                            partialMap.set(name_2, partialValuesMap);\n                        }\n                        matcher = this._addPartial(partialValuesMap, value);\n                    }\n                }\n            }\n        };\n        SelectorMatcher.prototype._addTerminal = function (map, name, selectable) {\n            var terminalList = map.get(name);\n            if (!terminalList) {\n                terminalList = [];\n                map.set(name, terminalList);\n            }\n            terminalList.push(selectable);\n        };\n        SelectorMatcher.prototype._addPartial = function (map, name) {\n            var matcher = map.get(name);\n            if (!matcher) {\n                matcher = new SelectorMatcher();\n                map.set(name, matcher);\n            }\n            return matcher;\n        };\n        /**\n         * Find the objects that have been added via `addSelectable`\n         * whose css selector is contained in the given css selector.\n         * @param cssSelector A css selector\n         * @param matchedCallback This callback will be called with the object handed into `addSelectable`\n         * @return boolean true if a match was found\n        */\n        SelectorMatcher.prototype.match = function (cssSelector, matchedCallback) {\n            var result = false;\n            var element = cssSelector.element;\n            var classNames = cssSelector.classNames;\n            var attrs = cssSelector.attrs;\n            for (var i = 0; i < this._listContexts.length; i++) {\n                this._listContexts[i].alreadyMatched = false;\n            }\n            result = this._matchTerminal(this._elementMap, element, cssSelector, matchedCallback) || result;\n            result = this._matchPartial(this._elementPartialMap, element, cssSelector, matchedCallback) ||\n                result;\n            if (classNames) {\n                for (var i = 0; i < classNames.length; i++) {\n                    var className = classNames[i];\n                    result =\n                        this._matchTerminal(this._classMap, className, cssSelector, matchedCallback) || result;\n                    result =\n                        this._matchPartial(this._classPartialMap, className, cssSelector, matchedCallback) ||\n                            result;\n                }\n            }\n            if (attrs) {\n                for (var i = 0; i < attrs.length; i += 2) {\n                    var name_3 = attrs[i];\n                    var value = attrs[i + 1];\n                    var terminalValuesMap = this._attrValueMap.get(name_3);\n                    if (value) {\n                        result =\n                            this._matchTerminal(terminalValuesMap, '', cssSelector, matchedCallback) || result;\n                    }\n                    result =\n                        this._matchTerminal(terminalValuesMap, value, cssSelector, matchedCallback) || result;\n                    var partialValuesMap = this._attrValuePartialMap.get(name_3);\n                    if (value) {\n                        result = this._matchPartial(partialValuesMap, '', cssSelector, matchedCallback) || result;\n                    }\n                    result =\n                        this._matchPartial(partialValuesMap, value, cssSelector, matchedCallback) || result;\n                }\n            }\n            return result;\n        };\n        /** @internal */\n        SelectorMatcher.prototype._matchTerminal = function (map, name, cssSelector, matchedCallback) {\n            if (!map || typeof name !== 'string') {\n                return false;\n            }\n            var selectables = map.get(name) || [];\n            var starSelectables = map.get('*');\n            if (starSelectables) {\n                selectables = selectables.concat(starSelectables);\n            }\n            if (selectables.length === 0) {\n                return false;\n            }\n            var selectable;\n            var result = false;\n            for (var i = 0; i < selectables.length; i++) {\n                selectable = selectables[i];\n                result = selectable.finalize(cssSelector, matchedCallback) || result;\n            }\n            return result;\n        };\n        /** @internal */\n        SelectorMatcher.prototype._matchPartial = function (map, name, cssSelector, matchedCallback) {\n            if (!map || typeof name !== 'string') {\n                return false;\n            }\n            var nestedSelector = map.get(name);\n            if (!nestedSelector) {\n                return false;\n            }\n            // TODO(perf): get rid of recursion and measure again\n            // TODO(perf): don't pass the whole selector into the recursion,\n            // but only the not processed parts\n            return nestedSelector.match(cssSelector, matchedCallback);\n        };\n        return SelectorMatcher;\n    }());\n    var SelectorListContext = /** @class */ (function () {\n        function SelectorListContext(selectors) {\n            this.selectors = selectors;\n            this.alreadyMatched = false;\n        }\n        return SelectorListContext;\n    }());\n    // Store context to pass back selector and context when a selector is matched\n    var SelectorContext = /** @class */ (function () {\n        function SelectorContext(selector, cbContext, listContext) {\n            this.selector = selector;\n            this.cbContext = cbContext;\n            this.listContext = listContext;\n            this.notSelectors = selector.notSelectors;\n        }\n        SelectorContext.prototype.finalize = function (cssSelector, callback) {\n            var result = true;\n            if (this.notSelectors.length > 0 && (!this.listContext || !this.listContext.alreadyMatched)) {\n                var notMatcher = SelectorMatcher.createNotMatcher(this.notSelectors);\n                result = !notMatcher.match(cssSelector, null);\n            }\n            if (result && callback && (!this.listContext || !this.listContext.alreadyMatched)) {\n                if (this.listContext) {\n                    this.listContext.alreadyMatched = true;\n                }\n                callback(this.selector, this.cbContext);\n            }\n            return result;\n        };\n        return SelectorContext;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var createInject = makeMetadataFactory('Inject', function (token) { return ({ token: token }); });\n    var createInjectionToken = makeMetadataFactory('InjectionToken', function (desc) { return ({ _desc: desc, ngInjectableDef: undefined }); });\n    var createAttribute = makeMetadataFactory('Attribute', function (attributeName) { return ({ attributeName: attributeName }); });\n    var createContentChildren = makeMetadataFactory('ContentChildren', function (selector, data) {\n        if (data === void 0) { data = {}; }\n        return (__assign({ selector: selector, first: false, isViewQuery: false, descendants: false }, data));\n    });\n    var createContentChild = makeMetadataFactory('ContentChild', function (selector, data) {\n        if (data === void 0) { data = {}; }\n        return (__assign({ selector: selector, first: true, isViewQuery: false, descendants: true }, data));\n    });\n    var createViewChildren = makeMetadataFactory('ViewChildren', function (selector, data) {\n        if (data === void 0) { data = {}; }\n        return (__assign({ selector: selector, first: false, isViewQuery: true, descendants: true }, data));\n    });\n    var createViewChild = makeMetadataFactory('ViewChild', function (selector, data) {\n        return (__assign({ selector: selector, first: true, isViewQuery: true, descendants: true }, data));\n    });\n    var createDirective = makeMetadataFactory('Directive', function (dir) {\n        if (dir === void 0) { dir = {}; }\n        return dir;\n    });\n    var ViewEncapsulation;\n    (function (ViewEncapsulation) {\n        ViewEncapsulation[ViewEncapsulation[\"Emulated\"] = 0] = \"Emulated\";\n        ViewEncapsulation[ViewEncapsulation[\"Native\"] = 1] = \"Native\";\n        ViewEncapsulation[ViewEncapsulation[\"None\"] = 2] = \"None\";\n        ViewEncapsulation[ViewEncapsulation[\"ShadowDom\"] = 3] = \"ShadowDom\";\n    })(ViewEncapsulation || (ViewEncapsulation = {}));\n    var ChangeDetectionStrategy;\n    (function (ChangeDetectionStrategy) {\n        ChangeDetectionStrategy[ChangeDetectionStrategy[\"OnPush\"] = 0] = \"OnPush\";\n        ChangeDetectionStrategy[ChangeDetectionStrategy[\"Default\"] = 1] = \"Default\";\n    })(ChangeDetectionStrategy || (ChangeDetectionStrategy = {}));\n    var createComponent = makeMetadataFactory('Component', function (c) {\n        if (c === void 0) { c = {}; }\n        return (__assign({ changeDetection: ChangeDetectionStrategy.Default }, c));\n    });\n    var createPipe = makeMetadataFactory('Pipe', function (p) { return (__assign({ pure: true }, p)); });\n    var createInput = makeMetadataFactory('Input', function (bindingPropertyName) { return ({ bindingPropertyName: bindingPropertyName }); });\n    var createOutput = makeMetadataFactory('Output', function (bindingPropertyName) { return ({ bindingPropertyName: bindingPropertyName }); });\n    var createHostBinding = makeMetadataFactory('HostBinding', function (hostPropertyName) { return ({ hostPropertyName: hostPropertyName }); });\n    var createHostListener = makeMetadataFactory('HostListener', function (eventName, args) { return ({ eventName: eventName, args: args }); });\n    var createNgModule = makeMetadataFactory('NgModule', function (ngModule) { return ngModule; });\n    var createInjectable = makeMetadataFactory('Injectable', function (injectable) {\n        if (injectable === void 0) { injectable = {}; }\n        return injectable;\n    });\n    var CUSTOM_ELEMENTS_SCHEMA = {\n        name: 'custom-elements'\n    };\n    var NO_ERRORS_SCHEMA = {\n        name: 'no-errors-schema'\n    };\n    var createOptional = makeMetadataFactory('Optional');\n    var createSelf = makeMetadataFactory('Self');\n    var createSkipSelf = makeMetadataFactory('SkipSelf');\n    var createHost = makeMetadataFactory('Host');\n    var Type = Function;\n    var SecurityContext;\n    (function (SecurityContext) {\n        SecurityContext[SecurityContext[\"NONE\"] = 0] = \"NONE\";\n        SecurityContext[SecurityContext[\"HTML\"] = 1] = \"HTML\";\n        SecurityContext[SecurityContext[\"STYLE\"] = 2] = \"STYLE\";\n        SecurityContext[SecurityContext[\"SCRIPT\"] = 3] = \"SCRIPT\";\n        SecurityContext[SecurityContext[\"URL\"] = 4] = \"URL\";\n        SecurityContext[SecurityContext[\"RESOURCE_URL\"] = 5] = \"RESOURCE_URL\";\n    })(SecurityContext || (SecurityContext = {}));\n    var MissingTranslationStrategy;\n    (function (MissingTranslationStrategy) {\n        MissingTranslationStrategy[MissingTranslationStrategy[\"Error\"] = 0] = \"Error\";\n        MissingTranslationStrategy[MissingTranslationStrategy[\"Warning\"] = 1] = \"Warning\";\n        MissingTranslationStrategy[MissingTranslationStrategy[\"Ignore\"] = 2] = \"Ignore\";\n    })(MissingTranslationStrategy || (MissingTranslationStrategy = {}));\n    function makeMetadataFactory(name, props) {\n        var factory = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var values = props ? props.apply(void 0, __spread(args)) : {};\n            return __assign({ ngMetadataName: name }, values);\n        };\n        factory.isTypeOf = function (obj) { return obj && obj.ngMetadataName === name; };\n        factory.ngMetadataName = name;\n        return factory;\n    }\n    function parserSelectorToSimpleSelector(selector) {\n        var classes = selector.classNames && selector.classNames.length ? __spread([8 /* CLASS */], selector.classNames) :\n            [];\n        var elementName = selector.element && selector.element !== '*' ? selector.element : '';\n        return __spread([elementName], selector.attrs, classes);\n    }\n    function parserSelectorToNegativeSelector(selector) {\n        var classes = selector.classNames && selector.classNames.length ? __spread([8 /* CLASS */], selector.classNames) :\n            [];\n        if (selector.element) {\n            return __spread([\n                1 /* NOT */ | 4 /* ELEMENT */, selector.element\n            ], selector.attrs, classes);\n        }\n        else if (selector.attrs.length) {\n            return __spread([1 /* NOT */ | 2 /* ATTRIBUTE */], selector.attrs, classes);\n        }\n        else {\n            return selector.classNames && selector.classNames.length ? __spread([1 /* NOT */ | 8 /* CLASS */], selector.classNames) :\n                [];\n        }\n    }\n    function parserSelectorToR3Selector(selector) {\n        var positive = parserSelectorToSimpleSelector(selector);\n        var negative = selector.notSelectors && selector.notSelectors.length ?\n            selector.notSelectors.map(function (notSelector) { return parserSelectorToNegativeSelector(notSelector); }) :\n            [];\n        return positive.concat.apply(positive, __spread(negative));\n    }\n    function parseSelectorToR3Selector(selector) {\n        var selectors = CssSelector.parse(selector);\n        return selectors.map(parserSelectorToR3Selector);\n    }\n\n    var core = /*#__PURE__*/Object.freeze({\n        createInject: createInject,\n        createInjectionToken: createInjectionToken,\n        createAttribute: createAttribute,\n        createContentChildren: createContentChildren,\n        createContentChild: createContentChild,\n        createViewChildren: createViewChildren,\n        createViewChild: createViewChild,\n        createDirective: createDirective,\n        get ViewEncapsulation () { return ViewEncapsulation; },\n        get ChangeDetectionStrategy () { return ChangeDetectionStrategy; },\n        createComponent: createComponent,\n        createPipe: createPipe,\n        createInput: createInput,\n        createOutput: createOutput,\n        createHostBinding: createHostBinding,\n        createHostListener: createHostListener,\n        createNgModule: createNgModule,\n        createInjectable: createInjectable,\n        CUSTOM_ELEMENTS_SCHEMA: CUSTOM_ELEMENTS_SCHEMA,\n        NO_ERRORS_SCHEMA: NO_ERRORS_SCHEMA,\n        createOptional: createOptional,\n        createSelf: createSelf,\n        createSkipSelf: createSkipSelf,\n        createHost: createHost,\n        Type: Type,\n        get SecurityContext () { return SecurityContext; },\n        get MissingTranslationStrategy () { return MissingTranslationStrategy; },\n        parseSelectorToR3Selector: parseSelectorToR3Selector\n    });\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var DASH_CASE_REGEXP = /-+([a-z0-9])/g;\n    function dashCaseToCamelCase(input) {\n        return input.replace(DASH_CASE_REGEXP, function () {\n            var m = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                m[_i] = arguments[_i];\n            }\n            return m[1].toUpperCase();\n        });\n    }\n    function splitAtColon(input, defaultValues) {\n        return _splitAt(input, ':', defaultValues);\n    }\n    function splitAtPeriod(input, defaultValues) {\n        return _splitAt(input, '.', defaultValues);\n    }\n    function _splitAt(input, character, defaultValues) {\n        var characterIndex = input.indexOf(character);\n        if (characterIndex == -1)\n            return defaultValues;\n        return [input.slice(0, characterIndex).trim(), input.slice(characterIndex + 1).trim()];\n    }\n    function visitValue(value, visitor, context) {\n        if (Array.isArray(value)) {\n            return visitor.visitArray(value, context);\n        }\n        if (isStrictStringMap(value)) {\n            return visitor.visitStringMap(value, context);\n        }\n        if (value == null || typeof value == 'string' || typeof value == 'number' ||\n            typeof value == 'boolean') {\n            return visitor.visitPrimitive(value, context);\n        }\n        return visitor.visitOther(value, context);\n    }\n    function isDefined(val) {\n        return val !== null && val !== undefined;\n    }\n    function noUndefined(val) {\n        return val === undefined ? null : val;\n    }\n    var ValueTransformer = /** @class */ (function () {\n        function ValueTransformer() {\n        }\n        ValueTransformer.prototype.visitArray = function (arr, context) {\n            var _this = this;\n            return arr.map(function (value) { return visitValue(value, _this, context); });\n        };\n        ValueTransformer.prototype.visitStringMap = function (map, context) {\n            var _this = this;\n            var result = {};\n            Object.keys(map).forEach(function (key) { result[key] = visitValue(map[key], _this, context); });\n            return result;\n        };\n        ValueTransformer.prototype.visitPrimitive = function (value, context) { return value; };\n        ValueTransformer.prototype.visitOther = function (value, context) { return value; };\n        return ValueTransformer;\n    }());\n    var SyncAsync = {\n        assertSync: function (value) {\n            if (isPromise(value)) {\n                throw new Error(\"Illegal state: value cannot be a promise\");\n            }\n            return value;\n        },\n        then: function (value, cb) { return isPromise(value) ? value.then(cb) : cb(value); },\n        all: function (syncAsyncValues) {\n            return syncAsyncValues.some(isPromise) ? Promise.all(syncAsyncValues) : syncAsyncValues;\n        }\n    };\n    function error(msg) {\n        throw new Error(\"Internal Error: \" + msg);\n    }\n    function syntaxError(msg, parseErrors) {\n        var error = Error(msg);\n        error[ERROR_SYNTAX_ERROR] = true;\n        if (parseErrors)\n            error[ERROR_PARSE_ERRORS] = parseErrors;\n        return error;\n    }\n    var ERROR_SYNTAX_ERROR = 'ngSyntaxError';\n    var ERROR_PARSE_ERRORS = 'ngParseErrors';\n    function isSyntaxError(error) {\n        return error[ERROR_SYNTAX_ERROR];\n    }\n    function getParseErrors(error) {\n        return error[ERROR_PARSE_ERRORS] || [];\n    }\n    // Escape characters that have a special meaning in Regular Expressions\n    function escapeRegExp(s) {\n        return s.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n    }\n    var STRING_MAP_PROTO = Object.getPrototypeOf({});\n    function isStrictStringMap(obj) {\n        return typeof obj === 'object' && obj !== null && Object.getPrototypeOf(obj) === STRING_MAP_PROTO;\n    }\n    function utf8Encode(str) {\n        var encoded = '';\n        for (var index = 0; index < str.length; index++) {\n            var codePoint = str.charCodeAt(index);\n            // decode surrogate\n            // see https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            if (codePoint >= 0xd800 && codePoint <= 0xdbff && str.length > (index + 1)) {\n                var low = str.charCodeAt(index + 1);\n                if (low >= 0xdc00 && low <= 0xdfff) {\n                    index++;\n                    codePoint = ((codePoint - 0xd800) << 10) + low - 0xdc00 + 0x10000;\n                }\n            }\n            if (codePoint <= 0x7f) {\n                encoded += String.fromCharCode(codePoint);\n            }\n            else if (codePoint <= 0x7ff) {\n                encoded += String.fromCharCode(((codePoint >> 6) & 0x1F) | 0xc0, (codePoint & 0x3f) | 0x80);\n            }\n            else if (codePoint <= 0xffff) {\n                encoded += String.fromCharCode((codePoint >> 12) | 0xe0, ((codePoint >> 6) & 0x3f) | 0x80, (codePoint & 0x3f) | 0x80);\n            }\n            else if (codePoint <= 0x1fffff) {\n                encoded += String.fromCharCode(((codePoint >> 18) & 0x07) | 0xf0, ((codePoint >> 12) & 0x3f) | 0x80, ((codePoint >> 6) & 0x3f) | 0x80, (codePoint & 0x3f) | 0x80);\n            }\n        }\n        return encoded;\n    }\n    function stringify(token) {\n        if (typeof token === 'string') {\n            return token;\n        }\n        if (token instanceof Array) {\n            return '[' + token.map(stringify).join(', ') + ']';\n        }\n        if (token == null) {\n            return '' + token;\n        }\n        if (token.overriddenName) {\n            return \"\" + token.overriddenName;\n        }\n        if (token.name) {\n            return \"\" + token.name;\n        }\n        // WARNING: do not try to `JSON.stringify(token)` here\n        // see https://github.com/angular/angular/issues/23440\n        var res = token.toString();\n        if (res == null) {\n            return '' + res;\n        }\n        var newLineIndex = res.indexOf('\\n');\n        return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\n    }\n    /**\n     * Lazily retrieves the reference value from a forwardRef.\n     */\n    function resolveForwardRef(type) {\n        if (typeof type === 'function' && type.hasOwnProperty('__forward_ref__')) {\n            return type();\n        }\n        else {\n            return type;\n        }\n    }\n    /**\n     * Determine if the argument is shaped like a Promise\n     */\n    function isPromise(obj) {\n        // allow any Promise/A+ compliant thenable.\n        // It's up to the caller to ensure that obj.then conforms to the spec\n        return !!obj && typeof obj.then === 'function';\n    }\n    var Version = /** @class */ (function () {\n        function Version(full) {\n            this.full = full;\n            var splits = full.split('.');\n            this.major = splits[0];\n            this.minor = splits[1];\n            this.patch = splits.slice(2).join('.');\n        }\n        return Version;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var VERSION = new Version('6.1.10');\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _a;\n    /**\n     * A segment of text within the template.\n     */\n    var TextAst = /** @class */ (function () {\n        function TextAst(value, ngContentIndex, sourceSpan) {\n            this.value = value;\n            this.ngContentIndex = ngContentIndex;\n            this.sourceSpan = sourceSpan;\n        }\n        TextAst.prototype.visit = function (visitor, context) { return visitor.visitText(this, context); };\n        return TextAst;\n    }());\n    /**\n     * A bound expression within the text of a template.\n     */\n    var BoundTextAst = /** @class */ (function () {\n        function BoundTextAst(value, ngContentIndex, sourceSpan) {\n            this.value = value;\n            this.ngContentIndex = ngContentIndex;\n            this.sourceSpan = sourceSpan;\n        }\n        BoundTextAst.prototype.visit = function (visitor, context) {\n            return visitor.visitBoundText(this, context);\n        };\n        return BoundTextAst;\n    }());\n    /**\n     * A plain attribute on an element.\n     */\n    var AttrAst = /** @class */ (function () {\n        function AttrAst(name, value, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        AttrAst.prototype.visit = function (visitor, context) { return visitor.visitAttr(this, context); };\n        return AttrAst;\n    }());\n    var BoundPropertyMapping = (_a = {},\n        _a[4 /* Animation */] = 4 /* Animation */,\n        _a[1 /* Attribute */] = 1 /* Attribute */,\n        _a[2 /* Class */] = 2 /* Class */,\n        _a[0 /* Property */] = 0 /* Property */,\n        _a[3 /* Style */] = 3 /* Style */,\n        _a);\n    /**\n     * A binding for an element property (e.g. `[property]=\"expression\"`) or an animation trigger (e.g.\n     * `[@trigger]=\"stateExp\"`)\n     */\n    var BoundElementPropertyAst = /** @class */ (function () {\n        function BoundElementPropertyAst(name, type, securityContext, value, unit, sourceSpan) {\n            this.name = name;\n            this.type = type;\n            this.securityContext = securityContext;\n            this.value = value;\n            this.unit = unit;\n            this.sourceSpan = sourceSpan;\n            this.isAnimation = this.type === 4 /* Animation */;\n        }\n        BoundElementPropertyAst.fromBoundProperty = function (prop) {\n            var type = BoundPropertyMapping[prop.type];\n            return new BoundElementPropertyAst(prop.name, type, prop.securityContext, prop.value, prop.unit, prop.sourceSpan);\n        };\n        BoundElementPropertyAst.prototype.visit = function (visitor, context) {\n            return visitor.visitElementProperty(this, context);\n        };\n        return BoundElementPropertyAst;\n    }());\n    /**\n     * A binding for an element event (e.g. `(event)=\"handler()\"`) or an animation trigger event (e.g.\n     * `(@trigger.phase)=\"callback($event)\"`).\n     */\n    var BoundEventAst = /** @class */ (function () {\n        function BoundEventAst(name, target, phase, handler, sourceSpan) {\n            this.name = name;\n            this.target = target;\n            this.phase = phase;\n            this.handler = handler;\n            this.sourceSpan = sourceSpan;\n            this.fullName = BoundEventAst.calcFullName(this.name, this.target, this.phase);\n            this.isAnimation = !!this.phase;\n        }\n        BoundEventAst.calcFullName = function (name, target, phase) {\n            if (target) {\n                return target + \":\" + name;\n            }\n            if (phase) {\n                return \"@\" + name + \".\" + phase;\n            }\n            return name;\n        };\n        BoundEventAst.fromParsedEvent = function (event) {\n            var target = event.type === 0 /* Regular */ ? event.targetOrPhase : null;\n            var phase = event.type === 1 /* Animation */ ? event.targetOrPhase : null;\n            return new BoundEventAst(event.name, target, phase, event.handler, event.sourceSpan);\n        };\n        BoundEventAst.prototype.visit = function (visitor, context) {\n            return visitor.visitEvent(this, context);\n        };\n        return BoundEventAst;\n    }());\n    /**\n     * A reference declaration on an element (e.g. `let someName=\"expression\"`).\n     */\n    var ReferenceAst = /** @class */ (function () {\n        function ReferenceAst(name, value, originalValue, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.originalValue = originalValue;\n            this.sourceSpan = sourceSpan;\n        }\n        ReferenceAst.prototype.visit = function (visitor, context) {\n            return visitor.visitReference(this, context);\n        };\n        return ReferenceAst;\n    }());\n    /**\n     * A variable declaration on a <ng-template> (e.g. `var-someName=\"someLocalName\"`).\n     */\n    var VariableAst = /** @class */ (function () {\n        function VariableAst(name, value, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        VariableAst.fromParsedVariable = function (v) {\n            return new VariableAst(v.name, v.value, v.sourceSpan);\n        };\n        VariableAst.prototype.visit = function (visitor, context) {\n            return visitor.visitVariable(this, context);\n        };\n        return VariableAst;\n    }());\n    /**\n     * An element declaration in a template.\n     */\n    var ElementAst = /** @class */ (function () {\n        function ElementAst(name, attrs, inputs, outputs, references, directives, providers, hasViewContainer, queryMatches, children, ngContentIndex, sourceSpan, endSourceSpan) {\n            this.name = name;\n            this.attrs = attrs;\n            this.inputs = inputs;\n            this.outputs = outputs;\n            this.references = references;\n            this.directives = directives;\n            this.providers = providers;\n            this.hasViewContainer = hasViewContainer;\n            this.queryMatches = queryMatches;\n            this.children = children;\n            this.ngContentIndex = ngContentIndex;\n            this.sourceSpan = sourceSpan;\n            this.endSourceSpan = endSourceSpan;\n        }\n        ElementAst.prototype.visit = function (visitor, context) {\n            return visitor.visitElement(this, context);\n        };\n        return ElementAst;\n    }());\n    /**\n     * A `<ng-template>` element included in an Angular template.\n     */\n    var EmbeddedTemplateAst = /** @class */ (function () {\n        function EmbeddedTemplateAst(attrs, outputs, references, variables, directives, providers, hasViewContainer, queryMatches, children, ngContentIndex, sourceSpan) {\n            this.attrs = attrs;\n            this.outputs = outputs;\n            this.references = references;\n            this.variables = variables;\n            this.directives = directives;\n            this.providers = providers;\n            this.hasViewContainer = hasViewContainer;\n            this.queryMatches = queryMatches;\n            this.children = children;\n            this.ngContentIndex = ngContentIndex;\n            this.sourceSpan = sourceSpan;\n        }\n        EmbeddedTemplateAst.prototype.visit = function (visitor, context) {\n            return visitor.visitEmbeddedTemplate(this, context);\n        };\n        return EmbeddedTemplateAst;\n    }());\n    /**\n     * A directive property with a bound value (e.g. `*ngIf=\"condition\").\n     */\n    var BoundDirectivePropertyAst = /** @class */ (function () {\n        function BoundDirectivePropertyAst(directiveName, templateName, value, sourceSpan) {\n            this.directiveName = directiveName;\n            this.templateName = templateName;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        BoundDirectivePropertyAst.prototype.visit = function (visitor, context) {\n            return visitor.visitDirectiveProperty(this, context);\n        };\n        return BoundDirectivePropertyAst;\n    }());\n    /**\n     * A directive declared on an element.\n     */\n    var DirectiveAst = /** @class */ (function () {\n        function DirectiveAst(directive, inputs, hostProperties, hostEvents, contentQueryStartId, sourceSpan) {\n            this.directive = directive;\n            this.inputs = inputs;\n            this.hostProperties = hostProperties;\n            this.hostEvents = hostEvents;\n            this.contentQueryStartId = contentQueryStartId;\n            this.sourceSpan = sourceSpan;\n        }\n        DirectiveAst.prototype.visit = function (visitor, context) {\n            return visitor.visitDirective(this, context);\n        };\n        return DirectiveAst;\n    }());\n    /**\n     * A provider declared on an element\n     */\n    var ProviderAst = /** @class */ (function () {\n        function ProviderAst(token, multiProvider, eager, providers, providerType, lifecycleHooks, sourceSpan, isModule) {\n            this.token = token;\n            this.multiProvider = multiProvider;\n            this.eager = eager;\n            this.providers = providers;\n            this.providerType = providerType;\n            this.lifecycleHooks = lifecycleHooks;\n            this.sourceSpan = sourceSpan;\n            this.isModule = isModule;\n        }\n        ProviderAst.prototype.visit = function (visitor, context) {\n            // No visit method in the visitor for now...\n            return null;\n        };\n        return ProviderAst;\n    }());\n    (function (ProviderAstType) {\n        ProviderAstType[ProviderAstType[\"PublicService\"] = 0] = \"PublicService\";\n        ProviderAstType[ProviderAstType[\"PrivateService\"] = 1] = \"PrivateService\";\n        ProviderAstType[ProviderAstType[\"Component\"] = 2] = \"Component\";\n        ProviderAstType[ProviderAstType[\"Directive\"] = 3] = \"Directive\";\n        ProviderAstType[ProviderAstType[\"Builtin\"] = 4] = \"Builtin\";\n    })(exports.ProviderAstType || (exports.ProviderAstType = {}));\n    /**\n     * Position where content is to be projected (instance of `<ng-content>` in a template).\n     */\n    var NgContentAst = /** @class */ (function () {\n        function NgContentAst(index, ngContentIndex, sourceSpan) {\n            this.index = index;\n            this.ngContentIndex = ngContentIndex;\n            this.sourceSpan = sourceSpan;\n        }\n        NgContentAst.prototype.visit = function (visitor, context) {\n            return visitor.visitNgContent(this, context);\n        };\n        return NgContentAst;\n    }());\n    /**\n     * A visitor that accepts each node but doesn't do anything. It is intended to be used\n     * as the base class for a visitor that is only interested in a subset of the node types.\n     */\n    var NullTemplateVisitor = /** @class */ (function () {\n        function NullTemplateVisitor() {\n        }\n        NullTemplateVisitor.prototype.visitNgContent = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitEmbeddedTemplate = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitElement = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitReference = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitVariable = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitEvent = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitElementProperty = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitAttr = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitBoundText = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitText = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitDirective = function (ast, context) { };\n        NullTemplateVisitor.prototype.visitDirectiveProperty = function (ast, context) { };\n        return NullTemplateVisitor;\n    }());\n    /**\n     * Base class that can be used to build a visitor that visits each node\n     * in an template ast recursively.\n     */\n    var RecursiveTemplateAstVisitor = /** @class */ (function (_super) {\n        __extends(RecursiveTemplateAstVisitor, _super);\n        function RecursiveTemplateAstVisitor() {\n            return _super.call(this) || this;\n        }\n        // Nodes with children\n        RecursiveTemplateAstVisitor.prototype.visitEmbeddedTemplate = function (ast, context) {\n            return this.visitChildren(context, function (visit) {\n                visit(ast.attrs);\n                visit(ast.references);\n                visit(ast.variables);\n                visit(ast.directives);\n                visit(ast.providers);\n                visit(ast.children);\n            });\n        };\n        RecursiveTemplateAstVisitor.prototype.visitElement = function (ast, context) {\n            return this.visitChildren(context, function (visit) {\n                visit(ast.attrs);\n                visit(ast.inputs);\n                visit(ast.outputs);\n                visit(ast.references);\n                visit(ast.directives);\n                visit(ast.providers);\n                visit(ast.children);\n            });\n        };\n        RecursiveTemplateAstVisitor.prototype.visitDirective = function (ast, context) {\n            return this.visitChildren(context, function (visit) {\n                visit(ast.inputs);\n                visit(ast.hostProperties);\n                visit(ast.hostEvents);\n            });\n        };\n        RecursiveTemplateAstVisitor.prototype.visitChildren = function (context, cb) {\n            var results = [];\n            var t = this;\n            function visit(children) {\n                if (children && children.length)\n                    results.push(templateVisitAll(t, children, context));\n            }\n            cb(visit);\n            return [].concat.apply([], results);\n        };\n        return RecursiveTemplateAstVisitor;\n    }(NullTemplateVisitor));\n    /**\n     * Visit every node in a list of {@link TemplateAst}s with the given {@link TemplateAstVisitor}.\n     */\n    function templateVisitAll(visitor, asts, context) {\n        if (context === void 0) { context = null; }\n        var result = [];\n        var visit = visitor.visit ?\n            function (ast) { return visitor.visit(ast, context) || ast.visit(visitor, context); } :\n            function (ast) { return ast.visit(visitor, context); };\n        asts.forEach(function (ast) {\n            var astResult = visit(ast);\n            if (astResult) {\n                result.push(astResult);\n            }\n        });\n        return result;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CompilerConfig = /** @class */ (function () {\n        function CompilerConfig(_a) {\n            var _b = _a === void 0 ? {} : _a, _c = _b.defaultEncapsulation, defaultEncapsulation = _c === void 0 ? ViewEncapsulation.Emulated : _c, _d = _b.useJit, useJit = _d === void 0 ? true : _d, _e = _b.jitDevMode, jitDevMode = _e === void 0 ? false : _e, _f = _b.missingTranslation, missingTranslation = _f === void 0 ? null : _f, preserveWhitespaces = _b.preserveWhitespaces, strictInjectionParameters = _b.strictInjectionParameters;\n            this.defaultEncapsulation = defaultEncapsulation;\n            this.useJit = !!useJit;\n            this.jitDevMode = !!jitDevMode;\n            this.missingTranslation = missingTranslation;\n            this.preserveWhitespaces = preserveWhitespacesDefault(noUndefined(preserveWhitespaces));\n            this.strictInjectionParameters = strictInjectionParameters === true;\n        }\n        return CompilerConfig;\n    }());\n    function preserveWhitespacesDefault(preserveWhitespacesOption, defaultSetting) {\n        if (defaultSetting === void 0) { defaultSetting = false; }\n        return preserveWhitespacesOption === null ? defaultSetting : preserveWhitespacesOption;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A token representing the a reference to a static type.\n     *\n     * This token is unique for a filePath and name and can be used as a hash table key.\n     */\n    var StaticSymbol = /** @class */ (function () {\n        function StaticSymbol(filePath, name, members) {\n            this.filePath = filePath;\n            this.name = name;\n            this.members = members;\n        }\n        StaticSymbol.prototype.assertNoMembers = function () {\n            if (this.members.length) {\n                throw new Error(\"Illegal state: symbol without members expected, but got \" + JSON.stringify(this) + \".\");\n            }\n        };\n        return StaticSymbol;\n    }());\n    /**\n     * A cache of static symbol used by the StaticReflector to return the same symbol for the\n     * same symbol values.\n     */\n    var StaticSymbolCache = /** @class */ (function () {\n        function StaticSymbolCache() {\n            this.cache = new Map();\n        }\n        StaticSymbolCache.prototype.get = function (declarationFile, name, members) {\n            members = members || [];\n            var memberSuffix = members.length ? \".\" + members.join('.') : '';\n            var key = \"\\\"\" + declarationFile + \"\\\".\" + name + memberSuffix;\n            var result = this.cache.get(key);\n            if (!result) {\n                result = new StaticSymbol(declarationFile, name, members);\n                this.cache.set(key, result);\n            }\n            return result;\n        };\n        return StaticSymbolCache;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // group 0: \"[prop] or (event) or @trigger\"\n    // group 1: \"prop\" from \"[prop]\"\n    // group 2: \"event\" from \"(event)\"\n    // group 3: \"@trigger\" from \"@trigger\"\n    var HOST_REG_EXP = /^(?:(?:\\[([^\\]]+)\\])|(?:\\(([^\\)]+)\\)))|(\\@[-\\w]+)$/;\n    function sanitizeIdentifier(name) {\n        return name.replace(/\\W/g, '_');\n    }\n    var _anonymousTypeIndex = 0;\n    function identifierName(compileIdentifier) {\n        if (!compileIdentifier || !compileIdentifier.reference) {\n            return null;\n        }\n        var ref = compileIdentifier.reference;\n        if (ref instanceof StaticSymbol) {\n            return ref.name;\n        }\n        if (ref['__anonymousType']) {\n            return ref['__anonymousType'];\n        }\n        var identifier = stringify(ref);\n        if (identifier.indexOf('(') >= 0) {\n            // case: anonymous functions!\n            identifier = \"anonymous_\" + _anonymousTypeIndex++;\n            ref['__anonymousType'] = identifier;\n        }\n        else {\n            identifier = sanitizeIdentifier(identifier);\n        }\n        return identifier;\n    }\n    function identifierModuleUrl(compileIdentifier) {\n        var ref = compileIdentifier.reference;\n        if (ref instanceof StaticSymbol) {\n            return ref.filePath;\n        }\n        // Runtime type\n        return \"./\" + stringify(ref);\n    }\n    function viewClassName(compType, embeddedTemplateIndex) {\n        return \"View_\" + identifierName({ reference: compType }) + \"_\" + embeddedTemplateIndex;\n    }\n    function rendererTypeName(compType) {\n        return \"RenderType_\" + identifierName({ reference: compType });\n    }\n    function hostViewClassName(compType) {\n        return \"HostView_\" + identifierName({ reference: compType });\n    }\n    function componentFactoryName(compType) {\n        return identifierName({ reference: compType }) + \"NgFactory\";\n    }\n    (function (CompileSummaryKind) {\n        CompileSummaryKind[CompileSummaryKind[\"Pipe\"] = 0] = \"Pipe\";\n        CompileSummaryKind[CompileSummaryKind[\"Directive\"] = 1] = \"Directive\";\n        CompileSummaryKind[CompileSummaryKind[\"NgModule\"] = 2] = \"NgModule\";\n        CompileSummaryKind[CompileSummaryKind[\"Injectable\"] = 3] = \"Injectable\";\n    })(exports.CompileSummaryKind || (exports.CompileSummaryKind = {}));\n    function tokenName(token) {\n        return token.value != null ? sanitizeIdentifier(token.value) : identifierName(token.identifier);\n    }\n    function tokenReference(token) {\n        if (token.identifier != null) {\n            return token.identifier.reference;\n        }\n        else {\n            return token.value;\n        }\n    }\n    /**\n     * Metadata about a stylesheet\n     */\n    var CompileStylesheetMetadata = /** @class */ (function () {\n        function CompileStylesheetMetadata(_a) {\n            var _b = _a === void 0 ? {} : _a, moduleUrl = _b.moduleUrl, styles = _b.styles, styleUrls = _b.styleUrls;\n            this.moduleUrl = moduleUrl || null;\n            this.styles = _normalizeArray(styles);\n            this.styleUrls = _normalizeArray(styleUrls);\n        }\n        return CompileStylesheetMetadata;\n    }());\n    /**\n     * Metadata regarding compilation of a template.\n     */\n    var CompileTemplateMetadata = /** @class */ (function () {\n        function CompileTemplateMetadata(_a) {\n            var encapsulation = _a.encapsulation, template = _a.template, templateUrl = _a.templateUrl, htmlAst = _a.htmlAst, styles = _a.styles, styleUrls = _a.styleUrls, externalStylesheets = _a.externalStylesheets, animations = _a.animations, ngContentSelectors = _a.ngContentSelectors, interpolation = _a.interpolation, isInline = _a.isInline, preserveWhitespaces = _a.preserveWhitespaces;\n            this.encapsulation = encapsulation;\n            this.template = template;\n            this.templateUrl = templateUrl;\n            this.htmlAst = htmlAst;\n            this.styles = _normalizeArray(styles);\n            this.styleUrls = _normalizeArray(styleUrls);\n            this.externalStylesheets = _normalizeArray(externalStylesheets);\n            this.animations = animations ? flatten(animations) : [];\n            this.ngContentSelectors = ngContentSelectors || [];\n            if (interpolation && interpolation.length != 2) {\n                throw new Error(\"'interpolation' should have a start and an end symbol.\");\n            }\n            this.interpolation = interpolation;\n            this.isInline = isInline;\n            this.preserveWhitespaces = preserveWhitespaces;\n        }\n        CompileTemplateMetadata.prototype.toSummary = function () {\n            return {\n                ngContentSelectors: this.ngContentSelectors,\n                encapsulation: this.encapsulation,\n            };\n        };\n        return CompileTemplateMetadata;\n    }());\n    /**\n     * Metadata regarding compilation of a directive.\n     */\n    var CompileDirectiveMetadata = /** @class */ (function () {\n        function CompileDirectiveMetadata(_a) {\n            var isHost = _a.isHost, type = _a.type, isComponent = _a.isComponent, selector = _a.selector, exportAs = _a.exportAs, changeDetection = _a.changeDetection, inputs = _a.inputs, outputs = _a.outputs, hostListeners = _a.hostListeners, hostProperties = _a.hostProperties, hostAttributes = _a.hostAttributes, providers = _a.providers, viewProviders = _a.viewProviders, queries = _a.queries, guards = _a.guards, viewQueries = _a.viewQueries, entryComponents = _a.entryComponents, template = _a.template, componentViewType = _a.componentViewType, rendererType = _a.rendererType, componentFactory = _a.componentFactory;\n            this.isHost = !!isHost;\n            this.type = type;\n            this.isComponent = isComponent;\n            this.selector = selector;\n            this.exportAs = exportAs;\n            this.changeDetection = changeDetection;\n            this.inputs = inputs;\n            this.outputs = outputs;\n            this.hostListeners = hostListeners;\n            this.hostProperties = hostProperties;\n            this.hostAttributes = hostAttributes;\n            this.providers = _normalizeArray(providers);\n            this.viewProviders = _normalizeArray(viewProviders);\n            this.queries = _normalizeArray(queries);\n            this.guards = guards;\n            this.viewQueries = _normalizeArray(viewQueries);\n            this.entryComponents = _normalizeArray(entryComponents);\n            this.template = template;\n            this.componentViewType = componentViewType;\n            this.rendererType = rendererType;\n            this.componentFactory = componentFactory;\n        }\n        CompileDirectiveMetadata.create = function (_a) {\n            var isHost = _a.isHost, type = _a.type, isComponent = _a.isComponent, selector = _a.selector, exportAs = _a.exportAs, changeDetection = _a.changeDetection, inputs = _a.inputs, outputs = _a.outputs, host = _a.host, providers = _a.providers, viewProviders = _a.viewProviders, queries = _a.queries, guards = _a.guards, viewQueries = _a.viewQueries, entryComponents = _a.entryComponents, template = _a.template, componentViewType = _a.componentViewType, rendererType = _a.rendererType, componentFactory = _a.componentFactory;\n            var hostListeners = {};\n            var hostProperties = {};\n            var hostAttributes = {};\n            if (host != null) {\n                Object.keys(host).forEach(function (key) {\n                    var value = host[key];\n                    var matches = key.match(HOST_REG_EXP);\n                    if (matches === null) {\n                        hostAttributes[key] = value;\n                    }\n                    else if (matches[1] != null) {\n                        hostProperties[matches[1]] = value;\n                    }\n                    else if (matches[2] != null) {\n                        hostListeners[matches[2]] = value;\n                    }\n                });\n            }\n            var inputsMap = {};\n            if (inputs != null) {\n                inputs.forEach(function (bindConfig) {\n                    // canonical syntax: `dirProp: elProp`\n                    // if there is no `:`, use dirProp = elProp\n                    var parts = splitAtColon(bindConfig, [bindConfig, bindConfig]);\n                    inputsMap[parts[0]] = parts[1];\n                });\n            }\n            var outputsMap = {};\n            if (outputs != null) {\n                outputs.forEach(function (bindConfig) {\n                    // canonical syntax: `dirProp: elProp`\n                    // if there is no `:`, use dirProp = elProp\n                    var parts = splitAtColon(bindConfig, [bindConfig, bindConfig]);\n                    outputsMap[parts[0]] = parts[1];\n                });\n            }\n            return new CompileDirectiveMetadata({\n                isHost: isHost,\n                type: type,\n                isComponent: !!isComponent, selector: selector, exportAs: exportAs, changeDetection: changeDetection,\n                inputs: inputsMap,\n                outputs: outputsMap,\n                hostListeners: hostListeners,\n                hostProperties: hostProperties,\n                hostAttributes: hostAttributes,\n                providers: providers,\n                viewProviders: viewProviders,\n                queries: queries,\n                guards: guards,\n                viewQueries: viewQueries,\n                entryComponents: entryComponents,\n                template: template,\n                componentViewType: componentViewType,\n                rendererType: rendererType,\n                componentFactory: componentFactory,\n            });\n        };\n        CompileDirectiveMetadata.prototype.toSummary = function () {\n            return {\n                summaryKind: exports.CompileSummaryKind.Directive,\n                type: this.type,\n                isComponent: this.isComponent,\n                selector: this.selector,\n                exportAs: this.exportAs,\n                inputs: this.inputs,\n                outputs: this.outputs,\n                hostListeners: this.hostListeners,\n                hostProperties: this.hostProperties,\n                hostAttributes: this.hostAttributes,\n                providers: this.providers,\n                viewProviders: this.viewProviders,\n                queries: this.queries,\n                guards: this.guards,\n                viewQueries: this.viewQueries,\n                entryComponents: this.entryComponents,\n                changeDetection: this.changeDetection,\n                template: this.template && this.template.toSummary(),\n                componentViewType: this.componentViewType,\n                rendererType: this.rendererType,\n                componentFactory: this.componentFactory\n            };\n        };\n        return CompileDirectiveMetadata;\n    }());\n    var CompilePipeMetadata = /** @class */ (function () {\n        function CompilePipeMetadata(_a) {\n            var type = _a.type, name = _a.name, pure = _a.pure;\n            this.type = type;\n            this.name = name;\n            this.pure = !!pure;\n        }\n        CompilePipeMetadata.prototype.toSummary = function () {\n            return {\n                summaryKind: exports.CompileSummaryKind.Pipe,\n                type: this.type,\n                name: this.name,\n                pure: this.pure\n            };\n        };\n        return CompilePipeMetadata;\n    }());\n    var CompileShallowModuleMetadata = /** @class */ (function () {\n        function CompileShallowModuleMetadata() {\n        }\n        return CompileShallowModuleMetadata;\n    }());\n    /**\n     * Metadata regarding compilation of a module.\n     */\n    var CompileNgModuleMetadata = /** @class */ (function () {\n        function CompileNgModuleMetadata(_a) {\n            var type = _a.type, providers = _a.providers, declaredDirectives = _a.declaredDirectives, exportedDirectives = _a.exportedDirectives, declaredPipes = _a.declaredPipes, exportedPipes = _a.exportedPipes, entryComponents = _a.entryComponents, bootstrapComponents = _a.bootstrapComponents, importedModules = _a.importedModules, exportedModules = _a.exportedModules, schemas = _a.schemas, transitiveModule = _a.transitiveModule, id = _a.id;\n            this.type = type || null;\n            this.declaredDirectives = _normalizeArray(declaredDirectives);\n            this.exportedDirectives = _normalizeArray(exportedDirectives);\n            this.declaredPipes = _normalizeArray(declaredPipes);\n            this.exportedPipes = _normalizeArray(exportedPipes);\n            this.providers = _normalizeArray(providers);\n            this.entryComponents = _normalizeArray(entryComponents);\n            this.bootstrapComponents = _normalizeArray(bootstrapComponents);\n            this.importedModules = _normalizeArray(importedModules);\n            this.exportedModules = _normalizeArray(exportedModules);\n            this.schemas = _normalizeArray(schemas);\n            this.id = id || null;\n            this.transitiveModule = transitiveModule || null;\n        }\n        CompileNgModuleMetadata.prototype.toSummary = function () {\n            var module = this.transitiveModule;\n            return {\n                summaryKind: exports.CompileSummaryKind.NgModule,\n                type: this.type,\n                entryComponents: module.entryComponents,\n                providers: module.providers,\n                modules: module.modules,\n                exportedDirectives: module.exportedDirectives,\n                exportedPipes: module.exportedPipes\n            };\n        };\n        return CompileNgModuleMetadata;\n    }());\n    var TransitiveCompileNgModuleMetadata = /** @class */ (function () {\n        function TransitiveCompileNgModuleMetadata() {\n            this.directivesSet = new Set();\n            this.directives = [];\n            this.exportedDirectivesSet = new Set();\n            this.exportedDirectives = [];\n            this.pipesSet = new Set();\n            this.pipes = [];\n            this.exportedPipesSet = new Set();\n            this.exportedPipes = [];\n            this.modulesSet = new Set();\n            this.modules = [];\n            this.entryComponentsSet = new Set();\n            this.entryComponents = [];\n            this.providers = [];\n        }\n        TransitiveCompileNgModuleMetadata.prototype.addProvider = function (provider, module) {\n            this.providers.push({ provider: provider, module: module });\n        };\n        TransitiveCompileNgModuleMetadata.prototype.addDirective = function (id) {\n            if (!this.directivesSet.has(id.reference)) {\n                this.directivesSet.add(id.reference);\n                this.directives.push(id);\n            }\n        };\n        TransitiveCompileNgModuleMetadata.prototype.addExportedDirective = function (id) {\n            if (!this.exportedDirectivesSet.has(id.reference)) {\n                this.exportedDirectivesSet.add(id.reference);\n                this.exportedDirectives.push(id);\n            }\n        };\n        TransitiveCompileNgModuleMetadata.prototype.addPipe = function (id) {\n            if (!this.pipesSet.has(id.reference)) {\n                this.pipesSet.add(id.reference);\n                this.pipes.push(id);\n            }\n        };\n        TransitiveCompileNgModuleMetadata.prototype.addExportedPipe = function (id) {\n            if (!this.exportedPipesSet.has(id.reference)) {\n                this.exportedPipesSet.add(id.reference);\n                this.exportedPipes.push(id);\n            }\n        };\n        TransitiveCompileNgModuleMetadata.prototype.addModule = function (id) {\n            if (!this.modulesSet.has(id.reference)) {\n                this.modulesSet.add(id.reference);\n                this.modules.push(id);\n            }\n        };\n        TransitiveCompileNgModuleMetadata.prototype.addEntryComponent = function (ec) {\n            if (!this.entryComponentsSet.has(ec.componentType)) {\n                this.entryComponentsSet.add(ec.componentType);\n                this.entryComponents.push(ec);\n            }\n        };\n        return TransitiveCompileNgModuleMetadata;\n    }());\n    function _normalizeArray(obj) {\n        return obj || [];\n    }\n    var ProviderMeta = /** @class */ (function () {\n        function ProviderMeta(token, _a) {\n            var useClass = _a.useClass, useValue = _a.useValue, useExisting = _a.useExisting, useFactory = _a.useFactory, deps = _a.deps, multi = _a.multi;\n            this.token = token;\n            this.useClass = useClass || null;\n            this.useValue = useValue;\n            this.useExisting = useExisting;\n            this.useFactory = useFactory || null;\n            this.dependencies = deps || null;\n            this.multi = !!multi;\n        }\n        return ProviderMeta;\n    }());\n    function flatten(list) {\n        return list.reduce(function (flat, item) {\n            var flatItem = Array.isArray(item) ? flatten(item) : item;\n            return flat.concat(flatItem);\n        }, []);\n    }\n    function jitSourceUrl(url) {\n        // Note: We need 3 \"/\" so that ng shows up as a separate domain\n        // in the chrome dev tools.\n        return url.replace(/(\\w+:\\/\\/[\\w:-]+)?(\\/+)?/, 'ng:///');\n    }\n    function templateSourceUrl(ngModuleType, compMeta, templateMeta) {\n        var url;\n        if (templateMeta.isInline) {\n            if (compMeta.type.reference instanceof StaticSymbol) {\n                // Note: a .ts file might contain multiple components with inline templates,\n                // so we need to give them unique urls, as these will be used for sourcemaps.\n                url = compMeta.type.reference.filePath + \".\" + compMeta.type.reference.name + \".html\";\n            }\n            else {\n                url = identifierName(ngModuleType) + \"/\" + identifierName(compMeta.type) + \".html\";\n            }\n        }\n        else {\n            url = templateMeta.templateUrl;\n        }\n        return compMeta.type.reference instanceof StaticSymbol ? url : jitSourceUrl(url);\n    }\n    function sharedStylesheetJitUrl(meta, id) {\n        var pathParts = meta.moduleUrl.split(/\\/\\\\/g);\n        var baseName = pathParts[pathParts.length - 1];\n        return jitSourceUrl(\"css/\" + id + baseName + \".ngstyle.js\");\n    }\n    function ngModuleJitUrl(moduleMeta) {\n        return jitSourceUrl(identifierName(moduleMeta.type) + \"/module.ngfactory.js\");\n    }\n    function templateJitUrl(ngModuleType, compMeta) {\n        return jitSourceUrl(identifierName(ngModuleType) + \"/\" + identifierName(compMeta.type) + \".ngfactory.js\");\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A path is an ordered set of elements. Typically a path is to  a\n     * particular offset in a source file. The head of the list is the top\n     * most node. The tail is the node that contains the offset directly.\n     *\n     * For example, the expression `a + b + c` might have an ast that looks\n     * like:\n     *     +\n     *    / \\\n     *   a   +\n     *      / \\\n     *     b   c\n     *\n     * The path to the node at offset 9 would be `['+' at 1-10, '+' at 7-10,\n     * 'c' at 9-10]` and the path the node at offset 1 would be\n     * `['+' at 1-10, 'a' at 1-2]`.\n     */\n    var AstPath = /** @class */ (function () {\n        function AstPath(path, position) {\n            if (position === void 0) { position = -1; }\n            this.path = path;\n            this.position = position;\n        }\n        Object.defineProperty(AstPath.prototype, \"empty\", {\n            get: function () { return !this.path || !this.path.length; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AstPath.prototype, \"head\", {\n            get: function () { return this.path[0]; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AstPath.prototype, \"tail\", {\n            get: function () { return this.path[this.path.length - 1]; },\n            enumerable: true,\n            configurable: true\n        });\n        AstPath.prototype.parentOf = function (node) {\n            return node && this.path[this.path.indexOf(node) - 1];\n        };\n        AstPath.prototype.childOf = function (node) { return this.path[this.path.indexOf(node) + 1]; };\n        AstPath.prototype.first = function (ctor) {\n            for (var i = this.path.length - 1; i >= 0; i--) {\n                var item = this.path[i];\n                if (item instanceof ctor)\n                    return item;\n            }\n        };\n        AstPath.prototype.push = function (node) { this.path.push(node); };\n        AstPath.prototype.pop = function () { return this.path.pop(); };\n        return AstPath;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var Text = /** @class */ (function () {\n        function Text(value, sourceSpan) {\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        Text.prototype.visit = function (visitor, context) { return visitor.visitText(this, context); };\n        return Text;\n    }());\n    var Expansion = /** @class */ (function () {\n        function Expansion(switchValue, type, cases, sourceSpan, switchValueSourceSpan) {\n            this.switchValue = switchValue;\n            this.type = type;\n            this.cases = cases;\n            this.sourceSpan = sourceSpan;\n            this.switchValueSourceSpan = switchValueSourceSpan;\n        }\n        Expansion.prototype.visit = function (visitor, context) { return visitor.visitExpansion(this, context); };\n        return Expansion;\n    }());\n    var ExpansionCase = /** @class */ (function () {\n        function ExpansionCase(value, expression, sourceSpan, valueSourceSpan, expSourceSpan) {\n            this.value = value;\n            this.expression = expression;\n            this.sourceSpan = sourceSpan;\n            this.valueSourceSpan = valueSourceSpan;\n            this.expSourceSpan = expSourceSpan;\n        }\n        ExpansionCase.prototype.visit = function (visitor, context) { return visitor.visitExpansionCase(this, context); };\n        return ExpansionCase;\n    }());\n    var Attribute = /** @class */ (function () {\n        function Attribute(name, value, sourceSpan, valueSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n            this.valueSpan = valueSpan;\n        }\n        Attribute.prototype.visit = function (visitor, context) { return visitor.visitAttribute(this, context); };\n        return Attribute;\n    }());\n    var Element = /** @class */ (function () {\n        function Element(name, attrs, children, sourceSpan, startSourceSpan, endSourceSpan) {\n            if (startSourceSpan === void 0) { startSourceSpan = null; }\n            if (endSourceSpan === void 0) { endSourceSpan = null; }\n            this.name = name;\n            this.attrs = attrs;\n            this.children = children;\n            this.sourceSpan = sourceSpan;\n            this.startSourceSpan = startSourceSpan;\n            this.endSourceSpan = endSourceSpan;\n        }\n        Element.prototype.visit = function (visitor, context) { return visitor.visitElement(this, context); };\n        return Element;\n    }());\n    var Comment = /** @class */ (function () {\n        function Comment(value, sourceSpan) {\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        Comment.prototype.visit = function (visitor, context) { return visitor.visitComment(this, context); };\n        return Comment;\n    }());\n    function visitAll(visitor, nodes, context) {\n        if (context === void 0) { context = null; }\n        var result = [];\n        var visit = visitor.visit ?\n            function (ast) { return visitor.visit(ast, context) || ast.visit(visitor, context); } :\n            function (ast) { return ast.visit(visitor, context); };\n        nodes.forEach(function (ast) {\n            var astResult = visit(ast);\n            if (astResult) {\n                result.push(astResult);\n            }\n        });\n        return result;\n    }\n    var RecursiveVisitor = /** @class */ (function () {\n        function RecursiveVisitor() {\n        }\n        RecursiveVisitor.prototype.visitElement = function (ast, context) {\n            this.visitChildren(context, function (visit) {\n                visit(ast.attrs);\n                visit(ast.children);\n            });\n        };\n        RecursiveVisitor.prototype.visitAttribute = function (ast, context) { };\n        RecursiveVisitor.prototype.visitText = function (ast, context) { };\n        RecursiveVisitor.prototype.visitComment = function (ast, context) { };\n        RecursiveVisitor.prototype.visitExpansion = function (ast, context) {\n            return this.visitChildren(context, function (visit) { visit(ast.cases); });\n        };\n        RecursiveVisitor.prototype.visitExpansionCase = function (ast, context) { };\n        RecursiveVisitor.prototype.visitChildren = function (context, cb) {\n            var results = [];\n            var t = this;\n            function visit(children) {\n                if (children)\n                    results.push(visitAll(t, children, context));\n            }\n            cb(visit);\n            return [].concat.apply([], results);\n        };\n        return RecursiveVisitor;\n    }());\n    function spanOf(ast) {\n        var start = ast.sourceSpan.start.offset;\n        var end = ast.sourceSpan.end.offset;\n        if (ast instanceof Element) {\n            if (ast.endSourceSpan) {\n                end = ast.endSourceSpan.end.offset;\n            }\n            else if (ast.children && ast.children.length) {\n                end = spanOf(ast.children[ast.children.length - 1]).end;\n            }\n        }\n        return { start: start, end: end };\n    }\n    function findNode(nodes, position) {\n        var path = [];\n        var visitor = new /** @class */ (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            class_1.prototype.visit = function (ast, context) {\n                var span = spanOf(ast);\n                if (span.start <= position && position < span.end) {\n                    path.push(ast);\n                }\n                else {\n                    // Returning a value here will result in the children being skipped.\n                    return true;\n                }\n            };\n            return class_1;\n        }(RecursiveVisitor));\n        visitAll(visitor, nodes);\n        return new AstPath(path, position);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function assertArrayOfStrings(identifier, value) {\n        if (value == null) {\n            return;\n        }\n        if (!Array.isArray(value)) {\n            throw new Error(\"Expected '\" + identifier + \"' to be an array of strings.\");\n        }\n        for (var i = 0; i < value.length; i += 1) {\n            if (typeof value[i] !== 'string') {\n                throw new Error(\"Expected '\" + identifier + \"' to be an array of strings.\");\n            }\n        }\n    }\n    var INTERPOLATION_BLACKLIST_REGEXPS = [\n        /^\\s*$/,\n        /[<>]/,\n        /^[{}]$/,\n        /&(#|[a-z])/i,\n        /^\\/\\//,\n    ];\n    function assertInterpolationSymbols(identifier, value) {\n        if (value != null && !(Array.isArray(value) && value.length == 2)) {\n            throw new Error(\"Expected '\" + identifier + \"' to be an array, [start, end].\");\n        }\n        else if (value != null) {\n            var start_1 = value[0];\n            var end_1 = value[1];\n            // black list checking\n            INTERPOLATION_BLACKLIST_REGEXPS.forEach(function (regexp) {\n                if (regexp.test(start_1) || regexp.test(end_1)) {\n                    throw new Error(\"['\" + start_1 + \"', '\" + end_1 + \"'] contains unusable interpolation symbol.\");\n                }\n            });\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var InterpolationConfig = /** @class */ (function () {\n        function InterpolationConfig(start, end) {\n            this.start = start;\n            this.end = end;\n        }\n        InterpolationConfig.fromArray = function (markers) {\n            if (!markers) {\n                return DEFAULT_INTERPOLATION_CONFIG;\n            }\n            assertInterpolationSymbols('interpolation', markers);\n            return new InterpolationConfig(markers[0], markers[1]);\n        };\n        return InterpolationConfig;\n    }());\n    var DEFAULT_INTERPOLATION_CONFIG = new InterpolationConfig('{{', '}}');\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var StyleWithImports = /** @class */ (function () {\n        function StyleWithImports(style, styleUrls) {\n            this.style = style;\n            this.styleUrls = styleUrls;\n        }\n        return StyleWithImports;\n    }());\n    function isStyleUrlResolvable(url) {\n        if (url == null || url.length === 0 || url[0] == '/')\n            return false;\n        var schemeMatch = url.match(URL_WITH_SCHEMA_REGEXP);\n        return schemeMatch === null || schemeMatch[1] == 'package' || schemeMatch[1] == 'asset';\n    }\n    /**\n     * Rewrites stylesheets by resolving and removing the @import urls that\n     * are either relative or don't have a `package:` scheme\n     */\n    function extractStyleUrls(resolver, baseUrl, cssText) {\n        var foundUrls = [];\n        var modifiedCssText = cssText.replace(CSS_STRIPPABLE_COMMENT_REGEXP, '')\n            .replace(CSS_IMPORT_REGEXP, function () {\n            var m = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                m[_i] = arguments[_i];\n            }\n            var url = m[1] || m[2];\n            if (!isStyleUrlResolvable(url)) {\n                // Do not attempt to resolve non-package absolute URLs with URI\n                // scheme\n                return m[0];\n            }\n            foundUrls.push(resolver.resolve(baseUrl, url));\n            return '';\n        });\n        return new StyleWithImports(modifiedCssText, foundUrls);\n    }\n    var CSS_IMPORT_REGEXP = /@import\\s+(?:url\\()?\\s*(?:(?:['\"]([^'\"]*))|([^;\\)\\s]*))[^;]*;?/g;\n    var CSS_STRIPPABLE_COMMENT_REGEXP = /\\/\\*(?!#\\s*(?:sourceURL|sourceMappingURL)=)[\\s\\S]+?\\*\\//g;\n    var URL_WITH_SCHEMA_REGEXP = /^([^:/?#]+):/;\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var NG_CONTENT_SELECT_ATTR = 'select';\n    var LINK_ELEMENT = 'link';\n    var LINK_STYLE_REL_ATTR = 'rel';\n    var LINK_STYLE_HREF_ATTR = 'href';\n    var LINK_STYLE_REL_VALUE = 'stylesheet';\n    var STYLE_ELEMENT = 'style';\n    var SCRIPT_ELEMENT = 'script';\n    var NG_NON_BINDABLE_ATTR = 'ngNonBindable';\n    var NG_PROJECT_AS = 'ngProjectAs';\n    function preparseElement(ast) {\n        var selectAttr = null;\n        var hrefAttr = null;\n        var relAttr = null;\n        var nonBindable = false;\n        var projectAs = '';\n        ast.attrs.forEach(function (attr) {\n            var lcAttrName = attr.name.toLowerCase();\n            if (lcAttrName == NG_CONTENT_SELECT_ATTR) {\n                selectAttr = attr.value;\n            }\n            else if (lcAttrName == LINK_STYLE_HREF_ATTR) {\n                hrefAttr = attr.value;\n            }\n            else if (lcAttrName == LINK_STYLE_REL_ATTR) {\n                relAttr = attr.value;\n            }\n            else if (attr.name == NG_NON_BINDABLE_ATTR) {\n                nonBindable = true;\n            }\n            else if (attr.name == NG_PROJECT_AS) {\n                if (attr.value.length > 0) {\n                    projectAs = attr.value;\n                }\n            }\n        });\n        selectAttr = normalizeNgContentSelect(selectAttr);\n        var nodeName = ast.name.toLowerCase();\n        var type = PreparsedElementType.OTHER;\n        if (isNgContent(nodeName)) {\n            type = PreparsedElementType.NG_CONTENT;\n        }\n        else if (nodeName == STYLE_ELEMENT) {\n            type = PreparsedElementType.STYLE;\n        }\n        else if (nodeName == SCRIPT_ELEMENT) {\n            type = PreparsedElementType.SCRIPT;\n        }\n        else if (nodeName == LINK_ELEMENT && relAttr == LINK_STYLE_REL_VALUE) {\n            type = PreparsedElementType.STYLESHEET;\n        }\n        return new PreparsedElement(type, selectAttr, hrefAttr, nonBindable, projectAs);\n    }\n    var PreparsedElementType;\n    (function (PreparsedElementType) {\n        PreparsedElementType[PreparsedElementType[\"NG_CONTENT\"] = 0] = \"NG_CONTENT\";\n        PreparsedElementType[PreparsedElementType[\"STYLE\"] = 1] = \"STYLE\";\n        PreparsedElementType[PreparsedElementType[\"STYLESHEET\"] = 2] = \"STYLESHEET\";\n        PreparsedElementType[PreparsedElementType[\"SCRIPT\"] = 3] = \"SCRIPT\";\n        PreparsedElementType[PreparsedElementType[\"OTHER\"] = 4] = \"OTHER\";\n    })(PreparsedElementType || (PreparsedElementType = {}));\n    var PreparsedElement = /** @class */ (function () {\n        function PreparsedElement(type, selectAttr, hrefAttr, nonBindable, projectAs) {\n            this.type = type;\n            this.selectAttr = selectAttr;\n            this.hrefAttr = hrefAttr;\n            this.nonBindable = nonBindable;\n            this.projectAs = projectAs;\n        }\n        return PreparsedElement;\n    }());\n    function normalizeNgContentSelect(selectAttr) {\n        if (selectAttr === null || selectAttr.length === 0) {\n            return '*';\n        }\n        return selectAttr;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var DirectiveNormalizer = /** @class */ (function () {\n        function DirectiveNormalizer(_resourceLoader, _urlResolver, _htmlParser, _config) {\n            this._resourceLoader = _resourceLoader;\n            this._urlResolver = _urlResolver;\n            this._htmlParser = _htmlParser;\n            this._config = _config;\n            this._resourceLoaderCache = new Map();\n        }\n        DirectiveNormalizer.prototype.clearCache = function () { this._resourceLoaderCache.clear(); };\n        DirectiveNormalizer.prototype.clearCacheFor = function (normalizedDirective) {\n            var _this = this;\n            if (!normalizedDirective.isComponent) {\n                return;\n            }\n            var template = normalizedDirective.template;\n            this._resourceLoaderCache.delete(template.templateUrl);\n            template.externalStylesheets.forEach(function (stylesheet) { _this._resourceLoaderCache.delete(stylesheet.moduleUrl); });\n        };\n        DirectiveNormalizer.prototype._fetch = function (url) {\n            var result = this._resourceLoaderCache.get(url);\n            if (!result) {\n                result = this._resourceLoader.get(url);\n                this._resourceLoaderCache.set(url, result);\n            }\n            return result;\n        };\n        DirectiveNormalizer.prototype.normalizeTemplate = function (prenormData) {\n            var _this = this;\n            if (isDefined(prenormData.template)) {\n                if (isDefined(prenormData.templateUrl)) {\n                    throw syntaxError(\"'\" + stringify(prenormData.componentType) + \"' component cannot define both template and templateUrl\");\n                }\n                if (typeof prenormData.template !== 'string') {\n                    throw syntaxError(\"The template specified for component \" + stringify(prenormData.componentType) + \" is not a string\");\n                }\n            }\n            else if (isDefined(prenormData.templateUrl)) {\n                if (typeof prenormData.templateUrl !== 'string') {\n                    throw syntaxError(\"The templateUrl specified for component \" + stringify(prenormData.componentType) + \" is not a string\");\n                }\n            }\n            else {\n                throw syntaxError(\"No template specified for component \" + stringify(prenormData.componentType));\n            }\n            if (isDefined(prenormData.preserveWhitespaces) &&\n                typeof prenormData.preserveWhitespaces !== 'boolean') {\n                throw syntaxError(\"The preserveWhitespaces option for component \" + stringify(prenormData.componentType) + \" must be a boolean\");\n            }\n            return SyncAsync.then(this._preParseTemplate(prenormData), function (preparsedTemplate) { return _this._normalizeTemplateMetadata(prenormData, preparsedTemplate); });\n        };\n        DirectiveNormalizer.prototype._preParseTemplate = function (prenomData) {\n            var _this = this;\n            var template;\n            var templateUrl;\n            if (prenomData.template != null) {\n                template = prenomData.template;\n                templateUrl = prenomData.moduleUrl;\n            }\n            else {\n                templateUrl = this._urlResolver.resolve(prenomData.moduleUrl, prenomData.templateUrl);\n                template = this._fetch(templateUrl);\n            }\n            return SyncAsync.then(template, function (template) { return _this._preparseLoadedTemplate(prenomData, template, templateUrl); });\n        };\n        DirectiveNormalizer.prototype._preparseLoadedTemplate = function (prenormData, template, templateAbsUrl) {\n            var isInline = !!prenormData.template;\n            var interpolationConfig = InterpolationConfig.fromArray(prenormData.interpolation);\n            var rootNodesAndErrors = this._htmlParser.parse(template, templateSourceUrl({ reference: prenormData.ngModuleType }, { type: { reference: prenormData.componentType } }, { isInline: isInline, templateUrl: templateAbsUrl }), true, interpolationConfig);\n            if (rootNodesAndErrors.errors.length > 0) {\n                var errorString = rootNodesAndErrors.errors.join('\\n');\n                throw syntaxError(\"Template parse errors:\\n\" + errorString);\n            }\n            var templateMetadataStyles = this._normalizeStylesheet(new CompileStylesheetMetadata({ styles: prenormData.styles, moduleUrl: prenormData.moduleUrl }));\n            var visitor = new TemplatePreparseVisitor();\n            visitAll(visitor, rootNodesAndErrors.rootNodes);\n            var templateStyles = this._normalizeStylesheet(new CompileStylesheetMetadata({ styles: visitor.styles, styleUrls: visitor.styleUrls, moduleUrl: templateAbsUrl }));\n            var styles = templateMetadataStyles.styles.concat(templateStyles.styles);\n            var inlineStyleUrls = templateMetadataStyles.styleUrls.concat(templateStyles.styleUrls);\n            var styleUrls = this\n                ._normalizeStylesheet(new CompileStylesheetMetadata({ styleUrls: prenormData.styleUrls, moduleUrl: prenormData.moduleUrl }))\n                .styleUrls;\n            return {\n                template: template,\n                templateUrl: templateAbsUrl, isInline: isInline,\n                htmlAst: rootNodesAndErrors, styles: styles, inlineStyleUrls: inlineStyleUrls, styleUrls: styleUrls,\n                ngContentSelectors: visitor.ngContentSelectors,\n            };\n        };\n        DirectiveNormalizer.prototype._normalizeTemplateMetadata = function (prenormData, preparsedTemplate) {\n            var _this = this;\n            return SyncAsync.then(this._loadMissingExternalStylesheets(preparsedTemplate.styleUrls.concat(preparsedTemplate.inlineStyleUrls)), function (externalStylesheets) { return _this._normalizeLoadedTemplateMetadata(prenormData, preparsedTemplate, externalStylesheets); });\n        };\n        DirectiveNormalizer.prototype._normalizeLoadedTemplateMetadata = function (prenormData, preparsedTemplate, stylesheets) {\n            // Algorithm:\n            // - produce exactly 1 entry per original styleUrl in\n            // CompileTemplateMetadata.externalStylesheets with all styles inlined\n            // - inline all styles that are referenced by the template into CompileTemplateMetadata.styles.\n            // Reason: be able to determine how many stylesheets there are even without loading\n            // the template nor the stylesheets, so we can create a stub for TypeScript always synchronously\n            // (as resource loading may be async)\n            var _this = this;\n            var styles = __spread(preparsedTemplate.styles);\n            this._inlineStyles(preparsedTemplate.inlineStyleUrls, stylesheets, styles);\n            var styleUrls = preparsedTemplate.styleUrls;\n            var externalStylesheets = styleUrls.map(function (styleUrl) {\n                var stylesheet = stylesheets.get(styleUrl);\n                var styles = __spread(stylesheet.styles);\n                _this._inlineStyles(stylesheet.styleUrls, stylesheets, styles);\n                return new CompileStylesheetMetadata({ moduleUrl: styleUrl, styles: styles });\n            });\n            var encapsulation = prenormData.encapsulation;\n            if (encapsulation == null) {\n                encapsulation = this._config.defaultEncapsulation;\n            }\n            if (encapsulation === ViewEncapsulation.Emulated && styles.length === 0 &&\n                styleUrls.length === 0) {\n                encapsulation = ViewEncapsulation.None;\n            }\n            return new CompileTemplateMetadata({\n                encapsulation: encapsulation,\n                template: preparsedTemplate.template,\n                templateUrl: preparsedTemplate.templateUrl,\n                htmlAst: preparsedTemplate.htmlAst, styles: styles, styleUrls: styleUrls,\n                ngContentSelectors: preparsedTemplate.ngContentSelectors,\n                animations: prenormData.animations,\n                interpolation: prenormData.interpolation,\n                isInline: preparsedTemplate.isInline, externalStylesheets: externalStylesheets,\n                preserveWhitespaces: preserveWhitespacesDefault(prenormData.preserveWhitespaces, this._config.preserveWhitespaces),\n            });\n        };\n        DirectiveNormalizer.prototype._inlineStyles = function (styleUrls, stylesheets, targetStyles) {\n            var _this = this;\n            styleUrls.forEach(function (styleUrl) {\n                var stylesheet = stylesheets.get(styleUrl);\n                stylesheet.styles.forEach(function (style) { return targetStyles.push(style); });\n                _this._inlineStyles(stylesheet.styleUrls, stylesheets, targetStyles);\n            });\n        };\n        DirectiveNormalizer.prototype._loadMissingExternalStylesheets = function (styleUrls, loadedStylesheets) {\n            var _this = this;\n            if (loadedStylesheets === void 0) { loadedStylesheets = new Map(); }\n            return SyncAsync.then(SyncAsync.all(styleUrls.filter(function (styleUrl) { return !loadedStylesheets.has(styleUrl); })\n                .map(function (styleUrl) { return SyncAsync.then(_this._fetch(styleUrl), function (loadedStyle) {\n                var stylesheet = _this._normalizeStylesheet(new CompileStylesheetMetadata({ styles: [loadedStyle], moduleUrl: styleUrl }));\n                loadedStylesheets.set(styleUrl, stylesheet);\n                return _this._loadMissingExternalStylesheets(stylesheet.styleUrls, loadedStylesheets);\n            }); })), function (_) { return loadedStylesheets; });\n        };\n        DirectiveNormalizer.prototype._normalizeStylesheet = function (stylesheet) {\n            var _this = this;\n            var moduleUrl = stylesheet.moduleUrl;\n            var allStyleUrls = stylesheet.styleUrls.filter(isStyleUrlResolvable)\n                .map(function (url) { return _this._urlResolver.resolve(moduleUrl, url); });\n            var allStyles = stylesheet.styles.map(function (style) {\n                var styleWithImports = extractStyleUrls(_this._urlResolver, moduleUrl, style);\n                allStyleUrls.push.apply(allStyleUrls, __spread(styleWithImports.styleUrls));\n                return styleWithImports.style;\n            });\n            return new CompileStylesheetMetadata({ styles: allStyles, styleUrls: allStyleUrls, moduleUrl: moduleUrl });\n        };\n        return DirectiveNormalizer;\n    }());\n    var TemplatePreparseVisitor = /** @class */ (function () {\n        function TemplatePreparseVisitor() {\n            this.ngContentSelectors = [];\n            this.styles = [];\n            this.styleUrls = [];\n            this.ngNonBindableStackCount = 0;\n        }\n        TemplatePreparseVisitor.prototype.visitElement = function (ast, context) {\n            var preparsedElement = preparseElement(ast);\n            switch (preparsedElement.type) {\n                case PreparsedElementType.NG_CONTENT:\n                    if (this.ngNonBindableStackCount === 0) {\n                        this.ngContentSelectors.push(preparsedElement.selectAttr);\n                    }\n                    break;\n                case PreparsedElementType.STYLE:\n                    var textContent_1 = '';\n                    ast.children.forEach(function (child) {\n                        if (child instanceof Text) {\n                            textContent_1 += child.value;\n                        }\n                    });\n                    this.styles.push(textContent_1);\n                    break;\n                case PreparsedElementType.STYLESHEET:\n                    this.styleUrls.push(preparsedElement.hrefAttr);\n                    break;\n                default:\n                    break;\n            }\n            if (preparsedElement.nonBindable) {\n                this.ngNonBindableStackCount++;\n            }\n            visitAll(this, ast.children);\n            if (preparsedElement.nonBindable) {\n                this.ngNonBindableStackCount--;\n            }\n            return null;\n        };\n        TemplatePreparseVisitor.prototype.visitExpansion = function (ast, context) { visitAll(this, ast.cases); };\n        TemplatePreparseVisitor.prototype.visitExpansionCase = function (ast, context) {\n            visitAll(this, ast.expression);\n        };\n        TemplatePreparseVisitor.prototype.visitComment = function (ast, context) { return null; };\n        TemplatePreparseVisitor.prototype.visitAttribute = function (ast, context) { return null; };\n        TemplatePreparseVisitor.prototype.visitText = function (ast, context) { return null; };\n        return TemplatePreparseVisitor;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var QUERY_METADATA_IDENTIFIERS = [\n        createViewChild,\n        createViewChildren,\n        createContentChild,\n        createContentChildren,\n    ];\n    /*\n     * Resolve a `Type` for {@link Directive}.\n     *\n     * This interface can be overridden by the application developer to create custom behavior.\n     *\n     * See {@link Compiler}\n     */\n    var DirectiveResolver = /** @class */ (function () {\n        function DirectiveResolver(_reflector) {\n            this._reflector = _reflector;\n        }\n        DirectiveResolver.prototype.isDirective = function (type) {\n            var typeMetadata = this._reflector.annotations(resolveForwardRef(type));\n            return typeMetadata && typeMetadata.some(isDirectiveMetadata);\n        };\n        DirectiveResolver.prototype.resolve = function (type, throwIfNotFound) {\n            if (throwIfNotFound === void 0) { throwIfNotFound = true; }\n            var typeMetadata = this._reflector.annotations(resolveForwardRef(type));\n            if (typeMetadata) {\n                var metadata = findLast(typeMetadata, isDirectiveMetadata);\n                if (metadata) {\n                    var propertyMetadata = this._reflector.propMetadata(type);\n                    var guards = this._reflector.guards(type);\n                    return this._mergeWithPropertyMetadata(metadata, propertyMetadata, guards, type);\n                }\n            }\n            if (throwIfNotFound) {\n                throw new Error(\"No Directive annotation found on \" + stringify(type));\n            }\n            return null;\n        };\n        DirectiveResolver.prototype._mergeWithPropertyMetadata = function (dm, propertyMetadata, guards, directiveType) {\n            var inputs = [];\n            var outputs = [];\n            var host = {};\n            var queries = {};\n            Object.keys(propertyMetadata).forEach(function (propName) {\n                var input = findLast(propertyMetadata[propName], function (a) { return createInput.isTypeOf(a); });\n                if (input) {\n                    if (input.bindingPropertyName) {\n                        inputs.push(propName + \": \" + input.bindingPropertyName);\n                    }\n                    else {\n                        inputs.push(propName);\n                    }\n                }\n                var output = findLast(propertyMetadata[propName], function (a) { return createOutput.isTypeOf(a); });\n                if (output) {\n                    if (output.bindingPropertyName) {\n                        outputs.push(propName + \": \" + output.bindingPropertyName);\n                    }\n                    else {\n                        outputs.push(propName);\n                    }\n                }\n                var hostBindings = propertyMetadata[propName].filter(function (a) { return createHostBinding.isTypeOf(a); });\n                hostBindings.forEach(function (hostBinding) {\n                    if (hostBinding.hostPropertyName) {\n                        var startWith = hostBinding.hostPropertyName[0];\n                        if (startWith === '(') {\n                            throw new Error(\"@HostBinding can not bind to events. Use @HostListener instead.\");\n                        }\n                        else if (startWith === '[') {\n                            throw new Error(\"@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.\");\n                        }\n                        host[\"[\" + hostBinding.hostPropertyName + \"]\"] = propName;\n                    }\n                    else {\n                        host[\"[\" + propName + \"]\"] = propName;\n                    }\n                });\n                var hostListeners = propertyMetadata[propName].filter(function (a) { return createHostListener.isTypeOf(a); });\n                hostListeners.forEach(function (hostListener) {\n                    var args = hostListener.args || [];\n                    host[\"(\" + hostListener.eventName + \")\"] = propName + \"(\" + args.join(',') + \")\";\n                });\n                var query = findLast(propertyMetadata[propName], function (a) { return QUERY_METADATA_IDENTIFIERS.some(function (i) { return i.isTypeOf(a); }); });\n                if (query) {\n                    queries[propName] = query;\n                }\n            });\n            return this._merge(dm, inputs, outputs, host, queries, guards, directiveType);\n        };\n        DirectiveResolver.prototype._extractPublicName = function (def) { return splitAtColon(def, [null, def])[1].trim(); };\n        DirectiveResolver.prototype._dedupeBindings = function (bindings) {\n            var names = new Set();\n            var publicNames = new Set();\n            var reversedResult = [];\n            // go last to first to allow later entries to overwrite previous entries\n            for (var i = bindings.length - 1; i >= 0; i--) {\n                var binding = bindings[i];\n                var name_1 = this._extractPublicName(binding);\n                publicNames.add(name_1);\n                if (!names.has(name_1)) {\n                    names.add(name_1);\n                    reversedResult.push(binding);\n                }\n            }\n            return reversedResult.reverse();\n        };\n        DirectiveResolver.prototype._merge = function (directive, inputs, outputs, host, queries, guards, directiveType) {\n            var mergedInputs = this._dedupeBindings(directive.inputs ? directive.inputs.concat(inputs) : inputs);\n            var mergedOutputs = this._dedupeBindings(directive.outputs ? directive.outputs.concat(outputs) : outputs);\n            var mergedHost = directive.host ? __assign({}, directive.host, host) : host;\n            var mergedQueries = directive.queries ? __assign({}, directive.queries, queries) : queries;\n            if (createComponent.isTypeOf(directive)) {\n                var comp = directive;\n                return createComponent({\n                    selector: comp.selector,\n                    inputs: mergedInputs,\n                    outputs: mergedOutputs,\n                    host: mergedHost,\n                    exportAs: comp.exportAs,\n                    moduleId: comp.moduleId,\n                    queries: mergedQueries,\n                    changeDetection: comp.changeDetection,\n                    providers: comp.providers,\n                    viewProviders: comp.viewProviders,\n                    entryComponents: comp.entryComponents,\n                    template: comp.template,\n                    templateUrl: comp.templateUrl,\n                    styles: comp.styles,\n                    styleUrls: comp.styleUrls,\n                    encapsulation: comp.encapsulation,\n                    animations: comp.animations,\n                    interpolation: comp.interpolation,\n                    preserveWhitespaces: directive.preserveWhitespaces,\n                });\n            }\n            else {\n                return createDirective({\n                    selector: directive.selector,\n                    inputs: mergedInputs,\n                    outputs: mergedOutputs,\n                    host: mergedHost,\n                    exportAs: directive.exportAs,\n                    queries: mergedQueries,\n                    providers: directive.providers, guards: guards\n                });\n            }\n        };\n        return DirectiveResolver;\n    }());\n    function isDirectiveMetadata(type) {\n        return createDirective.isTypeOf(type) || createComponent.isTypeOf(type);\n    }\n    function findLast(arr, condition) {\n        for (var i = arr.length - 1; i >= 0; i--) {\n            if (condition(arr[i])) {\n                return arr[i];\n            }\n        }\n        return null;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var $EOF = 0;\n    var $TAB = 9;\n    var $LF = 10;\n    var $VTAB = 11;\n    var $FF = 12;\n    var $CR = 13;\n    var $SPACE = 32;\n    var $BANG = 33;\n    var $DQ = 34;\n    var $HASH = 35;\n    var $$ = 36;\n    var $PERCENT = 37;\n    var $AMPERSAND = 38;\n    var $SQ = 39;\n    var $LPAREN = 40;\n    var $RPAREN = 41;\n    var $STAR = 42;\n    var $PLUS = 43;\n    var $COMMA = 44;\n    var $MINUS = 45;\n    var $PERIOD = 46;\n    var $SLASH = 47;\n    var $COLON = 58;\n    var $SEMICOLON = 59;\n    var $LT = 60;\n    var $EQ = 61;\n    var $GT = 62;\n    var $QUESTION = 63;\n    var $0 = 48;\n    var $9 = 57;\n    var $A = 65;\n    var $E = 69;\n    var $F = 70;\n    var $X = 88;\n    var $Z = 90;\n    var $LBRACKET = 91;\n    var $BACKSLASH = 92;\n    var $RBRACKET = 93;\n    var $CARET = 94;\n    var $_ = 95;\n    var $a = 97;\n    var $e = 101;\n    var $f = 102;\n    var $n = 110;\n    var $r = 114;\n    var $t = 116;\n    var $u = 117;\n    var $v = 118;\n    var $x = 120;\n    var $z = 122;\n    var $LBRACE = 123;\n    var $BAR = 124;\n    var $RBRACE = 125;\n    var $NBSP = 160;\n    var $BT = 96;\n    function isWhitespace(code) {\n        return (code >= $TAB && code <= $SPACE) || (code == $NBSP);\n    }\n    function isDigit(code) {\n        return $0 <= code && code <= $9;\n    }\n    function isAsciiLetter(code) {\n        return code >= $a && code <= $z || code >= $A && code <= $Z;\n    }\n    function isAsciiHexDigit(code) {\n        return code >= $a && code <= $f || code >= $A && code <= $F || isDigit(code);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    (function (TokenType) {\n        TokenType[TokenType[\"Character\"] = 0] = \"Character\";\n        TokenType[TokenType[\"Identifier\"] = 1] = \"Identifier\";\n        TokenType[TokenType[\"Keyword\"] = 2] = \"Keyword\";\n        TokenType[TokenType[\"String\"] = 3] = \"String\";\n        TokenType[TokenType[\"Operator\"] = 4] = \"Operator\";\n        TokenType[TokenType[\"Number\"] = 5] = \"Number\";\n        TokenType[TokenType[\"Error\"] = 6] = \"Error\";\n    })(exports.TokenType || (exports.TokenType = {}));\n    var KEYWORDS = ['var', 'let', 'as', 'null', 'undefined', 'true', 'false', 'if', 'else', 'this'];\n    var Lexer = /** @class */ (function () {\n        function Lexer() {\n        }\n        Lexer.prototype.tokenize = function (text) {\n            var scanner = new _Scanner(text);\n            var tokens = [];\n            var token = scanner.scanToken();\n            while (token != null) {\n                tokens.push(token);\n                token = scanner.scanToken();\n            }\n            return tokens;\n        };\n        return Lexer;\n    }());\n    var Token = /** @class */ (function () {\n        function Token(index, type, numValue, strValue) {\n            this.index = index;\n            this.type = type;\n            this.numValue = numValue;\n            this.strValue = strValue;\n        }\n        Token.prototype.isCharacter = function (code) {\n            return this.type == exports.TokenType.Character && this.numValue == code;\n        };\n        Token.prototype.isNumber = function () { return this.type == exports.TokenType.Number; };\n        Token.prototype.isString = function () { return this.type == exports.TokenType.String; };\n        Token.prototype.isOperator = function (operater) {\n            return this.type == exports.TokenType.Operator && this.strValue == operater;\n        };\n        Token.prototype.isIdentifier = function () { return this.type == exports.TokenType.Identifier; };\n        Token.prototype.isKeyword = function () { return this.type == exports.TokenType.Keyword; };\n        Token.prototype.isKeywordLet = function () { return this.type == exports.TokenType.Keyword && this.strValue == 'let'; };\n        Token.prototype.isKeywordAs = function () { return this.type == exports.TokenType.Keyword && this.strValue == 'as'; };\n        Token.prototype.isKeywordNull = function () { return this.type == exports.TokenType.Keyword && this.strValue == 'null'; };\n        Token.prototype.isKeywordUndefined = function () {\n            return this.type == exports.TokenType.Keyword && this.strValue == 'undefined';\n        };\n        Token.prototype.isKeywordTrue = function () { return this.type == exports.TokenType.Keyword && this.strValue == 'true'; };\n        Token.prototype.isKeywordFalse = function () { return this.type == exports.TokenType.Keyword && this.strValue == 'false'; };\n        Token.prototype.isKeywordThis = function () { return this.type == exports.TokenType.Keyword && this.strValue == 'this'; };\n        Token.prototype.isError = function () { return this.type == exports.TokenType.Error; };\n        Token.prototype.toNumber = function () { return this.type == exports.TokenType.Number ? this.numValue : -1; };\n        Token.prototype.toString = function () {\n            switch (this.type) {\n                case exports.TokenType.Character:\n                case exports.TokenType.Identifier:\n                case exports.TokenType.Keyword:\n                case exports.TokenType.Operator:\n                case exports.TokenType.String:\n                case exports.TokenType.Error:\n                    return this.strValue;\n                case exports.TokenType.Number:\n                    return this.numValue.toString();\n                default:\n                    return null;\n            }\n        };\n        return Token;\n    }());\n    function newCharacterToken(index, code) {\n        return new Token(index, exports.TokenType.Character, code, String.fromCharCode(code));\n    }\n    function newIdentifierToken(index, text) {\n        return new Token(index, exports.TokenType.Identifier, 0, text);\n    }\n    function newKeywordToken(index, text) {\n        return new Token(index, exports.TokenType.Keyword, 0, text);\n    }\n    function newOperatorToken(index, text) {\n        return new Token(index, exports.TokenType.Operator, 0, text);\n    }\n    function newStringToken(index, text) {\n        return new Token(index, exports.TokenType.String, 0, text);\n    }\n    function newNumberToken(index, n) {\n        return new Token(index, exports.TokenType.Number, n, '');\n    }\n    function newErrorToken(index, message) {\n        return new Token(index, exports.TokenType.Error, 0, message);\n    }\n    var EOF = new Token(-1, exports.TokenType.Character, 0, '');\n    var _Scanner = /** @class */ (function () {\n        function _Scanner(input) {\n            this.input = input;\n            this.peek = 0;\n            this.index = -1;\n            this.length = input.length;\n            this.advance();\n        }\n        _Scanner.prototype.advance = function () {\n            this.peek = ++this.index >= this.length ? $EOF : this.input.charCodeAt(this.index);\n        };\n        _Scanner.prototype.scanToken = function () {\n            var input = this.input, length = this.length;\n            var peek = this.peek, index = this.index;\n            // Skip whitespace.\n            while (peek <= $SPACE) {\n                if (++index >= length) {\n                    peek = $EOF;\n                    break;\n                }\n                else {\n                    peek = input.charCodeAt(index);\n                }\n            }\n            this.peek = peek;\n            this.index = index;\n            if (index >= length) {\n                return null;\n            }\n            // Handle identifiers and numbers.\n            if (isIdentifierStart(peek))\n                return this.scanIdentifier();\n            if (isDigit(peek))\n                return this.scanNumber(index);\n            var start = index;\n            switch (peek) {\n                case $PERIOD:\n                    this.advance();\n                    return isDigit(this.peek) ? this.scanNumber(start) :\n                        newCharacterToken(start, $PERIOD);\n                case $LPAREN:\n                case $RPAREN:\n                case $LBRACE:\n                case $RBRACE:\n                case $LBRACKET:\n                case $RBRACKET:\n                case $COMMA:\n                case $COLON:\n                case $SEMICOLON:\n                    return this.scanCharacter(start, peek);\n                case $SQ:\n                case $DQ:\n                    return this.scanString();\n                case $HASH:\n                case $PLUS:\n                case $MINUS:\n                case $STAR:\n                case $SLASH:\n                case $PERCENT:\n                case $CARET:\n                    return this.scanOperator(start, String.fromCharCode(peek));\n                case $QUESTION:\n                    return this.scanComplexOperator(start, '?', $PERIOD, '.');\n                case $LT:\n                case $GT:\n                    return this.scanComplexOperator(start, String.fromCharCode(peek), $EQ, '=');\n                case $BANG:\n                case $EQ:\n                    return this.scanComplexOperator(start, String.fromCharCode(peek), $EQ, '=', $EQ, '=');\n                case $AMPERSAND:\n                    return this.scanComplexOperator(start, '&', $AMPERSAND, '&');\n                case $BAR:\n                    return this.scanComplexOperator(start, '|', $BAR, '|');\n                case $NBSP:\n                    while (isWhitespace(this.peek))\n                        this.advance();\n                    return this.scanToken();\n            }\n            this.advance();\n            return this.error(\"Unexpected character [\" + String.fromCharCode(peek) + \"]\", 0);\n        };\n        _Scanner.prototype.scanCharacter = function (start, code) {\n            this.advance();\n            return newCharacterToken(start, code);\n        };\n        _Scanner.prototype.scanOperator = function (start, str) {\n            this.advance();\n            return newOperatorToken(start, str);\n        };\n        /**\n         * Tokenize a 2/3 char long operator\n         *\n         * @param start start index in the expression\n         * @param one first symbol (always part of the operator)\n         * @param twoCode code point for the second symbol\n         * @param two second symbol (part of the operator when the second code point matches)\n         * @param threeCode code point for the third symbol\n         * @param three third symbol (part of the operator when provided and matches source expression)\n         */\n        _Scanner.prototype.scanComplexOperator = function (start, one, twoCode, two, threeCode, three) {\n            this.advance();\n            var str = one;\n            if (this.peek == twoCode) {\n                this.advance();\n                str += two;\n            }\n            if (threeCode != null && this.peek == threeCode) {\n                this.advance();\n                str += three;\n            }\n            return newOperatorToken(start, str);\n        };\n        _Scanner.prototype.scanIdentifier = function () {\n            var start = this.index;\n            this.advance();\n            while (isIdentifierPart(this.peek))\n                this.advance();\n            var str = this.input.substring(start, this.index);\n            return KEYWORDS.indexOf(str) > -1 ? newKeywordToken(start, str) :\n                newIdentifierToken(start, str);\n        };\n        _Scanner.prototype.scanNumber = function (start) {\n            var simple = (this.index === start);\n            this.advance(); // Skip initial digit.\n            while (true) {\n                if (isDigit(this.peek)) ;\n                else if (this.peek == $PERIOD) {\n                    simple = false;\n                }\n                else if (isExponentStart(this.peek)) {\n                    this.advance();\n                    if (isExponentSign(this.peek))\n                        this.advance();\n                    if (!isDigit(this.peek))\n                        return this.error('Invalid exponent', -1);\n                    simple = false;\n                }\n                else {\n                    break;\n                }\n                this.advance();\n            }\n            var str = this.input.substring(start, this.index);\n            var value = simple ? parseIntAutoRadix(str) : parseFloat(str);\n            return newNumberToken(start, value);\n        };\n        _Scanner.prototype.scanString = function () {\n            var start = this.index;\n            var quote = this.peek;\n            this.advance(); // Skip initial quote.\n            var buffer = '';\n            var marker = this.index;\n            var input = this.input;\n            while (this.peek != quote) {\n                if (this.peek == $BACKSLASH) {\n                    buffer += input.substring(marker, this.index);\n                    this.advance();\n                    var unescapedCode = void 0;\n                    // Workaround for TS2.1-introduced type strictness\n                    this.peek = this.peek;\n                    if (this.peek == $u) {\n                        // 4 character hex code for unicode character.\n                        var hex = input.substring(this.index + 1, this.index + 5);\n                        if (/^[0-9a-f]+$/i.test(hex)) {\n                            unescapedCode = parseInt(hex, 16);\n                        }\n                        else {\n                            return this.error(\"Invalid unicode escape [\\\\u\" + hex + \"]\", 0);\n                        }\n                        for (var i = 0; i < 5; i++) {\n                            this.advance();\n                        }\n                    }\n                    else {\n                        unescapedCode = unescape(this.peek);\n                        this.advance();\n                    }\n                    buffer += String.fromCharCode(unescapedCode);\n                    marker = this.index;\n                }\n                else if (this.peek == $EOF) {\n                    return this.error('Unterminated quote', 0);\n                }\n                else {\n                    this.advance();\n                }\n            }\n            var last = input.substring(marker, this.index);\n            this.advance(); // Skip terminating quote.\n            return newStringToken(start, buffer + last);\n        };\n        _Scanner.prototype.error = function (message, offset) {\n            var position = this.index + offset;\n            return newErrorToken(position, \"Lexer Error: \" + message + \" at column \" + position + \" in expression [\" + this.input + \"]\");\n        };\n        return _Scanner;\n    }());\n    function isIdentifierStart(code) {\n        return ($a <= code && code <= $z) || ($A <= code && code <= $Z) ||\n            (code == $_) || (code == $$);\n    }\n    function isIdentifier(input) {\n        if (input.length == 0)\n            return false;\n        var scanner = new _Scanner(input);\n        if (!isIdentifierStart(scanner.peek))\n            return false;\n        scanner.advance();\n        while (scanner.peek !== $EOF) {\n            if (!isIdentifierPart(scanner.peek))\n                return false;\n            scanner.advance();\n        }\n        return true;\n    }\n    function isIdentifierPart(code) {\n        return isAsciiLetter(code) || isDigit(code) || (code == $_) ||\n            (code == $$);\n    }\n    function isExponentStart(code) {\n        return code == $e || code == $E;\n    }\n    function isExponentSign(code) {\n        return code == $MINUS || code == $PLUS;\n    }\n    function isQuote(code) {\n        return code === $SQ || code === $DQ || code === $BT;\n    }\n    function unescape(code) {\n        switch (code) {\n            case $n:\n                return $LF;\n            case $f:\n                return $FF;\n            case $r:\n                return $CR;\n            case $t:\n                return $TAB;\n            case $v:\n                return $VTAB;\n            default:\n                return code;\n        }\n    }\n    function parseIntAutoRadix(text) {\n        var result = parseInt(text);\n        if (isNaN(result)) {\n            throw new Error('Invalid integer literal when parsing ' + text);\n        }\n        return result;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ParserError = /** @class */ (function () {\n        function ParserError(message, input, errLocation, ctxLocation) {\n            this.input = input;\n            this.errLocation = errLocation;\n            this.ctxLocation = ctxLocation;\n            this.message = \"Parser Error: \" + message + \" \" + errLocation + \" [\" + input + \"] in \" + ctxLocation;\n        }\n        return ParserError;\n    }());\n    var ParseSpan = /** @class */ (function () {\n        function ParseSpan(start, end) {\n            this.start = start;\n            this.end = end;\n        }\n        return ParseSpan;\n    }());\n    var AST = /** @class */ (function () {\n        function AST(span) {\n            this.span = span;\n        }\n        AST.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return null;\n        };\n        AST.prototype.toString = function () { return 'AST'; };\n        return AST;\n    }());\n    /**\n     * Represents a quoted expression of the form:\n     *\n     * quote = prefix `:` uninterpretedExpression\n     * prefix = identifier\n     * uninterpretedExpression = arbitrary string\n     *\n     * A quoted expression is meant to be pre-processed by an AST transformer that\n     * converts it into another AST that no longer contains quoted expressions.\n     * It is meant to allow third-party developers to extend Angular template\n     * expression language. The `uninterpretedExpression` part of the quote is\n     * therefore not interpreted by the Angular's own expression parser.\n     */\n    var Quote = /** @class */ (function (_super) {\n        __extends(Quote, _super);\n        function Quote(span, prefix, uninterpretedExpression, location) {\n            var _this = _super.call(this, span) || this;\n            _this.prefix = prefix;\n            _this.uninterpretedExpression = uninterpretedExpression;\n            _this.location = location;\n            return _this;\n        }\n        Quote.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitQuote(this, context);\n        };\n        Quote.prototype.toString = function () { return 'Quote'; };\n        return Quote;\n    }(AST));\n    var EmptyExpr = /** @class */ (function (_super) {\n        __extends(EmptyExpr, _super);\n        function EmptyExpr() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        EmptyExpr.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            // do nothing\n        };\n        return EmptyExpr;\n    }(AST));\n    var ImplicitReceiver = /** @class */ (function (_super) {\n        __extends(ImplicitReceiver, _super);\n        function ImplicitReceiver() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        ImplicitReceiver.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitImplicitReceiver(this, context);\n        };\n        return ImplicitReceiver;\n    }(AST));\n    /**\n     * Multiple expressions separated by a semicolon.\n     */\n    var Chain = /** @class */ (function (_super) {\n        __extends(Chain, _super);\n        function Chain(span, expressions) {\n            var _this = _super.call(this, span) || this;\n            _this.expressions = expressions;\n            return _this;\n        }\n        Chain.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitChain(this, context);\n        };\n        return Chain;\n    }(AST));\n    var Conditional = /** @class */ (function (_super) {\n        __extends(Conditional, _super);\n        function Conditional(span, condition, trueExp, falseExp) {\n            var _this = _super.call(this, span) || this;\n            _this.condition = condition;\n            _this.trueExp = trueExp;\n            _this.falseExp = falseExp;\n            return _this;\n        }\n        Conditional.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitConditional(this, context);\n        };\n        return Conditional;\n    }(AST));\n    var PropertyRead = /** @class */ (function (_super) {\n        __extends(PropertyRead, _super);\n        function PropertyRead(span, receiver, name) {\n            var _this = _super.call(this, span) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            return _this;\n        }\n        PropertyRead.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitPropertyRead(this, context);\n        };\n        return PropertyRead;\n    }(AST));\n    var PropertyWrite = /** @class */ (function (_super) {\n        __extends(PropertyWrite, _super);\n        function PropertyWrite(span, receiver, name, value) {\n            var _this = _super.call(this, span) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            _this.value = value;\n            return _this;\n        }\n        PropertyWrite.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitPropertyWrite(this, context);\n        };\n        return PropertyWrite;\n    }(AST));\n    var SafePropertyRead = /** @class */ (function (_super) {\n        __extends(SafePropertyRead, _super);\n        function SafePropertyRead(span, receiver, name) {\n            var _this = _super.call(this, span) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            return _this;\n        }\n        SafePropertyRead.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitSafePropertyRead(this, context);\n        };\n        return SafePropertyRead;\n    }(AST));\n    var KeyedRead = /** @class */ (function (_super) {\n        __extends(KeyedRead, _super);\n        function KeyedRead(span, obj, key) {\n            var _this = _super.call(this, span) || this;\n            _this.obj = obj;\n            _this.key = key;\n            return _this;\n        }\n        KeyedRead.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitKeyedRead(this, context);\n        };\n        return KeyedRead;\n    }(AST));\n    var KeyedWrite = /** @class */ (function (_super) {\n        __extends(KeyedWrite, _super);\n        function KeyedWrite(span, obj, key, value) {\n            var _this = _super.call(this, span) || this;\n            _this.obj = obj;\n            _this.key = key;\n            _this.value = value;\n            return _this;\n        }\n        KeyedWrite.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitKeyedWrite(this, context);\n        };\n        return KeyedWrite;\n    }(AST));\n    var BindingPipe = /** @class */ (function (_super) {\n        __extends(BindingPipe, _super);\n        function BindingPipe(span, exp, name, args) {\n            var _this = _super.call(this, span) || this;\n            _this.exp = exp;\n            _this.name = name;\n            _this.args = args;\n            return _this;\n        }\n        BindingPipe.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitPipe(this, context);\n        };\n        return BindingPipe;\n    }(AST));\n    var LiteralPrimitive = /** @class */ (function (_super) {\n        __extends(LiteralPrimitive, _super);\n        function LiteralPrimitive(span, value) {\n            var _this = _super.call(this, span) || this;\n            _this.value = value;\n            return _this;\n        }\n        LiteralPrimitive.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitLiteralPrimitive(this, context);\n        };\n        return LiteralPrimitive;\n    }(AST));\n    var LiteralArray = /** @class */ (function (_super) {\n        __extends(LiteralArray, _super);\n        function LiteralArray(span, expressions) {\n            var _this = _super.call(this, span) || this;\n            _this.expressions = expressions;\n            return _this;\n        }\n        LiteralArray.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitLiteralArray(this, context);\n        };\n        return LiteralArray;\n    }(AST));\n    var LiteralMap = /** @class */ (function (_super) {\n        __extends(LiteralMap, _super);\n        function LiteralMap(span, keys, values) {\n            var _this = _super.call(this, span) || this;\n            _this.keys = keys;\n            _this.values = values;\n            return _this;\n        }\n        LiteralMap.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitLiteralMap(this, context);\n        };\n        return LiteralMap;\n    }(AST));\n    var Interpolation = /** @class */ (function (_super) {\n        __extends(Interpolation, _super);\n        function Interpolation(span, strings, expressions) {\n            var _this = _super.call(this, span) || this;\n            _this.strings = strings;\n            _this.expressions = expressions;\n            return _this;\n        }\n        Interpolation.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitInterpolation(this, context);\n        };\n        return Interpolation;\n    }(AST));\n    var Binary = /** @class */ (function (_super) {\n        __extends(Binary, _super);\n        function Binary(span, operation, left, right) {\n            var _this = _super.call(this, span) || this;\n            _this.operation = operation;\n            _this.left = left;\n            _this.right = right;\n            return _this;\n        }\n        Binary.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitBinary(this, context);\n        };\n        return Binary;\n    }(AST));\n    var PrefixNot = /** @class */ (function (_super) {\n        __extends(PrefixNot, _super);\n        function PrefixNot(span, expression) {\n            var _this = _super.call(this, span) || this;\n            _this.expression = expression;\n            return _this;\n        }\n        PrefixNot.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitPrefixNot(this, context);\n        };\n        return PrefixNot;\n    }(AST));\n    var NonNullAssert = /** @class */ (function (_super) {\n        __extends(NonNullAssert, _super);\n        function NonNullAssert(span, expression) {\n            var _this = _super.call(this, span) || this;\n            _this.expression = expression;\n            return _this;\n        }\n        NonNullAssert.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitNonNullAssert(this, context);\n        };\n        return NonNullAssert;\n    }(AST));\n    var MethodCall = /** @class */ (function (_super) {\n        __extends(MethodCall, _super);\n        function MethodCall(span, receiver, name, args) {\n            var _this = _super.call(this, span) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            _this.args = args;\n            return _this;\n        }\n        MethodCall.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitMethodCall(this, context);\n        };\n        return MethodCall;\n    }(AST));\n    var SafeMethodCall = /** @class */ (function (_super) {\n        __extends(SafeMethodCall, _super);\n        function SafeMethodCall(span, receiver, name, args) {\n            var _this = _super.call(this, span) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            _this.args = args;\n            return _this;\n        }\n        SafeMethodCall.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitSafeMethodCall(this, context);\n        };\n        return SafeMethodCall;\n    }(AST));\n    var FunctionCall = /** @class */ (function (_super) {\n        __extends(FunctionCall, _super);\n        function FunctionCall(span, target, args) {\n            var _this = _super.call(this, span) || this;\n            _this.target = target;\n            _this.args = args;\n            return _this;\n        }\n        FunctionCall.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return visitor.visitFunctionCall(this, context);\n        };\n        return FunctionCall;\n    }(AST));\n    var ASTWithSource = /** @class */ (function (_super) {\n        __extends(ASTWithSource, _super);\n        function ASTWithSource(ast, source, location, errors) {\n            var _this = _super.call(this, new ParseSpan(0, source == null ? 0 : source.length)) || this;\n            _this.ast = ast;\n            _this.source = source;\n            _this.location = location;\n            _this.errors = errors;\n            return _this;\n        }\n        ASTWithSource.prototype.visit = function (visitor, context) {\n            if (context === void 0) { context = null; }\n            return this.ast.visit(visitor, context);\n        };\n        ASTWithSource.prototype.toString = function () { return this.source + \" in \" + this.location; };\n        return ASTWithSource;\n    }(AST));\n    var TemplateBinding = /** @class */ (function () {\n        function TemplateBinding(span, key, keyIsVar, name, expression) {\n            this.span = span;\n            this.key = key;\n            this.keyIsVar = keyIsVar;\n            this.name = name;\n            this.expression = expression;\n        }\n        return TemplateBinding;\n    }());\n    var NullAstVisitor = /** @class */ (function () {\n        function NullAstVisitor() {\n        }\n        NullAstVisitor.prototype.visitBinary = function (ast, context) { };\n        NullAstVisitor.prototype.visitChain = function (ast, context) { };\n        NullAstVisitor.prototype.visitConditional = function (ast, context) { };\n        NullAstVisitor.prototype.visitFunctionCall = function (ast, context) { };\n        NullAstVisitor.prototype.visitImplicitReceiver = function (ast, context) { };\n        NullAstVisitor.prototype.visitInterpolation = function (ast, context) { };\n        NullAstVisitor.prototype.visitKeyedRead = function (ast, context) { };\n        NullAstVisitor.prototype.visitKeyedWrite = function (ast, context) { };\n        NullAstVisitor.prototype.visitLiteralArray = function (ast, context) { };\n        NullAstVisitor.prototype.visitLiteralMap = function (ast, context) { };\n        NullAstVisitor.prototype.visitLiteralPrimitive = function (ast, context) { };\n        NullAstVisitor.prototype.visitMethodCall = function (ast, context) { };\n        NullAstVisitor.prototype.visitPipe = function (ast, context) { };\n        NullAstVisitor.prototype.visitPrefixNot = function (ast, context) { };\n        NullAstVisitor.prototype.visitNonNullAssert = function (ast, context) { };\n        NullAstVisitor.prototype.visitPropertyRead = function (ast, context) { };\n        NullAstVisitor.prototype.visitPropertyWrite = function (ast, context) { };\n        NullAstVisitor.prototype.visitQuote = function (ast, context) { };\n        NullAstVisitor.prototype.visitSafeMethodCall = function (ast, context) { };\n        NullAstVisitor.prototype.visitSafePropertyRead = function (ast, context) { };\n        return NullAstVisitor;\n    }());\n    var RecursiveAstVisitor = /** @class */ (function () {\n        function RecursiveAstVisitor() {\n        }\n        RecursiveAstVisitor.prototype.visitBinary = function (ast, context) {\n            ast.left.visit(this);\n            ast.right.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitChain = function (ast, context) { return this.visitAll(ast.expressions, context); };\n        RecursiveAstVisitor.prototype.visitConditional = function (ast, context) {\n            ast.condition.visit(this);\n            ast.trueExp.visit(this);\n            ast.falseExp.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitPipe = function (ast, context) {\n            ast.exp.visit(this);\n            this.visitAll(ast.args, context);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitFunctionCall = function (ast, context) {\n            ast.target.visit(this);\n            this.visitAll(ast.args, context);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitImplicitReceiver = function (ast, context) { return null; };\n        RecursiveAstVisitor.prototype.visitInterpolation = function (ast, context) {\n            return this.visitAll(ast.expressions, context);\n        };\n        RecursiveAstVisitor.prototype.visitKeyedRead = function (ast, context) {\n            ast.obj.visit(this);\n            ast.key.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitKeyedWrite = function (ast, context) {\n            ast.obj.visit(this);\n            ast.key.visit(this);\n            ast.value.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitLiteralArray = function (ast, context) {\n            return this.visitAll(ast.expressions, context);\n        };\n        RecursiveAstVisitor.prototype.visitLiteralMap = function (ast, context) { return this.visitAll(ast.values, context); };\n        RecursiveAstVisitor.prototype.visitLiteralPrimitive = function (ast, context) { return null; };\n        RecursiveAstVisitor.prototype.visitMethodCall = function (ast, context) {\n            ast.receiver.visit(this);\n            return this.visitAll(ast.args, context);\n        };\n        RecursiveAstVisitor.prototype.visitPrefixNot = function (ast, context) {\n            ast.expression.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitNonNullAssert = function (ast, context) {\n            ast.expression.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitPropertyRead = function (ast, context) {\n            ast.receiver.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitPropertyWrite = function (ast, context) {\n            ast.receiver.visit(this);\n            ast.value.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitSafePropertyRead = function (ast, context) {\n            ast.receiver.visit(this);\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitSafeMethodCall = function (ast, context) {\n            ast.receiver.visit(this);\n            return this.visitAll(ast.args, context);\n        };\n        RecursiveAstVisitor.prototype.visitAll = function (asts, context) {\n            var _this = this;\n            asts.forEach(function (ast) { return ast.visit(_this, context); });\n            return null;\n        };\n        RecursiveAstVisitor.prototype.visitQuote = function (ast, context) { return null; };\n        return RecursiveAstVisitor;\n    }());\n    var AstTransformer = /** @class */ (function () {\n        function AstTransformer() {\n        }\n        AstTransformer.prototype.visitImplicitReceiver = function (ast, context) { return ast; };\n        AstTransformer.prototype.visitInterpolation = function (ast, context) {\n            return new Interpolation(ast.span, ast.strings, this.visitAll(ast.expressions));\n        };\n        AstTransformer.prototype.visitLiteralPrimitive = function (ast, context) {\n            return new LiteralPrimitive(ast.span, ast.value);\n        };\n        AstTransformer.prototype.visitPropertyRead = function (ast, context) {\n            return new PropertyRead(ast.span, ast.receiver.visit(this), ast.name);\n        };\n        AstTransformer.prototype.visitPropertyWrite = function (ast, context) {\n            return new PropertyWrite(ast.span, ast.receiver.visit(this), ast.name, ast.value.visit(this));\n        };\n        AstTransformer.prototype.visitSafePropertyRead = function (ast, context) {\n            return new SafePropertyRead(ast.span, ast.receiver.visit(this), ast.name);\n        };\n        AstTransformer.prototype.visitMethodCall = function (ast, context) {\n            return new MethodCall(ast.span, ast.receiver.visit(this), ast.name, this.visitAll(ast.args));\n        };\n        AstTransformer.prototype.visitSafeMethodCall = function (ast, context) {\n            return new SafeMethodCall(ast.span, ast.receiver.visit(this), ast.name, this.visitAll(ast.args));\n        };\n        AstTransformer.prototype.visitFunctionCall = function (ast, context) {\n            return new FunctionCall(ast.span, ast.target.visit(this), this.visitAll(ast.args));\n        };\n        AstTransformer.prototype.visitLiteralArray = function (ast, context) {\n            return new LiteralArray(ast.span, this.visitAll(ast.expressions));\n        };\n        AstTransformer.prototype.visitLiteralMap = function (ast, context) {\n            return new LiteralMap(ast.span, ast.keys, this.visitAll(ast.values));\n        };\n        AstTransformer.prototype.visitBinary = function (ast, context) {\n            return new Binary(ast.span, ast.operation, ast.left.visit(this), ast.right.visit(this));\n        };\n        AstTransformer.prototype.visitPrefixNot = function (ast, context) {\n            return new PrefixNot(ast.span, ast.expression.visit(this));\n        };\n        AstTransformer.prototype.visitNonNullAssert = function (ast, context) {\n            return new NonNullAssert(ast.span, ast.expression.visit(this));\n        };\n        AstTransformer.prototype.visitConditional = function (ast, context) {\n            return new Conditional(ast.span, ast.condition.visit(this), ast.trueExp.visit(this), ast.falseExp.visit(this));\n        };\n        AstTransformer.prototype.visitPipe = function (ast, context) {\n            return new BindingPipe(ast.span, ast.exp.visit(this), ast.name, this.visitAll(ast.args));\n        };\n        AstTransformer.prototype.visitKeyedRead = function (ast, context) {\n            return new KeyedRead(ast.span, ast.obj.visit(this), ast.key.visit(this));\n        };\n        AstTransformer.prototype.visitKeyedWrite = function (ast, context) {\n            return new KeyedWrite(ast.span, ast.obj.visit(this), ast.key.visit(this), ast.value.visit(this));\n        };\n        AstTransformer.prototype.visitAll = function (asts) {\n            var res = new Array(asts.length);\n            for (var i = 0; i < asts.length; ++i) {\n                res[i] = asts[i].visit(this);\n            }\n            return res;\n        };\n        AstTransformer.prototype.visitChain = function (ast, context) {\n            return new Chain(ast.span, this.visitAll(ast.expressions));\n        };\n        AstTransformer.prototype.visitQuote = function (ast, context) {\n            return new Quote(ast.span, ast.prefix, ast.uninterpretedExpression, ast.location);\n        };\n        return AstTransformer;\n    }());\n    // A transformer that only creates new nodes if the transformer makes a change or\n    // a change is made a child node.\n    var AstMemoryEfficientTransformer = /** @class */ (function () {\n        function AstMemoryEfficientTransformer() {\n        }\n        AstMemoryEfficientTransformer.prototype.visitImplicitReceiver = function (ast, context) { return ast; };\n        AstMemoryEfficientTransformer.prototype.visitInterpolation = function (ast, context) {\n            var expressions = this.visitAll(ast.expressions);\n            if (expressions !== ast.expressions)\n                return new Interpolation(ast.span, ast.strings, expressions);\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitLiteralPrimitive = function (ast, context) { return ast; };\n        AstMemoryEfficientTransformer.prototype.visitPropertyRead = function (ast, context) {\n            var receiver = ast.receiver.visit(this);\n            if (receiver !== ast.receiver) {\n                return new PropertyRead(ast.span, receiver, ast.name);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitPropertyWrite = function (ast, context) {\n            var receiver = ast.receiver.visit(this);\n            var value = ast.value.visit(this);\n            if (receiver !== ast.receiver || value !== ast.value) {\n                return new PropertyWrite(ast.span, receiver, ast.name, value);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitSafePropertyRead = function (ast, context) {\n            var receiver = ast.receiver.visit(this);\n            if (receiver !== ast.receiver) {\n                return new SafePropertyRead(ast.span, receiver, ast.name);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitMethodCall = function (ast, context) {\n            var receiver = ast.receiver.visit(this);\n            if (receiver !== ast.receiver) {\n                return new MethodCall(ast.span, receiver, ast.name, this.visitAll(ast.args));\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitSafeMethodCall = function (ast, context) {\n            var receiver = ast.receiver.visit(this);\n            var args = this.visitAll(ast.args);\n            if (receiver !== ast.receiver || args !== ast.args) {\n                return new SafeMethodCall(ast.span, receiver, ast.name, args);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitFunctionCall = function (ast, context) {\n            var target = ast.target && ast.target.visit(this);\n            var args = this.visitAll(ast.args);\n            if (target !== ast.target || args !== ast.args) {\n                return new FunctionCall(ast.span, target, args);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitLiteralArray = function (ast, context) {\n            var expressions = this.visitAll(ast.expressions);\n            if (expressions !== ast.expressions) {\n                return new LiteralArray(ast.span, expressions);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitLiteralMap = function (ast, context) {\n            var values = this.visitAll(ast.values);\n            if (values !== ast.values) {\n                return new LiteralMap(ast.span, ast.keys, values);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitBinary = function (ast, context) {\n            var left = ast.left.visit(this);\n            var right = ast.right.visit(this);\n            if (left !== ast.left || right !== ast.right) {\n                return new Binary(ast.span, ast.operation, left, right);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitPrefixNot = function (ast, context) {\n            var expression = ast.expression.visit(this);\n            if (expression !== ast.expression) {\n                return new PrefixNot(ast.span, expression);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitNonNullAssert = function (ast, context) {\n            var expression = ast.expression.visit(this);\n            if (expression !== ast.expression) {\n                return new NonNullAssert(ast.span, expression);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitConditional = function (ast, context) {\n            var condition = ast.condition.visit(this);\n            var trueExp = ast.trueExp.visit(this);\n            var falseExp = ast.falseExp.visit(this);\n            if (condition !== ast.condition || trueExp !== ast.trueExp || falseExp !== falseExp) {\n                return new Conditional(ast.span, condition, trueExp, falseExp);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitPipe = function (ast, context) {\n            var exp = ast.exp.visit(this);\n            var args = this.visitAll(ast.args);\n            if (exp !== ast.exp || args !== ast.args) {\n                return new BindingPipe(ast.span, exp, ast.name, args);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitKeyedRead = function (ast, context) {\n            var obj = ast.obj.visit(this);\n            var key = ast.key.visit(this);\n            if (obj !== ast.obj || key !== ast.key) {\n                return new KeyedRead(ast.span, obj, key);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitKeyedWrite = function (ast, context) {\n            var obj = ast.obj.visit(this);\n            var key = ast.key.visit(this);\n            var value = ast.value.visit(this);\n            if (obj !== ast.obj || key !== ast.key || value !== ast.value) {\n                return new KeyedWrite(ast.span, obj, key, value);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitAll = function (asts) {\n            var res = new Array(asts.length);\n            var modified = false;\n            for (var i = 0; i < asts.length; ++i) {\n                var original = asts[i];\n                var value = original.visit(this);\n                res[i] = value;\n                modified = modified || value !== original;\n            }\n            return modified ? res : asts;\n        };\n        AstMemoryEfficientTransformer.prototype.visitChain = function (ast, context) {\n            var expressions = this.visitAll(ast.expressions);\n            if (expressions !== ast.expressions) {\n                return new Chain(ast.span, expressions);\n            }\n            return ast;\n        };\n        AstMemoryEfficientTransformer.prototype.visitQuote = function (ast, context) { return ast; };\n        return AstMemoryEfficientTransformer;\n    }());\n    function visitAstChildren(ast, visitor, context) {\n        function visit(ast) {\n            visitor.visit && visitor.visit(ast, context) || ast.visit(visitor, context);\n        }\n        function visitAll(asts) { asts.forEach(visit); }\n        ast.visit({\n            visitBinary: function (ast) {\n                visit(ast.left);\n                visit(ast.right);\n            },\n            visitChain: function (ast) { visitAll(ast.expressions); },\n            visitConditional: function (ast) {\n                visit(ast.condition);\n                visit(ast.trueExp);\n                visit(ast.falseExp);\n            },\n            visitFunctionCall: function (ast) {\n                if (ast.target) {\n                    visit(ast.target);\n                }\n                visitAll(ast.args);\n            },\n            visitImplicitReceiver: function (ast) { },\n            visitInterpolation: function (ast) { visitAll(ast.expressions); },\n            visitKeyedRead: function (ast) {\n                visit(ast.obj);\n                visit(ast.key);\n            },\n            visitKeyedWrite: function (ast) {\n                visit(ast.obj);\n                visit(ast.key);\n                visit(ast.obj);\n            },\n            visitLiteralArray: function (ast) { visitAll(ast.expressions); },\n            visitLiteralMap: function (ast) { },\n            visitLiteralPrimitive: function (ast) { },\n            visitMethodCall: function (ast) {\n                visit(ast.receiver);\n                visitAll(ast.args);\n            },\n            visitPipe: function (ast) {\n                visit(ast.exp);\n                visitAll(ast.args);\n            },\n            visitPrefixNot: function (ast) { visit(ast.expression); },\n            visitNonNullAssert: function (ast) { visit(ast.expression); },\n            visitPropertyRead: function (ast) { visit(ast.receiver); },\n            visitPropertyWrite: function (ast) {\n                visit(ast.receiver);\n                visit(ast.value);\n            },\n            visitQuote: function (ast) { },\n            visitSafeMethodCall: function (ast) {\n                visit(ast.receiver);\n                visitAll(ast.args);\n            },\n            visitSafePropertyRead: function (ast) { visit(ast.receiver); },\n        });\n    }\n    // Bindings\n    var ParsedProperty = /** @class */ (function () {\n        function ParsedProperty(name, expression, type, sourceSpan) {\n            this.name = name;\n            this.expression = expression;\n            this.type = type;\n            this.sourceSpan = sourceSpan;\n            this.isLiteral = this.type === exports.ParsedPropertyType.LITERAL_ATTR;\n            this.isAnimation = this.type === exports.ParsedPropertyType.ANIMATION;\n        }\n        return ParsedProperty;\n    }());\n    (function (ParsedPropertyType) {\n        ParsedPropertyType[ParsedPropertyType[\"DEFAULT\"] = 0] = \"DEFAULT\";\n        ParsedPropertyType[ParsedPropertyType[\"LITERAL_ATTR\"] = 1] = \"LITERAL_ATTR\";\n        ParsedPropertyType[ParsedPropertyType[\"ANIMATION\"] = 2] = \"ANIMATION\";\n    })(exports.ParsedPropertyType || (exports.ParsedPropertyType = {}));\n    var ParsedEvent = /** @class */ (function () {\n        // Regular events have a target\n        // Animation events have a phase\n        function ParsedEvent(name, targetOrPhase, type, handler, sourceSpan) {\n            this.name = name;\n            this.targetOrPhase = targetOrPhase;\n            this.type = type;\n            this.handler = handler;\n            this.sourceSpan = sourceSpan;\n        }\n        return ParsedEvent;\n    }());\n    var ParsedVariable = /** @class */ (function () {\n        function ParsedVariable(name, value, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        return ParsedVariable;\n    }());\n    var BoundElementProperty = /** @class */ (function () {\n        function BoundElementProperty(name, type, securityContext, value, unit, sourceSpan) {\n            this.name = name;\n            this.type = type;\n            this.securityContext = securityContext;\n            this.value = value;\n            this.unit = unit;\n            this.sourceSpan = sourceSpan;\n        }\n        return BoundElementProperty;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var SplitInterpolation = /** @class */ (function () {\n        function SplitInterpolation(strings, expressions, offsets) {\n            this.strings = strings;\n            this.expressions = expressions;\n            this.offsets = offsets;\n        }\n        return SplitInterpolation;\n    }());\n    var TemplateBindingParseResult = /** @class */ (function () {\n        function TemplateBindingParseResult(templateBindings, warnings, errors) {\n            this.templateBindings = templateBindings;\n            this.warnings = warnings;\n            this.errors = errors;\n        }\n        return TemplateBindingParseResult;\n    }());\n    function _createInterpolateRegExp(config) {\n        var pattern = escapeRegExp(config.start) + '([\\\\s\\\\S]*?)' + escapeRegExp(config.end);\n        return new RegExp(pattern, 'g');\n    }\n    var Parser = /** @class */ (function () {\n        function Parser(_lexer) {\n            this._lexer = _lexer;\n            this.errors = [];\n        }\n        Parser.prototype.parseAction = function (input, location, interpolationConfig) {\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            this._checkNoInterpolation(input, location, interpolationConfig);\n            var sourceToLex = this._stripComments(input);\n            var tokens = this._lexer.tokenize(this._stripComments(input));\n            var ast = new _ParseAST(input, location, tokens, sourceToLex.length, true, this.errors, input.length - sourceToLex.length)\n                .parseChain();\n            return new ASTWithSource(ast, input, location, this.errors);\n        };\n        Parser.prototype.parseBinding = function (input, location, interpolationConfig) {\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            var ast = this._parseBindingAst(input, location, interpolationConfig);\n            return new ASTWithSource(ast, input, location, this.errors);\n        };\n        Parser.prototype.parseSimpleBinding = function (input, location, interpolationConfig) {\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            var ast = this._parseBindingAst(input, location, interpolationConfig);\n            var errors = SimpleExpressionChecker.check(ast);\n            if (errors.length > 0) {\n                this._reportError(\"Host binding expression cannot contain \" + errors.join(' '), input, location);\n            }\n            return new ASTWithSource(ast, input, location, this.errors);\n        };\n        Parser.prototype._reportError = function (message, input, errLocation, ctxLocation) {\n            this.errors.push(new ParserError(message, input, errLocation, ctxLocation));\n        };\n        Parser.prototype._parseBindingAst = function (input, location, interpolationConfig) {\n            // Quotes expressions use 3rd-party expression language. We don't want to use\n            // our lexer or parser for that, so we check for that ahead of time.\n            var quote = this._parseQuote(input, location);\n            if (quote != null) {\n                return quote;\n            }\n            this._checkNoInterpolation(input, location, interpolationConfig);\n            var sourceToLex = this._stripComments(input);\n            var tokens = this._lexer.tokenize(sourceToLex);\n            return new _ParseAST(input, location, tokens, sourceToLex.length, false, this.errors, input.length - sourceToLex.length)\n                .parseChain();\n        };\n        Parser.prototype._parseQuote = function (input, location) {\n            if (input == null)\n                return null;\n            var prefixSeparatorIndex = input.indexOf(':');\n            if (prefixSeparatorIndex == -1)\n                return null;\n            var prefix = input.substring(0, prefixSeparatorIndex).trim();\n            if (!isIdentifier(prefix))\n                return null;\n            var uninterpretedExpression = input.substring(prefixSeparatorIndex + 1);\n            return new Quote(new ParseSpan(0, input.length), prefix, uninterpretedExpression, location);\n        };\n        Parser.prototype.parseTemplateBindings = function (tplKey, tplValue, location) {\n            var tokens = this._lexer.tokenize(tplValue);\n            return new _ParseAST(tplValue, location, tokens, tplValue.length, false, this.errors, 0)\n                .parseTemplateBindings(tplKey);\n        };\n        Parser.prototype.parseInterpolation = function (input, location, interpolationConfig) {\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            var split = this.splitInterpolation(input, location, interpolationConfig);\n            if (split == null)\n                return null;\n            var expressions = [];\n            for (var i = 0; i < split.expressions.length; ++i) {\n                var expressionText = split.expressions[i];\n                var sourceToLex = this._stripComments(expressionText);\n                var tokens = this._lexer.tokenize(sourceToLex);\n                var ast = new _ParseAST(input, location, tokens, sourceToLex.length, false, this.errors, split.offsets[i] + (expressionText.length - sourceToLex.length))\n                    .parseChain();\n                expressions.push(ast);\n            }\n            return new ASTWithSource(new Interpolation(new ParseSpan(0, input == null ? 0 : input.length), split.strings, expressions), input, location, this.errors);\n        };\n        Parser.prototype.splitInterpolation = function (input, location, interpolationConfig) {\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            var regexp = _createInterpolateRegExp(interpolationConfig);\n            var parts = input.split(regexp);\n            if (parts.length <= 1) {\n                return null;\n            }\n            var strings = [];\n            var expressions = [];\n            var offsets = [];\n            var offset = 0;\n            for (var i = 0; i < parts.length; i++) {\n                var part = parts[i];\n                if (i % 2 === 0) {\n                    // fixed string\n                    strings.push(part);\n                    offset += part.length;\n                }\n                else if (part.trim().length > 0) {\n                    offset += interpolationConfig.start.length;\n                    expressions.push(part);\n                    offsets.push(offset);\n                    offset += part.length + interpolationConfig.end.length;\n                }\n                else {\n                    this._reportError('Blank expressions are not allowed in interpolated strings', input, \"at column \" + this._findInterpolationErrorColumn(parts, i, interpolationConfig) + \" in\", location);\n                    expressions.push('$implict');\n                    offsets.push(offset);\n                }\n            }\n            return new SplitInterpolation(strings, expressions, offsets);\n        };\n        Parser.prototype.wrapLiteralPrimitive = function (input, location) {\n            return new ASTWithSource(new LiteralPrimitive(new ParseSpan(0, input == null ? 0 : input.length), input), input, location, this.errors);\n        };\n        Parser.prototype._stripComments = function (input) {\n            var i = this._commentStart(input);\n            return i != null ? input.substring(0, i).trim() : input;\n        };\n        Parser.prototype._commentStart = function (input) {\n            var outerQuote = null;\n            for (var i = 0; i < input.length - 1; i++) {\n                var char = input.charCodeAt(i);\n                var nextChar = input.charCodeAt(i + 1);\n                if (char === $SLASH && nextChar == $SLASH && outerQuote == null)\n                    return i;\n                if (outerQuote === char) {\n                    outerQuote = null;\n                }\n                else if (outerQuote == null && isQuote(char)) {\n                    outerQuote = char;\n                }\n            }\n            return null;\n        };\n        Parser.prototype._checkNoInterpolation = function (input, location, interpolationConfig) {\n            var regexp = _createInterpolateRegExp(interpolationConfig);\n            var parts = input.split(regexp);\n            if (parts.length > 1) {\n                this._reportError(\"Got interpolation (\" + interpolationConfig.start + interpolationConfig.end + \") where expression was expected\", input, \"at column \" + this._findInterpolationErrorColumn(parts, 1, interpolationConfig) + \" in\", location);\n            }\n        };\n        Parser.prototype._findInterpolationErrorColumn = function (parts, partInErrIdx, interpolationConfig) {\n            var errLocation = '';\n            for (var j = 0; j < partInErrIdx; j++) {\n                errLocation += j % 2 === 0 ?\n                    parts[j] :\n                    \"\" + interpolationConfig.start + parts[j] + interpolationConfig.end;\n            }\n            return errLocation.length;\n        };\n        return Parser;\n    }());\n    var _ParseAST = /** @class */ (function () {\n        function _ParseAST(input, location, tokens, inputLength, parseAction, errors, offset) {\n            this.input = input;\n            this.location = location;\n            this.tokens = tokens;\n            this.inputLength = inputLength;\n            this.parseAction = parseAction;\n            this.errors = errors;\n            this.offset = offset;\n            this.rparensExpected = 0;\n            this.rbracketsExpected = 0;\n            this.rbracesExpected = 0;\n            this.index = 0;\n        }\n        _ParseAST.prototype.peek = function (offset) {\n            var i = this.index + offset;\n            return i < this.tokens.length ? this.tokens[i] : EOF;\n        };\n        Object.defineProperty(_ParseAST.prototype, \"next\", {\n            get: function () { return this.peek(0); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(_ParseAST.prototype, \"inputIndex\", {\n            get: function () {\n                return (this.index < this.tokens.length) ? this.next.index + this.offset :\n                    this.inputLength + this.offset;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        _ParseAST.prototype.span = function (start) { return new ParseSpan(start, this.inputIndex); };\n        _ParseAST.prototype.advance = function () { this.index++; };\n        _ParseAST.prototype.optionalCharacter = function (code) {\n            if (this.next.isCharacter(code)) {\n                this.advance();\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        _ParseAST.prototype.peekKeywordLet = function () { return this.next.isKeywordLet(); };\n        _ParseAST.prototype.peekKeywordAs = function () { return this.next.isKeywordAs(); };\n        _ParseAST.prototype.expectCharacter = function (code) {\n            if (this.optionalCharacter(code))\n                return;\n            this.error(\"Missing expected \" + String.fromCharCode(code));\n        };\n        _ParseAST.prototype.optionalOperator = function (op) {\n            if (this.next.isOperator(op)) {\n                this.advance();\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        _ParseAST.prototype.expectOperator = function (operator) {\n            if (this.optionalOperator(operator))\n                return;\n            this.error(\"Missing expected operator \" + operator);\n        };\n        _ParseAST.prototype.expectIdentifierOrKeyword = function () {\n            var n = this.next;\n            if (!n.isIdentifier() && !n.isKeyword()) {\n                this.error(\"Unexpected token \" + n + \", expected identifier or keyword\");\n                return '';\n            }\n            this.advance();\n            return n.toString();\n        };\n        _ParseAST.prototype.expectIdentifierOrKeywordOrString = function () {\n            var n = this.next;\n            if (!n.isIdentifier() && !n.isKeyword() && !n.isString()) {\n                this.error(\"Unexpected token \" + n + \", expected identifier, keyword, or string\");\n                return '';\n            }\n            this.advance();\n            return n.toString();\n        };\n        _ParseAST.prototype.parseChain = function () {\n            var exprs = [];\n            var start = this.inputIndex;\n            while (this.index < this.tokens.length) {\n                var expr = this.parsePipe();\n                exprs.push(expr);\n                if (this.optionalCharacter($SEMICOLON)) {\n                    if (!this.parseAction) {\n                        this.error('Binding expression cannot contain chained expression');\n                    }\n                    while (this.optionalCharacter($SEMICOLON)) {\n                    } // read all semicolons\n                }\n                else if (this.index < this.tokens.length) {\n                    this.error(\"Unexpected token '\" + this.next + \"'\");\n                }\n            }\n            if (exprs.length == 0)\n                return new EmptyExpr(this.span(start));\n            if (exprs.length == 1)\n                return exprs[0];\n            return new Chain(this.span(start), exprs);\n        };\n        _ParseAST.prototype.parsePipe = function () {\n            var result = this.parseExpression();\n            if (this.optionalOperator('|')) {\n                if (this.parseAction) {\n                    this.error('Cannot have a pipe in an action expression');\n                }\n                do {\n                    var name_1 = this.expectIdentifierOrKeyword();\n                    var args = [];\n                    while (this.optionalCharacter($COLON)) {\n                        args.push(this.parseExpression());\n                    }\n                    result = new BindingPipe(this.span(result.span.start), result, name_1, args);\n                } while (this.optionalOperator('|'));\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseExpression = function () { return this.parseConditional(); };\n        _ParseAST.prototype.parseConditional = function () {\n            var start = this.inputIndex;\n            var result = this.parseLogicalOr();\n            if (this.optionalOperator('?')) {\n                var yes = this.parsePipe();\n                var no = void 0;\n                if (!this.optionalCharacter($COLON)) {\n                    var end = this.inputIndex;\n                    var expression = this.input.substring(start, end);\n                    this.error(\"Conditional expression \" + expression + \" requires all 3 expressions\");\n                    no = new EmptyExpr(this.span(start));\n                }\n                else {\n                    no = this.parsePipe();\n                }\n                return new Conditional(this.span(start), result, yes, no);\n            }\n            else {\n                return result;\n            }\n        };\n        _ParseAST.prototype.parseLogicalOr = function () {\n            // '||'\n            var result = this.parseLogicalAnd();\n            while (this.optionalOperator('||')) {\n                var right = this.parseLogicalAnd();\n                result = new Binary(this.span(result.span.start), '||', result, right);\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseLogicalAnd = function () {\n            // '&&'\n            var result = this.parseEquality();\n            while (this.optionalOperator('&&')) {\n                var right = this.parseEquality();\n                result = new Binary(this.span(result.span.start), '&&', result, right);\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseEquality = function () {\n            // '==','!=','===','!=='\n            var result = this.parseRelational();\n            while (this.next.type == exports.TokenType.Operator) {\n                var operator = this.next.strValue;\n                switch (operator) {\n                    case '==':\n                    case '===':\n                    case '!=':\n                    case '!==':\n                        this.advance();\n                        var right = this.parseRelational();\n                        result = new Binary(this.span(result.span.start), operator, result, right);\n                        continue;\n                }\n                break;\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseRelational = function () {\n            // '<', '>', '<=', '>='\n            var result = this.parseAdditive();\n            while (this.next.type == exports.TokenType.Operator) {\n                var operator = this.next.strValue;\n                switch (operator) {\n                    case '<':\n                    case '>':\n                    case '<=':\n                    case '>=':\n                        this.advance();\n                        var right = this.parseAdditive();\n                        result = new Binary(this.span(result.span.start), operator, result, right);\n                        continue;\n                }\n                break;\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseAdditive = function () {\n            // '+', '-'\n            var result = this.parseMultiplicative();\n            while (this.next.type == exports.TokenType.Operator) {\n                var operator = this.next.strValue;\n                switch (operator) {\n                    case '+':\n                    case '-':\n                        this.advance();\n                        var right = this.parseMultiplicative();\n                        result = new Binary(this.span(result.span.start), operator, result, right);\n                        continue;\n                }\n                break;\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseMultiplicative = function () {\n            // '*', '%', '/'\n            var result = this.parsePrefix();\n            while (this.next.type == exports.TokenType.Operator) {\n                var operator = this.next.strValue;\n                switch (operator) {\n                    case '*':\n                    case '%':\n                    case '/':\n                        this.advance();\n                        var right = this.parsePrefix();\n                        result = new Binary(this.span(result.span.start), operator, result, right);\n                        continue;\n                }\n                break;\n            }\n            return result;\n        };\n        _ParseAST.prototype.parsePrefix = function () {\n            if (this.next.type == exports.TokenType.Operator) {\n                var start = this.inputIndex;\n                var operator = this.next.strValue;\n                var result = void 0;\n                switch (operator) {\n                    case '+':\n                        this.advance();\n                        result = this.parsePrefix();\n                        return new Binary(this.span(start), '-', result, new LiteralPrimitive(new ParseSpan(start, start), 0));\n                    case '-':\n                        this.advance();\n                        result = this.parsePrefix();\n                        return new Binary(this.span(start), operator, new LiteralPrimitive(new ParseSpan(start, start), 0), result);\n                    case '!':\n                        this.advance();\n                        result = this.parsePrefix();\n                        return new PrefixNot(this.span(start), result);\n                }\n            }\n            return this.parseCallChain();\n        };\n        _ParseAST.prototype.parseCallChain = function () {\n            var result = this.parsePrimary();\n            while (true) {\n                if (this.optionalCharacter($PERIOD)) {\n                    result = this.parseAccessMemberOrMethodCall(result, false);\n                }\n                else if (this.optionalOperator('?.')) {\n                    result = this.parseAccessMemberOrMethodCall(result, true);\n                }\n                else if (this.optionalCharacter($LBRACKET)) {\n                    this.rbracketsExpected++;\n                    var key = this.parsePipe();\n                    this.rbracketsExpected--;\n                    this.expectCharacter($RBRACKET);\n                    if (this.optionalOperator('=')) {\n                        var value = this.parseConditional();\n                        result = new KeyedWrite(this.span(result.span.start), result, key, value);\n                    }\n                    else {\n                        result = new KeyedRead(this.span(result.span.start), result, key);\n                    }\n                }\n                else if (this.optionalCharacter($LPAREN)) {\n                    this.rparensExpected++;\n                    var args = this.parseCallArguments();\n                    this.rparensExpected--;\n                    this.expectCharacter($RPAREN);\n                    result = new FunctionCall(this.span(result.span.start), result, args);\n                }\n                else if (this.optionalOperator('!')) {\n                    result = new NonNullAssert(this.span(result.span.start), result);\n                }\n                else {\n                    return result;\n                }\n            }\n        };\n        _ParseAST.prototype.parsePrimary = function () {\n            var start = this.inputIndex;\n            if (this.optionalCharacter($LPAREN)) {\n                this.rparensExpected++;\n                var result = this.parsePipe();\n                this.rparensExpected--;\n                this.expectCharacter($RPAREN);\n                return result;\n            }\n            else if (this.next.isKeywordNull()) {\n                this.advance();\n                return new LiteralPrimitive(this.span(start), null);\n            }\n            else if (this.next.isKeywordUndefined()) {\n                this.advance();\n                return new LiteralPrimitive(this.span(start), void 0);\n            }\n            else if (this.next.isKeywordTrue()) {\n                this.advance();\n                return new LiteralPrimitive(this.span(start), true);\n            }\n            else if (this.next.isKeywordFalse()) {\n                this.advance();\n                return new LiteralPrimitive(this.span(start), false);\n            }\n            else if (this.next.isKeywordThis()) {\n                this.advance();\n                return new ImplicitReceiver(this.span(start));\n            }\n            else if (this.optionalCharacter($LBRACKET)) {\n                this.rbracketsExpected++;\n                var elements = this.parseExpressionList($RBRACKET);\n                this.rbracketsExpected--;\n                this.expectCharacter($RBRACKET);\n                return new LiteralArray(this.span(start), elements);\n            }\n            else if (this.next.isCharacter($LBRACE)) {\n                return this.parseLiteralMap();\n            }\n            else if (this.next.isIdentifier()) {\n                return this.parseAccessMemberOrMethodCall(new ImplicitReceiver(this.span(start)), false);\n            }\n            else if (this.next.isNumber()) {\n                var value = this.next.toNumber();\n                this.advance();\n                return new LiteralPrimitive(this.span(start), value);\n            }\n            else if (this.next.isString()) {\n                var literalValue = this.next.toString();\n                this.advance();\n                return new LiteralPrimitive(this.span(start), literalValue);\n            }\n            else if (this.index >= this.tokens.length) {\n                this.error(\"Unexpected end of expression: \" + this.input);\n                return new EmptyExpr(this.span(start));\n            }\n            else {\n                this.error(\"Unexpected token \" + this.next);\n                return new EmptyExpr(this.span(start));\n            }\n        };\n        _ParseAST.prototype.parseExpressionList = function (terminator) {\n            var result = [];\n            if (!this.next.isCharacter(terminator)) {\n                do {\n                    result.push(this.parsePipe());\n                } while (this.optionalCharacter($COMMA));\n            }\n            return result;\n        };\n        _ParseAST.prototype.parseLiteralMap = function () {\n            var keys = [];\n            var values = [];\n            var start = this.inputIndex;\n            this.expectCharacter($LBRACE);\n            if (!this.optionalCharacter($RBRACE)) {\n                this.rbracesExpected++;\n                do {\n                    var quoted = this.next.isString();\n                    var key = this.expectIdentifierOrKeywordOrString();\n                    keys.push({ key: key, quoted: quoted });\n                    this.expectCharacter($COLON);\n                    values.push(this.parsePipe());\n                } while (this.optionalCharacter($COMMA));\n                this.rbracesExpected--;\n                this.expectCharacter($RBRACE);\n            }\n            return new LiteralMap(this.span(start), keys, values);\n        };\n        _ParseAST.prototype.parseAccessMemberOrMethodCall = function (receiver, isSafe) {\n            if (isSafe === void 0) { isSafe = false; }\n            var start = receiver.span.start;\n            var id = this.expectIdentifierOrKeyword();\n            if (this.optionalCharacter($LPAREN)) {\n                this.rparensExpected++;\n                var args = this.parseCallArguments();\n                this.expectCharacter($RPAREN);\n                this.rparensExpected--;\n                var span = this.span(start);\n                return isSafe ? new SafeMethodCall(span, receiver, id, args) :\n                    new MethodCall(span, receiver, id, args);\n            }\n            else {\n                if (isSafe) {\n                    if (this.optionalOperator('=')) {\n                        this.error('The \\'?.\\' operator cannot be used in the assignment');\n                        return new EmptyExpr(this.span(start));\n                    }\n                    else {\n                        return new SafePropertyRead(this.span(start), receiver, id);\n                    }\n                }\n                else {\n                    if (this.optionalOperator('=')) {\n                        if (!this.parseAction) {\n                            this.error('Bindings cannot contain assignments');\n                            return new EmptyExpr(this.span(start));\n                        }\n                        var value = this.parseConditional();\n                        return new PropertyWrite(this.span(start), receiver, id, value);\n                    }\n                    else {\n                        return new PropertyRead(this.span(start), receiver, id);\n                    }\n                }\n            }\n        };\n        _ParseAST.prototype.parseCallArguments = function () {\n            if (this.next.isCharacter($RPAREN))\n                return [];\n            var positionals = [];\n            do {\n                positionals.push(this.parsePipe());\n            } while (this.optionalCharacter($COMMA));\n            return positionals;\n        };\n        /**\n         * An identifier, a keyword, a string with an optional `-` in between.\n         */\n        _ParseAST.prototype.expectTemplateBindingKey = function () {\n            var result = '';\n            var operatorFound = false;\n            do {\n                result += this.expectIdentifierOrKeywordOrString();\n                operatorFound = this.optionalOperator('-');\n                if (operatorFound) {\n                    result += '-';\n                }\n            } while (operatorFound);\n            return result.toString();\n        };\n        // Parses the AST for `<some-tag *tplKey=AST>`\n        _ParseAST.prototype.parseTemplateBindings = function (tplKey) {\n            var firstBinding = true;\n            var bindings = [];\n            var warnings = [];\n            do {\n                var start = this.inputIndex;\n                var rawKey = void 0;\n                var key = void 0;\n                var isVar = false;\n                if (firstBinding) {\n                    rawKey = key = tplKey;\n                    firstBinding = false;\n                }\n                else {\n                    isVar = this.peekKeywordLet();\n                    if (isVar)\n                        this.advance();\n                    rawKey = this.expectTemplateBindingKey();\n                    key = isVar ? rawKey : tplKey + rawKey[0].toUpperCase() + rawKey.substring(1);\n                    this.optionalCharacter($COLON);\n                }\n                var name_2 = null;\n                var expression = null;\n                if (isVar) {\n                    if (this.optionalOperator('=')) {\n                        name_2 = this.expectTemplateBindingKey();\n                    }\n                    else {\n                        name_2 = '\\$implicit';\n                    }\n                }\n                else if (this.peekKeywordAs()) {\n                    this.advance(); // consume `as`\n                    name_2 = rawKey;\n                    key = this.expectTemplateBindingKey(); // read local var name\n                    isVar = true;\n                }\n                else if (this.next !== EOF && !this.peekKeywordLet()) {\n                    var start_1 = this.inputIndex;\n                    var ast = this.parsePipe();\n                    var source = this.input.substring(start_1 - this.offset, this.inputIndex - this.offset);\n                    expression = new ASTWithSource(ast, source, this.location, this.errors);\n                }\n                bindings.push(new TemplateBinding(this.span(start), key, isVar, name_2, expression));\n                if (this.peekKeywordAs() && !isVar) {\n                    var letStart = this.inputIndex;\n                    this.advance(); // consume `as`\n                    var letName = this.expectTemplateBindingKey(); // read local var name\n                    bindings.push(new TemplateBinding(this.span(letStart), letName, true, key, null));\n                }\n                if (!this.optionalCharacter($SEMICOLON)) {\n                    this.optionalCharacter($COMMA);\n                }\n            } while (this.index < this.tokens.length);\n            return new TemplateBindingParseResult(bindings, warnings, this.errors);\n        };\n        _ParseAST.prototype.error = function (message, index) {\n            if (index === void 0) { index = null; }\n            this.errors.push(new ParserError(message, this.input, this.locationText(index), this.location));\n            this.skip();\n        };\n        _ParseAST.prototype.locationText = function (index) {\n            if (index === void 0) { index = null; }\n            if (index == null)\n                index = this.index;\n            return (index < this.tokens.length) ? \"at column \" + (this.tokens[index].index + 1) + \" in\" :\n                \"at the end of the expression\";\n        };\n        // Error recovery should skip tokens until it encounters a recovery point. skip() treats\n        // the end of input and a ';' as unconditionally a recovery point. It also treats ')',\n        // '}' and ']' as conditional recovery points if one of calling productions is expecting\n        // one of these symbols. This allows skip() to recover from errors such as '(a.) + 1' allowing\n        // more of the AST to be retained (it doesn't skip any tokens as the ')' is retained because\n        // of the '(' begins an '(' <expr> ')' production). The recovery points of grouping symbols\n        // must be conditional as they must be skipped if none of the calling productions are not\n        // expecting the closing token else we will never make progress in the case of an\n        // extraneous group closing symbol (such as a stray ')'). This is not the case for ';' because\n        // parseChain() is always the root production and it expects a ';'.\n        // If a production expects one of these token it increments the corresponding nesting count,\n        // and then decrements it just prior to checking if the token is in the input.\n        _ParseAST.prototype.skip = function () {\n            var n = this.next;\n            while (this.index < this.tokens.length && !n.isCharacter($SEMICOLON) &&\n                (this.rparensExpected <= 0 || !n.isCharacter($RPAREN)) &&\n                (this.rbracesExpected <= 0 || !n.isCharacter($RBRACE)) &&\n                (this.rbracketsExpected <= 0 || !n.isCharacter($RBRACKET))) {\n                if (this.next.isError()) {\n                    this.errors.push(new ParserError(this.next.toString(), this.input, this.locationText(), this.location));\n                }\n                this.advance();\n                n = this.next;\n            }\n        };\n        return _ParseAST;\n    }());\n    var SimpleExpressionChecker = /** @class */ (function () {\n        function SimpleExpressionChecker() {\n            this.errors = [];\n        }\n        SimpleExpressionChecker.check = function (ast) {\n            var s = new SimpleExpressionChecker();\n            ast.visit(s);\n            return s.errors;\n        };\n        SimpleExpressionChecker.prototype.visitImplicitReceiver = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitInterpolation = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitLiteralPrimitive = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitPropertyRead = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitPropertyWrite = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitSafePropertyRead = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitMethodCall = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitSafeMethodCall = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitFunctionCall = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitLiteralArray = function (ast, context) { this.visitAll(ast.expressions); };\n        SimpleExpressionChecker.prototype.visitLiteralMap = function (ast, context) { this.visitAll(ast.values); };\n        SimpleExpressionChecker.prototype.visitBinary = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitPrefixNot = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitNonNullAssert = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitConditional = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitPipe = function (ast, context) { this.errors.push('pipes'); };\n        SimpleExpressionChecker.prototype.visitKeyedRead = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitKeyedWrite = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitAll = function (asts) {\n            var _this = this;\n            return asts.map(function (node) { return node.visit(_this); });\n        };\n        SimpleExpressionChecker.prototype.visitChain = function (ast, context) { };\n        SimpleExpressionChecker.prototype.visitQuote = function (ast, context) { };\n        return SimpleExpressionChecker;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ParseLocation = /** @class */ (function () {\n        function ParseLocation(file, offset, line, col) {\n            this.file = file;\n            this.offset = offset;\n            this.line = line;\n            this.col = col;\n        }\n        ParseLocation.prototype.toString = function () {\n            return this.offset != null ? this.file.url + \"@\" + this.line + \":\" + this.col : this.file.url;\n        };\n        ParseLocation.prototype.moveBy = function (delta) {\n            var source = this.file.content;\n            var len = source.length;\n            var offset = this.offset;\n            var line = this.line;\n            var col = this.col;\n            while (offset > 0 && delta < 0) {\n                offset--;\n                delta++;\n                var ch = source.charCodeAt(offset);\n                if (ch == $LF) {\n                    line--;\n                    var priorLine = source.substr(0, offset - 1).lastIndexOf(String.fromCharCode($LF));\n                    col = priorLine > 0 ? offset - priorLine : offset;\n                }\n                else {\n                    col--;\n                }\n            }\n            while (offset < len && delta > 0) {\n                var ch = source.charCodeAt(offset);\n                offset++;\n                delta--;\n                if (ch == $LF) {\n                    line++;\n                    col = 0;\n                }\n                else {\n                    col++;\n                }\n            }\n            return new ParseLocation(this.file, offset, line, col);\n        };\n        // Return the source around the location\n        // Up to `maxChars` or `maxLines` on each side of the location\n        ParseLocation.prototype.getContext = function (maxChars, maxLines) {\n            var content = this.file.content;\n            var startOffset = this.offset;\n            if (startOffset != null) {\n                if (startOffset > content.length - 1) {\n                    startOffset = content.length - 1;\n                }\n                var endOffset = startOffset;\n                var ctxChars = 0;\n                var ctxLines = 0;\n                while (ctxChars < maxChars && startOffset > 0) {\n                    startOffset--;\n                    ctxChars++;\n                    if (content[startOffset] == '\\n') {\n                        if (++ctxLines == maxLines) {\n                            break;\n                        }\n                    }\n                }\n                ctxChars = 0;\n                ctxLines = 0;\n                while (ctxChars < maxChars && endOffset < content.length - 1) {\n                    endOffset++;\n                    ctxChars++;\n                    if (content[endOffset] == '\\n') {\n                        if (++ctxLines == maxLines) {\n                            break;\n                        }\n                    }\n                }\n                return {\n                    before: content.substring(startOffset, this.offset),\n                    after: content.substring(this.offset, endOffset + 1),\n                };\n            }\n            return null;\n        };\n        return ParseLocation;\n    }());\n    var ParseSourceFile = /** @class */ (function () {\n        function ParseSourceFile(content, url) {\n            this.content = content;\n            this.url = url;\n        }\n        return ParseSourceFile;\n    }());\n    var ParseSourceSpan = /** @class */ (function () {\n        function ParseSourceSpan(start, end, details) {\n            if (details === void 0) { details = null; }\n            this.start = start;\n            this.end = end;\n            this.details = details;\n        }\n        ParseSourceSpan.prototype.toString = function () {\n            return this.start.file.content.substring(this.start.offset, this.end.offset);\n        };\n        return ParseSourceSpan;\n    }());\n    (function (ParseErrorLevel) {\n        ParseErrorLevel[ParseErrorLevel[\"WARNING\"] = 0] = \"WARNING\";\n        ParseErrorLevel[ParseErrorLevel[\"ERROR\"] = 1] = \"ERROR\";\n    })(exports.ParseErrorLevel || (exports.ParseErrorLevel = {}));\n    var ParseError = /** @class */ (function () {\n        function ParseError(span, msg, level) {\n            if (level === void 0) { level = exports.ParseErrorLevel.ERROR; }\n            this.span = span;\n            this.msg = msg;\n            this.level = level;\n        }\n        ParseError.prototype.contextualMessage = function () {\n            var ctx = this.span.start.getContext(100, 3);\n            return ctx ? this.msg + \" (\\\"\" + ctx.before + \"[\" + exports.ParseErrorLevel[this.level] + \" ->]\" + ctx.after + \"\\\")\" :\n                this.msg;\n        };\n        ParseError.prototype.toString = function () {\n            var details = this.span.details ? \", \" + this.span.details : '';\n            return this.contextualMessage() + \": \" + this.span.start + details;\n        };\n        return ParseError;\n    }());\n    function typeSourceSpan(kind, type) {\n        var moduleUrl = identifierModuleUrl(type);\n        var sourceFileName = moduleUrl != null ? \"in \" + kind + \" \" + identifierName(type) + \" in \" + moduleUrl :\n            \"in \" + kind + \" \" + identifierName(type);\n        var sourceFile = new ParseSourceFile('', sourceFileName);\n        return new ParseSourceSpan(new ParseLocation(sourceFile, -1, -1, -1), new ParseLocation(sourceFile, -1, -1, -1));\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var TokenType;\n    (function (TokenType) {\n        TokenType[TokenType[\"TAG_OPEN_START\"] = 0] = \"TAG_OPEN_START\";\n        TokenType[TokenType[\"TAG_OPEN_END\"] = 1] = \"TAG_OPEN_END\";\n        TokenType[TokenType[\"TAG_OPEN_END_VOID\"] = 2] = \"TAG_OPEN_END_VOID\";\n        TokenType[TokenType[\"TAG_CLOSE\"] = 3] = \"TAG_CLOSE\";\n        TokenType[TokenType[\"TEXT\"] = 4] = \"TEXT\";\n        TokenType[TokenType[\"ESCAPABLE_RAW_TEXT\"] = 5] = \"ESCAPABLE_RAW_TEXT\";\n        TokenType[TokenType[\"RAW_TEXT\"] = 6] = \"RAW_TEXT\";\n        TokenType[TokenType[\"COMMENT_START\"] = 7] = \"COMMENT_START\";\n        TokenType[TokenType[\"COMMENT_END\"] = 8] = \"COMMENT_END\";\n        TokenType[TokenType[\"CDATA_START\"] = 9] = \"CDATA_START\";\n        TokenType[TokenType[\"CDATA_END\"] = 10] = \"CDATA_END\";\n        TokenType[TokenType[\"ATTR_NAME\"] = 11] = \"ATTR_NAME\";\n        TokenType[TokenType[\"ATTR_VALUE\"] = 12] = \"ATTR_VALUE\";\n        TokenType[TokenType[\"DOC_TYPE\"] = 13] = \"DOC_TYPE\";\n        TokenType[TokenType[\"EXPANSION_FORM_START\"] = 14] = \"EXPANSION_FORM_START\";\n        TokenType[TokenType[\"EXPANSION_CASE_VALUE\"] = 15] = \"EXPANSION_CASE_VALUE\";\n        TokenType[TokenType[\"EXPANSION_CASE_EXP_START\"] = 16] = \"EXPANSION_CASE_EXP_START\";\n        TokenType[TokenType[\"EXPANSION_CASE_EXP_END\"] = 17] = \"EXPANSION_CASE_EXP_END\";\n        TokenType[TokenType[\"EXPANSION_FORM_END\"] = 18] = \"EXPANSION_FORM_END\";\n        TokenType[TokenType[\"EOF\"] = 19] = \"EOF\";\n    })(TokenType || (TokenType = {}));\n    var Token$1 = /** @class */ (function () {\n        function Token(type, parts, sourceSpan) {\n            this.type = type;\n            this.parts = parts;\n            this.sourceSpan = sourceSpan;\n        }\n        return Token;\n    }());\n    var TokenError = /** @class */ (function (_super) {\n        __extends(TokenError, _super);\n        function TokenError(errorMsg, tokenType, span) {\n            var _this = _super.call(this, span, errorMsg) || this;\n            _this.tokenType = tokenType;\n            return _this;\n        }\n        return TokenError;\n    }(ParseError));\n    var TokenizeResult = /** @class */ (function () {\n        function TokenizeResult(tokens, errors) {\n            this.tokens = tokens;\n            this.errors = errors;\n        }\n        return TokenizeResult;\n    }());\n    function tokenize(source, url, getTagDefinition, tokenizeExpansionForms, interpolationConfig) {\n        if (tokenizeExpansionForms === void 0) { tokenizeExpansionForms = false; }\n        if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n        return new _Tokenizer(new ParseSourceFile(source, url), getTagDefinition, tokenizeExpansionForms, interpolationConfig)\n            .tokenize();\n    }\n    var _CR_OR_CRLF_REGEXP = /\\r\\n?/g;\n    function _unexpectedCharacterErrorMsg(charCode) {\n        var char = charCode === $EOF ? 'EOF' : String.fromCharCode(charCode);\n        return \"Unexpected character \\\"\" + char + \"\\\"\";\n    }\n    function _unknownEntityErrorMsg(entitySrc) {\n        return \"Unknown entity \\\"\" + entitySrc + \"\\\" - use the \\\"&#<decimal>;\\\" or  \\\"&#x<hex>;\\\" syntax\";\n    }\n    var _ControlFlowError = /** @class */ (function () {\n        function _ControlFlowError(error) {\n            this.error = error;\n        }\n        return _ControlFlowError;\n    }());\n    // See http://www.w3.org/TR/html51/syntax.html#writing\n    var _Tokenizer = /** @class */ (function () {\n        /**\n         * @param _file The html source\n         * @param _getTagDefinition\n         * @param _tokenizeIcu Whether to tokenize ICU messages (considered as text nodes when false)\n         * @param _interpolationConfig\n         */\n        function _Tokenizer(_file, _getTagDefinition, _tokenizeIcu, _interpolationConfig) {\n            if (_interpolationConfig === void 0) { _interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            this._file = _file;\n            this._getTagDefinition = _getTagDefinition;\n            this._tokenizeIcu = _tokenizeIcu;\n            this._interpolationConfig = _interpolationConfig;\n            // Note: this is always lowercase!\n            this._peek = -1;\n            this._nextPeek = -1;\n            this._index = -1;\n            this._line = 0;\n            this._column = -1;\n            this._expansionCaseStack = [];\n            this._inInterpolation = false;\n            this.tokens = [];\n            this.errors = [];\n            this._input = _file.content;\n            this._length = _file.content.length;\n            this._advance();\n        }\n        _Tokenizer.prototype._processCarriageReturns = function (content) {\n            // http://www.w3.org/TR/html5/syntax.html#preprocessing-the-input-stream\n            // In order to keep the original position in the source, we can not\n            // pre-process it.\n            // Instead CRs are processed right before instantiating the tokens.\n            return content.replace(_CR_OR_CRLF_REGEXP, '\\n');\n        };\n        _Tokenizer.prototype.tokenize = function () {\n            while (this._peek !== $EOF) {\n                var start = this._getLocation();\n                try {\n                    if (this._attemptCharCode($LT)) {\n                        if (this._attemptCharCode($BANG)) {\n                            if (this._attemptCharCode($LBRACKET)) {\n                                this._consumeCdata(start);\n                            }\n                            else if (this._attemptCharCode($MINUS)) {\n                                this._consumeComment(start);\n                            }\n                            else {\n                                this._consumeDocType(start);\n                            }\n                        }\n                        else if (this._attemptCharCode($SLASH)) {\n                            this._consumeTagClose(start);\n                        }\n                        else {\n                            this._consumeTagOpen(start);\n                        }\n                    }\n                    else if (!(this._tokenizeIcu && this._tokenizeExpansionForm())) {\n                        this._consumeText();\n                    }\n                }\n                catch (e) {\n                    if (e instanceof _ControlFlowError) {\n                        this.errors.push(e.error);\n                    }\n                    else {\n                        throw e;\n                    }\n                }\n            }\n            this._beginToken(TokenType.EOF);\n            this._endToken([]);\n            return new TokenizeResult(mergeTextTokens(this.tokens), this.errors);\n        };\n        /**\n         * @returns whether an ICU token has been created\n         * @internal\n         */\n        _Tokenizer.prototype._tokenizeExpansionForm = function () {\n            if (isExpansionFormStart(this._input, this._index, this._interpolationConfig)) {\n                this._consumeExpansionFormStart();\n                return true;\n            }\n            if (isExpansionCaseStart(this._peek) && this._isInExpansionForm()) {\n                this._consumeExpansionCaseStart();\n                return true;\n            }\n            if (this._peek === $RBRACE) {\n                if (this._isInExpansionCase()) {\n                    this._consumeExpansionCaseEnd();\n                    return true;\n                }\n                if (this._isInExpansionForm()) {\n                    this._consumeExpansionFormEnd();\n                    return true;\n                }\n            }\n            return false;\n        };\n        _Tokenizer.prototype._getLocation = function () {\n            return new ParseLocation(this._file, this._index, this._line, this._column);\n        };\n        _Tokenizer.prototype._getSpan = function (start, end) {\n            if (start === void 0) { start = this._getLocation(); }\n            if (end === void 0) { end = this._getLocation(); }\n            return new ParseSourceSpan(start, end);\n        };\n        _Tokenizer.prototype._beginToken = function (type, start) {\n            if (start === void 0) { start = this._getLocation(); }\n            this._currentTokenStart = start;\n            this._currentTokenType = type;\n        };\n        _Tokenizer.prototype._endToken = function (parts, end) {\n            if (end === void 0) { end = this._getLocation(); }\n            var token = new Token$1(this._currentTokenType, parts, new ParseSourceSpan(this._currentTokenStart, end));\n            this.tokens.push(token);\n            this._currentTokenStart = null;\n            this._currentTokenType = null;\n            return token;\n        };\n        _Tokenizer.prototype._createError = function (msg, span) {\n            if (this._isInExpansionForm()) {\n                msg += \" (Do you have an unescaped \\\"{\\\" in your template? Use \\\"{{ '{' }}\\\") to escape it.)\";\n            }\n            var error = new TokenError(msg, this._currentTokenType, span);\n            this._currentTokenStart = null;\n            this._currentTokenType = null;\n            return new _ControlFlowError(error);\n        };\n        _Tokenizer.prototype._advance = function () {\n            if (this._index >= this._length) {\n                throw this._createError(_unexpectedCharacterErrorMsg($EOF), this._getSpan());\n            }\n            if (this._peek === $LF) {\n                this._line++;\n                this._column = 0;\n            }\n            else if (this._peek !== $LF && this._peek !== $CR) {\n                this._column++;\n            }\n            this._index++;\n            this._peek = this._index >= this._length ? $EOF : this._input.charCodeAt(this._index);\n            this._nextPeek =\n                this._index + 1 >= this._length ? $EOF : this._input.charCodeAt(this._index + 1);\n        };\n        _Tokenizer.prototype._attemptCharCode = function (charCode) {\n            if (this._peek === charCode) {\n                this._advance();\n                return true;\n            }\n            return false;\n        };\n        _Tokenizer.prototype._attemptCharCodeCaseInsensitive = function (charCode) {\n            if (compareCharCodeCaseInsensitive(this._peek, charCode)) {\n                this._advance();\n                return true;\n            }\n            return false;\n        };\n        _Tokenizer.prototype._requireCharCode = function (charCode) {\n            var location = this._getLocation();\n            if (!this._attemptCharCode(charCode)) {\n                throw this._createError(_unexpectedCharacterErrorMsg(this._peek), this._getSpan(location, location));\n            }\n        };\n        _Tokenizer.prototype._attemptStr = function (chars) {\n            var len = chars.length;\n            if (this._index + len > this._length) {\n                return false;\n            }\n            var initialPosition = this._savePosition();\n            for (var i = 0; i < len; i++) {\n                if (!this._attemptCharCode(chars.charCodeAt(i))) {\n                    // If attempting to parse the string fails, we want to reset the parser\n                    // to where it was before the attempt\n                    this._restorePosition(initialPosition);\n                    return false;\n                }\n            }\n            return true;\n        };\n        _Tokenizer.prototype._attemptStrCaseInsensitive = function (chars) {\n            for (var i = 0; i < chars.length; i++) {\n                if (!this._attemptCharCodeCaseInsensitive(chars.charCodeAt(i))) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        _Tokenizer.prototype._requireStr = function (chars) {\n            var location = this._getLocation();\n            if (!this._attemptStr(chars)) {\n                throw this._createError(_unexpectedCharacterErrorMsg(this._peek), this._getSpan(location));\n            }\n        };\n        _Tokenizer.prototype._attemptCharCodeUntilFn = function (predicate) {\n            while (!predicate(this._peek)) {\n                this._advance();\n            }\n        };\n        _Tokenizer.prototype._requireCharCodeUntilFn = function (predicate, len) {\n            var start = this._getLocation();\n            this._attemptCharCodeUntilFn(predicate);\n            if (this._index - start.offset < len) {\n                throw this._createError(_unexpectedCharacterErrorMsg(this._peek), this._getSpan(start, start));\n            }\n        };\n        _Tokenizer.prototype._attemptUntilChar = function (char) {\n            while (this._peek !== char) {\n                this._advance();\n            }\n        };\n        _Tokenizer.prototype._readChar = function (decodeEntities) {\n            if (decodeEntities && this._peek === $AMPERSAND) {\n                return this._decodeEntity();\n            }\n            else {\n                var index = this._index;\n                this._advance();\n                return this._input[index];\n            }\n        };\n        _Tokenizer.prototype._decodeEntity = function () {\n            var start = this._getLocation();\n            this._advance();\n            if (this._attemptCharCode($HASH)) {\n                var isHex = this._attemptCharCode($x) || this._attemptCharCode($X);\n                var numberStart = this._getLocation().offset;\n                this._attemptCharCodeUntilFn(isDigitEntityEnd);\n                if (this._peek != $SEMICOLON) {\n                    throw this._createError(_unexpectedCharacterErrorMsg(this._peek), this._getSpan());\n                }\n                this._advance();\n                var strNum = this._input.substring(numberStart, this._index - 1);\n                try {\n                    var charCode = parseInt(strNum, isHex ? 16 : 10);\n                    return String.fromCharCode(charCode);\n                }\n                catch (e) {\n                    var entity = this._input.substring(start.offset + 1, this._index - 1);\n                    throw this._createError(_unknownEntityErrorMsg(entity), this._getSpan(start));\n                }\n            }\n            else {\n                var startPosition = this._savePosition();\n                this._attemptCharCodeUntilFn(isNamedEntityEnd);\n                if (this._peek != $SEMICOLON) {\n                    this._restorePosition(startPosition);\n                    return '&';\n                }\n                this._advance();\n                var name_1 = this._input.substring(start.offset + 1, this._index - 1);\n                var char = NAMED_ENTITIES[name_1];\n                if (!char) {\n                    throw this._createError(_unknownEntityErrorMsg(name_1), this._getSpan(start));\n                }\n                return char;\n            }\n        };\n        _Tokenizer.prototype._consumeRawText = function (decodeEntities, firstCharOfEnd, attemptEndRest) {\n            var tagCloseStart;\n            var textStart = this._getLocation();\n            this._beginToken(decodeEntities ? TokenType.ESCAPABLE_RAW_TEXT : TokenType.RAW_TEXT, textStart);\n            var parts = [];\n            while (true) {\n                tagCloseStart = this._getLocation();\n                if (this._attemptCharCode(firstCharOfEnd) && attemptEndRest()) {\n                    break;\n                }\n                if (this._index > tagCloseStart.offset) {\n                    // add the characters consumed by the previous if statement to the output\n                    parts.push(this._input.substring(tagCloseStart.offset, this._index));\n                }\n                while (this._peek !== firstCharOfEnd) {\n                    parts.push(this._readChar(decodeEntities));\n                }\n            }\n            return this._endToken([this._processCarriageReturns(parts.join(''))], tagCloseStart);\n        };\n        _Tokenizer.prototype._consumeComment = function (start) {\n            var _this = this;\n            this._beginToken(TokenType.COMMENT_START, start);\n            this._requireCharCode($MINUS);\n            this._endToken([]);\n            var textToken = this._consumeRawText(false, $MINUS, function () { return _this._attemptStr('->'); });\n            this._beginToken(TokenType.COMMENT_END, textToken.sourceSpan.end);\n            this._endToken([]);\n        };\n        _Tokenizer.prototype._consumeCdata = function (start) {\n            var _this = this;\n            this._beginToken(TokenType.CDATA_START, start);\n            this._requireStr('CDATA[');\n            this._endToken([]);\n            var textToken = this._consumeRawText(false, $RBRACKET, function () { return _this._attemptStr(']>'); });\n            this._beginToken(TokenType.CDATA_END, textToken.sourceSpan.end);\n            this._endToken([]);\n        };\n        _Tokenizer.prototype._consumeDocType = function (start) {\n            this._beginToken(TokenType.DOC_TYPE, start);\n            this._attemptUntilChar($GT);\n            this._advance();\n            this._endToken([this._input.substring(start.offset + 2, this._index - 1)]);\n        };\n        _Tokenizer.prototype._consumePrefixAndName = function () {\n            var nameOrPrefixStart = this._index;\n            var prefix = null;\n            while (this._peek !== $COLON && !isPrefixEnd(this._peek)) {\n                this._advance();\n            }\n            var nameStart;\n            if (this._peek === $COLON) {\n                this._advance();\n                prefix = this._input.substring(nameOrPrefixStart, this._index - 1);\n                nameStart = this._index;\n            }\n            else {\n                nameStart = nameOrPrefixStart;\n            }\n            this._requireCharCodeUntilFn(isNameEnd, this._index === nameStart ? 1 : 0);\n            var name = this._input.substring(nameStart, this._index);\n            return [prefix, name];\n        };\n        _Tokenizer.prototype._consumeTagOpen = function (start) {\n            var savedPos = this._savePosition();\n            var tagName;\n            var lowercaseTagName;\n            try {\n                if (!isAsciiLetter(this._peek)) {\n                    throw this._createError(_unexpectedCharacterErrorMsg(this._peek), this._getSpan());\n                }\n                var nameStart = this._index;\n                this._consumeTagOpenStart(start);\n                tagName = this._input.substring(nameStart, this._index);\n                lowercaseTagName = tagName.toLowerCase();\n                this._attemptCharCodeUntilFn(isNotWhitespace);\n                while (this._peek !== $SLASH && this._peek !== $GT) {\n                    this._consumeAttributeName();\n                    this._attemptCharCodeUntilFn(isNotWhitespace);\n                    if (this._attemptCharCode($EQ)) {\n                        this._attemptCharCodeUntilFn(isNotWhitespace);\n                        this._consumeAttributeValue();\n                    }\n                    this._attemptCharCodeUntilFn(isNotWhitespace);\n                }\n                this._consumeTagOpenEnd();\n            }\n            catch (e) {\n                if (e instanceof _ControlFlowError) {\n                    // When the start tag is invalid, assume we want a \"<\"\n                    this._restorePosition(savedPos);\n                    // Back to back text tokens are merged at the end\n                    this._beginToken(TokenType.TEXT, start);\n                    this._endToken(['<']);\n                    return;\n                }\n                throw e;\n            }\n            var contentTokenType = this._getTagDefinition(tagName).contentType;\n            if (contentTokenType === exports.TagContentType.RAW_TEXT) {\n                this._consumeRawTextWithTagClose(lowercaseTagName, false);\n            }\n            else if (contentTokenType === exports.TagContentType.ESCAPABLE_RAW_TEXT) {\n                this._consumeRawTextWithTagClose(lowercaseTagName, true);\n            }\n        };\n        _Tokenizer.prototype._consumeRawTextWithTagClose = function (lowercaseTagName, decodeEntities) {\n            var _this = this;\n            var textToken = this._consumeRawText(decodeEntities, $LT, function () {\n                if (!_this._attemptCharCode($SLASH))\n                    return false;\n                _this._attemptCharCodeUntilFn(isNotWhitespace);\n                if (!_this._attemptStrCaseInsensitive(lowercaseTagName))\n                    return false;\n                _this._attemptCharCodeUntilFn(isNotWhitespace);\n                return _this._attemptCharCode($GT);\n            });\n            this._beginToken(TokenType.TAG_CLOSE, textToken.sourceSpan.end);\n            this._endToken([null, lowercaseTagName]);\n        };\n        _Tokenizer.prototype._consumeTagOpenStart = function (start) {\n            this._beginToken(TokenType.TAG_OPEN_START, start);\n            var parts = this._consumePrefixAndName();\n            this._endToken(parts);\n        };\n        _Tokenizer.prototype._consumeAttributeName = function () {\n            this._beginToken(TokenType.ATTR_NAME);\n            var prefixAndName = this._consumePrefixAndName();\n            this._endToken(prefixAndName);\n        };\n        _Tokenizer.prototype._consumeAttributeValue = function () {\n            this._beginToken(TokenType.ATTR_VALUE);\n            var value;\n            if (this._peek === $SQ || this._peek === $DQ) {\n                var quoteChar = this._peek;\n                this._advance();\n                var parts = [];\n                while (this._peek !== quoteChar) {\n                    parts.push(this._readChar(true));\n                }\n                value = parts.join('');\n                this._advance();\n            }\n            else {\n                var valueStart = this._index;\n                this._requireCharCodeUntilFn(isNameEnd, 1);\n                value = this._input.substring(valueStart, this._index);\n            }\n            this._endToken([this._processCarriageReturns(value)]);\n        };\n        _Tokenizer.prototype._consumeTagOpenEnd = function () {\n            var tokenType = this._attemptCharCode($SLASH) ? TokenType.TAG_OPEN_END_VOID : TokenType.TAG_OPEN_END;\n            this._beginToken(tokenType);\n            this._requireCharCode($GT);\n            this._endToken([]);\n        };\n        _Tokenizer.prototype._consumeTagClose = function (start) {\n            this._beginToken(TokenType.TAG_CLOSE, start);\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n            var prefixAndName = this._consumePrefixAndName();\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n            this._requireCharCode($GT);\n            this._endToken(prefixAndName);\n        };\n        _Tokenizer.prototype._consumeExpansionFormStart = function () {\n            this._beginToken(TokenType.EXPANSION_FORM_START, this._getLocation());\n            this._requireCharCode($LBRACE);\n            this._endToken([]);\n            this._expansionCaseStack.push(TokenType.EXPANSION_FORM_START);\n            this._beginToken(TokenType.RAW_TEXT, this._getLocation());\n            var condition = this._readUntil($COMMA);\n            this._endToken([condition], this._getLocation());\n            this._requireCharCode($COMMA);\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n            this._beginToken(TokenType.RAW_TEXT, this._getLocation());\n            var type = this._readUntil($COMMA);\n            this._endToken([type], this._getLocation());\n            this._requireCharCode($COMMA);\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n        };\n        _Tokenizer.prototype._consumeExpansionCaseStart = function () {\n            this._beginToken(TokenType.EXPANSION_CASE_VALUE, this._getLocation());\n            var value = this._readUntil($LBRACE).trim();\n            this._endToken([value], this._getLocation());\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n            this._beginToken(TokenType.EXPANSION_CASE_EXP_START, this._getLocation());\n            this._requireCharCode($LBRACE);\n            this._endToken([], this._getLocation());\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n            this._expansionCaseStack.push(TokenType.EXPANSION_CASE_EXP_START);\n        };\n        _Tokenizer.prototype._consumeExpansionCaseEnd = function () {\n            this._beginToken(TokenType.EXPANSION_CASE_EXP_END, this._getLocation());\n            this._requireCharCode($RBRACE);\n            this._endToken([], this._getLocation());\n            this._attemptCharCodeUntilFn(isNotWhitespace);\n            this._expansionCaseStack.pop();\n        };\n        _Tokenizer.prototype._consumeExpansionFormEnd = function () {\n            this._beginToken(TokenType.EXPANSION_FORM_END, this._getLocation());\n            this._requireCharCode($RBRACE);\n            this._endToken([]);\n            this._expansionCaseStack.pop();\n        };\n        _Tokenizer.prototype._consumeText = function () {\n            var start = this._getLocation();\n            this._beginToken(TokenType.TEXT, start);\n            var parts = [];\n            do {\n                if (this._interpolationConfig && this._attemptStr(this._interpolationConfig.start)) {\n                    parts.push(this._interpolationConfig.start);\n                    this._inInterpolation = true;\n                }\n                else if (this._interpolationConfig && this._inInterpolation &&\n                    this._attemptStr(this._interpolationConfig.end)) {\n                    parts.push(this._interpolationConfig.end);\n                    this._inInterpolation = false;\n                }\n                else {\n                    parts.push(this._readChar(true));\n                }\n            } while (!this._isTextEnd());\n            this._endToken([this._processCarriageReturns(parts.join(''))]);\n        };\n        _Tokenizer.prototype._isTextEnd = function () {\n            if (this._peek === $LT || this._peek === $EOF) {\n                return true;\n            }\n            if (this._tokenizeIcu && !this._inInterpolation) {\n                if (isExpansionFormStart(this._input, this._index, this._interpolationConfig)) {\n                    // start of an expansion form\n                    return true;\n                }\n                if (this._peek === $RBRACE && this._isInExpansionCase()) {\n                    // end of and expansion case\n                    return true;\n                }\n            }\n            return false;\n        };\n        _Tokenizer.prototype._savePosition = function () {\n            return [this._peek, this._index, this._column, this._line, this.tokens.length];\n        };\n        _Tokenizer.prototype._readUntil = function (char) {\n            var start = this._index;\n            this._attemptUntilChar(char);\n            return this._input.substring(start, this._index);\n        };\n        _Tokenizer.prototype._restorePosition = function (position) {\n            this._peek = position[0];\n            this._index = position[1];\n            this._column = position[2];\n            this._line = position[3];\n            var nbTokens = position[4];\n            if (nbTokens < this.tokens.length) {\n                // remove any extra tokens\n                this.tokens = this.tokens.slice(0, nbTokens);\n            }\n        };\n        _Tokenizer.prototype._isInExpansionCase = function () {\n            return this._expansionCaseStack.length > 0 &&\n                this._expansionCaseStack[this._expansionCaseStack.length - 1] ===\n                    TokenType.EXPANSION_CASE_EXP_START;\n        };\n        _Tokenizer.prototype._isInExpansionForm = function () {\n            return this._expansionCaseStack.length > 0 &&\n                this._expansionCaseStack[this._expansionCaseStack.length - 1] ===\n                    TokenType.EXPANSION_FORM_START;\n        };\n        return _Tokenizer;\n    }());\n    function isNotWhitespace(code) {\n        return !isWhitespace(code) || code === $EOF;\n    }\n    function isNameEnd(code) {\n        return isWhitespace(code) || code === $GT || code === $SLASH ||\n            code === $SQ || code === $DQ || code === $EQ;\n    }\n    function isPrefixEnd(code) {\n        return (code < $a || $z < code) && (code < $A || $Z < code) &&\n            (code < $0 || code > $9);\n    }\n    function isDigitEntityEnd(code) {\n        return code == $SEMICOLON || code == $EOF || !isAsciiHexDigit(code);\n    }\n    function isNamedEntityEnd(code) {\n        return code == $SEMICOLON || code == $EOF || !isAsciiLetter(code);\n    }\n    function isExpansionFormStart(input, offset, interpolationConfig) {\n        var isInterpolationStart = interpolationConfig ? input.indexOf(interpolationConfig.start, offset) == offset : false;\n        return input.charCodeAt(offset) == $LBRACE && !isInterpolationStart;\n    }\n    function isExpansionCaseStart(peek) {\n        return peek === $EQ || isAsciiLetter(peek) || isDigit(peek);\n    }\n    function compareCharCodeCaseInsensitive(code1, code2) {\n        return toUpperCaseCharCode(code1) == toUpperCaseCharCode(code2);\n    }\n    function toUpperCaseCharCode(code) {\n        return code >= $a && code <= $z ? code - $a + $A : code;\n    }\n    function mergeTextTokens(srcTokens) {\n        var dstTokens = [];\n        var lastDstToken = undefined;\n        for (var i = 0; i < srcTokens.length; i++) {\n            var token = srcTokens[i];\n            if (lastDstToken && lastDstToken.type == TokenType.TEXT && token.type == TokenType.TEXT) {\n                lastDstToken.parts[0] += token.parts[0];\n                lastDstToken.sourceSpan.end = token.sourceSpan.end;\n            }\n            else {\n                lastDstToken = token;\n                dstTokens.push(lastDstToken);\n            }\n        }\n        return dstTokens;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var TreeError = /** @class */ (function (_super) {\n        __extends(TreeError, _super);\n        function TreeError(elementName, span, msg) {\n            var _this = _super.call(this, span, msg) || this;\n            _this.elementName = elementName;\n            return _this;\n        }\n        TreeError.create = function (elementName, span, msg) {\n            return new TreeError(elementName, span, msg);\n        };\n        return TreeError;\n    }(ParseError));\n    var ParseTreeResult = /** @class */ (function () {\n        function ParseTreeResult(rootNodes, errors) {\n            this.rootNodes = rootNodes;\n            this.errors = errors;\n        }\n        return ParseTreeResult;\n    }());\n    var Parser$1 = /** @class */ (function () {\n        function Parser(getTagDefinition) {\n            this.getTagDefinition = getTagDefinition;\n        }\n        Parser.prototype.parse = function (source, url, parseExpansionForms, interpolationConfig) {\n            if (parseExpansionForms === void 0) { parseExpansionForms = false; }\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            var tokensAndErrors = tokenize(source, url, this.getTagDefinition, parseExpansionForms, interpolationConfig);\n            var treeAndErrors = new _TreeBuilder(tokensAndErrors.tokens, this.getTagDefinition).build();\n            return new ParseTreeResult(treeAndErrors.rootNodes, tokensAndErrors.errors.concat(treeAndErrors.errors));\n        };\n        return Parser;\n    }());\n    var _TreeBuilder = /** @class */ (function () {\n        function _TreeBuilder(tokens, getTagDefinition) {\n            this.tokens = tokens;\n            this.getTagDefinition = getTagDefinition;\n            this._index = -1;\n            this._rootNodes = [];\n            this._errors = [];\n            this._elementStack = [];\n            this._advance();\n        }\n        _TreeBuilder.prototype.build = function () {\n            while (this._peek.type !== TokenType.EOF) {\n                if (this._peek.type === TokenType.TAG_OPEN_START) {\n                    this._consumeStartTag(this._advance());\n                }\n                else if (this._peek.type === TokenType.TAG_CLOSE) {\n                    this._consumeEndTag(this._advance());\n                }\n                else if (this._peek.type === TokenType.CDATA_START) {\n                    this._closeVoidElement();\n                    this._consumeCdata(this._advance());\n                }\n                else if (this._peek.type === TokenType.COMMENT_START) {\n                    this._closeVoidElement();\n                    this._consumeComment(this._advance());\n                }\n                else if (this._peek.type === TokenType.TEXT || this._peek.type === TokenType.RAW_TEXT ||\n                    this._peek.type === TokenType.ESCAPABLE_RAW_TEXT) {\n                    this._closeVoidElement();\n                    this._consumeText(this._advance());\n                }\n                else if (this._peek.type === TokenType.EXPANSION_FORM_START) {\n                    this._consumeExpansion(this._advance());\n                }\n                else {\n                    // Skip all other tokens...\n                    this._advance();\n                }\n            }\n            return new ParseTreeResult(this._rootNodes, this._errors);\n        };\n        _TreeBuilder.prototype._advance = function () {\n            var prev = this._peek;\n            if (this._index < this.tokens.length - 1) {\n                // Note: there is always an EOF token at the end\n                this._index++;\n            }\n            this._peek = this.tokens[this._index];\n            return prev;\n        };\n        _TreeBuilder.prototype._advanceIf = function (type) {\n            if (this._peek.type === type) {\n                return this._advance();\n            }\n            return null;\n        };\n        _TreeBuilder.prototype._consumeCdata = function (startToken) {\n            this._consumeText(this._advance());\n            this._advanceIf(TokenType.CDATA_END);\n        };\n        _TreeBuilder.prototype._consumeComment = function (token) {\n            var text = this._advanceIf(TokenType.RAW_TEXT);\n            this._advanceIf(TokenType.COMMENT_END);\n            var value = text != null ? text.parts[0].trim() : null;\n            this._addToParent(new Comment(value, token.sourceSpan));\n        };\n        _TreeBuilder.prototype._consumeExpansion = function (token) {\n            var switchValue = this._advance();\n            var type = this._advance();\n            var cases = [];\n            // read =\n            while (this._peek.type === TokenType.EXPANSION_CASE_VALUE) {\n                var expCase = this._parseExpansionCase();\n                if (!expCase)\n                    return; // error\n                cases.push(expCase);\n            }\n            // read the final }\n            if (this._peek.type !== TokenType.EXPANSION_FORM_END) {\n                this._errors.push(TreeError.create(null, this._peek.sourceSpan, \"Invalid ICU message. Missing '}'.\"));\n                return;\n            }\n            var sourceSpan = new ParseSourceSpan(token.sourceSpan.start, this._peek.sourceSpan.end);\n            this._addToParent(new Expansion(switchValue.parts[0], type.parts[0], cases, sourceSpan, switchValue.sourceSpan));\n            this._advance();\n        };\n        _TreeBuilder.prototype._parseExpansionCase = function () {\n            var value = this._advance();\n            // read {\n            if (this._peek.type !== TokenType.EXPANSION_CASE_EXP_START) {\n                this._errors.push(TreeError.create(null, this._peek.sourceSpan, \"Invalid ICU message. Missing '{'.\"));\n                return null;\n            }\n            // read until }\n            var start = this._advance();\n            var exp = this._collectExpansionExpTokens(start);\n            if (!exp)\n                return null;\n            var end = this._advance();\n            exp.push(new Token$1(TokenType.EOF, [], end.sourceSpan));\n            // parse everything in between { and }\n            var parsedExp = new _TreeBuilder(exp, this.getTagDefinition).build();\n            if (parsedExp.errors.length > 0) {\n                this._errors = this._errors.concat(parsedExp.errors);\n                return null;\n            }\n            var sourceSpan = new ParseSourceSpan(value.sourceSpan.start, end.sourceSpan.end);\n            var expSourceSpan = new ParseSourceSpan(start.sourceSpan.start, end.sourceSpan.end);\n            return new ExpansionCase(value.parts[0], parsedExp.rootNodes, sourceSpan, value.sourceSpan, expSourceSpan);\n        };\n        _TreeBuilder.prototype._collectExpansionExpTokens = function (start) {\n            var exp = [];\n            var expansionFormStack = [TokenType.EXPANSION_CASE_EXP_START];\n            while (true) {\n                if (this._peek.type === TokenType.EXPANSION_FORM_START ||\n                    this._peek.type === TokenType.EXPANSION_CASE_EXP_START) {\n                    expansionFormStack.push(this._peek.type);\n                }\n                if (this._peek.type === TokenType.EXPANSION_CASE_EXP_END) {\n                    if (lastOnStack(expansionFormStack, TokenType.EXPANSION_CASE_EXP_START)) {\n                        expansionFormStack.pop();\n                        if (expansionFormStack.length == 0)\n                            return exp;\n                    }\n                    else {\n                        this._errors.push(TreeError.create(null, start.sourceSpan, \"Invalid ICU message. Missing '}'.\"));\n                        return null;\n                    }\n                }\n                if (this._peek.type === TokenType.EXPANSION_FORM_END) {\n                    if (lastOnStack(expansionFormStack, TokenType.EXPANSION_FORM_START)) {\n                        expansionFormStack.pop();\n                    }\n                    else {\n                        this._errors.push(TreeError.create(null, start.sourceSpan, \"Invalid ICU message. Missing '}'.\"));\n                        return null;\n                    }\n                }\n                if (this._peek.type === TokenType.EOF) {\n                    this._errors.push(TreeError.create(null, start.sourceSpan, \"Invalid ICU message. Missing '}'.\"));\n                    return null;\n                }\n                exp.push(this._advance());\n            }\n        };\n        _TreeBuilder.prototype._consumeText = function (token) {\n            var text = token.parts[0];\n            if (text.length > 0 && text[0] == '\\n') {\n                var parent_1 = this._getParentElement();\n                if (parent_1 != null && parent_1.children.length == 0 &&\n                    this.getTagDefinition(parent_1.name).ignoreFirstLf) {\n                    text = text.substring(1);\n                }\n            }\n            if (text.length > 0) {\n                this._addToParent(new Text(text, token.sourceSpan));\n            }\n        };\n        _TreeBuilder.prototype._closeVoidElement = function () {\n            var el = this._getParentElement();\n            if (el && this.getTagDefinition(el.name).isVoid) {\n                this._elementStack.pop();\n            }\n        };\n        _TreeBuilder.prototype._consumeStartTag = function (startTagToken) {\n            var prefix = startTagToken.parts[0];\n            var name = startTagToken.parts[1];\n            var attrs = [];\n            while (this._peek.type === TokenType.ATTR_NAME) {\n                attrs.push(this._consumeAttr(this._advance()));\n            }\n            var fullName = this._getElementFullName(prefix, name, this._getParentElement());\n            var selfClosing = false;\n            // Note: There could have been a tokenizer error\n            // so that we don't get a token for the end tag...\n            if (this._peek.type === TokenType.TAG_OPEN_END_VOID) {\n                this._advance();\n                selfClosing = true;\n                var tagDef = this.getTagDefinition(fullName);\n                if (!(tagDef.canSelfClose || getNsPrefix(fullName) !== null || tagDef.isVoid)) {\n                    this._errors.push(TreeError.create(fullName, startTagToken.sourceSpan, \"Only void and foreign elements can be self closed \\\"\" + startTagToken.parts[1] + \"\\\"\"));\n                }\n            }\n            else if (this._peek.type === TokenType.TAG_OPEN_END) {\n                this._advance();\n                selfClosing = false;\n            }\n            var end = this._peek.sourceSpan.start;\n            var span = new ParseSourceSpan(startTagToken.sourceSpan.start, end);\n            var el = new Element(fullName, attrs, [], span, span, undefined);\n            this._pushElement(el);\n            if (selfClosing) {\n                this._popElement(fullName);\n                el.endSourceSpan = span;\n            }\n        };\n        _TreeBuilder.prototype._pushElement = function (el) {\n            var parentEl = this._getParentElement();\n            if (parentEl && this.getTagDefinition(parentEl.name).isClosedByChild(el.name)) {\n                this._elementStack.pop();\n            }\n            var tagDef = this.getTagDefinition(el.name);\n            var _a = this._getParentElementSkippingContainers(), parent = _a.parent, container = _a.container;\n            if (parent && tagDef.requireExtraParent(parent.name)) {\n                var newParent = new Element(tagDef.parentToAdd, [], [], el.sourceSpan, el.startSourceSpan, el.endSourceSpan);\n                this._insertBeforeContainer(parent, container, newParent);\n            }\n            this._addToParent(el);\n            this._elementStack.push(el);\n        };\n        _TreeBuilder.prototype._consumeEndTag = function (endTagToken) {\n            var fullName = this._getElementFullName(endTagToken.parts[0], endTagToken.parts[1], this._getParentElement());\n            if (this._getParentElement()) {\n                this._getParentElement().endSourceSpan = endTagToken.sourceSpan;\n            }\n            if (this.getTagDefinition(fullName).isVoid) {\n                this._errors.push(TreeError.create(fullName, endTagToken.sourceSpan, \"Void elements do not have end tags \\\"\" + endTagToken.parts[1] + \"\\\"\"));\n            }\n            else if (!this._popElement(fullName)) {\n                var errMsg = \"Unexpected closing tag \\\"\" + fullName + \"\\\". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags\";\n                this._errors.push(TreeError.create(fullName, endTagToken.sourceSpan, errMsg));\n            }\n        };\n        _TreeBuilder.prototype._popElement = function (fullName) {\n            for (var stackIndex = this._elementStack.length - 1; stackIndex >= 0; stackIndex--) {\n                var el = this._elementStack[stackIndex];\n                if (el.name == fullName) {\n                    this._elementStack.splice(stackIndex, this._elementStack.length - stackIndex);\n                    return true;\n                }\n                if (!this.getTagDefinition(el.name).closedByParent) {\n                    return false;\n                }\n            }\n            return false;\n        };\n        _TreeBuilder.prototype._consumeAttr = function (attrName) {\n            var fullName = mergeNsAndName(attrName.parts[0], attrName.parts[1]);\n            var end = attrName.sourceSpan.end;\n            var value = '';\n            var valueSpan = undefined;\n            if (this._peek.type === TokenType.ATTR_VALUE) {\n                var valueToken = this._advance();\n                value = valueToken.parts[0];\n                end = valueToken.sourceSpan.end;\n                valueSpan = valueToken.sourceSpan;\n            }\n            return new Attribute(fullName, value, new ParseSourceSpan(attrName.sourceSpan.start, end), valueSpan);\n        };\n        _TreeBuilder.prototype._getParentElement = function () {\n            return this._elementStack.length > 0 ? this._elementStack[this._elementStack.length - 1] : null;\n        };\n        /**\n         * Returns the parent in the DOM and the container.\n         *\n         * `<ng-container>` elements are skipped as they are not rendered as DOM element.\n         */\n        _TreeBuilder.prototype._getParentElementSkippingContainers = function () {\n            var container = null;\n            for (var i = this._elementStack.length - 1; i >= 0; i--) {\n                if (!isNgContainer(this._elementStack[i].name)) {\n                    return { parent: this._elementStack[i], container: container };\n                }\n                container = this._elementStack[i];\n            }\n            return { parent: null, container: container };\n        };\n        _TreeBuilder.prototype._addToParent = function (node) {\n            var parent = this._getParentElement();\n            if (parent != null) {\n                parent.children.push(node);\n            }\n            else {\n                this._rootNodes.push(node);\n            }\n        };\n        /**\n         * Insert a node between the parent and the container.\n         * When no container is given, the node is appended as a child of the parent.\n         * Also updates the element stack accordingly.\n         *\n         * @internal\n         */\n        _TreeBuilder.prototype._insertBeforeContainer = function (parent, container, node) {\n            if (!container) {\n                this._addToParent(node);\n                this._elementStack.push(node);\n            }\n            else {\n                if (parent) {\n                    // replace the container with the new node in the children\n                    var index = parent.children.indexOf(container);\n                    parent.children[index] = node;\n                }\n                else {\n                    this._rootNodes.push(node);\n                }\n                node.children.push(container);\n                this._elementStack.splice(this._elementStack.indexOf(container), 0, node);\n            }\n        };\n        _TreeBuilder.prototype._getElementFullName = function (prefix, localName, parentElement) {\n            if (prefix == null) {\n                prefix = this.getTagDefinition(localName).implicitNamespacePrefix;\n                if (prefix == null && parentElement != null) {\n                    prefix = getNsPrefix(parentElement.name);\n                }\n            }\n            return mergeNsAndName(prefix, localName);\n        };\n        return _TreeBuilder;\n    }());\n    function lastOnStack(stack, element) {\n        return stack.length > 0 && stack[stack.length - 1] === element;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function digest(message) {\n        return message.id || sha1(serializeNodes(message.nodes).join('') + (\"[\" + message.meaning + \"]\"));\n    }\n    function decimalDigest(message) {\n        if (message.id) {\n            return message.id;\n        }\n        var visitor = new _SerializerIgnoreIcuExpVisitor();\n        var parts = message.nodes.map(function (a) { return a.visit(visitor, null); });\n        return computeMsgId(parts.join(''), message.meaning);\n    }\n    /**\n     * Serialize the i18n ast to something xml-like in order to generate an UID.\n     *\n     * The visitor is also used in the i18n parser tests\n     *\n     * @internal\n     */\n    var _SerializerVisitor = /** @class */ (function () {\n        function _SerializerVisitor() {\n        }\n        _SerializerVisitor.prototype.visitText = function (text, context) { return text.value; };\n        _SerializerVisitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            return \"[\" + container.children.map(function (child) { return child.visit(_this); }).join(', ') + \"]\";\n        };\n        _SerializerVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var strCases = Object.keys(icu.cases).map(function (k) { return k + \" {\" + icu.cases[k].visit(_this) + \"}\"; });\n            return \"{\" + icu.expression + \", \" + icu.type + \", \" + strCases.join(', ') + \"}\";\n        };\n        _SerializerVisitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var _this = this;\n            return ph.isVoid ?\n                \"<ph tag name=\\\"\" + ph.startName + \"\\\"/>\" :\n                \"<ph tag name=\\\"\" + ph.startName + \"\\\">\" + ph.children.map(function (child) { return child.visit(_this); }).join(', ') + \"</ph name=\\\"\" + ph.closeName + \"\\\">\";\n        };\n        _SerializerVisitor.prototype.visitPlaceholder = function (ph, context) {\n            return ph.value ? \"<ph name=\\\"\" + ph.name + \"\\\">\" + ph.value + \"</ph>\" : \"<ph name=\\\"\" + ph.name + \"\\\"/>\";\n        };\n        _SerializerVisitor.prototype.visitIcuPlaceholder = function (ph, context) {\n            return \"<ph icu name=\\\"\" + ph.name + \"\\\">\" + ph.value.visit(this) + \"</ph>\";\n        };\n        return _SerializerVisitor;\n    }());\n    var serializerVisitor = new _SerializerVisitor();\n    function serializeNodes(nodes) {\n        return nodes.map(function (a) { return a.visit(serializerVisitor, null); });\n    }\n    /**\n     * Serialize the i18n ast to something xml-like in order to generate an UID.\n     *\n     * Ignore the ICU expressions so that message IDs stays identical if only the expression changes.\n     *\n     * @internal\n     */\n    var _SerializerIgnoreIcuExpVisitor = /** @class */ (function (_super) {\n        __extends(_SerializerIgnoreIcuExpVisitor, _super);\n        function _SerializerIgnoreIcuExpVisitor() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        _SerializerIgnoreIcuExpVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var strCases = Object.keys(icu.cases).map(function (k) { return k + \" {\" + icu.cases[k].visit(_this) + \"}\"; });\n            // Do not take the expression into account\n            return \"{\" + icu.type + \", \" + strCases.join(', ') + \"}\";\n        };\n        return _SerializerIgnoreIcuExpVisitor;\n    }(_SerializerVisitor));\n    /**\n     * Compute the SHA1 of the given string\n     *\n     * see http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf\n     *\n     * WARNING: this function has not been designed not tested with security in mind.\n     *          DO NOT USE IT IN A SECURITY SENSITIVE CONTEXT.\n     */\n    function sha1(str) {\n        var _a, _b;\n        var utf8 = utf8Encode(str);\n        var words32 = stringToWords32(utf8, Endian.Big);\n        var len = utf8.length * 8;\n        var w = new Array(80);\n        var _c = __read([0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0], 5), a = _c[0], b = _c[1], c = _c[2], d = _c[3], e = _c[4];\n        words32[len >> 5] |= 0x80 << (24 - len % 32);\n        words32[((len + 64 >> 9) << 4) + 15] = len;\n        for (var i = 0; i < words32.length; i += 16) {\n            var _d = __read([a, b, c, d, e], 5), h0 = _d[0], h1 = _d[1], h2 = _d[2], h3 = _d[3], h4 = _d[4];\n            for (var j = 0; j < 80; j++) {\n                if (j < 16) {\n                    w[j] = words32[i + j];\n                }\n                else {\n                    w[j] = rol32(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\n                }\n                var _e = __read(fk(j, b, c, d), 2), f = _e[0], k = _e[1];\n                var temp = [rol32(a, 5), f, e, k, w[j]].reduce(add32);\n                _a = __read([d, c, rol32(b, 30), a, temp], 5), e = _a[0], d = _a[1], c = _a[2], b = _a[3], a = _a[4];\n            }\n            _b = __read([add32(a, h0), add32(b, h1), add32(c, h2), add32(d, h3), add32(e, h4)], 5), a = _b[0], b = _b[1], c = _b[2], d = _b[3], e = _b[4];\n        }\n        return byteStringToHexString(words32ToByteString([a, b, c, d, e]));\n    }\n    function fk(index, b, c, d) {\n        if (index < 20) {\n            return [(b & c) | (~b & d), 0x5a827999];\n        }\n        if (index < 40) {\n            return [b ^ c ^ d, 0x6ed9eba1];\n        }\n        if (index < 60) {\n            return [(b & c) | (b & d) | (c & d), 0x8f1bbcdc];\n        }\n        return [b ^ c ^ d, 0xca62c1d6];\n    }\n    /**\n     * Compute the fingerprint of the given string\n     *\n     * The output is 64 bit number encoded as a decimal string\n     *\n     * based on:\n     * https://github.com/google/closure-compiler/blob/master/src/com/google/javascript/jscomp/GoogleJsMessageIdGenerator.java\n     */\n    function fingerprint(str) {\n        var utf8 = utf8Encode(str);\n        var _a = __read([hash32(utf8, 0), hash32(utf8, 102072)], 2), hi = _a[0], lo = _a[1];\n        if (hi == 0 && (lo == 0 || lo == 1)) {\n            hi = hi ^ 0x130f9bef;\n            lo = lo ^ -0x6b5f56d8;\n        }\n        return [hi, lo];\n    }\n    function computeMsgId(msg, meaning) {\n        var _a;\n        var _b = __read(fingerprint(msg), 2), hi = _b[0], lo = _b[1];\n        if (meaning) {\n            var _c = __read(fingerprint(meaning), 2), him = _c[0], lom = _c[1];\n            _a = __read(add64(rol64([hi, lo], 1), [him, lom]), 2), hi = _a[0], lo = _a[1];\n        }\n        return byteStringToDecString(words32ToByteString([hi & 0x7fffffff, lo]));\n    }\n    function hash32(str, c) {\n        var _a;\n        var _b = __read([0x9e3779b9, 0x9e3779b9], 2), a = _b[0], b = _b[1];\n        var i;\n        var len = str.length;\n        for (i = 0; i + 12 <= len; i += 12) {\n            a = add32(a, wordAt(str, i, Endian.Little));\n            b = add32(b, wordAt(str, i + 4, Endian.Little));\n            c = add32(c, wordAt(str, i + 8, Endian.Little));\n            _a = __read(mix([a, b, c]), 3), a = _a[0], b = _a[1], c = _a[2];\n        }\n        a = add32(a, wordAt(str, i, Endian.Little));\n        b = add32(b, wordAt(str, i + 4, Endian.Little));\n        // the first byte of c is reserved for the length\n        c = add32(c, len);\n        c = add32(c, wordAt(str, i + 8, Endian.Little) << 8);\n        return mix([a, b, c])[2];\n    }\n    // clang-format off\n    function mix(_a) {\n        var _b = __read(_a, 3), a = _b[0], b = _b[1], c = _b[2];\n        a = sub32(a, b);\n        a = sub32(a, c);\n        a ^= c >>> 13;\n        b = sub32(b, c);\n        b = sub32(b, a);\n        b ^= a << 8;\n        c = sub32(c, a);\n        c = sub32(c, b);\n        c ^= b >>> 13;\n        a = sub32(a, b);\n        a = sub32(a, c);\n        a ^= c >>> 12;\n        b = sub32(b, c);\n        b = sub32(b, a);\n        b ^= a << 16;\n        c = sub32(c, a);\n        c = sub32(c, b);\n        c ^= b >>> 5;\n        a = sub32(a, b);\n        a = sub32(a, c);\n        a ^= c >>> 3;\n        b = sub32(b, c);\n        b = sub32(b, a);\n        b ^= a << 10;\n        c = sub32(c, a);\n        c = sub32(c, b);\n        c ^= b >>> 15;\n        return [a, b, c];\n    }\n    // clang-format on\n    // Utils\n    var Endian;\n    (function (Endian) {\n        Endian[Endian[\"Little\"] = 0] = \"Little\";\n        Endian[Endian[\"Big\"] = 1] = \"Big\";\n    })(Endian || (Endian = {}));\n    function add32(a, b) {\n        return add32to64(a, b)[1];\n    }\n    function add32to64(a, b) {\n        var low = (a & 0xffff) + (b & 0xffff);\n        var high = (a >>> 16) + (b >>> 16) + (low >>> 16);\n        return [high >>> 16, (high << 16) | (low & 0xffff)];\n    }\n    function add64(_a, _b) {\n        var _c = __read(_a, 2), ah = _c[0], al = _c[1];\n        var _d = __read(_b, 2), bh = _d[0], bl = _d[1];\n        var _e = __read(add32to64(al, bl), 2), carry = _e[0], l = _e[1];\n        var h = add32(add32(ah, bh), carry);\n        return [h, l];\n    }\n    function sub32(a, b) {\n        var low = (a & 0xffff) - (b & 0xffff);\n        var high = (a >> 16) - (b >> 16) + (low >> 16);\n        return (high << 16) | (low & 0xffff);\n    }\n    // Rotate a 32b number left `count` position\n    function rol32(a, count) {\n        return (a << count) | (a >>> (32 - count));\n    }\n    // Rotate a 64b number left `count` position\n    function rol64(_a, count) {\n        var _b = __read(_a, 2), hi = _b[0], lo = _b[1];\n        var h = (hi << count) | (lo >>> (32 - count));\n        var l = (lo << count) | (hi >>> (32 - count));\n        return [h, l];\n    }\n    function stringToWords32(str, endian) {\n        var words32 = Array((str.length + 3) >>> 2);\n        for (var i = 0; i < words32.length; i++) {\n            words32[i] = wordAt(str, i * 4, endian);\n        }\n        return words32;\n    }\n    function byteAt(str, index) {\n        return index >= str.length ? 0 : str.charCodeAt(index) & 0xff;\n    }\n    function wordAt(str, index, endian) {\n        var word = 0;\n        if (endian === Endian.Big) {\n            for (var i = 0; i < 4; i++) {\n                word += byteAt(str, index + i) << (24 - 8 * i);\n            }\n        }\n        else {\n            for (var i = 0; i < 4; i++) {\n                word += byteAt(str, index + i) << 8 * i;\n            }\n        }\n        return word;\n    }\n    function words32ToByteString(words32) {\n        return words32.reduce(function (str, word) { return str + word32ToByteString(word); }, '');\n    }\n    function word32ToByteString(word) {\n        var str = '';\n        for (var i = 0; i < 4; i++) {\n            str += String.fromCharCode((word >>> 8 * (3 - i)) & 0xff);\n        }\n        return str;\n    }\n    function byteStringToHexString(str) {\n        var hex = '';\n        for (var i = 0; i < str.length; i++) {\n            var b = byteAt(str, i);\n            hex += (b >>> 4).toString(16) + (b & 0x0f).toString(16);\n        }\n        return hex.toLowerCase();\n    }\n    // based on http://www.danvk.org/hex2dec.html (JS can not handle more than 56b)\n    function byteStringToDecString(str) {\n        var decimal = '';\n        var toThePower = '1';\n        for (var i = str.length - 1; i >= 0; i--) {\n            decimal = addBigInt(decimal, numberTimesBigInt(byteAt(str, i), toThePower));\n            toThePower = numberTimesBigInt(256, toThePower);\n        }\n        return decimal.split('').reverse().join('');\n    }\n    // x and y decimal, lowest significant digit first\n    function addBigInt(x, y) {\n        var sum = '';\n        var len = Math.max(x.length, y.length);\n        for (var i = 0, carry = 0; i < len || carry; i++) {\n            var tmpSum = carry + +(x[i] || 0) + +(y[i] || 0);\n            if (tmpSum >= 10) {\n                carry = 1;\n                sum += tmpSum - 10;\n            }\n            else {\n                carry = 0;\n                sum += tmpSum;\n            }\n        }\n        return sum;\n    }\n    function numberTimesBigInt(num, b) {\n        var product = '';\n        var bToThePower = b;\n        for (; num !== 0; num = num >>> 1) {\n            if (num & 1)\n                product = addBigInt(product, bToThePower);\n            bToThePower = addBigInt(bToThePower, bToThePower);\n        }\n        return product;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var Message = /** @class */ (function () {\n        /**\n         * @param nodes message AST\n         * @param placeholders maps placeholder names to static content\n         * @param placeholderToMessage maps placeholder names to messages (used for nested ICU messages)\n         * @param meaning\n         * @param description\n         * @param id\n         */\n        function Message(nodes, placeholders, placeholderToMessage, meaning, description, id) {\n            this.nodes = nodes;\n            this.placeholders = placeholders;\n            this.placeholderToMessage = placeholderToMessage;\n            this.meaning = meaning;\n            this.description = description;\n            this.id = id;\n            if (nodes.length) {\n                this.sources = [{\n                        filePath: nodes[0].sourceSpan.start.file.url,\n                        startLine: nodes[0].sourceSpan.start.line + 1,\n                        startCol: nodes[0].sourceSpan.start.col + 1,\n                        endLine: nodes[nodes.length - 1].sourceSpan.end.line + 1,\n                        endCol: nodes[0].sourceSpan.start.col + 1\n                    }];\n            }\n            else {\n                this.sources = [];\n            }\n        }\n        return Message;\n    }());\n    var Text$1 = /** @class */ (function () {\n        function Text(value, sourceSpan) {\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        Text.prototype.visit = function (visitor, context) { return visitor.visitText(this, context); };\n        return Text;\n    }());\n    // TODO(vicb): do we really need this node (vs an array) ?\n    var Container = /** @class */ (function () {\n        function Container(children, sourceSpan) {\n            this.children = children;\n            this.sourceSpan = sourceSpan;\n        }\n        Container.prototype.visit = function (visitor, context) { return visitor.visitContainer(this, context); };\n        return Container;\n    }());\n    var Icu = /** @class */ (function () {\n        function Icu(expression, type, cases, sourceSpan) {\n            this.expression = expression;\n            this.type = type;\n            this.cases = cases;\n            this.sourceSpan = sourceSpan;\n        }\n        Icu.prototype.visit = function (visitor, context) { return visitor.visitIcu(this, context); };\n        return Icu;\n    }());\n    var TagPlaceholder = /** @class */ (function () {\n        function TagPlaceholder(tag, attrs, startName, closeName, children, isVoid, sourceSpan) {\n            this.tag = tag;\n            this.attrs = attrs;\n            this.startName = startName;\n            this.closeName = closeName;\n            this.children = children;\n            this.isVoid = isVoid;\n            this.sourceSpan = sourceSpan;\n        }\n        TagPlaceholder.prototype.visit = function (visitor, context) { return visitor.visitTagPlaceholder(this, context); };\n        return TagPlaceholder;\n    }());\n    var Placeholder = /** @class */ (function () {\n        function Placeholder(value, name, sourceSpan) {\n            this.value = value;\n            this.name = name;\n            this.sourceSpan = sourceSpan;\n        }\n        Placeholder.prototype.visit = function (visitor, context) { return visitor.visitPlaceholder(this, context); };\n        return Placeholder;\n    }());\n    var IcuPlaceholder = /** @class */ (function () {\n        function IcuPlaceholder(value, name, sourceSpan) {\n            this.value = value;\n            this.name = name;\n            this.sourceSpan = sourceSpan;\n        }\n        IcuPlaceholder.prototype.visit = function (visitor, context) { return visitor.visitIcuPlaceholder(this, context); };\n        return IcuPlaceholder;\n    }());\n    // Clone the AST\n    var CloneVisitor = /** @class */ (function () {\n        function CloneVisitor() {\n        }\n        CloneVisitor.prototype.visitText = function (text, context) { return new Text$1(text.value, text.sourceSpan); };\n        CloneVisitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            var children = container.children.map(function (n) { return n.visit(_this, context); });\n            return new Container(children, container.sourceSpan);\n        };\n        CloneVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var cases = {};\n            Object.keys(icu.cases).forEach(function (key) { return cases[key] = icu.cases[key].visit(_this, context); });\n            var msg = new Icu(icu.expression, icu.type, cases, icu.sourceSpan);\n            msg.expressionPlaceholder = icu.expressionPlaceholder;\n            return msg;\n        };\n        CloneVisitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var _this = this;\n            var children = ph.children.map(function (n) { return n.visit(_this, context); });\n            return new TagPlaceholder(ph.tag, ph.attrs, ph.startName, ph.closeName, children, ph.isVoid, ph.sourceSpan);\n        };\n        CloneVisitor.prototype.visitPlaceholder = function (ph, context) {\n            return new Placeholder(ph.value, ph.name, ph.sourceSpan);\n        };\n        CloneVisitor.prototype.visitIcuPlaceholder = function (ph, context) {\n            return new IcuPlaceholder(ph.value, ph.name, ph.sourceSpan);\n        };\n        return CloneVisitor;\n    }());\n    // Visit all the nodes recursively\n    var RecurseVisitor = /** @class */ (function () {\n        function RecurseVisitor() {\n        }\n        RecurseVisitor.prototype.visitText = function (text, context) { };\n        RecurseVisitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            container.children.forEach(function (child) { return child.visit(_this); });\n        };\n        RecurseVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            Object.keys(icu.cases).forEach(function (k) { icu.cases[k].visit(_this); });\n        };\n        RecurseVisitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var _this = this;\n            ph.children.forEach(function (child) { return child.visit(_this); });\n        };\n        RecurseVisitor.prototype.visitPlaceholder = function (ph, context) { };\n        RecurseVisitor.prototype.visitIcuPlaceholder = function (ph, context) { };\n        return RecurseVisitor;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var TAG_TO_PLACEHOLDER_NAMES = {\n        'A': 'LINK',\n        'B': 'BOLD_TEXT',\n        'BR': 'LINE_BREAK',\n        'EM': 'EMPHASISED_TEXT',\n        'H1': 'HEADING_LEVEL1',\n        'H2': 'HEADING_LEVEL2',\n        'H3': 'HEADING_LEVEL3',\n        'H4': 'HEADING_LEVEL4',\n        'H5': 'HEADING_LEVEL5',\n        'H6': 'HEADING_LEVEL6',\n        'HR': 'HORIZONTAL_RULE',\n        'I': 'ITALIC_TEXT',\n        'LI': 'LIST_ITEM',\n        'LINK': 'MEDIA_LINK',\n        'OL': 'ORDERED_LIST',\n        'P': 'PARAGRAPH',\n        'Q': 'QUOTATION',\n        'S': 'STRIKETHROUGH_TEXT',\n        'SMALL': 'SMALL_TEXT',\n        'SUB': 'SUBSTRIPT',\n        'SUP': 'SUPERSCRIPT',\n        'TBODY': 'TABLE_BODY',\n        'TD': 'TABLE_CELL',\n        'TFOOT': 'TABLE_FOOTER',\n        'TH': 'TABLE_HEADER_CELL',\n        'THEAD': 'TABLE_HEADER',\n        'TR': 'TABLE_ROW',\n        'TT': 'MONOSPACED_TEXT',\n        'U': 'UNDERLINED_TEXT',\n        'UL': 'UNORDERED_LIST',\n    };\n    /**\n     * Creates unique names for placeholder with different content.\n     *\n     * Returns the same placeholder name when the content is identical.\n     */\n    var PlaceholderRegistry = /** @class */ (function () {\n        function PlaceholderRegistry() {\n            // Count the occurrence of the base name top generate a unique name\n            this._placeHolderNameCounts = {};\n            // Maps signature to placeholder names\n            this._signatureToName = {};\n        }\n        PlaceholderRegistry.prototype.getStartTagPlaceholderName = function (tag, attrs, isVoid) {\n            var signature = this._hashTag(tag, attrs, isVoid);\n            if (this._signatureToName[signature]) {\n                return this._signatureToName[signature];\n            }\n            var upperTag = tag.toUpperCase();\n            var baseName = TAG_TO_PLACEHOLDER_NAMES[upperTag] || \"TAG_\" + upperTag;\n            var name = this._generateUniqueName(isVoid ? baseName : \"START_\" + baseName);\n            this._signatureToName[signature] = name;\n            return name;\n        };\n        PlaceholderRegistry.prototype.getCloseTagPlaceholderName = function (tag) {\n            var signature = this._hashClosingTag(tag);\n            if (this._signatureToName[signature]) {\n                return this._signatureToName[signature];\n            }\n            var upperTag = tag.toUpperCase();\n            var baseName = TAG_TO_PLACEHOLDER_NAMES[upperTag] || \"TAG_\" + upperTag;\n            var name = this._generateUniqueName(\"CLOSE_\" + baseName);\n            this._signatureToName[signature] = name;\n            return name;\n        };\n        PlaceholderRegistry.prototype.getPlaceholderName = function (name, content) {\n            var upperName = name.toUpperCase();\n            var signature = \"PH: \" + upperName + \"=\" + content;\n            if (this._signatureToName[signature]) {\n                return this._signatureToName[signature];\n            }\n            var uniqueName = this._generateUniqueName(upperName);\n            this._signatureToName[signature] = uniqueName;\n            return uniqueName;\n        };\n        PlaceholderRegistry.prototype.getUniquePlaceholder = function (name) {\n            return this._generateUniqueName(name.toUpperCase());\n        };\n        // Generate a hash for a tag - does not take attribute order into account\n        PlaceholderRegistry.prototype._hashTag = function (tag, attrs, isVoid) {\n            var start = \"<\" + tag;\n            var strAttrs = Object.keys(attrs).sort().map(function (name) { return \" \" + name + \"=\" + attrs[name]; }).join('');\n            var end = isVoid ? '/>' : \"></\" + tag + \">\";\n            return start + strAttrs + end;\n        };\n        PlaceholderRegistry.prototype._hashClosingTag = function (tag) { return this._hashTag(\"/\" + tag, {}, false); };\n        PlaceholderRegistry.prototype._generateUniqueName = function (base) {\n            var seen = this._placeHolderNameCounts.hasOwnProperty(base);\n            if (!seen) {\n                this._placeHolderNameCounts[base] = 1;\n                return base;\n            }\n            var id = this._placeHolderNameCounts[base];\n            this._placeHolderNameCounts[base] = id + 1;\n            return base + \"_\" + id;\n        };\n        return PlaceholderRegistry;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _expParser = new Parser(new Lexer());\n    /**\n     * Returns a function converting html nodes to an i18n Message given an interpolationConfig\n     */\n    function createI18nMessageFactory(interpolationConfig) {\n        var visitor = new _I18nVisitor(_expParser, interpolationConfig);\n        return function (nodes, meaning, description, id) {\n            return visitor.toI18nMessage(nodes, meaning, description, id);\n        };\n    }\n    var _I18nVisitor = /** @class */ (function () {\n        function _I18nVisitor(_expressionParser, _interpolationConfig) {\n            this._expressionParser = _expressionParser;\n            this._interpolationConfig = _interpolationConfig;\n        }\n        _I18nVisitor.prototype.toI18nMessage = function (nodes, meaning, description, id) {\n            this._isIcu = nodes.length == 1 && nodes[0] instanceof Expansion;\n            this._icuDepth = 0;\n            this._placeholderRegistry = new PlaceholderRegistry();\n            this._placeholderToContent = {};\n            this._placeholderToMessage = {};\n            var i18nodes = visitAll(this, nodes, {});\n            return new Message(i18nodes, this._placeholderToContent, this._placeholderToMessage, meaning, description, id);\n        };\n        _I18nVisitor.prototype.visitElement = function (el, context) {\n            var children = visitAll(this, el.children);\n            var attrs = {};\n            el.attrs.forEach(function (attr) {\n                // Do not visit the attributes, translatable ones are top-level ASTs\n                attrs[attr.name] = attr.value;\n            });\n            var isVoid = getHtmlTagDefinition(el.name).isVoid;\n            var startPhName = this._placeholderRegistry.getStartTagPlaceholderName(el.name, attrs, isVoid);\n            this._placeholderToContent[startPhName] = el.sourceSpan.toString();\n            var closePhName = '';\n            if (!isVoid) {\n                closePhName = this._placeholderRegistry.getCloseTagPlaceholderName(el.name);\n                this._placeholderToContent[closePhName] = \"</\" + el.name + \">\";\n            }\n            return new TagPlaceholder(el.name, attrs, startPhName, closePhName, children, isVoid, el.sourceSpan);\n        };\n        _I18nVisitor.prototype.visitAttribute = function (attribute, context) {\n            return this._visitTextWithInterpolation(attribute.value, attribute.sourceSpan);\n        };\n        _I18nVisitor.prototype.visitText = function (text, context) {\n            return this._visitTextWithInterpolation(text.value, text.sourceSpan);\n        };\n        _I18nVisitor.prototype.visitComment = function (comment, context) { return null; };\n        _I18nVisitor.prototype.visitExpansion = function (icu, context) {\n            var _this = this;\n            this._icuDepth++;\n            var i18nIcuCases = {};\n            var i18nIcu = new Icu(icu.switchValue, icu.type, i18nIcuCases, icu.sourceSpan);\n            icu.cases.forEach(function (caze) {\n                i18nIcuCases[caze.value] = new Container(caze.expression.map(function (node) { return node.visit(_this, {}); }), caze.expSourceSpan);\n            });\n            this._icuDepth--;\n            if (this._isIcu || this._icuDepth > 0) {\n                // Returns an ICU node when:\n                // - the message (vs a part of the message) is an ICU message, or\n                // - the ICU message is nested.\n                var expPh = this._placeholderRegistry.getUniquePlaceholder(\"VAR_\" + icu.type);\n                i18nIcu.expressionPlaceholder = expPh;\n                this._placeholderToContent[expPh] = icu.switchValue;\n                return i18nIcu;\n            }\n            // Else returns a placeholder\n            // ICU placeholders should not be replaced with their original content but with the their\n            // translations. We need to create a new visitor (they are not re-entrant) to compute the\n            // message id.\n            // TODO(vicb): add a html.Node -> i18n.Message cache to avoid having to re-create the msg\n            var phName = this._placeholderRegistry.getPlaceholderName('ICU', icu.sourceSpan.toString());\n            var visitor = new _I18nVisitor(this._expressionParser, this._interpolationConfig);\n            this._placeholderToMessage[phName] = visitor.toI18nMessage([icu], '', '', '');\n            return new IcuPlaceholder(i18nIcu, phName, icu.sourceSpan);\n        };\n        _I18nVisitor.prototype.visitExpansionCase = function (icuCase, context) {\n            throw new Error('Unreachable code');\n        };\n        _I18nVisitor.prototype._visitTextWithInterpolation = function (text, sourceSpan) {\n            var splitInterpolation = this._expressionParser.splitInterpolation(text, sourceSpan.start.toString(), this._interpolationConfig);\n            if (!splitInterpolation) {\n                // No expression, return a single text\n                return new Text$1(text, sourceSpan);\n            }\n            // Return a group of text + expressions\n            var nodes = [];\n            var container = new Container(nodes, sourceSpan);\n            var _a = this._interpolationConfig, sDelimiter = _a.start, eDelimiter = _a.end;\n            for (var i = 0; i < splitInterpolation.strings.length - 1; i++) {\n                var expression = splitInterpolation.expressions[i];\n                var baseName = _extractPlaceholderName(expression) || 'INTERPOLATION';\n                var phName = this._placeholderRegistry.getPlaceholderName(baseName, expression);\n                if (splitInterpolation.strings[i].length) {\n                    // No need to add empty strings\n                    nodes.push(new Text$1(splitInterpolation.strings[i], sourceSpan));\n                }\n                nodes.push(new Placeholder(expression, phName, sourceSpan));\n                this._placeholderToContent[phName] = sDelimiter + expression + eDelimiter;\n            }\n            // The last index contains no expression\n            var lastStringIdx = splitInterpolation.strings.length - 1;\n            if (splitInterpolation.strings[lastStringIdx].length) {\n                nodes.push(new Text$1(splitInterpolation.strings[lastStringIdx], sourceSpan));\n            }\n            return container;\n        };\n        return _I18nVisitor;\n    }());\n    var _CUSTOM_PH_EXP = /\\/\\/[\\s\\S]*i18n[\\s\\S]*\\([\\s\\S]*ph[\\s\\S]*=[\\s\\S]*(\"|')([\\s\\S]*?)\\1[\\s\\S]*\\)/g;\n    function _extractPlaceholderName(input) {\n        return input.split(_CUSTOM_PH_EXP)[2];\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * An i18n error.\n     */\n    var I18nError = /** @class */ (function (_super) {\n        __extends(I18nError, _super);\n        function I18nError(span, msg) {\n            return _super.call(this, span, msg) || this;\n        }\n        return I18nError;\n    }(ParseError));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _I18N_ATTR = 'i18n';\n    var _I18N_ATTR_PREFIX = 'i18n-';\n    var _I18N_COMMENT_PREFIX_REGEXP = /^i18n:?/;\n    var MEANING_SEPARATOR = '|';\n    var ID_SEPARATOR = '@@';\n    var i18nCommentsWarned = false;\n    /**\n     * Extract translatable messages from an html AST\n     */\n    function extractMessages(nodes, interpolationConfig, implicitTags, implicitAttrs) {\n        var visitor = new _Visitor(implicitTags, implicitAttrs);\n        return visitor.extract(nodes, interpolationConfig);\n    }\n    function mergeTranslations(nodes, translations, interpolationConfig, implicitTags, implicitAttrs) {\n        var visitor = new _Visitor(implicitTags, implicitAttrs);\n        return visitor.merge(nodes, translations, interpolationConfig);\n    }\n    var ExtractionResult = /** @class */ (function () {\n        function ExtractionResult(messages, errors) {\n            this.messages = messages;\n            this.errors = errors;\n        }\n        return ExtractionResult;\n    }());\n    var _VisitorMode;\n    (function (_VisitorMode) {\n        _VisitorMode[_VisitorMode[\"Extract\"] = 0] = \"Extract\";\n        _VisitorMode[_VisitorMode[\"Merge\"] = 1] = \"Merge\";\n    })(_VisitorMode || (_VisitorMode = {}));\n    /**\n     * This Visitor is used:\n     * 1. to extract all the translatable strings from an html AST (see `extract()`),\n     * 2. to replace the translatable strings with the actual translations (see `merge()`)\n     *\n     * @internal\n     */\n    var _Visitor = /** @class */ (function () {\n        function _Visitor(_implicitTags, _implicitAttrs) {\n            this._implicitTags = _implicitTags;\n            this._implicitAttrs = _implicitAttrs;\n        }\n        /**\n         * Extracts the messages from the tree\n         */\n        _Visitor.prototype.extract = function (nodes, interpolationConfig) {\n            var _this = this;\n            this._init(_VisitorMode.Extract, interpolationConfig);\n            nodes.forEach(function (node) { return node.visit(_this, null); });\n            if (this._inI18nBlock) {\n                this._reportError(nodes[nodes.length - 1], 'Unclosed block');\n            }\n            return new ExtractionResult(this._messages, this._errors);\n        };\n        /**\n         * Returns a tree where all translatable nodes are translated\n         */\n        _Visitor.prototype.merge = function (nodes, translations, interpolationConfig) {\n            this._init(_VisitorMode.Merge, interpolationConfig);\n            this._translations = translations;\n            // Construct a single fake root element\n            var wrapper = new Element('wrapper', [], nodes, undefined, undefined, undefined);\n            var translatedNode = wrapper.visit(this, null);\n            if (this._inI18nBlock) {\n                this._reportError(nodes[nodes.length - 1], 'Unclosed block');\n            }\n            return new ParseTreeResult(translatedNode.children, this._errors);\n        };\n        _Visitor.prototype.visitExpansionCase = function (icuCase, context) {\n            // Parse cases for translatable html attributes\n            var expression = visitAll(this, icuCase.expression, context);\n            if (this._mode === _VisitorMode.Merge) {\n                return new ExpansionCase(icuCase.value, expression, icuCase.sourceSpan, icuCase.valueSourceSpan, icuCase.expSourceSpan);\n            }\n        };\n        _Visitor.prototype.visitExpansion = function (icu, context) {\n            this._mayBeAddBlockChildren(icu);\n            var wasInIcu = this._inIcu;\n            if (!this._inIcu) {\n                // nested ICU messages should not be extracted but top-level translated as a whole\n                if (this._isInTranslatableSection) {\n                    this._addMessage([icu]);\n                }\n                this._inIcu = true;\n            }\n            var cases = visitAll(this, icu.cases, context);\n            if (this._mode === _VisitorMode.Merge) {\n                icu = new Expansion(icu.switchValue, icu.type, cases, icu.sourceSpan, icu.switchValueSourceSpan);\n            }\n            this._inIcu = wasInIcu;\n            return icu;\n        };\n        _Visitor.prototype.visitComment = function (comment, context) {\n            var isOpening = _isOpeningComment(comment);\n            if (isOpening && this._isInTranslatableSection) {\n                this._reportError(comment, 'Could not start a block inside a translatable section');\n                return;\n            }\n            var isClosing = _isClosingComment(comment);\n            if (isClosing && !this._inI18nBlock) {\n                this._reportError(comment, 'Trying to close an unopened block');\n                return;\n            }\n            if (!this._inI18nNode && !this._inIcu) {\n                if (!this._inI18nBlock) {\n                    if (isOpening) {\n                        // deprecated from v5 you should use <ng-container i18n> instead of i18n comments\n                        if (!i18nCommentsWarned && console && console.warn) {\n                            i18nCommentsWarned = true;\n                            var details = comment.sourceSpan.details ? \", \" + comment.sourceSpan.details : '';\n                            // TODO(ocombe): use a log service once there is a public one available\n                            console.warn(\"I18n comments are deprecated, use an <ng-container> element instead (\" + comment.sourceSpan.start + details + \")\");\n                        }\n                        this._inI18nBlock = true;\n                        this._blockStartDepth = this._depth;\n                        this._blockChildren = [];\n                        this._blockMeaningAndDesc =\n                            comment.value.replace(_I18N_COMMENT_PREFIX_REGEXP, '').trim();\n                        this._openTranslatableSection(comment);\n                    }\n                }\n                else {\n                    if (isClosing) {\n                        if (this._depth == this._blockStartDepth) {\n                            this._closeTranslatableSection(comment, this._blockChildren);\n                            this._inI18nBlock = false;\n                            var message = this._addMessage(this._blockChildren, this._blockMeaningAndDesc);\n                            // merge attributes in sections\n                            var nodes = this._translateMessage(comment, message);\n                            return visitAll(this, nodes);\n                        }\n                        else {\n                            this._reportError(comment, 'I18N blocks should not cross element boundaries');\n                            return;\n                        }\n                    }\n                }\n            }\n        };\n        _Visitor.prototype.visitText = function (text, context) {\n            if (this._isInTranslatableSection) {\n                this._mayBeAddBlockChildren(text);\n            }\n            return text;\n        };\n        _Visitor.prototype.visitElement = function (el, context) {\n            var _this = this;\n            this._mayBeAddBlockChildren(el);\n            this._depth++;\n            var wasInI18nNode = this._inI18nNode;\n            var wasInImplicitNode = this._inImplicitNode;\n            var childNodes = [];\n            var translatedChildNodes = undefined;\n            // Extract:\n            // - top level nodes with the (implicit) \"i18n\" attribute if not already in a section\n            // - ICU messages\n            var i18nAttr = _getI18nAttr(el);\n            var i18nMeta = i18nAttr ? i18nAttr.value : '';\n            var isImplicit = this._implicitTags.some(function (tag) { return el.name === tag; }) && !this._inIcu &&\n                !this._isInTranslatableSection;\n            var isTopLevelImplicit = !wasInImplicitNode && isImplicit;\n            this._inImplicitNode = wasInImplicitNode || isImplicit;\n            if (!this._isInTranslatableSection && !this._inIcu) {\n                if (i18nAttr || isTopLevelImplicit) {\n                    this._inI18nNode = true;\n                    var message = this._addMessage(el.children, i18nMeta);\n                    translatedChildNodes = this._translateMessage(el, message);\n                }\n                if (this._mode == _VisitorMode.Extract) {\n                    var isTranslatable = i18nAttr || isTopLevelImplicit;\n                    if (isTranslatable)\n                        this._openTranslatableSection(el);\n                    visitAll(this, el.children);\n                    if (isTranslatable)\n                        this._closeTranslatableSection(el, el.children);\n                }\n            }\n            else {\n                if (i18nAttr || isTopLevelImplicit) {\n                    this._reportError(el, 'Could not mark an element as translatable inside a translatable section');\n                }\n                if (this._mode == _VisitorMode.Extract) {\n                    // Descend into child nodes for extraction\n                    visitAll(this, el.children);\n                }\n            }\n            if (this._mode === _VisitorMode.Merge) {\n                var visitNodes = translatedChildNodes || el.children;\n                visitNodes.forEach(function (child) {\n                    var visited = child.visit(_this, context);\n                    if (visited && !_this._isInTranslatableSection) {\n                        // Do not add the children from translatable sections (= i18n blocks here)\n                        // They will be added later in this loop when the block closes (i.e. on `<!-- /i18n -->`)\n                        childNodes = childNodes.concat(visited);\n                    }\n                });\n            }\n            this._visitAttributesOf(el);\n            this._depth--;\n            this._inI18nNode = wasInI18nNode;\n            this._inImplicitNode = wasInImplicitNode;\n            if (this._mode === _VisitorMode.Merge) {\n                var translatedAttrs = this._translateAttributes(el);\n                return new Element(el.name, translatedAttrs, childNodes, el.sourceSpan, el.startSourceSpan, el.endSourceSpan);\n            }\n            return null;\n        };\n        _Visitor.prototype.visitAttribute = function (attribute, context) {\n            throw new Error('unreachable code');\n        };\n        _Visitor.prototype._init = function (mode, interpolationConfig) {\n            this._mode = mode;\n            this._inI18nBlock = false;\n            this._inI18nNode = false;\n            this._depth = 0;\n            this._inIcu = false;\n            this._msgCountAtSectionStart = undefined;\n            this._errors = [];\n            this._messages = [];\n            this._inImplicitNode = false;\n            this._createI18nMessage = createI18nMessageFactory(interpolationConfig);\n        };\n        // looks for translatable attributes\n        _Visitor.prototype._visitAttributesOf = function (el) {\n            var _this = this;\n            var explicitAttrNameToValue = {};\n            var implicitAttrNames = this._implicitAttrs[el.name] || [];\n            el.attrs.filter(function (attr) { return attr.name.startsWith(_I18N_ATTR_PREFIX); })\n                .forEach(function (attr) { return explicitAttrNameToValue[attr.name.slice(_I18N_ATTR_PREFIX.length)] =\n                attr.value; });\n            el.attrs.forEach(function (attr) {\n                if (attr.name in explicitAttrNameToValue) {\n                    _this._addMessage([attr], explicitAttrNameToValue[attr.name]);\n                }\n                else if (implicitAttrNames.some(function (name) { return attr.name === name; })) {\n                    _this._addMessage([attr]);\n                }\n            });\n        };\n        // add a translatable message\n        _Visitor.prototype._addMessage = function (ast, msgMeta) {\n            if (ast.length == 0 ||\n                ast.length == 1 && ast[0] instanceof Attribute && !ast[0].value) {\n                // Do not create empty messages\n                return null;\n            }\n            var _a = _parseMessageMeta(msgMeta), meaning = _a.meaning, description = _a.description, id = _a.id;\n            var message = this._createI18nMessage(ast, meaning, description, id);\n            this._messages.push(message);\n            return message;\n        };\n        // Translates the given message given the `TranslationBundle`\n        // This is used for translating elements / blocks - see `_translateAttributes` for attributes\n        // no-op when called in extraction mode (returns [])\n        _Visitor.prototype._translateMessage = function (el, message) {\n            if (message && this._mode === _VisitorMode.Merge) {\n                var nodes = this._translations.get(message);\n                if (nodes) {\n                    return nodes;\n                }\n                this._reportError(el, \"Translation unavailable for message id=\\\"\" + this._translations.digest(message) + \"\\\"\");\n            }\n            return [];\n        };\n        // translate the attributes of an element and remove i18n specific attributes\n        _Visitor.prototype._translateAttributes = function (el) {\n            var _this = this;\n            var attributes = el.attrs;\n            var i18nParsedMessageMeta = {};\n            attributes.forEach(function (attr) {\n                if (attr.name.startsWith(_I18N_ATTR_PREFIX)) {\n                    i18nParsedMessageMeta[attr.name.slice(_I18N_ATTR_PREFIX.length)] =\n                        _parseMessageMeta(attr.value);\n                }\n            });\n            var translatedAttributes = [];\n            attributes.forEach(function (attr) {\n                if (attr.name === _I18N_ATTR || attr.name.startsWith(_I18N_ATTR_PREFIX)) {\n                    // strip i18n specific attributes\n                    return;\n                }\n                if (attr.value && attr.value != '' && i18nParsedMessageMeta.hasOwnProperty(attr.name)) {\n                    var _a = i18nParsedMessageMeta[attr.name], meaning = _a.meaning, description = _a.description, id = _a.id;\n                    var message = _this._createI18nMessage([attr], meaning, description, id);\n                    var nodes = _this._translations.get(message);\n                    if (nodes) {\n                        if (nodes.length == 0) {\n                            translatedAttributes.push(new Attribute(attr.name, '', attr.sourceSpan));\n                        }\n                        else if (nodes[0] instanceof Text) {\n                            var value = nodes[0].value;\n                            translatedAttributes.push(new Attribute(attr.name, value, attr.sourceSpan));\n                        }\n                        else {\n                            _this._reportError(el, \"Unexpected translation for attribute \\\"\" + attr.name + \"\\\" (id=\\\"\" + (id || _this._translations.digest(message)) + \"\\\")\");\n                        }\n                    }\n                    else {\n                        _this._reportError(el, \"Translation unavailable for attribute \\\"\" + attr.name + \"\\\" (id=\\\"\" + (id || _this._translations.digest(message)) + \"\\\")\");\n                    }\n                }\n                else {\n                    translatedAttributes.push(attr);\n                }\n            });\n            return translatedAttributes;\n        };\n        /**\n         * Add the node as a child of the block when:\n         * - we are in a block,\n         * - we are not inside a ICU message (those are handled separately),\n         * - the node is a \"direct child\" of the block\n         */\n        _Visitor.prototype._mayBeAddBlockChildren = function (node) {\n            if (this._inI18nBlock && !this._inIcu && this._depth == this._blockStartDepth) {\n                this._blockChildren.push(node);\n            }\n        };\n        /**\n         * Marks the start of a section, see `_closeTranslatableSection`\n         */\n        _Visitor.prototype._openTranslatableSection = function (node) {\n            if (this._isInTranslatableSection) {\n                this._reportError(node, 'Unexpected section start');\n            }\n            else {\n                this._msgCountAtSectionStart = this._messages.length;\n            }\n        };\n        Object.defineProperty(_Visitor.prototype, \"_isInTranslatableSection\", {\n            /**\n             * A translatable section could be:\n             * - the content of translatable element,\n             * - nodes between `<!-- i18n -->` and `<!-- /i18n -->` comments\n             */\n            get: function () {\n                return this._msgCountAtSectionStart !== void 0;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Terminates a section.\n         *\n         * If a section has only one significant children (comments not significant) then we should not\n         * keep the message from this children:\n         *\n         * `<p i18n=\"meaning|description\">{ICU message}</p>` would produce two messages:\n         * - one for the <p> content with meaning and description,\n         * - another one for the ICU message.\n         *\n         * In this case the last message is discarded as it contains less information (the AST is\n         * otherwise identical).\n         *\n         * Note that we should still keep messages extracted from attributes inside the section (ie in the\n         * ICU message here)\n         */\n        _Visitor.prototype._closeTranslatableSection = function (node, directChildren) {\n            if (!this._isInTranslatableSection) {\n                this._reportError(node, 'Unexpected section end');\n                return;\n            }\n            var startIndex = this._msgCountAtSectionStart;\n            var significantChildren = directChildren.reduce(function (count, node) { return count + (node instanceof Comment ? 0 : 1); }, 0);\n            if (significantChildren == 1) {\n                for (var i = this._messages.length - 1; i >= startIndex; i--) {\n                    var ast = this._messages[i].nodes;\n                    if (!(ast.length == 1 && ast[0] instanceof Text$1)) {\n                        this._messages.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            this._msgCountAtSectionStart = undefined;\n        };\n        _Visitor.prototype._reportError = function (node, msg) {\n            this._errors.push(new I18nError(node.sourceSpan, msg));\n        };\n        return _Visitor;\n    }());\n    function _isOpeningComment(n) {\n        return !!(n instanceof Comment && n.value && n.value.startsWith('i18n'));\n    }\n    function _isClosingComment(n) {\n        return !!(n instanceof Comment && n.value && n.value === '/i18n');\n    }\n    function _getI18nAttr(p) {\n        return p.attrs.find(function (attr) { return attr.name === _I18N_ATTR; }) || null;\n    }\n    function _parseMessageMeta(i18n) {\n        if (!i18n)\n            return { meaning: '', description: '', id: '' };\n        var idIndex = i18n.indexOf(ID_SEPARATOR);\n        var descIndex = i18n.indexOf(MEANING_SEPARATOR);\n        var _a = __read((idIndex > -1) ? [i18n.slice(0, idIndex), i18n.slice(idIndex + 2)] : [i18n, ''], 2), meaningAndDesc = _a[0], id = _a[1];\n        var _b = __read((descIndex > -1) ?\n            [meaningAndDesc.slice(0, descIndex), meaningAndDesc.slice(descIndex + 1)] :\n            ['', meaningAndDesc], 2), meaning = _b[0], description = _b[1];\n        return { meaning: meaning, description: description, id: id };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var XmlTagDefinition = /** @class */ (function () {\n        function XmlTagDefinition() {\n            this.closedByParent = false;\n            this.contentType = exports.TagContentType.PARSABLE_DATA;\n            this.isVoid = false;\n            this.ignoreFirstLf = false;\n            this.canSelfClose = true;\n        }\n        XmlTagDefinition.prototype.requireExtraParent = function (currentParent) { return false; };\n        XmlTagDefinition.prototype.isClosedByChild = function (name) { return false; };\n        return XmlTagDefinition;\n    }());\n    var _TAG_DEFINITION = new XmlTagDefinition();\n    function getXmlTagDefinition(tagName) {\n        return _TAG_DEFINITION;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var XmlParser = /** @class */ (function (_super) {\n        __extends(XmlParser, _super);\n        function XmlParser() {\n            return _super.call(this, getXmlTagDefinition) || this;\n        }\n        XmlParser.prototype.parse = function (source, url, parseExpansionForms) {\n            if (parseExpansionForms === void 0) { parseExpansionForms = false; }\n            return _super.prototype.parse.call(this, source, url, parseExpansionForms);\n        };\n        return XmlParser;\n    }(Parser$1));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var Serializer = /** @class */ (function () {\n        function Serializer() {\n        }\n        // Creates a name mapper, see `PlaceholderMapper`\n        // Returning `null` means that no name mapping is used.\n        Serializer.prototype.createNameMapper = function (message) { return null; };\n        return Serializer;\n    }());\n    /**\n     * A simple mapper that take a function to transform an internal name to a public name\n     */\n    var SimplePlaceholderMapper = /** @class */ (function (_super) {\n        __extends(SimplePlaceholderMapper, _super);\n        // create a mapping from the message\n        function SimplePlaceholderMapper(message, mapName) {\n            var _this = _super.call(this) || this;\n            _this.mapName = mapName;\n            _this.internalToPublic = {};\n            _this.publicToNextId = {};\n            _this.publicToInternal = {};\n            message.nodes.forEach(function (node) { return node.visit(_this); });\n            return _this;\n        }\n        SimplePlaceholderMapper.prototype.toPublicName = function (internalName) {\n            return this.internalToPublic.hasOwnProperty(internalName) ?\n                this.internalToPublic[internalName] :\n                null;\n        };\n        SimplePlaceholderMapper.prototype.toInternalName = function (publicName) {\n            return this.publicToInternal.hasOwnProperty(publicName) ? this.publicToInternal[publicName] :\n                null;\n        };\n        SimplePlaceholderMapper.prototype.visitText = function (text, context) { return null; };\n        SimplePlaceholderMapper.prototype.visitTagPlaceholder = function (ph, context) {\n            this.visitPlaceholderName(ph.startName);\n            _super.prototype.visitTagPlaceholder.call(this, ph, context);\n            this.visitPlaceholderName(ph.closeName);\n        };\n        SimplePlaceholderMapper.prototype.visitPlaceholder = function (ph, context) { this.visitPlaceholderName(ph.name); };\n        SimplePlaceholderMapper.prototype.visitIcuPlaceholder = function (ph, context) {\n            this.visitPlaceholderName(ph.name);\n        };\n        // XMB placeholders could only contains A-Z, 0-9 and _\n        SimplePlaceholderMapper.prototype.visitPlaceholderName = function (internalName) {\n            if (!internalName || this.internalToPublic.hasOwnProperty(internalName)) {\n                return;\n            }\n            var publicName = this.mapName(internalName);\n            if (this.publicToInternal.hasOwnProperty(publicName)) {\n                // Create a new XMB when it has already been used\n                var nextId = this.publicToNextId[publicName];\n                this.publicToNextId[publicName] = nextId + 1;\n                publicName = publicName + \"_\" + nextId;\n            }\n            else {\n                this.publicToNextId[publicName] = 1;\n            }\n            this.internalToPublic[internalName] = publicName;\n            this.publicToInternal[publicName] = internalName;\n        };\n        return SimplePlaceholderMapper;\n    }(RecurseVisitor));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _Visitor$1 = /** @class */ (function () {\n        function _Visitor() {\n        }\n        _Visitor.prototype.visitTag = function (tag) {\n            var _this = this;\n            var strAttrs = this._serializeAttributes(tag.attrs);\n            if (tag.children.length == 0) {\n                return \"<\" + tag.name + strAttrs + \"/>\";\n            }\n            var strChildren = tag.children.map(function (node) { return node.visit(_this); });\n            return \"<\" + tag.name + strAttrs + \">\" + strChildren.join('') + \"</\" + tag.name + \">\";\n        };\n        _Visitor.prototype.visitText = function (text) { return text.value; };\n        _Visitor.prototype.visitDeclaration = function (decl) {\n            return \"<?xml\" + this._serializeAttributes(decl.attrs) + \" ?>\";\n        };\n        _Visitor.prototype._serializeAttributes = function (attrs) {\n            var strAttrs = Object.keys(attrs).map(function (name) { return name + \"=\\\"\" + attrs[name] + \"\\\"\"; }).join(' ');\n            return strAttrs.length > 0 ? ' ' + strAttrs : '';\n        };\n        _Visitor.prototype.visitDoctype = function (doctype) {\n            return \"<!DOCTYPE \" + doctype.rootTag + \" [\\n\" + doctype.dtd + \"\\n]>\";\n        };\n        return _Visitor;\n    }());\n    var _visitor = new _Visitor$1();\n    function serialize(nodes) {\n        return nodes.map(function (node) { return node.visit(_visitor); }).join('');\n    }\n    var Declaration = /** @class */ (function () {\n        function Declaration(unescapedAttrs) {\n            var _this = this;\n            this.attrs = {};\n            Object.keys(unescapedAttrs).forEach(function (k) {\n                _this.attrs[k] = escapeXml(unescapedAttrs[k]);\n            });\n        }\n        Declaration.prototype.visit = function (visitor) { return visitor.visitDeclaration(this); };\n        return Declaration;\n    }());\n    var Doctype = /** @class */ (function () {\n        function Doctype(rootTag, dtd) {\n            this.rootTag = rootTag;\n            this.dtd = dtd;\n        }\n        Doctype.prototype.visit = function (visitor) { return visitor.visitDoctype(this); };\n        return Doctype;\n    }());\n    var Tag = /** @class */ (function () {\n        function Tag(name, unescapedAttrs, children) {\n            if (unescapedAttrs === void 0) { unescapedAttrs = {}; }\n            if (children === void 0) { children = []; }\n            var _this = this;\n            this.name = name;\n            this.children = children;\n            this.attrs = {};\n            Object.keys(unescapedAttrs).forEach(function (k) {\n                _this.attrs[k] = escapeXml(unescapedAttrs[k]);\n            });\n        }\n        Tag.prototype.visit = function (visitor) { return visitor.visitTag(this); };\n        return Tag;\n    }());\n    var Text$2 = /** @class */ (function () {\n        function Text(unescapedValue) {\n            this.value = escapeXml(unescapedValue);\n        }\n        Text.prototype.visit = function (visitor) { return visitor.visitText(this); };\n        return Text;\n    }());\n    var CR = /** @class */ (function (_super) {\n        __extends(CR, _super);\n        function CR(ws) {\n            if (ws === void 0) { ws = 0; }\n            return _super.call(this, \"\\n\" + new Array(ws + 1).join(' ')) || this;\n        }\n        return CR;\n    }(Text$2));\n    var _ESCAPED_CHARS = [\n        [/&/g, '&amp;'],\n        [/\"/g, '&quot;'],\n        [/'/g, '&apos;'],\n        [/</g, '&lt;'],\n        [/>/g, '&gt;'],\n    ];\n    // Escape `_ESCAPED_CHARS` characters in the given text with encoded entities\n    function escapeXml(text) {\n        return _ESCAPED_CHARS.reduce(function (text, entry) { return text.replace(entry[0], entry[1]); }, text);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _VERSION = '1.2';\n    var _XMLNS = 'urn:oasis:names:tc:xliff:document:1.2';\n    // TODO(vicb): make this a param (s/_/-/)\n    var _DEFAULT_SOURCE_LANG = 'en';\n    var _PLACEHOLDER_TAG = 'x';\n    var _MARKER_TAG = 'mrk';\n    var _FILE_TAG = 'file';\n    var _SOURCE_TAG = 'source';\n    var _SEGMENT_SOURCE_TAG = 'seg-source';\n    var _TARGET_TAG = 'target';\n    var _UNIT_TAG = 'trans-unit';\n    var _CONTEXT_GROUP_TAG = 'context-group';\n    var _CONTEXT_TAG = 'context';\n    // http://docs.oasis-open.org/xliff/v1.2/os/xliff-core.html\n    // http://docs.oasis-open.org/xliff/v1.2/xliff-profile-html/xliff-profile-html-1.2.html\n    var Xliff = /** @class */ (function (_super) {\n        __extends(Xliff, _super);\n        function Xliff() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Xliff.prototype.write = function (messages, locale) {\n            var visitor = new _WriteVisitor();\n            var transUnits = [];\n            messages.forEach(function (message) {\n                var _a;\n                var contextTags = [];\n                message.sources.forEach(function (source) {\n                    var contextGroupTag = new Tag(_CONTEXT_GROUP_TAG, { purpose: 'location' });\n                    contextGroupTag.children.push(new CR(10), new Tag(_CONTEXT_TAG, { 'context-type': 'sourcefile' }, [new Text$2(source.filePath)]), new CR(10), new Tag(_CONTEXT_TAG, { 'context-type': 'linenumber' }, [new Text$2(\"\" + source.startLine)]), new CR(8));\n                    contextTags.push(new CR(8), contextGroupTag);\n                });\n                var transUnit = new Tag(_UNIT_TAG, { id: message.id, datatype: 'html' });\n                (_a = transUnit.children).push.apply(_a, __spread([new CR(8), new Tag(_SOURCE_TAG, {}, visitor.serialize(message.nodes))], contextTags));\n                if (message.description) {\n                    transUnit.children.push(new CR(8), new Tag('note', { priority: '1', from: 'description' }, [new Text$2(message.description)]));\n                }\n                if (message.meaning) {\n                    transUnit.children.push(new CR(8), new Tag('note', { priority: '1', from: 'meaning' }, [new Text$2(message.meaning)]));\n                }\n                transUnit.children.push(new CR(6));\n                transUnits.push(new CR(6), transUnit);\n            });\n            var body = new Tag('body', {}, __spread(transUnits, [new CR(4)]));\n            var file = new Tag('file', {\n                'source-language': locale || _DEFAULT_SOURCE_LANG,\n                datatype: 'plaintext',\n                original: 'ng2.template',\n            }, [new CR(4), body, new CR(2)]);\n            var xliff = new Tag('xliff', { version: _VERSION, xmlns: _XMLNS }, [new CR(2), file, new CR()]);\n            return serialize([\n                new Declaration({ version: '1.0', encoding: 'UTF-8' }), new CR(), xliff, new CR()\n            ]);\n        };\n        Xliff.prototype.load = function (content, url) {\n            // xliff to xml nodes\n            var xliffParser = new XliffParser();\n            var _a = xliffParser.parse(content, url), locale = _a.locale, msgIdToHtml = _a.msgIdToHtml, errors = _a.errors;\n            // xml nodes to i18n nodes\n            var i18nNodesByMsgId = {};\n            var converter = new XmlToI18n();\n            Object.keys(msgIdToHtml).forEach(function (msgId) {\n                var _a = converter.convert(msgIdToHtml[msgId], url), i18nNodes = _a.i18nNodes, e = _a.errors;\n                errors.push.apply(errors, __spread(e));\n                i18nNodesByMsgId[msgId] = i18nNodes;\n            });\n            if (errors.length) {\n                throw new Error(\"xliff parse errors:\\n\" + errors.join('\\n'));\n            }\n            return { locale: locale, i18nNodesByMsgId: i18nNodesByMsgId };\n        };\n        Xliff.prototype.digest = function (message) { return digest(message); };\n        return Xliff;\n    }(Serializer));\n    var _WriteVisitor = /** @class */ (function () {\n        function _WriteVisitor() {\n        }\n        _WriteVisitor.prototype.visitText = function (text, context) { return [new Text$2(text.value)]; };\n        _WriteVisitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            var nodes = [];\n            container.children.forEach(function (node) { return nodes.push.apply(nodes, __spread(node.visit(_this))); });\n            return nodes;\n        };\n        _WriteVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var nodes = [new Text$2(\"{\" + icu.expressionPlaceholder + \", \" + icu.type + \", \")];\n            Object.keys(icu.cases).forEach(function (c) {\n                nodes.push.apply(nodes, __spread([new Text$2(c + \" {\")], icu.cases[c].visit(_this), [new Text$2(\"} \")]));\n            });\n            nodes.push(new Text$2(\"}\"));\n            return nodes;\n        };\n        _WriteVisitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var ctype = getCtypeForTag(ph.tag);\n            if (ph.isVoid) {\n                // void tags have no children nor closing tags\n                return [new Tag(_PLACEHOLDER_TAG, { id: ph.startName, ctype: ctype, 'equiv-text': \"<\" + ph.tag + \"/>\" })];\n            }\n            var startTagPh = new Tag(_PLACEHOLDER_TAG, { id: ph.startName, ctype: ctype, 'equiv-text': \"<\" + ph.tag + \">\" });\n            var closeTagPh = new Tag(_PLACEHOLDER_TAG, { id: ph.closeName, ctype: ctype, 'equiv-text': \"</\" + ph.tag + \">\" });\n            return __spread([startTagPh], this.serialize(ph.children), [closeTagPh]);\n        };\n        _WriteVisitor.prototype.visitPlaceholder = function (ph, context) {\n            return [new Tag(_PLACEHOLDER_TAG, { id: ph.name, 'equiv-text': \"{{\" + ph.value + \"}}\" })];\n        };\n        _WriteVisitor.prototype.visitIcuPlaceholder = function (ph, context) {\n            var equivText = \"{\" + ph.value.expression + \", \" + ph.value.type + \", \" + Object.keys(ph.value.cases).map(function (value) { return value + ' {...}'; }).join(' ') + \"}\";\n            return [new Tag(_PLACEHOLDER_TAG, { id: ph.name, 'equiv-text': equivText })];\n        };\n        _WriteVisitor.prototype.serialize = function (nodes) {\n            var _this = this;\n            return [].concat.apply([], __spread(nodes.map(function (node) { return node.visit(_this); })));\n        };\n        return _WriteVisitor;\n    }());\n    // TODO(vicb): add error management (structure)\n    // Extract messages as xml nodes from the xliff file\n    var XliffParser = /** @class */ (function () {\n        function XliffParser() {\n            this._locale = null;\n        }\n        XliffParser.prototype.parse = function (xliff, url) {\n            this._unitMlString = null;\n            this._msgIdToHtml = {};\n            var xml = new XmlParser().parse(xliff, url, false);\n            this._errors = xml.errors;\n            visitAll(this, xml.rootNodes, null);\n            return {\n                msgIdToHtml: this._msgIdToHtml,\n                errors: this._errors,\n                locale: this._locale,\n            };\n        };\n        XliffParser.prototype.visitElement = function (element, context) {\n            switch (element.name) {\n                case _UNIT_TAG:\n                    this._unitMlString = null;\n                    var idAttr = element.attrs.find(function (attr) { return attr.name === 'id'; });\n                    if (!idAttr) {\n                        this._addError(element, \"<\" + _UNIT_TAG + \"> misses the \\\"id\\\" attribute\");\n                    }\n                    else {\n                        var id = idAttr.value;\n                        if (this._msgIdToHtml.hasOwnProperty(id)) {\n                            this._addError(element, \"Duplicated translations for msg \" + id);\n                        }\n                        else {\n                            visitAll(this, element.children, null);\n                            if (typeof this._unitMlString === 'string') {\n                                this._msgIdToHtml[id] = this._unitMlString;\n                            }\n                            else {\n                                this._addError(element, \"Message \" + id + \" misses a translation\");\n                            }\n                        }\n                    }\n                    break;\n                // ignore those tags\n                case _SOURCE_TAG:\n                case _SEGMENT_SOURCE_TAG:\n                    break;\n                case _TARGET_TAG:\n                    var innerTextStart = element.startSourceSpan.end.offset;\n                    var innerTextEnd = element.endSourceSpan.start.offset;\n                    var content = element.startSourceSpan.start.file.content;\n                    var innerText = content.slice(innerTextStart, innerTextEnd);\n                    this._unitMlString = innerText;\n                    break;\n                case _FILE_TAG:\n                    var localeAttr = element.attrs.find(function (attr) { return attr.name === 'target-language'; });\n                    if (localeAttr) {\n                        this._locale = localeAttr.value;\n                    }\n                    visitAll(this, element.children, null);\n                    break;\n                default:\n                    // TODO(vicb): assert file structure, xliff version\n                    // For now only recurse on unhandled nodes\n                    visitAll(this, element.children, null);\n            }\n        };\n        XliffParser.prototype.visitAttribute = function (attribute, context) { };\n        XliffParser.prototype.visitText = function (text, context) { };\n        XliffParser.prototype.visitComment = function (comment, context) { };\n        XliffParser.prototype.visitExpansion = function (expansion, context) { };\n        XliffParser.prototype.visitExpansionCase = function (expansionCase, context) { };\n        XliffParser.prototype._addError = function (node, message) {\n            this._errors.push(new I18nError(node.sourceSpan, message));\n        };\n        return XliffParser;\n    }());\n    // Convert ml nodes (xliff syntax) to i18n nodes\n    var XmlToI18n = /** @class */ (function () {\n        function XmlToI18n() {\n        }\n        XmlToI18n.prototype.convert = function (message, url) {\n            var xmlIcu = new XmlParser().parse(message, url, true);\n            this._errors = xmlIcu.errors;\n            var i18nNodes = this._errors.length > 0 || xmlIcu.rootNodes.length == 0 ?\n                [] : [].concat.apply([], __spread(visitAll(this, xmlIcu.rootNodes)));\n            return {\n                i18nNodes: i18nNodes,\n                errors: this._errors,\n            };\n        };\n        XmlToI18n.prototype.visitText = function (text, context) { return new Text$1(text.value, text.sourceSpan); };\n        XmlToI18n.prototype.visitElement = function (el, context) {\n            if (el.name === _PLACEHOLDER_TAG) {\n                var nameAttr = el.attrs.find(function (attr) { return attr.name === 'id'; });\n                if (nameAttr) {\n                    return new Placeholder('', nameAttr.value, el.sourceSpan);\n                }\n                this._addError(el, \"<\" + _PLACEHOLDER_TAG + \"> misses the \\\"id\\\" attribute\");\n                return null;\n            }\n            if (el.name === _MARKER_TAG) {\n                return [].concat.apply([], __spread(visitAll(this, el.children)));\n            }\n            this._addError(el, \"Unexpected tag\");\n            return null;\n        };\n        XmlToI18n.prototype.visitExpansion = function (icu, context) {\n            var caseMap = {};\n            visitAll(this, icu.cases).forEach(function (c) {\n                caseMap[c.value] = new Container(c.nodes, icu.sourceSpan);\n            });\n            return new Icu(icu.switchValue, icu.type, caseMap, icu.sourceSpan);\n        };\n        XmlToI18n.prototype.visitExpansionCase = function (icuCase, context) {\n            return {\n                value: icuCase.value,\n                nodes: visitAll(this, icuCase.expression),\n            };\n        };\n        XmlToI18n.prototype.visitComment = function (comment, context) { };\n        XmlToI18n.prototype.visitAttribute = function (attribute, context) { };\n        XmlToI18n.prototype._addError = function (node, message) {\n            this._errors.push(new I18nError(node.sourceSpan, message));\n        };\n        return XmlToI18n;\n    }());\n    function getCtypeForTag(tag) {\n        switch (tag.toLowerCase()) {\n            case 'br':\n                return 'lb';\n            case 'img':\n                return 'image';\n            default:\n                return \"x-\" + tag;\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _VERSION$1 = '2.0';\n    var _XMLNS$1 = 'urn:oasis:names:tc:xliff:document:2.0';\n    // TODO(vicb): make this a param (s/_/-/)\n    var _DEFAULT_SOURCE_LANG$1 = 'en';\n    var _PLACEHOLDER_TAG$1 = 'ph';\n    var _PLACEHOLDER_SPANNING_TAG = 'pc';\n    var _MARKER_TAG$1 = 'mrk';\n    var _XLIFF_TAG = 'xliff';\n    var _SOURCE_TAG$1 = 'source';\n    var _TARGET_TAG$1 = 'target';\n    var _UNIT_TAG$1 = 'unit';\n    // http://docs.oasis-open.org/xliff/xliff-core/v2.0/os/xliff-core-v2.0-os.html\n    var Xliff2 = /** @class */ (function (_super) {\n        __extends(Xliff2, _super);\n        function Xliff2() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Xliff2.prototype.write = function (messages, locale) {\n            var visitor = new _WriteVisitor$1();\n            var units = [];\n            messages.forEach(function (message) {\n                var unit = new Tag(_UNIT_TAG$1, { id: message.id });\n                var notes = new Tag('notes');\n                if (message.description || message.meaning) {\n                    if (message.description) {\n                        notes.children.push(new CR(8), new Tag('note', { category: 'description' }, [new Text$2(message.description)]));\n                    }\n                    if (message.meaning) {\n                        notes.children.push(new CR(8), new Tag('note', { category: 'meaning' }, [new Text$2(message.meaning)]));\n                    }\n                }\n                message.sources.forEach(function (source) {\n                    notes.children.push(new CR(8), new Tag('note', { category: 'location' }, [\n                        new Text$2(source.filePath + \":\" + source.startLine + (source.endLine !== source.startLine ? ',' + source.endLine : ''))\n                    ]));\n                });\n                notes.children.push(new CR(6));\n                unit.children.push(new CR(6), notes);\n                var segment = new Tag('segment');\n                segment.children.push(new CR(8), new Tag(_SOURCE_TAG$1, {}, visitor.serialize(message.nodes)), new CR(6));\n                unit.children.push(new CR(6), segment, new CR(4));\n                units.push(new CR(4), unit);\n            });\n            var file = new Tag('file', { 'original': 'ng.template', id: 'ngi18n' }, __spread(units, [new CR(2)]));\n            var xliff = new Tag(_XLIFF_TAG, { version: _VERSION$1, xmlns: _XMLNS$1, srcLang: locale || _DEFAULT_SOURCE_LANG$1 }, [new CR(2), file, new CR()]);\n            return serialize([\n                new Declaration({ version: '1.0', encoding: 'UTF-8' }), new CR(), xliff, new CR()\n            ]);\n        };\n        Xliff2.prototype.load = function (content, url) {\n            // xliff to xml nodes\n            var xliff2Parser = new Xliff2Parser();\n            var _a = xliff2Parser.parse(content, url), locale = _a.locale, msgIdToHtml = _a.msgIdToHtml, errors = _a.errors;\n            // xml nodes to i18n nodes\n            var i18nNodesByMsgId = {};\n            var converter = new XmlToI18n$1();\n            Object.keys(msgIdToHtml).forEach(function (msgId) {\n                var _a = converter.convert(msgIdToHtml[msgId], url), i18nNodes = _a.i18nNodes, e = _a.errors;\n                errors.push.apply(errors, __spread(e));\n                i18nNodesByMsgId[msgId] = i18nNodes;\n            });\n            if (errors.length) {\n                throw new Error(\"xliff2 parse errors:\\n\" + errors.join('\\n'));\n            }\n            return { locale: locale, i18nNodesByMsgId: i18nNodesByMsgId };\n        };\n        Xliff2.prototype.digest = function (message) { return decimalDigest(message); };\n        return Xliff2;\n    }(Serializer));\n    var _WriteVisitor$1 = /** @class */ (function () {\n        function _WriteVisitor() {\n        }\n        _WriteVisitor.prototype.visitText = function (text, context) { return [new Text$2(text.value)]; };\n        _WriteVisitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            var nodes = [];\n            container.children.forEach(function (node) { return nodes.push.apply(nodes, __spread(node.visit(_this))); });\n            return nodes;\n        };\n        _WriteVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var nodes = [new Text$2(\"{\" + icu.expressionPlaceholder + \", \" + icu.type + \", \")];\n            Object.keys(icu.cases).forEach(function (c) {\n                nodes.push.apply(nodes, __spread([new Text$2(c + \" {\")], icu.cases[c].visit(_this), [new Text$2(\"} \")]));\n            });\n            nodes.push(new Text$2(\"}\"));\n            return nodes;\n        };\n        _WriteVisitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var _this = this;\n            var type = getTypeForTag(ph.tag);\n            if (ph.isVoid) {\n                var tagPh = new Tag(_PLACEHOLDER_TAG$1, {\n                    id: (this._nextPlaceholderId++).toString(),\n                    equiv: ph.startName,\n                    type: type,\n                    disp: \"<\" + ph.tag + \"/>\",\n                });\n                return [tagPh];\n            }\n            var tagPc = new Tag(_PLACEHOLDER_SPANNING_TAG, {\n                id: (this._nextPlaceholderId++).toString(),\n                equivStart: ph.startName,\n                equivEnd: ph.closeName,\n                type: type,\n                dispStart: \"<\" + ph.tag + \">\",\n                dispEnd: \"</\" + ph.tag + \">\",\n            });\n            var nodes = [].concat.apply([], __spread(ph.children.map(function (node) { return node.visit(_this); })));\n            if (nodes.length) {\n                nodes.forEach(function (node) { return tagPc.children.push(node); });\n            }\n            else {\n                tagPc.children.push(new Text$2(''));\n            }\n            return [tagPc];\n        };\n        _WriteVisitor.prototype.visitPlaceholder = function (ph, context) {\n            var idStr = (this._nextPlaceholderId++).toString();\n            return [new Tag(_PLACEHOLDER_TAG$1, {\n                    id: idStr,\n                    equiv: ph.name,\n                    disp: \"{{\" + ph.value + \"}}\",\n                })];\n        };\n        _WriteVisitor.prototype.visitIcuPlaceholder = function (ph, context) {\n            var cases = Object.keys(ph.value.cases).map(function (value) { return value + ' {...}'; }).join(' ');\n            var idStr = (this._nextPlaceholderId++).toString();\n            return [new Tag(_PLACEHOLDER_TAG$1, { id: idStr, equiv: ph.name, disp: \"{\" + ph.value.expression + \", \" + ph.value.type + \", \" + cases + \"}\" })];\n        };\n        _WriteVisitor.prototype.serialize = function (nodes) {\n            var _this = this;\n            this._nextPlaceholderId = 0;\n            return [].concat.apply([], __spread(nodes.map(function (node) { return node.visit(_this); })));\n        };\n        return _WriteVisitor;\n    }());\n    // Extract messages as xml nodes from the xliff file\n    var Xliff2Parser = /** @class */ (function () {\n        function Xliff2Parser() {\n            this._locale = null;\n        }\n        Xliff2Parser.prototype.parse = function (xliff, url) {\n            this._unitMlString = null;\n            this._msgIdToHtml = {};\n            var xml = new XmlParser().parse(xliff, url, false);\n            this._errors = xml.errors;\n            visitAll(this, xml.rootNodes, null);\n            return {\n                msgIdToHtml: this._msgIdToHtml,\n                errors: this._errors,\n                locale: this._locale,\n            };\n        };\n        Xliff2Parser.prototype.visitElement = function (element, context) {\n            switch (element.name) {\n                case _UNIT_TAG$1:\n                    this._unitMlString = null;\n                    var idAttr = element.attrs.find(function (attr) { return attr.name === 'id'; });\n                    if (!idAttr) {\n                        this._addError(element, \"<\" + _UNIT_TAG$1 + \"> misses the \\\"id\\\" attribute\");\n                    }\n                    else {\n                        var id = idAttr.value;\n                        if (this._msgIdToHtml.hasOwnProperty(id)) {\n                            this._addError(element, \"Duplicated translations for msg \" + id);\n                        }\n                        else {\n                            visitAll(this, element.children, null);\n                            if (typeof this._unitMlString === 'string') {\n                                this._msgIdToHtml[id] = this._unitMlString;\n                            }\n                            else {\n                                this._addError(element, \"Message \" + id + \" misses a translation\");\n                            }\n                        }\n                    }\n                    break;\n                case _SOURCE_TAG$1:\n                    // ignore source message\n                    break;\n                case _TARGET_TAG$1:\n                    var innerTextStart = element.startSourceSpan.end.offset;\n                    var innerTextEnd = element.endSourceSpan.start.offset;\n                    var content = element.startSourceSpan.start.file.content;\n                    var innerText = content.slice(innerTextStart, innerTextEnd);\n                    this._unitMlString = innerText;\n                    break;\n                case _XLIFF_TAG:\n                    var localeAttr = element.attrs.find(function (attr) { return attr.name === 'trgLang'; });\n                    if (localeAttr) {\n                        this._locale = localeAttr.value;\n                    }\n                    var versionAttr = element.attrs.find(function (attr) { return attr.name === 'version'; });\n                    if (versionAttr) {\n                        var version = versionAttr.value;\n                        if (version !== '2.0') {\n                            this._addError(element, \"The XLIFF file version \" + version + \" is not compatible with XLIFF 2.0 serializer\");\n                        }\n                        else {\n                            visitAll(this, element.children, null);\n                        }\n                    }\n                    break;\n                default:\n                    visitAll(this, element.children, null);\n            }\n        };\n        Xliff2Parser.prototype.visitAttribute = function (attribute, context) { };\n        Xliff2Parser.prototype.visitText = function (text, context) { };\n        Xliff2Parser.prototype.visitComment = function (comment, context) { };\n        Xliff2Parser.prototype.visitExpansion = function (expansion, context) { };\n        Xliff2Parser.prototype.visitExpansionCase = function (expansionCase, context) { };\n        Xliff2Parser.prototype._addError = function (node, message) {\n            this._errors.push(new I18nError(node.sourceSpan, message));\n        };\n        return Xliff2Parser;\n    }());\n    // Convert ml nodes (xliff syntax) to i18n nodes\n    var XmlToI18n$1 = /** @class */ (function () {\n        function XmlToI18n() {\n        }\n        XmlToI18n.prototype.convert = function (message, url) {\n            var xmlIcu = new XmlParser().parse(message, url, true);\n            this._errors = xmlIcu.errors;\n            var i18nNodes = this._errors.length > 0 || xmlIcu.rootNodes.length == 0 ?\n                [] : [].concat.apply([], __spread(visitAll(this, xmlIcu.rootNodes)));\n            return {\n                i18nNodes: i18nNodes,\n                errors: this._errors,\n            };\n        };\n        XmlToI18n.prototype.visitText = function (text, context) { return new Text$1(text.value, text.sourceSpan); };\n        XmlToI18n.prototype.visitElement = function (el, context) {\n            var _this = this;\n            switch (el.name) {\n                case _PLACEHOLDER_TAG$1:\n                    var nameAttr = el.attrs.find(function (attr) { return attr.name === 'equiv'; });\n                    if (nameAttr) {\n                        return [new Placeholder('', nameAttr.value, el.sourceSpan)];\n                    }\n                    this._addError(el, \"<\" + _PLACEHOLDER_TAG$1 + \"> misses the \\\"equiv\\\" attribute\");\n                    break;\n                case _PLACEHOLDER_SPANNING_TAG:\n                    var startAttr = el.attrs.find(function (attr) { return attr.name === 'equivStart'; });\n                    var endAttr = el.attrs.find(function (attr) { return attr.name === 'equivEnd'; });\n                    if (!startAttr) {\n                        this._addError(el, \"<\" + _PLACEHOLDER_TAG$1 + \"> misses the \\\"equivStart\\\" attribute\");\n                    }\n                    else if (!endAttr) {\n                        this._addError(el, \"<\" + _PLACEHOLDER_TAG$1 + \"> misses the \\\"equivEnd\\\" attribute\");\n                    }\n                    else {\n                        var startId = startAttr.value;\n                        var endId = endAttr.value;\n                        var nodes = [];\n                        return nodes.concat.apply(nodes, __spread([new Placeholder('', startId, el.sourceSpan)], el.children.map(function (node) { return node.visit(_this, null); }), [new Placeholder('', endId, el.sourceSpan)]));\n                    }\n                    break;\n                case _MARKER_TAG$1:\n                    return [].concat.apply([], __spread(visitAll(this, el.children)));\n                default:\n                    this._addError(el, \"Unexpected tag\");\n            }\n            return null;\n        };\n        XmlToI18n.prototype.visitExpansion = function (icu, context) {\n            var caseMap = {};\n            visitAll(this, icu.cases).forEach(function (c) {\n                caseMap[c.value] = new Container(c.nodes, icu.sourceSpan);\n            });\n            return new Icu(icu.switchValue, icu.type, caseMap, icu.sourceSpan);\n        };\n        XmlToI18n.prototype.visitExpansionCase = function (icuCase, context) {\n            return {\n                value: icuCase.value,\n                nodes: [].concat.apply([], __spread(visitAll(this, icuCase.expression))),\n            };\n        };\n        XmlToI18n.prototype.visitComment = function (comment, context) { };\n        XmlToI18n.prototype.visitAttribute = function (attribute, context) { };\n        XmlToI18n.prototype._addError = function (node, message) {\n            this._errors.push(new I18nError(node.sourceSpan, message));\n        };\n        return XmlToI18n;\n    }());\n    function getTypeForTag(tag) {\n        switch (tag.toLowerCase()) {\n            case 'br':\n            case 'b':\n            case 'i':\n            case 'u':\n                return 'fmt';\n            case 'img':\n                return 'image';\n            case 'a':\n                return 'link';\n            default:\n                return 'other';\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _MESSAGES_TAG = 'messagebundle';\n    var _MESSAGE_TAG = 'msg';\n    var _PLACEHOLDER_TAG$2 = 'ph';\n    var _EXEMPLE_TAG = 'ex';\n    var _SOURCE_TAG$2 = 'source';\n    var _DOCTYPE = \"<!ELEMENT messagebundle (msg)*>\\n<!ATTLIST messagebundle class CDATA #IMPLIED>\\n\\n<!ELEMENT msg (#PCDATA|ph|source)*>\\n<!ATTLIST msg id CDATA #IMPLIED>\\n<!ATTLIST msg seq CDATA #IMPLIED>\\n<!ATTLIST msg name CDATA #IMPLIED>\\n<!ATTLIST msg desc CDATA #IMPLIED>\\n<!ATTLIST msg meaning CDATA #IMPLIED>\\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\\n<!ATTLIST msg xml:space (default|preserve) \\\"default\\\">\\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\\n\\n<!ELEMENT source (#PCDATA)>\\n\\n<!ELEMENT ph (#PCDATA|ex)*>\\n<!ATTLIST ph name CDATA #REQUIRED>\\n\\n<!ELEMENT ex (#PCDATA)>\";\n    var Xmb = /** @class */ (function (_super) {\n        __extends(Xmb, _super);\n        function Xmb() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Xmb.prototype.write = function (messages, locale) {\n            var exampleVisitor = new ExampleVisitor();\n            var visitor = new _Visitor$2();\n            var rootNode = new Tag(_MESSAGES_TAG);\n            messages.forEach(function (message) {\n                var attrs = { id: message.id };\n                if (message.description) {\n                    attrs['desc'] = message.description;\n                }\n                if (message.meaning) {\n                    attrs['meaning'] = message.meaning;\n                }\n                var sourceTags = [];\n                message.sources.forEach(function (source) {\n                    sourceTags.push(new Tag(_SOURCE_TAG$2, {}, [\n                        new Text$2(source.filePath + \":\" + source.startLine + (source.endLine !== source.startLine ? ',' + source.endLine : ''))\n                    ]));\n                });\n                rootNode.children.push(new CR(2), new Tag(_MESSAGE_TAG, attrs, __spread(sourceTags, visitor.serialize(message.nodes))));\n            });\n            rootNode.children.push(new CR());\n            return serialize([\n                new Declaration({ version: '1.0', encoding: 'UTF-8' }),\n                new CR(),\n                new Doctype(_MESSAGES_TAG, _DOCTYPE),\n                new CR(),\n                exampleVisitor.addDefaultExamples(rootNode),\n                new CR(),\n            ]);\n        };\n        Xmb.prototype.load = function (content, url) {\n            throw new Error('Unsupported');\n        };\n        Xmb.prototype.digest = function (message) { return digest$1(message); };\n        Xmb.prototype.createNameMapper = function (message) {\n            return new SimplePlaceholderMapper(message, toPublicName);\n        };\n        return Xmb;\n    }(Serializer));\n    var _Visitor$2 = /** @class */ (function () {\n        function _Visitor() {\n        }\n        _Visitor.prototype.visitText = function (text, context) { return [new Text$2(text.value)]; };\n        _Visitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            var nodes = [];\n            container.children.forEach(function (node) { return nodes.push.apply(nodes, __spread(node.visit(_this))); });\n            return nodes;\n        };\n        _Visitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var nodes = [new Text$2(\"{\" + icu.expressionPlaceholder + \", \" + icu.type + \", \")];\n            Object.keys(icu.cases).forEach(function (c) {\n                nodes.push.apply(nodes, __spread([new Text$2(c + \" {\")], icu.cases[c].visit(_this), [new Text$2(\"} \")]));\n            });\n            nodes.push(new Text$2(\"}\"));\n            return nodes;\n        };\n        _Visitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var startEx = new Tag(_EXEMPLE_TAG, {}, [new Text$2(\"<\" + ph.tag + \">\")]);\n            var startTagPh = new Tag(_PLACEHOLDER_TAG$2, { name: ph.startName }, [startEx]);\n            if (ph.isVoid) {\n                // void tags have no children nor closing tags\n                return [startTagPh];\n            }\n            var closeEx = new Tag(_EXEMPLE_TAG, {}, [new Text$2(\"</\" + ph.tag + \">\")]);\n            var closeTagPh = new Tag(_PLACEHOLDER_TAG$2, { name: ph.closeName }, [closeEx]);\n            return __spread([startTagPh], this.serialize(ph.children), [closeTagPh]);\n        };\n        _Visitor.prototype.visitPlaceholder = function (ph, context) {\n            var exTag = new Tag(_EXEMPLE_TAG, {}, [new Text$2(\"{{\" + ph.value + \"}}\")]);\n            return [new Tag(_PLACEHOLDER_TAG$2, { name: ph.name }, [exTag])];\n        };\n        _Visitor.prototype.visitIcuPlaceholder = function (ph, context) {\n            var exTag = new Tag(_EXEMPLE_TAG, {}, [\n                new Text$2(\"{\" + ph.value.expression + \", \" + ph.value.type + \", \" + Object.keys(ph.value.cases).map(function (value) { return value + ' {...}'; }).join(' ') + \"}\")\n            ]);\n            return [new Tag(_PLACEHOLDER_TAG$2, { name: ph.name }, [exTag])];\n        };\n        _Visitor.prototype.serialize = function (nodes) {\n            var _this = this;\n            return [].concat.apply([], __spread(nodes.map(function (node) { return node.visit(_this); })));\n        };\n        return _Visitor;\n    }());\n    function digest$1(message) {\n        return decimalDigest(message);\n    }\n    // TC requires at least one non-empty example on placeholders\n    var ExampleVisitor = /** @class */ (function () {\n        function ExampleVisitor() {\n        }\n        ExampleVisitor.prototype.addDefaultExamples = function (node) {\n            node.visit(this);\n            return node;\n        };\n        ExampleVisitor.prototype.visitTag = function (tag) {\n            var _this = this;\n            if (tag.name === _PLACEHOLDER_TAG$2) {\n                if (!tag.children || tag.children.length == 0) {\n                    var exText = new Text$2(tag.attrs['name'] || '...');\n                    tag.children = [new Tag(_EXEMPLE_TAG, {}, [exText])];\n                }\n            }\n            else if (tag.children) {\n                tag.children.forEach(function (node) { return node.visit(_this); });\n            }\n        };\n        ExampleVisitor.prototype.visitText = function (text) { };\n        ExampleVisitor.prototype.visitDeclaration = function (decl) { };\n        ExampleVisitor.prototype.visitDoctype = function (doctype) { };\n        return ExampleVisitor;\n    }());\n    // XMB/XTB placeholders can only contain A-Z, 0-9 and _\n    function toPublicName(internalName) {\n        return internalName.toUpperCase().replace(/[^A-Z0-9_]/g, '_');\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _TRANSLATIONS_TAG = 'translationbundle';\n    var _TRANSLATION_TAG = 'translation';\n    var _PLACEHOLDER_TAG$3 = 'ph';\n    var Xtb = /** @class */ (function (_super) {\n        __extends(Xtb, _super);\n        function Xtb() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Xtb.prototype.write = function (messages, locale) { throw new Error('Unsupported'); };\n        Xtb.prototype.load = function (content, url) {\n            // xtb to xml nodes\n            var xtbParser = new XtbParser();\n            var _a = xtbParser.parse(content, url), locale = _a.locale, msgIdToHtml = _a.msgIdToHtml, errors = _a.errors;\n            // xml nodes to i18n nodes\n            var i18nNodesByMsgId = {};\n            var converter = new XmlToI18n$2();\n            // Because we should be able to load xtb files that rely on features not supported by angular,\n            // we need to delay the conversion of html to i18n nodes so that non angular messages are not\n            // converted\n            Object.keys(msgIdToHtml).forEach(function (msgId) {\n                var valueFn = function () {\n                    var _a = converter.convert(msgIdToHtml[msgId], url), i18nNodes = _a.i18nNodes, errors = _a.errors;\n                    if (errors.length) {\n                        throw new Error(\"xtb parse errors:\\n\" + errors.join('\\n'));\n                    }\n                    return i18nNodes;\n                };\n                createLazyProperty(i18nNodesByMsgId, msgId, valueFn);\n            });\n            if (errors.length) {\n                throw new Error(\"xtb parse errors:\\n\" + errors.join('\\n'));\n            }\n            return { locale: locale, i18nNodesByMsgId: i18nNodesByMsgId };\n        };\n        Xtb.prototype.digest = function (message) { return digest$1(message); };\n        Xtb.prototype.createNameMapper = function (message) {\n            return new SimplePlaceholderMapper(message, toPublicName);\n        };\n        return Xtb;\n    }(Serializer));\n    function createLazyProperty(messages, id, valueFn) {\n        Object.defineProperty(messages, id, {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                var value = valueFn();\n                Object.defineProperty(messages, id, { enumerable: true, value: value });\n                return value;\n            },\n            set: function (_) { throw new Error('Could not overwrite an XTB translation'); },\n        });\n    }\n    // Extract messages as xml nodes from the xtb file\n    var XtbParser = /** @class */ (function () {\n        function XtbParser() {\n            this._locale = null;\n        }\n        XtbParser.prototype.parse = function (xtb, url) {\n            this._bundleDepth = 0;\n            this._msgIdToHtml = {};\n            // We can not parse the ICU messages at this point as some messages might not originate\n            // from Angular that could not be lex'd.\n            var xml = new XmlParser().parse(xtb, url, false);\n            this._errors = xml.errors;\n            visitAll(this, xml.rootNodes);\n            return {\n                msgIdToHtml: this._msgIdToHtml,\n                errors: this._errors,\n                locale: this._locale,\n            };\n        };\n        XtbParser.prototype.visitElement = function (element, context) {\n            switch (element.name) {\n                case _TRANSLATIONS_TAG:\n                    this._bundleDepth++;\n                    if (this._bundleDepth > 1) {\n                        this._addError(element, \"<\" + _TRANSLATIONS_TAG + \"> elements can not be nested\");\n                    }\n                    var langAttr = element.attrs.find(function (attr) { return attr.name === 'lang'; });\n                    if (langAttr) {\n                        this._locale = langAttr.value;\n                    }\n                    visitAll(this, element.children, null);\n                    this._bundleDepth--;\n                    break;\n                case _TRANSLATION_TAG:\n                    var idAttr = element.attrs.find(function (attr) { return attr.name === 'id'; });\n                    if (!idAttr) {\n                        this._addError(element, \"<\" + _TRANSLATION_TAG + \"> misses the \\\"id\\\" attribute\");\n                    }\n                    else {\n                        var id = idAttr.value;\n                        if (this._msgIdToHtml.hasOwnProperty(id)) {\n                            this._addError(element, \"Duplicated translations for msg \" + id);\n                        }\n                        else {\n                            var innerTextStart = element.startSourceSpan.end.offset;\n                            var innerTextEnd = element.endSourceSpan.start.offset;\n                            var content = element.startSourceSpan.start.file.content;\n                            var innerText = content.slice(innerTextStart, innerTextEnd);\n                            this._msgIdToHtml[id] = innerText;\n                        }\n                    }\n                    break;\n                default:\n                    this._addError(element, 'Unexpected tag');\n            }\n        };\n        XtbParser.prototype.visitAttribute = function (attribute, context) { };\n        XtbParser.prototype.visitText = function (text, context) { };\n        XtbParser.prototype.visitComment = function (comment, context) { };\n        XtbParser.prototype.visitExpansion = function (expansion, context) { };\n        XtbParser.prototype.visitExpansionCase = function (expansionCase, context) { };\n        XtbParser.prototype._addError = function (node, message) {\n            this._errors.push(new I18nError(node.sourceSpan, message));\n        };\n        return XtbParser;\n    }());\n    // Convert ml nodes (xtb syntax) to i18n nodes\n    var XmlToI18n$2 = /** @class */ (function () {\n        function XmlToI18n() {\n        }\n        XmlToI18n.prototype.convert = function (message, url) {\n            var xmlIcu = new XmlParser().parse(message, url, true);\n            this._errors = xmlIcu.errors;\n            var i18nNodes = this._errors.length > 0 || xmlIcu.rootNodes.length == 0 ?\n                [] :\n                visitAll(this, xmlIcu.rootNodes);\n            return {\n                i18nNodes: i18nNodes,\n                errors: this._errors,\n            };\n        };\n        XmlToI18n.prototype.visitText = function (text, context) { return new Text$1(text.value, text.sourceSpan); };\n        XmlToI18n.prototype.visitExpansion = function (icu, context) {\n            var caseMap = {};\n            visitAll(this, icu.cases).forEach(function (c) {\n                caseMap[c.value] = new Container(c.nodes, icu.sourceSpan);\n            });\n            return new Icu(icu.switchValue, icu.type, caseMap, icu.sourceSpan);\n        };\n        XmlToI18n.prototype.visitExpansionCase = function (icuCase, context) {\n            return {\n                value: icuCase.value,\n                nodes: visitAll(this, icuCase.expression),\n            };\n        };\n        XmlToI18n.prototype.visitElement = function (el, context) {\n            if (el.name === _PLACEHOLDER_TAG$3) {\n                var nameAttr = el.attrs.find(function (attr) { return attr.name === 'name'; });\n                if (nameAttr) {\n                    return new Placeholder('', nameAttr.value, el.sourceSpan);\n                }\n                this._addError(el, \"<\" + _PLACEHOLDER_TAG$3 + \"> misses the \\\"name\\\" attribute\");\n            }\n            else {\n                this._addError(el, \"Unexpected tag\");\n            }\n            return null;\n        };\n        XmlToI18n.prototype.visitComment = function (comment, context) { };\n        XmlToI18n.prototype.visitAttribute = function (attribute, context) { };\n        XmlToI18n.prototype._addError = function (node, message) {\n            this._errors.push(new I18nError(node.sourceSpan, message));\n        };\n        return XmlToI18n;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var HtmlParser = /** @class */ (function (_super) {\n        __extends(HtmlParser, _super);\n        function HtmlParser() {\n            return _super.call(this, getHtmlTagDefinition) || this;\n        }\n        HtmlParser.prototype.parse = function (source, url, parseExpansionForms, interpolationConfig) {\n            if (parseExpansionForms === void 0) { parseExpansionForms = false; }\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            return _super.prototype.parse.call(this, source, url, parseExpansionForms, interpolationConfig);\n        };\n        return HtmlParser;\n    }(Parser$1));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A container for translated messages\n     */\n    var TranslationBundle = /** @class */ (function () {\n        function TranslationBundle(_i18nNodesByMsgId, locale, digest, mapperFactory, missingTranslationStrategy, console) {\n            if (_i18nNodesByMsgId === void 0) { _i18nNodesByMsgId = {}; }\n            if (missingTranslationStrategy === void 0) { missingTranslationStrategy = MissingTranslationStrategy.Warning; }\n            this._i18nNodesByMsgId = _i18nNodesByMsgId;\n            this.digest = digest;\n            this.mapperFactory = mapperFactory;\n            this._i18nToHtml = new I18nToHtmlVisitor(_i18nNodesByMsgId, locale, digest, mapperFactory, missingTranslationStrategy, console);\n        }\n        // Creates a `TranslationBundle` by parsing the given `content` with the `serializer`.\n        TranslationBundle.load = function (content, url, serializer, missingTranslationStrategy, console) {\n            var _a = serializer.load(content, url), locale = _a.locale, i18nNodesByMsgId = _a.i18nNodesByMsgId;\n            var digestFn = function (m) { return serializer.digest(m); };\n            var mapperFactory = function (m) { return serializer.createNameMapper(m); };\n            return new TranslationBundle(i18nNodesByMsgId, locale, digestFn, mapperFactory, missingTranslationStrategy, console);\n        };\n        // Returns the translation as HTML nodes from the given source message.\n        TranslationBundle.prototype.get = function (srcMsg) {\n            var html = this._i18nToHtml.convert(srcMsg);\n            if (html.errors.length) {\n                throw new Error(html.errors.join('\\n'));\n            }\n            return html.nodes;\n        };\n        TranslationBundle.prototype.has = function (srcMsg) { return this.digest(srcMsg) in this._i18nNodesByMsgId; };\n        return TranslationBundle;\n    }());\n    var I18nToHtmlVisitor = /** @class */ (function () {\n        function I18nToHtmlVisitor(_i18nNodesByMsgId, _locale, _digest, _mapperFactory, _missingTranslationStrategy, _console) {\n            if (_i18nNodesByMsgId === void 0) { _i18nNodesByMsgId = {}; }\n            this._i18nNodesByMsgId = _i18nNodesByMsgId;\n            this._locale = _locale;\n            this._digest = _digest;\n            this._mapperFactory = _mapperFactory;\n            this._missingTranslationStrategy = _missingTranslationStrategy;\n            this._console = _console;\n            this._contextStack = [];\n            this._errors = [];\n        }\n        I18nToHtmlVisitor.prototype.convert = function (srcMsg) {\n            this._contextStack.length = 0;\n            this._errors.length = 0;\n            // i18n to text\n            var text = this._convertToText(srcMsg);\n            // text to html\n            var url = srcMsg.nodes[0].sourceSpan.start.file.url;\n            var html = new HtmlParser().parse(text, url, true);\n            return {\n                nodes: html.rootNodes,\n                errors: __spread(this._errors, html.errors),\n            };\n        };\n        I18nToHtmlVisitor.prototype.visitText = function (text, context) {\n            // `convert()` uses an `HtmlParser` to return `html.Node`s\n            // we should then make sure that any special characters are escaped\n            return escapeXml(text.value);\n        };\n        I18nToHtmlVisitor.prototype.visitContainer = function (container, context) {\n            var _this = this;\n            return container.children.map(function (n) { return n.visit(_this); }).join('');\n        };\n        I18nToHtmlVisitor.prototype.visitIcu = function (icu, context) {\n            var _this = this;\n            var cases = Object.keys(icu.cases).map(function (k) { return k + \" {\" + icu.cases[k].visit(_this) + \"}\"; });\n            // TODO(vicb): Once all format switch to using expression placeholders\n            // we should throw when the placeholder is not in the source message\n            var exp = this._srcMsg.placeholders.hasOwnProperty(icu.expression) ?\n                this._srcMsg.placeholders[icu.expression] :\n                icu.expression;\n            return \"{\" + exp + \", \" + icu.type + \", \" + cases.join(' ') + \"}\";\n        };\n        I18nToHtmlVisitor.prototype.visitPlaceholder = function (ph, context) {\n            var phName = this._mapper(ph.name);\n            if (this._srcMsg.placeholders.hasOwnProperty(phName)) {\n                return this._srcMsg.placeholders[phName];\n            }\n            if (this._srcMsg.placeholderToMessage.hasOwnProperty(phName)) {\n                return this._convertToText(this._srcMsg.placeholderToMessage[phName]);\n            }\n            this._addError(ph, \"Unknown placeholder \\\"\" + ph.name + \"\\\"\");\n            return '';\n        };\n        // Loaded message contains only placeholders (vs tag and icu placeholders).\n        // However when a translation can not be found, we need to serialize the source message\n        // which can contain tag placeholders\n        I18nToHtmlVisitor.prototype.visitTagPlaceholder = function (ph, context) {\n            var _this = this;\n            var tag = \"\" + ph.tag;\n            var attrs = Object.keys(ph.attrs).map(function (name) { return name + \"=\\\"\" + ph.attrs[name] + \"\\\"\"; }).join(' ');\n            if (ph.isVoid) {\n                return \"<\" + tag + \" \" + attrs + \"/>\";\n            }\n            var children = ph.children.map(function (c) { return c.visit(_this); }).join('');\n            return \"<\" + tag + \" \" + attrs + \">\" + children + \"</\" + tag + \">\";\n        };\n        // Loaded message contains only placeholders (vs tag and icu placeholders).\n        // However when a translation can not be found, we need to serialize the source message\n        // which can contain tag placeholders\n        I18nToHtmlVisitor.prototype.visitIcuPlaceholder = function (ph, context) {\n            // An ICU placeholder references the source message to be serialized\n            return this._convertToText(this._srcMsg.placeholderToMessage[ph.name]);\n        };\n        /**\n         * Convert a source message to a translated text string:\n         * - text nodes are replaced with their translation,\n         * - placeholders are replaced with their content,\n         * - ICU nodes are converted to ICU expressions.\n         */\n        I18nToHtmlVisitor.prototype._convertToText = function (srcMsg) {\n            var _this = this;\n            var id = this._digest(srcMsg);\n            var mapper = this._mapperFactory ? this._mapperFactory(srcMsg) : null;\n            var nodes;\n            this._contextStack.push({ msg: this._srcMsg, mapper: this._mapper });\n            this._srcMsg = srcMsg;\n            if (this._i18nNodesByMsgId.hasOwnProperty(id)) {\n                // When there is a translation use its nodes as the source\n                // And create a mapper to convert serialized placeholder names to internal names\n                nodes = this._i18nNodesByMsgId[id];\n                this._mapper = function (name) { return mapper ? mapper.toInternalName(name) : name; };\n            }\n            else {\n                // When no translation has been found\n                // - report an error / a warning / nothing,\n                // - use the nodes from the original message\n                // - placeholders are already internal and need no mapper\n                if (this._missingTranslationStrategy === MissingTranslationStrategy.Error) {\n                    var ctx = this._locale ? \" for locale \\\"\" + this._locale + \"\\\"\" : '';\n                    this._addError(srcMsg.nodes[0], \"Missing translation for message \\\"\" + id + \"\\\"\" + ctx);\n                }\n                else if (this._console &&\n                    this._missingTranslationStrategy === MissingTranslationStrategy.Warning) {\n                    var ctx = this._locale ? \" for locale \\\"\" + this._locale + \"\\\"\" : '';\n                    this._console.warn(\"Missing translation for message \\\"\" + id + \"\\\"\" + ctx);\n                }\n                nodes = srcMsg.nodes;\n                this._mapper = function (name) { return name; };\n            }\n            var text = nodes.map(function (node) { return node.visit(_this); }).join('');\n            var context = this._contextStack.pop();\n            this._srcMsg = context.msg;\n            this._mapper = context.mapper;\n            return text;\n        };\n        I18nToHtmlVisitor.prototype._addError = function (el, msg) {\n            this._errors.push(new I18nError(el.sourceSpan, msg));\n        };\n        return I18nToHtmlVisitor;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var I18NHtmlParser = /** @class */ (function () {\n        function I18NHtmlParser(_htmlParser, translations, translationsFormat, missingTranslation, console) {\n            if (missingTranslation === void 0) { missingTranslation = MissingTranslationStrategy.Warning; }\n            this._htmlParser = _htmlParser;\n            if (translations) {\n                var serializer = createSerializer(translationsFormat);\n                this._translationBundle =\n                    TranslationBundle.load(translations, 'i18n', serializer, missingTranslation, console);\n            }\n            else {\n                this._translationBundle =\n                    new TranslationBundle({}, null, digest, undefined, missingTranslation, console);\n            }\n        }\n        I18NHtmlParser.prototype.parse = function (source, url, parseExpansionForms, interpolationConfig) {\n            if (parseExpansionForms === void 0) { parseExpansionForms = false; }\n            if (interpolationConfig === void 0) { interpolationConfig = DEFAULT_INTERPOLATION_CONFIG; }\n            var parseResult = this._htmlParser.parse(source, url, parseExpansionForms, interpolationConfig);\n            if (parseResult.errors.length) {\n                return new ParseTreeResult(parseResult.rootNodes, parseResult.errors);\n            }\n            return mergeTranslations(parseResult.rootNodes, this._translationBundle, interpolationConfig, [], {});\n        };\n        return I18NHtmlParser;\n    }());\n    function createSerializer(format) {\n        format = (format || 'xlf').toLowerCase();\n        switch (format) {\n            case 'xmb':\n                return new Xmb();\n            case 'xtb':\n                return new Xtb();\n            case 'xliff2':\n            case 'xlf2':\n                return new Xliff2();\n            case 'xliff':\n            case 'xlf':\n            default:\n                return new Xliff();\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CORE = '@angular/core';\n    var Identifiers = /** @class */ (function () {\n        function Identifiers() {\n        }\n        Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS = {\n            name: 'ANALYZE_FOR_ENTRY_COMPONENTS',\n            moduleName: CORE,\n        };\n        Identifiers.ElementRef = { name: 'ElementRef', moduleName: CORE };\n        Identifiers.NgModuleRef = { name: 'NgModuleRef', moduleName: CORE };\n        Identifiers.ViewContainerRef = { name: 'ViewContainerRef', moduleName: CORE };\n        Identifiers.ChangeDetectorRef = {\n            name: 'ChangeDetectorRef',\n            moduleName: CORE,\n        };\n        Identifiers.QueryList = { name: 'QueryList', moduleName: CORE };\n        Identifiers.TemplateRef = { name: 'TemplateRef', moduleName: CORE };\n        Identifiers.CodegenComponentFactoryResolver = {\n            name: 'ɵCodegenComponentFactoryResolver',\n            moduleName: CORE,\n        };\n        Identifiers.ComponentFactoryResolver = {\n            name: 'ComponentFactoryResolver',\n            moduleName: CORE,\n        };\n        Identifiers.ComponentFactory = { name: 'ComponentFactory', moduleName: CORE };\n        Identifiers.ComponentRef = { name: 'ComponentRef', moduleName: CORE };\n        Identifiers.NgModuleFactory = { name: 'NgModuleFactory', moduleName: CORE };\n        Identifiers.createModuleFactory = {\n            name: 'ɵcmf',\n            moduleName: CORE,\n        };\n        Identifiers.moduleDef = {\n            name: 'ɵmod',\n            moduleName: CORE,\n        };\n        Identifiers.moduleProviderDef = {\n            name: 'ɵmpd',\n            moduleName: CORE,\n        };\n        Identifiers.RegisterModuleFactoryFn = {\n            name: 'ɵregisterModuleFactory',\n            moduleName: CORE,\n        };\n        Identifiers.inject = { name: 'inject', moduleName: CORE };\n        Identifiers.INJECTOR = { name: 'INJECTOR', moduleName: CORE };\n        Identifiers.Injector = { name: 'Injector', moduleName: CORE };\n        Identifiers.defineInjectable = { name: 'defineInjectable', moduleName: CORE };\n        Identifiers.InjectableDef = { name: 'ɵInjectableDef', moduleName: CORE };\n        Identifiers.ViewEncapsulation = {\n            name: 'ViewEncapsulation',\n            moduleName: CORE,\n        };\n        Identifiers.ChangeDetectionStrategy = {\n            name: 'ChangeDetectionStrategy',\n            moduleName: CORE,\n        };\n        Identifiers.SecurityContext = {\n            name: 'SecurityContext',\n            moduleName: CORE,\n        };\n        Identifiers.LOCALE_ID = { name: 'LOCALE_ID', moduleName: CORE };\n        Identifiers.TRANSLATIONS_FORMAT = {\n            name: 'TRANSLATIONS_FORMAT',\n            moduleName: CORE,\n        };\n        Identifiers.inlineInterpolate = {\n            name: 'ɵinlineInterpolate',\n            moduleName: CORE,\n        };\n        Identifiers.interpolate = { name: 'ɵinterpolate', moduleName: CORE };\n        Identifiers.EMPTY_ARRAY = { name: 'ɵEMPTY_ARRAY', moduleName: CORE };\n        Identifiers.EMPTY_MAP = { name: 'ɵEMPTY_MAP', moduleName: CORE };\n        Identifiers.Renderer = { name: 'Renderer', moduleName: CORE };\n        Identifiers.viewDef = { name: 'ɵvid', moduleName: CORE };\n        Identifiers.elementDef = { name: 'ɵeld', moduleName: CORE };\n        Identifiers.anchorDef = { name: 'ɵand', moduleName: CORE };\n        Identifiers.textDef = { name: 'ɵted', moduleName: CORE };\n        Identifiers.directiveDef = { name: 'ɵdid', moduleName: CORE };\n        Identifiers.providerDef = { name: 'ɵprd', moduleName: CORE };\n        Identifiers.queryDef = { name: 'ɵqud', moduleName: CORE };\n        Identifiers.pureArrayDef = { name: 'ɵpad', moduleName: CORE };\n        Identifiers.pureObjectDef = { name: 'ɵpod', moduleName: CORE };\n        Identifiers.purePipeDef = { name: 'ɵppd', moduleName: CORE };\n        Identifiers.pipeDef = { name: 'ɵpid', moduleName: CORE };\n        Identifiers.nodeValue = { name: 'ɵnov', moduleName: CORE };\n        Identifiers.ngContentDef = { name: 'ɵncd', moduleName: CORE };\n        Identifiers.unwrapValue = { name: 'ɵunv', moduleName: CORE };\n        Identifiers.createRendererType2 = { name: 'ɵcrt', moduleName: CORE };\n        // type only\n        Identifiers.RendererType2 = {\n            name: 'RendererType2',\n            moduleName: CORE,\n        };\n        // type only\n        Identifiers.ViewDefinition = {\n            name: 'ɵViewDefinition',\n            moduleName: CORE,\n        };\n        Identifiers.createComponentFactory = { name: 'ɵccf', moduleName: CORE };\n        return Identifiers;\n    }());\n    function createTokenForReference(reference) {\n        return { identifier: { reference: reference } };\n    }\n    function createTokenForExternalReference(reflector, reference) {\n        return createTokenForReference(reflector.resolveExternalReference(reference));\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    //// Types\n    var TypeModifier;\n    (function (TypeModifier) {\n        TypeModifier[TypeModifier[\"Const\"] = 0] = \"Const\";\n    })(TypeModifier || (TypeModifier = {}));\n    var Type$1 = /** @class */ (function () {\n        function Type(modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            this.modifiers = modifiers;\n            if (!modifiers) {\n                this.modifiers = [];\n            }\n        }\n        Type.prototype.hasModifier = function (modifier) { return this.modifiers.indexOf(modifier) !== -1; };\n        return Type;\n    }());\n    (function (BuiltinTypeName) {\n        BuiltinTypeName[BuiltinTypeName[\"Dynamic\"] = 0] = \"Dynamic\";\n        BuiltinTypeName[BuiltinTypeName[\"Bool\"] = 1] = \"Bool\";\n        BuiltinTypeName[BuiltinTypeName[\"String\"] = 2] = \"String\";\n        BuiltinTypeName[BuiltinTypeName[\"Int\"] = 3] = \"Int\";\n        BuiltinTypeName[BuiltinTypeName[\"Number\"] = 4] = \"Number\";\n        BuiltinTypeName[BuiltinTypeName[\"Function\"] = 5] = \"Function\";\n        BuiltinTypeName[BuiltinTypeName[\"Inferred\"] = 6] = \"Inferred\";\n        BuiltinTypeName[BuiltinTypeName[\"None\"] = 7] = \"None\";\n    })(exports.BuiltinTypeName || (exports.BuiltinTypeName = {}));\n    var BuiltinType = /** @class */ (function (_super) {\n        __extends(BuiltinType, _super);\n        function BuiltinType(name, modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, modifiers) || this;\n            _this.name = name;\n            return _this;\n        }\n        BuiltinType.prototype.visitType = function (visitor, context) {\n            return visitor.visitBuiltinType(this, context);\n        };\n        return BuiltinType;\n    }(Type$1));\n    var ExpressionType = /** @class */ (function (_super) {\n        __extends(ExpressionType, _super);\n        function ExpressionType(value, modifiers, typeParams) {\n            if (modifiers === void 0) { modifiers = null; }\n            if (typeParams === void 0) { typeParams = null; }\n            var _this = _super.call(this, modifiers) || this;\n            _this.value = value;\n            _this.typeParams = typeParams;\n            return _this;\n        }\n        ExpressionType.prototype.visitType = function (visitor, context) {\n            return visitor.visitExpressionType(this, context);\n        };\n        return ExpressionType;\n    }(Type$1));\n    var ArrayType = /** @class */ (function (_super) {\n        __extends(ArrayType, _super);\n        function ArrayType(of, modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, modifiers) || this;\n            _this.of = of;\n            return _this;\n        }\n        ArrayType.prototype.visitType = function (visitor, context) {\n            return visitor.visitArrayType(this, context);\n        };\n        return ArrayType;\n    }(Type$1));\n    var MapType = /** @class */ (function (_super) {\n        __extends(MapType, _super);\n        function MapType(valueType, modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, modifiers) || this;\n            _this.valueType = valueType || null;\n            return _this;\n        }\n        MapType.prototype.visitType = function (visitor, context) { return visitor.visitMapType(this, context); };\n        return MapType;\n    }(Type$1));\n    var DYNAMIC_TYPE = new BuiltinType(exports.BuiltinTypeName.Dynamic);\n    var INFERRED_TYPE = new BuiltinType(exports.BuiltinTypeName.Inferred);\n    var BOOL_TYPE = new BuiltinType(exports.BuiltinTypeName.Bool);\n    var INT_TYPE = new BuiltinType(exports.BuiltinTypeName.Int);\n    var NUMBER_TYPE = new BuiltinType(exports.BuiltinTypeName.Number);\n    var STRING_TYPE = new BuiltinType(exports.BuiltinTypeName.String);\n    var FUNCTION_TYPE = new BuiltinType(exports.BuiltinTypeName.Function);\n    var NONE_TYPE = new BuiltinType(exports.BuiltinTypeName.None);\n    (function (BinaryOperator) {\n        BinaryOperator[BinaryOperator[\"Equals\"] = 0] = \"Equals\";\n        BinaryOperator[BinaryOperator[\"NotEquals\"] = 1] = \"NotEquals\";\n        BinaryOperator[BinaryOperator[\"Identical\"] = 2] = \"Identical\";\n        BinaryOperator[BinaryOperator[\"NotIdentical\"] = 3] = \"NotIdentical\";\n        BinaryOperator[BinaryOperator[\"Minus\"] = 4] = \"Minus\";\n        BinaryOperator[BinaryOperator[\"Plus\"] = 5] = \"Plus\";\n        BinaryOperator[BinaryOperator[\"Divide\"] = 6] = \"Divide\";\n        BinaryOperator[BinaryOperator[\"Multiply\"] = 7] = \"Multiply\";\n        BinaryOperator[BinaryOperator[\"Modulo\"] = 8] = \"Modulo\";\n        BinaryOperator[BinaryOperator[\"And\"] = 9] = \"And\";\n        BinaryOperator[BinaryOperator[\"Or\"] = 10] = \"Or\";\n        BinaryOperator[BinaryOperator[\"BitwiseAnd\"] = 11] = \"BitwiseAnd\";\n        BinaryOperator[BinaryOperator[\"Lower\"] = 12] = \"Lower\";\n        BinaryOperator[BinaryOperator[\"LowerEquals\"] = 13] = \"LowerEquals\";\n        BinaryOperator[BinaryOperator[\"Bigger\"] = 14] = \"Bigger\";\n        BinaryOperator[BinaryOperator[\"BiggerEquals\"] = 15] = \"BiggerEquals\";\n    })(exports.BinaryOperator || (exports.BinaryOperator = {}));\n    function nullSafeIsEquivalent(base, other) {\n        if (base == null || other == null) {\n            return base == other;\n        }\n        return base.isEquivalent(other);\n    }\n    function areAllEquivalent(base, other) {\n        var len = base.length;\n        if (len !== other.length) {\n            return false;\n        }\n        for (var i = 0; i < len; i++) {\n            if (!base[i].isEquivalent(other[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    var Expression = /** @class */ (function () {\n        function Expression(type, sourceSpan) {\n            this.type = type || null;\n            this.sourceSpan = sourceSpan || null;\n        }\n        Expression.prototype.prop = function (name, sourceSpan) {\n            return new ReadPropExpr(this, name, null, sourceSpan);\n        };\n        Expression.prototype.key = function (index, type, sourceSpan) {\n            return new ReadKeyExpr(this, index, type, sourceSpan);\n        };\n        Expression.prototype.callMethod = function (name, params, sourceSpan) {\n            return new InvokeMethodExpr(this, name, params, null, sourceSpan);\n        };\n        Expression.prototype.callFn = function (params, sourceSpan) {\n            return new InvokeFunctionExpr(this, params, null, sourceSpan);\n        };\n        Expression.prototype.instantiate = function (params, type, sourceSpan) {\n            return new InstantiateExpr(this, params, type, sourceSpan);\n        };\n        Expression.prototype.conditional = function (trueCase, falseCase, sourceSpan) {\n            if (falseCase === void 0) { falseCase = null; }\n            return new ConditionalExpr(this, trueCase, falseCase, null, sourceSpan);\n        };\n        Expression.prototype.equals = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Equals, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.notEquals = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.NotEquals, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.identical = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Identical, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.notIdentical = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.NotIdentical, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.minus = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Minus, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.plus = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Plus, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.divide = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Divide, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.multiply = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Multiply, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.modulo = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Modulo, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.and = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.And, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.bitwiseAnd = function (rhs, sourceSpan, parens) {\n            if (parens === void 0) { parens = true; }\n            return new BinaryOperatorExpr(exports.BinaryOperator.BitwiseAnd, this, rhs, null, sourceSpan, parens);\n        };\n        Expression.prototype.or = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Or, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.lower = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Lower, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.lowerEquals = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.LowerEquals, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.bigger = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.Bigger, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.biggerEquals = function (rhs, sourceSpan) {\n            return new BinaryOperatorExpr(exports.BinaryOperator.BiggerEquals, this, rhs, null, sourceSpan);\n        };\n        Expression.prototype.isBlank = function (sourceSpan) {\n            // Note: We use equals by purpose here to compare to null and undefined in JS.\n            // We use the typed null to allow strictNullChecks to narrow types.\n            return this.equals(TYPED_NULL_EXPR, sourceSpan);\n        };\n        Expression.prototype.cast = function (type, sourceSpan) {\n            return new CastExpr(this, type, sourceSpan);\n        };\n        Expression.prototype.toStmt = function () { return new ExpressionStatement(this, null); };\n        return Expression;\n    }());\n    (function (BuiltinVar) {\n        BuiltinVar[BuiltinVar[\"This\"] = 0] = \"This\";\n        BuiltinVar[BuiltinVar[\"Super\"] = 1] = \"Super\";\n        BuiltinVar[BuiltinVar[\"CatchError\"] = 2] = \"CatchError\";\n        BuiltinVar[BuiltinVar[\"CatchStack\"] = 3] = \"CatchStack\";\n    })(exports.BuiltinVar || (exports.BuiltinVar = {}));\n    var ReadVarExpr = /** @class */ (function (_super) {\n        __extends(ReadVarExpr, _super);\n        function ReadVarExpr(name, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            if (typeof name === 'string') {\n                _this.name = name;\n                _this.builtin = null;\n            }\n            else {\n                _this.name = null;\n                _this.builtin = name;\n            }\n            return _this;\n        }\n        ReadVarExpr.prototype.isEquivalent = function (e) {\n            return e instanceof ReadVarExpr && this.name === e.name && this.builtin === e.builtin;\n        };\n        ReadVarExpr.prototype.isConstant = function () { return false; };\n        ReadVarExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitReadVarExpr(this, context);\n        };\n        ReadVarExpr.prototype.set = function (value) {\n            if (!this.name) {\n                throw new Error(\"Built in variable \" + this.builtin + \" can not be assigned to.\");\n            }\n            return new WriteVarExpr(this.name, value, null, this.sourceSpan);\n        };\n        return ReadVarExpr;\n    }(Expression));\n    var TypeofExpr = /** @class */ (function (_super) {\n        __extends(TypeofExpr, _super);\n        function TypeofExpr(expr, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.expr = expr;\n            return _this;\n        }\n        TypeofExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitTypeofExpr(this, context);\n        };\n        TypeofExpr.prototype.isEquivalent = function (e) {\n            return e instanceof TypeofExpr && e.expr.isEquivalent(this.expr);\n        };\n        TypeofExpr.prototype.isConstant = function () { return this.expr.isConstant(); };\n        return TypeofExpr;\n    }(Expression));\n    var WrappedNodeExpr = /** @class */ (function (_super) {\n        __extends(WrappedNodeExpr, _super);\n        function WrappedNodeExpr(node, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.node = node;\n            return _this;\n        }\n        WrappedNodeExpr.prototype.isEquivalent = function (e) {\n            return e instanceof WrappedNodeExpr && this.node === e.node;\n        };\n        WrappedNodeExpr.prototype.isConstant = function () { return false; };\n        WrappedNodeExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitWrappedNodeExpr(this, context);\n        };\n        return WrappedNodeExpr;\n    }(Expression));\n    var WriteVarExpr = /** @class */ (function (_super) {\n        __extends(WriteVarExpr, _super);\n        function WriteVarExpr(name, value, type, sourceSpan) {\n            var _this = _super.call(this, type || value.type, sourceSpan) || this;\n            _this.name = name;\n            _this.value = value;\n            return _this;\n        }\n        WriteVarExpr.prototype.isEquivalent = function (e) {\n            return e instanceof WriteVarExpr && this.name === e.name && this.value.isEquivalent(e.value);\n        };\n        WriteVarExpr.prototype.isConstant = function () { return false; };\n        WriteVarExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitWriteVarExpr(this, context);\n        };\n        WriteVarExpr.prototype.toDeclStmt = function (type, modifiers) {\n            return new DeclareVarStmt(this.name, this.value, type, modifiers, this.sourceSpan);\n        };\n        return WriteVarExpr;\n    }(Expression));\n    var WriteKeyExpr = /** @class */ (function (_super) {\n        __extends(WriteKeyExpr, _super);\n        function WriteKeyExpr(receiver, index, value, type, sourceSpan) {\n            var _this = _super.call(this, type || value.type, sourceSpan) || this;\n            _this.receiver = receiver;\n            _this.index = index;\n            _this.value = value;\n            return _this;\n        }\n        WriteKeyExpr.prototype.isEquivalent = function (e) {\n            return e instanceof WriteKeyExpr && this.receiver.isEquivalent(e.receiver) &&\n                this.index.isEquivalent(e.index) && this.value.isEquivalent(e.value);\n        };\n        WriteKeyExpr.prototype.isConstant = function () { return false; };\n        WriteKeyExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitWriteKeyExpr(this, context);\n        };\n        return WriteKeyExpr;\n    }(Expression));\n    var WritePropExpr = /** @class */ (function (_super) {\n        __extends(WritePropExpr, _super);\n        function WritePropExpr(receiver, name, value, type, sourceSpan) {\n            var _this = _super.call(this, type || value.type, sourceSpan) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            _this.value = value;\n            return _this;\n        }\n        WritePropExpr.prototype.isEquivalent = function (e) {\n            return e instanceof WritePropExpr && this.receiver.isEquivalent(e.receiver) &&\n                this.name === e.name && this.value.isEquivalent(e.value);\n        };\n        WritePropExpr.prototype.isConstant = function () { return false; };\n        WritePropExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitWritePropExpr(this, context);\n        };\n        return WritePropExpr;\n    }(Expression));\n    (function (BuiltinMethod) {\n        BuiltinMethod[BuiltinMethod[\"ConcatArray\"] = 0] = \"ConcatArray\";\n        BuiltinMethod[BuiltinMethod[\"SubscribeObservable\"] = 1] = \"SubscribeObservable\";\n        BuiltinMethod[BuiltinMethod[\"Bind\"] = 2] = \"Bind\";\n    })(exports.BuiltinMethod || (exports.BuiltinMethod = {}));\n    var InvokeMethodExpr = /** @class */ (function (_super) {\n        __extends(InvokeMethodExpr, _super);\n        function InvokeMethodExpr(receiver, method, args, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.receiver = receiver;\n            _this.args = args;\n            if (typeof method === 'string') {\n                _this.name = method;\n                _this.builtin = null;\n            }\n            else {\n                _this.name = null;\n                _this.builtin = method;\n            }\n            return _this;\n        }\n        InvokeMethodExpr.prototype.isEquivalent = function (e) {\n            return e instanceof InvokeMethodExpr && this.receiver.isEquivalent(e.receiver) &&\n                this.name === e.name && this.builtin === e.builtin && areAllEquivalent(this.args, e.args);\n        };\n        InvokeMethodExpr.prototype.isConstant = function () { return false; };\n        InvokeMethodExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitInvokeMethodExpr(this, context);\n        };\n        return InvokeMethodExpr;\n    }(Expression));\n    var InvokeFunctionExpr = /** @class */ (function (_super) {\n        __extends(InvokeFunctionExpr, _super);\n        function InvokeFunctionExpr(fn, args, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.fn = fn;\n            _this.args = args;\n            return _this;\n        }\n        InvokeFunctionExpr.prototype.isEquivalent = function (e) {\n            return e instanceof InvokeFunctionExpr && this.fn.isEquivalent(e.fn) &&\n                areAllEquivalent(this.args, e.args);\n        };\n        InvokeFunctionExpr.prototype.isConstant = function () { return false; };\n        InvokeFunctionExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitInvokeFunctionExpr(this, context);\n        };\n        return InvokeFunctionExpr;\n    }(Expression));\n    var InstantiateExpr = /** @class */ (function (_super) {\n        __extends(InstantiateExpr, _super);\n        function InstantiateExpr(classExpr, args, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.classExpr = classExpr;\n            _this.args = args;\n            return _this;\n        }\n        InstantiateExpr.prototype.isEquivalent = function (e) {\n            return e instanceof InstantiateExpr && this.classExpr.isEquivalent(e.classExpr) &&\n                areAllEquivalent(this.args, e.args);\n        };\n        InstantiateExpr.prototype.isConstant = function () { return false; };\n        InstantiateExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitInstantiateExpr(this, context);\n        };\n        return InstantiateExpr;\n    }(Expression));\n    var LiteralExpr = /** @class */ (function (_super) {\n        __extends(LiteralExpr, _super);\n        function LiteralExpr(value, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.value = value;\n            return _this;\n        }\n        LiteralExpr.prototype.isEquivalent = function (e) {\n            return e instanceof LiteralExpr && this.value === e.value;\n        };\n        LiteralExpr.prototype.isConstant = function () { return true; };\n        LiteralExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitLiteralExpr(this, context);\n        };\n        return LiteralExpr;\n    }(Expression));\n    var ExternalExpr = /** @class */ (function (_super) {\n        __extends(ExternalExpr, _super);\n        function ExternalExpr(value, type, typeParams, sourceSpan) {\n            if (typeParams === void 0) { typeParams = null; }\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.value = value;\n            _this.typeParams = typeParams;\n            return _this;\n        }\n        ExternalExpr.prototype.isEquivalent = function (e) {\n            return e instanceof ExternalExpr && this.value.name === e.value.name &&\n                this.value.moduleName === e.value.moduleName && this.value.runtime === e.value.runtime;\n        };\n        ExternalExpr.prototype.isConstant = function () { return false; };\n        ExternalExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitExternalExpr(this, context);\n        };\n        return ExternalExpr;\n    }(Expression));\n    var ExternalReference = /** @class */ (function () {\n        function ExternalReference(moduleName, name, runtime) {\n            this.moduleName = moduleName;\n            this.name = name;\n            this.runtime = runtime;\n        }\n        return ExternalReference;\n    }());\n    var ConditionalExpr = /** @class */ (function (_super) {\n        __extends(ConditionalExpr, _super);\n        function ConditionalExpr(condition, trueCase, falseCase, type, sourceSpan) {\n            if (falseCase === void 0) { falseCase = null; }\n            var _this = _super.call(this, type || trueCase.type, sourceSpan) || this;\n            _this.condition = condition;\n            _this.falseCase = falseCase;\n            _this.trueCase = trueCase;\n            return _this;\n        }\n        ConditionalExpr.prototype.isEquivalent = function (e) {\n            return e instanceof ConditionalExpr && this.condition.isEquivalent(e.condition) &&\n                this.trueCase.isEquivalent(e.trueCase) && nullSafeIsEquivalent(this.falseCase, e.falseCase);\n        };\n        ConditionalExpr.prototype.isConstant = function () { return false; };\n        ConditionalExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitConditionalExpr(this, context);\n        };\n        return ConditionalExpr;\n    }(Expression));\n    var NotExpr = /** @class */ (function (_super) {\n        __extends(NotExpr, _super);\n        function NotExpr(condition, sourceSpan) {\n            var _this = _super.call(this, BOOL_TYPE, sourceSpan) || this;\n            _this.condition = condition;\n            return _this;\n        }\n        NotExpr.prototype.isEquivalent = function (e) {\n            return e instanceof NotExpr && this.condition.isEquivalent(e.condition);\n        };\n        NotExpr.prototype.isConstant = function () { return false; };\n        NotExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitNotExpr(this, context);\n        };\n        return NotExpr;\n    }(Expression));\n    var AssertNotNull = /** @class */ (function (_super) {\n        __extends(AssertNotNull, _super);\n        function AssertNotNull(condition, sourceSpan) {\n            var _this = _super.call(this, condition.type, sourceSpan) || this;\n            _this.condition = condition;\n            return _this;\n        }\n        AssertNotNull.prototype.isEquivalent = function (e) {\n            return e instanceof AssertNotNull && this.condition.isEquivalent(e.condition);\n        };\n        AssertNotNull.prototype.isConstant = function () { return false; };\n        AssertNotNull.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitAssertNotNullExpr(this, context);\n        };\n        return AssertNotNull;\n    }(Expression));\n    var CastExpr = /** @class */ (function (_super) {\n        __extends(CastExpr, _super);\n        function CastExpr(value, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.value = value;\n            return _this;\n        }\n        CastExpr.prototype.isEquivalent = function (e) {\n            return e instanceof CastExpr && this.value.isEquivalent(e.value);\n        };\n        CastExpr.prototype.isConstant = function () { return false; };\n        CastExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitCastExpr(this, context);\n        };\n        return CastExpr;\n    }(Expression));\n    var FnParam = /** @class */ (function () {\n        function FnParam(name, type) {\n            if (type === void 0) { type = null; }\n            this.name = name;\n            this.type = type;\n        }\n        FnParam.prototype.isEquivalent = function (param) { return this.name === param.name; };\n        return FnParam;\n    }());\n    var FunctionExpr = /** @class */ (function (_super) {\n        __extends(FunctionExpr, _super);\n        function FunctionExpr(params, statements, type, sourceSpan, name) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.params = params;\n            _this.statements = statements;\n            _this.name = name;\n            return _this;\n        }\n        FunctionExpr.prototype.isEquivalent = function (e) {\n            return e instanceof FunctionExpr && areAllEquivalent(this.params, e.params) &&\n                areAllEquivalent(this.statements, e.statements);\n        };\n        FunctionExpr.prototype.isConstant = function () { return false; };\n        FunctionExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitFunctionExpr(this, context);\n        };\n        FunctionExpr.prototype.toDeclStmt = function (name, modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            return new DeclareFunctionStmt(name, this.params, this.statements, this.type, modifiers, this.sourceSpan);\n        };\n        return FunctionExpr;\n    }(Expression));\n    var BinaryOperatorExpr = /** @class */ (function (_super) {\n        __extends(BinaryOperatorExpr, _super);\n        function BinaryOperatorExpr(operator, lhs, rhs, type, sourceSpan, parens) {\n            if (parens === void 0) { parens = true; }\n            var _this = _super.call(this, type || lhs.type, sourceSpan) || this;\n            _this.operator = operator;\n            _this.rhs = rhs;\n            _this.parens = parens;\n            _this.lhs = lhs;\n            return _this;\n        }\n        BinaryOperatorExpr.prototype.isEquivalent = function (e) {\n            return e instanceof BinaryOperatorExpr && this.operator === e.operator &&\n                this.lhs.isEquivalent(e.lhs) && this.rhs.isEquivalent(e.rhs);\n        };\n        BinaryOperatorExpr.prototype.isConstant = function () { return false; };\n        BinaryOperatorExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitBinaryOperatorExpr(this, context);\n        };\n        return BinaryOperatorExpr;\n    }(Expression));\n    var ReadPropExpr = /** @class */ (function (_super) {\n        __extends(ReadPropExpr, _super);\n        function ReadPropExpr(receiver, name, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.receiver = receiver;\n            _this.name = name;\n            return _this;\n        }\n        ReadPropExpr.prototype.isEquivalent = function (e) {\n            return e instanceof ReadPropExpr && this.receiver.isEquivalent(e.receiver) &&\n                this.name === e.name;\n        };\n        ReadPropExpr.prototype.isConstant = function () { return false; };\n        ReadPropExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitReadPropExpr(this, context);\n        };\n        ReadPropExpr.prototype.set = function (value) {\n            return new WritePropExpr(this.receiver, this.name, value, null, this.sourceSpan);\n        };\n        return ReadPropExpr;\n    }(Expression));\n    var ReadKeyExpr = /** @class */ (function (_super) {\n        __extends(ReadKeyExpr, _super);\n        function ReadKeyExpr(receiver, index, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.receiver = receiver;\n            _this.index = index;\n            return _this;\n        }\n        ReadKeyExpr.prototype.isEquivalent = function (e) {\n            return e instanceof ReadKeyExpr && this.receiver.isEquivalent(e.receiver) &&\n                this.index.isEquivalent(e.index);\n        };\n        ReadKeyExpr.prototype.isConstant = function () { return false; };\n        ReadKeyExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitReadKeyExpr(this, context);\n        };\n        ReadKeyExpr.prototype.set = function (value) {\n            return new WriteKeyExpr(this.receiver, this.index, value, null, this.sourceSpan);\n        };\n        return ReadKeyExpr;\n    }(Expression));\n    var LiteralArrayExpr = /** @class */ (function (_super) {\n        __extends(LiteralArrayExpr, _super);\n        function LiteralArrayExpr(entries, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.entries = entries;\n            return _this;\n        }\n        LiteralArrayExpr.prototype.isConstant = function () { return this.entries.every(function (e) { return e.isConstant(); }); };\n        LiteralArrayExpr.prototype.isEquivalent = function (e) {\n            return e instanceof LiteralArrayExpr && areAllEquivalent(this.entries, e.entries);\n        };\n        LiteralArrayExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitLiteralArrayExpr(this, context);\n        };\n        return LiteralArrayExpr;\n    }(Expression));\n    var LiteralMapEntry = /** @class */ (function () {\n        function LiteralMapEntry(key, value, quoted) {\n            this.key = key;\n            this.value = value;\n            this.quoted = quoted;\n        }\n        LiteralMapEntry.prototype.isEquivalent = function (e) {\n            return this.key === e.key && this.value.isEquivalent(e.value);\n        };\n        return LiteralMapEntry;\n    }());\n    var LiteralMapExpr = /** @class */ (function (_super) {\n        __extends(LiteralMapExpr, _super);\n        function LiteralMapExpr(entries, type, sourceSpan) {\n            var _this = _super.call(this, type, sourceSpan) || this;\n            _this.entries = entries;\n            _this.valueType = null;\n            if (type) {\n                _this.valueType = type.valueType;\n            }\n            return _this;\n        }\n        LiteralMapExpr.prototype.isEquivalent = function (e) {\n            return e instanceof LiteralMapExpr && areAllEquivalent(this.entries, e.entries);\n        };\n        LiteralMapExpr.prototype.isConstant = function () { return this.entries.every(function (e) { return e.value.isConstant(); }); };\n        LiteralMapExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitLiteralMapExpr(this, context);\n        };\n        return LiteralMapExpr;\n    }(Expression));\n    var CommaExpr = /** @class */ (function (_super) {\n        __extends(CommaExpr, _super);\n        function CommaExpr(parts, sourceSpan) {\n            var _this = _super.call(this, parts[parts.length - 1].type, sourceSpan) || this;\n            _this.parts = parts;\n            return _this;\n        }\n        CommaExpr.prototype.isEquivalent = function (e) {\n            return e instanceof CommaExpr && areAllEquivalent(this.parts, e.parts);\n        };\n        CommaExpr.prototype.isConstant = function () { return false; };\n        CommaExpr.prototype.visitExpression = function (visitor, context) {\n            return visitor.visitCommaExpr(this, context);\n        };\n        return CommaExpr;\n    }(Expression));\n    var THIS_EXPR = new ReadVarExpr(exports.BuiltinVar.This, null, null);\n    var SUPER_EXPR = new ReadVarExpr(exports.BuiltinVar.Super, null, null);\n    var CATCH_ERROR_VAR = new ReadVarExpr(exports.BuiltinVar.CatchError, null, null);\n    var CATCH_STACK_VAR = new ReadVarExpr(exports.BuiltinVar.CatchStack, null, null);\n    var NULL_EXPR = new LiteralExpr(null, null, null);\n    var TYPED_NULL_EXPR = new LiteralExpr(null, INFERRED_TYPE, null);\n    (function (StmtModifier) {\n        StmtModifier[StmtModifier[\"Final\"] = 0] = \"Final\";\n        StmtModifier[StmtModifier[\"Private\"] = 1] = \"Private\";\n        StmtModifier[StmtModifier[\"Exported\"] = 2] = \"Exported\";\n        StmtModifier[StmtModifier[\"Static\"] = 3] = \"Static\";\n    })(exports.StmtModifier || (exports.StmtModifier = {}));\n    var Statement = /** @class */ (function () {\n        function Statement(modifiers, sourceSpan) {\n            this.modifiers = modifiers || [];\n            this.sourceSpan = sourceSpan || null;\n        }\n        Statement.prototype.hasModifier = function (modifier) { return this.modifiers.indexOf(modifier) !== -1; };\n        return Statement;\n    }());\n    var DeclareVarStmt = /** @class */ (function (_super) {\n        __extends(DeclareVarStmt, _super);\n        function DeclareVarStmt(name, value, type, modifiers, sourceSpan) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, modifiers, sourceSpan) || this;\n            _this.name = name;\n            _this.value = value;\n            _this.type = type || (value && value.type) || null;\n            return _this;\n        }\n        DeclareVarStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof DeclareVarStmt && this.name === stmt.name &&\n                (this.value ? !!stmt.value && this.value.isEquivalent(stmt.value) : !stmt.value);\n        };\n        DeclareVarStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitDeclareVarStmt(this, context);\n        };\n        return DeclareVarStmt;\n    }(Statement));\n    var DeclareFunctionStmt = /** @class */ (function (_super) {\n        __extends(DeclareFunctionStmt, _super);\n        function DeclareFunctionStmt(name, params, statements, type, modifiers, sourceSpan) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, modifiers, sourceSpan) || this;\n            _this.name = name;\n            _this.params = params;\n            _this.statements = statements;\n            _this.type = type || null;\n            return _this;\n        }\n        DeclareFunctionStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof DeclareFunctionStmt && areAllEquivalent(this.params, stmt.params) &&\n                areAllEquivalent(this.statements, stmt.statements);\n        };\n        DeclareFunctionStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitDeclareFunctionStmt(this, context);\n        };\n        return DeclareFunctionStmt;\n    }(Statement));\n    var ExpressionStatement = /** @class */ (function (_super) {\n        __extends(ExpressionStatement, _super);\n        function ExpressionStatement(expr, sourceSpan) {\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.expr = expr;\n            return _this;\n        }\n        ExpressionStatement.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof ExpressionStatement && this.expr.isEquivalent(stmt.expr);\n        };\n        ExpressionStatement.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitExpressionStmt(this, context);\n        };\n        return ExpressionStatement;\n    }(Statement));\n    var ReturnStatement = /** @class */ (function (_super) {\n        __extends(ReturnStatement, _super);\n        function ReturnStatement(value, sourceSpan) {\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.value = value;\n            return _this;\n        }\n        ReturnStatement.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof ReturnStatement && this.value.isEquivalent(stmt.value);\n        };\n        ReturnStatement.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitReturnStmt(this, context);\n        };\n        return ReturnStatement;\n    }(Statement));\n    var AbstractClassPart = /** @class */ (function () {\n        function AbstractClassPart(type, modifiers) {\n            this.modifiers = modifiers;\n            if (!modifiers) {\n                this.modifiers = [];\n            }\n            this.type = type || null;\n        }\n        AbstractClassPart.prototype.hasModifier = function (modifier) { return this.modifiers.indexOf(modifier) !== -1; };\n        return AbstractClassPart;\n    }());\n    var ClassField = /** @class */ (function (_super) {\n        __extends(ClassField, _super);\n        function ClassField(name, type, modifiers, initializer) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, type, modifiers) || this;\n            _this.name = name;\n            _this.initializer = initializer;\n            return _this;\n        }\n        ClassField.prototype.isEquivalent = function (f) { return this.name === f.name; };\n        return ClassField;\n    }(AbstractClassPart));\n    var ClassMethod = /** @class */ (function (_super) {\n        __extends(ClassMethod, _super);\n        function ClassMethod(name, params, body, type, modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, type, modifiers) || this;\n            _this.name = name;\n            _this.params = params;\n            _this.body = body;\n            return _this;\n        }\n        ClassMethod.prototype.isEquivalent = function (m) {\n            return this.name === m.name && areAllEquivalent(this.body, m.body);\n        };\n        return ClassMethod;\n    }(AbstractClassPart));\n    var ClassGetter = /** @class */ (function (_super) {\n        __extends(ClassGetter, _super);\n        function ClassGetter(name, body, type, modifiers) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, type, modifiers) || this;\n            _this.name = name;\n            _this.body = body;\n            return _this;\n        }\n        ClassGetter.prototype.isEquivalent = function (m) {\n            return this.name === m.name && areAllEquivalent(this.body, m.body);\n        };\n        return ClassGetter;\n    }(AbstractClassPart));\n    var ClassStmt = /** @class */ (function (_super) {\n        __extends(ClassStmt, _super);\n        function ClassStmt(name, parent, fields, getters, constructorMethod, methods, modifiers, sourceSpan) {\n            if (modifiers === void 0) { modifiers = null; }\n            var _this = _super.call(this, modifiers, sourceSpan) || this;\n            _this.name = name;\n            _this.parent = parent;\n            _this.fields = fields;\n            _this.getters = getters;\n            _this.constructorMethod = constructorMethod;\n            _this.methods = methods;\n            return _this;\n        }\n        ClassStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof ClassStmt && this.name === stmt.name &&\n                nullSafeIsEquivalent(this.parent, stmt.parent) &&\n                areAllEquivalent(this.fields, stmt.fields) &&\n                areAllEquivalent(this.getters, stmt.getters) &&\n                this.constructorMethod.isEquivalent(stmt.constructorMethod) &&\n                areAllEquivalent(this.methods, stmt.methods);\n        };\n        ClassStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitDeclareClassStmt(this, context);\n        };\n        return ClassStmt;\n    }(Statement));\n    var IfStmt = /** @class */ (function (_super) {\n        __extends(IfStmt, _super);\n        function IfStmt(condition, trueCase, falseCase, sourceSpan) {\n            if (falseCase === void 0) { falseCase = []; }\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.condition = condition;\n            _this.trueCase = trueCase;\n            _this.falseCase = falseCase;\n            return _this;\n        }\n        IfStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof IfStmt && this.condition.isEquivalent(stmt.condition) &&\n                areAllEquivalent(this.trueCase, stmt.trueCase) &&\n                areAllEquivalent(this.falseCase, stmt.falseCase);\n        };\n        IfStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitIfStmt(this, context);\n        };\n        return IfStmt;\n    }(Statement));\n    var CommentStmt = /** @class */ (function (_super) {\n        __extends(CommentStmt, _super);\n        function CommentStmt(comment, multiline, sourceSpan) {\n            if (multiline === void 0) { multiline = false; }\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.comment = comment;\n            _this.multiline = multiline;\n            return _this;\n        }\n        CommentStmt.prototype.isEquivalent = function (stmt) { return stmt instanceof CommentStmt; };\n        CommentStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitCommentStmt(this, context);\n        };\n        return CommentStmt;\n    }(Statement));\n    var JSDocCommentStmt = /** @class */ (function (_super) {\n        __extends(JSDocCommentStmt, _super);\n        function JSDocCommentStmt(tags, sourceSpan) {\n            if (tags === void 0) { tags = []; }\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.tags = tags;\n            return _this;\n        }\n        JSDocCommentStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof JSDocCommentStmt && this.toString() === stmt.toString();\n        };\n        JSDocCommentStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitJSDocCommentStmt(this, context);\n        };\n        JSDocCommentStmt.prototype.toString = function () { return serializeTags(this.tags); };\n        return JSDocCommentStmt;\n    }(Statement));\n    var TryCatchStmt = /** @class */ (function (_super) {\n        __extends(TryCatchStmt, _super);\n        function TryCatchStmt(bodyStmts, catchStmts, sourceSpan) {\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.bodyStmts = bodyStmts;\n            _this.catchStmts = catchStmts;\n            return _this;\n        }\n        TryCatchStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof TryCatchStmt && areAllEquivalent(this.bodyStmts, stmt.bodyStmts) &&\n                areAllEquivalent(this.catchStmts, stmt.catchStmts);\n        };\n        TryCatchStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitTryCatchStmt(this, context);\n        };\n        return TryCatchStmt;\n    }(Statement));\n    var ThrowStmt = /** @class */ (function (_super) {\n        __extends(ThrowStmt, _super);\n        function ThrowStmt(error, sourceSpan) {\n            var _this = _super.call(this, null, sourceSpan) || this;\n            _this.error = error;\n            return _this;\n        }\n        ThrowStmt.prototype.isEquivalent = function (stmt) {\n            return stmt instanceof TryCatchStmt && this.error.isEquivalent(stmt.error);\n        };\n        ThrowStmt.prototype.visitStatement = function (visitor, context) {\n            return visitor.visitThrowStmt(this, context);\n        };\n        return ThrowStmt;\n    }(Statement));\n    var AstTransformer$1 = /** @class */ (function () {\n        function AstTransformer() {\n        }\n        AstTransformer.prototype.transformExpr = function (expr, context) { return expr; };\n        AstTransformer.prototype.transformStmt = function (stmt, context) { return stmt; };\n        AstTransformer.prototype.visitReadVarExpr = function (ast, context) { return this.transformExpr(ast, context); };\n        AstTransformer.prototype.visitWrappedNodeExpr = function (ast, context) {\n            return this.transformExpr(ast, context);\n        };\n        AstTransformer.prototype.visitTypeofExpr = function (expr, context) {\n            return this.transformExpr(new TypeofExpr(expr.expr.visitExpression(this, context), expr.type, expr.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitWriteVarExpr = function (expr, context) {\n            return this.transformExpr(new WriteVarExpr(expr.name, expr.value.visitExpression(this, context), expr.type, expr.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitWriteKeyExpr = function (expr, context) {\n            return this.transformExpr(new WriteKeyExpr(expr.receiver.visitExpression(this, context), expr.index.visitExpression(this, context), expr.value.visitExpression(this, context), expr.type, expr.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitWritePropExpr = function (expr, context) {\n            return this.transformExpr(new WritePropExpr(expr.receiver.visitExpression(this, context), expr.name, expr.value.visitExpression(this, context), expr.type, expr.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitInvokeMethodExpr = function (ast, context) {\n            var method = ast.builtin || ast.name;\n            return this.transformExpr(new InvokeMethodExpr(ast.receiver.visitExpression(this, context), method, this.visitAllExpressions(ast.args, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitInvokeFunctionExpr = function (ast, context) {\n            return this.transformExpr(new InvokeFunctionExpr(ast.fn.visitExpression(this, context), this.visitAllExpressions(ast.args, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitInstantiateExpr = function (ast, context) {\n            return this.transformExpr(new InstantiateExpr(ast.classExpr.visitExpression(this, context), this.visitAllExpressions(ast.args, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitLiteralExpr = function (ast, context) { return this.transformExpr(ast, context); };\n        AstTransformer.prototype.visitExternalExpr = function (ast, context) {\n            return this.transformExpr(ast, context);\n        };\n        AstTransformer.prototype.visitConditionalExpr = function (ast, context) {\n            return this.transformExpr(new ConditionalExpr(ast.condition.visitExpression(this, context), ast.trueCase.visitExpression(this, context), ast.falseCase.visitExpression(this, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitNotExpr = function (ast, context) {\n            return this.transformExpr(new NotExpr(ast.condition.visitExpression(this, context), ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitAssertNotNullExpr = function (ast, context) {\n            return this.transformExpr(new AssertNotNull(ast.condition.visitExpression(this, context), ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitCastExpr = function (ast, context) {\n            return this.transformExpr(new CastExpr(ast.value.visitExpression(this, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitFunctionExpr = function (ast, context) {\n            return this.transformExpr(new FunctionExpr(ast.params, this.visitAllStatements(ast.statements, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitBinaryOperatorExpr = function (ast, context) {\n            return this.transformExpr(new BinaryOperatorExpr(ast.operator, ast.lhs.visitExpression(this, context), ast.rhs.visitExpression(this, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitReadPropExpr = function (ast, context) {\n            return this.transformExpr(new ReadPropExpr(ast.receiver.visitExpression(this, context), ast.name, ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitReadKeyExpr = function (ast, context) {\n            return this.transformExpr(new ReadKeyExpr(ast.receiver.visitExpression(this, context), ast.index.visitExpression(this, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitLiteralArrayExpr = function (ast, context) {\n            return this.transformExpr(new LiteralArrayExpr(this.visitAllExpressions(ast.entries, context), ast.type, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitLiteralMapExpr = function (ast, context) {\n            var _this = this;\n            var entries = ast.entries.map(function (entry) { return new LiteralMapEntry(entry.key, entry.value.visitExpression(_this, context), entry.quoted); });\n            var mapType = new MapType(ast.valueType, null);\n            return this.transformExpr(new LiteralMapExpr(entries, mapType, ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitCommaExpr = function (ast, context) {\n            return this.transformExpr(new CommaExpr(this.visitAllExpressions(ast.parts, context), ast.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitAllExpressions = function (exprs, context) {\n            var _this = this;\n            return exprs.map(function (expr) { return expr.visitExpression(_this, context); });\n        };\n        AstTransformer.prototype.visitDeclareVarStmt = function (stmt, context) {\n            var value = stmt.value && stmt.value.visitExpression(this, context);\n            return this.transformStmt(new DeclareVarStmt(stmt.name, value, stmt.type, stmt.modifiers, stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitDeclareFunctionStmt = function (stmt, context) {\n            return this.transformStmt(new DeclareFunctionStmt(stmt.name, stmt.params, this.visitAllStatements(stmt.statements, context), stmt.type, stmt.modifiers, stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitExpressionStmt = function (stmt, context) {\n            return this.transformStmt(new ExpressionStatement(stmt.expr.visitExpression(this, context), stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitReturnStmt = function (stmt, context) {\n            return this.transformStmt(new ReturnStatement(stmt.value.visitExpression(this, context), stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitDeclareClassStmt = function (stmt, context) {\n            var _this = this;\n            var parent = stmt.parent.visitExpression(this, context);\n            var getters = stmt.getters.map(function (getter) { return new ClassGetter(getter.name, _this.visitAllStatements(getter.body, context), getter.type, getter.modifiers); });\n            var ctorMethod = stmt.constructorMethod &&\n                new ClassMethod(stmt.constructorMethod.name, stmt.constructorMethod.params, this.visitAllStatements(stmt.constructorMethod.body, context), stmt.constructorMethod.type, stmt.constructorMethod.modifiers);\n            var methods = stmt.methods.map(function (method) { return new ClassMethod(method.name, method.params, _this.visitAllStatements(method.body, context), method.type, method.modifiers); });\n            return this.transformStmt(new ClassStmt(stmt.name, parent, stmt.fields, getters, ctorMethod, methods, stmt.modifiers, stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitIfStmt = function (stmt, context) {\n            return this.transformStmt(new IfStmt(stmt.condition.visitExpression(this, context), this.visitAllStatements(stmt.trueCase, context), this.visitAllStatements(stmt.falseCase, context), stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitTryCatchStmt = function (stmt, context) {\n            return this.transformStmt(new TryCatchStmt(this.visitAllStatements(stmt.bodyStmts, context), this.visitAllStatements(stmt.catchStmts, context), stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitThrowStmt = function (stmt, context) {\n            return this.transformStmt(new ThrowStmt(stmt.error.visitExpression(this, context), stmt.sourceSpan), context);\n        };\n        AstTransformer.prototype.visitCommentStmt = function (stmt, context) {\n            return this.transformStmt(stmt, context);\n        };\n        AstTransformer.prototype.visitJSDocCommentStmt = function (stmt, context) {\n            return this.transformStmt(stmt, context);\n        };\n        AstTransformer.prototype.visitAllStatements = function (stmts, context) {\n            var _this = this;\n            return stmts.map(function (stmt) { return stmt.visitStatement(_this, context); });\n        };\n        return AstTransformer;\n    }());\n    var RecursiveAstVisitor$1 = /** @class */ (function () {\n        function RecursiveAstVisitor() {\n        }\n        RecursiveAstVisitor.prototype.visitType = function (ast, context) { return ast; };\n        RecursiveAstVisitor.prototype.visitExpression = function (ast, context) {\n            if (ast.type) {\n                ast.type.visitType(this, context);\n            }\n            return ast;\n        };\n        RecursiveAstVisitor.prototype.visitBuiltinType = function (type, context) { return this.visitType(type, context); };\n        RecursiveAstVisitor.prototype.visitExpressionType = function (type, context) {\n            var _this = this;\n            type.value.visitExpression(this, context);\n            if (type.typeParams !== null) {\n                type.typeParams.forEach(function (param) { return _this.visitType(param, context); });\n            }\n            return this.visitType(type, context);\n        };\n        RecursiveAstVisitor.prototype.visitArrayType = function (type, context) { return this.visitType(type, context); };\n        RecursiveAstVisitor.prototype.visitMapType = function (type, context) { return this.visitType(type, context); };\n        RecursiveAstVisitor.prototype.visitWrappedNodeExpr = function (ast, context) { return ast; };\n        RecursiveAstVisitor.prototype.visitTypeofExpr = function (ast, context) { return this.visitExpression(ast, context); };\n        RecursiveAstVisitor.prototype.visitReadVarExpr = function (ast, context) {\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitWriteVarExpr = function (ast, context) {\n            ast.value.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitWriteKeyExpr = function (ast, context) {\n            ast.receiver.visitExpression(this, context);\n            ast.index.visitExpression(this, context);\n            ast.value.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitWritePropExpr = function (ast, context) {\n            ast.receiver.visitExpression(this, context);\n            ast.value.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitInvokeMethodExpr = function (ast, context) {\n            ast.receiver.visitExpression(this, context);\n            this.visitAllExpressions(ast.args, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitInvokeFunctionExpr = function (ast, context) {\n            ast.fn.visitExpression(this, context);\n            this.visitAllExpressions(ast.args, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitInstantiateExpr = function (ast, context) {\n            ast.classExpr.visitExpression(this, context);\n            this.visitAllExpressions(ast.args, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitLiteralExpr = function (ast, context) {\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitExternalExpr = function (ast, context) {\n            var _this = this;\n            if (ast.typeParams) {\n                ast.typeParams.forEach(function (type) { return type.visitType(_this, context); });\n            }\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitConditionalExpr = function (ast, context) {\n            ast.condition.visitExpression(this, context);\n            ast.trueCase.visitExpression(this, context);\n            ast.falseCase.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitNotExpr = function (ast, context) {\n            ast.condition.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitAssertNotNullExpr = function (ast, context) {\n            ast.condition.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitCastExpr = function (ast, context) {\n            ast.value.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitFunctionExpr = function (ast, context) {\n            this.visitAllStatements(ast.statements, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitBinaryOperatorExpr = function (ast, context) {\n            ast.lhs.visitExpression(this, context);\n            ast.rhs.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitReadPropExpr = function (ast, context) {\n            ast.receiver.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitReadKeyExpr = function (ast, context) {\n            ast.receiver.visitExpression(this, context);\n            ast.index.visitExpression(this, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitLiteralArrayExpr = function (ast, context) {\n            this.visitAllExpressions(ast.entries, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitLiteralMapExpr = function (ast, context) {\n            var _this = this;\n            ast.entries.forEach(function (entry) { return entry.value.visitExpression(_this, context); });\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitCommaExpr = function (ast, context) {\n            this.visitAllExpressions(ast.parts, context);\n            return this.visitExpression(ast, context);\n        };\n        RecursiveAstVisitor.prototype.visitAllExpressions = function (exprs, context) {\n            var _this = this;\n            exprs.forEach(function (expr) { return expr.visitExpression(_this, context); });\n        };\n        RecursiveAstVisitor.prototype.visitDeclareVarStmt = function (stmt, context) {\n            if (stmt.value) {\n                stmt.value.visitExpression(this, context);\n            }\n            if (stmt.type) {\n                stmt.type.visitType(this, context);\n            }\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitDeclareFunctionStmt = function (stmt, context) {\n            this.visitAllStatements(stmt.statements, context);\n            if (stmt.type) {\n                stmt.type.visitType(this, context);\n            }\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitExpressionStmt = function (stmt, context) {\n            stmt.expr.visitExpression(this, context);\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitReturnStmt = function (stmt, context) {\n            stmt.value.visitExpression(this, context);\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitDeclareClassStmt = function (stmt, context) {\n            var _this = this;\n            stmt.parent.visitExpression(this, context);\n            stmt.getters.forEach(function (getter) { return _this.visitAllStatements(getter.body, context); });\n            if (stmt.constructorMethod) {\n                this.visitAllStatements(stmt.constructorMethod.body, context);\n            }\n            stmt.methods.forEach(function (method) { return _this.visitAllStatements(method.body, context); });\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitIfStmt = function (stmt, context) {\n            stmt.condition.visitExpression(this, context);\n            this.visitAllStatements(stmt.trueCase, context);\n            this.visitAllStatements(stmt.falseCase, context);\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitTryCatchStmt = function (stmt, context) {\n            this.visitAllStatements(stmt.bodyStmts, context);\n            this.visitAllStatements(stmt.catchStmts, context);\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitThrowStmt = function (stmt, context) {\n            stmt.error.visitExpression(this, context);\n            return stmt;\n        };\n        RecursiveAstVisitor.prototype.visitCommentStmt = function (stmt, context) { return stmt; };\n        RecursiveAstVisitor.prototype.visitJSDocCommentStmt = function (stmt, context) { return stmt; };\n        RecursiveAstVisitor.prototype.visitAllStatements = function (stmts, context) {\n            var _this = this;\n            stmts.forEach(function (stmt) { return stmt.visitStatement(_this, context); });\n        };\n        return RecursiveAstVisitor;\n    }());\n    function findReadVarNames(stmts) {\n        var visitor = new _ReadVarVisitor();\n        visitor.visitAllStatements(stmts, null);\n        return visitor.varNames;\n    }\n    var _ReadVarVisitor = /** @class */ (function (_super) {\n        __extends(_ReadVarVisitor, _super);\n        function _ReadVarVisitor() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.varNames = new Set();\n            return _this;\n        }\n        _ReadVarVisitor.prototype.visitDeclareFunctionStmt = function (stmt, context) {\n            // Don't descend into nested functions\n            return stmt;\n        };\n        _ReadVarVisitor.prototype.visitDeclareClassStmt = function (stmt, context) {\n            // Don't descend into nested classes\n            return stmt;\n        };\n        _ReadVarVisitor.prototype.visitReadVarExpr = function (ast, context) {\n            if (ast.name) {\n                this.varNames.add(ast.name);\n            }\n            return null;\n        };\n        return _ReadVarVisitor;\n    }(RecursiveAstVisitor$1));\n    function collectExternalReferences(stmts) {\n        var visitor = new _FindExternalReferencesVisitor();\n        visitor.visitAllStatements(stmts, null);\n        return visitor.externalReferences;\n    }\n    var _FindExternalReferencesVisitor = /** @class */ (function (_super) {\n        __extends(_FindExternalReferencesVisitor, _super);\n        function _FindExternalReferencesVisitor() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.externalReferences = [];\n            return _this;\n        }\n        _FindExternalReferencesVisitor.prototype.visitExternalExpr = function (e, context) {\n            this.externalReferences.push(e.value);\n            return _super.prototype.visitExternalExpr.call(this, e, context);\n        };\n        return _FindExternalReferencesVisitor;\n    }(RecursiveAstVisitor$1));\n    function applySourceSpanToStatementIfNeeded(stmt, sourceSpan) {\n        if (!sourceSpan) {\n            return stmt;\n        }\n        var transformer = new _ApplySourceSpanTransformer(sourceSpan);\n        return stmt.visitStatement(transformer, null);\n    }\n    function applySourceSpanToExpressionIfNeeded(expr, sourceSpan) {\n        if (!sourceSpan) {\n            return expr;\n        }\n        var transformer = new _ApplySourceSpanTransformer(sourceSpan);\n        return expr.visitExpression(transformer, null);\n    }\n    var _ApplySourceSpanTransformer = /** @class */ (function (_super) {\n        __extends(_ApplySourceSpanTransformer, _super);\n        function _ApplySourceSpanTransformer(sourceSpan) {\n            var _this = _super.call(this) || this;\n            _this.sourceSpan = sourceSpan;\n            return _this;\n        }\n        _ApplySourceSpanTransformer.prototype._clone = function (obj) {\n            var clone = Object.create(obj.constructor.prototype);\n            for (var prop in obj) {\n                clone[prop] = obj[prop];\n            }\n            return clone;\n        };\n        _ApplySourceSpanTransformer.prototype.transformExpr = function (expr, context) {\n            if (!expr.sourceSpan) {\n                expr = this._clone(expr);\n                expr.sourceSpan = this.sourceSpan;\n            }\n            return expr;\n        };\n        _ApplySourceSpanTransformer.prototype.transformStmt = function (stmt, context) {\n            if (!stmt.sourceSpan) {\n                stmt = this._clone(stmt);\n                stmt.sourceSpan = this.sourceSpan;\n            }\n            return stmt;\n        };\n        return _ApplySourceSpanTransformer;\n    }(AstTransformer$1));\n    function variable(name, type, sourceSpan) {\n        return new ReadVarExpr(name, type, sourceSpan);\n    }\n    function importExpr(id, typeParams, sourceSpan) {\n        if (typeParams === void 0) { typeParams = null; }\n        return new ExternalExpr(id, null, typeParams, sourceSpan);\n    }\n    function importType(id, typeParams, typeModifiers) {\n        if (typeParams === void 0) { typeParams = null; }\n        if (typeModifiers === void 0) { typeModifiers = null; }\n        return id != null ? expressionType(importExpr(id, typeParams, null), typeModifiers) : null;\n    }\n    function expressionType(expr, typeModifiers, typeParams) {\n        if (typeModifiers === void 0) { typeModifiers = null; }\n        if (typeParams === void 0) { typeParams = null; }\n        return new ExpressionType(expr, typeModifiers, typeParams);\n    }\n    function typeofExpr(expr) {\n        return new TypeofExpr(expr);\n    }\n    function literalArr(values, type, sourceSpan) {\n        return new LiteralArrayExpr(values, type, sourceSpan);\n    }\n    function literalMap(values, type) {\n        if (type === void 0) { type = null; }\n        return new LiteralMapExpr(values.map(function (e) { return new LiteralMapEntry(e.key, e.value, e.quoted); }), type, null);\n    }\n    function not(expr, sourceSpan) {\n        return new NotExpr(expr, sourceSpan);\n    }\n    function assertNotNull(expr, sourceSpan) {\n        return new AssertNotNull(expr, sourceSpan);\n    }\n    function fn(params, body, type, sourceSpan, name) {\n        return new FunctionExpr(params, body, type, sourceSpan, name);\n    }\n    function ifStmt(condition, thenClause, elseClause) {\n        return new IfStmt(condition, thenClause, elseClause);\n    }\n    function literal(value, type, sourceSpan) {\n        return new LiteralExpr(value, type, sourceSpan);\n    }\n    function isNull(exp) {\n        return exp instanceof LiteralExpr && exp.value === null;\n    }\n    /*\n     * Serializes a `Tag` into a string.\n     * Returns a string like \" @foo {bar} baz\" (note the leading whitespace before `@foo`).\n     */\n    function tagToString(tag) {\n        var out = '';\n        if (tag.tagName) {\n            out += \" @\" + tag.tagName;\n        }\n        if (tag.text) {\n            if (tag.text.match(/\\/\\*|\\*\\//)) {\n                throw new Error('JSDoc text cannot contain \"/*\" and \"*/\"');\n            }\n            out += ' ' + tag.text.replace(/@/g, '\\\\@');\n        }\n        return out;\n    }\n    function serializeTags(tags) {\n        var e_1, _a;\n        if (tags.length === 0)\n            return '';\n        var out = '*\\n';\n        try {\n            for (var tags_1 = __values(tags), tags_1_1 = tags_1.next(); !tags_1_1.done; tags_1_1 = tags_1.next()) {\n                var tag = tags_1_1.value;\n                out += ' *';\n                // If the tagToString is multi-line, insert \" * \" prefixes on subsequent lines.\n                out += tagToString(tag).replace(/\\n/g, '\\n * ');\n                out += '\\n';\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (tags_1_1 && !tags_1_1.done && (_a = tags_1.return)) _a.call(tags_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        out += ' ';\n        return out;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var QUOTED_KEYS = '$quoted$';\n    function convertValueToOutputAst(ctx, value, type) {\n        if (type === void 0) { type = null; }\n        return visitValue(value, new _ValueOutputAstTransformer(ctx), type);\n    }\n    var _ValueOutputAstTransformer = /** @class */ (function () {\n        function _ValueOutputAstTransformer(ctx) {\n            this.ctx = ctx;\n        }\n        _ValueOutputAstTransformer.prototype.visitArray = function (arr, type) {\n            var _this = this;\n            return literalArr(arr.map(function (value) { return visitValue(value, _this, null); }), type);\n        };\n        _ValueOutputAstTransformer.prototype.visitStringMap = function (map, type) {\n            var _this = this;\n            var entries = [];\n            var quotedSet = new Set(map && map[QUOTED_KEYS]);\n            Object.keys(map).forEach(function (key) {\n                entries.push(new LiteralMapEntry(key, visitValue(map[key], _this, null), quotedSet.has(key)));\n            });\n            return new LiteralMapExpr(entries, type);\n        };\n        _ValueOutputAstTransformer.prototype.visitPrimitive = function (value, type) { return literal(value, type); };\n        _ValueOutputAstTransformer.prototype.visitOther = function (value, type) {\n            if (value instanceof Expression) {\n                return value;\n            }\n            else {\n                return this.ctx.importExpr(value);\n            }\n        };\n        return _ValueOutputAstTransformer;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function mapEntry(key, value) {\n        return { key: key, value: value, quoted: false };\n    }\n    var InjectableCompiler = /** @class */ (function () {\n        function InjectableCompiler(reflector, alwaysGenerateDef) {\n            this.reflector = reflector;\n            this.alwaysGenerateDef = alwaysGenerateDef;\n            this.tokenInjector = reflector.resolveExternalReference(Identifiers.Injector);\n        }\n        InjectableCompiler.prototype.depsArray = function (deps, ctx) {\n            var _this = this;\n            return deps.map(function (dep) {\n                var token = dep;\n                var args = [token];\n                var flags = 0 /* Default */;\n                if (Array.isArray(dep)) {\n                    for (var i = 0; i < dep.length; i++) {\n                        var v = dep[i];\n                        if (v) {\n                            if (v.ngMetadataName === 'Optional') {\n                                flags |= 8 /* Optional */;\n                            }\n                            else if (v.ngMetadataName === 'SkipSelf') {\n                                flags |= 4 /* SkipSelf */;\n                            }\n                            else if (v.ngMetadataName === 'Self') {\n                                flags |= 2 /* Self */;\n                            }\n                            else if (v.ngMetadataName === 'Inject') {\n                                token = v.token;\n                            }\n                            else {\n                                token = v;\n                            }\n                        }\n                    }\n                }\n                var tokenExpr;\n                if (typeof token === 'string') {\n                    tokenExpr = literal(token);\n                }\n                else if (token === _this.tokenInjector) {\n                    tokenExpr = importExpr(Identifiers.INJECTOR);\n                }\n                else {\n                    tokenExpr = ctx.importExpr(token);\n                }\n                if (flags !== 0 /* Default */) {\n                    args = [tokenExpr, literal(flags)];\n                }\n                else {\n                    args = [tokenExpr];\n                }\n                return importExpr(Identifiers.inject).callFn(args);\n            });\n        };\n        InjectableCompiler.prototype.factoryFor = function (injectable, ctx) {\n            var retValue;\n            if (injectable.useExisting) {\n                retValue = importExpr(Identifiers.inject).callFn([ctx.importExpr(injectable.useExisting)]);\n            }\n            else if (injectable.useFactory) {\n                var deps = injectable.deps || [];\n                if (deps.length > 0) {\n                    retValue = ctx.importExpr(injectable.useFactory).callFn(this.depsArray(deps, ctx));\n                }\n                else {\n                    return ctx.importExpr(injectable.useFactory);\n                }\n            }\n            else if (injectable.useValue) {\n                retValue = convertValueToOutputAst(ctx, injectable.useValue);\n            }\n            else {\n                var clazz = injectable.useClass || injectable.symbol;\n                var depArgs = this.depsArray(this.reflector.parameters(clazz), ctx);\n                retValue = new InstantiateExpr(ctx.importExpr(clazz), depArgs);\n            }\n            return fn([], [new ReturnStatement(retValue)], undefined, undefined, injectable.symbol.name + '_Factory');\n        };\n        InjectableCompiler.prototype.injectableDef = function (injectable, ctx) {\n            var providedIn = NULL_EXPR;\n            if (injectable.providedIn !== undefined) {\n                if (injectable.providedIn === null) {\n                    providedIn = NULL_EXPR;\n                }\n                else if (typeof injectable.providedIn === 'string') {\n                    providedIn = literal(injectable.providedIn);\n                }\n                else {\n                    providedIn = ctx.importExpr(injectable.providedIn);\n                }\n            }\n            var def = [\n                mapEntry('factory', this.factoryFor(injectable, ctx)),\n                mapEntry('token', ctx.importExpr(injectable.type.reference)),\n                mapEntry('providedIn', providedIn),\n            ];\n            return importExpr(Identifiers.defineInjectable).callFn([literalMap(def)]);\n        };\n        InjectableCompiler.prototype.compile = function (injectable, ctx) {\n            if (this.alwaysGenerateDef || injectable.providedIn !== undefined) {\n                var className = identifierName(injectable.type);\n                var clazz = new ClassStmt(className, null, [\n                    new ClassField('ngInjectableDef', INFERRED_TYPE, [exports.StmtModifier.Static], this.injectableDef(injectable, ctx)),\n                ], [], new ClassMethod(null, [], []), []);\n                ctx.statements.push(clazz);\n            }\n        };\n        return InjectableCompiler;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var STRIP_SRC_FILE_SUFFIXES = /(\\.ts|\\.d\\.ts|\\.js|\\.jsx|\\.tsx)$/;\n    var GENERATED_FILE = /\\.ngfactory\\.|\\.ngsummary\\./;\n    var JIT_SUMMARY_FILE = /\\.ngsummary\\./;\n    var JIT_SUMMARY_NAME = /NgSummary$/;\n    function ngfactoryFilePath(filePath, forceSourceFile) {\n        if (forceSourceFile === void 0) { forceSourceFile = false; }\n        var urlWithSuffix = splitTypescriptSuffix(filePath, forceSourceFile);\n        return urlWithSuffix[0] + \".ngfactory\" + normalizeGenFileSuffix(urlWithSuffix[1]);\n    }\n    function stripGeneratedFileSuffix(filePath) {\n        return filePath.replace(GENERATED_FILE, '.');\n    }\n    function isGeneratedFile(filePath) {\n        return GENERATED_FILE.test(filePath);\n    }\n    function splitTypescriptSuffix(path, forceSourceFile) {\n        if (forceSourceFile === void 0) { forceSourceFile = false; }\n        if (path.endsWith('.d.ts')) {\n            return [path.slice(0, -5), forceSourceFile ? '.ts' : '.d.ts'];\n        }\n        var lastDot = path.lastIndexOf('.');\n        if (lastDot !== -1) {\n            return [path.substring(0, lastDot), path.substring(lastDot)];\n        }\n        return [path, ''];\n    }\n    function normalizeGenFileSuffix(srcFileSuffix) {\n        return srcFileSuffix === '.tsx' ? '.ts' : srcFileSuffix;\n    }\n    function summaryFileName(fileName) {\n        var fileNameWithoutSuffix = fileName.replace(STRIP_SRC_FILE_SUFFIXES, '');\n        return fileNameWithoutSuffix + \".ngsummary.json\";\n    }\n    function summaryForJitFileName(fileName, forceSourceFile) {\n        if (forceSourceFile === void 0) { forceSourceFile = false; }\n        var urlWithSuffix = splitTypescriptSuffix(stripGeneratedFileSuffix(fileName), forceSourceFile);\n        return urlWithSuffix[0] + \".ngsummary\" + urlWithSuffix[1];\n    }\n    function stripSummaryForJitFileSuffix(filePath) {\n        return filePath.replace(JIT_SUMMARY_FILE, '.');\n    }\n    function summaryForJitName(symbolName) {\n        return symbolName + \"NgSummary\";\n    }\n    function stripSummaryForJitNameSuffix(symbolName) {\n        return symbolName.replace(JIT_SUMMARY_NAME, '');\n    }\n    var LOWERED_SYMBOL = /\\u0275\\d+/;\n    function isLoweredSymbol(name) {\n        return LOWERED_SYMBOL.test(name);\n    }\n    function createLoweredSymbol(id) {\n        return \"\\u0275\" + id;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var LifecycleHooks;\n    (function (LifecycleHooks) {\n        LifecycleHooks[LifecycleHooks[\"OnInit\"] = 0] = \"OnInit\";\n        LifecycleHooks[LifecycleHooks[\"OnDestroy\"] = 1] = \"OnDestroy\";\n        LifecycleHooks[LifecycleHooks[\"DoCheck\"] = 2] = \"DoCheck\";\n        LifecycleHooks[LifecycleHooks[\"OnChanges\"] = 3] = \"OnChanges\";\n        LifecycleHooks[LifecycleHooks[\"AfterContentInit\"] = 4] = \"AfterContentInit\";\n        LifecycleHooks[LifecycleHooks[\"AfterContentChecked\"] = 5] = \"AfterContentChecked\";\n        LifecycleHooks[LifecycleHooks[\"AfterViewInit\"] = 6] = \"AfterViewInit\";\n        LifecycleHooks[LifecycleHooks[\"AfterViewChecked\"] = 7] = \"AfterViewChecked\";\n    })(LifecycleHooks || (LifecycleHooks = {}));\n    var LIFECYCLE_HOOKS_VALUES = [\n        LifecycleHooks.OnInit, LifecycleHooks.OnDestroy, LifecycleHooks.DoCheck, LifecycleHooks.OnChanges,\n        LifecycleHooks.AfterContentInit, LifecycleHooks.AfterContentChecked, LifecycleHooks.AfterViewInit,\n        LifecycleHooks.AfterViewChecked\n    ];\n    function hasLifecycleHook(reflector, hook, token) {\n        return reflector.hasLifecycleHook(token, getHookName(hook));\n    }\n    function getAllLifecycleHooks(reflector, token) {\n        return LIFECYCLE_HOOKS_VALUES.filter(function (hook) { return hasLifecycleHook(reflector, hook, token); });\n    }\n    function getHookName(hook) {\n        switch (hook) {\n            case LifecycleHooks.OnInit:\n                return 'ngOnInit';\n            case LifecycleHooks.OnDestroy:\n                return 'ngOnDestroy';\n            case LifecycleHooks.DoCheck:\n                return 'ngDoCheck';\n            case LifecycleHooks.OnChanges:\n                return 'ngOnChanges';\n            case LifecycleHooks.AfterContentInit:\n                return 'ngAfterContentInit';\n            case LifecycleHooks.AfterContentChecked:\n                return 'ngAfterContentChecked';\n            case LifecycleHooks.AfterViewInit:\n                return 'ngAfterViewInit';\n            case LifecycleHooks.AfterViewChecked:\n                return 'ngAfterViewChecked';\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ERROR_COMPONENT_TYPE = 'ngComponentType';\n    // Design notes:\n    // - don't lazily create metadata:\n    //   For some metadata, we need to do async work sometimes,\n    //   so the user has to kick off this loading.\n    //   But we want to report errors even when the async work is\n    //   not required to check that the user would have been able\n    //   to wait correctly.\n    var CompileMetadataResolver = /** @class */ (function () {\n        function CompileMetadataResolver(_config, _htmlParser, _ngModuleResolver, _directiveResolver, _pipeResolver, _summaryResolver, _schemaRegistry, _directiveNormalizer, _console, _staticSymbolCache, _reflector, _errorCollector) {\n            this._config = _config;\n            this._htmlParser = _htmlParser;\n            this._ngModuleResolver = _ngModuleResolver;\n            this._directiveResolver = _directiveResolver;\n            this._pipeResolver = _pipeResolver;\n            this._summaryResolver = _summaryResolver;\n            this._schemaRegistry = _schemaRegistry;\n            this._directiveNormalizer = _directiveNormalizer;\n            this._console = _console;\n            this._staticSymbolCache = _staticSymbolCache;\n            this._reflector = _reflector;\n            this._errorCollector = _errorCollector;\n            this._nonNormalizedDirectiveCache = new Map();\n            this._directiveCache = new Map();\n            this._summaryCache = new Map();\n            this._pipeCache = new Map();\n            this._ngModuleCache = new Map();\n            this._ngModuleOfTypes = new Map();\n            this._shallowModuleCache = new Map();\n        }\n        CompileMetadataResolver.prototype.getReflector = function () { return this._reflector; };\n        CompileMetadataResolver.prototype.clearCacheFor = function (type) {\n            var dirMeta = this._directiveCache.get(type);\n            this._directiveCache.delete(type);\n            this._nonNormalizedDirectiveCache.delete(type);\n            this._summaryCache.delete(type);\n            this._pipeCache.delete(type);\n            this._ngModuleOfTypes.delete(type);\n            // Clear all of the NgModule as they contain transitive information!\n            this._ngModuleCache.clear();\n            if (dirMeta) {\n                this._directiveNormalizer.clearCacheFor(dirMeta);\n            }\n        };\n        CompileMetadataResolver.prototype.clearCache = function () {\n            this._directiveCache.clear();\n            this._nonNormalizedDirectiveCache.clear();\n            this._summaryCache.clear();\n            this._pipeCache.clear();\n            this._ngModuleCache.clear();\n            this._ngModuleOfTypes.clear();\n            this._directiveNormalizer.clearCache();\n        };\n        CompileMetadataResolver.prototype._createProxyClass = function (baseType, name) {\n            var delegate = null;\n            var proxyClass = function () {\n                if (!delegate) {\n                    throw new Error(\"Illegal state: Class \" + name + \" for type \" + stringify(baseType) + \" is not compiled yet!\");\n                }\n                return delegate.apply(this, arguments);\n            };\n            proxyClass.setDelegate = function (d) {\n                delegate = d;\n                proxyClass.prototype = d.prototype;\n            };\n            // Make stringify work correctly\n            proxyClass.overriddenName = name;\n            return proxyClass;\n        };\n        CompileMetadataResolver.prototype.getGeneratedClass = function (dirType, name) {\n            if (dirType instanceof StaticSymbol) {\n                return this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath), name);\n            }\n            else {\n                return this._createProxyClass(dirType, name);\n            }\n        };\n        CompileMetadataResolver.prototype.getComponentViewClass = function (dirType) {\n            return this.getGeneratedClass(dirType, viewClassName(dirType, 0));\n        };\n        CompileMetadataResolver.prototype.getHostComponentViewClass = function (dirType) {\n            return this.getGeneratedClass(dirType, hostViewClassName(dirType));\n        };\n        CompileMetadataResolver.prototype.getHostComponentType = function (dirType) {\n            var name = identifierName({ reference: dirType }) + \"_Host\";\n            if (dirType instanceof StaticSymbol) {\n                return this._staticSymbolCache.get(dirType.filePath, name);\n            }\n            else {\n                var HostClass = function HostClass() { };\n                HostClass.overriddenName = name;\n                return HostClass;\n            }\n        };\n        CompileMetadataResolver.prototype.getRendererType = function (dirType) {\n            if (dirType instanceof StaticSymbol) {\n                return this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath), rendererTypeName(dirType));\n            }\n            else {\n                // returning an object as proxy,\n                // that we fill later during runtime compilation.\n                return {};\n            }\n        };\n        CompileMetadataResolver.prototype.getComponentFactory = function (selector, dirType, inputs, outputs) {\n            if (dirType instanceof StaticSymbol) {\n                return this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath), componentFactoryName(dirType));\n            }\n            else {\n                var hostView = this.getHostComponentViewClass(dirType);\n                // Note: ngContentSelectors will be filled later once the template is\n                // loaded.\n                var createComponentFactory = this._reflector.resolveExternalReference(Identifiers.createComponentFactory);\n                return createComponentFactory(selector, dirType, hostView, inputs, outputs, []);\n            }\n        };\n        CompileMetadataResolver.prototype.initComponentFactory = function (factory, ngContentSelectors) {\n            var _a;\n            if (!(factory instanceof StaticSymbol)) {\n                (_a = factory.ngContentSelectors).push.apply(_a, __spread(ngContentSelectors));\n            }\n        };\n        CompileMetadataResolver.prototype._loadSummary = function (type, kind) {\n            var typeSummary = this._summaryCache.get(type);\n            if (!typeSummary) {\n                var summary = this._summaryResolver.resolveSummary(type);\n                typeSummary = summary ? summary.type : null;\n                this._summaryCache.set(type, typeSummary || null);\n            }\n            return typeSummary && typeSummary.summaryKind === kind ? typeSummary : null;\n        };\n        CompileMetadataResolver.prototype.getHostComponentMetadata = function (compMeta, hostViewType) {\n            var hostType = this.getHostComponentType(compMeta.type.reference);\n            if (!hostViewType) {\n                hostViewType = this.getHostComponentViewClass(hostType);\n            }\n            // Note: ! is ok here as this method should only be called with normalized directive\n            // metadata, which always fills in the selector.\n            var template = CssSelector.parse(compMeta.selector)[0].getMatchingElementTemplate();\n            var templateUrl = '';\n            var htmlAst = this._htmlParser.parse(template, templateUrl);\n            return CompileDirectiveMetadata.create({\n                isHost: true,\n                type: { reference: hostType, diDeps: [], lifecycleHooks: [] },\n                template: new CompileTemplateMetadata({\n                    encapsulation: ViewEncapsulation.None,\n                    template: template,\n                    templateUrl: templateUrl,\n                    htmlAst: htmlAst,\n                    styles: [],\n                    styleUrls: [],\n                    ngContentSelectors: [],\n                    animations: [],\n                    isInline: true,\n                    externalStylesheets: [],\n                    interpolation: null,\n                    preserveWhitespaces: false,\n                }),\n                exportAs: null,\n                changeDetection: ChangeDetectionStrategy.Default,\n                inputs: [],\n                outputs: [],\n                host: {},\n                isComponent: true,\n                selector: '*',\n                providers: [],\n                viewProviders: [],\n                queries: [],\n                guards: {},\n                viewQueries: [],\n                componentViewType: hostViewType,\n                rendererType: { id: '__Host__', encapsulation: ViewEncapsulation.None, styles: [], data: {} },\n                entryComponents: [],\n                componentFactory: null\n            });\n        };\n        CompileMetadataResolver.prototype.loadDirectiveMetadata = function (ngModuleType, directiveType, isSync) {\n            var _this = this;\n            if (this._directiveCache.has(directiveType)) {\n                return null;\n            }\n            directiveType = resolveForwardRef(directiveType);\n            var _a = this.getNonNormalizedDirectiveMetadata(directiveType), annotation = _a.annotation, metadata = _a.metadata;\n            var createDirectiveMetadata = function (templateMetadata) {\n                var normalizedDirMeta = new CompileDirectiveMetadata({\n                    isHost: false,\n                    type: metadata.type,\n                    isComponent: metadata.isComponent,\n                    selector: metadata.selector,\n                    exportAs: metadata.exportAs,\n                    changeDetection: metadata.changeDetection,\n                    inputs: metadata.inputs,\n                    outputs: metadata.outputs,\n                    hostListeners: metadata.hostListeners,\n                    hostProperties: metadata.hostProperties,\n                    hostAttributes: metadata.hostAttributes,\n                    providers: metadata.providers,\n                    viewProviders: metadata.viewProviders,\n                    queries: metadata.queries,\n                    guards: metadata.guards,\n                    viewQueries: metadata.viewQueries,\n                    entryComponents: metadata.entryComponents,\n                    componentViewType: metadata.componentViewType,\n                    rendererType: metadata.rendererType,\n                    componentFactory: metadata.componentFactory,\n                    template: templateMetadata\n                });\n                if (templateMetadata) {\n                    _this.initComponentFactory(metadata.componentFactory, templateMetadata.ngContentSelectors);\n                }\n                _this._directiveCache.set(directiveType, normalizedDirMeta);\n                _this._summaryCache.set(directiveType, normalizedDirMeta.toSummary());\n                return null;\n            };\n            if (metadata.isComponent) {\n                var template = metadata.template;\n                var templateMeta = this._directiveNormalizer.normalizeTemplate({\n                    ngModuleType: ngModuleType,\n                    componentType: directiveType,\n                    moduleUrl: this._reflector.componentModuleUrl(directiveType, annotation),\n                    encapsulation: template.encapsulation,\n                    template: template.template,\n                    templateUrl: template.templateUrl,\n                    styles: template.styles,\n                    styleUrls: template.styleUrls,\n                    animations: template.animations,\n                    interpolation: template.interpolation,\n                    preserveWhitespaces: template.preserveWhitespaces\n                });\n                if (isPromise(templateMeta) && isSync) {\n                    this._reportError(componentStillLoadingError(directiveType), directiveType);\n                    return null;\n                }\n                return SyncAsync.then(templateMeta, createDirectiveMetadata);\n            }\n            else {\n                // directive\n                createDirectiveMetadata(null);\n                return null;\n            }\n        };\n        CompileMetadataResolver.prototype.getNonNormalizedDirectiveMetadata = function (directiveType) {\n            var _this = this;\n            directiveType = resolveForwardRef(directiveType);\n            if (!directiveType) {\n                return null;\n            }\n            var cacheEntry = this._nonNormalizedDirectiveCache.get(directiveType);\n            if (cacheEntry) {\n                return cacheEntry;\n            }\n            var dirMeta = this._directiveResolver.resolve(directiveType, false);\n            if (!dirMeta) {\n                return null;\n            }\n            var nonNormalizedTemplateMetadata = undefined;\n            if (createComponent.isTypeOf(dirMeta)) {\n                // component\n                var compMeta = dirMeta;\n                assertArrayOfStrings('styles', compMeta.styles);\n                assertArrayOfStrings('styleUrls', compMeta.styleUrls);\n                assertInterpolationSymbols('interpolation', compMeta.interpolation);\n                var animations = compMeta.animations;\n                nonNormalizedTemplateMetadata = new CompileTemplateMetadata({\n                    encapsulation: noUndefined(compMeta.encapsulation),\n                    template: noUndefined(compMeta.template),\n                    templateUrl: noUndefined(compMeta.templateUrl),\n                    htmlAst: null,\n                    styles: compMeta.styles || [],\n                    styleUrls: compMeta.styleUrls || [],\n                    animations: animations || [],\n                    interpolation: noUndefined(compMeta.interpolation),\n                    isInline: !!compMeta.template,\n                    externalStylesheets: [],\n                    ngContentSelectors: [],\n                    preserveWhitespaces: noUndefined(dirMeta.preserveWhitespaces),\n                });\n            }\n            var changeDetectionStrategy = null;\n            var viewProviders = [];\n            var entryComponentMetadata = [];\n            var selector = dirMeta.selector;\n            if (createComponent.isTypeOf(dirMeta)) {\n                // Component\n                var compMeta = dirMeta;\n                changeDetectionStrategy = compMeta.changeDetection;\n                if (compMeta.viewProviders) {\n                    viewProviders = this._getProvidersMetadata(compMeta.viewProviders, entryComponentMetadata, \"viewProviders for \\\"\" + stringifyType(directiveType) + \"\\\"\", [], directiveType);\n                }\n                if (compMeta.entryComponents) {\n                    entryComponentMetadata = flattenAndDedupeArray(compMeta.entryComponents)\n                        .map(function (type) { return _this._getEntryComponentMetadata(type); })\n                        .concat(entryComponentMetadata);\n                }\n                if (!selector) {\n                    selector = this._schemaRegistry.getDefaultComponentElementName();\n                }\n            }\n            else {\n                // Directive\n                if (!selector) {\n                    this._reportError(syntaxError(\"Directive \" + stringifyType(directiveType) + \" has no selector, please add it!\"), directiveType);\n                    selector = 'error';\n                }\n            }\n            var providers = [];\n            if (dirMeta.providers != null) {\n                providers = this._getProvidersMetadata(dirMeta.providers, entryComponentMetadata, \"providers for \\\"\" + stringifyType(directiveType) + \"\\\"\", [], directiveType);\n            }\n            var queries = [];\n            var viewQueries = [];\n            if (dirMeta.queries != null) {\n                queries = this._getQueriesMetadata(dirMeta.queries, false, directiveType);\n                viewQueries = this._getQueriesMetadata(dirMeta.queries, true, directiveType);\n            }\n            var metadata = CompileDirectiveMetadata.create({\n                isHost: false,\n                selector: selector,\n                exportAs: noUndefined(dirMeta.exportAs),\n                isComponent: !!nonNormalizedTemplateMetadata,\n                type: this._getTypeMetadata(directiveType),\n                template: nonNormalizedTemplateMetadata,\n                changeDetection: changeDetectionStrategy,\n                inputs: dirMeta.inputs || [],\n                outputs: dirMeta.outputs || [],\n                host: dirMeta.host || {},\n                providers: providers || [],\n                viewProviders: viewProviders || [],\n                queries: queries || [],\n                guards: dirMeta.guards || {},\n                viewQueries: viewQueries || [],\n                entryComponents: entryComponentMetadata,\n                componentViewType: nonNormalizedTemplateMetadata ? this.getComponentViewClass(directiveType) :\n                    null,\n                rendererType: nonNormalizedTemplateMetadata ? this.getRendererType(directiveType) : null,\n                componentFactory: null\n            });\n            if (nonNormalizedTemplateMetadata) {\n                metadata.componentFactory =\n                    this.getComponentFactory(selector, directiveType, metadata.inputs, metadata.outputs);\n            }\n            cacheEntry = { metadata: metadata, annotation: dirMeta };\n            this._nonNormalizedDirectiveCache.set(directiveType, cacheEntry);\n            return cacheEntry;\n        };\n        /**\n         * Gets the metadata for the given directive.\n         * This assumes `loadNgModuleDirectiveAndPipeMetadata` has been called first.\n         */\n        CompileMetadataResolver.prototype.getDirectiveMetadata = function (directiveType) {\n            var dirMeta = this._directiveCache.get(directiveType);\n            if (!dirMeta) {\n                this._reportError(syntaxError(\"Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive \" + stringifyType(directiveType) + \".\"), directiveType);\n            }\n            return dirMeta;\n        };\n        CompileMetadataResolver.prototype.getDirectiveSummary = function (dirType) {\n            var dirSummary = this._loadSummary(dirType, exports.CompileSummaryKind.Directive);\n            if (!dirSummary) {\n                this._reportError(syntaxError(\"Illegal state: Could not load the summary for directive \" + stringifyType(dirType) + \".\"), dirType);\n            }\n            return dirSummary;\n        };\n        CompileMetadataResolver.prototype.isDirective = function (type) {\n            return !!this._loadSummary(type, exports.CompileSummaryKind.Directive) ||\n                this._directiveResolver.isDirective(type);\n        };\n        CompileMetadataResolver.prototype.isPipe = function (type) {\n            return !!this._loadSummary(type, exports.CompileSummaryKind.Pipe) ||\n                this._pipeResolver.isPipe(type);\n        };\n        CompileMetadataResolver.prototype.isNgModule = function (type) {\n            return !!this._loadSummary(type, exports.CompileSummaryKind.NgModule) ||\n                this._ngModuleResolver.isNgModule(type);\n        };\n        CompileMetadataResolver.prototype.getNgModuleSummary = function (moduleType, alreadyCollecting) {\n            if (alreadyCollecting === void 0) { alreadyCollecting = null; }\n            var moduleSummary = this._loadSummary(moduleType, exports.CompileSummaryKind.NgModule);\n            if (!moduleSummary) {\n                var moduleMeta = this.getNgModuleMetadata(moduleType, false, alreadyCollecting);\n                moduleSummary = moduleMeta ? moduleMeta.toSummary() : null;\n                if (moduleSummary) {\n                    this._summaryCache.set(moduleType, moduleSummary);\n                }\n            }\n            return moduleSummary;\n        };\n        /**\n         * Loads the declared directives and pipes of an NgModule.\n         */\n        CompileMetadataResolver.prototype.loadNgModuleDirectiveAndPipeMetadata = function (moduleType, isSync, throwIfNotFound) {\n            var _this = this;\n            if (throwIfNotFound === void 0) { throwIfNotFound = true; }\n            var ngModule = this.getNgModuleMetadata(moduleType, throwIfNotFound);\n            var loading = [];\n            if (ngModule) {\n                ngModule.declaredDirectives.forEach(function (id) {\n                    var promise = _this.loadDirectiveMetadata(moduleType, id.reference, isSync);\n                    if (promise) {\n                        loading.push(promise);\n                    }\n                });\n                ngModule.declaredPipes.forEach(function (id) { return _this._loadPipeMetadata(id.reference); });\n            }\n            return Promise.all(loading);\n        };\n        CompileMetadataResolver.prototype.getShallowModuleMetadata = function (moduleType) {\n            var compileMeta = this._shallowModuleCache.get(moduleType);\n            if (compileMeta) {\n                return compileMeta;\n            }\n            var ngModuleMeta = findLast(this._reflector.shallowAnnotations(moduleType), createNgModule.isTypeOf);\n            compileMeta = {\n                type: this._getTypeMetadata(moduleType),\n                rawExports: ngModuleMeta.exports,\n                rawImports: ngModuleMeta.imports,\n                rawProviders: ngModuleMeta.providers,\n            };\n            this._shallowModuleCache.set(moduleType, compileMeta);\n            return compileMeta;\n        };\n        CompileMetadataResolver.prototype.getNgModuleMetadata = function (moduleType, throwIfNotFound, alreadyCollecting) {\n            var _this = this;\n            if (throwIfNotFound === void 0) { throwIfNotFound = true; }\n            if (alreadyCollecting === void 0) { alreadyCollecting = null; }\n            moduleType = resolveForwardRef(moduleType);\n            var compileMeta = this._ngModuleCache.get(moduleType);\n            if (compileMeta) {\n                return compileMeta;\n            }\n            var meta = this._ngModuleResolver.resolve(moduleType, throwIfNotFound);\n            if (!meta) {\n                return null;\n            }\n            var declaredDirectives = [];\n            var exportedNonModuleIdentifiers = [];\n            var declaredPipes = [];\n            var importedModules = [];\n            var exportedModules = [];\n            var providers = [];\n            var entryComponents = [];\n            var bootstrapComponents = [];\n            var schemas = [];\n            if (meta.imports) {\n                flattenAndDedupeArray(meta.imports).forEach(function (importedType) {\n                    var importedModuleType = undefined;\n                    if (isValidType(importedType)) {\n                        importedModuleType = importedType;\n                    }\n                    else if (importedType && importedType.ngModule) {\n                        var moduleWithProviders = importedType;\n                        importedModuleType = moduleWithProviders.ngModule;\n                        if (moduleWithProviders.providers) {\n                            providers.push.apply(providers, __spread(_this._getProvidersMetadata(moduleWithProviders.providers, entryComponents, \"provider for the NgModule '\" + stringifyType(importedModuleType) + \"'\", [], importedType)));\n                        }\n                    }\n                    if (importedModuleType) {\n                        if (_this._checkSelfImport(moduleType, importedModuleType))\n                            return;\n                        if (!alreadyCollecting)\n                            alreadyCollecting = new Set();\n                        if (alreadyCollecting.has(importedModuleType)) {\n                            _this._reportError(syntaxError(_this._getTypeDescriptor(importedModuleType) + \" '\" + stringifyType(importedType) + \"' is imported recursively by the module '\" + stringifyType(moduleType) + \"'.\"), moduleType);\n                            return;\n                        }\n                        alreadyCollecting.add(importedModuleType);\n                        var importedModuleSummary = _this.getNgModuleSummary(importedModuleType, alreadyCollecting);\n                        alreadyCollecting.delete(importedModuleType);\n                        if (!importedModuleSummary) {\n                            _this._reportError(syntaxError(\"Unexpected \" + _this._getTypeDescriptor(importedType) + \" '\" + stringifyType(importedType) + \"' imported by the module '\" + stringifyType(moduleType) + \"'. Please add a @NgModule annotation.\"), moduleType);\n                            return;\n                        }\n                        importedModules.push(importedModuleSummary);\n                    }\n                    else {\n                        _this._reportError(syntaxError(\"Unexpected value '\" + stringifyType(importedType) + \"' imported by the module '\" + stringifyType(moduleType) + \"'\"), moduleType);\n                        return;\n                    }\n                });\n            }\n            if (meta.exports) {\n                flattenAndDedupeArray(meta.exports).forEach(function (exportedType) {\n                    if (!isValidType(exportedType)) {\n                        _this._reportError(syntaxError(\"Unexpected value '\" + stringifyType(exportedType) + \"' exported by the module '\" + stringifyType(moduleType) + \"'\"), moduleType);\n                        return;\n                    }\n                    if (!alreadyCollecting)\n                        alreadyCollecting = new Set();\n                    if (alreadyCollecting.has(exportedType)) {\n                        _this._reportError(syntaxError(_this._getTypeDescriptor(exportedType) + \" '\" + stringify(exportedType) + \"' is exported recursively by the module '\" + stringifyType(moduleType) + \"'\"), moduleType);\n                        return;\n                    }\n                    alreadyCollecting.add(exportedType);\n                    var exportedModuleSummary = _this.getNgModuleSummary(exportedType, alreadyCollecting);\n                    alreadyCollecting.delete(exportedType);\n                    if (exportedModuleSummary) {\n                        exportedModules.push(exportedModuleSummary);\n                    }\n                    else {\n                        exportedNonModuleIdentifiers.push(_this._getIdentifierMetadata(exportedType));\n                    }\n                });\n            }\n            // Note: This will be modified later, so we rely on\n            // getting a new instance every time!\n            var transitiveModule = this._getTransitiveNgModuleMetadata(importedModules, exportedModules);\n            if (meta.declarations) {\n                flattenAndDedupeArray(meta.declarations).forEach(function (declaredType) {\n                    if (!isValidType(declaredType)) {\n                        _this._reportError(syntaxError(\"Unexpected value '\" + stringifyType(declaredType) + \"' declared by the module '\" + stringifyType(moduleType) + \"'\"), moduleType);\n                        return;\n                    }\n                    var declaredIdentifier = _this._getIdentifierMetadata(declaredType);\n                    if (_this.isDirective(declaredType)) {\n                        transitiveModule.addDirective(declaredIdentifier);\n                        declaredDirectives.push(declaredIdentifier);\n                        _this._addTypeToModule(declaredType, moduleType);\n                    }\n                    else if (_this.isPipe(declaredType)) {\n                        transitiveModule.addPipe(declaredIdentifier);\n                        transitiveModule.pipes.push(declaredIdentifier);\n                        declaredPipes.push(declaredIdentifier);\n                        _this._addTypeToModule(declaredType, moduleType);\n                    }\n                    else {\n                        _this._reportError(syntaxError(\"Unexpected \" + _this._getTypeDescriptor(declaredType) + \" '\" + stringifyType(declaredType) + \"' declared by the module '\" + stringifyType(moduleType) + \"'. Please add a @Pipe/@Directive/@Component annotation.\"), moduleType);\n                        return;\n                    }\n                });\n            }\n            var exportedDirectives = [];\n            var exportedPipes = [];\n            exportedNonModuleIdentifiers.forEach(function (exportedId) {\n                if (transitiveModule.directivesSet.has(exportedId.reference)) {\n                    exportedDirectives.push(exportedId);\n                    transitiveModule.addExportedDirective(exportedId);\n                }\n                else if (transitiveModule.pipesSet.has(exportedId.reference)) {\n                    exportedPipes.push(exportedId);\n                    transitiveModule.addExportedPipe(exportedId);\n                }\n                else {\n                    _this._reportError(syntaxError(\"Can't export \" + _this._getTypeDescriptor(exportedId.reference) + \" \" + stringifyType(exportedId.reference) + \" from \" + stringifyType(moduleType) + \" as it was neither declared nor imported!\"), moduleType);\n                    return;\n                }\n            });\n            // The providers of the module have to go last\n            // so that they overwrite any other provider we already added.\n            if (meta.providers) {\n                providers.push.apply(providers, __spread(this._getProvidersMetadata(meta.providers, entryComponents, \"provider for the NgModule '\" + stringifyType(moduleType) + \"'\", [], moduleType)));\n            }\n            if (meta.entryComponents) {\n                entryComponents.push.apply(entryComponents, __spread(flattenAndDedupeArray(meta.entryComponents)\n                    .map(function (type) { return _this._getEntryComponentMetadata(type); })));\n            }\n            if (meta.bootstrap) {\n                flattenAndDedupeArray(meta.bootstrap).forEach(function (type) {\n                    if (!isValidType(type)) {\n                        _this._reportError(syntaxError(\"Unexpected value '\" + stringifyType(type) + \"' used in the bootstrap property of module '\" + stringifyType(moduleType) + \"'\"), moduleType);\n                        return;\n                    }\n                    bootstrapComponents.push(_this._getIdentifierMetadata(type));\n                });\n            }\n            entryComponents.push.apply(entryComponents, __spread(bootstrapComponents.map(function (type) { return _this._getEntryComponentMetadata(type.reference); })));\n            if (meta.schemas) {\n                schemas.push.apply(schemas, __spread(flattenAndDedupeArray(meta.schemas)));\n            }\n            compileMeta = new CompileNgModuleMetadata({\n                type: this._getTypeMetadata(moduleType),\n                providers: providers,\n                entryComponents: entryComponents,\n                bootstrapComponents: bootstrapComponents,\n                schemas: schemas,\n                declaredDirectives: declaredDirectives,\n                exportedDirectives: exportedDirectives,\n                declaredPipes: declaredPipes,\n                exportedPipes: exportedPipes,\n                importedModules: importedModules,\n                exportedModules: exportedModules,\n                transitiveModule: transitiveModule,\n                id: meta.id || null,\n            });\n            entryComponents.forEach(function (id) { return transitiveModule.addEntryComponent(id); });\n            providers.forEach(function (provider) { return transitiveModule.addProvider(provider, compileMeta.type); });\n            transitiveModule.addModule(compileMeta.type);\n            this._ngModuleCache.set(moduleType, compileMeta);\n            return compileMeta;\n        };\n        CompileMetadataResolver.prototype._checkSelfImport = function (moduleType, importedModuleType) {\n            if (moduleType === importedModuleType) {\n                this._reportError(syntaxError(\"'\" + stringifyType(moduleType) + \"' module can't import itself\"), moduleType);\n                return true;\n            }\n            return false;\n        };\n        CompileMetadataResolver.prototype._getTypeDescriptor = function (type) {\n            if (isValidType(type)) {\n                if (this.isDirective(type)) {\n                    return 'directive';\n                }\n                if (this.isPipe(type)) {\n                    return 'pipe';\n                }\n                if (this.isNgModule(type)) {\n                    return 'module';\n                }\n            }\n            if (type.provide) {\n                return 'provider';\n            }\n            return 'value';\n        };\n        CompileMetadataResolver.prototype._addTypeToModule = function (type, moduleType) {\n            var oldModule = this._ngModuleOfTypes.get(type);\n            if (oldModule && oldModule !== moduleType) {\n                this._reportError(syntaxError(\"Type \" + stringifyType(type) + \" is part of the declarations of 2 modules: \" + stringifyType(oldModule) + \" and \" + stringifyType(moduleType) + \"! \" +\n                    (\"Please consider moving \" + stringifyType(type) + \" to a higher module that imports \" + stringifyType(oldModule) + \" and \" + stringifyType(moduleType) + \". \") +\n                    (\"You can also create a new NgModule that exports and includes \" + stringifyType(type) + \" then import that NgModule in \" + stringifyType(oldModule) + \" and \" + stringifyType(moduleType) + \".\")), moduleType);\n                return;\n            }\n            this._ngModuleOfTypes.set(type, moduleType);\n        };\n        CompileMetadataResolver.prototype._getTransitiveNgModuleMetadata = function (importedModules, exportedModules) {\n            // collect `providers` / `entryComponents` from all imported and all exported modules\n            var result = new TransitiveCompileNgModuleMetadata();\n            var modulesByToken = new Map();\n            importedModules.concat(exportedModules).forEach(function (modSummary) {\n                modSummary.modules.forEach(function (mod) { return result.addModule(mod); });\n                modSummary.entryComponents.forEach(function (comp) { return result.addEntryComponent(comp); });\n                var addedTokens = new Set();\n                modSummary.providers.forEach(function (entry) {\n                    var tokenRef = tokenReference(entry.provider.token);\n                    var prevModules = modulesByToken.get(tokenRef);\n                    if (!prevModules) {\n                        prevModules = new Set();\n                        modulesByToken.set(tokenRef, prevModules);\n                    }\n                    var moduleRef = entry.module.reference;\n                    // Note: the providers of one module may still contain multiple providers\n                    // per token (e.g. for multi providers), and we need to preserve these.\n                    if (addedTokens.has(tokenRef) || !prevModules.has(moduleRef)) {\n                        prevModules.add(moduleRef);\n                        addedTokens.add(tokenRef);\n                        result.addProvider(entry.provider, entry.module);\n                    }\n                });\n            });\n            exportedModules.forEach(function (modSummary) {\n                modSummary.exportedDirectives.forEach(function (id) { return result.addExportedDirective(id); });\n                modSummary.exportedPipes.forEach(function (id) { return result.addExportedPipe(id); });\n            });\n            importedModules.forEach(function (modSummary) {\n                modSummary.exportedDirectives.forEach(function (id) { return result.addDirective(id); });\n                modSummary.exportedPipes.forEach(function (id) { return result.addPipe(id); });\n            });\n            return result;\n        };\n        CompileMetadataResolver.prototype._getIdentifierMetadata = function (type) {\n            type = resolveForwardRef(type);\n            return { reference: type };\n        };\n        CompileMetadataResolver.prototype.isInjectable = function (type) {\n            var annotations = this._reflector.tryAnnotations(type);\n            return annotations.some(function (ann) { return createInjectable.isTypeOf(ann); });\n        };\n        CompileMetadataResolver.prototype.getInjectableSummary = function (type) {\n            return {\n                summaryKind: exports.CompileSummaryKind.Injectable,\n                type: this._getTypeMetadata(type, null, false)\n            };\n        };\n        CompileMetadataResolver.prototype.getInjectableMetadata = function (type, dependencies, throwOnUnknownDeps) {\n            if (dependencies === void 0) { dependencies = null; }\n            if (throwOnUnknownDeps === void 0) { throwOnUnknownDeps = true; }\n            var typeSummary = this._loadSummary(type, exports.CompileSummaryKind.Injectable);\n            var typeMetadata = typeSummary ?\n                typeSummary.type :\n                this._getTypeMetadata(type, dependencies, throwOnUnknownDeps);\n            var annotations = this._reflector.annotations(type).filter(function (ann) { return createInjectable.isTypeOf(ann); });\n            if (annotations.length === 0) {\n                return null;\n            }\n            var meta = annotations[annotations.length - 1];\n            return {\n                symbol: type,\n                type: typeMetadata,\n                providedIn: meta.providedIn,\n                useValue: meta.useValue,\n                useClass: meta.useClass,\n                useExisting: meta.useExisting,\n                useFactory: meta.useFactory,\n                deps: meta.deps,\n            };\n        };\n        CompileMetadataResolver.prototype._getTypeMetadata = function (type, dependencies, throwOnUnknownDeps) {\n            if (dependencies === void 0) { dependencies = null; }\n            if (throwOnUnknownDeps === void 0) { throwOnUnknownDeps = true; }\n            var identifier = this._getIdentifierMetadata(type);\n            return {\n                reference: identifier.reference,\n                diDeps: this._getDependenciesMetadata(identifier.reference, dependencies, throwOnUnknownDeps),\n                lifecycleHooks: getAllLifecycleHooks(this._reflector, identifier.reference),\n            };\n        };\n        CompileMetadataResolver.prototype._getFactoryMetadata = function (factory, dependencies) {\n            if (dependencies === void 0) { dependencies = null; }\n            factory = resolveForwardRef(factory);\n            return { reference: factory, diDeps: this._getDependenciesMetadata(factory, dependencies) };\n        };\n        /**\n         * Gets the metadata for the given pipe.\n         * This assumes `loadNgModuleDirectiveAndPipeMetadata` has been called first.\n         */\n        CompileMetadataResolver.prototype.getPipeMetadata = function (pipeType) {\n            var pipeMeta = this._pipeCache.get(pipeType);\n            if (!pipeMeta) {\n                this._reportError(syntaxError(\"Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe \" + stringifyType(pipeType) + \".\"), pipeType);\n            }\n            return pipeMeta || null;\n        };\n        CompileMetadataResolver.prototype.getPipeSummary = function (pipeType) {\n            var pipeSummary = this._loadSummary(pipeType, exports.CompileSummaryKind.Pipe);\n            if (!pipeSummary) {\n                this._reportError(syntaxError(\"Illegal state: Could not load the summary for pipe \" + stringifyType(pipeType) + \".\"), pipeType);\n            }\n            return pipeSummary;\n        };\n        CompileMetadataResolver.prototype.getOrLoadPipeMetadata = function (pipeType) {\n            var pipeMeta = this._pipeCache.get(pipeType);\n            if (!pipeMeta) {\n                pipeMeta = this._loadPipeMetadata(pipeType);\n            }\n            return pipeMeta;\n        };\n        CompileMetadataResolver.prototype._loadPipeMetadata = function (pipeType) {\n            pipeType = resolveForwardRef(pipeType);\n            var pipeAnnotation = this._pipeResolver.resolve(pipeType);\n            var pipeMeta = new CompilePipeMetadata({\n                type: this._getTypeMetadata(pipeType),\n                name: pipeAnnotation.name,\n                pure: !!pipeAnnotation.pure\n            });\n            this._pipeCache.set(pipeType, pipeMeta);\n            this._summaryCache.set(pipeType, pipeMeta.toSummary());\n            return pipeMeta;\n        };\n        CompileMetadataResolver.prototype._getDependenciesMetadata = function (typeOrFunc, dependencies, throwOnUnknownDeps) {\n            var _this = this;\n            if (throwOnUnknownDeps === void 0) { throwOnUnknownDeps = true; }\n            var hasUnknownDeps = false;\n            var params = dependencies || this._reflector.parameters(typeOrFunc) || [];\n            var dependenciesMetadata = params.map(function (param) {\n                var isAttribute = false;\n                var isHost = false;\n                var isSelf = false;\n                var isSkipSelf = false;\n                var isOptional = false;\n                var token = null;\n                if (Array.isArray(param)) {\n                    param.forEach(function (paramEntry) {\n                        if (createHost.isTypeOf(paramEntry)) {\n                            isHost = true;\n                        }\n                        else if (createSelf.isTypeOf(paramEntry)) {\n                            isSelf = true;\n                        }\n                        else if (createSkipSelf.isTypeOf(paramEntry)) {\n                            isSkipSelf = true;\n                        }\n                        else if (createOptional.isTypeOf(paramEntry)) {\n                            isOptional = true;\n                        }\n                        else if (createAttribute.isTypeOf(paramEntry)) {\n                            isAttribute = true;\n                            token = paramEntry.attributeName;\n                        }\n                        else if (createInject.isTypeOf(paramEntry)) {\n                            token = paramEntry.token;\n                        }\n                        else if (createInjectionToken.isTypeOf(paramEntry) || paramEntry instanceof StaticSymbol) {\n                            token = paramEntry;\n                        }\n                        else if (isValidType(paramEntry) && token == null) {\n                            token = paramEntry;\n                        }\n                    });\n                }\n                else {\n                    token = param;\n                }\n                if (token == null) {\n                    hasUnknownDeps = true;\n                    return null;\n                }\n                return {\n                    isAttribute: isAttribute,\n                    isHost: isHost,\n                    isSelf: isSelf,\n                    isSkipSelf: isSkipSelf,\n                    isOptional: isOptional,\n                    token: _this._getTokenMetadata(token)\n                };\n            });\n            if (hasUnknownDeps) {\n                var depsTokens = dependenciesMetadata.map(function (dep) { return dep ? stringifyType(dep.token) : '?'; }).join(', ');\n                var message = \"Can't resolve all parameters for \" + stringifyType(typeOrFunc) + \": (\" + depsTokens + \").\";\n                if (throwOnUnknownDeps || this._config.strictInjectionParameters) {\n                    this._reportError(syntaxError(message), typeOrFunc);\n                }\n                else {\n                    this._console.warn(\"Warning: \" + message + \" This will become an error in Angular v6.x\");\n                }\n            }\n            return dependenciesMetadata;\n        };\n        CompileMetadataResolver.prototype._getTokenMetadata = function (token) {\n            token = resolveForwardRef(token);\n            var compileToken;\n            if (typeof token === 'string') {\n                compileToken = { value: token };\n            }\n            else {\n                compileToken = { identifier: { reference: token } };\n            }\n            return compileToken;\n        };\n        CompileMetadataResolver.prototype._getProvidersMetadata = function (providers, targetEntryComponents, debugInfo, compileProviders, type) {\n            var _this = this;\n            if (compileProviders === void 0) { compileProviders = []; }\n            providers.forEach(function (provider, providerIdx) {\n                if (Array.isArray(provider)) {\n                    _this._getProvidersMetadata(provider, targetEntryComponents, debugInfo, compileProviders);\n                }\n                else {\n                    provider = resolveForwardRef(provider);\n                    var providerMeta = undefined;\n                    if (provider && typeof provider === 'object' && provider.hasOwnProperty('provide')) {\n                        _this._validateProvider(provider);\n                        providerMeta = new ProviderMeta(provider.provide, provider);\n                    }\n                    else if (isValidType(provider)) {\n                        providerMeta = new ProviderMeta(provider, { useClass: provider });\n                    }\n                    else if (provider === void 0) {\n                        _this._reportError(syntaxError(\"Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files.\"));\n                        return;\n                    }\n                    else {\n                        var providersInfo = providers.reduce(function (soFar, seenProvider, seenProviderIdx) {\n                            if (seenProviderIdx < providerIdx) {\n                                soFar.push(\"\" + stringifyType(seenProvider));\n                            }\n                            else if (seenProviderIdx == providerIdx) {\n                                soFar.push(\"?\" + stringifyType(seenProvider) + \"?\");\n                            }\n                            else if (seenProviderIdx == providerIdx + 1) {\n                                soFar.push('...');\n                            }\n                            return soFar;\n                        }, [])\n                            .join(', ');\n                        _this._reportError(syntaxError(\"Invalid \" + (debugInfo ? debugInfo : 'provider') + \" - only instances of Provider and Type are allowed, got: [\" + providersInfo + \"]\"), type);\n                        return;\n                    }\n                    if (providerMeta.token ===\n                        _this._reflector.resolveExternalReference(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS)) {\n                        targetEntryComponents.push.apply(targetEntryComponents, __spread(_this._getEntryComponentsFromProvider(providerMeta, type)));\n                    }\n                    else {\n                        compileProviders.push(_this.getProviderMetadata(providerMeta));\n                    }\n                }\n            });\n            return compileProviders;\n        };\n        CompileMetadataResolver.prototype._validateProvider = function (provider) {\n            if (provider.hasOwnProperty('useClass') && provider.useClass == null) {\n                this._reportError(syntaxError(\"Invalid provider for \" + stringifyType(provider.provide) + \". useClass cannot be \" + provider.useClass + \".\\n           Usually it happens when:\\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\\n           2. Class was used before it was declared. Use forwardRef in this case.\"));\n            }\n        };\n        CompileMetadataResolver.prototype._getEntryComponentsFromProvider = function (provider, type) {\n            var _this = this;\n            var components = [];\n            var collectedIdentifiers = [];\n            if (provider.useFactory || provider.useExisting || provider.useClass) {\n                this._reportError(syntaxError(\"The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!\"), type);\n                return [];\n            }\n            if (!provider.multi) {\n                this._reportError(syntaxError(\"The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!\"), type);\n                return [];\n            }\n            extractIdentifiers(provider.useValue, collectedIdentifiers);\n            collectedIdentifiers.forEach(function (identifier) {\n                var entry = _this._getEntryComponentMetadata(identifier.reference, false);\n                if (entry) {\n                    components.push(entry);\n                }\n            });\n            return components;\n        };\n        CompileMetadataResolver.prototype._getEntryComponentMetadata = function (dirType, throwIfNotFound) {\n            if (throwIfNotFound === void 0) { throwIfNotFound = true; }\n            var dirMeta = this.getNonNormalizedDirectiveMetadata(dirType);\n            if (dirMeta && dirMeta.metadata.isComponent) {\n                return { componentType: dirType, componentFactory: dirMeta.metadata.componentFactory };\n            }\n            var dirSummary = this._loadSummary(dirType, exports.CompileSummaryKind.Directive);\n            if (dirSummary && dirSummary.isComponent) {\n                return { componentType: dirType, componentFactory: dirSummary.componentFactory };\n            }\n            if (throwIfNotFound) {\n                throw syntaxError(dirType.name + \" cannot be used as an entry component.\");\n            }\n            return null;\n        };\n        CompileMetadataResolver.prototype._getInjectableTypeMetadata = function (type, dependencies) {\n            if (dependencies === void 0) { dependencies = null; }\n            var typeSummary = this._loadSummary(type, exports.CompileSummaryKind.Injectable);\n            if (typeSummary) {\n                return typeSummary.type;\n            }\n            return this._getTypeMetadata(type, dependencies);\n        };\n        CompileMetadataResolver.prototype.getProviderMetadata = function (provider) {\n            var compileDeps = undefined;\n            var compileTypeMetadata = null;\n            var compileFactoryMetadata = null;\n            var token = this._getTokenMetadata(provider.token);\n            if (provider.useClass) {\n                compileTypeMetadata =\n                    this._getInjectableTypeMetadata(provider.useClass, provider.dependencies);\n                compileDeps = compileTypeMetadata.diDeps;\n                if (provider.token === provider.useClass) {\n                    // use the compileTypeMetadata as it contains information about lifecycleHooks...\n                    token = { identifier: compileTypeMetadata };\n                }\n            }\n            else if (provider.useFactory) {\n                compileFactoryMetadata = this._getFactoryMetadata(provider.useFactory, provider.dependencies);\n                compileDeps = compileFactoryMetadata.diDeps;\n            }\n            return {\n                token: token,\n                useClass: compileTypeMetadata,\n                useValue: provider.useValue,\n                useFactory: compileFactoryMetadata,\n                useExisting: provider.useExisting ? this._getTokenMetadata(provider.useExisting) : undefined,\n                deps: compileDeps,\n                multi: provider.multi\n            };\n        };\n        CompileMetadataResolver.prototype._getQueriesMetadata = function (queries, isViewQuery, directiveType) {\n            var _this = this;\n            var res = [];\n            Object.keys(queries).forEach(function (propertyName) {\n                var query = queries[propertyName];\n                if (query.isViewQuery === isViewQuery) {\n                    res.push(_this._getQueryMetadata(query, propertyName, directiveType));\n                }\n            });\n            return res;\n        };\n        CompileMetadataResolver.prototype._queryVarBindings = function (selector) { return selector.split(/\\s*,\\s*/); };\n        CompileMetadataResolver.prototype._getQueryMetadata = function (q, propertyName, typeOrFunc) {\n            var _this = this;\n            var selectors;\n            if (typeof q.selector === 'string') {\n                selectors =\n                    this._queryVarBindings(q.selector).map(function (varName) { return _this._getTokenMetadata(varName); });\n            }\n            else {\n                if (!q.selector) {\n                    this._reportError(syntaxError(\"Can't construct a query for the property \\\"\" + propertyName + \"\\\" of \\\"\" + stringifyType(typeOrFunc) + \"\\\" since the query selector wasn't defined.\"), typeOrFunc);\n                    selectors = [];\n                }\n                else {\n                    selectors = [this._getTokenMetadata(q.selector)];\n                }\n            }\n            return {\n                selectors: selectors,\n                first: q.first,\n                descendants: q.descendants, propertyName: propertyName,\n                read: q.read ? this._getTokenMetadata(q.read) : null\n            };\n        };\n        CompileMetadataResolver.prototype._reportError = function (error$$1, type, otherType) {\n            if (this._errorCollector) {\n                this._errorCollector(error$$1, type);\n                if (otherType) {\n                    this._errorCollector(error$$1, otherType);\n                }\n            }\n            else {\n                throw error$$1;\n            }\n        };\n        return CompileMetadataResolver;\n    }());\n    function flattenArray(tree, out) {\n        if (out === void 0) { out = []; }\n        if (tree) {\n            for (var i = 0; i < tree.length; i++) {\n                var item = resolveForwardRef(tree[i]);\n                if (Array.isArray(item)) {\n                    flattenArray(item, out);\n                }\n                else {\n                    out.push(item);\n                }\n            }\n        }\n        return out;\n    }\n    function dedupeArray(array) {\n        if (array) {\n            return Array.from(new Set(array));\n        }\n        return [];\n    }\n    function flattenAndDedupeArray(tree) {\n        return dedupeArray(flattenArray(tree));\n    }\n    function isValidType(value) {\n        return (value instanceof StaticSymbol) || (value instanceof Type);\n    }\n    function extractIdentifiers(value, targetIdentifiers) {\n        visitValue(value, new _CompileValueConverter(), targetIdentifiers);\n    }\n    var _CompileValueConverter = /** @class */ (function (_super) {\n        __extends(_CompileValueConverter, _super);\n        function _CompileValueConverter() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        _CompileValueConverter.prototype.visitOther = function (value, targetIdentifiers) {\n            targetIdentifiers.push({ reference: value });\n        };\n        return _CompileValueConverter;\n    }(ValueTransformer));\n    function stringifyType(type) {\n        if (type instanceof StaticSymbol) {\n            return type.name + \" in \" + type.filePath;\n        }\n        else {\n            return stringify(type);\n        }\n    }\n    /**\n     * Indicates that a component is still being loaded in a synchronous compile.\n     */\n    function componentStillLoadingError(compType) {\n        var error$$1 = Error(\"Can't compile synchronously as \" + stringify(compType) + \" is still being loaded!\");\n        error$$1[ERROR_COMPONENT_TYPE] = compType;\n        return error$$1;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ProviderError = /** @class */ (function (_super) {\n        __extends(ProviderError, _super);\n        function ProviderError(message, span) {\n            return _super.call(this, span, message) || this;\n        }\n        return ProviderError;\n    }(ParseError));\n    var ProviderViewContext = /** @class */ (function () {\n        function ProviderViewContext(reflector, component) {\n            var _this = this;\n            this.reflector = reflector;\n            this.component = component;\n            this.errors = [];\n            this.viewQueries = _getViewQueries(component);\n            this.viewProviders = new Map();\n            component.viewProviders.forEach(function (provider) {\n                if (_this.viewProviders.get(tokenReference(provider.token)) == null) {\n                    _this.viewProviders.set(tokenReference(provider.token), true);\n                }\n            });\n        }\n        return ProviderViewContext;\n    }());\n    var ProviderElementContext = /** @class */ (function () {\n        function ProviderElementContext(viewContext, _parent, _isViewRoot, _directiveAsts, attrs, refs, isTemplate, contentQueryStartId, _sourceSpan) {\n            var _this = this;\n            this.viewContext = viewContext;\n            this._parent = _parent;\n            this._isViewRoot = _isViewRoot;\n            this._directiveAsts = _directiveAsts;\n            this._sourceSpan = _sourceSpan;\n            this._transformedProviders = new Map();\n            this._seenProviders = new Map();\n            this._queriedTokens = new Map();\n            this.transformedHasViewContainer = false;\n            this._attrs = {};\n            attrs.forEach(function (attrAst) { return _this._attrs[attrAst.name] = attrAst.value; });\n            var directivesMeta = _directiveAsts.map(function (directiveAst) { return directiveAst.directive; });\n            this._allProviders =\n                _resolveProvidersFromDirectives(directivesMeta, _sourceSpan, viewContext.errors);\n            this._contentQueries = _getContentQueries(contentQueryStartId, directivesMeta);\n            Array.from(this._allProviders.values()).forEach(function (provider) {\n                _this._addQueryReadsTo(provider.token, provider.token, _this._queriedTokens);\n            });\n            if (isTemplate) {\n                var templateRefId = createTokenForExternalReference(this.viewContext.reflector, Identifiers.TemplateRef);\n                this._addQueryReadsTo(templateRefId, templateRefId, this._queriedTokens);\n            }\n            refs.forEach(function (refAst) {\n                var defaultQueryValue = refAst.value ||\n                    createTokenForExternalReference(_this.viewContext.reflector, Identifiers.ElementRef);\n                _this._addQueryReadsTo({ value: refAst.name }, defaultQueryValue, _this._queriedTokens);\n            });\n            if (this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef))) {\n                this.transformedHasViewContainer = true;\n            }\n            // create the providers that we know are eager first\n            Array.from(this._allProviders.values()).forEach(function (provider) {\n                var eager = provider.eager || _this._queriedTokens.get(tokenReference(provider.token));\n                if (eager) {\n                    _this._getOrCreateLocalProvider(provider.providerType, provider.token, true);\n                }\n            });\n        }\n        ProviderElementContext.prototype.afterElement = function () {\n            var _this = this;\n            // collect lazy providers\n            Array.from(this._allProviders.values()).forEach(function (provider) {\n                _this._getOrCreateLocalProvider(provider.providerType, provider.token, false);\n            });\n        };\n        Object.defineProperty(ProviderElementContext.prototype, \"transformProviders\", {\n            get: function () {\n                // Note: Maps keep their insertion order.\n                var lazyProviders = [];\n                var eagerProviders = [];\n                this._transformedProviders.forEach(function (provider) {\n                    if (provider.eager) {\n                        eagerProviders.push(provider);\n                    }\n                    else {\n                        lazyProviders.push(provider);\n                    }\n                });\n                return lazyProviders.concat(eagerProviders);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ProviderElementContext.prototype, \"transformedDirectiveAsts\", {\n            get: function () {\n                var sortedProviderTypes = this.transformProviders.map(function (provider) { return provider.token.identifier; });\n                var sortedDirectives = this._directiveAsts.slice();\n                sortedDirectives.sort(function (dir1, dir2) { return sortedProviderTypes.indexOf(dir1.directive.type) -\n                    sortedProviderTypes.indexOf(dir2.directive.type); });\n                return sortedDirectives;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ProviderElementContext.prototype, \"queryMatches\", {\n            get: function () {\n                var allMatches = [];\n                this._queriedTokens.forEach(function (matches) { allMatches.push.apply(allMatches, __spread(matches)); });\n                return allMatches;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        ProviderElementContext.prototype._addQueryReadsTo = function (token, defaultValue, queryReadTokens) {\n            this._getQueriesFor(token).forEach(function (query) {\n                var queryValue = query.meta.read || defaultValue;\n                var tokenRef = tokenReference(queryValue);\n                var queryMatches = queryReadTokens.get(tokenRef);\n                if (!queryMatches) {\n                    queryMatches = [];\n                    queryReadTokens.set(tokenRef, queryMatches);\n                }\n                queryMatches.push({ queryId: query.queryId, value: queryValue });\n            });\n        };\n        ProviderElementContext.prototype._getQueriesFor = function (token) {\n            var result = [];\n            var currentEl = this;\n            var distance = 0;\n            var queries;\n            while (currentEl !== null) {\n                queries = currentEl._contentQueries.get(tokenReference(token));\n                if (queries) {\n                    result.push.apply(result, __spread(queries.filter(function (query) { return query.meta.descendants || distance <= 1; })));\n                }\n                if (currentEl._directiveAsts.length > 0) {\n                    distance++;\n                }\n                currentEl = currentEl._parent;\n            }\n            queries = this.viewContext.viewQueries.get(tokenReference(token));\n            if (queries) {\n                result.push.apply(result, __spread(queries));\n            }\n            return result;\n        };\n        ProviderElementContext.prototype._getOrCreateLocalProvider = function (requestingProviderType, token, eager) {\n            var _this = this;\n            var resolvedProvider = this._allProviders.get(tokenReference(token));\n            if (!resolvedProvider || ((requestingProviderType === exports.ProviderAstType.Directive ||\n                requestingProviderType === exports.ProviderAstType.PublicService) &&\n                resolvedProvider.providerType === exports.ProviderAstType.PrivateService) ||\n                ((requestingProviderType === exports.ProviderAstType.PrivateService ||\n                    requestingProviderType === exports.ProviderAstType.PublicService) &&\n                    resolvedProvider.providerType === exports.ProviderAstType.Builtin)) {\n                return null;\n            }\n            var transformedProviderAst = this._transformedProviders.get(tokenReference(token));\n            if (transformedProviderAst) {\n                return transformedProviderAst;\n            }\n            if (this._seenProviders.get(tokenReference(token)) != null) {\n                this.viewContext.errors.push(new ProviderError(\"Cannot instantiate cyclic dependency! \" + tokenName(token), this._sourceSpan));\n                return null;\n            }\n            this._seenProviders.set(tokenReference(token), true);\n            var transformedProviders = resolvedProvider.providers.map(function (provider) {\n                var transformedUseValue = provider.useValue;\n                var transformedUseExisting = provider.useExisting;\n                var transformedDeps = undefined;\n                if (provider.useExisting != null) {\n                    var existingDiDep = _this._getDependency(resolvedProvider.providerType, { token: provider.useExisting }, eager);\n                    if (existingDiDep.token != null) {\n                        transformedUseExisting = existingDiDep.token;\n                    }\n                    else {\n                        transformedUseExisting = null;\n                        transformedUseValue = existingDiDep.value;\n                    }\n                }\n                else if (provider.useFactory) {\n                    var deps = provider.deps || provider.useFactory.diDeps;\n                    transformedDeps =\n                        deps.map(function (dep) { return _this._getDependency(resolvedProvider.providerType, dep, eager); });\n                }\n                else if (provider.useClass) {\n                    var deps = provider.deps || provider.useClass.diDeps;\n                    transformedDeps =\n                        deps.map(function (dep) { return _this._getDependency(resolvedProvider.providerType, dep, eager); });\n                }\n                return _transformProvider(provider, {\n                    useExisting: transformedUseExisting,\n                    useValue: transformedUseValue,\n                    deps: transformedDeps\n                });\n            });\n            transformedProviderAst =\n                _transformProviderAst(resolvedProvider, { eager: eager, providers: transformedProviders });\n            this._transformedProviders.set(tokenReference(token), transformedProviderAst);\n            return transformedProviderAst;\n        };\n        ProviderElementContext.prototype._getLocalDependency = function (requestingProviderType, dep, eager) {\n            if (eager === void 0) { eager = false; }\n            if (dep.isAttribute) {\n                var attrValue = this._attrs[dep.token.value];\n                return { isValue: true, value: attrValue == null ? null : attrValue };\n            }\n            if (dep.token != null) {\n                // access builtints\n                if ((requestingProviderType === exports.ProviderAstType.Directive ||\n                    requestingProviderType === exports.ProviderAstType.Component)) {\n                    if (tokenReference(dep.token) ===\n                        this.viewContext.reflector.resolveExternalReference(Identifiers.Renderer) ||\n                        tokenReference(dep.token) ===\n                            this.viewContext.reflector.resolveExternalReference(Identifiers.ElementRef) ||\n                        tokenReference(dep.token) ===\n                            this.viewContext.reflector.resolveExternalReference(Identifiers.ChangeDetectorRef) ||\n                        tokenReference(dep.token) ===\n                            this.viewContext.reflector.resolveExternalReference(Identifiers.TemplateRef)) {\n                        return dep;\n                    }\n                    if (tokenReference(dep.token) ===\n                        this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef)) {\n                        this.transformedHasViewContainer = true;\n                    }\n                }\n                // access the injector\n                if (tokenReference(dep.token) ===\n                    this.viewContext.reflector.resolveExternalReference(Identifiers.Injector)) {\n                    return dep;\n                }\n                // access providers\n                if (this._getOrCreateLocalProvider(requestingProviderType, dep.token, eager) != null) {\n                    return dep;\n                }\n            }\n            return null;\n        };\n        ProviderElementContext.prototype._getDependency = function (requestingProviderType, dep, eager) {\n            if (eager === void 0) { eager = false; }\n            var currElement = this;\n            var currEager = eager;\n            var result = null;\n            if (!dep.isSkipSelf) {\n                result = this._getLocalDependency(requestingProviderType, dep, eager);\n            }\n            if (dep.isSelf) {\n                if (!result && dep.isOptional) {\n                    result = { isValue: true, value: null };\n                }\n            }\n            else {\n                // check parent elements\n                while (!result && currElement._parent) {\n                    var prevElement = currElement;\n                    currElement = currElement._parent;\n                    if (prevElement._isViewRoot) {\n                        currEager = false;\n                    }\n                    result = currElement._getLocalDependency(exports.ProviderAstType.PublicService, dep, currEager);\n                }\n                // check @Host restriction\n                if (!result) {\n                    if (!dep.isHost || this.viewContext.component.isHost ||\n                        this.viewContext.component.type.reference === tokenReference(dep.token) ||\n                        this.viewContext.viewProviders.get(tokenReference(dep.token)) != null) {\n                        result = dep;\n                    }\n                    else {\n                        result = dep.isOptional ? { isValue: true, value: null } : null;\n                    }\n                }\n            }\n            if (!result) {\n                this.viewContext.errors.push(new ProviderError(\"No provider for \" + tokenName(dep.token), this._sourceSpan));\n            }\n            return result;\n        };\n        return ProviderElementContext;\n    }());\n    var NgModuleProviderAnalyzer = /** @class */ (function () {\n        function NgModuleProviderAnalyzer(reflector, ngModule, extraProviders, sourceSpan) {\n            var _this = this;\n            this.reflector = reflector;\n            this._transformedProviders = new Map();\n            this._seenProviders = new Map();\n            this._errors = [];\n            this._allProviders = new Map();\n            ngModule.transitiveModule.modules.forEach(function (ngModuleType) {\n                var ngModuleProvider = { token: { identifier: ngModuleType }, useClass: ngModuleType };\n                _resolveProviders([ngModuleProvider], exports.ProviderAstType.PublicService, true, sourceSpan, _this._errors, _this._allProviders, /* isModule */ true);\n            });\n            _resolveProviders(ngModule.transitiveModule.providers.map(function (entry) { return entry.provider; }).concat(extraProviders), exports.ProviderAstType.PublicService, false, sourceSpan, this._errors, this._allProviders, \n            /* isModule */ false);\n        }\n        NgModuleProviderAnalyzer.prototype.parse = function () {\n            var _this = this;\n            Array.from(this._allProviders.values()).forEach(function (provider) {\n                _this._getOrCreateLocalProvider(provider.token, provider.eager);\n            });\n            if (this._errors.length > 0) {\n                var errorString = this._errors.join('\\n');\n                throw new Error(\"Provider parse errors:\\n\" + errorString);\n            }\n            // Note: Maps keep their insertion order.\n            var lazyProviders = [];\n            var eagerProviders = [];\n            this._transformedProviders.forEach(function (provider) {\n                if (provider.eager) {\n                    eagerProviders.push(provider);\n                }\n                else {\n                    lazyProviders.push(provider);\n                }\n            });\n            return lazyProviders.concat(eagerProviders);\n        };\n        NgModuleProviderAnalyzer.prototype._getOrCreateLocalProvider = function (token, eager) {\n            var _this = this;\n            var resolvedProvider = this._allProviders.get(tokenReference(token));\n            if (!resolvedProvider) {\n                return null;\n            }\n            var transformedProviderAst = this._transformedProviders.get(tokenReference(token));\n            if (transformedProviderAst) {\n                return transformedProviderAst;\n            }\n            if (this._seenProviders.get(tokenReference(token)) != null) {\n                this._errors.push(new ProviderError(\"Cannot instantiate cyclic dependency! \" + tokenName(token), resolvedProvider.sourceSpan));\n                return null;\n            }\n            this._seenProviders.set(tokenReference(token), true);\n            var transformedProviders = resolvedProvider.providers.map(function (provider) {\n                var transformedUseValue = provider.useValue;\n                var transformedUseExisting = provider.useExisting;\n                var transformedDeps = undefined;\n                if (provider.useExisting != null) {\n                    var existingDiDep = _this._getDependency({ token: provider.useExisting }, eager, resolvedProvider.sourceSpan);\n                    if (existingDiDep.token != null) {\n                        transformedUseExisting = existingDiDep.token;\n                    }\n                    else {\n                        transformedUseExisting = null;\n                        transformedUseValue = existingDiDep.value;\n                    }\n                }\n                else if (provider.useFactory) {\n                    var deps = provider.deps || provider.useFactory.diDeps;\n                    transformedDeps =\n                        deps.map(function (dep) { return _this._getDependency(dep, eager, resolvedProvider.sourceSpan); });\n                }\n                else if (provider.useClass) {\n                    var deps = provider.deps || provider.useClass.diDeps;\n                    transformedDeps =\n                        deps.map(function (dep) { return _this._getDependency(dep, eager, resolvedProvider.sourceSpan); });\n                }\n                return _transformProvider(provider, {\n                    useExisting: transformedUseExisting,\n                    useValue: transformedUseValue,\n                    deps: transformedDeps\n                });\n            });\n            transformedProviderAst =\n                _transformProviderAst(resolvedProvider, { eager: eager, providers: transformedProviders });\n            this._transformedProviders.set(tokenReference(token), transformedProviderAst);\n            return transformedProviderAst;\n        };\n        NgModuleProviderAnalyzer.prototype._getDependency = function (dep, eager, requestorSourceSpan) {\n            if (eager === void 0) { eager = false; }\n            if (!dep.isSkipSelf && dep.token != null) {\n                // access the injector\n                if (tokenReference(dep.token) ===\n                    this.reflector.resolveExternalReference(Identifiers.Injector) ||\n                    tokenReference(dep.token) ===\n                        this.reflector.resolveExternalReference(Identifiers.ComponentFactoryResolver)) ;\n                else if (this._getOrCreateLocalProvider(dep.token, eager) != null) ;\n            }\n            return dep;\n        };\n        return NgModuleProviderAnalyzer;\n    }());\n    function _transformProvider(provider, _a) {\n        var useExisting = _a.useExisting, useValue = _a.useValue, deps = _a.deps;\n        return {\n            token: provider.token,\n            useClass: provider.useClass,\n            useExisting: useExisting,\n            useFactory: provider.useFactory,\n            useValue: useValue,\n            deps: deps,\n            multi: provider.multi\n        };\n    }\n    function _transformProviderAst(provider, _a) {\n        var eager = _a.eager, providers = _a.providers;\n        return new ProviderAst(provider.token, provider.multiProvider, provider.eager || eager, providers, provider.providerType, provider.lifecycleHooks, provider.sourceSpan, provider.isModule);\n    }\n    function _resolveProvidersFromDirectives(directives, sourceSpan, targetErrors) {\n        var providersByToken = new Map();\n        directives.forEach(function (directive) {\n            var dirProvider = { token: { identifier: directive.type }, useClass: directive.type };\n            _resolveProviders([dirProvider], directive.isComponent ? exports.ProviderAstType.Component : exports.ProviderAstType.Directive, true, sourceSpan, targetErrors, providersByToken, /* isModule */ false);\n        });\n        // Note: directives need to be able to overwrite providers of a component!\n        var directivesWithComponentFirst = directives.filter(function (dir) { return dir.isComponent; }).concat(directives.filter(function (dir) { return !dir.isComponent; }));\n        directivesWithComponentFirst.forEach(function (directive) {\n            _resolveProviders(directive.providers, exports.ProviderAstType.PublicService, false, sourceSpan, targetErrors, providersByToken, /* isModule */ false);\n            _resolveProviders(directive.viewProviders, exports.ProviderAstType.PrivateService, false, sourceSpan, targetErrors, providersByToken, /* isModule */ false);\n        });\n        return providersByToken;\n    }\n    function _resolveProviders(providers, providerType, eager, sourceSpan, targetErrors, targetProvidersByToken, isModule) {\n        providers.forEach(function (provider) {\n            var resolvedProvider = targetProvidersByToken.get(tokenReference(provider.token));\n            if (resolvedProvider != null && !!resolvedProvider.multiProvider !== !!provider.multi) {\n                targetErrors.push(new ProviderError(\"Mixing multi and non multi provider is not possible for token \" + tokenName(resolvedProvider.token), sourceSpan));\n            }\n            if (!resolvedProvider) {\n                var lifecycleHooks = provider.token.identifier &&\n                    provider.token.identifier.lifecycleHooks ?\n                    provider.token.identifier.lifecycleHooks :\n                    [];\n                var isUseValue = !(provider.useClass || provider.useExisting || provider.useFactory);\n                resolvedProvider = new ProviderAst(provider.token, !!provider.multi, eager || isUseValue, [provider], providerType, lifecycleHooks, sourceSpan, isModule);\n                targetProvidersByToken.set(tokenReference(provider.token), resolvedProvider);\n            }\n            else {\n                if (!provider.multi) {\n                    resolvedProvider.providers.length = 0;\n                }\n                resolvedProvider.providers.push(provider);\n            }\n        });\n    }\n    function _getViewQueries(component) {\n        // Note: queries start with id 1 so we can use the number in a Bloom filter!\n        var viewQueryId = 1;\n        var viewQueries = new Map();\n        if (component.viewQueries) {\n            component.viewQueries.forEach(function (query) { return _addQueryToTokenMap(viewQueries, { meta: query, queryId: viewQueryId++ }); });\n        }\n        return viewQueries;\n    }\n    function _getContentQueries(contentQueryStartId, directives) {\n        var contentQueryId = contentQueryStartId;\n        var contentQueries = new Map();\n        directives.forEach(function (directive, directiveIndex) {\n            if (directive.queries) {\n                directive.queries.forEach(function (query) { return _addQueryToTokenMap(contentQueries, { meta: query, queryId: contentQueryId++ }); });\n            }\n        });\n        return contentQueries;\n    }\n    function _addQueryToTokenMap(map, query) {\n        query.meta.selectors.forEach(function (token) {\n            var entry = map.get(tokenReference(token));\n            if (!entry) {\n                entry = [];\n                map.set(tokenReference(token), entry);\n            }\n            entry.push(query);\n        });\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function providerDef(ctx, providerAst) {\n        var flags = 0 /* None */;\n        if (!providerAst.eager) {\n            flags |= 4096 /* LazyProvider */;\n        }\n        if (providerAst.providerType === exports.ProviderAstType.PrivateService) {\n            flags |= 8192 /* PrivateProvider */;\n        }\n        if (providerAst.isModule) {\n            flags |= 1073741824 /* TypeModuleProvider */;\n        }\n        providerAst.lifecycleHooks.forEach(function (lifecycleHook) {\n            // for regular providers, we only support ngOnDestroy\n            if (lifecycleHook === LifecycleHooks.OnDestroy ||\n                providerAst.providerType === exports.ProviderAstType.Directive ||\n                providerAst.providerType === exports.ProviderAstType.Component) {\n                flags |= lifecycleHookToNodeFlag(lifecycleHook);\n            }\n        });\n        var _a = providerAst.multiProvider ?\n            multiProviderDef(ctx, flags, providerAst.providers) :\n            singleProviderDef(ctx, flags, providerAst.providerType, providerAst.providers[0]), providerExpr = _a.providerExpr, providerFlags = _a.flags, depsExpr = _a.depsExpr;\n        return {\n            providerExpr: providerExpr,\n            flags: providerFlags, depsExpr: depsExpr,\n            tokenExpr: tokenExpr(ctx, providerAst.token),\n        };\n    }\n    function multiProviderDef(ctx, flags, providers) {\n        var allDepDefs = [];\n        var allParams = [];\n        var exprs = providers.map(function (provider, providerIndex) {\n            var expr;\n            if (provider.useClass) {\n                var depExprs = convertDeps(providerIndex, provider.deps || provider.useClass.diDeps);\n                expr = ctx.importExpr(provider.useClass.reference).instantiate(depExprs);\n            }\n            else if (provider.useFactory) {\n                var depExprs = convertDeps(providerIndex, provider.deps || provider.useFactory.diDeps);\n                expr = ctx.importExpr(provider.useFactory.reference).callFn(depExprs);\n            }\n            else if (provider.useExisting) {\n                var depExprs = convertDeps(providerIndex, [{ token: provider.useExisting }]);\n                expr = depExprs[0];\n            }\n            else {\n                expr = convertValueToOutputAst(ctx, provider.useValue);\n            }\n            return expr;\n        });\n        var providerExpr = fn(allParams, [new ReturnStatement(literalArr(exprs))], INFERRED_TYPE);\n        return {\n            providerExpr: providerExpr,\n            flags: flags | 1024 /* TypeFactoryProvider */,\n            depsExpr: literalArr(allDepDefs)\n        };\n        function convertDeps(providerIndex, deps) {\n            return deps.map(function (dep, depIndex) {\n                var paramName = \"p\" + providerIndex + \"_\" + depIndex;\n                allParams.push(new FnParam(paramName, DYNAMIC_TYPE));\n                allDepDefs.push(depDef(ctx, dep));\n                return variable(paramName);\n            });\n        }\n    }\n    function singleProviderDef(ctx, flags, providerType, providerMeta) {\n        var providerExpr;\n        var deps;\n        if (providerType === exports.ProviderAstType.Directive || providerType === exports.ProviderAstType.Component) {\n            providerExpr = ctx.importExpr(providerMeta.useClass.reference);\n            flags |= 16384 /* TypeDirective */;\n            deps = providerMeta.deps || providerMeta.useClass.diDeps;\n        }\n        else {\n            if (providerMeta.useClass) {\n                providerExpr = ctx.importExpr(providerMeta.useClass.reference);\n                flags |= 512 /* TypeClassProvider */;\n                deps = providerMeta.deps || providerMeta.useClass.diDeps;\n            }\n            else if (providerMeta.useFactory) {\n                providerExpr = ctx.importExpr(providerMeta.useFactory.reference);\n                flags |= 1024 /* TypeFactoryProvider */;\n                deps = providerMeta.deps || providerMeta.useFactory.diDeps;\n            }\n            else if (providerMeta.useExisting) {\n                providerExpr = NULL_EXPR;\n                flags |= 2048 /* TypeUseExistingProvider */;\n                deps = [{ token: providerMeta.useExisting }];\n            }\n            else {\n                providerExpr = convertValueToOutputAst(ctx, providerMeta.useValue);\n                flags |= 256 /* TypeValueProvider */;\n                deps = [];\n            }\n        }\n        var depsExpr = literalArr(deps.map(function (dep) { return depDef(ctx, dep); }));\n        return { providerExpr: providerExpr, flags: flags, depsExpr: depsExpr };\n    }\n    function tokenExpr(ctx, tokenMeta) {\n        return tokenMeta.identifier ? ctx.importExpr(tokenMeta.identifier.reference) :\n            literal(tokenMeta.value);\n    }\n    function depDef(ctx, dep) {\n        // Note: the following fields have already been normalized out by provider_analyzer:\n        // - isAttribute, isHost\n        var expr = dep.isValue ? convertValueToOutputAst(ctx, dep.value) : tokenExpr(ctx, dep.token);\n        var flags = 0 /* None */;\n        if (dep.isSkipSelf) {\n            flags |= 1 /* SkipSelf */;\n        }\n        if (dep.isOptional) {\n            flags |= 2 /* Optional */;\n        }\n        if (dep.isSelf) {\n            flags |= 4 /* Self */;\n        }\n        if (dep.isValue) {\n            flags |= 8 /* Value */;\n        }\n        return flags === 0 /* None */ ? expr : literalArr([literal(flags), expr]);\n    }\n    function lifecycleHookToNodeFlag(lifecycleHook) {\n        var nodeFlag = 0 /* None */;\n        switch (lifecycleHook) {\n            case LifecycleHooks.AfterContentChecked:\n                nodeFlag = 2097152 /* AfterContentChecked */;\n                break;\n            case LifecycleHooks.AfterContentInit:\n                nodeFlag = 1048576 /* AfterContentInit */;\n                break;\n            case LifecycleHooks.AfterViewChecked:\n                nodeFlag = 8388608 /* AfterViewChecked */;\n                break;\n            case LifecycleHooks.AfterViewInit:\n                nodeFlag = 4194304 /* AfterViewInit */;\n                break;\n            case LifecycleHooks.DoCheck:\n                nodeFlag = 262144 /* DoCheck */;\n                break;\n            case LifecycleHooks.OnChanges:\n                nodeFlag = 524288 /* OnChanges */;\n                break;\n            case LifecycleHooks.OnDestroy:\n                nodeFlag = 131072 /* OnDestroy */;\n                break;\n            case LifecycleHooks.OnInit:\n                nodeFlag = 65536 /* OnInit */;\n                break;\n        }\n        return nodeFlag;\n    }\n    function componentFactoryResolverProviderDef(reflector, ctx, flags, entryComponents) {\n        var entryComponentFactories = entryComponents.map(function (entryComponent) { return ctx.importExpr(entryComponent.componentFactory); });\n        var token = createTokenForExternalReference(reflector, Identifiers.ComponentFactoryResolver);\n        var classMeta = {\n            diDeps: [\n                { isValue: true, value: literalArr(entryComponentFactories) },\n                { token: token, isSkipSelf: true, isOptional: true },\n                { token: createTokenForExternalReference(reflector, Identifiers.NgModuleRef) },\n            ],\n            lifecycleHooks: [],\n            reference: reflector.resolveExternalReference(Identifiers.CodegenComponentFactoryResolver)\n        };\n        var _a = singleProviderDef(ctx, flags, exports.ProviderAstType.PrivateService, {\n            token: token,\n            multi: false,\n            useClass: classMeta,\n        }), providerExpr = _a.providerExpr, providerFlags = _a.flags, depsExpr = _a.depsExpr;\n        return { providerExpr: providerExpr, flags: providerFlags, depsExpr: depsExpr, tokenExpr: tokenExpr(ctx, token) };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var NgModuleCompileResult = /** @class */ (function () {\n        function NgModuleCompileResult(ngModuleFactoryVar) {\n            this.ngModuleFactoryVar = ngModuleFactoryVar;\n        }\n        return NgModuleCompileResult;\n    }());\n    var LOG_VAR = variable('_l');\n    var NgModuleCompiler = /** @class */ (function () {\n        function NgModuleCompiler(reflector) {\n            this.reflector = reflector;\n        }\n        NgModuleCompiler.prototype.compile = function (ctx, ngModuleMeta, extraProviders) {\n            var sourceSpan = typeSourceSpan('NgModule', ngModuleMeta.type);\n            var entryComponentFactories = ngModuleMeta.transitiveModule.entryComponents;\n            var bootstrapComponents = ngModuleMeta.bootstrapComponents;\n            var providerParser = new NgModuleProviderAnalyzer(this.reflector, ngModuleMeta, extraProviders, sourceSpan);\n            var providerDefs = [componentFactoryResolverProviderDef(this.reflector, ctx, 0 /* None */, entryComponentFactories)]\n                .concat(providerParser.parse().map(function (provider) { return providerDef(ctx, provider); }))\n                .map(function (_a) {\n                var providerExpr = _a.providerExpr, depsExpr = _a.depsExpr, flags = _a.flags, tokenExpr = _a.tokenExpr;\n                return importExpr(Identifiers.moduleProviderDef).callFn([\n                    literal(flags), tokenExpr, providerExpr, depsExpr\n                ]);\n            });\n            var ngModuleDef = importExpr(Identifiers.moduleDef).callFn([literalArr(providerDefs)]);\n            var ngModuleDefFactory = fn([new FnParam(LOG_VAR.name)], [new ReturnStatement(ngModuleDef)], INFERRED_TYPE);\n            var ngModuleFactoryVar = identifierName(ngModuleMeta.type) + \"NgFactory\";\n            this._createNgModuleFactory(ctx, ngModuleMeta.type.reference, importExpr(Identifiers.createModuleFactory).callFn([\n                ctx.importExpr(ngModuleMeta.type.reference),\n                literalArr(bootstrapComponents.map(function (id) { return ctx.importExpr(id.reference); })),\n                ngModuleDefFactory\n            ]));\n            if (ngModuleMeta.id) {\n                var id = typeof ngModuleMeta.id === 'string' ? literal(ngModuleMeta.id) :\n                    ctx.importExpr(ngModuleMeta.id);\n                var registerFactoryStmt = importExpr(Identifiers.RegisterModuleFactoryFn)\n                    .callFn([id, variable(ngModuleFactoryVar)])\n                    .toStmt();\n                ctx.statements.push(registerFactoryStmt);\n            }\n            return new NgModuleCompileResult(ngModuleFactoryVar);\n        };\n        NgModuleCompiler.prototype.createStub = function (ctx, ngModuleReference) {\n            this._createNgModuleFactory(ctx, ngModuleReference, NULL_EXPR);\n        };\n        NgModuleCompiler.prototype._createNgModuleFactory = function (ctx, reference, value) {\n            var ngModuleFactoryVar = identifierName({ reference: reference }) + \"NgFactory\";\n            var ngModuleFactoryStmt = variable(ngModuleFactoryVar)\n                .set(value)\n                .toDeclStmt(importType(Identifiers.NgModuleFactory, [expressionType(ctx.importExpr(reference))], [TypeModifier.Const]), [exports.StmtModifier.Final, exports.StmtModifier.Exported]);\n            ctx.statements.push(ngModuleFactoryStmt);\n        };\n        return NgModuleCompiler;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Resolves types to {@link NgModule}.\n     */\n    var NgModuleResolver = /** @class */ (function () {\n        function NgModuleResolver(_reflector) {\n            this._reflector = _reflector;\n        }\n        NgModuleResolver.prototype.isNgModule = function (type) { return this._reflector.annotations(type).some(createNgModule.isTypeOf); };\n        NgModuleResolver.prototype.resolve = function (type, throwIfNotFound) {\n            if (throwIfNotFound === void 0) { throwIfNotFound = true; }\n            var ngModuleMeta = findLast(this._reflector.annotations(type), createNgModule.isTypeOf);\n            if (ngModuleMeta) {\n                return ngModuleMeta;\n            }\n            else {\n                if (throwIfNotFound) {\n                    throw new Error(\"No NgModule metadata found for '\" + stringify(type) + \"'.\");\n                }\n                return null;\n            }\n        };\n        return NgModuleResolver;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit\n    var VERSION$1 = 3;\n    var JS_B64_PREFIX = '# sourceMappingURL=data:application/json;base64,';\n    var SourceMapGenerator = /** @class */ (function () {\n        function SourceMapGenerator(file) {\n            if (file === void 0) { file = null; }\n            this.file = file;\n            this.sourcesContent = new Map();\n            this.lines = [];\n            this.lastCol0 = 0;\n            this.hasMappings = false;\n        }\n        // The content is `null` when the content is expected to be loaded using the URL\n        SourceMapGenerator.prototype.addSource = function (url, content) {\n            if (content === void 0) { content = null; }\n            if (!this.sourcesContent.has(url)) {\n                this.sourcesContent.set(url, content);\n            }\n            return this;\n        };\n        SourceMapGenerator.prototype.addLine = function () {\n            this.lines.push([]);\n            this.lastCol0 = 0;\n            return this;\n        };\n        SourceMapGenerator.prototype.addMapping = function (col0, sourceUrl, sourceLine0, sourceCol0) {\n            if (!this.currentLine) {\n                throw new Error(\"A line must be added before mappings can be added\");\n            }\n            if (sourceUrl != null && !this.sourcesContent.has(sourceUrl)) {\n                throw new Error(\"Unknown source file \\\"\" + sourceUrl + \"\\\"\");\n            }\n            if (col0 == null) {\n                throw new Error(\"The column in the generated code must be provided\");\n            }\n            if (col0 < this.lastCol0) {\n                throw new Error(\"Mapping should be added in output order\");\n            }\n            if (sourceUrl && (sourceLine0 == null || sourceCol0 == null)) {\n                throw new Error(\"The source location must be provided when a source url is provided\");\n            }\n            this.hasMappings = true;\n            this.lastCol0 = col0;\n            this.currentLine.push({ col0: col0, sourceUrl: sourceUrl, sourceLine0: sourceLine0, sourceCol0: sourceCol0 });\n            return this;\n        };\n        Object.defineProperty(SourceMapGenerator.prototype, \"currentLine\", {\n            get: function () { return this.lines.slice(-1)[0]; },\n            enumerable: true,\n            configurable: true\n        });\n        SourceMapGenerator.prototype.toJSON = function () {\n            var _this = this;\n            if (!this.hasMappings) {\n                return null;\n            }\n            var sourcesIndex = new Map();\n            var sources = [];\n            var sourcesContent = [];\n            Array.from(this.sourcesContent.keys()).forEach(function (url, i) {\n                sourcesIndex.set(url, i);\n                sources.push(url);\n                sourcesContent.push(_this.sourcesContent.get(url) || null);\n            });\n            var mappings = '';\n            var lastCol0 = 0;\n            var lastSourceIndex = 0;\n            var lastSourceLine0 = 0;\n            var lastSourceCol0 = 0;\n            this.lines.forEach(function (segments) {\n                lastCol0 = 0;\n                mappings += segments\n                    .map(function (segment) {\n                    // zero-based starting column of the line in the generated code\n                    var segAsStr = toBase64VLQ(segment.col0 - lastCol0);\n                    lastCol0 = segment.col0;\n                    if (segment.sourceUrl != null) {\n                        // zero-based index into the “sources” list\n                        segAsStr +=\n                            toBase64VLQ(sourcesIndex.get(segment.sourceUrl) - lastSourceIndex);\n                        lastSourceIndex = sourcesIndex.get(segment.sourceUrl);\n                        // the zero-based starting line in the original source\n                        segAsStr += toBase64VLQ(segment.sourceLine0 - lastSourceLine0);\n                        lastSourceLine0 = segment.sourceLine0;\n                        // the zero-based starting column in the original source\n                        segAsStr += toBase64VLQ(segment.sourceCol0 - lastSourceCol0);\n                        lastSourceCol0 = segment.sourceCol0;\n                    }\n                    return segAsStr;\n                })\n                    .join(',');\n                mappings += ';';\n            });\n            mappings = mappings.slice(0, -1);\n            return {\n                'file': this.file || '',\n                'version': VERSION$1,\n                'sourceRoot': '',\n                'sources': sources,\n                'sourcesContent': sourcesContent,\n                'mappings': mappings,\n            };\n        };\n        SourceMapGenerator.prototype.toJsComment = function () {\n            return this.hasMappings ? '//' + JS_B64_PREFIX + toBase64String(JSON.stringify(this, null, 0)) :\n                '';\n        };\n        return SourceMapGenerator;\n    }());\n    function toBase64String(value) {\n        var b64 = '';\n        value = utf8Encode(value);\n        for (var i = 0; i < value.length;) {\n            var i1 = value.charCodeAt(i++);\n            var i2 = value.charCodeAt(i++);\n            var i3 = value.charCodeAt(i++);\n            b64 += toBase64Digit(i1 >> 2);\n            b64 += toBase64Digit(((i1 & 3) << 4) | (isNaN(i2) ? 0 : i2 >> 4));\n            b64 += isNaN(i2) ? '=' : toBase64Digit(((i2 & 15) << 2) | (i3 >> 6));\n            b64 += isNaN(i2) || isNaN(i3) ? '=' : toBase64Digit(i3 & 63);\n        }\n        return b64;\n    }\n    function toBase64VLQ(value) {\n        value = value < 0 ? ((-value) << 1) + 1 : value << 1;\n        var out = '';\n        do {\n            var digit = value & 31;\n            value = value >> 5;\n            if (value > 0) {\n                digit = digit | 32;\n            }\n            out += toBase64Digit(digit);\n        } while (value > 0);\n        return out;\n    }\n    var B64_DIGITS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    function toBase64Digit(value) {\n        if (value < 0 || value >= 64) {\n            throw new Error(\"Can only encode value in the range [0, 63]\");\n        }\n        return B64_DIGITS[value];\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var _SINGLE_QUOTE_ESCAPE_STRING_RE = /'|\\\\|\\n|\\r|\\$/g;\n    var _LEGAL_IDENTIFIER_RE = /^[$A-Z_][0-9A-Z_$]*$/i;\n    var _INDENT_WITH = '  ';\n    var CATCH_ERROR_VAR$1 = variable('error', null, null);\n    var CATCH_STACK_VAR$1 = variable('stack', null, null);\n    var _EmittedLine = /** @class */ (function () {\n        function _EmittedLine(indent) {\n            this.indent = indent;\n            this.partsLength = 0;\n            this.parts = [];\n            this.srcSpans = [];\n        }\n        return _EmittedLine;\n    }());\n    var EmitterVisitorContext = /** @class */ (function () {\n        function EmitterVisitorContext(_indent) {\n            this._indent = _indent;\n            this._classes = [];\n            this._preambleLineCount = 0;\n            this._lines = [new _EmittedLine(_indent)];\n        }\n        EmitterVisitorContext.createRoot = function () { return new EmitterVisitorContext(0); };\n        Object.defineProperty(EmitterVisitorContext.prototype, \"_currentLine\", {\n            get: function () { return this._lines[this._lines.length - 1]; },\n            enumerable: true,\n            configurable: true\n        });\n        EmitterVisitorContext.prototype.println = function (from, lastPart) {\n            if (lastPart === void 0) { lastPart = ''; }\n            this.print(from || null, lastPart, true);\n        };\n        EmitterVisitorContext.prototype.lineIsEmpty = function () { return this._currentLine.parts.length === 0; };\n        EmitterVisitorContext.prototype.lineLength = function () {\n            return this._currentLine.indent * _INDENT_WITH.length + this._currentLine.partsLength;\n        };\n        EmitterVisitorContext.prototype.print = function (from, part, newLine) {\n            if (newLine === void 0) { newLine = false; }\n            if (part.length > 0) {\n                this._currentLine.parts.push(part);\n                this._currentLine.partsLength += part.length;\n                this._currentLine.srcSpans.push(from && from.sourceSpan || null);\n            }\n            if (newLine) {\n                this._lines.push(new _EmittedLine(this._indent));\n            }\n        };\n        EmitterVisitorContext.prototype.removeEmptyLastLine = function () {\n            if (this.lineIsEmpty()) {\n                this._lines.pop();\n            }\n        };\n        EmitterVisitorContext.prototype.incIndent = function () {\n            this._indent++;\n            if (this.lineIsEmpty()) {\n                this._currentLine.indent = this._indent;\n            }\n        };\n        EmitterVisitorContext.prototype.decIndent = function () {\n            this._indent--;\n            if (this.lineIsEmpty()) {\n                this._currentLine.indent = this._indent;\n            }\n        };\n        EmitterVisitorContext.prototype.pushClass = function (clazz) { this._classes.push(clazz); };\n        EmitterVisitorContext.prototype.popClass = function () { return this._classes.pop(); };\n        Object.defineProperty(EmitterVisitorContext.prototype, \"currentClass\", {\n            get: function () {\n                return this._classes.length > 0 ? this._classes[this._classes.length - 1] : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        EmitterVisitorContext.prototype.toSource = function () {\n            return this.sourceLines\n                .map(function (l) { return l.parts.length > 0 ? _createIndent(l.indent) + l.parts.join('') : ''; })\n                .join('\\n');\n        };\n        EmitterVisitorContext.prototype.toSourceMapGenerator = function (genFilePath, startsAtLine) {\n            if (startsAtLine === void 0) { startsAtLine = 0; }\n            var map = new SourceMapGenerator(genFilePath);\n            var firstOffsetMapped = false;\n            var mapFirstOffsetIfNeeded = function () {\n                if (!firstOffsetMapped) {\n                    // Add a single space so that tools won't try to load the file from disk.\n                    // Note: We are using virtual urls like `ng:///`, so we have to\n                    // provide a content here.\n                    map.addSource(genFilePath, ' ').addMapping(0, genFilePath, 0, 0);\n                    firstOffsetMapped = true;\n                }\n            };\n            for (var i = 0; i < startsAtLine; i++) {\n                map.addLine();\n                mapFirstOffsetIfNeeded();\n            }\n            this.sourceLines.forEach(function (line, lineIdx) {\n                map.addLine();\n                var spans = line.srcSpans;\n                var parts = line.parts;\n                var col0 = line.indent * _INDENT_WITH.length;\n                var spanIdx = 0;\n                // skip leading parts without source spans\n                while (spanIdx < spans.length && !spans[spanIdx]) {\n                    col0 += parts[spanIdx].length;\n                    spanIdx++;\n                }\n                if (spanIdx < spans.length && lineIdx === 0 && col0 === 0) {\n                    firstOffsetMapped = true;\n                }\n                else {\n                    mapFirstOffsetIfNeeded();\n                }\n                while (spanIdx < spans.length) {\n                    var span = spans[spanIdx];\n                    var source = span.start.file;\n                    var sourceLine = span.start.line;\n                    var sourceCol = span.start.col;\n                    map.addSource(source.url, source.content)\n                        .addMapping(col0, source.url, sourceLine, sourceCol);\n                    col0 += parts[spanIdx].length;\n                    spanIdx++;\n                    // assign parts without span or the same span to the previous segment\n                    while (spanIdx < spans.length && (span === spans[spanIdx] || !spans[spanIdx])) {\n                        col0 += parts[spanIdx].length;\n                        spanIdx++;\n                    }\n                }\n            });\n            return map;\n        };\n        EmitterVisitorContext.prototype.setPreambleLineCount = function (count) { return this._preambleLineCount = count; };\n        EmitterVisitorContext.prototype.spanOf = function (line, column) {\n            var emittedLine = this._lines[line - this._preambleLineCount];\n            if (emittedLine) {\n                var columnsLeft = column - _createIndent(emittedLine.indent).length;\n                for (var partIndex = 0; partIndex < emittedLine.parts.length; partIndex++) {\n                    var part = emittedLine.parts[partIndex];\n                    if (part.length > columnsLeft) {\n                        return emittedLine.srcSpans[partIndex];\n                    }\n                    columnsLeft -= part.length;\n                }\n            }\n            return null;\n        };\n        Object.defineProperty(EmitterVisitorContext.prototype, \"sourceLines\", {\n            get: function () {\n                if (this._lines.length && this._lines[this._lines.length - 1].parts.length === 0) {\n                    return this._lines.slice(0, -1);\n                }\n                return this._lines;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return EmitterVisitorContext;\n    }());\n    var AbstractEmitterVisitor = /** @class */ (function () {\n        function AbstractEmitterVisitor(_escapeDollarInStrings) {\n            this._escapeDollarInStrings = _escapeDollarInStrings;\n        }\n        AbstractEmitterVisitor.prototype.visitExpressionStmt = function (stmt, ctx) {\n            stmt.expr.visitExpression(this, ctx);\n            ctx.println(stmt, ';');\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitReturnStmt = function (stmt, ctx) {\n            ctx.print(stmt, \"return \");\n            stmt.value.visitExpression(this, ctx);\n            ctx.println(stmt, ';');\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitIfStmt = function (stmt, ctx) {\n            ctx.print(stmt, \"if (\");\n            stmt.condition.visitExpression(this, ctx);\n            ctx.print(stmt, \") {\");\n            var hasElseCase = stmt.falseCase != null && stmt.falseCase.length > 0;\n            if (stmt.trueCase.length <= 1 && !hasElseCase) {\n                ctx.print(stmt, \" \");\n                this.visitAllStatements(stmt.trueCase, ctx);\n                ctx.removeEmptyLastLine();\n                ctx.print(stmt, \" \");\n            }\n            else {\n                ctx.println();\n                ctx.incIndent();\n                this.visitAllStatements(stmt.trueCase, ctx);\n                ctx.decIndent();\n                if (hasElseCase) {\n                    ctx.println(stmt, \"} else {\");\n                    ctx.incIndent();\n                    this.visitAllStatements(stmt.falseCase, ctx);\n                    ctx.decIndent();\n                }\n            }\n            ctx.println(stmt, \"}\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitThrowStmt = function (stmt, ctx) {\n            ctx.print(stmt, \"throw \");\n            stmt.error.visitExpression(this, ctx);\n            ctx.println(stmt, \";\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitCommentStmt = function (stmt, ctx) {\n            if (stmt.multiline) {\n                ctx.println(stmt, \"/* \" + stmt.comment + \" */\");\n            }\n            else {\n                stmt.comment.split('\\n').forEach(function (line) { ctx.println(stmt, \"// \" + line); });\n            }\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitJSDocCommentStmt = function (stmt, ctx) {\n            ctx.println(stmt, \"/*\" + stmt.toString() + \"*/\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitWriteVarExpr = function (expr, ctx) {\n            var lineWasEmpty = ctx.lineIsEmpty();\n            if (!lineWasEmpty) {\n                ctx.print(expr, '(');\n            }\n            ctx.print(expr, expr.name + \" = \");\n            expr.value.visitExpression(this, ctx);\n            if (!lineWasEmpty) {\n                ctx.print(expr, ')');\n            }\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitWriteKeyExpr = function (expr, ctx) {\n            var lineWasEmpty = ctx.lineIsEmpty();\n            if (!lineWasEmpty) {\n                ctx.print(expr, '(');\n            }\n            expr.receiver.visitExpression(this, ctx);\n            ctx.print(expr, \"[\");\n            expr.index.visitExpression(this, ctx);\n            ctx.print(expr, \"] = \");\n            expr.value.visitExpression(this, ctx);\n            if (!lineWasEmpty) {\n                ctx.print(expr, ')');\n            }\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitWritePropExpr = function (expr, ctx) {\n            var lineWasEmpty = ctx.lineIsEmpty();\n            if (!lineWasEmpty) {\n                ctx.print(expr, '(');\n            }\n            expr.receiver.visitExpression(this, ctx);\n            ctx.print(expr, \".\" + expr.name + \" = \");\n            expr.value.visitExpression(this, ctx);\n            if (!lineWasEmpty) {\n                ctx.print(expr, ')');\n            }\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitInvokeMethodExpr = function (expr, ctx) {\n            expr.receiver.visitExpression(this, ctx);\n            var name = expr.name;\n            if (expr.builtin != null) {\n                name = this.getBuiltinMethodName(expr.builtin);\n                if (name == null) {\n                    // some builtins just mean to skip the call.\n                    return null;\n                }\n            }\n            ctx.print(expr, \".\" + name + \"(\");\n            this.visitAllExpressions(expr.args, ctx, \",\");\n            ctx.print(expr, \")\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitInvokeFunctionExpr = function (expr, ctx) {\n            expr.fn.visitExpression(this, ctx);\n            ctx.print(expr, \"(\");\n            this.visitAllExpressions(expr.args, ctx, ',');\n            ctx.print(expr, \")\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitWrappedNodeExpr = function (ast, ctx) {\n            throw new Error('Abstract emitter cannot visit WrappedNodeExpr.');\n        };\n        AbstractEmitterVisitor.prototype.visitTypeofExpr = function (expr, ctx) {\n            ctx.print(expr, 'typeof ');\n            expr.expr.visitExpression(this, ctx);\n        };\n        AbstractEmitterVisitor.prototype.visitReadVarExpr = function (ast, ctx) {\n            var varName = ast.name;\n            if (ast.builtin != null) {\n                switch (ast.builtin) {\n                    case exports.BuiltinVar.Super:\n                        varName = 'super';\n                        break;\n                    case exports.BuiltinVar.This:\n                        varName = 'this';\n                        break;\n                    case exports.BuiltinVar.CatchError:\n                        varName = CATCH_ERROR_VAR$1.name;\n                        break;\n                    case exports.BuiltinVar.CatchStack:\n                        varName = CATCH_STACK_VAR$1.name;\n                        break;\n                    default:\n                        throw new Error(\"Unknown builtin variable \" + ast.builtin);\n                }\n            }\n            ctx.print(ast, varName);\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitInstantiateExpr = function (ast, ctx) {\n            ctx.print(ast, \"new \");\n            ast.classExpr.visitExpression(this, ctx);\n            ctx.print(ast, \"(\");\n            this.visitAllExpressions(ast.args, ctx, ',');\n            ctx.print(ast, \")\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitLiteralExpr = function (ast, ctx) {\n            var value = ast.value;\n            if (typeof value === 'string') {\n                ctx.print(ast, escapeIdentifier(value, this._escapeDollarInStrings));\n            }\n            else {\n                ctx.print(ast, \"\" + value);\n            }\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitConditionalExpr = function (ast, ctx) {\n            ctx.print(ast, \"(\");\n            ast.condition.visitExpression(this, ctx);\n            ctx.print(ast, '? ');\n            ast.trueCase.visitExpression(this, ctx);\n            ctx.print(ast, ': ');\n            ast.falseCase.visitExpression(this, ctx);\n            ctx.print(ast, \")\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitNotExpr = function (ast, ctx) {\n            ctx.print(ast, '!');\n            ast.condition.visitExpression(this, ctx);\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitAssertNotNullExpr = function (ast, ctx) {\n            ast.condition.visitExpression(this, ctx);\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitBinaryOperatorExpr = function (ast, ctx) {\n            var opStr;\n            switch (ast.operator) {\n                case exports.BinaryOperator.Equals:\n                    opStr = '==';\n                    break;\n                case exports.BinaryOperator.Identical:\n                    opStr = '===';\n                    break;\n                case exports.BinaryOperator.NotEquals:\n                    opStr = '!=';\n                    break;\n                case exports.BinaryOperator.NotIdentical:\n                    opStr = '!==';\n                    break;\n                case exports.BinaryOperator.And:\n                    opStr = '&&';\n                    break;\n                case exports.BinaryOperator.BitwiseAnd:\n                    opStr = '&';\n                    break;\n                case exports.BinaryOperator.Or:\n                    opStr = '||';\n                    break;\n                case exports.BinaryOperator.Plus:\n                    opStr = '+';\n                    break;\n                case exports.BinaryOperator.Minus:\n                    opStr = '-';\n                    break;\n                case exports.BinaryOperator.Divide:\n                    opStr = '/';\n                    break;\n                case exports.BinaryOperator.Multiply:\n                    opStr = '*';\n                    break;\n                case exports.BinaryOperator.Modulo:\n                    opStr = '%';\n                    break;\n                case exports.BinaryOperator.Lower:\n                    opStr = '<';\n                    break;\n                case exports.BinaryOperator.LowerEquals:\n                    opStr = '<=';\n                    break;\n                case exports.BinaryOperator.Bigger:\n                    opStr = '>';\n                    break;\n                case exports.BinaryOperator.BiggerEquals:\n                    opStr = '>=';\n                    break;\n                default:\n                    throw new Error(\"Unknown operator \" + ast.operator);\n            }\n            if (ast.parens)\n                ctx.print(ast, \"(\");\n            ast.lhs.visitExpression(this, ctx);\n            ctx.print(ast, \" \" + opStr + \" \");\n            ast.rhs.visitExpression(this, ctx);\n            if (ast.parens)\n                ctx.print(ast, \")\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitReadPropExpr = function (ast, ctx) {\n            ast.receiver.visitExpression(this, ctx);\n            ctx.print(ast, \".\");\n            ctx.print(ast, ast.name);\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitReadKeyExpr = function (ast, ctx) {\n            ast.receiver.visitExpression(this, ctx);\n            ctx.print(ast, \"[\");\n            ast.index.visitExpression(this, ctx);\n            ctx.print(ast, \"]\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitLiteralArrayExpr = function (ast, ctx) {\n            ctx.print(ast, \"[\");\n            this.visitAllExpressions(ast.entries, ctx, ',');\n            ctx.print(ast, \"]\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitLiteralMapExpr = function (ast, ctx) {\n            var _this = this;\n            ctx.print(ast, \"{\");\n            this.visitAllObjects(function (entry) {\n                ctx.print(ast, escapeIdentifier(entry.key, _this._escapeDollarInStrings, entry.quoted) + \":\");\n                entry.value.visitExpression(_this, ctx);\n            }, ast.entries, ctx, ',');\n            ctx.print(ast, \"}\");\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitCommaExpr = function (ast, ctx) {\n            ctx.print(ast, '(');\n            this.visitAllExpressions(ast.parts, ctx, ',');\n            ctx.print(ast, ')');\n            return null;\n        };\n        AbstractEmitterVisitor.prototype.visitAllExpressions = function (expressions, ctx, separator) {\n            var _this = this;\n            this.visitAllObjects(function (expr) { return expr.visitExpression(_this, ctx); }, expressions, ctx, separator);\n        };\n        AbstractEmitterVisitor.prototype.visitAllObjects = function (handler, expressions, ctx, separator) {\n            var incrementedIndent = false;\n            for (var i = 0; i < expressions.length; i++) {\n                if (i > 0) {\n                    if (ctx.lineLength() > 80) {\n                        ctx.print(null, separator, true);\n                        if (!incrementedIndent) {\n                            // continuation are marked with double indent.\n                            ctx.incIndent();\n                            ctx.incIndent();\n                            incrementedIndent = true;\n                        }\n                    }\n                    else {\n                        ctx.print(null, separator, false);\n                    }\n                }\n                handler(expressions[i]);\n            }\n            if (incrementedIndent) {\n                // continuation are marked with double indent.\n                ctx.decIndent();\n                ctx.decIndent();\n            }\n        };\n        AbstractEmitterVisitor.prototype.visitAllStatements = function (statements, ctx) {\n            var _this = this;\n            statements.forEach(function (stmt) { return stmt.visitStatement(_this, ctx); });\n        };\n        return AbstractEmitterVisitor;\n    }());\n    function escapeIdentifier(input, escapeDollar, alwaysQuote) {\n        if (alwaysQuote === void 0) { alwaysQuote = true; }\n        if (input == null) {\n            return null;\n        }\n        var body = input.replace(_SINGLE_QUOTE_ESCAPE_STRING_RE, function () {\n            var match = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                match[_i] = arguments[_i];\n            }\n            if (match[0] == '$') {\n                return escapeDollar ? '\\\\$' : '$';\n            }\n            else if (match[0] == '\\n') {\n                return '\\\\n';\n            }\n            else if (match[0] == '\\r') {\n                return '\\\\r';\n            }\n            else {\n                return \"\\\\\" + match[0];\n            }\n        });\n        var requiresQuotes = alwaysQuote || !_LEGAL_IDENTIFIER_RE.test(body);\n        return requiresQuotes ? \"'\" + body + \"'\" : body;\n    }\n    function _createIndent(count) {\n        var res = '';\n        for (var i = 0; i < count; i++) {\n            res += _INDENT_WITH;\n        }\n        return res;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function debugOutputAstAsTypeScript(ast) {\n        var converter = new _TsEmitterVisitor();\n        var ctx = EmitterVisitorContext.createRoot();\n        var asts = Array.isArray(ast) ? ast : [ast];\n        asts.forEach(function (ast) {\n            if (ast instanceof Statement) {\n                ast.visitStatement(converter, ctx);\n            }\n            else if (ast instanceof Expression) {\n                ast.visitExpression(converter, ctx);\n            }\n            else if (ast instanceof Type$1) {\n                ast.visitType(converter, ctx);\n            }\n            else {\n                throw new Error(\"Don't know how to print debug info for \" + ast);\n            }\n        });\n        return ctx.toSource();\n    }\n    var TypeScriptEmitter = /** @class */ (function () {\n        function TypeScriptEmitter() {\n        }\n        TypeScriptEmitter.prototype.emitStatementsAndContext = function (genFilePath, stmts, preamble, emitSourceMaps, referenceFilter, importFilter) {\n            if (preamble === void 0) { preamble = ''; }\n            if (emitSourceMaps === void 0) { emitSourceMaps = true; }\n            var converter = new _TsEmitterVisitor(referenceFilter, importFilter);\n            var ctx = EmitterVisitorContext.createRoot();\n            converter.visitAllStatements(stmts, ctx);\n            var preambleLines = preamble ? preamble.split('\\n') : [];\n            converter.reexports.forEach(function (reexports, exportedModuleName) {\n                var reexportsCode = reexports.map(function (reexport) { return reexport.name + \" as \" + reexport.as; }).join(',');\n                preambleLines.push(\"export {\" + reexportsCode + \"} from '\" + exportedModuleName + \"';\");\n            });\n            converter.importsWithPrefixes.forEach(function (prefix, importedModuleName) {\n                // Note: can't write the real word for import as it screws up system.js auto detection...\n                preambleLines.push(\"imp\" +\n                    (\"ort * as \" + prefix + \" from '\" + importedModuleName + \"';\"));\n            });\n            var sm = emitSourceMaps ?\n                ctx.toSourceMapGenerator(genFilePath, preambleLines.length).toJsComment() :\n                '';\n            var lines = __spread(preambleLines, [ctx.toSource(), sm]);\n            if (sm) {\n                // always add a newline at the end, as some tools have bugs without it.\n                lines.push('');\n            }\n            ctx.setPreambleLineCount(preambleLines.length);\n            return { sourceText: lines.join('\\n'), context: ctx };\n        };\n        TypeScriptEmitter.prototype.emitStatements = function (genFilePath, stmts, preamble) {\n            if (preamble === void 0) { preamble = ''; }\n            return this.emitStatementsAndContext(genFilePath, stmts, preamble).sourceText;\n        };\n        return TypeScriptEmitter;\n    }());\n    var _TsEmitterVisitor = /** @class */ (function (_super) {\n        __extends(_TsEmitterVisitor, _super);\n        function _TsEmitterVisitor(referenceFilter, importFilter) {\n            var _this = _super.call(this, false) || this;\n            _this.referenceFilter = referenceFilter;\n            _this.importFilter = importFilter;\n            _this.typeExpression = 0;\n            _this.importsWithPrefixes = new Map();\n            _this.reexports = new Map();\n            return _this;\n        }\n        _TsEmitterVisitor.prototype.visitType = function (t, ctx, defaultType) {\n            if (defaultType === void 0) { defaultType = 'any'; }\n            if (t) {\n                this.typeExpression++;\n                t.visitType(this, ctx);\n                this.typeExpression--;\n            }\n            else {\n                ctx.print(null, defaultType);\n            }\n        };\n        _TsEmitterVisitor.prototype.visitLiteralExpr = function (ast, ctx) {\n            var value = ast.value;\n            if (value == null && ast.type != INFERRED_TYPE) {\n                ctx.print(ast, \"(\" + value + \" as any)\");\n                return null;\n            }\n            return _super.prototype.visitLiteralExpr.call(this, ast, ctx);\n        };\n        // Temporary workaround to support strictNullCheck enabled consumers of ngc emit.\n        // In SNC mode, [] have the type never[], so we cast here to any[].\n        // TODO: narrow the cast to a more explicit type, or use a pattern that does not\n        // start with [].concat. see https://github.com/angular/angular/pull/11846\n        _TsEmitterVisitor.prototype.visitLiteralArrayExpr = function (ast, ctx) {\n            if (ast.entries.length === 0) {\n                ctx.print(ast, '(');\n            }\n            var result = _super.prototype.visitLiteralArrayExpr.call(this, ast, ctx);\n            if (ast.entries.length === 0) {\n                ctx.print(ast, ' as any[])');\n            }\n            return result;\n        };\n        _TsEmitterVisitor.prototype.visitExternalExpr = function (ast, ctx) {\n            this._visitIdentifier(ast.value, ast.typeParams, ctx);\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitAssertNotNullExpr = function (ast, ctx) {\n            var result = _super.prototype.visitAssertNotNullExpr.call(this, ast, ctx);\n            ctx.print(ast, '!');\n            return result;\n        };\n        _TsEmitterVisitor.prototype.visitDeclareVarStmt = function (stmt, ctx) {\n            if (stmt.hasModifier(exports.StmtModifier.Exported) && stmt.value instanceof ExternalExpr &&\n                !stmt.type) {\n                // check for a reexport\n                var _a = stmt.value.value, name_1 = _a.name, moduleName = _a.moduleName;\n                if (moduleName) {\n                    var reexports = this.reexports.get(moduleName);\n                    if (!reexports) {\n                        reexports = [];\n                        this.reexports.set(moduleName, reexports);\n                    }\n                    reexports.push({ name: name_1, as: stmt.name });\n                    return null;\n                }\n            }\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                ctx.print(stmt, \"export \");\n            }\n            if (stmt.hasModifier(exports.StmtModifier.Final)) {\n                ctx.print(stmt, \"const\");\n            }\n            else {\n                ctx.print(stmt, \"var\");\n            }\n            ctx.print(stmt, \" \" + stmt.name);\n            this._printColonType(stmt.type, ctx);\n            if (stmt.value) {\n                ctx.print(stmt, \" = \");\n                stmt.value.visitExpression(this, ctx);\n            }\n            ctx.println(stmt, \";\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitWrappedNodeExpr = function (ast, ctx) {\n            throw new Error('Cannot visit a WrappedNodeExpr when outputting Typescript.');\n        };\n        _TsEmitterVisitor.prototype.visitCastExpr = function (ast, ctx) {\n            ctx.print(ast, \"(<\");\n            ast.type.visitType(this, ctx);\n            ctx.print(ast, \">\");\n            ast.value.visitExpression(this, ctx);\n            ctx.print(ast, \")\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitInstantiateExpr = function (ast, ctx) {\n            ctx.print(ast, \"new \");\n            this.typeExpression++;\n            ast.classExpr.visitExpression(this, ctx);\n            this.typeExpression--;\n            ctx.print(ast, \"(\");\n            this.visitAllExpressions(ast.args, ctx, ',');\n            ctx.print(ast, \")\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitDeclareClassStmt = function (stmt, ctx) {\n            var _this = this;\n            ctx.pushClass(stmt);\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                ctx.print(stmt, \"export \");\n            }\n            ctx.print(stmt, \"class \" + stmt.name);\n            if (stmt.parent != null) {\n                ctx.print(stmt, \" extends \");\n                this.typeExpression++;\n                stmt.parent.visitExpression(this, ctx);\n                this.typeExpression--;\n            }\n            ctx.println(stmt, \" {\");\n            ctx.incIndent();\n            stmt.fields.forEach(function (field) { return _this._visitClassField(field, ctx); });\n            if (stmt.constructorMethod != null) {\n                this._visitClassConstructor(stmt, ctx);\n            }\n            stmt.getters.forEach(function (getter) { return _this._visitClassGetter(getter, ctx); });\n            stmt.methods.forEach(function (method) { return _this._visitClassMethod(method, ctx); });\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n            ctx.popClass();\n            return null;\n        };\n        _TsEmitterVisitor.prototype._visitClassField = function (field, ctx) {\n            if (field.hasModifier(exports.StmtModifier.Private)) {\n                // comment out as a workaround for #10967\n                ctx.print(null, \"/*private*/ \");\n            }\n            if (field.hasModifier(exports.StmtModifier.Static)) {\n                ctx.print(null, 'static ');\n            }\n            ctx.print(null, field.name);\n            this._printColonType(field.type, ctx);\n            if (field.initializer) {\n                ctx.print(null, ' = ');\n                field.initializer.visitExpression(this, ctx);\n            }\n            ctx.println(null, \";\");\n        };\n        _TsEmitterVisitor.prototype._visitClassGetter = function (getter, ctx) {\n            if (getter.hasModifier(exports.StmtModifier.Private)) {\n                ctx.print(null, \"private \");\n            }\n            ctx.print(null, \"get \" + getter.name + \"()\");\n            this._printColonType(getter.type, ctx);\n            ctx.println(null, \" {\");\n            ctx.incIndent();\n            this.visitAllStatements(getter.body, ctx);\n            ctx.decIndent();\n            ctx.println(null, \"}\");\n        };\n        _TsEmitterVisitor.prototype._visitClassConstructor = function (stmt, ctx) {\n            ctx.print(stmt, \"constructor(\");\n            this._visitParams(stmt.constructorMethod.params, ctx);\n            ctx.println(stmt, \") {\");\n            ctx.incIndent();\n            this.visitAllStatements(stmt.constructorMethod.body, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n        };\n        _TsEmitterVisitor.prototype._visitClassMethod = function (method, ctx) {\n            if (method.hasModifier(exports.StmtModifier.Private)) {\n                ctx.print(null, \"private \");\n            }\n            ctx.print(null, method.name + \"(\");\n            this._visitParams(method.params, ctx);\n            ctx.print(null, \")\");\n            this._printColonType(method.type, ctx, 'void');\n            ctx.println(null, \" {\");\n            ctx.incIndent();\n            this.visitAllStatements(method.body, ctx);\n            ctx.decIndent();\n            ctx.println(null, \"}\");\n        };\n        _TsEmitterVisitor.prototype.visitFunctionExpr = function (ast, ctx) {\n            if (ast.name) {\n                ctx.print(ast, 'function ');\n                ctx.print(ast, ast.name);\n            }\n            ctx.print(ast, \"(\");\n            this._visitParams(ast.params, ctx);\n            ctx.print(ast, \")\");\n            this._printColonType(ast.type, ctx, 'void');\n            if (!ast.name) {\n                ctx.print(ast, \" => \");\n            }\n            ctx.println(ast, '{');\n            ctx.incIndent();\n            this.visitAllStatements(ast.statements, ctx);\n            ctx.decIndent();\n            ctx.print(ast, \"}\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitDeclareFunctionStmt = function (stmt, ctx) {\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                ctx.print(stmt, \"export \");\n            }\n            ctx.print(stmt, \"function \" + stmt.name + \"(\");\n            this._visitParams(stmt.params, ctx);\n            ctx.print(stmt, \")\");\n            this._printColonType(stmt.type, ctx, 'void');\n            ctx.println(stmt, \" {\");\n            ctx.incIndent();\n            this.visitAllStatements(stmt.statements, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitTryCatchStmt = function (stmt, ctx) {\n            ctx.println(stmt, \"try {\");\n            ctx.incIndent();\n            this.visitAllStatements(stmt.bodyStmts, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"} catch (\" + CATCH_ERROR_VAR$1.name + \") {\");\n            ctx.incIndent();\n            var catchStmts = [CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop('stack', null)).toDeclStmt(null, [\n                    exports.StmtModifier.Final\n                ])].concat(stmt.catchStmts);\n            this.visitAllStatements(catchStmts, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitBuiltinType = function (type, ctx) {\n            var typeStr;\n            switch (type.name) {\n                case exports.BuiltinTypeName.Bool:\n                    typeStr = 'boolean';\n                    break;\n                case exports.BuiltinTypeName.Dynamic:\n                    typeStr = 'any';\n                    break;\n                case exports.BuiltinTypeName.Function:\n                    typeStr = 'Function';\n                    break;\n                case exports.BuiltinTypeName.Number:\n                    typeStr = 'number';\n                    break;\n                case exports.BuiltinTypeName.Int:\n                    typeStr = 'number';\n                    break;\n                case exports.BuiltinTypeName.String:\n                    typeStr = 'string';\n                    break;\n                case exports.BuiltinTypeName.None:\n                    typeStr = 'never';\n                    break;\n                default:\n                    throw new Error(\"Unsupported builtin type \" + type.name);\n            }\n            ctx.print(null, typeStr);\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitExpressionType = function (ast, ctx) {\n            var _this = this;\n            ast.value.visitExpression(this, ctx);\n            if (ast.typeParams !== null) {\n                ctx.print(null, '<');\n                this.visitAllObjects(function (type) { return _this.visitType(type, ctx); }, ast.typeParams, ctx, ',');\n                ctx.print(null, '>');\n            }\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitArrayType = function (type, ctx) {\n            this.visitType(type.of, ctx);\n            ctx.print(null, \"[]\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.visitMapType = function (type, ctx) {\n            ctx.print(null, \"{[key: string]:\");\n            this.visitType(type.valueType, ctx);\n            ctx.print(null, \"}\");\n            return null;\n        };\n        _TsEmitterVisitor.prototype.getBuiltinMethodName = function (method) {\n            var name;\n            switch (method) {\n                case exports.BuiltinMethod.ConcatArray:\n                    name = 'concat';\n                    break;\n                case exports.BuiltinMethod.SubscribeObservable:\n                    name = 'subscribe';\n                    break;\n                case exports.BuiltinMethod.Bind:\n                    name = 'bind';\n                    break;\n                default:\n                    throw new Error(\"Unknown builtin method: \" + method);\n            }\n            return name;\n        };\n        _TsEmitterVisitor.prototype._visitParams = function (params, ctx) {\n            var _this = this;\n            this.visitAllObjects(function (param) {\n                ctx.print(null, param.name);\n                _this._printColonType(param.type, ctx);\n            }, params, ctx, ',');\n        };\n        _TsEmitterVisitor.prototype._visitIdentifier = function (value, typeParams, ctx) {\n            var _this = this;\n            var name = value.name, moduleName = value.moduleName;\n            if (this.referenceFilter && this.referenceFilter(value)) {\n                ctx.print(null, '(null as any)');\n                return;\n            }\n            if (moduleName && (!this.importFilter || !this.importFilter(value))) {\n                var prefix = this.importsWithPrefixes.get(moduleName);\n                if (prefix == null) {\n                    prefix = \"i\" + this.importsWithPrefixes.size;\n                    this.importsWithPrefixes.set(moduleName, prefix);\n                }\n                ctx.print(null, prefix + \".\");\n            }\n            ctx.print(null, name);\n            if (this.typeExpression > 0) {\n                // If we are in a type expression that refers to a generic type then supply\n                // the required type parameters. If there were not enough type parameters\n                // supplied, supply any as the type. Outside a type expression the reference\n                // should not supply type parameters and be treated as a simple value reference\n                // to the constructor function itself.\n                var suppliedParameters = typeParams || [];\n                if (suppliedParameters.length > 0) {\n                    ctx.print(null, \"<\");\n                    this.visitAllObjects(function (type) { return type.visitType(_this, ctx); }, typeParams, ctx, ',');\n                    ctx.print(null, \">\");\n                }\n            }\n        };\n        _TsEmitterVisitor.prototype._printColonType = function (type, ctx, defaultType) {\n            if (type !== INFERRED_TYPE) {\n                ctx.print(null, ':');\n                this.visitType(type, ctx, defaultType);\n            }\n        };\n        return _TsEmitterVisitor;\n    }(AbstractEmitterVisitor));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Resolve a `Type` for {@link Pipe}.\n     *\n     * This interface can be overridden by the application developer to create custom behavior.\n     *\n     * See {@link Compiler}\n     */\n    var PipeResolver = /** @class */ (function () {\n        function PipeResolver(_reflector) {\n            this._reflector = _reflector;\n        }\n        PipeResolver.prototype.isPipe = function (type) {\n            var typeMetadata = this._reflector.annotations(resolveForwardRef(type));\n            return typeMetadata && typeMetadata.some(createPipe.isTypeOf);\n        };\n        /**\n         * Return {@link Pipe} for a given `Type`.\n         */\n        PipeResolver.prototype.resolve = function (type, throwIfNotFound) {\n            if (throwIfNotFound === void 0) { throwIfNotFound = true; }\n            var metas = this._reflector.annotations(resolveForwardRef(type));\n            if (metas) {\n                var annotation = findLast(metas, createPipe.isTypeOf);\n                if (annotation) {\n                    return annotation;\n                }\n            }\n            if (throwIfNotFound) {\n                throw new Error(\"No Pipe decorator found on \" + stringify(type));\n            }\n            return null;\n        };\n        return PipeResolver;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // =================================================================================================\n    // =================================================================================================\n    // =========== S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P  ===========\n    // =================================================================================================\n    // =================================================================================================\n    //\n    //        DO NOT EDIT THIS LIST OF SECURITY SENSITIVE PROPERTIES WITHOUT A SECURITY REVIEW!\n    //                               Reach out to mprobst for details.\n    //\n    // =================================================================================================\n    /** Map from tagName|propertyName SecurityContext. Properties applying to all tags use '*'. */\n    var _SECURITY_SCHEMA;\n    function SECURITY_SCHEMA() {\n        if (!_SECURITY_SCHEMA) {\n            _SECURITY_SCHEMA = {};\n            // Case is insignificant below, all element and attribute names are lower-cased for lookup.\n            registerContext(SecurityContext.HTML, [\n                'iframe|srcdoc',\n                '*|innerHTML',\n                '*|outerHTML',\n            ]);\n            registerContext(SecurityContext.STYLE, ['*|style']);\n            // NB: no SCRIPT contexts here, they are never allowed due to the parser stripping them.\n            registerContext(SecurityContext.URL, [\n                '*|formAction', 'area|href', 'area|ping', 'audio|src', 'a|href',\n                'a|ping', 'blockquote|cite', 'body|background', 'del|cite', 'form|action',\n                'img|src', 'img|srcset', 'input|src', 'ins|cite', 'q|cite',\n                'source|src', 'source|srcset', 'track|src', 'video|poster', 'video|src',\n            ]);\n            registerContext(SecurityContext.RESOURCE_URL, [\n                'applet|code',\n                'applet|codebase',\n                'base|href',\n                'embed|src',\n                'frame|src',\n                'head|profile',\n                'html|manifest',\n                'iframe|src',\n                'link|href',\n                'media|src',\n                'object|codebase',\n                'object|data',\n                'script|src',\n            ]);\n        }\n        return _SECURITY_SCHEMA;\n    }\n    function registerContext(ctx, specs) {\n        var e_1, _a;\n        try {\n            for (var specs_1 = __values(specs), specs_1_1 = specs_1.next(); !specs_1_1.done; specs_1_1 = specs_1.next()) {\n                var spec = specs_1_1.value;\n                _SECURITY_SCHEMA[spec.toLowerCase()] = ctx;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (specs_1_1 && !specs_1_1.done && (_a = specs_1.return)) _a.call(specs_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ElementSchemaRegistry = /** @class */ (function () {\n        function ElementSchemaRegistry() {\n        }\n        return ElementSchemaRegistry;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var BOOLEAN = 'boolean';\n    var NUMBER = 'number';\n    var STRING = 'string';\n    var OBJECT = 'object';\n    /**\n     * This array represents the DOM schema. It encodes inheritance, properties, and events.\n     *\n     * ## Overview\n     *\n     * Each line represents one kind of element. The `element_inheritance` and properties are joined\n     * using `element_inheritance|properties` syntax.\n     *\n     * ## Element Inheritance\n     *\n     * The `element_inheritance` can be further subdivided as `element1,element2,...^parentElement`.\n     * Here the individual elements are separated by `,` (commas). Every element in the list\n     * has identical properties.\n     *\n     * An `element` may inherit additional properties from `parentElement` If no `^parentElement` is\n     * specified then `\"\"` (blank) element is assumed.\n     *\n     * NOTE: The blank element inherits from root `[Element]` element, the super element of all\n     * elements.\n     *\n     * NOTE an element prefix such as `:svg:` has no special meaning to the schema.\n     *\n     * ## Properties\n     *\n     * Each element has a set of properties separated by `,` (commas). Each property can be prefixed\n     * by a special character designating its type:\n     *\n     * - (no prefix): property is a string.\n     * - `*`: property represents an event.\n     * - `!`: property is a boolean.\n     * - `#`: property is a number.\n     * - `%`: property is an object.\n     *\n     * ## Query\n     *\n     * The class creates an internal squas representation which allows to easily answer the query of\n     * if a given property exist on a given element.\n     *\n     * NOTE: We don't yet support querying for types or events.\n     * NOTE: This schema is auto extracted from `schema_extractor.ts` located in the test folder,\n     *       see dom_element_schema_registry_spec.ts\n     */\n    // =================================================================================================\n    // =================================================================================================\n    // =========== S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P  ===========\n    // =================================================================================================\n    // =================================================================================================\n    //\n    //                       DO NOT EDIT THIS DOM SCHEMA WITHOUT A SECURITY REVIEW!\n    //\n    // Newly added properties must be security reviewed and assigned an appropriate SecurityContext in\n    // dom_security_schema.ts. Reach out to mprobst & rjamet for details.\n    //\n    // =================================================================================================\n    var SCHEMA = [\n        '[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot' +\n            /* added manually to avoid breaking changes */\n            ',*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored',\n        '[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate',\n        'abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate',\n        'media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume',\n        ':svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex',\n        ':svg:graphics^:svg:|',\n        ':svg:animation^:svg:|*begin,*end,*repeat',\n        ':svg:geometry^:svg:|',\n        ':svg:componentTransferFunction^:svg:|',\n        ':svg:gradient^:svg:|',\n        ':svg:textContent^:svg:graphics|',\n        ':svg:textPositioning^:svg:textContent|',\n        'a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username',\n        'area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username',\n        'audio^media|',\n        'br^[HTMLElement]|clear',\n        'base^[HTMLElement]|href,target',\n        'body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink',\n        'button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value',\n        'canvas^[HTMLElement]|#height,#width',\n        'content^[HTMLElement]|select',\n        'dl^[HTMLElement]|!compact',\n        'datalist^[HTMLElement]|',\n        'details^[HTMLElement]|!open',\n        'dialog^[HTMLElement]|!open,returnValue',\n        'dir^[HTMLElement]|!compact',\n        'div^[HTMLElement]|align',\n        'embed^[HTMLElement]|align,height,name,src,type,width',\n        'fieldset^[HTMLElement]|!disabled,name',\n        'font^[HTMLElement]|color,face,size',\n        'form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target',\n        'frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src',\n        'frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows',\n        'hr^[HTMLElement]|align,color,!noShade,size,width',\n        'head^[HTMLElement]|',\n        'h1,h2,h3,h4,h5,h6^[HTMLElement]|align',\n        'html^[HTMLElement]|version',\n        'iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width',\n        'img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width',\n        'input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width',\n        'li^[HTMLElement]|type,#value',\n        'label^[HTMLElement]|htmlFor',\n        'legend^[HTMLElement]|align',\n        'link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type',\n        'map^[HTMLElement]|name',\n        'marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width',\n        'menu^[HTMLElement]|!compact',\n        'meta^[HTMLElement]|content,httpEquiv,name,scheme',\n        'meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value',\n        'ins,del^[HTMLElement]|cite,dateTime',\n        'ol^[HTMLElement]|!compact,!reversed,#start,type',\n        'object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width',\n        'optgroup^[HTMLElement]|!disabled,label',\n        'option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value',\n        'output^[HTMLElement]|defaultValue,%htmlFor,name,value',\n        'p^[HTMLElement]|align',\n        'param^[HTMLElement]|name,type,value,valueType',\n        'picture^[HTMLElement]|',\n        'pre^[HTMLElement]|#width',\n        'progress^[HTMLElement]|#max,#value',\n        'q,blockquote,cite^[HTMLElement]|',\n        'script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type',\n        'select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value',\n        'shadow^[HTMLElement]|',\n        'slot^[HTMLElement]|name',\n        'source^[HTMLElement]|media,sizes,src,srcset,type',\n        'span^[HTMLElement]|',\n        'style^[HTMLElement]|!disabled,media,type',\n        'caption^[HTMLElement]|align',\n        'th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width',\n        'col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width',\n        'table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width',\n        'tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign',\n        'tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign',\n        'template^[HTMLElement]|',\n        'textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap',\n        'title^[HTMLElement]|text',\n        'track^[HTMLElement]|!default,kind,label,src,srclang',\n        'ul^[HTMLElement]|!compact,type',\n        'unknown^[HTMLElement]|',\n        'video^media|#height,poster,#width',\n        ':svg:a^:svg:graphics|',\n        ':svg:animate^:svg:animation|',\n        ':svg:animateMotion^:svg:animation|',\n        ':svg:animateTransform^:svg:animation|',\n        ':svg:circle^:svg:geometry|',\n        ':svg:clipPath^:svg:graphics|',\n        ':svg:defs^:svg:graphics|',\n        ':svg:desc^:svg:|',\n        ':svg:discard^:svg:|',\n        ':svg:ellipse^:svg:geometry|',\n        ':svg:feBlend^:svg:|',\n        ':svg:feColorMatrix^:svg:|',\n        ':svg:feComponentTransfer^:svg:|',\n        ':svg:feComposite^:svg:|',\n        ':svg:feConvolveMatrix^:svg:|',\n        ':svg:feDiffuseLighting^:svg:|',\n        ':svg:feDisplacementMap^:svg:|',\n        ':svg:feDistantLight^:svg:|',\n        ':svg:feDropShadow^:svg:|',\n        ':svg:feFlood^:svg:|',\n        ':svg:feFuncA^:svg:componentTransferFunction|',\n        ':svg:feFuncB^:svg:componentTransferFunction|',\n        ':svg:feFuncG^:svg:componentTransferFunction|',\n        ':svg:feFuncR^:svg:componentTransferFunction|',\n        ':svg:feGaussianBlur^:svg:|',\n        ':svg:feImage^:svg:|',\n        ':svg:feMerge^:svg:|',\n        ':svg:feMergeNode^:svg:|',\n        ':svg:feMorphology^:svg:|',\n        ':svg:feOffset^:svg:|',\n        ':svg:fePointLight^:svg:|',\n        ':svg:feSpecularLighting^:svg:|',\n        ':svg:feSpotLight^:svg:|',\n        ':svg:feTile^:svg:|',\n        ':svg:feTurbulence^:svg:|',\n        ':svg:filter^:svg:|',\n        ':svg:foreignObject^:svg:graphics|',\n        ':svg:g^:svg:graphics|',\n        ':svg:image^:svg:graphics|',\n        ':svg:line^:svg:geometry|',\n        ':svg:linearGradient^:svg:gradient|',\n        ':svg:mpath^:svg:|',\n        ':svg:marker^:svg:|',\n        ':svg:mask^:svg:|',\n        ':svg:metadata^:svg:|',\n        ':svg:path^:svg:geometry|',\n        ':svg:pattern^:svg:|',\n        ':svg:polygon^:svg:geometry|',\n        ':svg:polyline^:svg:geometry|',\n        ':svg:radialGradient^:svg:gradient|',\n        ':svg:rect^:svg:geometry|',\n        ':svg:svg^:svg:graphics|#currentScale,#zoomAndPan',\n        ':svg:script^:svg:|type',\n        ':svg:set^:svg:animation|',\n        ':svg:stop^:svg:|',\n        ':svg:style^:svg:|!disabled,media,title,type',\n        ':svg:switch^:svg:graphics|',\n        ':svg:symbol^:svg:|',\n        ':svg:tspan^:svg:textPositioning|',\n        ':svg:text^:svg:textPositioning|',\n        ':svg:textPath^:svg:textContent|',\n        ':svg:title^:svg:|',\n        ':svg:use^:svg:graphics|',\n        ':svg:view^:svg:|#zoomAndPan',\n        'data^[HTMLElement]|value',\n        'keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name',\n        'menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default',\n        'summary^[HTMLElement]|',\n        'time^[HTMLElement]|dateTime',\n        ':svg:cursor^:svg:|',\n    ];\n    var _ATTR_TO_PROP = {\n        'class': 'className',\n        'for': 'htmlFor',\n        'formaction': 'formAction',\n        'innerHtml': 'innerHTML',\n        'readonly': 'readOnly',\n        'tabindex': 'tabIndex',\n    };\n    var DomElementSchemaRegistry = /** @class */ (function (_super) {\n        __extends(DomElementSchemaRegistry, _super);\n        function DomElementSchemaRegistry() {\n            var _this = _super.call(this) || this;\n            _this._schema = {};\n            SCHEMA.forEach(function (encodedType) {\n                var type = {};\n                var _a = __read(encodedType.split('|'), 2), strType = _a[0], strProperties = _a[1];\n                var properties = strProperties.split(',');\n                var _b = __read(strType.split('^'), 2), typeNames = _b[0], superName = _b[1];\n                typeNames.split(',').forEach(function (tag) { return _this._schema[tag.toLowerCase()] = type; });\n                var superType = superName && _this._schema[superName.toLowerCase()];\n                if (superType) {\n                    Object.keys(superType).forEach(function (prop) { type[prop] = superType[prop]; });\n                }\n                properties.forEach(function (property) {\n                    if (property.length > 0) {\n                        switch (property[0]) {\n                            case '*':\n                                // We don't yet support events.\n                                // If ever allowing to bind to events, GO THROUGH A SECURITY REVIEW, allowing events\n                                // will\n                                // almost certainly introduce bad XSS vulnerabilities.\n                                // type[property.substring(1)] = EVENT;\n                                break;\n                            case '!':\n                                type[property.substring(1)] = BOOLEAN;\n                                break;\n                            case '#':\n                                type[property.substring(1)] = NUMBER;\n                                break;\n                            case '%':\n                                type[property.substring(1)] = OBJECT;\n                                break;\n                            default:\n                                type[property] = STRING;\n                        }\n                    }\n                });\n            });\n            return _this;\n        }\n        DomElementSchemaRegistry.prototype.hasProperty = function (tagName, propName, schemaMetas) {\n            if (schemaMetas.some(function (schema) { return schema.name === NO_ERRORS_SCHEMA.name; })) {\n                return true;\n            }\n            if (tagName.indexOf('-') > -1) {\n                if (isNgContainer(tagName) || isNgContent(tagName)) {\n                    return false;\n                }\n                if (schemaMetas.some(function (schema) { return schema.name === CUSTOM_ELEMENTS_SCHEMA.name; })) {\n                    // Can't tell now as we don't know which properties a custom element will get\n                    // once it is instantiated\n                    return true;\n                }\n            }\n            var elementProperties = this._schema[tagName.toLowerCase()] || this._schema['unknown'];\n            return !!elementProperties[propName];\n        };\n        DomElementSchemaRegistry.prototype.hasElement = function (tagName, schemaMetas) {\n            if (schemaMetas.some(function (schema) { return schema.name === NO_ERRORS_SCHEMA.name; })) {\n                return true;\n            }\n            if (tagName.indexOf('-') > -1) {\n                if (isNgContainer(tagName) || isNgContent(tagName)) {\n                    return true;\n                }\n                if (schemaMetas.some(function (schema) { return schema.name === CUSTOM_ELEMENTS_SCHEMA.name; })) {\n                    // Allow any custom elements\n                    return true;\n                }\n            }\n            return !!this._schema[tagName.toLowerCase()];\n        };\n        /**\n         * securityContext returns the security context for the given property on the given DOM tag.\n         *\n         * Tag and property name are statically known and cannot change at runtime, i.e. it is not\n         * possible to bind a value into a changing attribute or tag name.\n         *\n         * The filtering is white list based. All attributes in the schema above are assumed to have the\n         * 'NONE' security context, i.e. that they are safe inert string values. Only specific well known\n         * attack vectors are assigned their appropriate context.\n         */\n        DomElementSchemaRegistry.prototype.securityContext = function (tagName, propName, isAttribute) {\n            if (isAttribute) {\n                // NB: For security purposes, use the mapped property name, not the attribute name.\n                propName = this.getMappedPropName(propName);\n            }\n            // Make sure comparisons are case insensitive, so that case differences between attribute and\n            // property names do not have a security impact.\n            tagName = tagName.toLowerCase();\n            propName = propName.toLowerCase();\n            var ctx = SECURITY_SCHEMA()[tagName + '|' + propName];\n            if (ctx) {\n                return ctx;\n            }\n            ctx = SECURITY_SCHEMA()['*|' + propName];\n            return ctx ? ctx : SecurityContext.NONE;\n        };\n        DomElementSchemaRegistry.prototype.getMappedPropName = function (propName) { return _ATTR_TO_PROP[propName] || propName; };\n        DomElementSchemaRegistry.prototype.getDefaultComponentElementName = function () { return 'ng-component'; };\n        DomElementSchemaRegistry.prototype.validateProperty = function (name) {\n            if (name.toLowerCase().startsWith('on')) {\n                var msg = \"Binding to event property '\" + name + \"' is disallowed for security reasons, \" +\n                    (\"please use (\" + name.slice(2) + \")=...\") +\n                    (\"\\nIf '\" + name + \"' is a directive input, make sure the directive is imported by the\") +\n                    \" current module.\";\n                return { error: true, msg: msg };\n            }\n            else {\n                return { error: false };\n            }\n        };\n        DomElementSchemaRegistry.prototype.validateAttribute = function (name) {\n            if (name.toLowerCase().startsWith('on')) {\n                var msg = \"Binding to event attribute '\" + name + \"' is disallowed for security reasons, \" +\n                    (\"please use (\" + name.slice(2) + \")=...\");\n                return { error: true, msg: msg };\n            }\n            else {\n                return { error: false };\n            }\n        };\n        DomElementSchemaRegistry.prototype.allKnownElementNames = function () { return Object.keys(this._schema); };\n        DomElementSchemaRegistry.prototype.normalizeAnimationStyleProperty = function (propName) {\n            return dashCaseToCamelCase(propName);\n        };\n        DomElementSchemaRegistry.prototype.normalizeAnimationStyleValue = function (camelCaseProp, userProvidedProp, val) {\n            var unit = '';\n            var strVal = val.toString().trim();\n            var errorMsg = null;\n            if (_isPixelDimensionStyle(camelCaseProp) && val !== 0 && val !== '0') {\n                if (typeof val === 'number') {\n                    unit = 'px';\n                }\n                else {\n                    var valAndSuffixMatch = val.match(/^[+-]?[\\d\\.]+([a-z]*)$/);\n                    if (valAndSuffixMatch && valAndSuffixMatch[1].length == 0) {\n                        errorMsg = \"Please provide a CSS unit value for \" + userProvidedProp + \":\" + val;\n                    }\n                }\n            }\n            return { error: errorMsg, value: strVal + unit };\n        };\n        return DomElementSchemaRegistry;\n    }(ElementSchemaRegistry));\n    function _isPixelDimensionStyle(prop) {\n        switch (prop) {\n            case 'width':\n            case 'height':\n            case 'minWidth':\n            case 'minHeight':\n            case 'maxWidth':\n            case 'maxHeight':\n            case 'left':\n            case 'top':\n            case 'bottom':\n            case 'right':\n            case 'fontSize':\n            case 'outlineWidth':\n            case 'outlineOffset':\n            case 'paddingTop':\n            case 'paddingLeft':\n            case 'paddingBottom':\n            case 'paddingRight':\n            case 'marginTop':\n            case 'marginLeft':\n            case 'marginBottom':\n            case 'marginRight':\n            case 'borderRadius':\n            case 'borderWidth':\n            case 'borderTopWidth':\n            case 'borderLeftWidth':\n            case 'borderRightWidth':\n            case 'borderBottomWidth':\n            case 'textIndent':\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * This file is a port of shadowCSS from webcomponents.js to TypeScript.\n     *\n     * Please make sure to keep to edits in sync with the source file.\n     *\n     * Source:\n     * https://github.com/webcomponents/webcomponentsjs/blob/4efecd7e0e/src/ShadowCSS/ShadowCSS.js\n     *\n     * The original file level comment is reproduced below\n     */\n    /*\n      This is a limited shim for ShadowDOM css styling.\n      https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#styles\n\n      The intention here is to support only the styling features which can be\n      relatively simply implemented. The goal is to allow users to avoid the\n      most obvious pitfalls and do so without compromising performance significantly.\n      For ShadowDOM styling that's not covered here, a set of best practices\n      can be provided that should allow users to accomplish more complex styling.\n\n      The following is a list of specific ShadowDOM styling features and a brief\n      discussion of the approach used to shim.\n\n      Shimmed features:\n\n      * :host, :host-context: ShadowDOM allows styling of the shadowRoot's host\n      element using the :host rule. To shim this feature, the :host styles are\n      reformatted and prefixed with a given scope name and promoted to a\n      document level stylesheet.\n      For example, given a scope name of .foo, a rule like this:\n\n        :host {\n            background: red;\n          }\n        }\n\n      becomes:\n\n        .foo {\n          background: red;\n        }\n\n      * encapsulation: Styles defined within ShadowDOM, apply only to\n      dom inside the ShadowDOM. Polymer uses one of two techniques to implement\n      this feature.\n\n      By default, rules are prefixed with the host element tag name\n      as a descendant selector. This ensures styling does not leak out of the 'top'\n      of the element's ShadowDOM. For example,\n\n      div {\n          font-weight: bold;\n        }\n\n      becomes:\n\n      x-foo div {\n          font-weight: bold;\n        }\n\n      becomes:\n\n\n      Alternatively, if WebComponents.ShadowCSS.strictStyling is set to true then\n      selectors are scoped by adding an attribute selector suffix to each\n      simple selector that contains the host element tag name. Each element\n      in the element's ShadowDOM template is also given the scope attribute.\n      Thus, these rules match only elements that have the scope attribute.\n      For example, given a scope name of x-foo, a rule like this:\n\n        div {\n          font-weight: bold;\n        }\n\n      becomes:\n\n        div[x-foo] {\n          font-weight: bold;\n        }\n\n      Note that elements that are dynamically added to a scope must have the scope\n      selector added to them manually.\n\n      * upper/lower bound encapsulation: Styles which are defined outside a\n      shadowRoot should not cross the ShadowDOM boundary and should not apply\n      inside a shadowRoot.\n\n      This styling behavior is not emulated. Some possible ways to do this that\n      were rejected due to complexity and/or performance concerns include: (1) reset\n      every possible property for every possible selector for a given scope name;\n      (2) re-implement css in javascript.\n\n      As an alternative, users should make sure to use selectors\n      specific to the scope in which they are working.\n\n      * ::distributed: This behavior is not emulated. It's often not necessary\n      to style the contents of a specific insertion point and instead, descendants\n      of the host element can be styled selectively. Users can also create an\n      extra node around an insertion point and style that node's contents\n      via descendent selectors. For example, with a shadowRoot like this:\n\n        <style>\n          ::content(div) {\n            background: red;\n          }\n        </style>\n        <content></content>\n\n      could become:\n\n        <style>\n          / *@polyfill .content-container div * /\n          ::content(div) {\n            background: red;\n          }\n        </style>\n        <div class=\"content-container\">\n          <content></content>\n        </div>\n\n      Note the use of @polyfill in the comment above a ShadowDOM specific style\n      declaration. This is a directive to the styling shim to use the selector\n      in comments in lieu of the next selector when running under polyfill.\n    */\n    var ShadowCss = /** @class */ (function () {\n        function ShadowCss() {\n            this.strictStyling = true;\n        }\n        /*\n        * Shim some cssText with the given selector. Returns cssText that can\n        * be included in the document via WebComponents.ShadowCSS.addCssToDocument(css).\n        *\n        * When strictStyling is true:\n        * - selector is the attribute added to all elements inside the host,\n        * - hostSelector is the attribute added to the host itself.\n        */\n        ShadowCss.prototype.shimCssText = function (cssText, selector, hostSelector) {\n            if (hostSelector === void 0) { hostSelector = ''; }\n            var commentsWithHash = extractCommentsWithHash(cssText);\n            cssText = stripComments(cssText);\n            cssText = this._insertDirectives(cssText);\n            var scopedCssText = this._scopeCssText(cssText, selector, hostSelector);\n            return __spread([scopedCssText], commentsWithHash).join('\\n');\n        };\n        ShadowCss.prototype._insertDirectives = function (cssText) {\n            cssText = this._insertPolyfillDirectivesInCssText(cssText);\n            return this._insertPolyfillRulesInCssText(cssText);\n        };\n        /*\n         * Process styles to convert native ShadowDOM rules that will trip\n         * up the css parser; we rely on decorating the stylesheet with inert rules.\n         *\n         * For example, we convert this rule:\n         *\n         * polyfill-next-selector { content: ':host menu-item'; }\n         * ::content menu-item {\n         *\n         * to this:\n         *\n         * scopeName menu-item {\n         *\n        **/\n        ShadowCss.prototype._insertPolyfillDirectivesInCssText = function (cssText) {\n            // Difference with webcomponents.js: does not handle comments\n            return cssText.replace(_cssContentNextSelectorRe, function () {\n                var m = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    m[_i] = arguments[_i];\n                }\n                return m[2] + '{';\n            });\n        };\n        /*\n         * Process styles to add rules which will only apply under the polyfill\n         *\n         * For example, we convert this rule:\n         *\n         * polyfill-rule {\n         *   content: ':host menu-item';\n         * ...\n         * }\n         *\n         * to this:\n         *\n         * scopeName menu-item {...}\n         *\n        **/\n        ShadowCss.prototype._insertPolyfillRulesInCssText = function (cssText) {\n            // Difference with webcomponents.js: does not handle comments\n            return cssText.replace(_cssContentRuleRe, function () {\n                var m = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    m[_i] = arguments[_i];\n                }\n                var rule = m[0].replace(m[1], '').replace(m[2], '');\n                return m[4] + rule;\n            });\n        };\n        /* Ensure styles are scoped. Pseudo-scoping takes a rule like:\n         *\n         *  .foo {... }\n         *\n         *  and converts this to\n         *\n         *  scopeName .foo { ... }\n        */\n        ShadowCss.prototype._scopeCssText = function (cssText, scopeSelector, hostSelector) {\n            var unscopedRules = this._extractUnscopedRulesFromCssText(cssText);\n            // replace :host and :host-context -shadowcsshost and -shadowcsshost respectively\n            cssText = this._insertPolyfillHostInCssText(cssText);\n            cssText = this._convertColonHost(cssText);\n            cssText = this._convertColonHostContext(cssText);\n            cssText = this._convertShadowDOMSelectors(cssText);\n            if (scopeSelector) {\n                cssText = this._scopeSelectors(cssText, scopeSelector, hostSelector);\n            }\n            cssText = cssText + '\\n' + unscopedRules;\n            return cssText.trim();\n        };\n        /*\n         * Process styles to add rules which will only apply under the polyfill\n         * and do not process via CSSOM. (CSSOM is destructive to rules on rare\n         * occasions, e.g. -webkit-calc on Safari.)\n         * For example, we convert this rule:\n         *\n         * @polyfill-unscoped-rule {\n         *   content: 'menu-item';\n         * ... }\n         *\n         * to this:\n         *\n         * menu-item {...}\n         *\n        **/\n        ShadowCss.prototype._extractUnscopedRulesFromCssText = function (cssText) {\n            // Difference with webcomponents.js: does not handle comments\n            var r = '';\n            var m;\n            _cssContentUnscopedRuleRe.lastIndex = 0;\n            while ((m = _cssContentUnscopedRuleRe.exec(cssText)) !== null) {\n                var rule = m[0].replace(m[2], '').replace(m[1], m[4]);\n                r += rule + '\\n\\n';\n            }\n            return r;\n        };\n        /*\n         * convert a rule like :host(.foo) > .bar { }\n         *\n         * to\n         *\n         * .foo<scopeName> > .bar\n        */\n        ShadowCss.prototype._convertColonHost = function (cssText) {\n            return this._convertColonRule(cssText, _cssColonHostRe, this._colonHostPartReplacer);\n        };\n        /*\n         * convert a rule like :host-context(.foo) > .bar { }\n         *\n         * to\n         *\n         * .foo<scopeName> > .bar, .foo scopeName > .bar { }\n         *\n         * and\n         *\n         * :host-context(.foo:host) .bar { ... }\n         *\n         * to\n         *\n         * .foo<scopeName> .bar { ... }\n        */\n        ShadowCss.prototype._convertColonHostContext = function (cssText) {\n            return this._convertColonRule(cssText, _cssColonHostContextRe, this._colonHostContextPartReplacer);\n        };\n        ShadowCss.prototype._convertColonRule = function (cssText, regExp, partReplacer) {\n            // m[1] = :host(-context), m[2] = contents of (), m[3] rest of rule\n            return cssText.replace(regExp, function () {\n                var m = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    m[_i] = arguments[_i];\n                }\n                if (m[2]) {\n                    var parts = m[2].split(',');\n                    var r = [];\n                    for (var i = 0; i < parts.length; i++) {\n                        var p = parts[i].trim();\n                        if (!p)\n                            break;\n                        r.push(partReplacer(_polyfillHostNoCombinator, p, m[3]));\n                    }\n                    return r.join(',');\n                }\n                else {\n                    return _polyfillHostNoCombinator + m[3];\n                }\n            });\n        };\n        ShadowCss.prototype._colonHostContextPartReplacer = function (host, part, suffix) {\n            if (part.indexOf(_polyfillHost) > -1) {\n                return this._colonHostPartReplacer(host, part, suffix);\n            }\n            else {\n                return host + part + suffix + ', ' + part + ' ' + host + suffix;\n            }\n        };\n        ShadowCss.prototype._colonHostPartReplacer = function (host, part, suffix) {\n            return host + part.replace(_polyfillHost, '') + suffix;\n        };\n        /*\n         * Convert combinators like ::shadow and pseudo-elements like ::content\n         * by replacing with space.\n        */\n        ShadowCss.prototype._convertShadowDOMSelectors = function (cssText) {\n            return _shadowDOMSelectorsRe.reduce(function (result, pattern) { return result.replace(pattern, ' '); }, cssText);\n        };\n        // change a selector like 'div' to 'name div'\n        ShadowCss.prototype._scopeSelectors = function (cssText, scopeSelector, hostSelector) {\n            var _this = this;\n            return processRules(cssText, function (rule) {\n                var selector = rule.selector;\n                var content = rule.content;\n                if (rule.selector[0] != '@') {\n                    selector =\n                        _this._scopeSelector(rule.selector, scopeSelector, hostSelector, _this.strictStyling);\n                }\n                else if (rule.selector.startsWith('@media') || rule.selector.startsWith('@supports') ||\n                    rule.selector.startsWith('@page') || rule.selector.startsWith('@document')) {\n                    content = _this._scopeSelectors(rule.content, scopeSelector, hostSelector);\n                }\n                return new CssRule(selector, content);\n            });\n        };\n        ShadowCss.prototype._scopeSelector = function (selector, scopeSelector, hostSelector, strict) {\n            var _this = this;\n            return selector.split(',')\n                .map(function (part) { return part.trim().split(_shadowDeepSelectors); })\n                .map(function (deepParts) {\n                var _a = __read(deepParts), shallowPart = _a[0], otherParts = _a.slice(1);\n                var applyScope = function (shallowPart) {\n                    if (_this._selectorNeedsScoping(shallowPart, scopeSelector)) {\n                        return strict ?\n                            _this._applyStrictSelectorScope(shallowPart, scopeSelector, hostSelector) :\n                            _this._applySelectorScope(shallowPart, scopeSelector, hostSelector);\n                    }\n                    else {\n                        return shallowPart;\n                    }\n                };\n                return __spread([applyScope(shallowPart)], otherParts).join(' ');\n            })\n                .join(', ');\n        };\n        ShadowCss.prototype._selectorNeedsScoping = function (selector, scopeSelector) {\n            var re = this._makeScopeMatcher(scopeSelector);\n            return !re.test(selector);\n        };\n        ShadowCss.prototype._makeScopeMatcher = function (scopeSelector) {\n            var lre = /\\[/g;\n            var rre = /\\]/g;\n            scopeSelector = scopeSelector.replace(lre, '\\\\[').replace(rre, '\\\\]');\n            return new RegExp('^(' + scopeSelector + ')' + _selectorReSuffix, 'm');\n        };\n        ShadowCss.prototype._applySelectorScope = function (selector, scopeSelector, hostSelector) {\n            // Difference from webcomponents.js: scopeSelector could not be an array\n            return this._applySimpleSelectorScope(selector, scopeSelector, hostSelector);\n        };\n        // scope via name and [is=name]\n        ShadowCss.prototype._applySimpleSelectorScope = function (selector, scopeSelector, hostSelector) {\n            // In Android browser, the lastIndex is not reset when the regex is used in String.replace()\n            _polyfillHostRe.lastIndex = 0;\n            if (_polyfillHostRe.test(selector)) {\n                var replaceBy_1 = this.strictStyling ? \"[\" + hostSelector + \"]\" : scopeSelector;\n                return selector\n                    .replace(_polyfillHostNoCombinatorRe, function (hnc, selector) {\n                    return selector.replace(/([^:]*)(:*)(.*)/, function (_, before, colon, after) {\n                        return before + replaceBy_1 + colon + after;\n                    });\n                })\n                    .replace(_polyfillHostRe, replaceBy_1 + ' ');\n            }\n            return scopeSelector + ' ' + selector;\n        };\n        // return a selector with [name] suffix on each simple selector\n        // e.g. .foo.bar > .zot becomes .foo[name].bar[name] > .zot[name]  /** @internal */\n        ShadowCss.prototype._applyStrictSelectorScope = function (selector, scopeSelector, hostSelector) {\n            var _this = this;\n            var isRe = /\\[is=([^\\]]*)\\]/g;\n            scopeSelector = scopeSelector.replace(isRe, function (_) {\n                var parts = [];\n                for (var _i = 1; _i < arguments.length; _i++) {\n                    parts[_i - 1] = arguments[_i];\n                }\n                return parts[0];\n            });\n            var attrName = '[' + scopeSelector + ']';\n            var _scopeSelectorPart = function (p) {\n                var scopedP = p.trim();\n                if (!scopedP) {\n                    return '';\n                }\n                if (p.indexOf(_polyfillHostNoCombinator) > -1) {\n                    scopedP = _this._applySimpleSelectorScope(p, scopeSelector, hostSelector);\n                }\n                else {\n                    // remove :host since it should be unnecessary\n                    var t = p.replace(_polyfillHostRe, '');\n                    if (t.length > 0) {\n                        var matches = t.match(/([^:]*)(:*)(.*)/);\n                        if (matches) {\n                            scopedP = matches[1] + attrName + matches[2] + matches[3];\n                        }\n                    }\n                }\n                return scopedP;\n            };\n            var safeContent = new SafeSelector(selector);\n            selector = safeContent.content();\n            var scopedSelector = '';\n            var startIndex = 0;\n            var res;\n            var sep = /( |>|\\+|~(?!=))\\s*/g;\n            // If a selector appears before :host it should not be shimmed as it\n            // matches on ancestor elements and not on elements in the host's shadow\n            // `:host-context(div)` is transformed to\n            // `-shadowcsshost-no-combinatordiv, div -shadowcsshost-no-combinator`\n            // the `div` is not part of the component in the 2nd selectors and should not be scoped.\n            // Historically `component-tag:host` was matching the component so we also want to preserve\n            // this behavior to avoid breaking legacy apps (it should not match).\n            // The behavior should be:\n            // - `tag:host` -> `tag[h]` (this is to avoid breaking legacy apps, should not match anything)\n            // - `tag :host` -> `tag [h]` (`tag` is not scoped because it's considered part of a\n            //   `:host-context(tag)`)\n            var hasHost = selector.indexOf(_polyfillHostNoCombinator) > -1;\n            // Only scope parts after the first `-shadowcsshost-no-combinator` when it is present\n            var shouldScope = !hasHost;\n            while ((res = sep.exec(selector)) !== null) {\n                var separator = res[1];\n                var part_1 = selector.slice(startIndex, res.index).trim();\n                shouldScope = shouldScope || part_1.indexOf(_polyfillHostNoCombinator) > -1;\n                var scopedPart = shouldScope ? _scopeSelectorPart(part_1) : part_1;\n                scopedSelector += scopedPart + \" \" + separator + \" \";\n                startIndex = sep.lastIndex;\n            }\n            var part = selector.substring(startIndex);\n            shouldScope = shouldScope || part.indexOf(_polyfillHostNoCombinator) > -1;\n            scopedSelector += shouldScope ? _scopeSelectorPart(part) : part;\n            // replace the placeholders with their original values\n            return safeContent.restore(scopedSelector);\n        };\n        ShadowCss.prototype._insertPolyfillHostInCssText = function (selector) {\n            return selector.replace(_colonHostContextRe, _polyfillHostContext)\n                .replace(_colonHostRe, _polyfillHost);\n        };\n        return ShadowCss;\n    }());\n    var SafeSelector = /** @class */ (function () {\n        function SafeSelector(selector) {\n            var _this = this;\n            this.placeholders = [];\n            this.index = 0;\n            // Replaces attribute selectors with placeholders.\n            // The WS in [attr=\"va lue\"] would otherwise be interpreted as a selector separator.\n            selector = selector.replace(/(\\[[^\\]]*\\])/g, function (_, keep) {\n                var replaceBy = \"__ph-\" + _this.index + \"__\";\n                _this.placeholders.push(keep);\n                _this.index++;\n                return replaceBy;\n            });\n            // Replaces the expression in `:nth-child(2n + 1)` with a placeholder.\n            // WS and \"+\" would otherwise be interpreted as selector separators.\n            this._content = selector.replace(/(:nth-[-\\w]+)(\\([^)]+\\))/g, function (_, pseudo, exp) {\n                var replaceBy = \"__ph-\" + _this.index + \"__\";\n                _this.placeholders.push(exp);\n                _this.index++;\n                return pseudo + replaceBy;\n            });\n        }\n        SafeSelector.prototype.restore = function (content) {\n            var _this = this;\n            return content.replace(/__ph-(\\d+)__/g, function (ph, index) { return _this.placeholders[+index]; });\n        };\n        SafeSelector.prototype.content = function () { return this._content; };\n        return SafeSelector;\n    }());\n    var _cssContentNextSelectorRe = /polyfill-next-selector[^}]*content:[\\s]*?(['\"])(.*?)\\1[;\\s]*}([^{]*?){/gim;\n    var _cssContentRuleRe = /(polyfill-rule)[^}]*(content:[\\s]*(['\"])(.*?)\\3)[;\\s]*[^}]*}/gim;\n    var _cssContentUnscopedRuleRe = /(polyfill-unscoped-rule)[^}]*(content:[\\s]*(['\"])(.*?)\\3)[;\\s]*[^}]*}/gim;\n    var _polyfillHost = '-shadowcsshost';\n    // note: :host-context pre-processed to -shadowcsshostcontext.\n    var _polyfillHostContext = '-shadowcsscontext';\n    var _parenSuffix = ')(?:\\\\((' +\n        '(?:\\\\([^)(]*\\\\)|[^)(]*)+?' +\n        ')\\\\))?([^,{]*)';\n    var _cssColonHostRe = new RegExp('(' + _polyfillHost + _parenSuffix, 'gim');\n    var _cssColonHostContextRe = new RegExp('(' + _polyfillHostContext + _parenSuffix, 'gim');\n    var _polyfillHostNoCombinator = _polyfillHost + '-no-combinator';\n    var _polyfillHostNoCombinatorRe = /-shadowcsshost-no-combinator([^\\s]*)/;\n    var _shadowDOMSelectorsRe = [\n        /::shadow/g,\n        /::content/g,\n        // Deprecated selectors\n        /\\/shadow-deep\\//g,\n        /\\/shadow\\//g,\n    ];\n    // The deep combinator is deprecated in the CSS spec\n    // Support for `>>>`, `deep`, `::ng-deep` is then also deprecated and will be removed in the future.\n    // see https://github.com/angular/angular/pull/17677\n    var _shadowDeepSelectors = /(?:>>>)|(?:\\/deep\\/)|(?:::ng-deep)/g;\n    var _selectorReSuffix = '([>\\\\s~+\\[.,{:][\\\\s\\\\S]*)?$';\n    var _polyfillHostRe = /-shadowcsshost/gim;\n    var _colonHostRe = /:host/gim;\n    var _colonHostContextRe = /:host-context/gim;\n    var _commentRe = /\\/\\*\\s*[\\s\\S]*?\\*\\//g;\n    function stripComments(input) {\n        return input.replace(_commentRe, '');\n    }\n    var _commentWithHashRe = /\\/\\*\\s*#\\s*source(Mapping)?URL=[\\s\\S]+?\\*\\//g;\n    function extractCommentsWithHash(input) {\n        return input.match(_commentWithHashRe) || [];\n    }\n    var _ruleRe = /(\\s*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))/g;\n    var _curlyRe = /([{}])/g;\n    var OPEN_CURLY = '{';\n    var CLOSE_CURLY = '}';\n    var BLOCK_PLACEHOLDER = '%BLOCK%';\n    var CssRule = /** @class */ (function () {\n        function CssRule(selector, content) {\n            this.selector = selector;\n            this.content = content;\n        }\n        return CssRule;\n    }());\n    function processRules(input, ruleCallback) {\n        var inputWithEscapedBlocks = escapeBlocks(input);\n        var nextBlockIndex = 0;\n        return inputWithEscapedBlocks.escapedString.replace(_ruleRe, function () {\n            var m = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                m[_i] = arguments[_i];\n            }\n            var selector = m[2];\n            var content = '';\n            var suffix = m[4];\n            var contentPrefix = '';\n            if (suffix && suffix.startsWith('{' + BLOCK_PLACEHOLDER)) {\n                content = inputWithEscapedBlocks.blocks[nextBlockIndex++];\n                suffix = suffix.substring(BLOCK_PLACEHOLDER.length + 1);\n                contentPrefix = '{';\n            }\n            var rule = ruleCallback(new CssRule(selector, content));\n            return \"\" + m[1] + rule.selector + m[3] + contentPrefix + rule.content + suffix;\n        });\n    }\n    var StringWithEscapedBlocks = /** @class */ (function () {\n        function StringWithEscapedBlocks(escapedString, blocks) {\n            this.escapedString = escapedString;\n            this.blocks = blocks;\n        }\n        return StringWithEscapedBlocks;\n    }());\n    function escapeBlocks(input) {\n        var inputParts = input.split(_curlyRe);\n        var resultParts = [];\n        var escapedBlocks = [];\n        var bracketCount = 0;\n        var currentBlockParts = [];\n        for (var partIndex = 0; partIndex < inputParts.length; partIndex++) {\n            var part = inputParts[partIndex];\n            if (part == CLOSE_CURLY) {\n                bracketCount--;\n            }\n            if (bracketCount > 0) {\n                currentBlockParts.push(part);\n            }\n            else {\n                if (currentBlockParts.length > 0) {\n                    escapedBlocks.push(currentBlockParts.join(''));\n                    resultParts.push(BLOCK_PLACEHOLDER);\n                    currentBlockParts = [];\n                }\n                resultParts.push(part);\n            }\n            if (part == OPEN_CURLY) {\n                bracketCount++;\n            }\n        }\n        if (currentBlockParts.length > 0) {\n            escapedBlocks.push(currentBlockParts.join(''));\n            resultParts.push(BLOCK_PLACEHOLDER);\n        }\n        return new StringWithEscapedBlocks(resultParts.join(''), escapedBlocks);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var COMPONENT_VARIABLE = '%COMP%';\n    var HOST_ATTR = \"_nghost-\" + COMPONENT_VARIABLE;\n    var CONTENT_ATTR = \"_ngcontent-\" + COMPONENT_VARIABLE;\n    var StylesCompileDependency = /** @class */ (function () {\n        function StylesCompileDependency(name, moduleUrl, setValue) {\n            this.name = name;\n            this.moduleUrl = moduleUrl;\n            this.setValue = setValue;\n        }\n        return StylesCompileDependency;\n    }());\n    var CompiledStylesheet = /** @class */ (function () {\n        function CompiledStylesheet(outputCtx, stylesVar, dependencies, isShimmed, meta) {\n            this.outputCtx = outputCtx;\n            this.stylesVar = stylesVar;\n            this.dependencies = dependencies;\n            this.isShimmed = isShimmed;\n            this.meta = meta;\n        }\n        return CompiledStylesheet;\n    }());\n    var StyleCompiler = /** @class */ (function () {\n        function StyleCompiler(_urlResolver) {\n            this._urlResolver = _urlResolver;\n            this._shadowCss = new ShadowCss();\n        }\n        StyleCompiler.prototype.compileComponent = function (outputCtx, comp) {\n            var template = comp.template;\n            return this._compileStyles(outputCtx, comp, new CompileStylesheetMetadata({\n                styles: template.styles,\n                styleUrls: template.styleUrls,\n                moduleUrl: identifierModuleUrl(comp.type)\n            }), this.needsStyleShim(comp), true);\n        };\n        StyleCompiler.prototype.compileStyles = function (outputCtx, comp, stylesheet, shim) {\n            if (shim === void 0) { shim = this.needsStyleShim(comp); }\n            return this._compileStyles(outputCtx, comp, stylesheet, shim, false);\n        };\n        StyleCompiler.prototype.needsStyleShim = function (comp) {\n            return comp.template.encapsulation === ViewEncapsulation.Emulated;\n        };\n        StyleCompiler.prototype._compileStyles = function (outputCtx, comp, stylesheet, shim, isComponentStylesheet) {\n            var _this = this;\n            var styleExpressions = stylesheet.styles.map(function (plainStyle) { return literal(_this._shimIfNeeded(plainStyle, shim)); });\n            var dependencies = [];\n            stylesheet.styleUrls.forEach(function (styleUrl) {\n                var exprIndex = styleExpressions.length;\n                // Note: This placeholder will be filled later.\n                styleExpressions.push(null);\n                dependencies.push(new StylesCompileDependency(getStylesVarName(null), styleUrl, function (value) { return styleExpressions[exprIndex] = outputCtx.importExpr(value); }));\n            });\n            // styles variable contains plain strings and arrays of other styles arrays (recursive),\n            // so we set its type to dynamic.\n            var stylesVar = getStylesVarName(isComponentStylesheet ? comp : null);\n            var stmt = variable(stylesVar)\n                .set(literalArr(styleExpressions, new ArrayType(DYNAMIC_TYPE, [TypeModifier.Const])))\n                .toDeclStmt(null, isComponentStylesheet ? [exports.StmtModifier.Final] : [\n                exports.StmtModifier.Final, exports.StmtModifier.Exported\n            ]);\n            outputCtx.statements.push(stmt);\n            return new CompiledStylesheet(outputCtx, stylesVar, dependencies, shim, stylesheet);\n        };\n        StyleCompiler.prototype._shimIfNeeded = function (style, shim) {\n            return shim ? this._shadowCss.shimCssText(style, CONTENT_ATTR, HOST_ATTR) : style;\n        };\n        return StyleCompiler;\n    }());\n    function getStylesVarName(component) {\n        var result = \"styles\";\n        if (component) {\n            result += \"_\" + identifierName(component.type);\n        }\n        return result;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var PRESERVE_WS_ATTR_NAME = 'ngPreserveWhitespaces';\n    var SKIP_WS_TRIM_TAGS = new Set(['pre', 'template', 'textarea', 'script', 'style']);\n    // Equivalent to \\s with \\u00a0 (non-breaking space) excluded.\n    // Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\n    var WS_CHARS = ' \\f\\n\\r\\t\\v\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff';\n    var NO_WS_REGEXP = new RegExp(\"[^\" + WS_CHARS + \"]\");\n    var WS_REPLACE_REGEXP = new RegExp(\"[\" + WS_CHARS + \"]{2,}\", 'g');\n    function hasPreserveWhitespacesAttr(attrs) {\n        return attrs.some(function (attr) { return attr.name === PRESERVE_WS_ATTR_NAME; });\n    }\n    /**\n     * Angular Dart introduced &ngsp; as a placeholder for non-removable space, see:\n     * https://github.com/dart-lang/angular/blob/0bb611387d29d65b5af7f9d2515ab571fd3fbee4/_tests/test/compiler/preserve_whitespace_test.dart#L25-L32\n     * In Angular Dart &ngsp; is converted to the 0xE500 PUA (Private Use Areas) unicode character\n     * and later on replaced by a space. We are re-implementing the same idea here.\n     */\n    function replaceNgsp(value) {\n        // lexer is replacing the &ngsp; pseudo-entity with NGSP_UNICODE\n        return value.replace(new RegExp(NGSP_UNICODE, 'g'), ' ');\n    }\n    /**\n     * This visitor can walk HTML parse tree and remove / trim text nodes using the following rules:\n     * - consider spaces, tabs and new lines as whitespace characters;\n     * - drop text nodes consisting of whitespace characters only;\n     * - for all other text nodes replace consecutive whitespace characters with one space;\n     * - convert &ngsp; pseudo-entity to a single space;\n     *\n     * Removal and trimming of whitespaces have positive performance impact (less code to generate\n     * while compiling templates, faster view creation). At the same time it can be \"destructive\"\n     * in some cases (whitespaces can influence layout). Because of the potential of breaking layout\n     * this visitor is not activated by default in Angular 5 and people need to explicitly opt-in for\n     * whitespace removal. The default option for whitespace removal will be revisited in Angular 6\n     * and might be changed to \"on\" by default.\n     */\n    var WhitespaceVisitor = /** @class */ (function () {\n        function WhitespaceVisitor() {\n        }\n        WhitespaceVisitor.prototype.visitElement = function (element, context) {\n            if (SKIP_WS_TRIM_TAGS.has(element.name) || hasPreserveWhitespacesAttr(element.attrs)) {\n                // don't descent into elements where we need to preserve whitespaces\n                // but still visit all attributes to eliminate one used as a market to preserve WS\n                return new Element(element.name, visitAll(this, element.attrs), element.children, element.sourceSpan, element.startSourceSpan, element.endSourceSpan);\n            }\n            return new Element(element.name, element.attrs, visitAll(this, element.children), element.sourceSpan, element.startSourceSpan, element.endSourceSpan);\n        };\n        WhitespaceVisitor.prototype.visitAttribute = function (attribute, context) {\n            return attribute.name !== PRESERVE_WS_ATTR_NAME ? attribute : null;\n        };\n        WhitespaceVisitor.prototype.visitText = function (text, context) {\n            var isNotBlank = text.value.match(NO_WS_REGEXP);\n            if (isNotBlank) {\n                return new Text(replaceNgsp(text.value).replace(WS_REPLACE_REGEXP, ' '), text.sourceSpan);\n            }\n            return null;\n        };\n        WhitespaceVisitor.prototype.visitComment = function (comment, context) { return comment; };\n        WhitespaceVisitor.prototype.visitExpansion = function (expansion, context) { return expansion; };\n        WhitespaceVisitor.prototype.visitExpansionCase = function (expansionCase, context) { return expansionCase; };\n        return WhitespaceVisitor;\n    }());\n    function removeWhitespaces(htmlAstWithErrors) {\n        return new ParseTreeResult(visitAll(new WhitespaceVisitor(), htmlAstWithErrors.rootNodes), htmlAstWithErrors.errors);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // http://cldr.unicode.org/index/cldr-spec/plural-rules\n    var PLURAL_CASES = ['zero', 'one', 'two', 'few', 'many', 'other'];\n    /**\n     * Expands special forms into elements.\n     *\n     * For example,\n     *\n     * ```\n     * { messages.length, plural,\n     *   =0 {zero}\n     *   =1 {one}\n     *   other {more than one}\n     * }\n     * ```\n     *\n     * will be expanded into\n     *\n     * ```\n     * <ng-container [ngPlural]=\"messages.length\">\n     *   <ng-template ngPluralCase=\"=0\">zero</ng-template>\n     *   <ng-template ngPluralCase=\"=1\">one</ng-template>\n     *   <ng-template ngPluralCase=\"other\">more than one</ng-template>\n     * </ng-container>\n     * ```\n     */\n    function expandNodes(nodes) {\n        var expander = new _Expander();\n        return new ExpansionResult(visitAll(expander, nodes), expander.isExpanded, expander.errors);\n    }\n    var ExpansionResult = /** @class */ (function () {\n        function ExpansionResult(nodes, expanded, errors) {\n            this.nodes = nodes;\n            this.expanded = expanded;\n            this.errors = errors;\n        }\n        return ExpansionResult;\n    }());\n    var ExpansionError = /** @class */ (function (_super) {\n        __extends(ExpansionError, _super);\n        function ExpansionError(span, errorMsg) {\n            return _super.call(this, span, errorMsg) || this;\n        }\n        return ExpansionError;\n    }(ParseError));\n    /**\n     * Expand expansion forms (plural, select) to directives\n     *\n     * @internal\n     */\n    var _Expander = /** @class */ (function () {\n        function _Expander() {\n            this.isExpanded = false;\n            this.errors = [];\n        }\n        _Expander.prototype.visitElement = function (element, context) {\n            return new Element(element.name, element.attrs, visitAll(this, element.children), element.sourceSpan, element.startSourceSpan, element.endSourceSpan);\n        };\n        _Expander.prototype.visitAttribute = function (attribute, context) { return attribute; };\n        _Expander.prototype.visitText = function (text, context) { return text; };\n        _Expander.prototype.visitComment = function (comment, context) { return comment; };\n        _Expander.prototype.visitExpansion = function (icu, context) {\n            this.isExpanded = true;\n            return icu.type == 'plural' ? _expandPluralForm(icu, this.errors) :\n                _expandDefaultForm(icu, this.errors);\n        };\n        _Expander.prototype.visitExpansionCase = function (icuCase, context) {\n            throw new Error('Should not be reached');\n        };\n        return _Expander;\n    }());\n    // Plural forms are expanded to `NgPlural` and `NgPluralCase`s\n    function _expandPluralForm(ast, errors) {\n        var children = ast.cases.map(function (c) {\n            if (PLURAL_CASES.indexOf(c.value) == -1 && !c.value.match(/^=\\d+$/)) {\n                errors.push(new ExpansionError(c.valueSourceSpan, \"Plural cases should be \\\"=<number>\\\" or one of \" + PLURAL_CASES.join(\", \")));\n            }\n            var expansionResult = expandNodes(c.expression);\n            errors.push.apply(errors, __spread(expansionResult.errors));\n            return new Element(\"ng-template\", [new Attribute('ngPluralCase', \"\" + c.value, c.valueSourceSpan)], expansionResult.nodes, c.sourceSpan, c.sourceSpan, c.sourceSpan);\n        });\n        var switchAttr = new Attribute('[ngPlural]', ast.switchValue, ast.switchValueSourceSpan);\n        return new Element('ng-container', [switchAttr], children, ast.sourceSpan, ast.sourceSpan, ast.sourceSpan);\n    }\n    // ICU messages (excluding plural form) are expanded to `NgSwitch`  and `NgSwitchCase`s\n    function _expandDefaultForm(ast, errors) {\n        var children = ast.cases.map(function (c) {\n            var expansionResult = expandNodes(c.expression);\n            errors.push.apply(errors, __spread(expansionResult.errors));\n            if (c.value === 'other') {\n                // other is the default case when no values match\n                return new Element(\"ng-template\", [new Attribute('ngSwitchDefault', '', c.valueSourceSpan)], expansionResult.nodes, c.sourceSpan, c.sourceSpan, c.sourceSpan);\n            }\n            return new Element(\"ng-template\", [new Attribute('ngSwitchCase', \"\" + c.value, c.valueSourceSpan)], expansionResult.nodes, c.sourceSpan, c.sourceSpan, c.sourceSpan);\n        });\n        var switchAttr = new Attribute('[ngSwitch]', ast.switchValue, ast.switchValueSourceSpan);\n        return new Element('ng-container', [switchAttr], children, ast.sourceSpan, ast.sourceSpan, ast.sourceSpan);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var PROPERTY_PARTS_SEPARATOR = '.';\n    var ATTRIBUTE_PREFIX = 'attr';\n    var CLASS_PREFIX = 'class';\n    var STYLE_PREFIX = 'style';\n    var ANIMATE_PROP_PREFIX = 'animate-';\n    /**\n     * Parses bindings in templates and in the directive host area.\n     */\n    var BindingParser = /** @class */ (function () {\n        function BindingParser(_exprParser, _interpolationConfig, _schemaRegistry, pipes, errors) {\n            this._exprParser = _exprParser;\n            this._interpolationConfig = _interpolationConfig;\n            this._schemaRegistry = _schemaRegistry;\n            this.errors = errors;\n            this.pipesByName = null;\n            this._usedPipes = new Map();\n            // When the `pipes` parameter is `null`, do not check for used pipes\n            // This is used in IVY when we might not know the available pipes at compile time\n            if (pipes) {\n                var pipesByName_1 = new Map();\n                pipes.forEach(function (pipe) { return pipesByName_1.set(pipe.name, pipe); });\n                this.pipesByName = pipesByName_1;\n            }\n        }\n        BindingParser.prototype.getUsedPipes = function () { return Array.from(this._usedPipes.values()); };\n        BindingParser.prototype.createBoundHostProperties = function (dirMeta, sourceSpan) {\n            var _this = this;\n            if (dirMeta.hostProperties) {\n                var boundProps_1 = [];\n                Object.keys(dirMeta.hostProperties).forEach(function (propName) {\n                    var expression = dirMeta.hostProperties[propName];\n                    if (typeof expression === 'string') {\n                        _this.parsePropertyBinding(propName, expression, true, sourceSpan, [], boundProps_1);\n                    }\n                    else {\n                        _this._reportError(\"Value of the host property binding \\\"\" + propName + \"\\\" needs to be a string representing an expression but got \\\"\" + expression + \"\\\" (\" + typeof expression + \")\", sourceSpan);\n                    }\n                });\n                return boundProps_1;\n            }\n            return null;\n        };\n        BindingParser.prototype.createDirectiveHostPropertyAsts = function (dirMeta, elementSelector, sourceSpan) {\n            var _this = this;\n            var boundProps = this.createBoundHostProperties(dirMeta, sourceSpan);\n            return boundProps &&\n                boundProps.map(function (prop) { return _this.createBoundElementProperty(elementSelector, prop); });\n        };\n        BindingParser.prototype.createDirectiveHostEventAsts = function (dirMeta, sourceSpan) {\n            var _this = this;\n            if (dirMeta.hostListeners) {\n                var targetEvents_1 = [];\n                Object.keys(dirMeta.hostListeners).forEach(function (propName) {\n                    var expression = dirMeta.hostListeners[propName];\n                    if (typeof expression === 'string') {\n                        _this.parseEvent(propName, expression, sourceSpan, [], targetEvents_1);\n                    }\n                    else {\n                        _this._reportError(\"Value of the host listener \\\"\" + propName + \"\\\" needs to be a string representing an expression but got \\\"\" + expression + \"\\\" (\" + typeof expression + \")\", sourceSpan);\n                    }\n                });\n                return targetEvents_1;\n            }\n            return null;\n        };\n        BindingParser.prototype.parseInterpolation = function (value, sourceSpan) {\n            var sourceInfo = sourceSpan.start.toString();\n            try {\n                var ast = this._exprParser.parseInterpolation(value, sourceInfo, this._interpolationConfig);\n                if (ast)\n                    this._reportExpressionParserErrors(ast.errors, sourceSpan);\n                this._checkPipes(ast, sourceSpan);\n                return ast;\n            }\n            catch (e) {\n                this._reportError(\"\" + e, sourceSpan);\n                return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo);\n            }\n        };\n        // Parse an inline template binding. ie `<tag *tplKey=\"<tplValue>\">`\n        BindingParser.prototype.parseInlineTemplateBinding = function (tplKey, tplValue, sourceSpan, targetMatchableAttrs, targetProps, targetVars) {\n            var bindings = this._parseTemplateBindings(tplKey, tplValue, sourceSpan);\n            for (var i = 0; i < bindings.length; i++) {\n                var binding = bindings[i];\n                if (binding.keyIsVar) {\n                    targetVars.push(new ParsedVariable(binding.key, binding.name, sourceSpan));\n                }\n                else if (binding.expression) {\n                    this._parsePropertyAst(binding.key, binding.expression, sourceSpan, targetMatchableAttrs, targetProps);\n                }\n                else {\n                    targetMatchableAttrs.push([binding.key, '']);\n                    this.parseLiteralAttr(binding.key, null, sourceSpan, targetMatchableAttrs, targetProps);\n                }\n            }\n        };\n        BindingParser.prototype._parseTemplateBindings = function (tplKey, tplValue, sourceSpan) {\n            var _this = this;\n            var sourceInfo = sourceSpan.start.toString();\n            try {\n                var bindingsResult = this._exprParser.parseTemplateBindings(tplKey, tplValue, sourceInfo);\n                this._reportExpressionParserErrors(bindingsResult.errors, sourceSpan);\n                bindingsResult.templateBindings.forEach(function (binding) {\n                    if (binding.expression) {\n                        _this._checkPipes(binding.expression, sourceSpan);\n                    }\n                });\n                bindingsResult.warnings.forEach(function (warning) { _this._reportError(warning, sourceSpan, exports.ParseErrorLevel.WARNING); });\n                return bindingsResult.templateBindings;\n            }\n            catch (e) {\n                this._reportError(\"\" + e, sourceSpan);\n                return [];\n            }\n        };\n        BindingParser.prototype.parseLiteralAttr = function (name, value, sourceSpan, targetMatchableAttrs, targetProps) {\n            if (isAnimationLabel(name)) {\n                name = name.substring(1);\n                if (value) {\n                    this._reportError(\"Assigning animation triggers via @prop=\\\"exp\\\" attributes with an expression is invalid.\" +\n                        \" Use property bindings (e.g. [@prop]=\\\"exp\\\") or use an attribute without a value (e.g. @prop) instead.\", sourceSpan, exports.ParseErrorLevel.ERROR);\n                }\n                this._parseAnimation(name, value, sourceSpan, targetMatchableAttrs, targetProps);\n            }\n            else {\n                targetProps.push(new ParsedProperty(name, this._exprParser.wrapLiteralPrimitive(value, ''), exports.ParsedPropertyType.LITERAL_ATTR, sourceSpan));\n            }\n        };\n        BindingParser.prototype.parsePropertyBinding = function (name, expression, isHost, sourceSpan, targetMatchableAttrs, targetProps) {\n            var isAnimationProp = false;\n            if (name.startsWith(ANIMATE_PROP_PREFIX)) {\n                isAnimationProp = true;\n                name = name.substring(ANIMATE_PROP_PREFIX.length);\n            }\n            else if (isAnimationLabel(name)) {\n                isAnimationProp = true;\n                name = name.substring(1);\n            }\n            if (isAnimationProp) {\n                this._parseAnimation(name, expression, sourceSpan, targetMatchableAttrs, targetProps);\n            }\n            else {\n                this._parsePropertyAst(name, this._parseBinding(expression, isHost, sourceSpan), sourceSpan, targetMatchableAttrs, targetProps);\n            }\n        };\n        BindingParser.prototype.parsePropertyInterpolation = function (name, value, sourceSpan, targetMatchableAttrs, targetProps) {\n            var expr = this.parseInterpolation(value, sourceSpan);\n            if (expr) {\n                this._parsePropertyAst(name, expr, sourceSpan, targetMatchableAttrs, targetProps);\n                return true;\n            }\n            return false;\n        };\n        BindingParser.prototype._parsePropertyAst = function (name, ast, sourceSpan, targetMatchableAttrs, targetProps) {\n            targetMatchableAttrs.push([name, ast.source]);\n            targetProps.push(new ParsedProperty(name, ast, exports.ParsedPropertyType.DEFAULT, sourceSpan));\n        };\n        BindingParser.prototype._parseAnimation = function (name, expression, sourceSpan, targetMatchableAttrs, targetProps) {\n            // This will occur when a @trigger is not paired with an expression.\n            // For animations it is valid to not have an expression since */void\n            // states will be applied by angular when the element is attached/detached\n            var ast = this._parseBinding(expression || 'undefined', false, sourceSpan);\n            targetMatchableAttrs.push([name, ast.source]);\n            targetProps.push(new ParsedProperty(name, ast, exports.ParsedPropertyType.ANIMATION, sourceSpan));\n        };\n        BindingParser.prototype._parseBinding = function (value, isHostBinding, sourceSpan) {\n            var sourceInfo = (sourceSpan && sourceSpan.start || '(unknown)').toString();\n            try {\n                var ast = isHostBinding ?\n                    this._exprParser.parseSimpleBinding(value, sourceInfo, this._interpolationConfig) :\n                    this._exprParser.parseBinding(value, sourceInfo, this._interpolationConfig);\n                if (ast)\n                    this._reportExpressionParserErrors(ast.errors, sourceSpan);\n                this._checkPipes(ast, sourceSpan);\n                return ast;\n            }\n            catch (e) {\n                this._reportError(\"\" + e, sourceSpan);\n                return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo);\n            }\n        };\n        BindingParser.prototype.createBoundElementProperty = function (elementSelector, boundProp) {\n            if (boundProp.isAnimation) {\n                return new BoundElementProperty(boundProp.name, 4 /* Animation */, SecurityContext.NONE, boundProp.expression, null, boundProp.sourceSpan);\n            }\n            var unit = null;\n            var bindingType = undefined;\n            var boundPropertyName = null;\n            var parts = boundProp.name.split(PROPERTY_PARTS_SEPARATOR);\n            var securityContexts = undefined;\n            // Check check for special cases (prefix style, attr, class)\n            if (parts.length > 1) {\n                if (parts[0] == ATTRIBUTE_PREFIX) {\n                    boundPropertyName = parts[1];\n                    this._validatePropertyOrAttributeName(boundPropertyName, boundProp.sourceSpan, true);\n                    securityContexts = calcPossibleSecurityContexts(this._schemaRegistry, elementSelector, boundPropertyName, true);\n                    var nsSeparatorIdx = boundPropertyName.indexOf(':');\n                    if (nsSeparatorIdx > -1) {\n                        var ns = boundPropertyName.substring(0, nsSeparatorIdx);\n                        var name_1 = boundPropertyName.substring(nsSeparatorIdx + 1);\n                        boundPropertyName = mergeNsAndName(ns, name_1);\n                    }\n                    bindingType = 1 /* Attribute */;\n                }\n                else if (parts[0] == CLASS_PREFIX) {\n                    boundPropertyName = parts[1];\n                    bindingType = 2 /* Class */;\n                    securityContexts = [SecurityContext.NONE];\n                }\n                else if (parts[0] == STYLE_PREFIX) {\n                    unit = parts.length > 2 ? parts[2] : null;\n                    boundPropertyName = parts[1];\n                    bindingType = 3 /* Style */;\n                    securityContexts = [SecurityContext.STYLE];\n                }\n            }\n            // If not a special case, use the full property name\n            if (boundPropertyName === null) {\n                boundPropertyName = this._schemaRegistry.getMappedPropName(boundProp.name);\n                securityContexts = calcPossibleSecurityContexts(this._schemaRegistry, elementSelector, boundPropertyName, false);\n                bindingType = 0 /* Property */;\n                this._validatePropertyOrAttributeName(boundPropertyName, boundProp.sourceSpan, false);\n            }\n            return new BoundElementProperty(boundPropertyName, bindingType, securityContexts[0], boundProp.expression, unit, boundProp.sourceSpan);\n        };\n        BindingParser.prototype.parseEvent = function (name, expression, sourceSpan, targetMatchableAttrs, targetEvents) {\n            if (isAnimationLabel(name)) {\n                name = name.substr(1);\n                this._parseAnimationEvent(name, expression, sourceSpan, targetEvents);\n            }\n            else {\n                this._parseRegularEvent(name, expression, sourceSpan, targetMatchableAttrs, targetEvents);\n            }\n        };\n        BindingParser.prototype._parseAnimationEvent = function (name, expression, sourceSpan, targetEvents) {\n            var matches = splitAtPeriod(name, [name, '']);\n            var eventName = matches[0];\n            var phase = matches[1].toLowerCase();\n            if (phase) {\n                switch (phase) {\n                    case 'start':\n                    case 'done':\n                        var ast = this._parseAction(expression, sourceSpan);\n                        targetEvents.push(new ParsedEvent(eventName, phase, 1 /* Animation */, ast, sourceSpan));\n                        break;\n                    default:\n                        this._reportError(\"The provided animation output phase value \\\"\" + phase + \"\\\" for \\\"@\" + eventName + \"\\\" is not supported (use start or done)\", sourceSpan);\n                        break;\n                }\n            }\n            else {\n                this._reportError(\"The animation trigger output event (@\" + eventName + \") is missing its phase value name (start or done are currently supported)\", sourceSpan);\n            }\n        };\n        BindingParser.prototype._parseRegularEvent = function (name, expression, sourceSpan, targetMatchableAttrs, targetEvents) {\n            // long format: 'target: eventName'\n            var _a = __read(splitAtColon(name, [null, name]), 2), target = _a[0], eventName = _a[1];\n            var ast = this._parseAction(expression, sourceSpan);\n            targetMatchableAttrs.push([name, ast.source]);\n            targetEvents.push(new ParsedEvent(eventName, target, 0 /* Regular */, ast, sourceSpan));\n            // Don't detect directives for event names for now,\n            // so don't add the event name to the matchableAttrs\n        };\n        BindingParser.prototype._parseAction = function (value, sourceSpan) {\n            var sourceInfo = (sourceSpan && sourceSpan.start || '(unknown').toString();\n            try {\n                var ast = this._exprParser.parseAction(value, sourceInfo, this._interpolationConfig);\n                if (ast) {\n                    this._reportExpressionParserErrors(ast.errors, sourceSpan);\n                }\n                if (!ast || ast.ast instanceof EmptyExpr) {\n                    this._reportError(\"Empty expressions are not allowed\", sourceSpan);\n                    return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo);\n                }\n                this._checkPipes(ast, sourceSpan);\n                return ast;\n            }\n            catch (e) {\n                this._reportError(\"\" + e, sourceSpan);\n                return this._exprParser.wrapLiteralPrimitive('ERROR', sourceInfo);\n            }\n        };\n        BindingParser.prototype._reportError = function (message, sourceSpan, level) {\n            if (level === void 0) { level = exports.ParseErrorLevel.ERROR; }\n            this.errors.push(new ParseError(sourceSpan, message, level));\n        };\n        BindingParser.prototype._reportExpressionParserErrors = function (errors, sourceSpan) {\n            var e_1, _a;\n            try {\n                for (var errors_1 = __values(errors), errors_1_1 = errors_1.next(); !errors_1_1.done; errors_1_1 = errors_1.next()) {\n                    var error$$1 = errors_1_1.value;\n                    this._reportError(error$$1.message, sourceSpan);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (errors_1_1 && !errors_1_1.done && (_a = errors_1.return)) _a.call(errors_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        };\n        // Make sure all the used pipes are known in `this.pipesByName`\n        BindingParser.prototype._checkPipes = function (ast, sourceSpan) {\n            var _this = this;\n            if (ast && this.pipesByName) {\n                var collector = new PipeCollector();\n                ast.visit(collector);\n                collector.pipes.forEach(function (ast, pipeName) {\n                    var pipeMeta = _this.pipesByName.get(pipeName);\n                    if (!pipeMeta) {\n                        _this._reportError(\"The pipe '\" + pipeName + \"' could not be found\", new ParseSourceSpan(sourceSpan.start.moveBy(ast.span.start), sourceSpan.start.moveBy(ast.span.end)));\n                    }\n                    else {\n                        _this._usedPipes.set(pipeName, pipeMeta);\n                    }\n                });\n            }\n        };\n        /**\n         * @param propName the name of the property / attribute\n         * @param sourceSpan\n         * @param isAttr true when binding to an attribute\n         */\n        BindingParser.prototype._validatePropertyOrAttributeName = function (propName, sourceSpan, isAttr) {\n            var report = isAttr ? this._schemaRegistry.validateAttribute(propName) :\n                this._schemaRegistry.validateProperty(propName);\n            if (report.error) {\n                this._reportError(report.msg, sourceSpan, exports.ParseErrorLevel.ERROR);\n            }\n        };\n        return BindingParser;\n    }());\n    var PipeCollector = /** @class */ (function (_super) {\n        __extends(PipeCollector, _super);\n        function PipeCollector() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.pipes = new Map();\n            return _this;\n        }\n        PipeCollector.prototype.visitPipe = function (ast, context) {\n            this.pipes.set(ast.name, ast);\n            ast.exp.visit(this);\n            this.visitAll(ast.args, context);\n            return null;\n        };\n        return PipeCollector;\n    }(RecursiveAstVisitor));\n    function isAnimationLabel(name) {\n        return name[0] == '@';\n    }\n    function calcPossibleSecurityContexts(registry, selector, propName, isAttribute) {\n        var ctxs = [];\n        CssSelector.parse(selector).forEach(function (selector) {\n            var elementNames = selector.element ? [selector.element] : registry.allKnownElementNames();\n            var notElementNames = new Set(selector.notSelectors.filter(function (selector) { return selector.isElementSelector(); })\n                .map(function (selector) { return selector.element; }));\n            var possibleElementNames = elementNames.filter(function (elementName) { return !notElementNames.has(elementName); });\n            ctxs.push.apply(ctxs, __spread(possibleElementNames.map(function (elementName) { return registry.securityContext(elementName, propName, isAttribute); })));\n        });\n        return ctxs.length === 0 ? [SecurityContext.NONE] : Array.from(new Set(ctxs)).sort();\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var BIND_NAME_REGEXP = /^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\\[\\(([^\\)]+)\\)\\]|\\[([^\\]]+)\\]|\\(([^\\)]+)\\))$/;\n    // Group 1 = \"bind-\"\n    var KW_BIND_IDX = 1;\n    // Group 2 = \"let-\"\n    var KW_LET_IDX = 2;\n    // Group 3 = \"ref-/#\"\n    var KW_REF_IDX = 3;\n    // Group 4 = \"on-\"\n    var KW_ON_IDX = 4;\n    // Group 5 = \"bindon-\"\n    var KW_BINDON_IDX = 5;\n    // Group 6 = \"@\"\n    var KW_AT_IDX = 6;\n    // Group 7 = the identifier after \"bind-\", \"let-\", \"ref-/#\", \"on-\", \"bindon-\" or \"@\"\n    var IDENT_KW_IDX = 7;\n    // Group 8 = identifier inside [()]\n    var IDENT_BANANA_BOX_IDX = 8;\n    // Group 9 = identifier inside []\n    var IDENT_PROPERTY_IDX = 9;\n    // Group 10 = identifier inside ()\n    var IDENT_EVENT_IDX = 10;\n    var TEMPLATE_ATTR_PREFIX = '*';\n    var CLASS_ATTR = 'class';\n    var _TEXT_CSS_SELECTOR;\n    function TEXT_CSS_SELECTOR() {\n        if (!_TEXT_CSS_SELECTOR) {\n            _TEXT_CSS_SELECTOR = CssSelector.parse('*')[0];\n        }\n        return _TEXT_CSS_SELECTOR;\n    }\n    var TemplateParseError = /** @class */ (function (_super) {\n        __extends(TemplateParseError, _super);\n        function TemplateParseError(message, span, level) {\n            return _super.call(this, span, message, level) || this;\n        }\n        return TemplateParseError;\n    }(ParseError));\n    var TemplateParseResult = /** @class */ (function () {\n        function TemplateParseResult(templateAst, usedPipes, errors) {\n            this.templateAst = templateAst;\n            this.usedPipes = usedPipes;\n            this.errors = errors;\n        }\n        return TemplateParseResult;\n    }());\n    var TemplateParser = /** @class */ (function () {\n        function TemplateParser(_config, _reflector, _exprParser, _schemaRegistry, _htmlParser, _console, transforms) {\n            this._config = _config;\n            this._reflector = _reflector;\n            this._exprParser = _exprParser;\n            this._schemaRegistry = _schemaRegistry;\n            this._htmlParser = _htmlParser;\n            this._console = _console;\n            this.transforms = transforms;\n        }\n        Object.defineProperty(TemplateParser.prototype, \"expressionParser\", {\n            get: function () { return this._exprParser; },\n            enumerable: true,\n            configurable: true\n        });\n        TemplateParser.prototype.parse = function (component, template, directives, pipes, schemas, templateUrl, preserveWhitespaces) {\n            var result = this.tryParse(component, template, directives, pipes, schemas, templateUrl, preserveWhitespaces);\n            var warnings = result.errors.filter(function (error$$1) { return error$$1.level === exports.ParseErrorLevel.WARNING; });\n            var errors = result.errors.filter(function (error$$1) { return error$$1.level === exports.ParseErrorLevel.ERROR; });\n            if (warnings.length > 0) {\n                this._console.warn(\"Template parse warnings:\\n\" + warnings.join('\\n'));\n            }\n            if (errors.length > 0) {\n                var errorString = errors.join('\\n');\n                throw syntaxError(\"Template parse errors:\\n\" + errorString, errors);\n            }\n            return { template: result.templateAst, pipes: result.usedPipes };\n        };\n        TemplateParser.prototype.tryParse = function (component, template, directives, pipes, schemas, templateUrl, preserveWhitespaces) {\n            var htmlParseResult = typeof template === 'string' ?\n                this._htmlParser.parse(template, templateUrl, true, this.getInterpolationConfig(component)) :\n                template;\n            if (!preserveWhitespaces) {\n                htmlParseResult = removeWhitespaces(htmlParseResult);\n            }\n            return this.tryParseHtml(this.expandHtml(htmlParseResult), component, directives, pipes, schemas);\n        };\n        TemplateParser.prototype.tryParseHtml = function (htmlAstWithErrors, component, directives, pipes, schemas) {\n            var result;\n            var errors = htmlAstWithErrors.errors;\n            var usedPipes = [];\n            if (htmlAstWithErrors.rootNodes.length > 0) {\n                var uniqDirectives = removeSummaryDuplicates(directives);\n                var uniqPipes = removeSummaryDuplicates(pipes);\n                var providerViewContext = new ProviderViewContext(this._reflector, component);\n                var interpolationConfig = undefined;\n                if (component.template && component.template.interpolation) {\n                    interpolationConfig = {\n                        start: component.template.interpolation[0],\n                        end: component.template.interpolation[1]\n                    };\n                }\n                var bindingParser = new BindingParser(this._exprParser, interpolationConfig, this._schemaRegistry, uniqPipes, errors);\n                var parseVisitor = new TemplateParseVisitor(this._reflector, this._config, providerViewContext, uniqDirectives, bindingParser, this._schemaRegistry, schemas, errors);\n                result = visitAll(parseVisitor, htmlAstWithErrors.rootNodes, EMPTY_ELEMENT_CONTEXT);\n                errors.push.apply(errors, __spread(providerViewContext.errors));\n                usedPipes.push.apply(usedPipes, __spread(bindingParser.getUsedPipes()));\n            }\n            else {\n                result = [];\n            }\n            this._assertNoReferenceDuplicationOnTemplate(result, errors);\n            if (errors.length > 0) {\n                return new TemplateParseResult(result, usedPipes, errors);\n            }\n            if (this.transforms) {\n                this.transforms.forEach(function (transform) { result = templateVisitAll(transform, result); });\n            }\n            return new TemplateParseResult(result, usedPipes, errors);\n        };\n        TemplateParser.prototype.expandHtml = function (htmlAstWithErrors, forced) {\n            if (forced === void 0) { forced = false; }\n            var errors = htmlAstWithErrors.errors;\n            if (errors.length == 0 || forced) {\n                // Transform ICU messages to angular directives\n                var expandedHtmlAst = expandNodes(htmlAstWithErrors.rootNodes);\n                errors.push.apply(errors, __spread(expandedHtmlAst.errors));\n                htmlAstWithErrors = new ParseTreeResult(expandedHtmlAst.nodes, errors);\n            }\n            return htmlAstWithErrors;\n        };\n        TemplateParser.prototype.getInterpolationConfig = function (component) {\n            if (component.template) {\n                return InterpolationConfig.fromArray(component.template.interpolation);\n            }\n            return undefined;\n        };\n        /** @internal */\n        TemplateParser.prototype._assertNoReferenceDuplicationOnTemplate = function (result, errors) {\n            var existingReferences = [];\n            result.filter(function (element) { return !!element.references; })\n                .forEach(function (element) { return element.references.forEach(function (reference) {\n                var name = reference.name;\n                if (existingReferences.indexOf(name) < 0) {\n                    existingReferences.push(name);\n                }\n                else {\n                    var error$$1 = new TemplateParseError(\"Reference \\\"#\" + name + \"\\\" is defined several times\", reference.sourceSpan, exports.ParseErrorLevel.ERROR);\n                    errors.push(error$$1);\n                }\n            }); });\n        };\n        return TemplateParser;\n    }());\n    var TemplateParseVisitor = /** @class */ (function () {\n        function TemplateParseVisitor(reflector, config, providerViewContext, directives, _bindingParser, _schemaRegistry, _schemas, _targetErrors) {\n            var _this = this;\n            this.reflector = reflector;\n            this.config = config;\n            this.providerViewContext = providerViewContext;\n            this._bindingParser = _bindingParser;\n            this._schemaRegistry = _schemaRegistry;\n            this._schemas = _schemas;\n            this._targetErrors = _targetErrors;\n            this.selectorMatcher = new SelectorMatcher();\n            this.directivesIndex = new Map();\n            this.ngContentCount = 0;\n            // Note: queries start with id 1 so we can use the number in a Bloom filter!\n            this.contentQueryStartId = providerViewContext.component.viewQueries.length + 1;\n            directives.forEach(function (directive, index) {\n                var selector = CssSelector.parse(directive.selector);\n                _this.selectorMatcher.addSelectables(selector, directive);\n                _this.directivesIndex.set(directive, index);\n            });\n        }\n        TemplateParseVisitor.prototype.visitExpansion = function (expansion, context) { return null; };\n        TemplateParseVisitor.prototype.visitExpansionCase = function (expansionCase, context) { return null; };\n        TemplateParseVisitor.prototype.visitText = function (text, parent) {\n            var ngContentIndex = parent.findNgContentIndex(TEXT_CSS_SELECTOR());\n            var valueNoNgsp = replaceNgsp(text.value);\n            var expr = this._bindingParser.parseInterpolation(valueNoNgsp, text.sourceSpan);\n            return expr ? new BoundTextAst(expr, ngContentIndex, text.sourceSpan) :\n                new TextAst(valueNoNgsp, ngContentIndex, text.sourceSpan);\n        };\n        TemplateParseVisitor.prototype.visitAttribute = function (attribute, context) {\n            return new AttrAst(attribute.name, attribute.value, attribute.sourceSpan);\n        };\n        TemplateParseVisitor.prototype.visitComment = function (comment, context) { return null; };\n        TemplateParseVisitor.prototype.visitElement = function (element, parent) {\n            var _this = this;\n            var queryStartIndex = this.contentQueryStartId;\n            var elName = element.name;\n            var preparsedElement = preparseElement(element);\n            if (preparsedElement.type === PreparsedElementType.SCRIPT ||\n                preparsedElement.type === PreparsedElementType.STYLE) {\n                // Skipping <script> for security reasons\n                // Skipping <style> as we already processed them\n                // in the StyleCompiler\n                return null;\n            }\n            if (preparsedElement.type === PreparsedElementType.STYLESHEET &&\n                isStyleUrlResolvable(preparsedElement.hrefAttr)) {\n                // Skipping stylesheets with either relative urls or package scheme as we already processed\n                // them in the StyleCompiler\n                return null;\n            }\n            var matchableAttrs = [];\n            var elementOrDirectiveProps = [];\n            var elementOrDirectiveRefs = [];\n            var elementVars = [];\n            var events = [];\n            var templateElementOrDirectiveProps = [];\n            var templateMatchableAttrs = [];\n            var templateElementVars = [];\n            var hasInlineTemplates = false;\n            var attrs = [];\n            var isTemplateElement = isNgTemplate(element.name);\n            element.attrs.forEach(function (attr) {\n                var parsedVariables = [];\n                var hasBinding = _this._parseAttr(isTemplateElement, attr, matchableAttrs, elementOrDirectiveProps, events, elementOrDirectiveRefs, elementVars);\n                elementVars.push.apply(elementVars, __spread(parsedVariables.map(function (v) { return VariableAst.fromParsedVariable(v); })));\n                var templateValue;\n                var templateKey;\n                var normalizedName = _this._normalizeAttributeName(attr.name);\n                if (normalizedName.startsWith(TEMPLATE_ATTR_PREFIX)) {\n                    templateValue = attr.value;\n                    templateKey = normalizedName.substring(TEMPLATE_ATTR_PREFIX.length);\n                }\n                var hasTemplateBinding = templateValue != null;\n                if (hasTemplateBinding) {\n                    if (hasInlineTemplates) {\n                        _this._reportError(\"Can't have multiple template bindings on one element. Use only one attribute prefixed with *\", attr.sourceSpan);\n                    }\n                    hasInlineTemplates = true;\n                    var parsedVariables_1 = [];\n                    _this._bindingParser.parseInlineTemplateBinding(templateKey, templateValue, attr.sourceSpan, templateMatchableAttrs, templateElementOrDirectiveProps, parsedVariables_1);\n                    templateElementVars.push.apply(templateElementVars, __spread(parsedVariables_1.map(function (v) { return VariableAst.fromParsedVariable(v); })));\n                }\n                if (!hasBinding && !hasTemplateBinding) {\n                    // don't include the bindings as attributes as well in the AST\n                    attrs.push(_this.visitAttribute(attr, null));\n                    matchableAttrs.push([attr.name, attr.value]);\n                }\n            });\n            var elementCssSelector = createElementCssSelector(elName, matchableAttrs);\n            var _a = this._parseDirectives(this.selectorMatcher, elementCssSelector), directiveMetas = _a.directives, matchElement = _a.matchElement;\n            var references = [];\n            var boundDirectivePropNames = new Set();\n            var directiveAsts = this._createDirectiveAsts(isTemplateElement, element.name, directiveMetas, elementOrDirectiveProps, elementOrDirectiveRefs, element.sourceSpan, references, boundDirectivePropNames);\n            var elementProps = this._createElementPropertyAsts(element.name, elementOrDirectiveProps, boundDirectivePropNames);\n            var isViewRoot = parent.isTemplateElement || hasInlineTemplates;\n            var providerContext = new ProviderElementContext(this.providerViewContext, parent.providerContext, isViewRoot, directiveAsts, attrs, references, isTemplateElement, queryStartIndex, element.sourceSpan);\n            var children = visitAll(preparsedElement.nonBindable ? NON_BINDABLE_VISITOR : this, element.children, ElementContext.create(isTemplateElement, directiveAsts, isTemplateElement ? parent.providerContext : providerContext));\n            providerContext.afterElement();\n            // Override the actual selector when the `ngProjectAs` attribute is provided\n            var projectionSelector = preparsedElement.projectAs != '' ?\n                CssSelector.parse(preparsedElement.projectAs)[0] :\n                elementCssSelector;\n            var ngContentIndex = parent.findNgContentIndex(projectionSelector);\n            var parsedElement;\n            if (preparsedElement.type === PreparsedElementType.NG_CONTENT) {\n                // `<ng-content>` element\n                if (element.children && !element.children.every(_isEmptyTextNode)) {\n                    this._reportError(\"<ng-content> element cannot have content.\", element.sourceSpan);\n                }\n                parsedElement = new NgContentAst(this.ngContentCount++, hasInlineTemplates ? null : ngContentIndex, element.sourceSpan);\n            }\n            else if (isTemplateElement) {\n                // `<ng-template>` element\n                this._assertAllEventsPublishedByDirectives(directiveAsts, events);\n                this._assertNoComponentsNorElementBindingsOnTemplate(directiveAsts, elementProps, element.sourceSpan);\n                parsedElement = new EmbeddedTemplateAst(attrs, events, references, elementVars, providerContext.transformedDirectiveAsts, providerContext.transformProviders, providerContext.transformedHasViewContainer, providerContext.queryMatches, children, hasInlineTemplates ? null : ngContentIndex, element.sourceSpan);\n            }\n            else {\n                // element other than `<ng-content>` and `<ng-template>`\n                this._assertElementExists(matchElement, element);\n                this._assertOnlyOneComponent(directiveAsts, element.sourceSpan);\n                var ngContentIndex_1 = hasInlineTemplates ? null : parent.findNgContentIndex(projectionSelector);\n                parsedElement = new ElementAst(elName, attrs, elementProps, events, references, providerContext.transformedDirectiveAsts, providerContext.transformProviders, providerContext.transformedHasViewContainer, providerContext.queryMatches, children, hasInlineTemplates ? null : ngContentIndex_1, element.sourceSpan, element.endSourceSpan || null);\n            }\n            if (hasInlineTemplates) {\n                // The element as a *-attribute\n                var templateQueryStartIndex = this.contentQueryStartId;\n                var templateSelector = createElementCssSelector('ng-template', templateMatchableAttrs);\n                var directives = this._parseDirectives(this.selectorMatcher, templateSelector).directives;\n                var templateBoundDirectivePropNames = new Set();\n                var templateDirectiveAsts = this._createDirectiveAsts(true, elName, directives, templateElementOrDirectiveProps, [], element.sourceSpan, [], templateBoundDirectivePropNames);\n                var templateElementProps = this._createElementPropertyAsts(elName, templateElementOrDirectiveProps, templateBoundDirectivePropNames);\n                this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectiveAsts, templateElementProps, element.sourceSpan);\n                var templateProviderContext = new ProviderElementContext(this.providerViewContext, parent.providerContext, parent.isTemplateElement, templateDirectiveAsts, [], [], true, templateQueryStartIndex, element.sourceSpan);\n                templateProviderContext.afterElement();\n                parsedElement = new EmbeddedTemplateAst([], [], [], templateElementVars, templateProviderContext.transformedDirectiveAsts, templateProviderContext.transformProviders, templateProviderContext.transformedHasViewContainer, templateProviderContext.queryMatches, [parsedElement], ngContentIndex, element.sourceSpan);\n            }\n            return parsedElement;\n        };\n        TemplateParseVisitor.prototype._parseAttr = function (isTemplateElement, attr, targetMatchableAttrs, targetProps, targetEvents, targetRefs, targetVars) {\n            var name = this._normalizeAttributeName(attr.name);\n            var value = attr.value;\n            var srcSpan = attr.sourceSpan;\n            var boundEvents = [];\n            var bindParts = name.match(BIND_NAME_REGEXP);\n            var hasBinding = false;\n            if (bindParts !== null) {\n                hasBinding = true;\n                if (bindParts[KW_BIND_IDX] != null) {\n                    this._bindingParser.parsePropertyBinding(bindParts[IDENT_KW_IDX], value, false, srcSpan, targetMatchableAttrs, targetProps);\n                }\n                else if (bindParts[KW_LET_IDX]) {\n                    if (isTemplateElement) {\n                        var identifier = bindParts[IDENT_KW_IDX];\n                        this._parseVariable(identifier, value, srcSpan, targetVars);\n                    }\n                    else {\n                        this._reportError(\"\\\"let-\\\" is only supported on ng-template elements.\", srcSpan);\n                    }\n                }\n                else if (bindParts[KW_REF_IDX]) {\n                    var identifier = bindParts[IDENT_KW_IDX];\n                    this._parseReference(identifier, value, srcSpan, targetRefs);\n                }\n                else if (bindParts[KW_ON_IDX]) {\n                    this._bindingParser.parseEvent(bindParts[IDENT_KW_IDX], value, srcSpan, targetMatchableAttrs, boundEvents);\n                }\n                else if (bindParts[KW_BINDON_IDX]) {\n                    this._bindingParser.parsePropertyBinding(bindParts[IDENT_KW_IDX], value, false, srcSpan, targetMatchableAttrs, targetProps);\n                    this._parseAssignmentEvent(bindParts[IDENT_KW_IDX], value, srcSpan, targetMatchableAttrs, boundEvents);\n                }\n                else if (bindParts[KW_AT_IDX]) {\n                    this._bindingParser.parseLiteralAttr(name, value, srcSpan, targetMatchableAttrs, targetProps);\n                }\n                else if (bindParts[IDENT_BANANA_BOX_IDX]) {\n                    this._bindingParser.parsePropertyBinding(bindParts[IDENT_BANANA_BOX_IDX], value, false, srcSpan, targetMatchableAttrs, targetProps);\n                    this._parseAssignmentEvent(bindParts[IDENT_BANANA_BOX_IDX], value, srcSpan, targetMatchableAttrs, boundEvents);\n                }\n                else if (bindParts[IDENT_PROPERTY_IDX]) {\n                    this._bindingParser.parsePropertyBinding(bindParts[IDENT_PROPERTY_IDX], value, false, srcSpan, targetMatchableAttrs, targetProps);\n                }\n                else if (bindParts[IDENT_EVENT_IDX]) {\n                    this._bindingParser.parseEvent(bindParts[IDENT_EVENT_IDX], value, srcSpan, targetMatchableAttrs, boundEvents);\n                }\n            }\n            else {\n                hasBinding = this._bindingParser.parsePropertyInterpolation(name, value, srcSpan, targetMatchableAttrs, targetProps);\n            }\n            if (!hasBinding) {\n                this._bindingParser.parseLiteralAttr(name, value, srcSpan, targetMatchableAttrs, targetProps);\n            }\n            targetEvents.push.apply(targetEvents, __spread(boundEvents.map(function (e) { return BoundEventAst.fromParsedEvent(e); })));\n            return hasBinding;\n        };\n        TemplateParseVisitor.prototype._normalizeAttributeName = function (attrName) {\n            return /^data-/i.test(attrName) ? attrName.substring(5) : attrName;\n        };\n        TemplateParseVisitor.prototype._parseVariable = function (identifier, value, sourceSpan, targetVars) {\n            if (identifier.indexOf('-') > -1) {\n                this._reportError(\"\\\"-\\\" is not allowed in variable names\", sourceSpan);\n            }\n            targetVars.push(new VariableAst(identifier, value, sourceSpan));\n        };\n        TemplateParseVisitor.prototype._parseReference = function (identifier, value, sourceSpan, targetRefs) {\n            if (identifier.indexOf('-') > -1) {\n                this._reportError(\"\\\"-\\\" is not allowed in reference names\", sourceSpan);\n            }\n            targetRefs.push(new ElementOrDirectiveRef(identifier, value, sourceSpan));\n        };\n        TemplateParseVisitor.prototype._parseAssignmentEvent = function (name, expression, sourceSpan, targetMatchableAttrs, targetEvents) {\n            this._bindingParser.parseEvent(name + \"Change\", expression + \"=$event\", sourceSpan, targetMatchableAttrs, targetEvents);\n        };\n        TemplateParseVisitor.prototype._parseDirectives = function (selectorMatcher, elementCssSelector) {\n            var _this = this;\n            // Need to sort the directives so that we get consistent results throughout,\n            // as selectorMatcher uses Maps inside.\n            // Also deduplicate directives as they might match more than one time!\n            var directives = new Array(this.directivesIndex.size);\n            // Whether any directive selector matches on the element name\n            var matchElement = false;\n            selectorMatcher.match(elementCssSelector, function (selector, directive) {\n                directives[_this.directivesIndex.get(directive)] = directive;\n                matchElement = matchElement || selector.hasElementSelector();\n            });\n            return {\n                directives: directives.filter(function (dir) { return !!dir; }),\n                matchElement: matchElement,\n            };\n        };\n        TemplateParseVisitor.prototype._createDirectiveAsts = function (isTemplateElement, elementName, directives, props, elementOrDirectiveRefs, elementSourceSpan, targetReferences, targetBoundDirectivePropNames) {\n            var _this = this;\n            var matchedReferences = new Set();\n            var component = null;\n            var directiveAsts = directives.map(function (directive) {\n                var sourceSpan = new ParseSourceSpan(elementSourceSpan.start, elementSourceSpan.end, \"Directive \" + identifierName(directive.type));\n                if (directive.isComponent) {\n                    component = directive;\n                }\n                var directiveProperties = [];\n                var boundProperties = _this._bindingParser.createDirectiveHostPropertyAsts(directive, elementName, sourceSpan);\n                var hostProperties = boundProperties.map(function (prop) { return BoundElementPropertyAst.fromBoundProperty(prop); });\n                // Note: We need to check the host properties here as well,\n                // as we don't know the element name in the DirectiveWrapperCompiler yet.\n                hostProperties = _this._checkPropertiesInSchema(elementName, hostProperties);\n                var parsedEvents = _this._bindingParser.createDirectiveHostEventAsts(directive, sourceSpan);\n                _this._createDirectivePropertyAsts(directive.inputs, props, directiveProperties, targetBoundDirectivePropNames);\n                elementOrDirectiveRefs.forEach(function (elOrDirRef) {\n                    if ((elOrDirRef.value.length === 0 && directive.isComponent) ||\n                        (elOrDirRef.isReferenceToDirective(directive))) {\n                        targetReferences.push(new ReferenceAst(elOrDirRef.name, createTokenForReference(directive.type.reference), elOrDirRef.value, elOrDirRef.sourceSpan));\n                        matchedReferences.add(elOrDirRef.name);\n                    }\n                });\n                var hostEvents = parsedEvents.map(function (e) { return BoundEventAst.fromParsedEvent(e); });\n                var contentQueryStartId = _this.contentQueryStartId;\n                _this.contentQueryStartId += directive.queries.length;\n                return new DirectiveAst(directive, directiveProperties, hostProperties, hostEvents, contentQueryStartId, sourceSpan);\n            });\n            elementOrDirectiveRefs.forEach(function (elOrDirRef) {\n                if (elOrDirRef.value.length > 0) {\n                    if (!matchedReferences.has(elOrDirRef.name)) {\n                        _this._reportError(\"There is no directive with \\\"exportAs\\\" set to \\\"\" + elOrDirRef.value + \"\\\"\", elOrDirRef.sourceSpan);\n                    }\n                }\n                else if (!component) {\n                    var refToken = null;\n                    if (isTemplateElement) {\n                        refToken = createTokenForExternalReference(_this.reflector, Identifiers.TemplateRef);\n                    }\n                    targetReferences.push(new ReferenceAst(elOrDirRef.name, refToken, elOrDirRef.value, elOrDirRef.sourceSpan));\n                }\n            });\n            return directiveAsts;\n        };\n        TemplateParseVisitor.prototype._createDirectivePropertyAsts = function (directiveProperties, boundProps, targetBoundDirectiveProps, targetBoundDirectivePropNames) {\n            if (directiveProperties) {\n                var boundPropsByName_1 = new Map();\n                boundProps.forEach(function (boundProp) {\n                    var prevValue = boundPropsByName_1.get(boundProp.name);\n                    if (!prevValue || prevValue.isLiteral) {\n                        // give [a]=\"b\" a higher precedence than a=\"b\" on the same element\n                        boundPropsByName_1.set(boundProp.name, boundProp);\n                    }\n                });\n                Object.keys(directiveProperties).forEach(function (dirProp) {\n                    var elProp = directiveProperties[dirProp];\n                    var boundProp = boundPropsByName_1.get(elProp);\n                    // Bindings are optional, so this binding only needs to be set up if an expression is given.\n                    if (boundProp) {\n                        targetBoundDirectivePropNames.add(boundProp.name);\n                        if (!isEmptyExpression(boundProp.expression)) {\n                            targetBoundDirectiveProps.push(new BoundDirectivePropertyAst(dirProp, boundProp.name, boundProp.expression, boundProp.sourceSpan));\n                        }\n                    }\n                });\n            }\n        };\n        TemplateParseVisitor.prototype._createElementPropertyAsts = function (elementName, props, boundDirectivePropNames) {\n            var _this = this;\n            var boundElementProps = [];\n            props.forEach(function (prop) {\n                if (!prop.isLiteral && !boundDirectivePropNames.has(prop.name)) {\n                    var boundProp = _this._bindingParser.createBoundElementProperty(elementName, prop);\n                    boundElementProps.push(BoundElementPropertyAst.fromBoundProperty(boundProp));\n                }\n            });\n            return this._checkPropertiesInSchema(elementName, boundElementProps);\n        };\n        TemplateParseVisitor.prototype._findComponentDirectives = function (directives) {\n            return directives.filter(function (directive) { return directive.directive.isComponent; });\n        };\n        TemplateParseVisitor.prototype._findComponentDirectiveNames = function (directives) {\n            return this._findComponentDirectives(directives)\n                .map(function (directive) { return identifierName(directive.directive.type); });\n        };\n        TemplateParseVisitor.prototype._assertOnlyOneComponent = function (directives, sourceSpan) {\n            var componentTypeNames = this._findComponentDirectiveNames(directives);\n            if (componentTypeNames.length > 1) {\n                this._reportError(\"More than one component matched on this element.\\n\" +\n                    \"Make sure that only one component's selector can match a given element.\\n\" +\n                    (\"Conflicting components: \" + componentTypeNames.join(',')), sourceSpan);\n            }\n        };\n        /**\n         * Make sure that non-angular tags conform to the schemas.\n         *\n         * Note: An element is considered an angular tag when at least one directive selector matches the\n         * tag name.\n         *\n         * @param matchElement Whether any directive has matched on the tag name\n         * @param element the html element\n         */\n        TemplateParseVisitor.prototype._assertElementExists = function (matchElement, element) {\n            var elName = element.name.replace(/^:xhtml:/, '');\n            if (!matchElement && !this._schemaRegistry.hasElement(elName, this._schemas)) {\n                var errorMsg = \"'\" + elName + \"' is not a known element:\\n\";\n                errorMsg +=\n                    \"1. If '\" + elName + \"' is an Angular component, then verify that it is part of this module.\\n\";\n                if (elName.indexOf('-') > -1) {\n                    errorMsg +=\n                        \"2. If '\" + elName + \"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\";\n                }\n                else {\n                    errorMsg +=\n                        \"2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.\";\n                }\n                this._reportError(errorMsg, element.sourceSpan);\n            }\n        };\n        TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate = function (directives, elementProps, sourceSpan) {\n            var _this = this;\n            var componentTypeNames = this._findComponentDirectiveNames(directives);\n            if (componentTypeNames.length > 0) {\n                this._reportError(\"Components on an embedded template: \" + componentTypeNames.join(','), sourceSpan);\n            }\n            elementProps.forEach(function (prop) {\n                _this._reportError(\"Property binding \" + prop.name + \" not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the \\\"@NgModule.declarations\\\".\", sourceSpan);\n            });\n        };\n        TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives = function (directives, events) {\n            var _this = this;\n            var allDirectiveEvents = new Set();\n            directives.forEach(function (directive) {\n                Object.keys(directive.directive.outputs).forEach(function (k) {\n                    var eventName = directive.directive.outputs[k];\n                    allDirectiveEvents.add(eventName);\n                });\n            });\n            events.forEach(function (event) {\n                if (event.target != null || !allDirectiveEvents.has(event.name)) {\n                    _this._reportError(\"Event binding \" + event.fullName + \" not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the \\\"@NgModule.declarations\\\".\", event.sourceSpan);\n                }\n            });\n        };\n        TemplateParseVisitor.prototype._checkPropertiesInSchema = function (elementName, boundProps) {\n            var _this = this;\n            // Note: We can't filter out empty expressions before this method,\n            // as we still want to validate them!\n            return boundProps.filter(function (boundProp) {\n                if (boundProp.type === 0 /* Property */ &&\n                    !_this._schemaRegistry.hasProperty(elementName, boundProp.name, _this._schemas)) {\n                    var errorMsg = \"Can't bind to '\" + boundProp.name + \"' since it isn't a known property of '\" + elementName + \"'.\";\n                    if (elementName.startsWith('ng-')) {\n                        errorMsg +=\n                            \"\\n1. If '\" + boundProp.name + \"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\" +\n                                \"\\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.\";\n                    }\n                    else if (elementName.indexOf('-') > -1) {\n                        errorMsg +=\n                            \"\\n1. If '\" + elementName + \"' is an Angular component and it has '\" + boundProp.name + \"' input, then verify that it is part of this module.\" +\n                                (\"\\n2. If '\" + elementName + \"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\") +\n                                \"\\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.\";\n                    }\n                    _this._reportError(errorMsg, boundProp.sourceSpan);\n                }\n                return !isEmptyExpression(boundProp.value);\n            });\n        };\n        TemplateParseVisitor.prototype._reportError = function (message, sourceSpan, level) {\n            if (level === void 0) { level = exports.ParseErrorLevel.ERROR; }\n            this._targetErrors.push(new ParseError(sourceSpan, message, level));\n        };\n        return TemplateParseVisitor;\n    }());\n    var NonBindableVisitor = /** @class */ (function () {\n        function NonBindableVisitor() {\n        }\n        NonBindableVisitor.prototype.visitElement = function (ast, parent) {\n            var preparsedElement = preparseElement(ast);\n            if (preparsedElement.type === PreparsedElementType.SCRIPT ||\n                preparsedElement.type === PreparsedElementType.STYLE ||\n                preparsedElement.type === PreparsedElementType.STYLESHEET) {\n                // Skipping <script> for security reasons\n                // Skipping <style> and stylesheets as we already processed them\n                // in the StyleCompiler\n                return null;\n            }\n            var attrNameAndValues = ast.attrs.map(function (attr) { return [attr.name, attr.value]; });\n            var selector = createElementCssSelector(ast.name, attrNameAndValues);\n            var ngContentIndex = parent.findNgContentIndex(selector);\n            var children = visitAll(this, ast.children, EMPTY_ELEMENT_CONTEXT);\n            return new ElementAst(ast.name, visitAll(this, ast.attrs), [], [], [], [], [], false, [], children, ngContentIndex, ast.sourceSpan, ast.endSourceSpan);\n        };\n        NonBindableVisitor.prototype.visitComment = function (comment, context) { return null; };\n        NonBindableVisitor.prototype.visitAttribute = function (attribute, context) {\n            return new AttrAst(attribute.name, attribute.value, attribute.sourceSpan);\n        };\n        NonBindableVisitor.prototype.visitText = function (text, parent) {\n            var ngContentIndex = parent.findNgContentIndex(TEXT_CSS_SELECTOR());\n            return new TextAst(text.value, ngContentIndex, text.sourceSpan);\n        };\n        NonBindableVisitor.prototype.visitExpansion = function (expansion, context) { return expansion; };\n        NonBindableVisitor.prototype.visitExpansionCase = function (expansionCase, context) { return expansionCase; };\n        return NonBindableVisitor;\n    }());\n    /**\n     * A reference to an element or directive in a template. E.g., the reference in this template:\n     *\n     * <div #myMenu=\"coolMenu\">\n     *\n     * would be {name: 'myMenu', value: 'coolMenu', sourceSpan: ...}\n     */\n    var ElementOrDirectiveRef = /** @class */ (function () {\n        function ElementOrDirectiveRef(name, value, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        /** Gets whether this is a reference to the given directive. */\n        ElementOrDirectiveRef.prototype.isReferenceToDirective = function (directive) {\n            return splitExportAs(directive.exportAs).indexOf(this.value) !== -1;\n        };\n        return ElementOrDirectiveRef;\n    }());\n    /** Splits a raw, potentially comma-delimited `exportAs` value into an array of names. */\n    function splitExportAs(exportAs) {\n        return exportAs ? exportAs.split(',').map(function (e) { return e.trim(); }) : [];\n    }\n    function splitClasses(classAttrValue) {\n        return classAttrValue.trim().split(/\\s+/g);\n    }\n    var ElementContext = /** @class */ (function () {\n        function ElementContext(isTemplateElement, _ngContentIndexMatcher, _wildcardNgContentIndex, providerContext) {\n            this.isTemplateElement = isTemplateElement;\n            this._ngContentIndexMatcher = _ngContentIndexMatcher;\n            this._wildcardNgContentIndex = _wildcardNgContentIndex;\n            this.providerContext = providerContext;\n        }\n        ElementContext.create = function (isTemplateElement, directives, providerContext) {\n            var matcher = new SelectorMatcher();\n            var wildcardNgContentIndex = null;\n            var component = directives.find(function (directive) { return directive.directive.isComponent; });\n            if (component) {\n                var ngContentSelectors = component.directive.template.ngContentSelectors;\n                for (var i = 0; i < ngContentSelectors.length; i++) {\n                    var selector = ngContentSelectors[i];\n                    if (selector === '*') {\n                        wildcardNgContentIndex = i;\n                    }\n                    else {\n                        matcher.addSelectables(CssSelector.parse(ngContentSelectors[i]), i);\n                    }\n                }\n            }\n            return new ElementContext(isTemplateElement, matcher, wildcardNgContentIndex, providerContext);\n        };\n        ElementContext.prototype.findNgContentIndex = function (selector) {\n            var ngContentIndices = [];\n            this._ngContentIndexMatcher.match(selector, function (selector, ngContentIndex) { ngContentIndices.push(ngContentIndex); });\n            ngContentIndices.sort();\n            if (this._wildcardNgContentIndex != null) {\n                ngContentIndices.push(this._wildcardNgContentIndex);\n            }\n            return ngContentIndices.length > 0 ? ngContentIndices[0] : null;\n        };\n        return ElementContext;\n    }());\n    function createElementCssSelector(elementName, attributes) {\n        var cssSelector = new CssSelector();\n        var elNameNoNs = splitNsName(elementName)[1];\n        cssSelector.setElement(elNameNoNs);\n        for (var i = 0; i < attributes.length; i++) {\n            var attrName = attributes[i][0];\n            var attrNameNoNs = splitNsName(attrName)[1];\n            var attrValue = attributes[i][1];\n            cssSelector.addAttribute(attrNameNoNs, attrValue);\n            if (attrName.toLowerCase() == CLASS_ATTR) {\n                var classes = splitClasses(attrValue);\n                classes.forEach(function (className) { return cssSelector.addClassName(className); });\n            }\n        }\n        return cssSelector;\n    }\n    var EMPTY_ELEMENT_CONTEXT = new ElementContext(true, new SelectorMatcher(), null, null);\n    var NON_BINDABLE_VISITOR = new NonBindableVisitor();\n    function _isEmptyTextNode(node) {\n        return node instanceof Text && node.value.trim().length == 0;\n    }\n    function removeSummaryDuplicates(items) {\n        var map = new Map();\n        items.forEach(function (item) {\n            if (!map.get(item.type.reference)) {\n                map.set(item.type.reference, item);\n            }\n        });\n        return Array.from(map.values());\n    }\n    function isEmptyExpression(ast) {\n        if (ast instanceof ASTWithSource) {\n            ast = ast.ast;\n        }\n        return ast instanceof EmptyExpr;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var EventHandlerVars = /** @class */ (function () {\n        function EventHandlerVars() {\n        }\n        EventHandlerVars.event = variable('$event');\n        return EventHandlerVars;\n    }());\n    var ConvertActionBindingResult = /** @class */ (function () {\n        function ConvertActionBindingResult(\n        /**\n         * Render2 compatible statements,\n         */\n        stmts, \n        /**\n         * Variable name used with render2 compatible statements.\n         */\n        allowDefault) {\n            this.stmts = stmts;\n            this.allowDefault = allowDefault;\n            /**\n             * This is bit of a hack. It converts statements which render2 expects to statements which are\n             * expected by render3.\n             *\n             * Example: `<div click=\"doSomething($event)\">` will generate:\n             *\n             * Render3:\n             * ```\n             * const pd_b:any = ((<any>ctx.doSomething($event)) !== false);\n             * return pd_b;\n             * ```\n             *\n             * but render2 expects:\n             * ```\n             * return ctx.doSomething($event);\n             * ```\n             */\n            // TODO(misko): remove this hack once we no longer support ViewEngine.\n            this.render3Stmts = stmts.map(function (statement) {\n                if (statement instanceof DeclareVarStmt && statement.name == allowDefault.name &&\n                    statement.value instanceof BinaryOperatorExpr) {\n                    var lhs = statement.value.lhs;\n                    return new ReturnStatement(lhs.value);\n                }\n                return statement;\n            });\n        }\n        return ConvertActionBindingResult;\n    }());\n    /**\n     * Converts the given expression AST into an executable output AST, assuming the expression is\n     * used in an action binding (e.g. an event handler).\n     */\n    function convertActionBinding(localResolver, implicitReceiver, action, bindingId, interpolationFunction) {\n        if (!localResolver) {\n            localResolver = new DefaultLocalResolver();\n        }\n        var actionWithoutBuiltins = convertPropertyBindingBuiltins({\n            createLiteralArrayConverter: function (argCount) {\n                // Note: no caching for literal arrays in actions.\n                return function (args) { return literalArr(args); };\n            },\n            createLiteralMapConverter: function (keys) {\n                // Note: no caching for literal maps in actions.\n                return function (values) {\n                    var entries = keys.map(function (k, i) { return ({\n                        key: k.key,\n                        value: values[i],\n                        quoted: k.quoted,\n                    }); });\n                    return literalMap(entries);\n                };\n            },\n            createPipeConverter: function (name) {\n                throw new Error(\"Illegal State: Actions are not allowed to contain pipes. Pipe: \" + name);\n            }\n        }, action);\n        var visitor = new _AstToIrVisitor(localResolver, implicitReceiver, bindingId, interpolationFunction);\n        var actionStmts = [];\n        flattenStatements(actionWithoutBuiltins.visit(visitor, _Mode.Statement), actionStmts);\n        prependTemporaryDecls(visitor.temporaryCount, bindingId, actionStmts);\n        var lastIndex = actionStmts.length - 1;\n        var preventDefaultVar = null;\n        if (lastIndex >= 0) {\n            var lastStatement = actionStmts[lastIndex];\n            var returnExpr = convertStmtIntoExpression(lastStatement);\n            if (returnExpr) {\n                // Note: We need to cast the result of the method call to dynamic,\n                // as it might be a void method!\n                preventDefaultVar = createPreventDefaultVar(bindingId);\n                actionStmts[lastIndex] =\n                    preventDefaultVar.set(returnExpr.cast(DYNAMIC_TYPE).notIdentical(literal(false)))\n                        .toDeclStmt(null, [exports.StmtModifier.Final]);\n            }\n        }\n        return new ConvertActionBindingResult(actionStmts, preventDefaultVar);\n    }\n    function convertPropertyBindingBuiltins(converterFactory, ast) {\n        return convertBuiltins(converterFactory, ast);\n    }\n    var ConvertPropertyBindingResult = /** @class */ (function () {\n        function ConvertPropertyBindingResult(stmts, currValExpr) {\n            this.stmts = stmts;\n            this.currValExpr = currValExpr;\n        }\n        return ConvertPropertyBindingResult;\n    }());\n    var BindingForm;\n    (function (BindingForm) {\n        // The general form of binding expression, supports all expressions.\n        BindingForm[BindingForm[\"General\"] = 0] = \"General\";\n        // Try to generate a simple binding (no temporaries or statements)\n        // otherwise generate a general binding\n        BindingForm[BindingForm[\"TrySimple\"] = 1] = \"TrySimple\";\n    })(BindingForm || (BindingForm = {}));\n    /**\n     * Converts the given expression AST into an executable output AST, assuming the expression\n     * is used in property binding. The expression has to be preprocessed via\n     * `convertPropertyBindingBuiltins`.\n     */\n    function convertPropertyBinding(localResolver, implicitReceiver, expressionWithoutBuiltins, bindingId, form, interpolationFunction) {\n        if (!localResolver) {\n            localResolver = new DefaultLocalResolver();\n        }\n        var currValExpr = createCurrValueExpr(bindingId);\n        var stmts = [];\n        var visitor = new _AstToIrVisitor(localResolver, implicitReceiver, bindingId, interpolationFunction);\n        var outputExpr = expressionWithoutBuiltins.visit(visitor, _Mode.Expression);\n        if (visitor.temporaryCount) {\n            for (var i = 0; i < visitor.temporaryCount; i++) {\n                stmts.push(temporaryDeclaration(bindingId, i));\n            }\n        }\n        else if (form == BindingForm.TrySimple) {\n            return new ConvertPropertyBindingResult([], outputExpr);\n        }\n        stmts.push(currValExpr.set(outputExpr).toDeclStmt(DYNAMIC_TYPE, [exports.StmtModifier.Final]));\n        return new ConvertPropertyBindingResult(stmts, currValExpr);\n    }\n    function convertBuiltins(converterFactory, ast) {\n        var visitor = new _BuiltinAstConverter(converterFactory);\n        return ast.visit(visitor);\n    }\n    function temporaryName(bindingId, temporaryNumber) {\n        return \"tmp_\" + bindingId + \"_\" + temporaryNumber;\n    }\n    function temporaryDeclaration(bindingId, temporaryNumber) {\n        return new DeclareVarStmt(temporaryName(bindingId, temporaryNumber), NULL_EXPR);\n    }\n    function prependTemporaryDecls(temporaryCount, bindingId, statements) {\n        for (var i = temporaryCount - 1; i >= 0; i--) {\n            statements.unshift(temporaryDeclaration(bindingId, i));\n        }\n    }\n    var _Mode;\n    (function (_Mode) {\n        _Mode[_Mode[\"Statement\"] = 0] = \"Statement\";\n        _Mode[_Mode[\"Expression\"] = 1] = \"Expression\";\n    })(_Mode || (_Mode = {}));\n    function ensureStatementMode(mode, ast) {\n        if (mode !== _Mode.Statement) {\n            throw new Error(\"Expected a statement, but saw \" + ast);\n        }\n    }\n    function ensureExpressionMode(mode, ast) {\n        if (mode !== _Mode.Expression) {\n            throw new Error(\"Expected an expression, but saw \" + ast);\n        }\n    }\n    function convertToStatementIfNeeded(mode, expr) {\n        if (mode === _Mode.Statement) {\n            return expr.toStmt();\n        }\n        else {\n            return expr;\n        }\n    }\n    var _BuiltinAstConverter = /** @class */ (function (_super) {\n        __extends(_BuiltinAstConverter, _super);\n        function _BuiltinAstConverter(_converterFactory) {\n            var _this = _super.call(this) || this;\n            _this._converterFactory = _converterFactory;\n            return _this;\n        }\n        _BuiltinAstConverter.prototype.visitPipe = function (ast, context) {\n            var _this = this;\n            var args = __spread([ast.exp], ast.args).map(function (ast) { return ast.visit(_this, context); });\n            return new BuiltinFunctionCall(ast.span, args, this._converterFactory.createPipeConverter(ast.name, args.length));\n        };\n        _BuiltinAstConverter.prototype.visitLiteralArray = function (ast, context) {\n            var _this = this;\n            var args = ast.expressions.map(function (ast) { return ast.visit(_this, context); });\n            return new BuiltinFunctionCall(ast.span, args, this._converterFactory.createLiteralArrayConverter(ast.expressions.length));\n        };\n        _BuiltinAstConverter.prototype.visitLiteralMap = function (ast, context) {\n            var _this = this;\n            var args = ast.values.map(function (ast) { return ast.visit(_this, context); });\n            return new BuiltinFunctionCall(ast.span, args, this._converterFactory.createLiteralMapConverter(ast.keys));\n        };\n        return _BuiltinAstConverter;\n    }(AstTransformer));\n    var _AstToIrVisitor = /** @class */ (function () {\n        function _AstToIrVisitor(_localResolver, _implicitReceiver, bindingId, interpolationFunction) {\n            this._localResolver = _localResolver;\n            this._implicitReceiver = _implicitReceiver;\n            this.bindingId = bindingId;\n            this.interpolationFunction = interpolationFunction;\n            this._nodeMap = new Map();\n            this._resultMap = new Map();\n            this._currentTemporary = 0;\n            this.temporaryCount = 0;\n        }\n        _AstToIrVisitor.prototype.visitBinary = function (ast, mode) {\n            var op;\n            switch (ast.operation) {\n                case '+':\n                    op = exports.BinaryOperator.Plus;\n                    break;\n                case '-':\n                    op = exports.BinaryOperator.Minus;\n                    break;\n                case '*':\n                    op = exports.BinaryOperator.Multiply;\n                    break;\n                case '/':\n                    op = exports.BinaryOperator.Divide;\n                    break;\n                case '%':\n                    op = exports.BinaryOperator.Modulo;\n                    break;\n                case '&&':\n                    op = exports.BinaryOperator.And;\n                    break;\n                case '||':\n                    op = exports.BinaryOperator.Or;\n                    break;\n                case '==':\n                    op = exports.BinaryOperator.Equals;\n                    break;\n                case '!=':\n                    op = exports.BinaryOperator.NotEquals;\n                    break;\n                case '===':\n                    op = exports.BinaryOperator.Identical;\n                    break;\n                case '!==':\n                    op = exports.BinaryOperator.NotIdentical;\n                    break;\n                case '<':\n                    op = exports.BinaryOperator.Lower;\n                    break;\n                case '>':\n                    op = exports.BinaryOperator.Bigger;\n                    break;\n                case '<=':\n                    op = exports.BinaryOperator.LowerEquals;\n                    break;\n                case '>=':\n                    op = exports.BinaryOperator.BiggerEquals;\n                    break;\n                default:\n                    throw new Error(\"Unsupported operation \" + ast.operation);\n            }\n            return convertToStatementIfNeeded(mode, new BinaryOperatorExpr(op, this._visit(ast.left, _Mode.Expression), this._visit(ast.right, _Mode.Expression)));\n        };\n        _AstToIrVisitor.prototype.visitChain = function (ast, mode) {\n            ensureStatementMode(mode, ast);\n            return this.visitAll(ast.expressions, mode);\n        };\n        _AstToIrVisitor.prototype.visitConditional = function (ast, mode) {\n            var value = this._visit(ast.condition, _Mode.Expression);\n            return convertToStatementIfNeeded(mode, value.conditional(this._visit(ast.trueExp, _Mode.Expression), this._visit(ast.falseExp, _Mode.Expression)));\n        };\n        _AstToIrVisitor.prototype.visitPipe = function (ast, mode) {\n            throw new Error(\"Illegal state: Pipes should have been converted into functions. Pipe: \" + ast.name);\n        };\n        _AstToIrVisitor.prototype.visitFunctionCall = function (ast, mode) {\n            var convertedArgs = this.visitAll(ast.args, _Mode.Expression);\n            var fnResult;\n            if (ast instanceof BuiltinFunctionCall) {\n                fnResult = ast.converter(convertedArgs);\n            }\n            else {\n                fnResult = this._visit(ast.target, _Mode.Expression).callFn(convertedArgs);\n            }\n            return convertToStatementIfNeeded(mode, fnResult);\n        };\n        _AstToIrVisitor.prototype.visitImplicitReceiver = function (ast, mode) {\n            ensureExpressionMode(mode, ast);\n            return this._implicitReceiver;\n        };\n        _AstToIrVisitor.prototype.visitInterpolation = function (ast, mode) {\n            ensureExpressionMode(mode, ast);\n            var args = [literal(ast.expressions.length)];\n            for (var i = 0; i < ast.strings.length - 1; i++) {\n                args.push(literal(ast.strings[i]));\n                args.push(this._visit(ast.expressions[i], _Mode.Expression));\n            }\n            args.push(literal(ast.strings[ast.strings.length - 1]));\n            if (this.interpolationFunction) {\n                return this.interpolationFunction(args);\n            }\n            return ast.expressions.length <= 9 ?\n                importExpr(Identifiers.inlineInterpolate).callFn(args) :\n                importExpr(Identifiers.interpolate).callFn([args[0], literalArr(args.slice(1))]);\n        };\n        _AstToIrVisitor.prototype.visitKeyedRead = function (ast, mode) {\n            var leftMostSafe = this.leftMostSafeNode(ast);\n            if (leftMostSafe) {\n                return this.convertSafeAccess(ast, leftMostSafe, mode);\n            }\n            else {\n                return convertToStatementIfNeeded(mode, this._visit(ast.obj, _Mode.Expression).key(this._visit(ast.key, _Mode.Expression)));\n            }\n        };\n        _AstToIrVisitor.prototype.visitKeyedWrite = function (ast, mode) {\n            var obj = this._visit(ast.obj, _Mode.Expression);\n            var key = this._visit(ast.key, _Mode.Expression);\n            var value = this._visit(ast.value, _Mode.Expression);\n            return convertToStatementIfNeeded(mode, obj.key(key).set(value));\n        };\n        _AstToIrVisitor.prototype.visitLiteralArray = function (ast, mode) {\n            throw new Error(\"Illegal State: literal arrays should have been converted into functions\");\n        };\n        _AstToIrVisitor.prototype.visitLiteralMap = function (ast, mode) {\n            throw new Error(\"Illegal State: literal maps should have been converted into functions\");\n        };\n        _AstToIrVisitor.prototype.visitLiteralPrimitive = function (ast, mode) {\n            // For literal values of null, undefined, true, or false allow type interference\n            // to infer the type.\n            var type = ast.value === null || ast.value === undefined || ast.value === true || ast.value === true ?\n                INFERRED_TYPE :\n                undefined;\n            return convertToStatementIfNeeded(mode, literal(ast.value, type));\n        };\n        _AstToIrVisitor.prototype._getLocal = function (name) { return this._localResolver.getLocal(name); };\n        _AstToIrVisitor.prototype.visitMethodCall = function (ast, mode) {\n            if (ast.receiver instanceof ImplicitReceiver && ast.name == '$any') {\n                var args = this.visitAll(ast.args, _Mode.Expression);\n                if (args.length != 1) {\n                    throw new Error(\"Invalid call to $any, expected 1 argument but received \" + (args.length || 'none'));\n                }\n                return args[0].cast(DYNAMIC_TYPE);\n            }\n            var leftMostSafe = this.leftMostSafeNode(ast);\n            if (leftMostSafe) {\n                return this.convertSafeAccess(ast, leftMostSafe, mode);\n            }\n            else {\n                var args = this.visitAll(ast.args, _Mode.Expression);\n                var result = null;\n                var receiver = this._visit(ast.receiver, _Mode.Expression);\n                if (receiver === this._implicitReceiver) {\n                    var varExpr = this._getLocal(ast.name);\n                    if (varExpr) {\n                        result = varExpr.callFn(args);\n                    }\n                }\n                if (result == null) {\n                    result = receiver.callMethod(ast.name, args);\n                }\n                return convertToStatementIfNeeded(mode, result);\n            }\n        };\n        _AstToIrVisitor.prototype.visitPrefixNot = function (ast, mode) {\n            return convertToStatementIfNeeded(mode, not(this._visit(ast.expression, _Mode.Expression)));\n        };\n        _AstToIrVisitor.prototype.visitNonNullAssert = function (ast, mode) {\n            return convertToStatementIfNeeded(mode, assertNotNull(this._visit(ast.expression, _Mode.Expression)));\n        };\n        _AstToIrVisitor.prototype.visitPropertyRead = function (ast, mode) {\n            var leftMostSafe = this.leftMostSafeNode(ast);\n            if (leftMostSafe) {\n                return this.convertSafeAccess(ast, leftMostSafe, mode);\n            }\n            else {\n                var result = null;\n                var receiver = this._visit(ast.receiver, _Mode.Expression);\n                if (receiver === this._implicitReceiver) {\n                    result = this._getLocal(ast.name);\n                }\n                if (result == null) {\n                    result = receiver.prop(ast.name);\n                }\n                return convertToStatementIfNeeded(mode, result);\n            }\n        };\n        _AstToIrVisitor.prototype.visitPropertyWrite = function (ast, mode) {\n            var receiver = this._visit(ast.receiver, _Mode.Expression);\n            if (receiver === this._implicitReceiver) {\n                var varExpr = this._getLocal(ast.name);\n                if (varExpr) {\n                    throw new Error('Cannot assign to a reference or variable!');\n                }\n            }\n            return convertToStatementIfNeeded(mode, receiver.prop(ast.name).set(this._visit(ast.value, _Mode.Expression)));\n        };\n        _AstToIrVisitor.prototype.visitSafePropertyRead = function (ast, mode) {\n            return this.convertSafeAccess(ast, this.leftMostSafeNode(ast), mode);\n        };\n        _AstToIrVisitor.prototype.visitSafeMethodCall = function (ast, mode) {\n            return this.convertSafeAccess(ast, this.leftMostSafeNode(ast), mode);\n        };\n        _AstToIrVisitor.prototype.visitAll = function (asts, mode) {\n            var _this = this;\n            return asts.map(function (ast) { return _this._visit(ast, mode); });\n        };\n        _AstToIrVisitor.prototype.visitQuote = function (ast, mode) {\n            throw new Error(\"Quotes are not supported for evaluation!\\n        Statement: \" + ast.uninterpretedExpression + \" located at \" + ast.location);\n        };\n        _AstToIrVisitor.prototype._visit = function (ast, mode) {\n            var result = this._resultMap.get(ast);\n            if (result)\n                return result;\n            return (this._nodeMap.get(ast) || ast).visit(this, mode);\n        };\n        _AstToIrVisitor.prototype.convertSafeAccess = function (ast, leftMostSafe, mode) {\n            // If the expression contains a safe access node on the left it needs to be converted to\n            // an expression that guards the access to the member by checking the receiver for blank. As\n            // execution proceeds from left to right, the left most part of the expression must be guarded\n            // first but, because member access is left associative, the right side of the expression is at\n            // the top of the AST. The desired result requires lifting a copy of the the left part of the\n            // expression up to test it for blank before generating the unguarded version.\n            // Consider, for example the following expression: a?.b.c?.d.e\n            // This results in the ast:\n            //         .\n            //        / \\\n            //       ?.   e\n            //      /  \\\n            //     .    d\n            //    / \\\n            //   ?.  c\n            //  /  \\\n            // a    b\n            // The following tree should be generated:\n            //\n            //        /---- ? ----\\\n            //       /      |      \\\n            //     a   /--- ? ---\\  null\n            //        /     |     \\\n            //       .      .     null\n            //      / \\    / \\\n            //     .  c   .   e\n            //    / \\    / \\\n            //   a   b  ,   d\n            //         / \\\n            //        .   c\n            //       / \\\n            //      a   b\n            //\n            // Notice that the first guard condition is the left hand of the left most safe access node\n            // which comes in as leftMostSafe to this routine.\n            var guardedExpression = this._visit(leftMostSafe.receiver, _Mode.Expression);\n            var temporary = undefined;\n            if (this.needsTemporary(leftMostSafe.receiver)) {\n                // If the expression has method calls or pipes then we need to save the result into a\n                // temporary variable to avoid calling stateful or impure code more than once.\n                temporary = this.allocateTemporary();\n                // Preserve the result in the temporary variable\n                guardedExpression = temporary.set(guardedExpression);\n                // Ensure all further references to the guarded expression refer to the temporary instead.\n                this._resultMap.set(leftMostSafe.receiver, temporary);\n            }\n            var condition = guardedExpression.isBlank();\n            // Convert the ast to an unguarded access to the receiver's member. The map will substitute\n            // leftMostNode with its unguarded version in the call to `this.visit()`.\n            if (leftMostSafe instanceof SafeMethodCall) {\n                this._nodeMap.set(leftMostSafe, new MethodCall(leftMostSafe.span, leftMostSafe.receiver, leftMostSafe.name, leftMostSafe.args));\n            }\n            else {\n                this._nodeMap.set(leftMostSafe, new PropertyRead(leftMostSafe.span, leftMostSafe.receiver, leftMostSafe.name));\n            }\n            // Recursively convert the node now without the guarded member access.\n            var access = this._visit(ast, _Mode.Expression);\n            // Remove the mapping. This is not strictly required as the converter only traverses each node\n            // once but is safer if the conversion is changed to traverse the nodes more than once.\n            this._nodeMap.delete(leftMostSafe);\n            // If we allocated a temporary, release it.\n            if (temporary) {\n                this.releaseTemporary(temporary);\n            }\n            // Produce the conditional\n            return convertToStatementIfNeeded(mode, condition.conditional(literal(null), access));\n        };\n        // Given a expression of the form a?.b.c?.d.e the the left most safe node is\n        // the (a?.b). The . and ?. are left associative thus can be rewritten as:\n        // ((((a?.c).b).c)?.d).e. This returns the most deeply nested safe read or\n        // safe method call as this needs be transform initially to:\n        //   a == null ? null : a.c.b.c?.d.e\n        // then to:\n        //   a == null ? null : a.b.c == null ? null : a.b.c.d.e\n        _AstToIrVisitor.prototype.leftMostSafeNode = function (ast) {\n            var _this = this;\n            var visit = function (visitor, ast) {\n                return (_this._nodeMap.get(ast) || ast).visit(visitor);\n            };\n            return ast.visit({\n                visitBinary: function (ast) { return null; },\n                visitChain: function (ast) { return null; },\n                visitConditional: function (ast) { return null; },\n                visitFunctionCall: function (ast) { return null; },\n                visitImplicitReceiver: function (ast) { return null; },\n                visitInterpolation: function (ast) { return null; },\n                visitKeyedRead: function (ast) { return visit(this, ast.obj); },\n                visitKeyedWrite: function (ast) { return null; },\n                visitLiteralArray: function (ast) { return null; },\n                visitLiteralMap: function (ast) { return null; },\n                visitLiteralPrimitive: function (ast) { return null; },\n                visitMethodCall: function (ast) { return visit(this, ast.receiver); },\n                visitPipe: function (ast) { return null; },\n                visitPrefixNot: function (ast) { return null; },\n                visitNonNullAssert: function (ast) { return null; },\n                visitPropertyRead: function (ast) { return visit(this, ast.receiver); },\n                visitPropertyWrite: function (ast) { return null; },\n                visitQuote: function (ast) { return null; },\n                visitSafeMethodCall: function (ast) { return visit(this, ast.receiver) || ast; },\n                visitSafePropertyRead: function (ast) {\n                    return visit(this, ast.receiver) || ast;\n                }\n            });\n        };\n        // Returns true of the AST includes a method or a pipe indicating that, if the\n        // expression is used as the target of a safe property or method access then\n        // the expression should be stored into a temporary variable.\n        _AstToIrVisitor.prototype.needsTemporary = function (ast) {\n            var _this = this;\n            var visit = function (visitor, ast) {\n                return ast && (_this._nodeMap.get(ast) || ast).visit(visitor);\n            };\n            var visitSome = function (visitor, ast) {\n                return ast.some(function (ast) { return visit(visitor, ast); });\n            };\n            return ast.visit({\n                visitBinary: function (ast) { return visit(this, ast.left) || visit(this, ast.right); },\n                visitChain: function (ast) { return false; },\n                visitConditional: function (ast) {\n                    return visit(this, ast.condition) || visit(this, ast.trueExp) ||\n                        visit(this, ast.falseExp);\n                },\n                visitFunctionCall: function (ast) { return true; },\n                visitImplicitReceiver: function (ast) { return false; },\n                visitInterpolation: function (ast) { return visitSome(this, ast.expressions); },\n                visitKeyedRead: function (ast) { return false; },\n                visitKeyedWrite: function (ast) { return false; },\n                visitLiteralArray: function (ast) { return true; },\n                visitLiteralMap: function (ast) { return true; },\n                visitLiteralPrimitive: function (ast) { return false; },\n                visitMethodCall: function (ast) { return true; },\n                visitPipe: function (ast) { return true; },\n                visitPrefixNot: function (ast) { return visit(this, ast.expression); },\n                visitNonNullAssert: function (ast) { return visit(this, ast.expression); },\n                visitPropertyRead: function (ast) { return false; },\n                visitPropertyWrite: function (ast) { return false; },\n                visitQuote: function (ast) { return false; },\n                visitSafeMethodCall: function (ast) { return true; },\n                visitSafePropertyRead: function (ast) { return false; }\n            });\n        };\n        _AstToIrVisitor.prototype.allocateTemporary = function () {\n            var tempNumber = this._currentTemporary++;\n            this.temporaryCount = Math.max(this._currentTemporary, this.temporaryCount);\n            return new ReadVarExpr(temporaryName(this.bindingId, tempNumber));\n        };\n        _AstToIrVisitor.prototype.releaseTemporary = function (temporary) {\n            this._currentTemporary--;\n            if (temporary.name != temporaryName(this.bindingId, this._currentTemporary)) {\n                throw new Error(\"Temporary \" + temporary.name + \" released out of order\");\n            }\n        };\n        return _AstToIrVisitor;\n    }());\n    function flattenStatements(arg, output) {\n        if (Array.isArray(arg)) {\n            arg.forEach(function (entry) { return flattenStatements(entry, output); });\n        }\n        else {\n            output.push(arg);\n        }\n    }\n    var DefaultLocalResolver = /** @class */ (function () {\n        function DefaultLocalResolver() {\n        }\n        DefaultLocalResolver.prototype.getLocal = function (name) {\n            if (name === EventHandlerVars.event.name) {\n                return EventHandlerVars.event;\n            }\n            return null;\n        };\n        return DefaultLocalResolver;\n    }());\n    function createCurrValueExpr(bindingId) {\n        return variable(\"currVal_\" + bindingId); // fix syntax highlighting: `\n    }\n    function createPreventDefaultVar(bindingId) {\n        return variable(\"pd_\" + bindingId);\n    }\n    function convertStmtIntoExpression(stmt) {\n        if (stmt instanceof ExpressionStatement) {\n            return stmt.expr;\n        }\n        else if (stmt instanceof ReturnStatement) {\n            return stmt.value;\n        }\n        return null;\n    }\n    var BuiltinFunctionCall = /** @class */ (function (_super) {\n        __extends(BuiltinFunctionCall, _super);\n        function BuiltinFunctionCall(span, args, converter) {\n            var _this = _super.call(this, span, null, args) || this;\n            _this.args = args;\n            _this.converter = converter;\n            return _this;\n        }\n        return BuiltinFunctionCall;\n    }(FunctionCall));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Generates code that is used to type check templates.\n     */\n    var TypeCheckCompiler = /** @class */ (function () {\n        function TypeCheckCompiler(options, reflector) {\n            this.options = options;\n            this.reflector = reflector;\n        }\n        /**\n         * Important notes:\n         * - This must not produce new `import` statements, but only refer to types outside\n         *   of the file via the variables provided via externalReferenceVars.\n         *   This allows Typescript to reuse the old program's structure as no imports have changed.\n         * - This must not produce any exports, as this would pollute the .d.ts file\n         *   and also violate the point above.\n         */\n        TypeCheckCompiler.prototype.compileComponent = function (componentId, component, template, usedPipes, externalReferenceVars, ctx) {\n            var _this = this;\n            var pipes = new Map();\n            usedPipes.forEach(function (p) { return pipes.set(p.name, p.type.reference); });\n            var embeddedViewCount = 0;\n            var viewBuilderFactory = function (parent, guards) {\n                var embeddedViewIndex = embeddedViewCount++;\n                return new ViewBuilder(_this.options, _this.reflector, externalReferenceVars, parent, component.type.reference, component.isHost, embeddedViewIndex, pipes, guards, ctx, viewBuilderFactory);\n            };\n            var visitor = viewBuilderFactory(null, []);\n            visitor.visitAll([], template);\n            return visitor.build(componentId);\n        };\n        return TypeCheckCompiler;\n    }());\n    var DYNAMIC_VAR_NAME = '_any';\n    var TypeCheckLocalResolver = /** @class */ (function () {\n        function TypeCheckLocalResolver() {\n        }\n        TypeCheckLocalResolver.prototype.getLocal = function (name) {\n            if (name === EventHandlerVars.event.name) {\n                // References to the event should not be type-checked.\n                // TODO(chuckj): determine a better type for the event.\n                return variable(DYNAMIC_VAR_NAME);\n            }\n            return null;\n        };\n        return TypeCheckLocalResolver;\n    }());\n    var defaultResolver = new TypeCheckLocalResolver();\n    var ViewBuilder = /** @class */ (function () {\n        function ViewBuilder(options, reflector, externalReferenceVars, parent, component, isHostComponent, embeddedViewIndex, pipes, guards, ctx, viewBuilderFactory) {\n            this.options = options;\n            this.reflector = reflector;\n            this.externalReferenceVars = externalReferenceVars;\n            this.parent = parent;\n            this.component = component;\n            this.isHostComponent = isHostComponent;\n            this.embeddedViewIndex = embeddedViewIndex;\n            this.pipes = pipes;\n            this.guards = guards;\n            this.ctx = ctx;\n            this.viewBuilderFactory = viewBuilderFactory;\n            this.refOutputVars = new Map();\n            this.variables = [];\n            this.children = [];\n            this.updates = [];\n            this.actions = [];\n        }\n        ViewBuilder.prototype.getOutputVar = function (type) {\n            var varName;\n            if (type === this.component && this.isHostComponent) {\n                varName = DYNAMIC_VAR_NAME;\n            }\n            else if (type instanceof StaticSymbol) {\n                varName = this.externalReferenceVars.get(type);\n            }\n            else {\n                varName = DYNAMIC_VAR_NAME;\n            }\n            if (!varName) {\n                throw new Error(\"Illegal State: referring to a type without a variable \" + JSON.stringify(type));\n            }\n            return varName;\n        };\n        ViewBuilder.prototype.getTypeGuardExpressions = function (ast) {\n            var e_1, _a, e_2, _b;\n            var result = __spread(this.guards);\n            try {\n                for (var _c = __values(ast.directives), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var directive = _d.value;\n                    try {\n                        for (var _e = __values(directive.inputs), _f = _e.next(); !_f.done; _f = _e.next()) {\n                            var input = _f.value;\n                            var guard = directive.directive.guards[input.directiveName];\n                            if (guard) {\n                                var useIf = guard === 'UseIf';\n                                result.push({\n                                    guard: guard,\n                                    useIf: useIf,\n                                    expression: { context: this.component, value: input.value }\n                                });\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return result;\n        };\n        ViewBuilder.prototype.visitAll = function (variables, astNodes) {\n            this.variables = variables;\n            templateVisitAll(this, astNodes);\n        };\n        ViewBuilder.prototype.build = function (componentId, targetStatements) {\n            var _this = this;\n            if (targetStatements === void 0) { targetStatements = []; }\n            var e_3, _a;\n            this.children.forEach(function (child) { return child.build(componentId, targetStatements); });\n            var viewStmts = [variable(DYNAMIC_VAR_NAME).set(NULL_EXPR).toDeclStmt(DYNAMIC_TYPE)];\n            var bindingCount = 0;\n            this.updates.forEach(function (expression) {\n                var _a = _this.preprocessUpdateExpression(expression), sourceSpan = _a.sourceSpan, context = _a.context, value = _a.value;\n                var bindingId = \"\" + bindingCount++;\n                var nameResolver = context === _this.component ? _this : defaultResolver;\n                var _b = convertPropertyBinding(nameResolver, variable(_this.getOutputVar(context)), value, bindingId, BindingForm.General), stmts = _b.stmts, currValExpr = _b.currValExpr;\n                stmts.push(new ExpressionStatement(currValExpr));\n                viewStmts.push.apply(viewStmts, __spread(stmts.map(function (stmt) { return applySourceSpanToStatementIfNeeded(stmt, sourceSpan); })));\n            });\n            this.actions.forEach(function (_a) {\n                var sourceSpan = _a.sourceSpan, context = _a.context, value = _a.value;\n                var bindingId = \"\" + bindingCount++;\n                var nameResolver = context === _this.component ? _this : defaultResolver;\n                var stmts = convertActionBinding(nameResolver, variable(_this.getOutputVar(context)), value, bindingId).stmts;\n                viewStmts.push.apply(viewStmts, __spread(stmts.map(function (stmt) { return applySourceSpanToStatementIfNeeded(stmt, sourceSpan); })));\n            });\n            if (this.guards.length) {\n                var guardExpression = undefined;\n                try {\n                    for (var _b = __values(this.guards), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var guard = _c.value;\n                        var _d = this.preprocessUpdateExpression(guard.expression), context = _d.context, value = _d.value;\n                        var bindingId = \"\" + bindingCount++;\n                        var nameResolver = context === this.component ? this : defaultResolver;\n                        // We only support support simple expressions and ignore others as they\n                        // are unlikely to affect type narrowing.\n                        var _e = convertPropertyBinding(nameResolver, variable(this.getOutputVar(context)), value, bindingId, BindingForm.TrySimple), stmts = _e.stmts, currValExpr = _e.currValExpr;\n                        if (stmts.length == 0) {\n                            var guardClause = guard.useIf ? currValExpr : this.ctx.importExpr(guard.guard).callFn([currValExpr]);\n                            guardExpression = guardExpression ? guardExpression.and(guardClause) : guardClause;\n                        }\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n                if (guardExpression) {\n                    viewStmts = [new IfStmt(guardExpression, viewStmts)];\n                }\n            }\n            var viewName = \"_View_\" + componentId + \"_\" + this.embeddedViewIndex;\n            var viewFactory = new DeclareFunctionStmt(viewName, [], viewStmts);\n            targetStatements.push(viewFactory);\n            return targetStatements;\n        };\n        ViewBuilder.prototype.visitBoundText = function (ast, context) {\n            var _this = this;\n            var astWithSource = ast.value;\n            var inter = astWithSource.ast;\n            inter.expressions.forEach(function (expr) {\n                return _this.updates.push({ context: _this.component, value: expr, sourceSpan: ast.sourceSpan });\n            });\n        };\n        ViewBuilder.prototype.visitEmbeddedTemplate = function (ast, context) {\n            this.visitElementOrTemplate(ast);\n            // Note: The old view compiler used to use an `any` type\n            // for the context in any embedded view.\n            // We keep this behaivor behind a flag for now.\n            if (this.options.fullTemplateTypeCheck) {\n                // Find any applicable type guards. For example, NgIf has a type guard on ngIf\n                // (see NgIf.ngIfTypeGuard) that can be used to indicate that a template is only\n                // stamped out if ngIf is truthy so any bindings in the template can assume that,\n                // if a nullable type is used for ngIf, that expression is not null or undefined.\n                var guards = this.getTypeGuardExpressions(ast);\n                var childVisitor = this.viewBuilderFactory(this, guards);\n                this.children.push(childVisitor);\n                childVisitor.visitAll(ast.variables, ast.children);\n            }\n        };\n        ViewBuilder.prototype.visitElement = function (ast, context) {\n            var _this = this;\n            this.visitElementOrTemplate(ast);\n            ast.inputs.forEach(function (inputAst) {\n                _this.updates.push({ context: _this.component, value: inputAst.value, sourceSpan: inputAst.sourceSpan });\n            });\n            templateVisitAll(this, ast.children);\n        };\n        ViewBuilder.prototype.visitElementOrTemplate = function (ast) {\n            var _this = this;\n            ast.directives.forEach(function (dirAst) { _this.visitDirective(dirAst); });\n            ast.references.forEach(function (ref) {\n                var outputVarType = null;\n                // Note: The old view compiler used to use an `any` type\n                // for directives exposed via `exportAs`.\n                // We keep this behaivor behind a flag for now.\n                if (ref.value && ref.value.identifier && _this.options.fullTemplateTypeCheck) {\n                    outputVarType = ref.value.identifier.reference;\n                }\n                else {\n                    outputVarType = exports.BuiltinTypeName.Dynamic;\n                }\n                _this.refOutputVars.set(ref.name, outputVarType);\n            });\n            ast.outputs.forEach(function (outputAst) {\n                _this.actions.push({ context: _this.component, value: outputAst.handler, sourceSpan: outputAst.sourceSpan });\n            });\n        };\n        ViewBuilder.prototype.visitDirective = function (dirAst) {\n            var _this = this;\n            var dirType = dirAst.directive.type.reference;\n            dirAst.inputs.forEach(function (input) { return _this.updates.push({ context: _this.component, value: input.value, sourceSpan: input.sourceSpan }); });\n            // Note: The old view compiler used to use an `any` type\n            // for expressions in host properties / events.\n            // We keep this behaivor behind a flag for now.\n            if (this.options.fullTemplateTypeCheck) {\n                dirAst.hostProperties.forEach(function (inputAst) { return _this.updates.push({ context: dirType, value: inputAst.value, sourceSpan: inputAst.sourceSpan }); });\n                dirAst.hostEvents.forEach(function (hostEventAst) { return _this.actions.push({\n                    context: dirType,\n                    value: hostEventAst.handler,\n                    sourceSpan: hostEventAst.sourceSpan\n                }); });\n            }\n        };\n        ViewBuilder.prototype.getLocal = function (name) {\n            if (name == EventHandlerVars.event.name) {\n                return variable(this.getOutputVar(exports.BuiltinTypeName.Dynamic));\n            }\n            for (var currBuilder = this; currBuilder; currBuilder = currBuilder.parent) {\n                var outputVarType = void 0;\n                // check references\n                outputVarType = currBuilder.refOutputVars.get(name);\n                if (outputVarType == null) {\n                    // check variables\n                    var varAst = currBuilder.variables.find(function (varAst) { return varAst.name === name; });\n                    if (varAst) {\n                        outputVarType = exports.BuiltinTypeName.Dynamic;\n                    }\n                }\n                if (outputVarType != null) {\n                    return variable(this.getOutputVar(outputVarType));\n                }\n            }\n            return null;\n        };\n        ViewBuilder.prototype.pipeOutputVar = function (name) {\n            var pipe = this.pipes.get(name);\n            if (!pipe) {\n                throw new Error(\"Illegal State: Could not find pipe \" + name + \" in template of \" + this.component);\n            }\n            return this.getOutputVar(pipe);\n        };\n        ViewBuilder.prototype.preprocessUpdateExpression = function (expression) {\n            var _this = this;\n            return {\n                sourceSpan: expression.sourceSpan,\n                context: expression.context,\n                value: convertPropertyBindingBuiltins({\n                    createLiteralArrayConverter: function (argCount) { return function (args) {\n                        var arr = literalArr(args);\n                        // Note: The old view compiler used to use an `any` type\n                        // for arrays.\n                        return _this.options.fullTemplateTypeCheck ? arr : arr.cast(DYNAMIC_TYPE);\n                    }; },\n                    createLiteralMapConverter: function (keys) { return function (values) {\n                        var entries = keys.map(function (k, i) { return ({\n                            key: k.key,\n                            value: values[i],\n                            quoted: k.quoted,\n                        }); });\n                        var map = literalMap(entries);\n                        // Note: The old view compiler used to use an `any` type\n                        // for maps.\n                        return _this.options.fullTemplateTypeCheck ? map : map.cast(DYNAMIC_TYPE);\n                    }; },\n                    createPipeConverter: function (name, argCount) { return function (args) {\n                        // Note: The old view compiler used to use an `any` type\n                        // for pipes.\n                        var pipeExpr = _this.options.fullTemplateTypeCheck ?\n                            variable(_this.pipeOutputVar(name)) :\n                            variable(_this.getOutputVar(exports.BuiltinTypeName.Dynamic));\n                        return pipeExpr.callMethod('transform', args);\n                    }; },\n                }, expression.value)\n            };\n        };\n        ViewBuilder.prototype.visitNgContent = function (ast, context) { };\n        ViewBuilder.prototype.visitText = function (ast, context) { };\n        ViewBuilder.prototype.visitDirectiveProperty = function (ast, context) { };\n        ViewBuilder.prototype.visitReference = function (ast, context) { };\n        ViewBuilder.prototype.visitVariable = function (ast, context) { };\n        ViewBuilder.prototype.visitEvent = function (ast, context) { };\n        ViewBuilder.prototype.visitElementProperty = function (ast, context) { };\n        ViewBuilder.prototype.visitAttr = function (ast, context) { };\n        return ViewBuilder;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CLASS_ATTR$1 = 'class';\n    var STYLE_ATTR = 'style';\n    var IMPLICIT_TEMPLATE_VAR = '\\$implicit';\n    var ViewCompileResult = /** @class */ (function () {\n        function ViewCompileResult(viewClassVar, rendererTypeVar) {\n            this.viewClassVar = viewClassVar;\n            this.rendererTypeVar = rendererTypeVar;\n        }\n        return ViewCompileResult;\n    }());\n    var ViewCompiler = /** @class */ (function () {\n        function ViewCompiler(_reflector) {\n            this._reflector = _reflector;\n        }\n        ViewCompiler.prototype.compileComponent = function (outputCtx, component, template, styles, usedPipes) {\n            var _this = this;\n            var _a;\n            var embeddedViewCount = 0;\n            var staticQueryIds = findStaticQueryIds(template);\n            var renderComponentVarName = undefined;\n            if (!component.isHost) {\n                var template_1 = component.template;\n                var customRenderData = [];\n                if (template_1.animations && template_1.animations.length) {\n                    customRenderData.push(new LiteralMapEntry('animation', convertValueToOutputAst(outputCtx, template_1.animations), true));\n                }\n                var renderComponentVar = variable(rendererTypeName(component.type.reference));\n                renderComponentVarName = renderComponentVar.name;\n                outputCtx.statements.push(renderComponentVar\n                    .set(importExpr(Identifiers.createRendererType2).callFn([new LiteralMapExpr([\n                        new LiteralMapEntry('encapsulation', literal(template_1.encapsulation), false),\n                        new LiteralMapEntry('styles', styles, false),\n                        new LiteralMapEntry('data', new LiteralMapExpr(customRenderData), false)\n                    ])]))\n                    .toDeclStmt(importType(Identifiers.RendererType2), [exports.StmtModifier.Final, exports.StmtModifier.Exported]));\n            }\n            var viewBuilderFactory = function (parent) {\n                var embeddedViewIndex = embeddedViewCount++;\n                return new ViewBuilder$1(_this._reflector, outputCtx, parent, component, embeddedViewIndex, usedPipes, staticQueryIds, viewBuilderFactory);\n            };\n            var visitor = viewBuilderFactory(null);\n            visitor.visitAll([], template);\n            (_a = outputCtx.statements).push.apply(_a, __spread(visitor.build()));\n            return new ViewCompileResult(visitor.viewName, renderComponentVarName);\n        };\n        return ViewCompiler;\n    }());\n    var LOG_VAR$1 = variable('_l');\n    var VIEW_VAR = variable('_v');\n    var CHECK_VAR = variable('_ck');\n    var COMP_VAR = variable('_co');\n    var EVENT_NAME_VAR = variable('en');\n    var ALLOW_DEFAULT_VAR = variable(\"ad\");\n    var ViewBuilder$1 = /** @class */ (function () {\n        function ViewBuilder(reflector, outputCtx, parent, component, embeddedViewIndex, usedPipes, staticQueryIds, viewBuilderFactory) {\n            this.reflector = reflector;\n            this.outputCtx = outputCtx;\n            this.parent = parent;\n            this.component = component;\n            this.embeddedViewIndex = embeddedViewIndex;\n            this.usedPipes = usedPipes;\n            this.staticQueryIds = staticQueryIds;\n            this.viewBuilderFactory = viewBuilderFactory;\n            this.nodes = [];\n            this.purePipeNodeIndices = Object.create(null);\n            // Need Object.create so that we don't have builtin values...\n            this.refNodeIndices = Object.create(null);\n            this.variables = [];\n            this.children = [];\n            // TODO(tbosch): The old view compiler used to use an `any` type\n            // for the context in any embedded view. We keep this behaivor for now\n            // to be able to introduce the new view compiler without too many errors.\n            this.compType = this.embeddedViewIndex > 0 ?\n                DYNAMIC_TYPE :\n                expressionType(outputCtx.importExpr(this.component.type.reference));\n            this.viewName = viewClassName(this.component.type.reference, this.embeddedViewIndex);\n        }\n        ViewBuilder.prototype.visitAll = function (variables, astNodes) {\n            var _this = this;\n            this.variables = variables;\n            // create the pipes for the pure pipes immediately, so that we know their indices.\n            if (!this.parent) {\n                this.usedPipes.forEach(function (pipe) {\n                    if (pipe.pure) {\n                        _this.purePipeNodeIndices[pipe.name] = _this._createPipe(null, pipe);\n                    }\n                });\n            }\n            if (!this.parent) {\n                var queryIds_1 = staticViewQueryIds(this.staticQueryIds);\n                this.component.viewQueries.forEach(function (query, queryIndex) {\n                    // Note: queries start with id 1 so we can use the number in a Bloom filter!\n                    var queryId = queryIndex + 1;\n                    var bindingType = query.first ? 0 /* First */ : 1 /* All */;\n                    var flags = 134217728 /* TypeViewQuery */ | calcStaticDynamicQueryFlags(queryIds_1, queryId, query.first);\n                    _this.nodes.push(function () { return ({\n                        sourceSpan: null,\n                        nodeFlags: flags,\n                        nodeDef: importExpr(Identifiers.queryDef).callFn([\n                            literal(flags), literal(queryId),\n                            new LiteralMapExpr([new LiteralMapEntry(query.propertyName, literal(bindingType), false)])\n                        ])\n                    }); });\n                });\n            }\n            templateVisitAll(this, astNodes);\n            if (this.parent && (astNodes.length === 0 || needsAdditionalRootNode(astNodes))) {\n                // if the view is an embedded view, then we need to add an additional root node in some cases\n                this.nodes.push(function () { return ({\n                    sourceSpan: null,\n                    nodeFlags: 1 /* TypeElement */,\n                    nodeDef: importExpr(Identifiers.anchorDef).callFn([\n                        literal(0 /* None */), NULL_EXPR, NULL_EXPR, literal(0)\n                    ])\n                }); });\n            }\n        };\n        ViewBuilder.prototype.build = function (targetStatements) {\n            if (targetStatements === void 0) { targetStatements = []; }\n            this.children.forEach(function (child) { return child.build(targetStatements); });\n            var _a = this._createNodeExpressions(), updateRendererStmts = _a.updateRendererStmts, updateDirectivesStmts = _a.updateDirectivesStmts, nodeDefExprs = _a.nodeDefExprs;\n            var updateRendererFn = this._createUpdateFn(updateRendererStmts);\n            var updateDirectivesFn = this._createUpdateFn(updateDirectivesStmts);\n            var viewFlags = 0 /* None */;\n            if (!this.parent && this.component.changeDetection === ChangeDetectionStrategy.OnPush) {\n                viewFlags |= 2 /* OnPush */;\n            }\n            var viewFactory = new DeclareFunctionStmt(this.viewName, [new FnParam(LOG_VAR$1.name)], [new ReturnStatement(importExpr(Identifiers.viewDef).callFn([\n                    literal(viewFlags),\n                    literalArr(nodeDefExprs),\n                    updateDirectivesFn,\n                    updateRendererFn,\n                ]))], importType(Identifiers.ViewDefinition), this.embeddedViewIndex === 0 ? [exports.StmtModifier.Exported] : []);\n            targetStatements.push(viewFactory);\n            return targetStatements;\n        };\n        ViewBuilder.prototype._createUpdateFn = function (updateStmts) {\n            var updateFn;\n            if (updateStmts.length > 0) {\n                var preStmts = [];\n                if (!this.component.isHost && findReadVarNames(updateStmts).has(COMP_VAR.name)) {\n                    preStmts.push(COMP_VAR.set(VIEW_VAR.prop('component')).toDeclStmt(this.compType));\n                }\n                updateFn = fn([\n                    new FnParam(CHECK_VAR.name, INFERRED_TYPE),\n                    new FnParam(VIEW_VAR.name, INFERRED_TYPE)\n                ], __spread(preStmts, updateStmts), INFERRED_TYPE);\n            }\n            else {\n                updateFn = NULL_EXPR;\n            }\n            return updateFn;\n        };\n        ViewBuilder.prototype.visitNgContent = function (ast, context) {\n            // ngContentDef(ngContentIndex: number, index: number): NodeDef;\n            this.nodes.push(function () { return ({\n                sourceSpan: ast.sourceSpan,\n                nodeFlags: 8 /* TypeNgContent */,\n                nodeDef: importExpr(Identifiers.ngContentDef).callFn([\n                    literal(ast.ngContentIndex), literal(ast.index)\n                ])\n            }); });\n        };\n        ViewBuilder.prototype.visitText = function (ast, context) {\n            // Static text nodes have no check function\n            var checkIndex = -1;\n            this.nodes.push(function () { return ({\n                sourceSpan: ast.sourceSpan,\n                nodeFlags: 2 /* TypeText */,\n                nodeDef: importExpr(Identifiers.textDef).callFn([\n                    literal(checkIndex),\n                    literal(ast.ngContentIndex),\n                    literalArr([literal(ast.value)]),\n                ])\n            }); });\n        };\n        ViewBuilder.prototype.visitBoundText = function (ast, context) {\n            var _this = this;\n            var nodeIndex = this.nodes.length;\n            // reserve the space in the nodeDefs array\n            this.nodes.push(null);\n            var astWithSource = ast.value;\n            var inter = astWithSource.ast;\n            var updateRendererExpressions = inter.expressions.map(function (expr, bindingIndex) { return _this._preprocessUpdateExpression({ nodeIndex: nodeIndex, bindingIndex: bindingIndex, sourceSpan: ast.sourceSpan, context: COMP_VAR, value: expr }); });\n            // Check index is the same as the node index during compilation\n            // They might only differ at runtime\n            var checkIndex = nodeIndex;\n            this.nodes[nodeIndex] = function () { return ({\n                sourceSpan: ast.sourceSpan,\n                nodeFlags: 2 /* TypeText */,\n                nodeDef: importExpr(Identifiers.textDef).callFn([\n                    literal(checkIndex),\n                    literal(ast.ngContentIndex),\n                    literalArr(inter.strings.map(function (s) { return literal(s); })),\n                ]),\n                updateRenderer: updateRendererExpressions\n            }); };\n        };\n        ViewBuilder.prototype.visitEmbeddedTemplate = function (ast, context) {\n            var _this = this;\n            var nodeIndex = this.nodes.length;\n            // reserve the space in the nodeDefs array\n            this.nodes.push(null);\n            var _a = this._visitElementOrTemplate(nodeIndex, ast), flags = _a.flags, queryMatchesExpr = _a.queryMatchesExpr, hostEvents = _a.hostEvents;\n            var childVisitor = this.viewBuilderFactory(this);\n            this.children.push(childVisitor);\n            childVisitor.visitAll(ast.variables, ast.children);\n            var childCount = this.nodes.length - nodeIndex - 1;\n            // anchorDef(\n            //   flags: NodeFlags, matchedQueries: [string, QueryValueType][], ngContentIndex: number,\n            //   childCount: number, handleEventFn?: ElementHandleEventFn, templateFactory?:\n            //   ViewDefinitionFactory): NodeDef;\n            this.nodes[nodeIndex] = function () { return ({\n                sourceSpan: ast.sourceSpan,\n                nodeFlags: 1 /* TypeElement */ | flags,\n                nodeDef: importExpr(Identifiers.anchorDef).callFn([\n                    literal(flags),\n                    queryMatchesExpr,\n                    literal(ast.ngContentIndex),\n                    literal(childCount),\n                    _this._createElementHandleEventFn(nodeIndex, hostEvents),\n                    variable(childVisitor.viewName),\n                ])\n            }); };\n        };\n        ViewBuilder.prototype.visitElement = function (ast, context) {\n            var _this = this;\n            var nodeIndex = this.nodes.length;\n            // reserve the space in the nodeDefs array so we can add children\n            this.nodes.push(null);\n            // Using a null element name creates an anchor.\n            var elName = isNgContainer(ast.name) ? null : ast.name;\n            var _a = this._visitElementOrTemplate(nodeIndex, ast), flags = _a.flags, usedEvents = _a.usedEvents, queryMatchesExpr = _a.queryMatchesExpr, dirHostBindings = _a.hostBindings, hostEvents = _a.hostEvents;\n            var inputDefs = [];\n            var updateRendererExpressions = [];\n            var outputDefs = [];\n            if (elName) {\n                var hostBindings = ast.inputs\n                    .map(function (inputAst) { return ({\n                    context: COMP_VAR,\n                    inputAst: inputAst,\n                    dirAst: null,\n                }); })\n                    .concat(dirHostBindings);\n                if (hostBindings.length) {\n                    updateRendererExpressions =\n                        hostBindings.map(function (hostBinding, bindingIndex) { return _this._preprocessUpdateExpression({\n                            context: hostBinding.context,\n                            nodeIndex: nodeIndex,\n                            bindingIndex: bindingIndex,\n                            sourceSpan: hostBinding.inputAst.sourceSpan,\n                            value: hostBinding.inputAst.value\n                        }); });\n                    inputDefs = hostBindings.map(function (hostBinding) { return elementBindingDef(hostBinding.inputAst, hostBinding.dirAst); });\n                }\n                outputDefs = usedEvents.map(function (_a) {\n                    var _b = __read(_a, 2), target = _b[0], eventName = _b[1];\n                    return literalArr([literal(target), literal(eventName)]);\n                });\n            }\n            templateVisitAll(this, ast.children);\n            var childCount = this.nodes.length - nodeIndex - 1;\n            var compAst = ast.directives.find(function (dirAst) { return dirAst.directive.isComponent; });\n            var compRendererType = NULL_EXPR;\n            var compView = NULL_EXPR;\n            if (compAst) {\n                compView = this.outputCtx.importExpr(compAst.directive.componentViewType);\n                compRendererType = this.outputCtx.importExpr(compAst.directive.rendererType);\n            }\n            // Check index is the same as the node index during compilation\n            // They might only differ at runtime\n            var checkIndex = nodeIndex;\n            this.nodes[nodeIndex] = function () { return ({\n                sourceSpan: ast.sourceSpan,\n                nodeFlags: 1 /* TypeElement */ | flags,\n                nodeDef: importExpr(Identifiers.elementDef).callFn([\n                    literal(checkIndex),\n                    literal(flags),\n                    queryMatchesExpr,\n                    literal(ast.ngContentIndex),\n                    literal(childCount),\n                    literal(elName),\n                    elName ? fixedAttrsDef(ast) : NULL_EXPR,\n                    inputDefs.length ? literalArr(inputDefs) : NULL_EXPR,\n                    outputDefs.length ? literalArr(outputDefs) : NULL_EXPR,\n                    _this._createElementHandleEventFn(nodeIndex, hostEvents),\n                    compView,\n                    compRendererType,\n                ]),\n                updateRenderer: updateRendererExpressions\n            }); };\n        };\n        ViewBuilder.prototype._visitElementOrTemplate = function (nodeIndex, ast) {\n            var _this = this;\n            var flags = 0 /* None */;\n            if (ast.hasViewContainer) {\n                flags |= 16777216 /* EmbeddedViews */;\n            }\n            var usedEvents = new Map();\n            ast.outputs.forEach(function (event) {\n                var _a = elementEventNameAndTarget(event, null), name = _a.name, target = _a.target;\n                usedEvents.set(elementEventFullName(target, name), [target, name]);\n            });\n            ast.directives.forEach(function (dirAst) {\n                dirAst.hostEvents.forEach(function (event) {\n                    var _a = elementEventNameAndTarget(event, dirAst), name = _a.name, target = _a.target;\n                    usedEvents.set(elementEventFullName(target, name), [target, name]);\n                });\n            });\n            var hostBindings = [];\n            var hostEvents = [];\n            this._visitComponentFactoryResolverProvider(ast.directives);\n            ast.providers.forEach(function (providerAst, providerIndex) {\n                var dirAst = undefined;\n                var dirIndex = undefined;\n                ast.directives.forEach(function (localDirAst, i) {\n                    if (localDirAst.directive.type.reference === tokenReference(providerAst.token)) {\n                        dirAst = localDirAst;\n                        dirIndex = i;\n                    }\n                });\n                if (dirAst) {\n                    var _a = _this._visitDirective(providerAst, dirAst, dirIndex, nodeIndex, ast.references, ast.queryMatches, usedEvents, _this.staticQueryIds.get(ast)), dirHostBindings = _a.hostBindings, dirHostEvents = _a.hostEvents;\n                    hostBindings.push.apply(hostBindings, __spread(dirHostBindings));\n                    hostEvents.push.apply(hostEvents, __spread(dirHostEvents));\n                }\n                else {\n                    _this._visitProvider(providerAst, ast.queryMatches);\n                }\n            });\n            var queryMatchExprs = [];\n            ast.queryMatches.forEach(function (match) {\n                var valueType = undefined;\n                if (tokenReference(match.value) ===\n                    _this.reflector.resolveExternalReference(Identifiers.ElementRef)) {\n                    valueType = 0 /* ElementRef */;\n                }\n                else if (tokenReference(match.value) ===\n                    _this.reflector.resolveExternalReference(Identifiers.ViewContainerRef)) {\n                    valueType = 3 /* ViewContainerRef */;\n                }\n                else if (tokenReference(match.value) ===\n                    _this.reflector.resolveExternalReference(Identifiers.TemplateRef)) {\n                    valueType = 2 /* TemplateRef */;\n                }\n                if (valueType != null) {\n                    queryMatchExprs.push(literalArr([literal(match.queryId), literal(valueType)]));\n                }\n            });\n            ast.references.forEach(function (ref) {\n                var valueType = undefined;\n                if (!ref.value) {\n                    valueType = 1 /* RenderElement */;\n                }\n                else if (tokenReference(ref.value) ===\n                    _this.reflector.resolveExternalReference(Identifiers.TemplateRef)) {\n                    valueType = 2 /* TemplateRef */;\n                }\n                if (valueType != null) {\n                    _this.refNodeIndices[ref.name] = nodeIndex;\n                    queryMatchExprs.push(literalArr([literal(ref.name), literal(valueType)]));\n                }\n            });\n            ast.outputs.forEach(function (outputAst) {\n                hostEvents.push({ context: COMP_VAR, eventAst: outputAst, dirAst: null });\n            });\n            return {\n                flags: flags,\n                usedEvents: Array.from(usedEvents.values()),\n                queryMatchesExpr: queryMatchExprs.length ? literalArr(queryMatchExprs) : NULL_EXPR,\n                hostBindings: hostBindings,\n                hostEvents: hostEvents\n            };\n        };\n        ViewBuilder.prototype._visitDirective = function (providerAst, dirAst, directiveIndex, elementNodeIndex, refs, queryMatches, usedEvents, queryIds) {\n            var _this = this;\n            var nodeIndex = this.nodes.length;\n            // reserve the space in the nodeDefs array so we can add children\n            this.nodes.push(null);\n            dirAst.directive.queries.forEach(function (query, queryIndex) {\n                var queryId = dirAst.contentQueryStartId + queryIndex;\n                var flags = 67108864 /* TypeContentQuery */ | calcStaticDynamicQueryFlags(queryIds, queryId, query.first);\n                var bindingType = query.first ? 0 /* First */ : 1 /* All */;\n                _this.nodes.push(function () { return ({\n                    sourceSpan: dirAst.sourceSpan,\n                    nodeFlags: flags,\n                    nodeDef: importExpr(Identifiers.queryDef).callFn([\n                        literal(flags), literal(queryId),\n                        new LiteralMapExpr([new LiteralMapEntry(query.propertyName, literal(bindingType), false)])\n                    ]),\n                }); });\n            });\n            // Note: the operation below might also create new nodeDefs,\n            // but we don't want them to be a child of a directive,\n            // as they might be a provider/pipe on their own.\n            // I.e. we only allow queries as children of directives nodes.\n            var childCount = this.nodes.length - nodeIndex - 1;\n            var _a = this._visitProviderOrDirective(providerAst, queryMatches), flags = _a.flags, queryMatchExprs = _a.queryMatchExprs, providerExpr = _a.providerExpr, depsExpr = _a.depsExpr;\n            refs.forEach(function (ref) {\n                if (ref.value && tokenReference(ref.value) === tokenReference(providerAst.token)) {\n                    _this.refNodeIndices[ref.name] = nodeIndex;\n                    queryMatchExprs.push(literalArr([literal(ref.name), literal(4 /* Provider */)]));\n                }\n            });\n            if (dirAst.directive.isComponent) {\n                flags |= 32768 /* Component */;\n            }\n            var inputDefs = dirAst.inputs.map(function (inputAst, inputIndex) {\n                var mapValue = literalArr([literal(inputIndex), literal(inputAst.directiveName)]);\n                // Note: it's important to not quote the key so that we can capture renames by minifiers!\n                return new LiteralMapEntry(inputAst.directiveName, mapValue, false);\n            });\n            var outputDefs = [];\n            var dirMeta = dirAst.directive;\n            Object.keys(dirMeta.outputs).forEach(function (propName) {\n                var eventName = dirMeta.outputs[propName];\n                if (usedEvents.has(eventName)) {\n                    // Note: it's important to not quote the key so that we can capture renames by minifiers!\n                    outputDefs.push(new LiteralMapEntry(propName, literal(eventName), false));\n                }\n            });\n            var updateDirectiveExpressions = [];\n            if (dirAst.inputs.length || (flags & (262144 /* DoCheck */ | 65536 /* OnInit */)) > 0) {\n                updateDirectiveExpressions =\n                    dirAst.inputs.map(function (input, bindingIndex) { return _this._preprocessUpdateExpression({\n                        nodeIndex: nodeIndex,\n                        bindingIndex: bindingIndex,\n                        sourceSpan: input.sourceSpan,\n                        context: COMP_VAR,\n                        value: input.value\n                    }); });\n            }\n            var dirContextExpr = importExpr(Identifiers.nodeValue).callFn([VIEW_VAR, literal(nodeIndex)]);\n            var hostBindings = dirAst.hostProperties.map(function (inputAst) { return ({\n                context: dirContextExpr,\n                dirAst: dirAst,\n                inputAst: inputAst,\n            }); });\n            var hostEvents = dirAst.hostEvents.map(function (hostEventAst) { return ({\n                context: dirContextExpr,\n                eventAst: hostEventAst, dirAst: dirAst,\n            }); });\n            // Check index is the same as the node index during compilation\n            // They might only differ at runtime\n            var checkIndex = nodeIndex;\n            this.nodes[nodeIndex] = function () { return ({\n                sourceSpan: dirAst.sourceSpan,\n                nodeFlags: 16384 /* TypeDirective */ | flags,\n                nodeDef: importExpr(Identifiers.directiveDef).callFn([\n                    literal(checkIndex),\n                    literal(flags),\n                    queryMatchExprs.length ? literalArr(queryMatchExprs) : NULL_EXPR,\n                    literal(childCount),\n                    providerExpr,\n                    depsExpr,\n                    inputDefs.length ? new LiteralMapExpr(inputDefs) : NULL_EXPR,\n                    outputDefs.length ? new LiteralMapExpr(outputDefs) : NULL_EXPR,\n                ]),\n                updateDirectives: updateDirectiveExpressions,\n                directive: dirAst.directive.type,\n            }); };\n            return { hostBindings: hostBindings, hostEvents: hostEvents };\n        };\n        ViewBuilder.prototype._visitProvider = function (providerAst, queryMatches) {\n            this._addProviderNode(this._visitProviderOrDirective(providerAst, queryMatches));\n        };\n        ViewBuilder.prototype._visitComponentFactoryResolverProvider = function (directives) {\n            var componentDirMeta = directives.find(function (dirAst) { return dirAst.directive.isComponent; });\n            if (componentDirMeta && componentDirMeta.directive.entryComponents.length) {\n                var _a = componentFactoryResolverProviderDef(this.reflector, this.outputCtx, 8192 /* PrivateProvider */, componentDirMeta.directive.entryComponents), providerExpr = _a.providerExpr, depsExpr = _a.depsExpr, flags = _a.flags, tokenExpr = _a.tokenExpr;\n                this._addProviderNode({\n                    providerExpr: providerExpr,\n                    depsExpr: depsExpr,\n                    flags: flags,\n                    tokenExpr: tokenExpr,\n                    queryMatchExprs: [],\n                    sourceSpan: componentDirMeta.sourceSpan\n                });\n            }\n        };\n        ViewBuilder.prototype._addProviderNode = function (data) {\n            var nodeIndex = this.nodes.length;\n            // providerDef(\n            //   flags: NodeFlags, matchedQueries: [string, QueryValueType][], token:any,\n            //   value: any, deps: ([DepFlags, any] | any)[]): NodeDef;\n            this.nodes.push(function () { return ({\n                sourceSpan: data.sourceSpan,\n                nodeFlags: data.flags,\n                nodeDef: importExpr(Identifiers.providerDef).callFn([\n                    literal(data.flags),\n                    data.queryMatchExprs.length ? literalArr(data.queryMatchExprs) : NULL_EXPR,\n                    data.tokenExpr, data.providerExpr, data.depsExpr\n                ])\n            }); });\n        };\n        ViewBuilder.prototype._visitProviderOrDirective = function (providerAst, queryMatches) {\n            var flags = 0 /* None */;\n            var queryMatchExprs = [];\n            queryMatches.forEach(function (match) {\n                if (tokenReference(match.value) === tokenReference(providerAst.token)) {\n                    queryMatchExprs.push(literalArr([literal(match.queryId), literal(4 /* Provider */)]));\n                }\n            });\n            var _a = providerDef(this.outputCtx, providerAst), providerExpr = _a.providerExpr, depsExpr = _a.depsExpr, providerFlags = _a.flags, tokenExpr = _a.tokenExpr;\n            return {\n                flags: flags | providerFlags,\n                queryMatchExprs: queryMatchExprs,\n                providerExpr: providerExpr,\n                depsExpr: depsExpr,\n                tokenExpr: tokenExpr,\n                sourceSpan: providerAst.sourceSpan\n            };\n        };\n        ViewBuilder.prototype.getLocal = function (name) {\n            if (name == EventHandlerVars.event.name) {\n                return EventHandlerVars.event;\n            }\n            var currViewExpr = VIEW_VAR;\n            for (var currBuilder = this; currBuilder; currBuilder = currBuilder.parent,\n                currViewExpr = currViewExpr.prop('parent').cast(DYNAMIC_TYPE)) {\n                // check references\n                var refNodeIndex = currBuilder.refNodeIndices[name];\n                if (refNodeIndex != null) {\n                    return importExpr(Identifiers.nodeValue).callFn([currViewExpr, literal(refNodeIndex)]);\n                }\n                // check variables\n                var varAst = currBuilder.variables.find(function (varAst) { return varAst.name === name; });\n                if (varAst) {\n                    var varValue = varAst.value || IMPLICIT_TEMPLATE_VAR;\n                    return currViewExpr.prop('context').prop(varValue);\n                }\n            }\n            return null;\n        };\n        ViewBuilder.prototype._createLiteralArrayConverter = function (sourceSpan, argCount) {\n            if (argCount === 0) {\n                var valueExpr_1 = importExpr(Identifiers.EMPTY_ARRAY);\n                return function () { return valueExpr_1; };\n            }\n            var checkIndex = this.nodes.length;\n            this.nodes.push(function () { return ({\n                sourceSpan: sourceSpan,\n                nodeFlags: 32 /* TypePureArray */,\n                nodeDef: importExpr(Identifiers.pureArrayDef).callFn([\n                    literal(checkIndex),\n                    literal(argCount),\n                ])\n            }); });\n            return function (args) { return callCheckStmt(checkIndex, args); };\n        };\n        ViewBuilder.prototype._createLiteralMapConverter = function (sourceSpan, keys) {\n            if (keys.length === 0) {\n                var valueExpr_2 = importExpr(Identifiers.EMPTY_MAP);\n                return function () { return valueExpr_2; };\n            }\n            var map = literalMap(keys.map(function (e, i) { return (__assign({}, e, { value: literal(i) })); }));\n            var checkIndex = this.nodes.length;\n            this.nodes.push(function () { return ({\n                sourceSpan: sourceSpan,\n                nodeFlags: 64 /* TypePureObject */,\n                nodeDef: importExpr(Identifiers.pureObjectDef).callFn([\n                    literal(checkIndex),\n                    map,\n                ])\n            }); });\n            return function (args) { return callCheckStmt(checkIndex, args); };\n        };\n        ViewBuilder.prototype._createPipeConverter = function (expression, name, argCount) {\n            var pipe = this.usedPipes.find(function (pipeSummary) { return pipeSummary.name === name; });\n            if (pipe.pure) {\n                var checkIndex_1 = this.nodes.length;\n                this.nodes.push(function () { return ({\n                    sourceSpan: expression.sourceSpan,\n                    nodeFlags: 128 /* TypePurePipe */,\n                    nodeDef: importExpr(Identifiers.purePipeDef).callFn([\n                        literal(checkIndex_1),\n                        literal(argCount),\n                    ])\n                }); });\n                // find underlying pipe in the component view\n                var compViewExpr = VIEW_VAR;\n                var compBuilder = this;\n                while (compBuilder.parent) {\n                    compBuilder = compBuilder.parent;\n                    compViewExpr = compViewExpr.prop('parent').cast(DYNAMIC_TYPE);\n                }\n                var pipeNodeIndex = compBuilder.purePipeNodeIndices[name];\n                var pipeValueExpr_1 = importExpr(Identifiers.nodeValue).callFn([compViewExpr, literal(pipeNodeIndex)]);\n                return function (args) { return callUnwrapValue(expression.nodeIndex, expression.bindingIndex, callCheckStmt(checkIndex_1, [pipeValueExpr_1].concat(args))); };\n            }\n            else {\n                var nodeIndex = this._createPipe(expression.sourceSpan, pipe);\n                var nodeValueExpr_1 = importExpr(Identifiers.nodeValue).callFn([VIEW_VAR, literal(nodeIndex)]);\n                return function (args) { return callUnwrapValue(expression.nodeIndex, expression.bindingIndex, nodeValueExpr_1.callMethod('transform', args)); };\n            }\n        };\n        ViewBuilder.prototype._createPipe = function (sourceSpan, pipe) {\n            var _this = this;\n            var nodeIndex = this.nodes.length;\n            var flags = 0 /* None */;\n            pipe.type.lifecycleHooks.forEach(function (lifecycleHook) {\n                // for pipes, we only support ngOnDestroy\n                if (lifecycleHook === LifecycleHooks.OnDestroy) {\n                    flags |= lifecycleHookToNodeFlag(lifecycleHook);\n                }\n            });\n            var depExprs = pipe.type.diDeps.map(function (diDep) { return depDef(_this.outputCtx, diDep); });\n            // function pipeDef(\n            //   flags: NodeFlags, ctor: any, deps: ([DepFlags, any] | any)[]): NodeDef\n            this.nodes.push(function () { return ({\n                sourceSpan: sourceSpan,\n                nodeFlags: 16 /* TypePipe */,\n                nodeDef: importExpr(Identifiers.pipeDef).callFn([\n                    literal(flags), _this.outputCtx.importExpr(pipe.type.reference), literalArr(depExprs)\n                ])\n            }); });\n            return nodeIndex;\n        };\n        /**\n         * For the AST in `UpdateExpression.value`:\n         * - create nodes for pipes, literal arrays and, literal maps,\n         * - update the AST to replace pipes, literal arrays and, literal maps with calls to check fn.\n         *\n         * WARNING: This might create new nodeDefs (for pipes and literal arrays and literal maps)!\n         */\n        ViewBuilder.prototype._preprocessUpdateExpression = function (expression) {\n            var _this = this;\n            return {\n                nodeIndex: expression.nodeIndex,\n                bindingIndex: expression.bindingIndex,\n                sourceSpan: expression.sourceSpan,\n                context: expression.context,\n                value: convertPropertyBindingBuiltins({\n                    createLiteralArrayConverter: function (argCount) { return _this._createLiteralArrayConverter(expression.sourceSpan, argCount); },\n                    createLiteralMapConverter: function (keys) {\n                        return _this._createLiteralMapConverter(expression.sourceSpan, keys);\n                    },\n                    createPipeConverter: function (name, argCount) {\n                        return _this._createPipeConverter(expression, name, argCount);\n                    }\n                }, expression.value)\n            };\n        };\n        ViewBuilder.prototype._createNodeExpressions = function () {\n            var self = this;\n            var updateBindingCount = 0;\n            var updateRendererStmts = [];\n            var updateDirectivesStmts = [];\n            var nodeDefExprs = this.nodes.map(function (factory, nodeIndex) {\n                var _a = factory(), nodeDef = _a.nodeDef, nodeFlags = _a.nodeFlags, updateDirectives = _a.updateDirectives, updateRenderer = _a.updateRenderer, sourceSpan = _a.sourceSpan;\n                if (updateRenderer) {\n                    updateRendererStmts.push.apply(updateRendererStmts, __spread(createUpdateStatements(nodeIndex, sourceSpan, updateRenderer, false)));\n                }\n                if (updateDirectives) {\n                    updateDirectivesStmts.push.apply(updateDirectivesStmts, __spread(createUpdateStatements(nodeIndex, sourceSpan, updateDirectives, (nodeFlags & (262144 /* DoCheck */ | 65536 /* OnInit */)) > 0)));\n                }\n                // We use a comma expression to call the log function before\n                // the nodeDef function, but still use the result of the nodeDef function\n                // as the value.\n                // Note: We only add the logger to elements / text nodes,\n                // so we don't generate too much code.\n                var logWithNodeDef = nodeFlags & 3 /* CatRenderNode */ ?\n                    new CommaExpr([LOG_VAR$1.callFn([]).callFn([]), nodeDef]) :\n                    nodeDef;\n                return applySourceSpanToExpressionIfNeeded(logWithNodeDef, sourceSpan);\n            });\n            return { updateRendererStmts: updateRendererStmts, updateDirectivesStmts: updateDirectivesStmts, nodeDefExprs: nodeDefExprs };\n            function createUpdateStatements(nodeIndex, sourceSpan, expressions, allowEmptyExprs) {\n                var updateStmts = [];\n                var exprs = expressions.map(function (_a) {\n                    var sourceSpan = _a.sourceSpan, context = _a.context, value = _a.value;\n                    var bindingId = \"\" + updateBindingCount++;\n                    var nameResolver = context === COMP_VAR ? self : null;\n                    var _b = convertPropertyBinding(nameResolver, context, value, bindingId, BindingForm.General), stmts = _b.stmts, currValExpr = _b.currValExpr;\n                    updateStmts.push.apply(updateStmts, __spread(stmts.map(function (stmt) { return applySourceSpanToStatementIfNeeded(stmt, sourceSpan); })));\n                    return applySourceSpanToExpressionIfNeeded(currValExpr, sourceSpan);\n                });\n                if (expressions.length || allowEmptyExprs) {\n                    updateStmts.push(applySourceSpanToStatementIfNeeded(callCheckStmt(nodeIndex, exprs).toStmt(), sourceSpan));\n                }\n                return updateStmts;\n            }\n        };\n        ViewBuilder.prototype._createElementHandleEventFn = function (nodeIndex, handlers) {\n            var _this = this;\n            var handleEventStmts = [];\n            var handleEventBindingCount = 0;\n            handlers.forEach(function (_a) {\n                var context = _a.context, eventAst = _a.eventAst, dirAst = _a.dirAst;\n                var bindingId = \"\" + handleEventBindingCount++;\n                var nameResolver = context === COMP_VAR ? _this : null;\n                var _b = convertActionBinding(nameResolver, context, eventAst.handler, bindingId), stmts = _b.stmts, allowDefault = _b.allowDefault;\n                var trueStmts = stmts;\n                if (allowDefault) {\n                    trueStmts.push(ALLOW_DEFAULT_VAR.set(allowDefault.and(ALLOW_DEFAULT_VAR)).toStmt());\n                }\n                var _c = elementEventNameAndTarget(eventAst, dirAst), eventTarget = _c.target, eventName = _c.name;\n                var fullEventName = elementEventFullName(eventTarget, eventName);\n                handleEventStmts.push(applySourceSpanToStatementIfNeeded(new IfStmt(literal(fullEventName).identical(EVENT_NAME_VAR), trueStmts), eventAst.sourceSpan));\n            });\n            var handleEventFn;\n            if (handleEventStmts.length > 0) {\n                var preStmts = [ALLOW_DEFAULT_VAR.set(literal(true)).toDeclStmt(BOOL_TYPE)];\n                if (!this.component.isHost && findReadVarNames(handleEventStmts).has(COMP_VAR.name)) {\n                    preStmts.push(COMP_VAR.set(VIEW_VAR.prop('component')).toDeclStmt(this.compType));\n                }\n                handleEventFn = fn([\n                    new FnParam(VIEW_VAR.name, INFERRED_TYPE),\n                    new FnParam(EVENT_NAME_VAR.name, INFERRED_TYPE),\n                    new FnParam(EventHandlerVars.event.name, INFERRED_TYPE)\n                ], __spread(preStmts, handleEventStmts, [new ReturnStatement(ALLOW_DEFAULT_VAR)]), INFERRED_TYPE);\n            }\n            else {\n                handleEventFn = NULL_EXPR;\n            }\n            return handleEventFn;\n        };\n        ViewBuilder.prototype.visitDirective = function (ast, context) { };\n        ViewBuilder.prototype.visitDirectiveProperty = function (ast, context) { };\n        ViewBuilder.prototype.visitReference = function (ast, context) { };\n        ViewBuilder.prototype.visitVariable = function (ast, context) { };\n        ViewBuilder.prototype.visitEvent = function (ast, context) { };\n        ViewBuilder.prototype.visitElementProperty = function (ast, context) { };\n        ViewBuilder.prototype.visitAttr = function (ast, context) { };\n        return ViewBuilder;\n    }());\n    function needsAdditionalRootNode(astNodes) {\n        var lastAstNode = astNodes[astNodes.length - 1];\n        if (lastAstNode instanceof EmbeddedTemplateAst) {\n            return lastAstNode.hasViewContainer;\n        }\n        if (lastAstNode instanceof ElementAst) {\n            if (isNgContainer(lastAstNode.name) && lastAstNode.children.length) {\n                return needsAdditionalRootNode(lastAstNode.children);\n            }\n            return lastAstNode.hasViewContainer;\n        }\n        return lastAstNode instanceof NgContentAst;\n    }\n    function elementBindingDef(inputAst, dirAst) {\n        switch (inputAst.type) {\n            case 1 /* Attribute */:\n                return literalArr([\n                    literal(1 /* TypeElementAttribute */), literal(inputAst.name),\n                    literal(inputAst.securityContext)\n                ]);\n            case 0 /* Property */:\n                return literalArr([\n                    literal(8 /* TypeProperty */), literal(inputAst.name),\n                    literal(inputAst.securityContext)\n                ]);\n            case 4 /* Animation */:\n                var bindingType = 8 /* TypeProperty */ |\n                    (dirAst && dirAst.directive.isComponent ? 32 /* SyntheticHostProperty */ :\n                        16 /* SyntheticProperty */);\n                return literalArr([\n                    literal(bindingType), literal('@' + inputAst.name), literal(inputAst.securityContext)\n                ]);\n            case 2 /* Class */:\n                return literalArr([literal(2 /* TypeElementClass */), literal(inputAst.name), NULL_EXPR]);\n            case 3 /* Style */:\n                return literalArr([\n                    literal(4 /* TypeElementStyle */), literal(inputAst.name), literal(inputAst.unit)\n                ]);\n        }\n    }\n    function fixedAttrsDef(elementAst) {\n        var mapResult = Object.create(null);\n        elementAst.attrs.forEach(function (attrAst) { mapResult[attrAst.name] = attrAst.value; });\n        elementAst.directives.forEach(function (dirAst) {\n            Object.keys(dirAst.directive.hostAttributes).forEach(function (name) {\n                var value = dirAst.directive.hostAttributes[name];\n                var prevValue = mapResult[name];\n                mapResult[name] = prevValue != null ? mergeAttributeValue(name, prevValue, value) : value;\n            });\n        });\n        // Note: We need to sort to get a defined output order\n        // for tests and for caching generated artifacts...\n        return literalArr(Object.keys(mapResult).sort().map(function (attrName) { return literalArr([literal(attrName), literal(mapResult[attrName])]); }));\n    }\n    function mergeAttributeValue(attrName, attrValue1, attrValue2) {\n        if (attrName == CLASS_ATTR$1 || attrName == STYLE_ATTR) {\n            return attrValue1 + \" \" + attrValue2;\n        }\n        else {\n            return attrValue2;\n        }\n    }\n    function callCheckStmt(nodeIndex, exprs) {\n        if (exprs.length > 10) {\n            return CHECK_VAR.callFn([VIEW_VAR, literal(nodeIndex), literal(1 /* Dynamic */), literalArr(exprs)]);\n        }\n        else {\n            return CHECK_VAR.callFn(__spread([VIEW_VAR, literal(nodeIndex), literal(0 /* Inline */)], exprs));\n        }\n    }\n    function callUnwrapValue(nodeIndex, bindingIdx, expr) {\n        return importExpr(Identifiers.unwrapValue).callFn([\n            VIEW_VAR, literal(nodeIndex), literal(bindingIdx), expr\n        ]);\n    }\n    function findStaticQueryIds(nodes, result) {\n        if (result === void 0) { result = new Map(); }\n        nodes.forEach(function (node) {\n            var staticQueryIds = new Set();\n            var dynamicQueryIds = new Set();\n            var queryMatches = undefined;\n            if (node instanceof ElementAst) {\n                findStaticQueryIds(node.children, result);\n                node.children.forEach(function (child) {\n                    var childData = result.get(child);\n                    childData.staticQueryIds.forEach(function (queryId) { return staticQueryIds.add(queryId); });\n                    childData.dynamicQueryIds.forEach(function (queryId) { return dynamicQueryIds.add(queryId); });\n                });\n                queryMatches = node.queryMatches;\n            }\n            else if (node instanceof EmbeddedTemplateAst) {\n                findStaticQueryIds(node.children, result);\n                node.children.forEach(function (child) {\n                    var childData = result.get(child);\n                    childData.staticQueryIds.forEach(function (queryId) { return dynamicQueryIds.add(queryId); });\n                    childData.dynamicQueryIds.forEach(function (queryId) { return dynamicQueryIds.add(queryId); });\n                });\n                queryMatches = node.queryMatches;\n            }\n            if (queryMatches) {\n                queryMatches.forEach(function (match) { return staticQueryIds.add(match.queryId); });\n            }\n            dynamicQueryIds.forEach(function (queryId) { return staticQueryIds.delete(queryId); });\n            result.set(node, { staticQueryIds: staticQueryIds, dynamicQueryIds: dynamicQueryIds });\n        });\n        return result;\n    }\n    function staticViewQueryIds(nodeStaticQueryIds) {\n        var staticQueryIds = new Set();\n        var dynamicQueryIds = new Set();\n        Array.from(nodeStaticQueryIds.values()).forEach(function (entry) {\n            entry.staticQueryIds.forEach(function (queryId) { return staticQueryIds.add(queryId); });\n            entry.dynamicQueryIds.forEach(function (queryId) { return dynamicQueryIds.add(queryId); });\n        });\n        dynamicQueryIds.forEach(function (queryId) { return staticQueryIds.delete(queryId); });\n        return { staticQueryIds: staticQueryIds, dynamicQueryIds: dynamicQueryIds };\n    }\n    function elementEventNameAndTarget(eventAst, dirAst) {\n        if (eventAst.isAnimation) {\n            return {\n                name: \"@\" + eventAst.name + \".\" + eventAst.phase,\n                target: dirAst && dirAst.directive.isComponent ? 'component' : null\n            };\n        }\n        else {\n            return eventAst;\n        }\n    }\n    function calcStaticDynamicQueryFlags(queryIds, queryId, isFirst) {\n        var flags = 0 /* None */;\n        // Note: We only make queries static that query for a single item.\n        // This is because of backwards compatibility with the old view compiler...\n        if (isFirst && (queryIds.staticQueryIds.has(queryId) || !queryIds.dynamicQueryIds.has(queryId))) {\n            flags |= 268435456 /* StaticQuery */;\n        }\n        else {\n            flags |= 536870912 /* DynamicQuery */;\n        }\n        return flags;\n    }\n    function elementEventFullName(target, name) {\n        return target ? target + \":\" + name : name;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CONSTANT_PREFIX = '_c';\n    // Closure variables holding messages must be named `MSG_[A-Z0-9]+`\n    var TRANSLATION_PREFIX = 'MSG_';\n    /**\n     * Closure uses `goog.getMsg(message)` to lookup translations\n     */\n    var GOOG_GET_MSG = 'goog.getMsg';\n    /**\n     * Context to use when producing a key.\n     *\n     * This ensures we see the constant not the reference variable when producing\n     * a key.\n     */\n    var KEY_CONTEXT = {};\n    /**\n     * A node that is a place-holder that allows the node to be replaced when the actual\n     * node is known.\n     *\n     * This allows the constant pool to change an expression from a direct reference to\n     * a constant to a shared constant. It returns a fix-up node that is later allowed to\n     * change the referenced expression.\n     */\n    var FixupExpression = /** @class */ (function (_super) {\n        __extends(FixupExpression, _super);\n        function FixupExpression(resolved) {\n            var _this = _super.call(this, resolved.type) || this;\n            _this.resolved = resolved;\n            _this.original = resolved;\n            return _this;\n        }\n        FixupExpression.prototype.visitExpression = function (visitor, context) {\n            if (context === KEY_CONTEXT) {\n                // When producing a key we want to traverse the constant not the\n                // variable used to refer to it.\n                return this.original.visitExpression(visitor, context);\n            }\n            else {\n                return this.resolved.visitExpression(visitor, context);\n            }\n        };\n        FixupExpression.prototype.isEquivalent = function (e) {\n            return e instanceof FixupExpression && this.resolved.isEquivalent(e.resolved);\n        };\n        FixupExpression.prototype.isConstant = function () { return true; };\n        FixupExpression.prototype.fixup = function (expression) {\n            this.resolved = expression;\n            this.shared = true;\n        };\n        return FixupExpression;\n    }(Expression));\n    /**\n     * A constant pool allows a code emitter to share constant in an output context.\n     *\n     * The constant pool also supports sharing access to ivy definitions references.\n     */\n    var ConstantPool = /** @class */ (function () {\n        function ConstantPool() {\n            this.statements = [];\n            this.translations = new Map();\n            this.literals = new Map();\n            this.literalFactories = new Map();\n            this.injectorDefinitions = new Map();\n            this.directiveDefinitions = new Map();\n            this.componentDefinitions = new Map();\n            this.pipeDefinitions = new Map();\n            this.nextNameIndex = 0;\n        }\n        ConstantPool.prototype.getConstLiteral = function (literal$$1, forceShared) {\n            if (literal$$1 instanceof LiteralExpr || literal$$1 instanceof FixupExpression) {\n                // Do no put simple literals into the constant pool or try to produce a constant for a\n                // reference to a constant.\n                return literal$$1;\n            }\n            var key = this.keyOf(literal$$1);\n            var fixup = this.literals.get(key);\n            var newValue = false;\n            if (!fixup) {\n                fixup = new FixupExpression(literal$$1);\n                this.literals.set(key, fixup);\n                newValue = true;\n            }\n            if ((!newValue && !fixup.shared) || (newValue && forceShared)) {\n                // Replace the expression with a variable\n                var name_1 = this.freshName();\n                this.statements.push(variable(name_1).set(literal$$1).toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]));\n                fixup.fixup(variable(name_1));\n            }\n            return fixup;\n        };\n        // Generates closure specific code for translation.\n        //\n        // ```\n        // /**\n        //  * @desc description?\n        //  * @meaning meaning?\n        //  */\n        // const MSG_XYZ = goog.getMsg('message');\n        // ```\n        ConstantPool.prototype.getTranslation = function (message, meta) {\n            // The identity of an i18n message depends on the message and its meaning\n            var key = meta.meaning ? message + \"\\0\\0\" + meta.meaning : message;\n            var exp = this.translations.get(key);\n            if (exp) {\n                return exp;\n            }\n            var docStmt = i18nMetaToDocStmt(meta);\n            if (docStmt) {\n                this.statements.push(docStmt);\n            }\n            // Call closure to get the translation\n            var variable$$1 = variable(this.freshTranslationName());\n            var fnCall = variable(GOOG_GET_MSG).callFn([literal(message)]);\n            var msgStmt = variable$$1.set(fnCall).toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]);\n            this.statements.push(msgStmt);\n            this.translations.set(key, variable$$1);\n            return variable$$1;\n        };\n        ConstantPool.prototype.getDefinition = function (type, kind, ctx, forceShared) {\n            if (forceShared === void 0) { forceShared = false; }\n            var definitions = this.definitionsOf(kind);\n            var fixup = definitions.get(type);\n            var newValue = false;\n            if (!fixup) {\n                var property = this.propertyNameOf(kind);\n                fixup = new FixupExpression(ctx.importExpr(type).prop(property));\n                definitions.set(type, fixup);\n                newValue = true;\n            }\n            if ((!newValue && !fixup.shared) || (newValue && forceShared)) {\n                var name_2 = this.freshName();\n                this.statements.push(variable(name_2).set(fixup.resolved).toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]));\n                fixup.fixup(variable(name_2));\n            }\n            return fixup;\n        };\n        ConstantPool.prototype.getLiteralFactory = function (literal$$1) {\n            // Create a pure function that builds an array of a mix of constant  and variable expressions\n            if (literal$$1 instanceof LiteralArrayExpr) {\n                var argumentsForKey = literal$$1.entries.map(function (e) { return e.isConstant() ? e : literal(null); });\n                var key = this.keyOf(literalArr(argumentsForKey));\n                return this._getLiteralFactory(key, literal$$1.entries, function (entries) { return literalArr(entries); });\n            }\n            else {\n                var expressionForKey = literalMap(literal$$1.entries.map(function (e) { return ({\n                    key: e.key,\n                    value: e.value.isConstant() ? e.value : literal(null),\n                    quoted: e.quoted\n                }); }));\n                var key = this.keyOf(expressionForKey);\n                return this._getLiteralFactory(key, literal$$1.entries.map(function (e) { return e.value; }), function (entries) { return literalMap(entries.map(function (value, index) { return ({\n                    key: literal$$1.entries[index].key,\n                    value: value,\n                    quoted: literal$$1.entries[index].quoted\n                }); })); });\n            }\n        };\n        ConstantPool.prototype._getLiteralFactory = function (key, values, resultMap) {\n            var _this = this;\n            var literalFactory = this.literalFactories.get(key);\n            var literalFactoryArguments = values.filter((function (e) { return !e.isConstant(); }));\n            if (!literalFactory) {\n                var resultExpressions = values.map(function (e, index) { return e.isConstant() ? _this.getConstLiteral(e, true) : variable(\"a\" + index); });\n                var parameters = resultExpressions.filter(isVariable).map(function (e) { return new FnParam(e.name, DYNAMIC_TYPE); });\n                var pureFunctionDeclaration = fn(parameters, [new ReturnStatement(resultMap(resultExpressions))], INFERRED_TYPE);\n                var name_3 = this.freshName();\n                this.statements.push(variable(name_3).set(pureFunctionDeclaration).toDeclStmt(INFERRED_TYPE, [\n                    exports.StmtModifier.Final\n                ]));\n                literalFactory = variable(name_3);\n                this.literalFactories.set(key, literalFactory);\n            }\n            return { literalFactory: literalFactory, literalFactoryArguments: literalFactoryArguments };\n        };\n        /**\n         * Produce a unique name.\n         *\n         * The name might be unique among different prefixes if any of the prefixes end in\n         * a digit so the prefix should be a constant string (not based on user input) and\n         * must not end in a digit.\n         */\n        ConstantPool.prototype.uniqueName = function (prefix) { return \"\" + prefix + this.nextNameIndex++; };\n        ConstantPool.prototype.definitionsOf = function (kind) {\n            switch (kind) {\n                case 2 /* Component */:\n                    return this.componentDefinitions;\n                case 1 /* Directive */:\n                    return this.directiveDefinitions;\n                case 0 /* Injector */:\n                    return this.injectorDefinitions;\n                case 3 /* Pipe */:\n                    return this.pipeDefinitions;\n            }\n            error(\"Unknown definition kind \" + kind);\n            return this.componentDefinitions;\n        };\n        ConstantPool.prototype.propertyNameOf = function (kind) {\n            switch (kind) {\n                case 2 /* Component */:\n                    return 'ngComponentDef';\n                case 1 /* Directive */:\n                    return 'ngDirectiveDef';\n                case 0 /* Injector */:\n                    return 'ngInjectorDef';\n                case 3 /* Pipe */:\n                    return 'ngPipeDef';\n            }\n            error(\"Unknown definition kind \" + kind);\n            return '<unknown>';\n        };\n        ConstantPool.prototype.freshName = function () { return this.uniqueName(CONSTANT_PREFIX); };\n        ConstantPool.prototype.freshTranslationName = function () {\n            return this.uniqueName(TRANSLATION_PREFIX).toUpperCase();\n        };\n        ConstantPool.prototype.keyOf = function (expression) {\n            return expression.visitExpression(new KeyVisitor(), KEY_CONTEXT);\n        };\n        return ConstantPool;\n    }());\n    /**\n     * Visitor used to determine if 2 expressions are equivalent and can be shared in the\n     * `ConstantPool`.\n     *\n     * When the id (string) generated by the visitor is equal, expressions are considered equivalent.\n     */\n    var KeyVisitor = /** @class */ (function () {\n        function KeyVisitor() {\n            this.visitWrappedNodeExpr = invalid;\n            this.visitWriteVarExpr = invalid;\n            this.visitWriteKeyExpr = invalid;\n            this.visitWritePropExpr = invalid;\n            this.visitInvokeMethodExpr = invalid;\n            this.visitInvokeFunctionExpr = invalid;\n            this.visitInstantiateExpr = invalid;\n            this.visitConditionalExpr = invalid;\n            this.visitNotExpr = invalid;\n            this.visitAssertNotNullExpr = invalid;\n            this.visitCastExpr = invalid;\n            this.visitFunctionExpr = invalid;\n            this.visitBinaryOperatorExpr = invalid;\n            this.visitReadPropExpr = invalid;\n            this.visitReadKeyExpr = invalid;\n            this.visitCommaExpr = invalid;\n        }\n        KeyVisitor.prototype.visitLiteralExpr = function (ast) {\n            return \"\" + (typeof ast.value === 'string' ? '\"' + ast.value + '\"' : ast.value);\n        };\n        KeyVisitor.prototype.visitLiteralArrayExpr = function (ast, context) {\n            var _this = this;\n            return \"[\" + ast.entries.map(function (entry) { return entry.visitExpression(_this, context); }).join(',') + \"]\";\n        };\n        KeyVisitor.prototype.visitLiteralMapExpr = function (ast, context) {\n            var _this = this;\n            var mapKey = function (entry) {\n                var quote = entry.quoted ? '\"' : '';\n                return \"\" + quote + entry.key + quote;\n            };\n            var mapEntry = function (entry) {\n                return mapKey(entry) + \":\" + entry.value.visitExpression(_this, context);\n            };\n            return \"{\" + ast.entries.map(mapEntry).join(',');\n        };\n        KeyVisitor.prototype.visitExternalExpr = function (ast) {\n            return ast.value.moduleName ? \"EX:\" + ast.value.moduleName + \":\" + ast.value.name :\n                \"EX:\" + ast.value.runtime.name;\n        };\n        KeyVisitor.prototype.visitReadVarExpr = function (node) { return \"VAR:\" + node.name; };\n        KeyVisitor.prototype.visitTypeofExpr = function (node, context) {\n            return \"TYPEOF:\" + node.expr.visitExpression(this, context);\n        };\n        return KeyVisitor;\n    }());\n    function invalid(arg) {\n        throw new Error(\"Invalid state: Visitor \" + this.constructor.name + \" doesn't handle \" + arg.constructor.name);\n    }\n    function isVariable(e) {\n        return e instanceof ReadVarExpr;\n    }\n    // Converts i18n meta informations for a message (description, meaning) to a JsDoc statement\n    // formatted as expected by the Closure compiler.\n    function i18nMetaToDocStmt(meta) {\n        var tags = [];\n        if (meta.description) {\n            tags.push({ tagName: \"desc\" /* Desc */, text: meta.description });\n        }\n        if (meta.meaning) {\n            tags.push({ tagName: \"meaning\" /* Meaning */, text: meta.meaning });\n        }\n        return tags.length == 0 ? null : new JSDocCommentStmt(tags);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A container for message extracted from the templates.\n     */\n    var MessageBundle = /** @class */ (function () {\n        function MessageBundle(_htmlParser, _implicitTags, _implicitAttrs, _locale) {\n            if (_locale === void 0) { _locale = null; }\n            this._htmlParser = _htmlParser;\n            this._implicitTags = _implicitTags;\n            this._implicitAttrs = _implicitAttrs;\n            this._locale = _locale;\n            this._messages = [];\n        }\n        MessageBundle.prototype.updateFromTemplate = function (html, url, interpolationConfig) {\n            var _a;\n            var htmlParserResult = this._htmlParser.parse(html, url, true, interpolationConfig);\n            if (htmlParserResult.errors.length) {\n                return htmlParserResult.errors;\n            }\n            var i18nParserResult = extractMessages(htmlParserResult.rootNodes, interpolationConfig, this._implicitTags, this._implicitAttrs);\n            if (i18nParserResult.errors.length) {\n                return i18nParserResult.errors;\n            }\n            (_a = this._messages).push.apply(_a, __spread(i18nParserResult.messages));\n            return [];\n        };\n        // Return the message in the internal format\n        // The public (serialized) format might be different, see the `write` method.\n        MessageBundle.prototype.getMessages = function () { return this._messages; };\n        MessageBundle.prototype.write = function (serializer, filterSources) {\n            var messages = {};\n            var mapperVisitor = new MapPlaceholderNames();\n            // Deduplicate messages based on their ID\n            this._messages.forEach(function (message) {\n                var _a;\n                var id = serializer.digest(message);\n                if (!messages.hasOwnProperty(id)) {\n                    messages[id] = message;\n                }\n                else {\n                    (_a = messages[id].sources).push.apply(_a, __spread(message.sources));\n                }\n            });\n            // Transform placeholder names using the serializer mapping\n            var msgList = Object.keys(messages).map(function (id) {\n                var mapper = serializer.createNameMapper(messages[id]);\n                var src = messages[id];\n                var nodes = mapper ? mapperVisitor.convert(src.nodes, mapper) : src.nodes;\n                var transformedMessage = new Message(nodes, {}, {}, src.meaning, src.description, id);\n                transformedMessage.sources = src.sources;\n                if (filterSources) {\n                    transformedMessage.sources.forEach(function (source) { return source.filePath = filterSources(source.filePath); });\n                }\n                return transformedMessage;\n            });\n            return serializer.write(msgList, this._locale);\n        };\n        return MessageBundle;\n    }());\n    // Transform an i18n AST by renaming the placeholder nodes with the given mapper\n    var MapPlaceholderNames = /** @class */ (function (_super) {\n        __extends(MapPlaceholderNames, _super);\n        function MapPlaceholderNames() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        MapPlaceholderNames.prototype.convert = function (nodes, mapper) {\n            var _this = this;\n            return mapper ? nodes.map(function (n) { return n.visit(_this, mapper); }) : nodes;\n        };\n        MapPlaceholderNames.prototype.visitTagPlaceholder = function (ph, mapper) {\n            var _this = this;\n            var startName = mapper.toPublicName(ph.startName);\n            var closeName = ph.closeName ? mapper.toPublicName(ph.closeName) : ph.closeName;\n            var children = ph.children.map(function (n) { return n.visit(_this, mapper); });\n            return new TagPlaceholder(ph.tag, ph.attrs, startName, closeName, children, ph.isVoid, ph.sourceSpan);\n        };\n        MapPlaceholderNames.prototype.visitPlaceholder = function (ph, mapper) {\n            return new Placeholder(ph.value, mapper.toPublicName(ph.name), ph.sourceSpan);\n        };\n        MapPlaceholderNames.prototype.visitIcuPlaceholder = function (ph, mapper) {\n            return new IcuPlaceholder(ph.value, mapper.toPublicName(ph.name), ph.sourceSpan);\n        };\n        return MapPlaceholderNames;\n    }(CloneVisitor));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function mapLiteral(obj) {\n        return literalMap(Object.keys(obj).map(function (key) { return ({\n            key: key,\n            quoted: false,\n            value: obj[key],\n        }); }));\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var CORE$1 = '@angular/core';\n    var Identifiers$1 = /** @class */ (function () {\n        function Identifiers() {\n        }\n        /* Methods */\n        Identifiers.NEW_METHOD = 'factory';\n        Identifiers.TRANSFORM_METHOD = 'transform';\n        Identifiers.PATCH_DEPS = 'patchedDeps';\n        /* Instructions */\n        Identifiers.namespaceHTML = { name: 'ɵNH', moduleName: CORE$1 };\n        Identifiers.namespaceMathML = { name: 'ɵNM', moduleName: CORE$1 };\n        Identifiers.namespaceSVG = { name: 'ɵNS', moduleName: CORE$1 };\n        Identifiers.element = { name: 'ɵEe', moduleName: CORE$1 };\n        Identifiers.elementStart = { name: 'ɵE', moduleName: CORE$1 };\n        Identifiers.elementEnd = { name: 'ɵe', moduleName: CORE$1 };\n        Identifiers.elementProperty = { name: 'ɵp', moduleName: CORE$1 };\n        Identifiers.elementAttribute = { name: 'ɵa', moduleName: CORE$1 };\n        Identifiers.elementClassProp = { name: 'ɵcp', moduleName: CORE$1 };\n        Identifiers.elementStyling = { name: 'ɵs', moduleName: CORE$1 };\n        Identifiers.elementStylingMap = { name: 'ɵsm', moduleName: CORE$1 };\n        Identifiers.elementStyleProp = { name: 'ɵsp', moduleName: CORE$1 };\n        Identifiers.elementStylingApply = { name: 'ɵsa', moduleName: CORE$1 };\n        Identifiers.containerCreate = { name: 'ɵC', moduleName: CORE$1 };\n        Identifiers.text = { name: 'ɵT', moduleName: CORE$1 };\n        Identifiers.textBinding = { name: 'ɵt', moduleName: CORE$1 };\n        Identifiers.bind = { name: 'ɵb', moduleName: CORE$1 };\n        Identifiers.interpolation1 = { name: 'ɵi1', moduleName: CORE$1 };\n        Identifiers.interpolation2 = { name: 'ɵi2', moduleName: CORE$1 };\n        Identifiers.interpolation3 = { name: 'ɵi3', moduleName: CORE$1 };\n        Identifiers.interpolation4 = { name: 'ɵi4', moduleName: CORE$1 };\n        Identifiers.interpolation5 = { name: 'ɵi5', moduleName: CORE$1 };\n        Identifiers.interpolation6 = { name: 'ɵi6', moduleName: CORE$1 };\n        Identifiers.interpolation7 = { name: 'ɵi7', moduleName: CORE$1 };\n        Identifiers.interpolation8 = { name: 'ɵi8', moduleName: CORE$1 };\n        Identifiers.interpolationV = { name: 'ɵiV', moduleName: CORE$1 };\n        Identifiers.pureFunction0 = { name: 'ɵf0', moduleName: CORE$1 };\n        Identifiers.pureFunction1 = { name: 'ɵf1', moduleName: CORE$1 };\n        Identifiers.pureFunction2 = { name: 'ɵf2', moduleName: CORE$1 };\n        Identifiers.pureFunction3 = { name: 'ɵf3', moduleName: CORE$1 };\n        Identifiers.pureFunction4 = { name: 'ɵf4', moduleName: CORE$1 };\n        Identifiers.pureFunction5 = { name: 'ɵf5', moduleName: CORE$1 };\n        Identifiers.pureFunction6 = { name: 'ɵf6', moduleName: CORE$1 };\n        Identifiers.pureFunction7 = { name: 'ɵf7', moduleName: CORE$1 };\n        Identifiers.pureFunction8 = { name: 'ɵf8', moduleName: CORE$1 };\n        Identifiers.pureFunctionV = { name: 'ɵfV', moduleName: CORE$1 };\n        Identifiers.pipeBind1 = { name: 'ɵpb1', moduleName: CORE$1 };\n        Identifiers.pipeBind2 = { name: 'ɵpb2', moduleName: CORE$1 };\n        Identifiers.pipeBind3 = { name: 'ɵpb3', moduleName: CORE$1 };\n        Identifiers.pipeBind4 = { name: 'ɵpb4', moduleName: CORE$1 };\n        Identifiers.pipeBindV = { name: 'ɵpbV', moduleName: CORE$1 };\n        Identifiers.load = { name: 'ɵld', moduleName: CORE$1 };\n        Identifiers.loadDirective = { name: 'ɵd', moduleName: CORE$1 };\n        Identifiers.loadQueryList = { name: 'ɵql', moduleName: CORE$1 };\n        Identifiers.pipe = { name: 'ɵPp', moduleName: CORE$1 };\n        Identifiers.projection = { name: 'ɵP', moduleName: CORE$1 };\n        Identifiers.projectionDef = { name: 'ɵpD', moduleName: CORE$1 };\n        Identifiers.inject = { name: 'inject', moduleName: CORE$1 };\n        Identifiers.injectAttribute = { name: 'ɵinjectAttribute', moduleName: CORE$1 };\n        Identifiers.injectElementRef = { name: 'ɵinjectElementRef', moduleName: CORE$1 };\n        Identifiers.injectTemplateRef = { name: 'ɵinjectTemplateRef', moduleName: CORE$1 };\n        Identifiers.injectViewContainerRef = { name: 'ɵinjectViewContainerRef', moduleName: CORE$1 };\n        Identifiers.injectChangeDetectorRef = { name: 'ɵinjectChangeDetectorRef', moduleName: CORE$1 };\n        Identifiers.directiveInject = { name: 'ɵdirectiveInject', moduleName: CORE$1 };\n        Identifiers.defineComponent = { name: 'ɵdefineComponent', moduleName: CORE$1 };\n        Identifiers.ComponentDef = {\n            name: 'ɵComponentDef',\n            moduleName: CORE$1,\n        };\n        Identifiers.defineDirective = {\n            name: 'ɵdefineDirective',\n            moduleName: CORE$1,\n        };\n        Identifiers.DirectiveDef = {\n            name: 'ɵDirectiveDef',\n            moduleName: CORE$1,\n        };\n        Identifiers.InjectorDef = {\n            name: 'ɵInjectorDef',\n            moduleName: CORE$1,\n        };\n        Identifiers.defineInjector = {\n            name: 'defineInjector',\n            moduleName: CORE$1,\n        };\n        Identifiers.NgModuleDef = {\n            name: 'ɵNgModuleDef',\n            moduleName: CORE$1,\n        };\n        Identifiers.defineNgModule = { name: 'ɵdefineNgModule', moduleName: CORE$1 };\n        Identifiers.PipeDef = { name: 'ɵPipeDef', moduleName: CORE$1 };\n        Identifiers.definePipe = { name: 'ɵdefinePipe', moduleName: CORE$1 };\n        Identifiers.query = { name: 'ɵQ', moduleName: CORE$1 };\n        Identifiers.queryRefresh = { name: 'ɵqR', moduleName: CORE$1 };\n        Identifiers.registerContentQuery = { name: 'ɵQr', moduleName: CORE$1 };\n        Identifiers.NgOnChangesFeature = { name: 'ɵNgOnChangesFeature', moduleName: CORE$1 };\n        Identifiers.InheritDefinitionFeature = { name: 'ɵInheritDefinitionFeature', moduleName: CORE$1 };\n        Identifiers.listener = { name: 'ɵL', moduleName: CORE$1 };\n        // Reserve slots for pure functions\n        Identifiers.reserveSlots = { name: 'ɵrS', moduleName: CORE$1 };\n        // sanitization-related functions\n        Identifiers.sanitizeHtml = { name: 'ɵzh', moduleName: CORE$1 };\n        Identifiers.sanitizeStyle = { name: 'ɵzs', moduleName: CORE$1 };\n        Identifiers.defaultStyleSanitizer = { name: 'ɵzss', moduleName: CORE$1 };\n        Identifiers.sanitizeResourceUrl = { name: 'ɵzr', moduleName: CORE$1 };\n        Identifiers.sanitizeScript = { name: 'ɵzc', moduleName: CORE$1 };\n        Identifiers.sanitizeUrl = { name: 'ɵzu', moduleName: CORE$1 };\n        return Identifiers;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /** Name of the temporary to use during data binding */\n    var TEMPORARY_NAME = '_t';\n    /** Name of the context parameter passed into a template function */\n    var CONTEXT_NAME = 'ctx';\n    /** Name of the RenderFlag passed into a template function */\n    var RENDER_FLAGS = 'rf';\n    /** The prefix reference variables */\n    var REFERENCE_PREFIX = '_r';\n    /** The name of the implicit context reference */\n    var IMPLICIT_REFERENCE = '$implicit';\n    /** Name of the i18n attributes **/\n    var I18N_ATTR = 'i18n';\n    var I18N_ATTR_PREFIX = 'i18n-';\n    /** I18n separators for metadata **/\n    var MEANING_SEPARATOR$1 = '|';\n    var ID_SEPARATOR$1 = '@@';\n    /**\n     * Creates an allocator for a temporary variable.\n     *\n     * A variable declaration is added to the statements the first time the allocator is invoked.\n     */\n    function temporaryAllocator(statements, name) {\n        var temp = null;\n        return function () {\n            if (!temp) {\n                statements.push(new DeclareVarStmt(TEMPORARY_NAME, undefined, DYNAMIC_TYPE));\n                temp = variable(name);\n            }\n            return temp;\n        };\n    }\n    function unsupported(feature) {\n        if (this) {\n            throw new Error(\"Builder \" + this.constructor.name + \" doesn't support \" + feature + \" yet\");\n        }\n        throw new Error(\"Feature \" + feature + \" is not supported yet\");\n    }\n    function invalid$1(arg) {\n        throw new Error(\"Invalid state: Visitor \" + this.constructor.name + \" doesn't handle \" + undefined);\n    }\n    function asLiteral(value) {\n        if (Array.isArray(value)) {\n            return literalArr(value.map(asLiteral));\n        }\n        return literal(value, INFERRED_TYPE);\n    }\n    function conditionallyCreateMapObjectLiteral(keys) {\n        if (Object.getOwnPropertyNames(keys).length > 0) {\n            return mapToExpression(keys);\n        }\n        return null;\n    }\n    function mapToExpression(map, quoted) {\n        if (quoted === void 0) { quoted = false; }\n        return literalMap(Object.getOwnPropertyNames(map).map(function (key) { return ({ key: key, quoted: quoted, value: asLiteral(map[key]) }); }));\n    }\n    /**\n     *  Remove trailing null nodes as they are implied.\n     */\n    function trimTrailingNulls(parameters) {\n        while (isNull(parameters[parameters.length - 1])) {\n            parameters.pop();\n        }\n        return parameters;\n    }\n    function getQueryPredicate(query, constantPool) {\n        if (Array.isArray(query.predicate)) {\n            return constantPool.getConstLiteral(literalArr(query.predicate.map(function (selector) { return literal(selector); })));\n        }\n        else {\n            return query.predicate;\n        }\n    }\n    function noop() { }\n    var DefinitionMap = /** @class */ (function () {\n        function DefinitionMap() {\n            this.values = [];\n        }\n        DefinitionMap.prototype.set = function (key, value) {\n            if (value) {\n                this.values.push({ key: key, value: value, quoted: false });\n            }\n        };\n        DefinitionMap.prototype.toLiteralMap = function () { return literalMap(this.values); };\n        return DefinitionMap;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    (function (R3ResolvedDependencyType) {\n        /**\n         * A normal token dependency.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"Token\"] = 0] = \"Token\";\n        /**\n         * The dependency is for an attribute.\n         *\n         * The token expression is a string representing the attribute name.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"Attribute\"] = 1] = \"Attribute\";\n        /**\n         * The dependency is for the `Injector` type itself.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"Injector\"] = 2] = \"Injector\";\n        /**\n         * The dependency is for `ElementRef`.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"ElementRef\"] = 3] = \"ElementRef\";\n        /**\n         * The dependency is for `TemplateRef`.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"TemplateRef\"] = 4] = \"TemplateRef\";\n        /**\n         * The dependency is for `ViewContainerRef`.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"ViewContainerRef\"] = 5] = \"ViewContainerRef\";\n        /**\n         * The dependency is for `ChangeDetectorRef`.\n         */\n        R3ResolvedDependencyType[R3ResolvedDependencyType[\"ChangeDetectorRef\"] = 6] = \"ChangeDetectorRef\";\n    })(exports.R3ResolvedDependencyType || (exports.R3ResolvedDependencyType = {}));\n    /**\n     * Construct a factory function expression for the given `R3FactoryMetadata`.\n     */\n    function compileFactoryFunction(meta) {\n        // Each dependency becomes an invocation of an inject*() function.\n        var args = meta.deps.map(function (dep) { return compileInjectDependency(dep, meta.injectFn); });\n        // The overall result depends on whether this is construction or function invocation.\n        var expr = meta.useNew ? new InstantiateExpr(meta.fnOrClass, args) :\n            new InvokeFunctionExpr(meta.fnOrClass, args);\n        return fn([], [new ReturnStatement(expr)], INFERRED_TYPE, undefined, meta.name + \"_Factory\");\n    }\n    function compileInjectDependency(dep, injectFn) {\n        // Interpret the dependency according to its resolved type.\n        switch (dep.resolved) {\n            case exports.R3ResolvedDependencyType.Token:\n            case exports.R3ResolvedDependencyType.Injector: {\n                // Build up the injection flags according to the metadata.\n                var flags = 0 /* Default */ | (dep.self ? 2 /* Self */ : 0) |\n                    (dep.skipSelf ? 4 /* SkipSelf */ : 0) | (dep.host ? 1 /* Host */ : 0) |\n                    (dep.optional ? 8 /* Optional */ : 0);\n                // Determine the token used for injection. In almost all cases this is the given token, but\n                // if the dependency is resolved to the `Injector` then the special `INJECTOR` token is used\n                // instead.\n                var token = dep.token;\n                if (dep.resolved === exports.R3ResolvedDependencyType.Injector) {\n                    token = importExpr(Identifiers.INJECTOR);\n                }\n                // Build up the arguments to the injectFn call.\n                var injectArgs = [token];\n                // If this dependency is optional or otherwise has non-default flags, then additional\n                // parameters describing how to inject the dependency must be passed to the inject function\n                // that's being used.\n                if (flags !== 0 /* Default */ || dep.optional) {\n                    injectArgs.push(literal(flags));\n                }\n                return importExpr(injectFn).callFn(injectArgs);\n            }\n            case exports.R3ResolvedDependencyType.Attribute:\n                // In the case of attributes, the attribute name in question is given as the token.\n                return importExpr(Identifiers$1.injectAttribute).callFn([dep.token]);\n            case exports.R3ResolvedDependencyType.ElementRef:\n                return importExpr(Identifiers$1.injectElementRef).callFn([]);\n            case exports.R3ResolvedDependencyType.TemplateRef:\n                return importExpr(Identifiers$1.injectTemplateRef).callFn([]);\n            case exports.R3ResolvedDependencyType.ViewContainerRef:\n                return importExpr(Identifiers$1.injectViewContainerRef).callFn([]);\n            case exports.R3ResolvedDependencyType.ChangeDetectorRef:\n                return importExpr(Identifiers$1.injectChangeDetectorRef).callFn([]);\n            default:\n                return unsupported(\"Unknown R3ResolvedDependencyType: \" + exports.R3ResolvedDependencyType[dep.resolved]);\n        }\n    }\n    /**\n     * A helper function useful for extracting `R3DependencyMetadata` from a Render2\n     * `CompileTypeMetadata` instance.\n     */\n    function dependenciesFromGlobalMetadata(type, outputCtx, reflector) {\n        var e_1, _a;\n        // Use the `CompileReflector` to look up references to some well-known Angular types. These will\n        // be compared with the token to statically determine whether the token has significance to\n        // Angular, and set the correct `R3ResolvedDependencyType` as a result.\n        var elementRef = reflector.resolveExternalReference(Identifiers.ElementRef);\n        var templateRef = reflector.resolveExternalReference(Identifiers.TemplateRef);\n        var viewContainerRef = reflector.resolveExternalReference(Identifiers.ViewContainerRef);\n        var injectorRef = reflector.resolveExternalReference(Identifiers.Injector);\n        // Iterate through the type's DI dependencies and produce `R3DependencyMetadata` for each of them.\n        var deps = [];\n        try {\n            for (var _b = __values(type.diDeps), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var dependency = _c.value;\n                if (dependency.token) {\n                    var tokenRef = tokenReference(dependency.token);\n                    var resolved = exports.R3ResolvedDependencyType.Token;\n                    if (tokenRef === elementRef) {\n                        resolved = exports.R3ResolvedDependencyType.ElementRef;\n                    }\n                    else if (tokenRef === templateRef) {\n                        resolved = exports.R3ResolvedDependencyType.TemplateRef;\n                    }\n                    else if (tokenRef === viewContainerRef) {\n                        resolved = exports.R3ResolvedDependencyType.ViewContainerRef;\n                    }\n                    else if (tokenRef === injectorRef) {\n                        resolved = exports.R3ResolvedDependencyType.Injector;\n                    }\n                    else if (dependency.isAttribute) {\n                        resolved = exports.R3ResolvedDependencyType.Attribute;\n                    }\n                    // In the case of most dependencies, the token will be a reference to a type. Sometimes,\n                    // however, it can be a string, in the case of older Angular code or @Attribute injection.\n                    var token = tokenRef instanceof StaticSymbol ? outputCtx.importExpr(tokenRef) : literal(tokenRef);\n                    // Construct the dependency.\n                    deps.push({\n                        token: token,\n                        resolved: resolved,\n                        host: !!dependency.isHost,\n                        optional: !!dependency.isOptional,\n                        self: !!dependency.isSelf,\n                        skipSelf: !!dependency.isSkipSelf,\n                    });\n                }\n                else {\n                    unsupported('dependency without a token');\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return deps;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Convert an object map with `Expression` values into a `LiteralMapExpr`.\n     */\n    function mapToMapExpression(map) {\n        var result = Object.keys(map).map(function (key) { return ({ key: key, value: map[key], quoted: false }); });\n        return literalMap(result);\n    }\n    /**\n     * Convert metadata into an `Expression` in the given `OutputContext`.\n     *\n     * This operation will handle arrays, references to symbols, or literal `null` or `undefined`.\n     */\n    function convertMetaToOutput(meta, ctx) {\n        if (Array.isArray(meta)) {\n            return literalArr(meta.map(function (entry) { return convertMetaToOutput(entry, ctx); }));\n        }\n        if (meta instanceof StaticSymbol) {\n            return ctx.importExpr(meta);\n        }\n        if (meta == null) {\n            return literal(meta);\n        }\n        throw new Error(\"Internal error: Unsupported or unknown metadata: \" + meta);\n    }\n    function typeWithParameters(type, numParams) {\n        var params = null;\n        if (numParams > 0) {\n            params = [];\n            for (var i = 0; i < numParams; i++) {\n                params.push(DYNAMIC_TYPE);\n            }\n        }\n        return expressionType(type, null, params);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Construct an `R3NgModuleDef` for the given `R3NgModuleMetadata`.\n     */\n    function compileNgModule(meta) {\n        var moduleType = meta.type, bootstrap = meta.bootstrap, declarations = meta.declarations, imports = meta.imports, exports = meta.exports;\n        var expression = importExpr(Identifiers$1.defineNgModule).callFn([mapToMapExpression({\n                type: moduleType,\n                bootstrap: literalArr(bootstrap),\n                declarations: literalArr(declarations),\n                imports: literalArr(imports),\n                exports: literalArr(exports),\n            })]);\n        var type = new ExpressionType(importExpr(Identifiers$1.NgModuleDef, [\n            new ExpressionType(moduleType), tupleTypeOf(declarations), tupleTypeOf(imports),\n            tupleTypeOf(exports)\n        ]));\n        var additionalStatements = [];\n        return { expression: expression, type: type, additionalStatements: additionalStatements };\n    }\n    function compileInjector(meta) {\n        var expression = importExpr(Identifiers$1.defineInjector).callFn([mapToMapExpression({\n                factory: compileFactoryFunction({\n                    name: meta.name,\n                    fnOrClass: meta.type,\n                    deps: meta.deps,\n                    useNew: true,\n                    injectFn: Identifiers$1.inject,\n                }),\n                providers: meta.providers,\n                imports: meta.imports,\n            })]);\n        var type = new ExpressionType(importExpr(Identifiers$1.InjectorDef, [new ExpressionType(meta.type)]));\n        return { expression: expression, type: type };\n    }\n    // TODO(alxhub): integrate this with `compileNgModule`. Currently the two are separate operations.\n    function compileNgModuleFromRender2(ctx, ngModule, injectableCompiler) {\n        var className = identifierName(ngModule.type);\n        var rawImports = ngModule.rawImports ? [ngModule.rawImports] : [];\n        var rawExports = ngModule.rawExports ? [ngModule.rawExports] : [];\n        var injectorDefArg = mapLiteral({\n            'factory': injectableCompiler.factoryFor({ type: ngModule.type, symbol: ngModule.type.reference }, ctx),\n            'providers': convertMetaToOutput(ngModule.rawProviders, ctx),\n            'imports': convertMetaToOutput(__spread(rawImports, rawExports), ctx),\n        });\n        var injectorDef = importExpr(Identifiers$1.defineInjector).callFn([injectorDefArg]);\n        ctx.statements.push(new ClassStmt(\n        /* name */ className, \n        /* parent */ null, \n        /* fields */ [new ClassField(\n            /* name */ 'ngInjectorDef', \n            /* type */ INFERRED_TYPE, \n            /* modifiers */ [exports.StmtModifier.Static], \n            /* initializer */ injectorDef)], \n        /* getters */ [], \n        /* constructorMethod */ new ClassMethod(null, [], []), \n        /* methods */ []));\n    }\n    function tupleTypeOf(exp) {\n        var types = exp.map(function (type) { return typeofExpr(type); });\n        return exp.length > 0 ? expressionType(literalArr(types)) : NONE_TYPE;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function compilePipeFromMetadata(metadata) {\n        var definitionMapValues = [];\n        // e.g. `name: 'myPipe'`\n        definitionMapValues.push({ key: 'name', value: literal(metadata.pipeName), quoted: false });\n        // e.g. `type: MyPipe`\n        definitionMapValues.push({ key: 'type', value: metadata.type, quoted: false });\n        var templateFactory = compileFactoryFunction({\n            name: metadata.name,\n            fnOrClass: metadata.type,\n            deps: metadata.deps,\n            useNew: true,\n            injectFn: Identifiers$1.directiveInject,\n        });\n        definitionMapValues.push({ key: 'factory', value: templateFactory, quoted: false });\n        // e.g. `pure: true`\n        definitionMapValues.push({ key: 'pure', value: literal(metadata.pure), quoted: false });\n        var expression = importExpr(Identifiers$1.definePipe).callFn([literalMap(definitionMapValues)]);\n        var type = new ExpressionType(importExpr(Identifiers$1.PipeDef, [\n            new ExpressionType(metadata.type),\n            new ExpressionType(new LiteralExpr(metadata.pipeName)),\n        ]));\n        return { expression: expression, type: type };\n    }\n    /**\n     * Write a pipe definition to the output context.\n     */\n    function compilePipeFromRender2(outputCtx, pipe, reflector) {\n        var name = identifierName(pipe.type);\n        if (!name) {\n            return error(\"Cannot resolve the name of \" + pipe.type);\n        }\n        var metadata = {\n            name: name,\n            pipeName: pipe.name,\n            type: outputCtx.importExpr(pipe.type.reference),\n            deps: dependenciesFromGlobalMetadata(pipe.type, outputCtx, reflector),\n            pure: pipe.pure,\n        };\n        var res = compilePipeFromMetadata(metadata);\n        var definitionField = outputCtx.constantPool.propertyNameOf(3 /* Pipe */);\n        outputCtx.statements.push(new ClassStmt(\n        /* name */ name, \n        /* parent */ null, \n        /* fields */ [new ClassField(\n            /* name */ definitionField, \n            /* type */ INFERRED_TYPE, \n            /* modifiers */ [exports.StmtModifier.Static], \n            /* initializer */ res.expression)], \n        /* getters */ [], \n        /* constructorMethod */ new ClassMethod(null, [], []), \n        /* methods */ []));\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var Text$3 = /** @class */ (function () {\n        function Text(value, sourceSpan) {\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        Text.prototype.visit = function (visitor) { return visitor.visitText(this); };\n        return Text;\n    }());\n    var BoundText = /** @class */ (function () {\n        function BoundText(value, sourceSpan) {\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        BoundText.prototype.visit = function (visitor) { return visitor.visitBoundText(this); };\n        return BoundText;\n    }());\n    var TextAttribute = /** @class */ (function () {\n        function TextAttribute(name, value, sourceSpan, valueSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n            this.valueSpan = valueSpan;\n        }\n        TextAttribute.prototype.visit = function (visitor) { return visitor.visitTextAttribute(this); };\n        return TextAttribute;\n    }());\n    var BoundAttribute = /** @class */ (function () {\n        function BoundAttribute(name, type, securityContext, value, unit, sourceSpan) {\n            this.name = name;\n            this.type = type;\n            this.securityContext = securityContext;\n            this.value = value;\n            this.unit = unit;\n            this.sourceSpan = sourceSpan;\n        }\n        BoundAttribute.fromBoundElementProperty = function (prop) {\n            return new BoundAttribute(prop.name, prop.type, prop.securityContext, prop.value, prop.unit, prop.sourceSpan);\n        };\n        BoundAttribute.prototype.visit = function (visitor) { return visitor.visitBoundAttribute(this); };\n        return BoundAttribute;\n    }());\n    var BoundEvent = /** @class */ (function () {\n        function BoundEvent(name, handler, target, phase, sourceSpan) {\n            this.name = name;\n            this.handler = handler;\n            this.target = target;\n            this.phase = phase;\n            this.sourceSpan = sourceSpan;\n        }\n        BoundEvent.fromParsedEvent = function (event) {\n            var target = event.type === 0 /* Regular */ ? event.targetOrPhase : null;\n            var phase = event.type === 1 /* Animation */ ? event.targetOrPhase : null;\n            return new BoundEvent(event.name, event.handler, target, phase, event.sourceSpan);\n        };\n        BoundEvent.prototype.visit = function (visitor) { return visitor.visitBoundEvent(this); };\n        return BoundEvent;\n    }());\n    var Element$1 = /** @class */ (function () {\n        function Element(name, attributes, inputs, outputs, children, references, sourceSpan, startSourceSpan, endSourceSpan) {\n            this.name = name;\n            this.attributes = attributes;\n            this.inputs = inputs;\n            this.outputs = outputs;\n            this.children = children;\n            this.references = references;\n            this.sourceSpan = sourceSpan;\n            this.startSourceSpan = startSourceSpan;\n            this.endSourceSpan = endSourceSpan;\n        }\n        Element.prototype.visit = function (visitor) { return visitor.visitElement(this); };\n        return Element;\n    }());\n    var Template = /** @class */ (function () {\n        function Template(attributes, inputs, children, references, variables, sourceSpan, startSourceSpan, endSourceSpan) {\n            this.attributes = attributes;\n            this.inputs = inputs;\n            this.children = children;\n            this.references = references;\n            this.variables = variables;\n            this.sourceSpan = sourceSpan;\n            this.startSourceSpan = startSourceSpan;\n            this.endSourceSpan = endSourceSpan;\n        }\n        Template.prototype.visit = function (visitor) { return visitor.visitTemplate(this); };\n        return Template;\n    }());\n    var Content = /** @class */ (function () {\n        function Content(selectorIndex, attributes, sourceSpan) {\n            this.selectorIndex = selectorIndex;\n            this.attributes = attributes;\n            this.sourceSpan = sourceSpan;\n        }\n        Content.prototype.visit = function (visitor) { return visitor.visitContent(this); };\n        return Content;\n    }());\n    var Variable = /** @class */ (function () {\n        function Variable(name, value, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        Variable.prototype.visit = function (visitor) { return visitor.visitVariable(this); };\n        return Variable;\n    }());\n    var Reference = /** @class */ (function () {\n        function Reference(name, value, sourceSpan) {\n            this.name = name;\n            this.value = value;\n            this.sourceSpan = sourceSpan;\n        }\n        Reference.prototype.visit = function (visitor) { return visitor.visitReference(this); };\n        return Reference;\n    }());\n    function visitAll$1(visitor, nodes) {\n        var e_1, _a, e_2, _b;\n        var result = [];\n        if (visitor.visit) {\n            try {\n                for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\n                    var node = nodes_1_1.value;\n                    var newNode = visitor.visit(node) || node.visit(visitor);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        else {\n            try {\n                for (var nodes_2 = __values(nodes), nodes_2_1 = nodes_2.next(); !nodes_2_1.done; nodes_2_1 = nodes_2.next()) {\n                    var node = nodes_2_1.value;\n                    var newNode = node.visit(visitor);\n                    if (newNode) {\n                        result.push(newNode);\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (nodes_2_1 && !nodes_2_1.done && (_b = nodes_2.return)) _b.call(nodes_2);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n        return result;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var BIND_NAME_REGEXP$1 = /^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\\[\\(([^\\)]+)\\)\\]|\\[([^\\]]+)\\]|\\(([^\\)]+)\\))$/;\n    // Group 1 = \"bind-\"\n    var KW_BIND_IDX$1 = 1;\n    // Group 2 = \"let-\"\n    var KW_LET_IDX$1 = 2;\n    // Group 3 = \"ref-/#\"\n    var KW_REF_IDX$1 = 3;\n    // Group 4 = \"on-\"\n    var KW_ON_IDX$1 = 4;\n    // Group 5 = \"bindon-\"\n    var KW_BINDON_IDX$1 = 5;\n    // Group 6 = \"@\"\n    var KW_AT_IDX$1 = 6;\n    // Group 7 = the identifier after \"bind-\", \"let-\", \"ref-/#\", \"on-\", \"bindon-\" or \"@\"\n    var IDENT_KW_IDX$1 = 7;\n    // Group 8 = identifier inside [()]\n    var IDENT_BANANA_BOX_IDX$1 = 8;\n    // Group 9 = identifier inside []\n    var IDENT_PROPERTY_IDX$1 = 9;\n    // Group 10 = identifier inside ()\n    var IDENT_EVENT_IDX$1 = 10;\n    var TEMPLATE_ATTR_PREFIX$1 = '*';\n    // Default selector used by `<ng-content>` if none specified\n    var DEFAULT_CONTENT_SELECTOR = '*';\n    function htmlAstToRender3Ast(htmlNodes, bindingParser) {\n        var transformer = new HtmlAstToIvyAst(bindingParser);\n        var ivyNodes = visitAll(transformer, htmlNodes);\n        // Errors might originate in either the binding parser or the html to ivy transformer\n        var allErrors = bindingParser.errors.concat(transformer.errors);\n        var errors = allErrors.filter(function (e) { return e.level === exports.ParseErrorLevel.ERROR; });\n        if (errors.length > 0) {\n            var errorString = errors.join('\\n');\n            throw syntaxError(\"Template parse errors:\\n\" + errorString, errors);\n        }\n        return {\n            nodes: ivyNodes,\n            errors: allErrors,\n            ngContentSelectors: transformer.ngContentSelectors,\n            hasNgContent: transformer.hasNgContent,\n        };\n    }\n    var HtmlAstToIvyAst = /** @class */ (function () {\n        function HtmlAstToIvyAst(bindingParser) {\n            this.bindingParser = bindingParser;\n            this.errors = [];\n            // Selectors for the `ng-content` tags. Only non `*` selectors are recorded here\n            this.ngContentSelectors = [];\n            // Any `<ng-content>` in the template ?\n            this.hasNgContent = false;\n        }\n        // HTML visitor\n        HtmlAstToIvyAst.prototype.visitElement = function (element) {\n            var e_1, _a;\n            var preparsedElement = preparseElement(element);\n            if (preparsedElement.type === PreparsedElementType.SCRIPT ||\n                preparsedElement.type === PreparsedElementType.STYLE) {\n                // Skipping <script> for security reasons\n                // Skipping <style> as we already processed them\n                // in the StyleCompiler\n                return null;\n            }\n            if (preparsedElement.type === PreparsedElementType.STYLESHEET &&\n                isStyleUrlResolvable(preparsedElement.hrefAttr)) {\n                // Skipping stylesheets with either relative urls or package scheme as we already processed\n                // them in the StyleCompiler\n                return null;\n            }\n            // Whether the element is a `<ng-template>`\n            var isTemplateElement = isNgTemplate(element.name);\n            var matchableAttributes = [];\n            var parsedProperties = [];\n            var boundEvents = [];\n            var variables = [];\n            var references = [];\n            var attributes = [];\n            var templateMatchableAttributes = [];\n            var inlineTemplateSourceSpan;\n            var templateParsedProperties = [];\n            var templateVariables = [];\n            // Whether the element has any *-attribute\n            var elementHasInlineTemplate = false;\n            try {\n                for (var _b = __values(element.attrs), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var attribute = _c.value;\n                    var hasBinding = false;\n                    var normalizedName = normalizeAttributeName(attribute.name);\n                    // `*attr` defines template bindings\n                    var isTemplateBinding = false;\n                    if (normalizedName.startsWith(TEMPLATE_ATTR_PREFIX$1)) {\n                        if (elementHasInlineTemplate) {\n                            this.reportError(\"Can't have multiple template bindings on one element. Use only one attribute prefixed with *\", attribute.sourceSpan);\n                        }\n                        isTemplateBinding = true;\n                        elementHasInlineTemplate = true;\n                        var templateValue = attribute.value;\n                        var templateKey = normalizedName.substring(TEMPLATE_ATTR_PREFIX$1.length);\n                        inlineTemplateSourceSpan = attribute.valueSpan || attribute.sourceSpan;\n                        var parsedVariables = [];\n                        this.bindingParser.parseInlineTemplateBinding(templateKey, templateValue, attribute.sourceSpan, templateMatchableAttributes, templateParsedProperties, parsedVariables);\n                        templateVariables.push.apply(templateVariables, __spread(parsedVariables.map(function (v) { return new Variable(v.name, v.value, v.sourceSpan); })));\n                    }\n                    else {\n                        // Check for variables, events, property bindings, interpolation\n                        hasBinding = this.parseAttribute(isTemplateElement, attribute, matchableAttributes, parsedProperties, boundEvents, variables, references);\n                    }\n                    if (!hasBinding && !isTemplateBinding) {\n                        // don't include the bindings as attributes as well in the AST\n                        attributes.push(this.visitAttribute(attribute));\n                        matchableAttributes.push([attribute.name, attribute.value]);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            var children = visitAll(preparsedElement.nonBindable ? NON_BINDABLE_VISITOR$1 : this, element.children);\n            var parsedElement;\n            if (preparsedElement.type === PreparsedElementType.NG_CONTENT) {\n                // `<ng-content>`\n                this.hasNgContent = true;\n                if (element.children && !element.children.every(isEmptyTextNode)) {\n                    this.reportError(\"<ng-content> element cannot have content.\", element.sourceSpan);\n                }\n                var selector = preparsedElement.selectAttr;\n                var attributes_1 = element.attrs.map(function (attribute) {\n                    return new TextAttribute(attribute.name, attribute.value, attribute.sourceSpan, attribute.valueSpan);\n                });\n                var selectorIndex = selector === DEFAULT_CONTENT_SELECTOR ? 0 : this.ngContentSelectors.push(selector);\n                parsedElement = new Content(selectorIndex, attributes_1, element.sourceSpan);\n            }\n            else if (isTemplateElement) {\n                // `<ng-template>`\n                var boundAttributes = this.createBoundAttributes(element.name, parsedProperties);\n                parsedElement = new Template(attributes, boundAttributes, children, references, variables, element.sourceSpan, element.startSourceSpan, element.endSourceSpan);\n            }\n            else {\n                var boundAttributes = this.createBoundAttributes(element.name, parsedProperties);\n                parsedElement = new Element$1(element.name, attributes, boundAttributes, boundEvents, children, references, element.sourceSpan, element.startSourceSpan, element.endSourceSpan);\n            }\n            if (elementHasInlineTemplate) {\n                var attributes_2 = [];\n                templateMatchableAttributes.forEach(function (_a) {\n                    var _b = __read(_a, 2), name = _b[0], value = _b[1];\n                    return attributes_2.push(new TextAttribute(name, value, inlineTemplateSourceSpan));\n                });\n                var boundAttributes = this.createBoundAttributes('ng-template', templateParsedProperties);\n                parsedElement = new Template(attributes_2, boundAttributes, [parsedElement], [], templateVariables, element.sourceSpan, element.startSourceSpan, element.endSourceSpan);\n            }\n            return parsedElement;\n        };\n        HtmlAstToIvyAst.prototype.visitAttribute = function (attribute) {\n            return new TextAttribute(attribute.name, attribute.value, attribute.sourceSpan, attribute.valueSpan);\n        };\n        HtmlAstToIvyAst.prototype.visitText = function (text) {\n            var valueNoNgsp = replaceNgsp(text.value);\n            var expr = this.bindingParser.parseInterpolation(valueNoNgsp, text.sourceSpan);\n            return expr ? new BoundText(expr, text.sourceSpan) : new Text$3(valueNoNgsp, text.sourceSpan);\n        };\n        HtmlAstToIvyAst.prototype.visitComment = function (comment) { return null; };\n        HtmlAstToIvyAst.prototype.visitExpansion = function (expansion) { return null; };\n        HtmlAstToIvyAst.prototype.visitExpansionCase = function (expansionCase) { return null; };\n        HtmlAstToIvyAst.prototype.createBoundAttributes = function (elementName, properties) {\n            var _this = this;\n            return properties.filter(function (prop) { return !prop.isLiteral; })\n                .map(function (prop) { return _this.bindingParser.createBoundElementProperty(elementName, prop); })\n                .map(function (prop) { return BoundAttribute.fromBoundElementProperty(prop); });\n        };\n        HtmlAstToIvyAst.prototype.parseAttribute = function (isTemplateElement, attribute, matchableAttributes, parsedProperties, boundEvents, variables, references) {\n            var name = normalizeAttributeName(attribute.name);\n            var value = attribute.value;\n            var srcSpan = attribute.sourceSpan;\n            var bindParts = name.match(BIND_NAME_REGEXP$1);\n            var hasBinding = false;\n            if (bindParts) {\n                hasBinding = true;\n                if (bindParts[KW_BIND_IDX$1] != null) {\n                    this.bindingParser.parsePropertyBinding(bindParts[IDENT_KW_IDX$1], value, false, srcSpan, matchableAttributes, parsedProperties);\n                }\n                else if (bindParts[KW_LET_IDX$1]) {\n                    if (isTemplateElement) {\n                        var identifier = bindParts[IDENT_KW_IDX$1];\n                        this.parseVariable(identifier, value, srcSpan, variables);\n                    }\n                    else {\n                        this.reportError(\"\\\"let-\\\" is only supported on ng-template elements.\", srcSpan);\n                    }\n                }\n                else if (bindParts[KW_REF_IDX$1]) {\n                    var identifier = bindParts[IDENT_KW_IDX$1];\n                    this.parseReference(identifier, value, srcSpan, references);\n                }\n                else if (bindParts[KW_ON_IDX$1]) {\n                    var events = [];\n                    this.bindingParser.parseEvent(bindParts[IDENT_KW_IDX$1], value, srcSpan, matchableAttributes, events);\n                    addEvents(events, boundEvents);\n                }\n                else if (bindParts[KW_BINDON_IDX$1]) {\n                    this.bindingParser.parsePropertyBinding(bindParts[IDENT_KW_IDX$1], value, false, srcSpan, matchableAttributes, parsedProperties);\n                    this.parseAssignmentEvent(bindParts[IDENT_KW_IDX$1], value, srcSpan, matchableAttributes, boundEvents);\n                }\n                else if (bindParts[KW_AT_IDX$1]) {\n                    this.bindingParser.parseLiteralAttr(name, value, srcSpan, matchableAttributes, parsedProperties);\n                }\n                else if (bindParts[IDENT_BANANA_BOX_IDX$1]) {\n                    this.bindingParser.parsePropertyBinding(bindParts[IDENT_BANANA_BOX_IDX$1], value, false, srcSpan, matchableAttributes, parsedProperties);\n                    this.parseAssignmentEvent(bindParts[IDENT_BANANA_BOX_IDX$1], value, srcSpan, matchableAttributes, boundEvents);\n                }\n                else if (bindParts[IDENT_PROPERTY_IDX$1]) {\n                    this.bindingParser.parsePropertyBinding(bindParts[IDENT_PROPERTY_IDX$1], value, false, srcSpan, matchableAttributes, parsedProperties);\n                }\n                else if (bindParts[IDENT_EVENT_IDX$1]) {\n                    var events = [];\n                    this.bindingParser.parseEvent(bindParts[IDENT_EVENT_IDX$1], value, srcSpan, matchableAttributes, events);\n                    addEvents(events, boundEvents);\n                }\n            }\n            else {\n                hasBinding = this.bindingParser.parsePropertyInterpolation(name, value, srcSpan, matchableAttributes, parsedProperties);\n            }\n            return hasBinding;\n        };\n        HtmlAstToIvyAst.prototype.parseVariable = function (identifier, value, sourceSpan, variables) {\n            if (identifier.indexOf('-') > -1) {\n                this.reportError(\"\\\"-\\\" is not allowed in variable names\", sourceSpan);\n            }\n            variables.push(new Variable(identifier, value, sourceSpan));\n        };\n        HtmlAstToIvyAst.prototype.parseReference = function (identifier, value, sourceSpan, references) {\n            if (identifier.indexOf('-') > -1) {\n                this.reportError(\"\\\"-\\\" is not allowed in reference names\", sourceSpan);\n            }\n            references.push(new Reference(identifier, value, sourceSpan));\n        };\n        HtmlAstToIvyAst.prototype.parseAssignmentEvent = function (name, expression, sourceSpan, targetMatchableAttrs, boundEvents) {\n            var events = [];\n            this.bindingParser.parseEvent(name + \"Change\", expression + \"=$event\", sourceSpan, targetMatchableAttrs, events);\n            addEvents(events, boundEvents);\n        };\n        HtmlAstToIvyAst.prototype.reportError = function (message, sourceSpan, level) {\n            if (level === void 0) { level = exports.ParseErrorLevel.ERROR; }\n            this.errors.push(new ParseError(sourceSpan, message, level));\n        };\n        return HtmlAstToIvyAst;\n    }());\n    var NonBindableVisitor$1 = /** @class */ (function () {\n        function NonBindableVisitor() {\n        }\n        NonBindableVisitor.prototype.visitElement = function (ast) {\n            var preparsedElement = preparseElement(ast);\n            if (preparsedElement.type === PreparsedElementType.SCRIPT ||\n                preparsedElement.type === PreparsedElementType.STYLE ||\n                preparsedElement.type === PreparsedElementType.STYLESHEET) {\n                // Skipping <script> for security reasons\n                // Skipping <style> and stylesheets as we already processed them\n                // in the StyleCompiler\n                return null;\n            }\n            var children = visitAll(this, ast.children, null);\n            return new Element$1(ast.name, visitAll(this, ast.attrs), \n            /* inputs */ [], /* outputs */ [], children, /* references */ [], ast.sourceSpan, ast.startSourceSpan, ast.endSourceSpan);\n        };\n        NonBindableVisitor.prototype.visitComment = function (comment) { return null; };\n        NonBindableVisitor.prototype.visitAttribute = function (attribute) {\n            return new TextAttribute(attribute.name, attribute.value, attribute.sourceSpan);\n        };\n        NonBindableVisitor.prototype.visitText = function (text) { return new Text$3(text.value, text.sourceSpan); };\n        NonBindableVisitor.prototype.visitExpansion = function (expansion) { return null; };\n        NonBindableVisitor.prototype.visitExpansionCase = function (expansionCase) { return null; };\n        return NonBindableVisitor;\n    }());\n    var NON_BINDABLE_VISITOR$1 = new NonBindableVisitor$1();\n    function normalizeAttributeName(attrName) {\n        return /^data-/i.test(attrName) ? attrName.substring(5) : attrName;\n    }\n    function addEvents(events, boundEvents) {\n        boundEvents.push.apply(boundEvents, __spread(events.map(function (e) { return BoundEvent.fromParsedEvent(e); })));\n    }\n    function isEmptyTextNode(node) {\n        return node instanceof Text && node.value.trim().length == 0;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Parses string representation of a style and converts it into object literal.\n     *\n     * @param value string representation of style as used in the `style` attribute in HTML.\n     *   Example: `color: red; height: auto`.\n     * @returns an object literal. `{ color: 'red', height: 'auto'}`.\n     */\n    function parseStyle(value) {\n        var styles = {};\n        var i = 0;\n        var parenDepth = 0;\n        var quote = 0 /* QuoteNone */;\n        var valueStart = 0;\n        var propStart = 0;\n        var currentProp = null;\n        var valueHasQuotes = false;\n        while (i < value.length) {\n            var token = value.charCodeAt(i++);\n            switch (token) {\n                case 40 /* OpenParen */:\n                    parenDepth++;\n                    break;\n                case 41 /* CloseParen */:\n                    parenDepth--;\n                    break;\n                case 39 /* QuoteSingle */:\n                    // valueStart needs to be there since prop values don't\n                    // have quotes in CSS\n                    valueHasQuotes = valueHasQuotes || valueStart > 0;\n                    if (quote === 0 /* QuoteNone */) {\n                        quote = 39 /* QuoteSingle */;\n                    }\n                    else if (quote === 39 /* QuoteSingle */ && value.charCodeAt(i - 1) !== 92 /* BackSlash */) {\n                        quote = 0 /* QuoteNone */;\n                    }\n                    break;\n                case 34 /* QuoteDouble */:\n                    // same logic as above\n                    valueHasQuotes = valueHasQuotes || valueStart > 0;\n                    if (quote === 0 /* QuoteNone */) {\n                        quote = 34 /* QuoteDouble */;\n                    }\n                    else if (quote === 34 /* QuoteDouble */ && value.charCodeAt(i - 1) !== 92 /* BackSlash */) {\n                        quote = 0 /* QuoteNone */;\n                    }\n                    break;\n                case 58 /* Colon */:\n                    if (!currentProp && parenDepth === 0 && quote === 0 /* QuoteNone */) {\n                        currentProp = hyphenate(value.substring(propStart, i - 1).trim());\n                        valueStart = i;\n                    }\n                    break;\n                case 59 /* Semicolon */:\n                    if (currentProp && valueStart > 0 && parenDepth === 0 && quote === 0 /* QuoteNone */) {\n                        var styleVal = value.substring(valueStart, i - 1).trim();\n                        styles[currentProp] = valueHasQuotes ? stripUnnecessaryQuotes(styleVal) : styleVal;\n                        propStart = i;\n                        valueStart = 0;\n                        currentProp = null;\n                        valueHasQuotes = false;\n                    }\n                    break;\n            }\n        }\n        if (currentProp && valueStart) {\n            var styleVal = value.substr(valueStart).trim();\n            styles[currentProp] = valueHasQuotes ? stripUnnecessaryQuotes(styleVal) : styleVal;\n        }\n        return styles;\n    }\n    function stripUnnecessaryQuotes(value) {\n        var qS = value.charCodeAt(0);\n        var qE = value.charCodeAt(value.length - 1);\n        if (qS == qE && (qS == 39 /* QuoteSingle */ || qS == 34 /* QuoteDouble */)) {\n            var tempValue = value.substring(1, value.length - 1);\n            // special case to avoid using a multi-quoted string that was just chomped\n            // (e.g. `font-family: \"Verdana\", \"sans-serif\"`)\n            if (tempValue.indexOf('\\'') == -1 && tempValue.indexOf('\"') == -1) {\n                value = tempValue;\n            }\n        }\n        return value;\n    }\n    function hyphenate(value) {\n        return value.replace(/[a-z][A-Z]/g, function (v) {\n            return v.charAt(0) + '-' + v.charAt(1);\n        }).toLowerCase();\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function mapBindingToInstruction(type) {\n        switch (type) {\n            case 0 /* Property */:\n                return Identifiers$1.elementProperty;\n            case 1 /* Attribute */:\n                return Identifiers$1.elementAttribute;\n            case 2 /* Class */:\n                return Identifiers$1.elementClassProp;\n            default:\n                return undefined;\n        }\n    }\n    //  if (rf & flags) { .. }\n    function renderFlagCheckIfStmt(flags, statements) {\n        return ifStmt(variable(RENDER_FLAGS).bitwiseAnd(literal(flags), null, false), statements);\n    }\n    var TemplateDefinitionBuilder = /** @class */ (function () {\n        function TemplateDefinitionBuilder(constantPool, contextParameter, parentBindingScope, level, contextName, templateName, viewQueries, directiveMatcher, directives, pipeTypeByName, pipes, _namespace) {\n            if (level === void 0) { level = 0; }\n            var _this = this;\n            this.constantPool = constantPool;\n            this.contextParameter = contextParameter;\n            this.level = level;\n            this.contextName = contextName;\n            this.templateName = templateName;\n            this.viewQueries = viewQueries;\n            this.directiveMatcher = directiveMatcher;\n            this.directives = directives;\n            this.pipeTypeByName = pipeTypeByName;\n            this.pipes = pipes;\n            this._namespace = _namespace;\n            this._dataIndex = 0;\n            this._bindingContext = 0;\n            this._prefixCode = [];\n            this._creationCode = [];\n            this._variableCode = [];\n            this._bindingCode = [];\n            this._postfixCode = [];\n            this._unsupported = unsupported;\n            // Whether we are inside a translatable element (`<p i18n>... somewhere here ... </p>)\n            this._inI18nSection = false;\n            this._i18nSectionIndex = -1;\n            // Maps of placeholder to node indexes for each of the i18n section\n            this._phToNodeIdxes = [{}];\n            // Number of slots to reserve for pureFunctions\n            this._pureFunctionSlots = 0;\n            // These should be handled in the template or element directly.\n            this.visitReference = invalid$1;\n            this.visitVariable = invalid$1;\n            this.visitTextAttribute = invalid$1;\n            this.visitBoundAttribute = invalid$1;\n            this.visitBoundEvent = invalid$1;\n            // view queries can take up space in data and allocation happens earlier (in the \"viewQuery\"\n            // function)\n            this._dataIndex = viewQueries.length;\n            this._bindingScope =\n                parentBindingScope.nestedScope(function (lhsVar, expression) {\n                    _this._bindingCode.push(lhsVar.set(expression).toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]));\n                });\n            this._valueConverter = new ValueConverter(constantPool, function () { return _this.allocateDataSlot(); }, function (numSlots) { return _this._pureFunctionSlots += numSlots; }, function (name, localName, slot, value) {\n                var pipeType = pipeTypeByName.get(name);\n                if (pipeType) {\n                    _this.pipes.add(pipeType);\n                }\n                _this._bindingScope.set(localName, value);\n                _this._creationCode.push(importExpr(Identifiers$1.pipe).callFn([literal(slot), literal(name)]).toStmt());\n            });\n        }\n        TemplateDefinitionBuilder.prototype.buildTemplateFunction = function (nodes, variables, hasNgContent, ngContentSelectors) {\n            if (hasNgContent === void 0) { hasNgContent = false; }\n            if (ngContentSelectors === void 0) { ngContentSelectors = []; }\n            var e_1, _a, e_2, _b;\n            if (this._namespace !== Identifiers$1.namespaceHTML) {\n                this.instruction(this._creationCode, null, this._namespace);\n            }\n            try {\n                // Create variable bindings\n                for (var variables_1 = __values(variables), variables_1_1 = variables_1.next(); !variables_1_1.done; variables_1_1 = variables_1.next()) {\n                    var variable$$1 = variables_1_1.value;\n                    var variableName = variable$$1.name;\n                    var expression = variable(this.contextParameter).prop(variable$$1.value || IMPLICIT_REFERENCE);\n                    var scopedName = this._bindingScope.freshReferenceName();\n                    // Add the reference to the local scope.\n                    this._bindingScope.set(variableName, variable(variableName + scopedName), expression);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (variables_1_1 && !variables_1_1.done && (_a = variables_1.return)) _a.call(variables_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            // Output a `ProjectionDef` instruction when some `<ng-content>` are present\n            if (hasNgContent) {\n                var parameters = [];\n                // Only selectors with a non-default value are generated\n                if (ngContentSelectors.length > 1) {\n                    var r3Selectors = ngContentSelectors.map(function (s) { return parseSelectorToR3Selector(s); });\n                    // `projectionDef` needs both the parsed and raw value of the selectors\n                    var parsed = this.constantPool.getConstLiteral(asLiteral(r3Selectors), true);\n                    var unParsed = this.constantPool.getConstLiteral(asLiteral(ngContentSelectors), true);\n                    parameters.push(parsed, unParsed);\n                }\n                this.instruction.apply(this, __spread([this._creationCode, null, Identifiers$1.projectionDef], parameters));\n            }\n            visitAll$1(this, nodes);\n            if (this._pureFunctionSlots > 0) {\n                this.instruction(this._creationCode, null, Identifiers$1.reserveSlots, literal(this._pureFunctionSlots));\n            }\n            var creationCode = this._creationCode.length > 0 ?\n                [renderFlagCheckIfStmt(1 /* Create */, this._creationCode)] :\n                [];\n            var updateCode = this._bindingCode.length > 0 ?\n                [renderFlagCheckIfStmt(2 /* Update */, this._bindingCode)] :\n                [];\n            try {\n                // Generate maps of placeholder name to node indexes\n                // TODO(vicb): This is a WIP, not fully supported yet\n                for (var _c = __values(this._phToNodeIdxes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var phToNodeIdx = _d.value;\n                    if (Object.keys(phToNodeIdx).length > 0) {\n                        var scopedName = this._bindingScope.freshReferenceName();\n                        var phMap = variable(scopedName)\n                            .set(mapToExpression(phToNodeIdx, true))\n                            .toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]);\n                        this._prefixCode.push(phMap);\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            return fn([new FnParam(RENDER_FLAGS, NUMBER_TYPE), new FnParam(this.contextParameter, null)], __spread(this._prefixCode, creationCode, this._variableCode, updateCode, this._postfixCode), INFERRED_TYPE, null, this.templateName);\n        };\n        // LocalResolver\n        TemplateDefinitionBuilder.prototype.getLocal = function (name) { return this._bindingScope.get(name); };\n        TemplateDefinitionBuilder.prototype.visitContent = function (ngContent) {\n            var slot = this.allocateDataSlot();\n            var selectorIndex = ngContent.selectorIndex;\n            var parameters = [literal(slot)];\n            var attributeAsList = [];\n            ngContent.attributes.forEach(function (attribute) {\n                var name = attribute.name;\n                if (name !== 'select') {\n                    attributeAsList.push(name, attribute.value);\n                }\n            });\n            if (attributeAsList.length > 0) {\n                parameters.push(literal(selectorIndex), asLiteral(attributeAsList));\n            }\n            else if (selectorIndex !== 0) {\n                parameters.push(literal(selectorIndex));\n            }\n            this.instruction.apply(this, __spread([this._creationCode, ngContent.sourceSpan, Identifiers$1.projection], parameters));\n        };\n        TemplateDefinitionBuilder.prototype.getNamespaceInstruction = function (namespaceKey) {\n            switch (namespaceKey) {\n                case 'math':\n                    return Identifiers$1.namespaceMathML;\n                case 'svg':\n                    return Identifiers$1.namespaceSVG;\n                default:\n                    return Identifiers$1.namespaceHTML;\n            }\n        };\n        TemplateDefinitionBuilder.prototype.addNamespaceInstruction = function (nsInstruction, element) {\n            this._namespace = nsInstruction;\n            this.instruction(this._creationCode, element.sourceSpan, nsInstruction);\n        };\n        TemplateDefinitionBuilder.prototype.visitElement = function (element) {\n            var _this = this;\n            var e_3, _a, _b, _c;\n            var elementIndex = this.allocateDataSlot();\n            var referenceDataSlots = new Map();\n            var wasInI18nSection = this._inI18nSection;\n            var outputAttrs = {};\n            var attrI18nMetas = {};\n            var i18nMeta = '';\n            var _d = __read(splitNsName(element.name), 2), namespaceKey = _d[0], elementName = _d[1];\n            // Elements inside i18n sections are replaced with placeholders\n            // TODO(vicb): nested elements are a WIP in this phase\n            if (this._inI18nSection) {\n                var phName = element.name.toLowerCase();\n                if (!this._phToNodeIdxes[this._i18nSectionIndex][phName]) {\n                    this._phToNodeIdxes[this._i18nSectionIndex][phName] = [];\n                }\n                this._phToNodeIdxes[this._i18nSectionIndex][phName].push(elementIndex);\n            }\n            try {\n                // Handle i18n attributes\n                for (var _e = __values(element.attributes), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var attr = _f.value;\n                    var name_1 = attr.name;\n                    var value = attr.value;\n                    if (name_1 === I18N_ATTR) {\n                        if (this._inI18nSection) {\n                            throw new Error(\"Could not mark an element as translatable inside of a translatable section\");\n                        }\n                        this._inI18nSection = true;\n                        this._i18nSectionIndex++;\n                        this._phToNodeIdxes[this._i18nSectionIndex] = {};\n                        i18nMeta = value;\n                    }\n                    else if (name_1.startsWith(I18N_ATTR_PREFIX)) {\n                        attrI18nMetas[name_1.slice(I18N_ATTR_PREFIX.length)] = value;\n                    }\n                    else {\n                        outputAttrs[name_1] = value;\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            // Match directives on non i18n attributes\n            if (this.directiveMatcher) {\n                var selector = createCssSelector(element.name, outputAttrs);\n                this.directiveMatcher.match(selector, function (sel, staticType) { _this.directives.add(staticType); });\n            }\n            // Element creation mode\n            var parameters = [\n                literal(elementIndex),\n                literal(elementName),\n            ];\n            // Add the attributes\n            var i18nMessages = [];\n            var attributes = [];\n            var initialStyleDeclarations = [];\n            var initialClassDeclarations = [];\n            var styleInputs = [];\n            var classInputs = [];\n            var allOtherInputs = [];\n            element.inputs.forEach(function (input) {\n                switch (input.type) {\n                    // [attr.style] or [attr.class] should not be treated as styling-based\n                    // bindings since they are intended to be written directly to the attr\n                    // and therefore will skip all style/class resolution that is present\n                    // with style=\"\", [style]=\"\" and [style.prop]=\"\", class=\"\",\n                    // [class.prop]=\"\". [class]=\"\" assignments\n                    case 0 /* Property */:\n                        if (input.name == 'style') {\n                            // this should always go first in the compilation (for [style])\n                            styleInputs.splice(0, 0, input);\n                        }\n                        else if (isClassBinding(input)) {\n                            // this should always go first in the compilation (for [class])\n                            classInputs.splice(0, 0, input);\n                        }\n                        else {\n                            allOtherInputs.push(input);\n                        }\n                        break;\n                    case 3 /* Style */:\n                        styleInputs.push(input);\n                        break;\n                    case 2 /* Class */:\n                        classInputs.push(input);\n                        break;\n                    default:\n                        allOtherInputs.push(input);\n                        break;\n                }\n            });\n            var currStyleIndex = 0;\n            var currClassIndex = 0;\n            var staticStylesMap = null;\n            var staticClassesMap = null;\n            var stylesIndexMap = {};\n            var classesIndexMap = {};\n            Object.getOwnPropertyNames(outputAttrs).forEach(function (name) {\n                var value = outputAttrs[name];\n                if (name == 'style') {\n                    staticStylesMap = parseStyle(value);\n                    Object.keys(staticStylesMap).forEach(function (prop) { stylesIndexMap[prop] = currStyleIndex++; });\n                }\n                else if (name == 'class') {\n                    staticClassesMap = {};\n                    value.split(/\\s+/g).forEach(function (className) {\n                        classesIndexMap[className] = currClassIndex++;\n                        staticClassesMap[className] = true;\n                    });\n                }\n                else {\n                    attributes.push(literal(name));\n                    if (attrI18nMetas.hasOwnProperty(name)) {\n                        var meta = parseI18nMeta(attrI18nMetas[name]);\n                        var variable$$1 = _this.constantPool.getTranslation(value, meta);\n                        attributes.push(variable$$1);\n                    }\n                    else {\n                        attributes.push(literal(value));\n                    }\n                }\n            });\n            var hasMapBasedStyling = false;\n            for (var i = 0; i < styleInputs.length; i++) {\n                var input = styleInputs[i];\n                var isMapBasedStyleBinding = i === 0 && input.name === 'style';\n                if (isMapBasedStyleBinding) {\n                    hasMapBasedStyling = true;\n                }\n                else if (!stylesIndexMap.hasOwnProperty(input.name)) {\n                    stylesIndexMap[input.name] = currStyleIndex++;\n                }\n            }\n            for (var i = 0; i < classInputs.length; i++) {\n                var input = classInputs[i];\n                var isMapBasedClassBinding = i === 0 && isClassBinding(input);\n                if (!isMapBasedClassBinding && !stylesIndexMap.hasOwnProperty(input.name)) {\n                    classesIndexMap[input.name] = currClassIndex++;\n                }\n            }\n            // in the event that a [style] binding is used then sanitization will\n            // always be imported because it is not possible to know ahead of time\n            // whether style bindings will use or not use any sanitizable properties\n            // that isStyleSanitizable() will detect\n            var useDefaultStyleSanitizer = hasMapBasedStyling;\n            // this will build the instructions so that they fall into the following syntax\n            // => [prop1, prop2, prop3, 0, prop1, value1, prop2, value2]\n            Object.keys(stylesIndexMap).forEach(function (prop) {\n                useDefaultStyleSanitizer = useDefaultStyleSanitizer || isStyleSanitizable(prop);\n                initialStyleDeclarations.push(literal(prop));\n            });\n            if (staticStylesMap) {\n                initialStyleDeclarations.push(literal(1 /* VALUES_MODE */));\n                Object.keys(staticStylesMap).forEach(function (prop) {\n                    initialStyleDeclarations.push(literal(prop));\n                    var value = staticStylesMap[prop];\n                    initialStyleDeclarations.push(literal(value));\n                });\n            }\n            Object.keys(classesIndexMap).forEach(function (prop) {\n                initialClassDeclarations.push(literal(prop));\n            });\n            if (staticClassesMap) {\n                initialClassDeclarations.push(literal(1 /* VALUES_MODE */));\n                Object.keys(staticClassesMap).forEach(function (className) {\n                    initialClassDeclarations.push(literal(className));\n                    initialClassDeclarations.push(literal(true));\n                });\n            }\n            var hasStylingInstructions = initialStyleDeclarations.length || styleInputs.length ||\n                initialClassDeclarations.length || classInputs.length;\n            var attrArg = attributes.length > 0 ?\n                this.constantPool.getConstLiteral(literalArr(attributes), true) :\n                TYPED_NULL_EXPR;\n            parameters.push(attrArg);\n            if (element.references && element.references.length > 0) {\n                var references = flatten(element.references.map(function (reference) {\n                    var slot = _this.allocateDataSlot();\n                    referenceDataSlots.set(reference.name, slot);\n                    // Generate the update temporary.\n                    var variableName = _this._bindingScope.freshReferenceName();\n                    _this._variableCode.push(variable(variableName, INFERRED_TYPE)\n                        .set(importExpr(Identifiers$1.load).callFn([literal(slot)]))\n                        .toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]));\n                    _this._bindingScope.set(reference.name, variable(variableName));\n                    return [reference.name, reference.value];\n                }));\n                parameters.push(this.constantPool.getConstLiteral(asLiteral(references), true));\n            }\n            else {\n                parameters.push(TYPED_NULL_EXPR);\n            }\n            // Generate the instruction create element instruction\n            if (i18nMessages.length > 0) {\n                (_b = this._creationCode).push.apply(_b, __spread(i18nMessages));\n            }\n            var wasInNamespace = this._namespace;\n            var currentNamespace = this.getNamespaceInstruction(namespaceKey);\n            // If the namespace is changing now, include an instruction to change it\n            // during element creation.\n            if (currentNamespace !== wasInNamespace) {\n                this.addNamespaceInstruction(currentNamespace, element);\n            }\n            var implicit = variable(CONTEXT_NAME);\n            var createSelfClosingInstruction = !hasStylingInstructions && element.children.length === 0 && element.outputs.length === 0;\n            if (createSelfClosingInstruction) {\n                this.instruction.apply(this, __spread([this._creationCode, element.sourceSpan, Identifiers$1.element], trimTrailingNulls(parameters)));\n            }\n            else {\n                // Generate the instruction create element instruction\n                if (i18nMessages.length > 0) {\n                    (_c = this._creationCode).push.apply(_c, __spread(i18nMessages));\n                }\n                this.instruction.apply(this, __spread([this._creationCode, element.sourceSpan, Identifiers$1.elementStart], trimTrailingNulls(parameters)));\n                // initial styling for static style=\"...\" attributes\n                if (hasStylingInstructions) {\n                    var paramsList = [];\n                    if (initialClassDeclarations.length) {\n                        // the template compiler handles initial class styling (e.g. class=\"foo\") values\n                        // in a special command called `elementClass` so that the initial class\n                        // can be processed during runtime. These initial class values are bound to\n                        // a constant because the inital class values do not change (since they're static).\n                        paramsList.push(this.constantPool.getConstLiteral(literalArr(initialClassDeclarations), true));\n                    }\n                    else if (initialStyleDeclarations.length || useDefaultStyleSanitizer) {\n                        // no point in having an extra `null` value unless there are follow-up params\n                        paramsList.push(NULL_EXPR);\n                    }\n                    if (initialStyleDeclarations.length) {\n                        // the template compiler handles initial style (e.g. style=\"foo\") values\n                        // in a special command called `elementStyle` so that the initial styles\n                        // can be processed during runtime. These initial styles values are bound to\n                        // a constant because the inital style values do not change (since they're static).\n                        paramsList.push(this.constantPool.getConstLiteral(literalArr(initialStyleDeclarations), true));\n                    }\n                    else if (useDefaultStyleSanitizer) {\n                        // no point in having an extra `null` value unless there are follow-up params\n                        paramsList.push(NULL_EXPR);\n                    }\n                    if (useDefaultStyleSanitizer) {\n                        paramsList.push(importExpr(Identifiers$1.defaultStyleSanitizer));\n                    }\n                    this._creationCode.push(importExpr(Identifiers$1.elementStyling).callFn(paramsList).toStmt());\n                }\n                // Generate Listeners (outputs)\n                element.outputs.forEach(function (outputAst) {\n                    var elName = sanitizeIdentifier(element.name);\n                    var evName = sanitizeIdentifier(outputAst.name);\n                    var functionName = _this.templateName + \"_\" + elName + \"_\" + evName + \"_listener\";\n                    var localVars = [];\n                    var bindingScope = _this._bindingScope.nestedScope(function (lhsVar, rhsExpression) {\n                        localVars.push(lhsVar.set(rhsExpression).toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]));\n                    });\n                    var bindingExpr = convertActionBinding(bindingScope, implicit, outputAst.handler, 'b', function () { return error('Unexpected interpolation'); });\n                    var handler = fn([new FnParam('$event', DYNAMIC_TYPE)], __spread(localVars, bindingExpr.render3Stmts), INFERRED_TYPE, null, functionName);\n                    _this.instruction(_this._creationCode, outputAst.sourceSpan, Identifiers$1.listener, literal(outputAst.name), handler);\n                });\n            }\n            if ((styleInputs.length || classInputs.length) && hasStylingInstructions) {\n                var indexLiteral = literal(elementIndex);\n                var firstStyle = styleInputs[0];\n                var mapBasedStyleInput = firstStyle && firstStyle.name == 'style' ? firstStyle : null;\n                var firstClass = classInputs[0];\n                var mapBasedClassInput = firstClass && isClassBinding(firstClass) ? firstClass : null;\n                var stylingInput = mapBasedStyleInput || mapBasedClassInput;\n                if (stylingInput) {\n                    var params = [];\n                    if (mapBasedClassInput) {\n                        params.push(this.convertPropertyBinding(implicit, mapBasedClassInput.value, true));\n                    }\n                    else if (mapBasedStyleInput) {\n                        params.push(NULL_EXPR);\n                    }\n                    if (mapBasedStyleInput) {\n                        params.push(this.convertPropertyBinding(implicit, mapBasedStyleInput.value, true));\n                    }\n                    this.instruction.apply(this, __spread([this._bindingCode, stylingInput.sourceSpan, Identifiers$1.elementStylingMap, indexLiteral], params));\n                }\n                var lastInputCommand = null;\n                if (styleInputs.length) {\n                    var i = mapBasedStyleInput ? 1 : 0;\n                    for (i; i < styleInputs.length; i++) {\n                        var input = styleInputs[i];\n                        var convertedBinding = this.convertPropertyBinding(implicit, input.value, true);\n                        var params = [convertedBinding];\n                        var sanitizationRef = resolveSanitizationFn(input, input.securityContext);\n                        if (sanitizationRef) {\n                            params.push(sanitizationRef);\n                        }\n                        var key = input.name;\n                        var styleIndex = stylesIndexMap[key];\n                        this.instruction.apply(this, __spread([this._bindingCode, input.sourceSpan, Identifiers$1.elementStyleProp, indexLiteral,\n                            literal(styleIndex)], params));\n                    }\n                    lastInputCommand = styleInputs[styleInputs.length - 1];\n                }\n                if (classInputs.length) {\n                    var i = mapBasedClassInput ? 1 : 0;\n                    for (i; i < classInputs.length; i++) {\n                        var input = classInputs[i];\n                        var convertedBinding = this.convertPropertyBinding(implicit, input.value, true);\n                        var params = [convertedBinding];\n                        var sanitizationRef = resolveSanitizationFn(input, input.securityContext);\n                        if (sanitizationRef) {\n                            params.push(sanitizationRef);\n                        }\n                        var key = input.name;\n                        var classIndex = classesIndexMap[key];\n                        this.instruction.apply(this, __spread([this._bindingCode, input.sourceSpan, Identifiers$1.elementClassProp, indexLiteral,\n                            literal(classIndex)], params));\n                    }\n                    lastInputCommand = classInputs[classInputs.length - 1];\n                }\n                this.instruction(this._bindingCode, lastInputCommand.sourceSpan, Identifiers$1.elementStylingApply, indexLiteral);\n            }\n            // Generate element input bindings\n            allOtherInputs.forEach(function (input) {\n                if (input.type === 4 /* Animation */) {\n                    console.error('warning: animation bindings not yet supported');\n                    return;\n                }\n                var convertedBinding = _this.convertPropertyBinding(implicit, input.value);\n                var instruction = mapBindingToInstruction(input.type);\n                if (instruction) {\n                    var params = [convertedBinding];\n                    var sanitizationRef = resolveSanitizationFn(input, input.securityContext);\n                    if (sanitizationRef) {\n                        params.push(sanitizationRef);\n                    }\n                    // TODO(chuckj): runtime: security context?\n                    _this.instruction.apply(_this, __spread([_this._bindingCode, input.sourceSpan, instruction, literal(elementIndex),\n                        literal(input.name)], params));\n                }\n                else {\n                    _this._unsupported(\"binding type \" + input.type);\n                }\n            });\n            // Traverse element child nodes\n            if (this._inI18nSection && element.children.length == 1 &&\n                element.children[0] instanceof Text$3) {\n                var text = element.children[0];\n                this.visitSingleI18nTextChild(text, i18nMeta);\n            }\n            else {\n                visitAll$1(this, element.children);\n            }\n            if (!createSelfClosingInstruction) {\n                // Finish element construction mode.\n                this.instruction(this._creationCode, element.endSourceSpan || element.sourceSpan, Identifiers$1.elementEnd);\n            }\n            // Restore the state before exiting this node\n            this._inI18nSection = wasInI18nSection;\n        };\n        TemplateDefinitionBuilder.prototype.visitTemplate = function (template) {\n            var _this = this;\n            var templateIndex = this.allocateDataSlot();\n            var elName = '';\n            if (template.children.length === 1 && template.children[0] instanceof Element$1) {\n                // When the template as a single child, derive the context name from the tag\n                elName = sanitizeIdentifier(template.children[0].name);\n            }\n            var contextName = elName ? this.contextName + \"_\" + elName : '';\n            var templateName = contextName ? contextName + \"_Template_\" + templateIndex : \"Template_\" + templateIndex;\n            var templateContext = \"ctx\" + this.level;\n            var parameters = [\n                literal(templateIndex),\n                variable(templateName),\n                TYPED_NULL_EXPR,\n            ];\n            var attributeNames = [];\n            var attributeMap = {};\n            template.attributes.forEach(function (a) {\n                attributeNames.push(asLiteral(a.name), asLiteral(''));\n                attributeMap[a.name] = a.value;\n            });\n            // Match directives on template attributes\n            if (this.directiveMatcher) {\n                var selector = createCssSelector('ng-template', attributeMap);\n                this.directiveMatcher.match(selector, function (cssSelector, staticType) { _this.directives.add(staticType); });\n            }\n            if (attributeNames.length) {\n                parameters.push(this.constantPool.getConstLiteral(literalArr(attributeNames), true));\n            }\n            // e.g. C(1, C1Template)\n            this.instruction.apply(this, __spread([this._creationCode, template.sourceSpan, Identifiers$1.containerCreate], trimTrailingNulls(parameters)));\n            // e.g. p(1, 'forOf', ɵb(ctx.items));\n            var context = variable(CONTEXT_NAME);\n            template.inputs.forEach(function (input) {\n                var convertedBinding = _this.convertPropertyBinding(context, input.value);\n                _this.instruction(_this._bindingCode, template.sourceSpan, Identifiers$1.elementProperty, literal(templateIndex), literal(input.name), convertedBinding);\n            });\n            // Create the template function\n            var templateVisitor = new TemplateDefinitionBuilder(this.constantPool, templateContext, this._bindingScope, this.level + 1, contextName, templateName, [], this.directiveMatcher, this.directives, this.pipeTypeByName, this.pipes, this._namespace);\n            var templateFunctionExpr = templateVisitor.buildTemplateFunction(template.children, template.variables);\n            this._postfixCode.push(templateFunctionExpr.toDeclStmt(templateName, null));\n        };\n        TemplateDefinitionBuilder.prototype.visitBoundText = function (text) {\n            var nodeIndex = this.allocateDataSlot();\n            this.instruction(this._creationCode, text.sourceSpan, Identifiers$1.text, literal(nodeIndex));\n            this.instruction(this._bindingCode, text.sourceSpan, Identifiers$1.textBinding, literal(nodeIndex), this.convertPropertyBinding(variable(CONTEXT_NAME), text.value));\n        };\n        TemplateDefinitionBuilder.prototype.visitText = function (text) {\n            this.instruction(this._creationCode, text.sourceSpan, Identifiers$1.text, literal(this.allocateDataSlot()), literal(text.value));\n        };\n        // When the content of the element is a single text node the translation can be inlined:\n        //\n        // `<p i18n=\"desc|mean\">some content</p>`\n        // compiles to\n        // ```\n        // /**\n        // * @desc desc\n        // * @meaning mean\n        // */\n        // const MSG_XYZ = goog.getMsg('some content');\n        // i0.ɵT(1, MSG_XYZ);\n        // ```\n        TemplateDefinitionBuilder.prototype.visitSingleI18nTextChild = function (text, i18nMeta) {\n            var meta = parseI18nMeta(i18nMeta);\n            var variable$$1 = this.constantPool.getTranslation(text.value, meta);\n            this.instruction(this._creationCode, text.sourceSpan, Identifiers$1.text, literal(this.allocateDataSlot()), variable$$1);\n        };\n        TemplateDefinitionBuilder.prototype.allocateDataSlot = function () { return this._dataIndex++; };\n        TemplateDefinitionBuilder.prototype.bindingContext = function () { return \"\" + this._bindingContext++; };\n        TemplateDefinitionBuilder.prototype.instruction = function (statements, span, reference) {\n            var params = [];\n            for (var _i = 3; _i < arguments.length; _i++) {\n                params[_i - 3] = arguments[_i];\n            }\n            statements.push(importExpr(reference, null, span).callFn(params, span).toStmt());\n        };\n        TemplateDefinitionBuilder.prototype.convertPropertyBinding = function (implicit, value, skipBindFn) {\n            var _a, _b;\n            var pipesConvertedValue = value.visit(this._valueConverter);\n            if (pipesConvertedValue instanceof Interpolation) {\n                var convertedPropertyBinding = convertPropertyBinding(this, implicit, pipesConvertedValue, this.bindingContext(), BindingForm.TrySimple, interpolate);\n                (_a = this._bindingCode).push.apply(_a, __spread(convertedPropertyBinding.stmts));\n                return convertedPropertyBinding.currValExpr;\n            }\n            else {\n                var convertedPropertyBinding = convertPropertyBinding(this, implicit, pipesConvertedValue, this.bindingContext(), BindingForm.TrySimple, function () { return error('Unexpected interpolation'); });\n                (_b = this._bindingCode).push.apply(_b, __spread(convertedPropertyBinding.stmts));\n                var valExpr = convertedPropertyBinding.currValExpr;\n                return skipBindFn ? valExpr : importExpr(Identifiers$1.bind).callFn([valExpr]);\n            }\n        };\n        return TemplateDefinitionBuilder;\n    }());\n    var ValueConverter = /** @class */ (function (_super) {\n        __extends(ValueConverter, _super);\n        function ValueConverter(constantPool, allocateSlot, allocatePureFunctionSlots, definePipe) {\n            var _this = _super.call(this) || this;\n            _this.constantPool = constantPool;\n            _this.allocateSlot = allocateSlot;\n            _this.allocatePureFunctionSlots = allocatePureFunctionSlots;\n            _this.definePipe = definePipe;\n            return _this;\n        }\n        // AstMemoryEfficientTransformer\n        ValueConverter.prototype.visitPipe = function (pipe, context) {\n            // Allocate a slot to create the pipe\n            var slot = this.allocateSlot();\n            var slotPseudoLocal = \"PIPE:\" + slot;\n            // Allocate one slot for the result plus one slot per pipe argument\n            var pureFunctionSlot = this.allocatePureFunctionSlots(2 + pipe.args.length);\n            var target = new PropertyRead(pipe.span, new ImplicitReceiver(pipe.span), slotPseudoLocal);\n            var _a = pipeBindingCallInfo(pipe.args), identifier = _a.identifier, isVarLength = _a.isVarLength;\n            this.definePipe(pipe.name, slotPseudoLocal, slot, importExpr(identifier));\n            var args = __spread([pipe.exp], pipe.args);\n            var convertedArgs = isVarLength ? this.visitAll([new LiteralArray(pipe.span, args)]) : this.visitAll(args);\n            return new FunctionCall(pipe.span, target, __spread([\n                new LiteralPrimitive(pipe.span, slot),\n                new LiteralPrimitive(pipe.span, pureFunctionSlot)\n            ], convertedArgs));\n        };\n        ValueConverter.prototype.visitLiteralArray = function (array, context) {\n            var _this = this;\n            return new BuiltinFunctionCall(array.span, this.visitAll(array.expressions), function (values) {\n                // If the literal has calculated (non-literal) elements transform it into\n                // calls to literal factories that compose the literal and will cache intermediate\n                // values. Otherwise, just return an literal array that contains the values.\n                var literal$$1 = literalArr(values);\n                return values.every(function (a) { return a.isConstant(); }) ?\n                    _this.constantPool.getConstLiteral(literal$$1, true) :\n                    getLiteralFactory(_this.constantPool, literal$$1, _this.allocatePureFunctionSlots);\n            });\n        };\n        ValueConverter.prototype.visitLiteralMap = function (map, context) {\n            var _this = this;\n            return new BuiltinFunctionCall(map.span, this.visitAll(map.values), function (values) {\n                // If the literal has calculated (non-literal) elements  transform it into\n                // calls to literal factories that compose the literal and will cache intermediate\n                // values. Otherwise, just return an literal array that contains the values.\n                var literal$$1 = literalMap(values.map(function (value, index) { return ({ key: map.keys[index].key, value: value, quoted: map.keys[index].quoted }); }));\n                return values.every(function (a) { return a.isConstant(); }) ?\n                    _this.constantPool.getConstLiteral(literal$$1, true) :\n                    getLiteralFactory(_this.constantPool, literal$$1, _this.allocatePureFunctionSlots);\n            });\n        };\n        return ValueConverter;\n    }(AstMemoryEfficientTransformer));\n    // Pipes always have at least one parameter, the value they operate on\n    var pipeBindingIdentifiers = [Identifiers$1.pipeBind1, Identifiers$1.pipeBind2, Identifiers$1.pipeBind3, Identifiers$1.pipeBind4];\n    function pipeBindingCallInfo(args) {\n        var identifier = pipeBindingIdentifiers[args.length];\n        return {\n            identifier: identifier || Identifiers$1.pipeBindV,\n            isVarLength: !identifier,\n        };\n    }\n    var pureFunctionIdentifiers = [\n        Identifiers$1.pureFunction0, Identifiers$1.pureFunction1, Identifiers$1.pureFunction2, Identifiers$1.pureFunction3, Identifiers$1.pureFunction4,\n        Identifiers$1.pureFunction5, Identifiers$1.pureFunction6, Identifiers$1.pureFunction7, Identifiers$1.pureFunction8\n    ];\n    function pureFunctionCallInfo(args) {\n        var identifier = pureFunctionIdentifiers[args.length];\n        return {\n            identifier: identifier || Identifiers$1.pureFunctionV,\n            isVarLength: !identifier,\n        };\n    }\n    function getLiteralFactory(constantPool, literal$$1, allocateSlots) {\n        var _a = constantPool.getLiteralFactory(literal$$1), literalFactory = _a.literalFactory, literalFactoryArguments = _a.literalFactoryArguments;\n        // Allocate 1 slot for the result plus 1 per argument\n        var startSlot = allocateSlots(1 + literalFactoryArguments.length);\n        literalFactoryArguments.length > 0 || error(\"Expected arguments to a literal factory function\");\n        var _b = pureFunctionCallInfo(literalFactoryArguments), identifier = _b.identifier, isVarLength = _b.isVarLength;\n        // Literal factories are pure functions that only need to be re-invoked when the parameters\n        // change.\n        var args = [\n            literal(startSlot),\n            literalFactory,\n        ];\n        if (isVarLength) {\n            args.push(literalArr(literalFactoryArguments));\n        }\n        else {\n            args.push.apply(args, __spread(literalFactoryArguments));\n        }\n        return importExpr(identifier).callFn(args);\n    }\n    var BindingScope = /** @class */ (function () {\n        function BindingScope(parent, declareLocalVarCallback) {\n            if (parent === void 0) { parent = null; }\n            if (declareLocalVarCallback === void 0) { declareLocalVarCallback = noop; }\n            this.parent = parent;\n            this.declareLocalVarCallback = declareLocalVarCallback;\n            /**\n             * Keeps a map from local variables to their expressions.\n             *\n             * This is used when one refers to variable such as: 'let abc = a.b.c`.\n             * - key to the map is the string literal `\"abc\"`.\n             * - value `lhs` is the left hand side which is an AST representing `abc`.\n             * - value `rhs` is the right hand side which is an AST representing `a.b.c`.\n             * - value `declared` is true if the `declareLocalVarCallback` has been called for this scope\n             * already.\n             */\n            this.map = new Map();\n            this.referenceNameIndex = 0;\n        }\n        Object.defineProperty(BindingScope, \"ROOT_SCOPE\", {\n            get: function () {\n                if (!BindingScope._ROOT_SCOPE) {\n                    BindingScope._ROOT_SCOPE = new BindingScope().set('$event', variable('$event'));\n                }\n                return BindingScope._ROOT_SCOPE;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        BindingScope.prototype.get = function (name) {\n            var current = this;\n            while (current) {\n                var value = current.map.get(name);\n                if (value != null) {\n                    if (current !== this) {\n                        // make a local copy and reset the `declared` state.\n                        value = { lhs: value.lhs, rhs: value.rhs, declared: false };\n                        // Cache the value locally.\n                        this.map.set(name, value);\n                    }\n                    if (value.rhs && !value.declared) {\n                        // if it is first time we are referencing the variable in the scope\n                        // than invoke the callback to insert variable declaration.\n                        this.declareLocalVarCallback(value.lhs, value.rhs);\n                        value.declared = true;\n                    }\n                    return value.lhs;\n                }\n                current = current.parent;\n            }\n            return null;\n        };\n        /**\n         * Create a local variable for later reference.\n         *\n         * @param name Name of the variable.\n         * @param lhs AST representing the left hand side of the `let lhs = rhs;`.\n         * @param rhs AST representing the right hand side of the `let lhs = rhs;`. The `rhs` can be\n         * `undefined` for variable that are ambient such as `$event` and which don't have `rhs`\n         * declaration.\n         */\n        BindingScope.prototype.set = function (name, lhs, rhs) {\n            !this.map.has(name) ||\n                error(\"The name \" + name + \" is already defined in scope to be \" + this.map.get(name));\n            this.map.set(name, { lhs: lhs, rhs: rhs, declared: false });\n            return this;\n        };\n        BindingScope.prototype.getLocal = function (name) { return this.get(name); };\n        BindingScope.prototype.nestedScope = function (declareCallback) {\n            return new BindingScope(this, declareCallback);\n        };\n        BindingScope.prototype.freshReferenceName = function () {\n            var current = this;\n            // Find the top scope as it maintains the global reference count\n            while (current.parent)\n                current = current.parent;\n            var ref = \"\" + REFERENCE_PREFIX + current.referenceNameIndex++;\n            return ref;\n        };\n        return BindingScope;\n    }());\n    /**\n     * Creates a `CssSelector` given a tag name and a map of attributes\n     */\n    function createCssSelector(tag, attributes) {\n        var cssSelector = new CssSelector();\n        cssSelector.setElement(tag);\n        Object.getOwnPropertyNames(attributes).forEach(function (name) {\n            var value = attributes[name];\n            cssSelector.addAttribute(name, value);\n            if (name.toLowerCase() === 'class') {\n                var classes = value.trim().split(/\\s+/g);\n                classes.forEach(function (className) { return cssSelector.addClassName(className); });\n            }\n        });\n        return cssSelector;\n    }\n    // Parse i18n metas like:\n    // - \"@@id\",\n    // - \"description[@@id]\",\n    // - \"meaning|description[@@id]\"\n    function parseI18nMeta(i18n) {\n        var _a, _b;\n        var meaning;\n        var description;\n        var id;\n        if (i18n) {\n            // TODO(vicb): figure out how to force a message ID with closure ?\n            var idIndex = i18n.indexOf(ID_SEPARATOR$1);\n            var descIndex = i18n.indexOf(MEANING_SEPARATOR$1);\n            var meaningAndDesc = void 0;\n            _a = __read((idIndex > -1) ? [i18n.slice(0, idIndex), i18n.slice(idIndex + 2)] : [i18n, ''], 2), meaningAndDesc = _a[0], id = _a[1];\n            _b = __read((descIndex > -1) ?\n                [meaningAndDesc.slice(0, descIndex), meaningAndDesc.slice(descIndex + 1)] :\n                ['', meaningAndDesc], 2), meaning = _b[0], description = _b[1];\n        }\n        return { description: description, id: id, meaning: meaning };\n    }\n    function interpolate(args) {\n        args = args.slice(1); // Ignore the length prefix added for render2\n        switch (args.length) {\n            case 3:\n                return importExpr(Identifiers$1.interpolation1).callFn(args);\n            case 5:\n                return importExpr(Identifiers$1.interpolation2).callFn(args);\n            case 7:\n                return importExpr(Identifiers$1.interpolation3).callFn(args);\n            case 9:\n                return importExpr(Identifiers$1.interpolation4).callFn(args);\n            case 11:\n                return importExpr(Identifiers$1.interpolation5).callFn(args);\n            case 13:\n                return importExpr(Identifiers$1.interpolation6).callFn(args);\n            case 15:\n                return importExpr(Identifiers$1.interpolation7).callFn(args);\n            case 17:\n                return importExpr(Identifiers$1.interpolation8).callFn(args);\n        }\n        (args.length >= 19 && args.length % 2 == 1) ||\n            error(\"Invalid interpolation argument length \" + args.length);\n        return importExpr(Identifiers$1.interpolationV).callFn([literalArr(args)]);\n    }\n    /**\n     * Parse a template into render3 `Node`s and additional metadata, with no other dependencies.\n     *\n     * @param template text of the template to parse\n     * @param templateUrl URL to use for source mapping of the parsed template\n     */\n    function parseTemplate(template, templateUrl, options) {\n        if (options === void 0) { options = {}; }\n        var bindingParser = makeBindingParser();\n        var htmlParser = new HtmlParser();\n        var parseResult = htmlParser.parse(template, templateUrl);\n        if (parseResult.errors && parseResult.errors.length > 0) {\n            return { errors: parseResult.errors, nodes: [], hasNgContent: false, ngContentSelectors: [] };\n        }\n        var rootNodes = parseResult.rootNodes;\n        if (!options.preserveWhitespaces) {\n            rootNodes = visitAll(new WhitespaceVisitor(), rootNodes);\n        }\n        var _a = htmlAstToRender3Ast(rootNodes, bindingParser), nodes = _a.nodes, hasNgContent = _a.hasNgContent, ngContentSelectors = _a.ngContentSelectors, errors = _a.errors;\n        if (errors && errors.length > 0) {\n            return { errors: errors, nodes: [], hasNgContent: false, ngContentSelectors: [] };\n        }\n        return { nodes: nodes, hasNgContent: hasNgContent, ngContentSelectors: ngContentSelectors };\n    }\n    /**\n     * Construct a `BindingParser` with a default configuration.\n     */\n    function makeBindingParser() {\n        return new BindingParser(new Parser(new Lexer()), DEFAULT_INTERPOLATION_CONFIG, new DomElementSchemaRegistry(), null, []);\n    }\n    function isClassBinding(input) {\n        return input.name == 'className' || input.name == 'class';\n    }\n    function resolveSanitizationFn(input, context) {\n        switch (context) {\n            case SecurityContext.HTML:\n                return importExpr(Identifiers$1.sanitizeHtml);\n            case SecurityContext.SCRIPT:\n                return importExpr(Identifiers$1.sanitizeScript);\n            case SecurityContext.STYLE:\n                // the compiler does not fill in an instruction for [style.prop?] binding\n                // values because the style algorithm knows internally what props are subject\n                // to sanitization (only [attr.style] values are explicitly sanitized)\n                return input.type === 1 /* Attribute */ ? importExpr(Identifiers$1.sanitizeStyle) : null;\n            case SecurityContext.URL:\n                return importExpr(Identifiers$1.sanitizeUrl);\n            case SecurityContext.RESOURCE_URL:\n                return importExpr(Identifiers$1.sanitizeResourceUrl);\n            default:\n                return null;\n        }\n    }\n    function isStyleSanitizable(prop) {\n        switch (prop) {\n            case 'background-image':\n            case 'background':\n            case 'border-image':\n            case 'filter':\n            case 'list-style':\n            case 'list-style-image':\n                return true;\n        }\n        return false;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function baseDirectiveFields(meta, constantPool, bindingParser) {\n        var definitionMap = new DefinitionMap();\n        // e.g. `type: MyDirective`\n        definitionMap.set('type', meta.type);\n        // e.g. `selectors: [['', 'someDir', '']]`\n        definitionMap.set('selectors', createDirectiveSelector(meta.selector));\n        // e.g. `factory: () => new MyApp(injectElementRef())`\n        definitionMap.set('factory', compileFactoryFunction({\n            name: meta.name,\n            fnOrClass: meta.type,\n            deps: meta.deps,\n            useNew: true,\n            injectFn: Identifiers$1.directiveInject,\n        }));\n        definitionMap.set('contentQueries', createContentQueriesFunction(meta, constantPool));\n        definitionMap.set('contentQueriesRefresh', createContentQueriesRefreshFunction(meta));\n        // e.g. `hostBindings: (dirIndex, elIndex) => { ... }\n        definitionMap.set('hostBindings', createHostBindingsFunction(meta, bindingParser));\n        // e.g. `attributes: ['role', 'listbox']`\n        definitionMap.set('attributes', createHostAttributesArray(meta));\n        // e.g 'inputs: {a: 'a'}`\n        definitionMap.set('inputs', conditionallyCreateMapObjectLiteral(meta.inputs));\n        // e.g 'outputs: {a: 'a'}`\n        definitionMap.set('outputs', conditionallyCreateMapObjectLiteral(meta.outputs));\n        // e.g. `features: [NgOnChangesFeature]`\n        var features = [];\n        if (meta.usesInheritance) {\n            features.push(importExpr(Identifiers$1.InheritDefinitionFeature));\n        }\n        if (meta.lifecycle.usesOnChanges) {\n            features.push(importExpr(Identifiers$1.NgOnChangesFeature));\n        }\n        if (features.length) {\n            definitionMap.set('features', literalArr(features));\n        }\n        return definitionMap;\n    }\n    /**\n     * Compile a directive for the render3 runtime as defined by the `R3DirectiveMetadata`.\n     */\n    function compileDirectiveFromMetadata(meta, constantPool, bindingParser) {\n        var definitionMap = baseDirectiveFields(meta, constantPool, bindingParser);\n        var expression = importExpr(Identifiers$1.defineDirective).callFn([definitionMap.toLiteralMap()]);\n        // On the type side, remove newlines from the selector as it will need to fit into a TypeScript\n        // string literal, which must be on one line.\n        var selectorForType = (meta.selector || '').replace(/\\n/g, '');\n        var type = new ExpressionType(importExpr(Identifiers$1.DirectiveDef, [\n            typeWithParameters(meta.type, meta.typeArgumentCount),\n            new ExpressionType(literal(selectorForType))\n        ]));\n        return { expression: expression, type: type };\n    }\n    /**\n     * Compile a component for the render3 runtime as defined by the `R3ComponentMetadata`.\n     */\n    function compileComponentFromMetadata(meta, constantPool, bindingParser) {\n        var definitionMap = baseDirectiveFields(meta, constantPool, bindingParser);\n        var selector = meta.selector && CssSelector.parse(meta.selector);\n        var firstSelector = selector && selector[0];\n        // e.g. `attr: [\"class\", \".my.app\"]`\n        // This is optional an only included if the first selector of a component specifies attributes.\n        if (firstSelector) {\n            var selectorAttributes = firstSelector.getAttrs();\n            if (selectorAttributes.length) {\n                definitionMap.set('attrs', constantPool.getConstLiteral(literalArr(selectorAttributes.map(function (value) { return value != null ? literal(value) : literal(undefined); })), \n                /* forceShared */ true));\n            }\n        }\n        // Generate the CSS matcher that recognize directive\n        var directiveMatcher = null;\n        if (meta.directives.size) {\n            var matcher_1 = new SelectorMatcher();\n            meta.directives.forEach(function (expression, selector) {\n                matcher_1.addSelectables(CssSelector.parse(selector), expression);\n            });\n            directiveMatcher = matcher_1;\n        }\n        if (meta.viewQueries.length) {\n            definitionMap.set('viewQuery', createViewQueriesFunction(meta, constantPool));\n        }\n        // e.g. `template: function MyComponent_Template(_ctx, _cm) {...}`\n        var templateTypeName = meta.name;\n        var templateName = templateTypeName ? templateTypeName + \"_Template\" : null;\n        var directivesUsed = new Set();\n        var pipesUsed = new Set();\n        var template = meta.template;\n        var templateFunctionExpression = new TemplateDefinitionBuilder(constantPool, CONTEXT_NAME, BindingScope.ROOT_SCOPE, 0, templateTypeName, templateName, meta.viewQueries, directiveMatcher, directivesUsed, meta.pipes, pipesUsed, Identifiers$1.namespaceHTML)\n            .buildTemplateFunction(template.nodes, [], template.hasNgContent, template.ngContentSelectors);\n        definitionMap.set('template', templateFunctionExpression);\n        // e.g. `directives: [MyDirective]`\n        if (directivesUsed.size) {\n            definitionMap.set('directives', literalArr(Array.from(directivesUsed)));\n        }\n        // e.g. `pipes: [MyPipe]`\n        if (pipesUsed.size) {\n            definitionMap.set('pipes', literalArr(Array.from(pipesUsed)));\n        }\n        // On the type side, remove newlines from the selector as it will need to fit into a TypeScript\n        // string literal, which must be on one line.\n        var selectorForType = (meta.selector || '').replace(/\\n/g, '');\n        var expression = importExpr(Identifiers$1.defineComponent).callFn([definitionMap.toLiteralMap()]);\n        var type = new ExpressionType(importExpr(Identifiers$1.ComponentDef, [\n            typeWithParameters(meta.type, meta.typeArgumentCount),\n            new ExpressionType(literal(selectorForType))\n        ]));\n        return { expression: expression, type: type };\n    }\n    /**\n     * A wrapper around `compileDirective` which depends on render2 global analysis data as its input\n     * instead of the `R3DirectiveMetadata`.\n     *\n     * `R3DirectiveMetadata` is computed from `CompileDirectiveMetadata` and other statically reflected\n     * information.\n     */\n    function compileDirectiveFromRender2(outputCtx, directive, reflector, bindingParser) {\n        var name = identifierName(directive.type);\n        name || error(\"Cannot resolver the name of \" + directive.type);\n        var definitionField = outputCtx.constantPool.propertyNameOf(1 /* Directive */);\n        var meta = directiveMetadataFromGlobalMetadata(directive, outputCtx, reflector);\n        var res = compileDirectiveFromMetadata(meta, outputCtx.constantPool, bindingParser);\n        // Create the partial class to be merged with the actual class.\n        outputCtx.statements.push(new ClassStmt(name, null, [new ClassField(definitionField, INFERRED_TYPE, [exports.StmtModifier.Static], res.expression)], [], new ClassMethod(null, [], []), []));\n    }\n    /**\n     * A wrapper around `compileComponent` which depends on render2 global analysis data as its input\n     * instead of the `R3DirectiveMetadata`.\n     *\n     * `R3ComponentMetadata` is computed from `CompileDirectiveMetadata` and other statically reflected\n     * information.\n     */\n    function compileComponentFromRender2(outputCtx, component, render3Ast, reflector, bindingParser, directiveTypeBySel, pipeTypeByName) {\n        var name = identifierName(component.type);\n        name || error(\"Cannot resolver the name of \" + component.type);\n        var definitionField = outputCtx.constantPool.propertyNameOf(2 /* Component */);\n        var summary = component.toSummary();\n        // Compute the R3ComponentMetadata from the CompileDirectiveMetadata\n        var meta = __assign({}, directiveMetadataFromGlobalMetadata(component, outputCtx, reflector), { selector: component.selector, template: {\n                nodes: render3Ast.nodes,\n                hasNgContent: render3Ast.hasNgContent,\n                ngContentSelectors: render3Ast.ngContentSelectors,\n            }, directives: typeMapToExpressionMap(directiveTypeBySel, outputCtx), pipes: typeMapToExpressionMap(pipeTypeByName, outputCtx), viewQueries: queriesFromGlobalMetadata(component.viewQueries, outputCtx) });\n        var res = compileComponentFromMetadata(meta, outputCtx.constantPool, bindingParser);\n        // Create the partial class to be merged with the actual class.\n        outputCtx.statements.push(new ClassStmt(name, null, [new ClassField(definitionField, INFERRED_TYPE, [exports.StmtModifier.Static], res.expression)], [], new ClassMethod(null, [], []), []));\n    }\n    /**\n     * Compute `R3DirectiveMetadata` given `CompileDirectiveMetadata` and a `CompileReflector`.\n     */\n    function directiveMetadataFromGlobalMetadata(directive, outputCtx, reflector) {\n        var summary = directive.toSummary();\n        var name = identifierName(directive.type);\n        name || error(\"Cannot resolver the name of \" + directive.type);\n        return {\n            name: name,\n            type: outputCtx.importExpr(directive.type.reference),\n            typeArgumentCount: 0,\n            typeSourceSpan: typeSourceSpan(directive.isComponent ? 'Component' : 'Directive', directive.type),\n            selector: directive.selector,\n            deps: dependenciesFromGlobalMetadata(directive.type, outputCtx, reflector),\n            queries: queriesFromGlobalMetadata(directive.queries, outputCtx),\n            lifecycle: {\n                usesOnChanges: directive.type.lifecycleHooks.some(function (lifecycle) { return lifecycle == LifecycleHooks.OnChanges; }),\n            },\n            host: {\n                attributes: directive.hostAttributes,\n                listeners: summary.hostListeners,\n                properties: summary.hostProperties,\n            },\n            inputs: directive.inputs,\n            outputs: directive.outputs,\n            usesInheritance: false,\n        };\n    }\n    /**\n     * Convert `CompileQueryMetadata` into `R3QueryMetadata`.\n     */\n    function queriesFromGlobalMetadata(queries, outputCtx) {\n        return queries.map(function (query) {\n            var read = null;\n            if (query.read && query.read.identifier) {\n                read = outputCtx.importExpr(query.read.identifier.reference);\n            }\n            return {\n                propertyName: query.propertyName,\n                first: query.first,\n                predicate: selectorsFromGlobalMetadata(query.selectors, outputCtx),\n                descendants: query.descendants, read: read,\n            };\n        });\n    }\n    /**\n     * Convert `CompileTokenMetadata` for query selectors into either an expression for a predicate\n     * type, or a list of string predicates.\n     */\n    function selectorsFromGlobalMetadata(selectors, outputCtx) {\n        if (selectors.length > 1 || (selectors.length == 1 && selectors[0].value)) {\n            var selectorStrings = selectors.map(function (value) { return value.value; });\n            selectorStrings.some(function (value) { return !value; }) &&\n                error('Found a type among the string selectors expected');\n            return outputCtx.constantPool.getConstLiteral(literalArr(selectorStrings.map(function (value) { return literal(value); })));\n        }\n        if (selectors.length == 1) {\n            var first = selectors[0];\n            if (first.identifier) {\n                return outputCtx.importExpr(first.identifier.reference);\n            }\n        }\n        error('Unexpected query form');\n        return NULL_EXPR;\n    }\n    function createQueryDefinition(query, constantPool, idx) {\n        var predicate = getQueryPredicate(query, constantPool);\n        // e.g. r3.Q(null, somePredicate, false) or r3.Q(0, ['div'], false)\n        var parameters = [\n            literal(idx, INFERRED_TYPE),\n            predicate,\n            literal(query.descendants),\n        ];\n        if (query.read) {\n            parameters.push(query.read);\n        }\n        return importExpr(Identifiers$1.query).callFn(parameters);\n    }\n    // Turn a directive selector into an R3-compatible selector for directive def\n    function createDirectiveSelector(selector) {\n        return asLiteral(parseSelectorToR3Selector(selector));\n    }\n    function createHostAttributesArray(meta) {\n        var e_1, _a;\n        var values = [];\n        var attributes = meta.host.attributes;\n        try {\n            for (var _b = __values(Object.getOwnPropertyNames(attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var value = attributes[key];\n                values.push(literal(key), literal(value));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (values.length > 0) {\n            return literalArr(values);\n        }\n        return null;\n    }\n    // Return a contentQueries function or null if one is not necessary.\n    function createContentQueriesFunction(meta, constantPool) {\n        if (meta.queries.length) {\n            var statements = meta.queries.map(function (query) {\n                var queryDefinition = createQueryDefinition(query, constantPool, null);\n                return importExpr(Identifiers$1.registerContentQuery).callFn([queryDefinition]).toStmt();\n            });\n            var typeName = meta.name;\n            return fn([], statements, INFERRED_TYPE, null, typeName ? typeName + \"_ContentQueries\" : null);\n        }\n        return null;\n    }\n    // Return a contentQueriesRefresh function or null if one is not necessary.\n    function createContentQueriesRefreshFunction(meta) {\n        if (meta.queries.length > 0) {\n            var statements_1 = [];\n            var typeName = meta.name;\n            var parameters = [\n                new FnParam('dirIndex', NUMBER_TYPE),\n                new FnParam('queryStartIndex', NUMBER_TYPE),\n            ];\n            var directiveInstanceVar_1 = variable('instance');\n            // var $tmp$: any;\n            var temporary_1 = temporaryAllocator(statements_1, TEMPORARY_NAME);\n            // const $instance$ = $r3$.ɵd(dirIndex);\n            statements_1.push(directiveInstanceVar_1.set(importExpr(Identifiers$1.loadDirective).callFn([variable('dirIndex')]))\n                .toDeclStmt(INFERRED_TYPE, [exports.StmtModifier.Final]));\n            meta.queries.forEach(function (query, idx) {\n                var loadQLArg = variable('queryStartIndex');\n                var getQueryList = importExpr(Identifiers$1.loadQueryList).callFn([\n                    idx > 0 ? loadQLArg.plus(literal(idx)) : loadQLArg\n                ]);\n                var assignToTemporary = temporary_1().set(getQueryList);\n                var callQueryRefresh = importExpr(Identifiers$1.queryRefresh).callFn([assignToTemporary]);\n                var updateDirective = directiveInstanceVar_1.prop(query.propertyName)\n                    .set(query.first ? temporary_1().prop('first') : temporary_1());\n                var refreshQueryAndUpdateDirective = callQueryRefresh.and(updateDirective);\n                statements_1.push(refreshQueryAndUpdateDirective.toStmt());\n            });\n            return fn(parameters, statements_1, INFERRED_TYPE, null, typeName ? typeName + \"_ContentQueriesRefresh\" : null);\n        }\n        return null;\n    }\n    // Define and update any view queries\n    function createViewQueriesFunction(meta, constantPool) {\n        var createStatements = [];\n        var updateStatements = [];\n        var tempAllocator = temporaryAllocator(updateStatements, TEMPORARY_NAME);\n        for (var i = 0; i < meta.viewQueries.length; i++) {\n            var query = meta.viewQueries[i];\n            // creation, e.g. r3.Q(0, somePredicate, true);\n            var queryDefinition = createQueryDefinition(query, constantPool, i);\n            createStatements.push(queryDefinition.toStmt());\n            // update, e.g. (r3.qR(tmp = r3.ɵld(0)) && (ctx.someDir = tmp));\n            var temporary = tempAllocator();\n            var getQueryList = importExpr(Identifiers$1.load).callFn([literal(i)]);\n            var refresh = importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]);\n            var updateDirective = variable(CONTEXT_NAME)\n                .prop(query.propertyName)\n                .set(query.first ? temporary.prop('first') : temporary);\n            updateStatements.push(refresh.and(updateDirective).toStmt());\n        }\n        var viewQueryFnName = meta.name ? meta.name + \"_Query\" : null;\n        return fn([new FnParam(RENDER_FLAGS, NUMBER_TYPE), new FnParam(CONTEXT_NAME, null)], [\n            renderFlagCheckIfStmt(1 /* Create */, createStatements),\n            renderFlagCheckIfStmt(2 /* Update */, updateStatements)\n        ], INFERRED_TYPE, null, viewQueryFnName);\n    }\n    // Return a host binding function or null if one is not necessary.\n    function createHostBindingsFunction(meta, bindingParser) {\n        var e_2, _a, e_3, _b;\n        var statements = [];\n        var hostBindingSourceSpan = meta.typeSourceSpan;\n        var directiveSummary = metadataAsSummary(meta);\n        // Calculate the host property bindings\n        var bindings = bindingParser.createBoundHostProperties(directiveSummary, hostBindingSourceSpan);\n        var bindingContext = importExpr(Identifiers$1.loadDirective).callFn([variable('dirIndex')]);\n        if (bindings) {\n            try {\n                for (var bindings_1 = __values(bindings), bindings_1_1 = bindings_1.next(); !bindings_1_1.done; bindings_1_1 = bindings_1.next()) {\n                    var binding = bindings_1_1.value;\n                    var bindingExpr = convertPropertyBinding(null, bindingContext, binding.expression, 'b', BindingForm.TrySimple, function () { return error('Unexpected interpolation'); });\n                    statements.push.apply(statements, __spread(bindingExpr.stmts));\n                    statements.push(importExpr(Identifiers$1.elementProperty)\n                        .callFn([\n                        variable('elIndex'),\n                        literal(binding.name),\n                        importExpr(Identifiers$1.bind).callFn([bindingExpr.currValExpr]),\n                    ])\n                        .toStmt());\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (bindings_1_1 && !bindings_1_1.done && (_a = bindings_1.return)) _a.call(bindings_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n        // Calculate host event bindings\n        var eventBindings = bindingParser.createDirectiveHostEventAsts(directiveSummary, hostBindingSourceSpan);\n        if (eventBindings) {\n            try {\n                for (var eventBindings_1 = __values(eventBindings), eventBindings_1_1 = eventBindings_1.next(); !eventBindings_1_1.done; eventBindings_1_1 = eventBindings_1.next()) {\n                    var binding = eventBindings_1_1.value;\n                    var bindingExpr = convertActionBinding(null, bindingContext, binding.handler, 'b', function () { return error('Unexpected interpolation'); });\n                    var bindingName = binding.name && sanitizeIdentifier(binding.name);\n                    var typeName = meta.name;\n                    var functionName = typeName && bindingName ? typeName + \"_\" + bindingName + \"_HostBindingHandler\" : null;\n                    var handler = fn([new FnParam('$event', DYNAMIC_TYPE)], __spread(bindingExpr.stmts, [new ReturnStatement(bindingExpr.allowDefault)]), INFERRED_TYPE, null, functionName);\n                    statements.push(importExpr(Identifiers$1.listener).callFn([literal(binding.name), handler]).toStmt());\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (eventBindings_1_1 && !eventBindings_1_1.done && (_b = eventBindings_1.return)) _b.call(eventBindings_1);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        if (statements.length > 0) {\n            var typeName = meta.name;\n            return fn([\n                new FnParam('dirIndex', NUMBER_TYPE),\n                new FnParam('elIndex', NUMBER_TYPE),\n            ], statements, INFERRED_TYPE, null, typeName ? typeName + \"_HostBindings\" : null);\n        }\n        return null;\n    }\n    function metadataAsSummary(meta) {\n        // clang-format off\n        return {\n            hostAttributes: meta.host.attributes,\n            hostListeners: meta.host.listeners,\n            hostProperties: meta.host.properties,\n        };\n        // clang-format on\n    }\n    function typeMapToExpressionMap(map, outputCtx) {\n        // Convert each map entry into another entry where the value is an expression importing the type.\n        var entries = Array.from(map).map(function (_a) {\n            var _b = __read(_a, 2), key = _b[0], type = _b[1];\n            return [key, outputCtx.importExpr(type)];\n        });\n        return new Map(entries);\n    }\n    var HOST_REG_EXP$1 = /^(?:(?:\\[([^\\]]+)\\])|(?:\\(([^\\)]+)\\)))|(\\@[-\\w]+)$/;\n    function parseHostBindings(host) {\n        var attributes = {};\n        var listeners = {};\n        var properties = {};\n        var animations = {};\n        Object.keys(host).forEach(function (key) {\n            var value = host[key];\n            var matches = key.match(HOST_REG_EXP$1);\n            if (matches === null) {\n                attributes[key] = value;\n            }\n            else if (matches[1 /* Property */] != null) {\n                properties[matches[1 /* Property */]] = value;\n            }\n            else if (matches[2 /* Event */] != null) {\n                listeners[matches[2 /* Event */]] = value;\n            }\n            else if (matches[3 /* Animation */] != null) {\n                animations[matches[3 /* Animation */]] = value;\n            }\n        });\n        return { attributes: attributes, listeners: listeners, properties: properties, animations: animations };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var GeneratedFile = /** @class */ (function () {\n        function GeneratedFile(srcFileUrl, genFileUrl, sourceOrStmts) {\n            this.srcFileUrl = srcFileUrl;\n            this.genFileUrl = genFileUrl;\n            if (typeof sourceOrStmts === 'string') {\n                this.source = sourceOrStmts;\n                this.stmts = null;\n            }\n            else {\n                this.source = null;\n                this.stmts = sourceOrStmts;\n            }\n        }\n        GeneratedFile.prototype.isEquivalent = function (other) {\n            if (this.genFileUrl !== other.genFileUrl) {\n                return false;\n            }\n            if (this.source) {\n                return this.source === other.source;\n            }\n            if (other.stmts == null) {\n                return false;\n            }\n            // Note: the constructor guarantees that if this.source is not filled,\n            // then this.stmts is.\n            return areAllEquivalent(this.stmts, other.stmts);\n        };\n        return GeneratedFile;\n    }());\n    function toTypeScript(file, preamble) {\n        if (preamble === void 0) { preamble = ''; }\n        if (!file.stmts) {\n            throw new Error(\"Illegal state: No stmts present on GeneratedFile \" + file.genFileUrl);\n        }\n        return new TypeScriptEmitter().emitStatements(file.genFileUrl, file.stmts, preamble);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function listLazyRoutes(moduleMeta, reflector) {\n        var e_1, _a, e_2, _b;\n        var allLazyRoutes = [];\n        try {\n            for (var _c = __values(moduleMeta.transitiveModule.providers), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var _e = _d.value, provider = _e.provider, module = _e.module;\n                if (tokenReference(provider.token) === reflector.ROUTES) {\n                    var loadChildren = _collectLoadChildren(provider.useValue);\n                    try {\n                        for (var loadChildren_1 = __values(loadChildren), loadChildren_1_1 = loadChildren_1.next(); !loadChildren_1_1.done; loadChildren_1_1 = loadChildren_1.next()) {\n                            var route = loadChildren_1_1.value;\n                            allLazyRoutes.push(parseLazyRoute(route, reflector, module.reference));\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (loadChildren_1_1 && !loadChildren_1_1.done && (_b = loadChildren_1.return)) _b.call(loadChildren_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return allLazyRoutes;\n    }\n    function _collectLoadChildren(routes, target) {\n        if (target === void 0) { target = []; }\n        var e_3, _a;\n        if (typeof routes === 'string') {\n            target.push(routes);\n        }\n        else if (Array.isArray(routes)) {\n            try {\n                for (var routes_1 = __values(routes), routes_1_1 = routes_1.next(); !routes_1_1.done; routes_1_1 = routes_1.next()) {\n                    var route = routes_1_1.value;\n                    _collectLoadChildren(route, target);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (routes_1_1 && !routes_1_1.done && (_a = routes_1.return)) _a.call(routes_1);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        else if (routes.loadChildren) {\n            _collectLoadChildren(routes.loadChildren, target);\n        }\n        else if (routes.children) {\n            _collectLoadChildren(routes.children, target);\n        }\n        return target;\n    }\n    function parseLazyRoute(route, reflector, module) {\n        var _a = __read(route.split('#'), 2), routePath = _a[0], routeName = _a[1];\n        var referencedModule = reflector.resolveExternalReference({\n            moduleName: routePath,\n            name: routeName,\n        }, module ? module.filePath : undefined);\n        return { route: route, module: module || referencedModule, referencedModule: referencedModule };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var TS = /^(?!.*\\.d\\.ts$).*\\.ts$/;\n    var ResolvedStaticSymbol = /** @class */ (function () {\n        function ResolvedStaticSymbol(symbol, metadata) {\n            this.symbol = symbol;\n            this.metadata = metadata;\n        }\n        return ResolvedStaticSymbol;\n    }());\n    var SUPPORTED_SCHEMA_VERSION = 4;\n    /**\n     * This class is responsible for loading metadata per symbol,\n     * and normalizing references between symbols.\n     *\n     * Internally, it only uses symbols without members,\n     * and deduces the values for symbols with members based\n     * on these symbols.\n     */\n    var StaticSymbolResolver = /** @class */ (function () {\n        function StaticSymbolResolver(host, staticSymbolCache, summaryResolver, errorRecorder) {\n            this.host = host;\n            this.staticSymbolCache = staticSymbolCache;\n            this.summaryResolver = summaryResolver;\n            this.errorRecorder = errorRecorder;\n            this.metadataCache = new Map();\n            // Note: this will only contain StaticSymbols without members!\n            this.resolvedSymbols = new Map();\n            this.resolvedFilePaths = new Set();\n            // Note: this will only contain StaticSymbols without members!\n            this.importAs = new Map();\n            this.symbolResourcePaths = new Map();\n            this.symbolFromFile = new Map();\n            this.knownFileNameToModuleNames = new Map();\n        }\n        StaticSymbolResolver.prototype.resolveSymbol = function (staticSymbol) {\n            if (staticSymbol.members.length > 0) {\n                return this._resolveSymbolMembers(staticSymbol);\n            }\n            // Note: always ask for a summary first,\n            // as we might have read shallow metadata via a .d.ts file\n            // for the symbol.\n            var resultFromSummary = this._resolveSymbolFromSummary(staticSymbol);\n            if (resultFromSummary) {\n                return resultFromSummary;\n            }\n            var resultFromCache = this.resolvedSymbols.get(staticSymbol);\n            if (resultFromCache) {\n                return resultFromCache;\n            }\n            // Note: Some users use libraries that were not compiled with ngc, i.e. they don't\n            // have summaries, only .d.ts files. So we always need to check both, the summary\n            // and metadata.\n            this._createSymbolsOf(staticSymbol.filePath);\n            return this.resolvedSymbols.get(staticSymbol);\n        };\n        /**\n         * getImportAs produces a symbol that can be used to import the given symbol.\n         * The import might be different than the symbol if the symbol is exported from\n         * a library with a summary; in which case we want to import the symbol from the\n         * ngfactory re-export instead of directly to avoid introducing a direct dependency\n         * on an otherwise indirect dependency.\n         *\n         * @param staticSymbol the symbol for which to generate a import symbol\n         */\n        StaticSymbolResolver.prototype.getImportAs = function (staticSymbol, useSummaries) {\n            if (useSummaries === void 0) { useSummaries = true; }\n            if (staticSymbol.members.length) {\n                var baseSymbol = this.getStaticSymbol(staticSymbol.filePath, staticSymbol.name);\n                var baseImportAs = this.getImportAs(baseSymbol, useSummaries);\n                return baseImportAs ?\n                    this.getStaticSymbol(baseImportAs.filePath, baseImportAs.name, staticSymbol.members) :\n                    null;\n            }\n            var summarizedFileName = stripSummaryForJitFileSuffix(staticSymbol.filePath);\n            if (summarizedFileName !== staticSymbol.filePath) {\n                var summarizedName = stripSummaryForJitNameSuffix(staticSymbol.name);\n                var baseSymbol = this.getStaticSymbol(summarizedFileName, summarizedName, staticSymbol.members);\n                var baseImportAs = this.getImportAs(baseSymbol, useSummaries);\n                return baseImportAs ?\n                    this.getStaticSymbol(summaryForJitFileName(baseImportAs.filePath), summaryForJitName(baseImportAs.name), baseSymbol.members) :\n                    null;\n            }\n            var result = (useSummaries && this.summaryResolver.getImportAs(staticSymbol)) || null;\n            if (!result) {\n                result = this.importAs.get(staticSymbol);\n            }\n            return result;\n        };\n        /**\n         * getResourcePath produces the path to the original location of the symbol and should\n         * be used to determine the relative location of resource references recorded in\n         * symbol metadata.\n         */\n        StaticSymbolResolver.prototype.getResourcePath = function (staticSymbol) {\n            return this.symbolResourcePaths.get(staticSymbol) || staticSymbol.filePath;\n        };\n        /**\n         * getTypeArity returns the number of generic type parameters the given symbol\n         * has. If the symbol is not a type the result is null.\n         */\n        StaticSymbolResolver.prototype.getTypeArity = function (staticSymbol) {\n            // If the file is a factory/ngsummary file, don't resolve the symbol as doing so would\n            // cause the metadata for an factory/ngsummary file to be loaded which doesn't exist.\n            // All references to generated classes must include the correct arity whenever\n            // generating code.\n            if (isGeneratedFile(staticSymbol.filePath)) {\n                return null;\n            }\n            var resolvedSymbol = unwrapResolvedMetadata(this.resolveSymbol(staticSymbol));\n            while (resolvedSymbol && resolvedSymbol.metadata instanceof StaticSymbol) {\n                resolvedSymbol = unwrapResolvedMetadata(this.resolveSymbol(resolvedSymbol.metadata));\n            }\n            return (resolvedSymbol && resolvedSymbol.metadata && resolvedSymbol.metadata.arity) || null;\n        };\n        StaticSymbolResolver.prototype.getKnownModuleName = function (filePath) {\n            return this.knownFileNameToModuleNames.get(filePath) || null;\n        };\n        StaticSymbolResolver.prototype.recordImportAs = function (sourceSymbol, targetSymbol) {\n            sourceSymbol.assertNoMembers();\n            targetSymbol.assertNoMembers();\n            this.importAs.set(sourceSymbol, targetSymbol);\n        };\n        StaticSymbolResolver.prototype.recordModuleNameForFileName = function (fileName, moduleName) {\n            this.knownFileNameToModuleNames.set(fileName, moduleName);\n        };\n        /**\n         * Invalidate all information derived from the given file.\n         *\n         * @param fileName the file to invalidate\n         */\n        StaticSymbolResolver.prototype.invalidateFile = function (fileName) {\n            var e_1, _a;\n            this.metadataCache.delete(fileName);\n            this.resolvedFilePaths.delete(fileName);\n            var symbols = this.symbolFromFile.get(fileName);\n            if (symbols) {\n                this.symbolFromFile.delete(fileName);\n                try {\n                    for (var symbols_1 = __values(symbols), symbols_1_1 = symbols_1.next(); !symbols_1_1.done; symbols_1_1 = symbols_1.next()) {\n                        var symbol = symbols_1_1.value;\n                        this.resolvedSymbols.delete(symbol);\n                        this.importAs.delete(symbol);\n                        this.symbolResourcePaths.delete(symbol);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (symbols_1_1 && !symbols_1_1.done && (_a = symbols_1.return)) _a.call(symbols_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        };\n        /** @internal */\n        StaticSymbolResolver.prototype.ignoreErrorsFor = function (cb) {\n            var recorder = this.errorRecorder;\n            this.errorRecorder = function () { };\n            try {\n                return cb();\n            }\n            finally {\n                this.errorRecorder = recorder;\n            }\n        };\n        StaticSymbolResolver.prototype._resolveSymbolMembers = function (staticSymbol) {\n            var members = staticSymbol.members;\n            var baseResolvedSymbol = this.resolveSymbol(this.getStaticSymbol(staticSymbol.filePath, staticSymbol.name));\n            if (!baseResolvedSymbol) {\n                return null;\n            }\n            var baseMetadata = unwrapResolvedMetadata(baseResolvedSymbol.metadata);\n            if (baseMetadata instanceof StaticSymbol) {\n                return new ResolvedStaticSymbol(staticSymbol, this.getStaticSymbol(baseMetadata.filePath, baseMetadata.name, members));\n            }\n            else if (baseMetadata && baseMetadata.__symbolic === 'class') {\n                if (baseMetadata.statics && members.length === 1) {\n                    return new ResolvedStaticSymbol(staticSymbol, baseMetadata.statics[members[0]]);\n                }\n            }\n            else {\n                var value = baseMetadata;\n                for (var i = 0; i < members.length && value; i++) {\n                    value = value[members[i]];\n                }\n                return new ResolvedStaticSymbol(staticSymbol, value);\n            }\n            return null;\n        };\n        StaticSymbolResolver.prototype._resolveSymbolFromSummary = function (staticSymbol) {\n            var summary = this.summaryResolver.resolveSummary(staticSymbol);\n            return summary ? new ResolvedStaticSymbol(staticSymbol, summary.metadata) : null;\n        };\n        /**\n         * getStaticSymbol produces a Type whose metadata is known but whose implementation is not loaded.\n         * All types passed to the StaticResolver should be pseudo-types returned by this method.\n         *\n         * @param declarationFile the absolute path of the file where the symbol is declared\n         * @param name the name of the type.\n         * @param members a symbol for a static member of the named type\n         */\n        StaticSymbolResolver.prototype.getStaticSymbol = function (declarationFile, name, members) {\n            return this.staticSymbolCache.get(declarationFile, name, members);\n        };\n        /**\n         * hasDecorators checks a file's metadata for the presence of decorators without evaluating the\n         * metadata.\n         *\n         * @param filePath the absolute path to examine for decorators.\n         * @returns true if any class in the file has a decorator.\n         */\n        StaticSymbolResolver.prototype.hasDecorators = function (filePath) {\n            var metadata = this.getModuleMetadata(filePath);\n            if (metadata['metadata']) {\n                return Object.keys(metadata['metadata']).some(function (metadataKey) {\n                    var entry = metadata['metadata'][metadataKey];\n                    return entry && entry.__symbolic === 'class' && entry.decorators;\n                });\n            }\n            return false;\n        };\n        StaticSymbolResolver.prototype.getSymbolsOf = function (filePath) {\n            var summarySymbols = this.summaryResolver.getSymbolsOf(filePath);\n            if (summarySymbols) {\n                return summarySymbols;\n            }\n            // Note: Some users use libraries that were not compiled with ngc, i.e. they don't\n            // have summaries, only .d.ts files, but `summaryResolver.isLibraryFile` returns true.\n            this._createSymbolsOf(filePath);\n            var metadataSymbols = [];\n            this.resolvedSymbols.forEach(function (resolvedSymbol) {\n                if (resolvedSymbol.symbol.filePath === filePath) {\n                    metadataSymbols.push(resolvedSymbol.symbol);\n                }\n            });\n            return metadataSymbols;\n        };\n        StaticSymbolResolver.prototype._createSymbolsOf = function (filePath) {\n            var _this = this;\n            var e_2, _a;\n            if (this.resolvedFilePaths.has(filePath)) {\n                return;\n            }\n            this.resolvedFilePaths.add(filePath);\n            var resolvedSymbols = [];\n            var metadata = this.getModuleMetadata(filePath);\n            if (metadata['importAs']) {\n                // Index bundle indices should use the importAs module name defined\n                // in the bundle.\n                this.knownFileNameToModuleNames.set(filePath, metadata['importAs']);\n            }\n            // handle the symbols in one of the re-export location\n            if (metadata['exports']) {\n                var _loop_1 = function (moduleExport) {\n                    // handle the symbols in the list of explicitly re-exported symbols.\n                    if (moduleExport.export) {\n                        moduleExport.export.forEach(function (exportSymbol) {\n                            var symbolName;\n                            if (typeof exportSymbol === 'string') {\n                                symbolName = exportSymbol;\n                            }\n                            else {\n                                symbolName = exportSymbol.as;\n                            }\n                            symbolName = unescapeIdentifier(symbolName);\n                            var symName = symbolName;\n                            if (typeof exportSymbol !== 'string') {\n                                symName = unescapeIdentifier(exportSymbol.name);\n                            }\n                            var resolvedModule = _this.resolveModule(moduleExport.from, filePath);\n                            if (resolvedModule) {\n                                var targetSymbol = _this.getStaticSymbol(resolvedModule, symName);\n                                var sourceSymbol = _this.getStaticSymbol(filePath, symbolName);\n                                resolvedSymbols.push(_this.createExport(sourceSymbol, targetSymbol));\n                            }\n                        });\n                    }\n                    else {\n                        // handle the symbols via export * directives.\n                        var resolvedModule = this_1.resolveModule(moduleExport.from, filePath);\n                        if (resolvedModule) {\n                            var nestedExports = this_1.getSymbolsOf(resolvedModule);\n                            nestedExports.forEach(function (targetSymbol) {\n                                var sourceSymbol = _this.getStaticSymbol(filePath, targetSymbol.name);\n                                resolvedSymbols.push(_this.createExport(sourceSymbol, targetSymbol));\n                            });\n                        }\n                    }\n                };\n                var this_1 = this;\n                try {\n                    for (var _b = __values(metadata['exports']), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var moduleExport = _c.value;\n                        _loop_1(moduleExport);\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            // handle the actual metadata. Has to be after the exports\n            // as there might be collisions in the names, and we want the symbols\n            // of the current module to win ofter reexports.\n            if (metadata['metadata']) {\n                // handle direct declarations of the symbol\n                var topLevelSymbolNames_1 = new Set(Object.keys(metadata['metadata']).map(unescapeIdentifier));\n                var origins_1 = metadata['origins'] || {};\n                Object.keys(metadata['metadata']).forEach(function (metadataKey) {\n                    var symbolMeta = metadata['metadata'][metadataKey];\n                    var name = unescapeIdentifier(metadataKey);\n                    var symbol = _this.getStaticSymbol(filePath, name);\n                    var origin = origins_1.hasOwnProperty(metadataKey) && origins_1[metadataKey];\n                    if (origin) {\n                        // If the symbol is from a bundled index, use the declaration location of the\n                        // symbol so relative references (such as './my.html') will be calculated\n                        // correctly.\n                        var originFilePath = _this.resolveModule(origin, filePath);\n                        if (!originFilePath) {\n                            _this.reportError(new Error(\"Couldn't resolve original symbol for \" + origin + \" from \" + filePath));\n                        }\n                        else {\n                            _this.symbolResourcePaths.set(symbol, originFilePath);\n                        }\n                    }\n                    resolvedSymbols.push(_this.createResolvedSymbol(symbol, filePath, topLevelSymbolNames_1, symbolMeta));\n                });\n            }\n            resolvedSymbols.forEach(function (resolvedSymbol) { return _this.resolvedSymbols.set(resolvedSymbol.symbol, resolvedSymbol); });\n            this.symbolFromFile.set(filePath, resolvedSymbols.map(function (resolvedSymbol) { return resolvedSymbol.symbol; }));\n        };\n        StaticSymbolResolver.prototype.createResolvedSymbol = function (sourceSymbol, topLevelPath, topLevelSymbolNames, metadata) {\n            var _this = this;\n            // For classes that don't have Angular summaries / metadata,\n            // we only keep their arity, but nothing else\n            // (e.g. their constructor parameters).\n            // We do this to prevent introducing deep imports\n            // as we didn't generate .ngfactory.ts files with proper reexports.\n            var isTsFile = TS.test(sourceSymbol.filePath);\n            if (this.summaryResolver.isLibraryFile(sourceSymbol.filePath) && !isTsFile && metadata &&\n                metadata['__symbolic'] === 'class') {\n                var transformedMeta_1 = { __symbolic: 'class', arity: metadata.arity };\n                return new ResolvedStaticSymbol(sourceSymbol, transformedMeta_1);\n            }\n            var _originalFileMemo;\n            var getOriginalName = function () {\n                if (!_originalFileMemo) {\n                    // Guess what the original file name is from the reference. If it has a `.d.ts` extension\n                    // replace it with `.ts`. If it already has `.ts` just leave it in place. If it doesn't have\n                    // .ts or .d.ts, append `.ts'. Also, if it is in `node_modules`, trim the `node_module`\n                    // location as it is not important to finding the file.\n                    _originalFileMemo =\n                        _this.host.getOutputName(topLevelPath.replace(/((\\.ts)|(\\.d\\.ts)|)$/, '.ts')\n                            .replace(/^.*node_modules[/\\\\]/, ''));\n                }\n                return _originalFileMemo;\n            };\n            var self = this;\n            var ReferenceTransformer = /** @class */ (function (_super) {\n                __extends(ReferenceTransformer, _super);\n                function ReferenceTransformer() {\n                    return _super !== null && _super.apply(this, arguments) || this;\n                }\n                ReferenceTransformer.prototype.visitStringMap = function (map, functionParams) {\n                    var symbolic = map['__symbolic'];\n                    if (symbolic === 'function') {\n                        var oldLen = functionParams.length;\n                        functionParams.push.apply(functionParams, __spread((map['parameters'] || [])));\n                        var result = _super.prototype.visitStringMap.call(this, map, functionParams);\n                        functionParams.length = oldLen;\n                        return result;\n                    }\n                    else if (symbolic === 'reference') {\n                        var module = map['module'];\n                        var name_1 = map['name'] ? unescapeIdentifier(map['name']) : map['name'];\n                        if (!name_1) {\n                            return null;\n                        }\n                        var filePath = void 0;\n                        if (module) {\n                            filePath = self.resolveModule(module, sourceSymbol.filePath);\n                            if (!filePath) {\n                                return {\n                                    __symbolic: 'error',\n                                    message: \"Could not resolve \" + module + \" relative to \" + sourceSymbol.filePath + \".\",\n                                    line: map.line,\n                                    character: map.character,\n                                    fileName: getOriginalName()\n                                };\n                            }\n                            return {\n                                __symbolic: 'resolved',\n                                symbol: self.getStaticSymbol(filePath, name_1),\n                                line: map.line,\n                                character: map.character,\n                                fileName: getOriginalName()\n                            };\n                        }\n                        else if (functionParams.indexOf(name_1) >= 0) {\n                            // reference to a function parameter\n                            return { __symbolic: 'reference', name: name_1 };\n                        }\n                        else {\n                            if (topLevelSymbolNames.has(name_1)) {\n                                return self.getStaticSymbol(topLevelPath, name_1);\n                            }\n                        }\n                    }\n                    else if (symbolic === 'error') {\n                        return __assign({}, map, { fileName: getOriginalName() });\n                    }\n                    else {\n                        return _super.prototype.visitStringMap.call(this, map, functionParams);\n                    }\n                };\n                return ReferenceTransformer;\n            }(ValueTransformer));\n            var transformedMeta = visitValue(metadata, new ReferenceTransformer(), []);\n            var unwrappedTransformedMeta = unwrapResolvedMetadata(transformedMeta);\n            if (unwrappedTransformedMeta instanceof StaticSymbol) {\n                return this.createExport(sourceSymbol, unwrappedTransformedMeta);\n            }\n            return new ResolvedStaticSymbol(sourceSymbol, transformedMeta);\n        };\n        StaticSymbolResolver.prototype.createExport = function (sourceSymbol, targetSymbol) {\n            sourceSymbol.assertNoMembers();\n            targetSymbol.assertNoMembers();\n            if (this.summaryResolver.isLibraryFile(sourceSymbol.filePath) &&\n                this.summaryResolver.isLibraryFile(targetSymbol.filePath)) {\n                // This case is for an ng library importing symbols from a plain ts library\n                // transitively.\n                // Note: We rely on the fact that we discover symbols in the direction\n                // from source files to library files\n                this.importAs.set(targetSymbol, this.getImportAs(sourceSymbol) || sourceSymbol);\n            }\n            return new ResolvedStaticSymbol(sourceSymbol, targetSymbol);\n        };\n        StaticSymbolResolver.prototype.reportError = function (error$$1, context, path) {\n            if (this.errorRecorder) {\n                this.errorRecorder(error$$1, (context && context.filePath) || path);\n            }\n            else {\n                throw error$$1;\n            }\n        };\n        /**\n         * @param module an absolute path to a module file.\n         */\n        StaticSymbolResolver.prototype.getModuleMetadata = function (module) {\n            var moduleMetadata = this.metadataCache.get(module);\n            if (!moduleMetadata) {\n                var moduleMetadatas = this.host.getMetadataFor(module);\n                if (moduleMetadatas) {\n                    var maxVersion_1 = -1;\n                    moduleMetadatas.forEach(function (md) {\n                        if (md && md['version'] > maxVersion_1) {\n                            maxVersion_1 = md['version'];\n                            moduleMetadata = md;\n                        }\n                    });\n                }\n                if (!moduleMetadata) {\n                    moduleMetadata =\n                        { __symbolic: 'module', version: SUPPORTED_SCHEMA_VERSION, module: module, metadata: {} };\n                }\n                if (moduleMetadata['version'] != SUPPORTED_SCHEMA_VERSION) {\n                    var errorMessage = moduleMetadata['version'] == 2 ?\n                        \"Unsupported metadata version \" + moduleMetadata['version'] + \" for module \" + module + \". This module should be compiled with a newer version of ngc\" :\n                        \"Metadata version mismatch for module \" + module + \", found version \" + moduleMetadata['version'] + \", expected \" + SUPPORTED_SCHEMA_VERSION;\n                    this.reportError(new Error(errorMessage));\n                }\n                this.metadataCache.set(module, moduleMetadata);\n            }\n            return moduleMetadata;\n        };\n        StaticSymbolResolver.prototype.getSymbolByModule = function (module, symbolName, containingFile) {\n            var filePath = this.resolveModule(module, containingFile);\n            if (!filePath) {\n                this.reportError(new Error(\"Could not resolve module \" + module + (containingFile ? ' relative to ' +\n                    containingFile : '')));\n                return this.getStaticSymbol(\"ERROR:\" + module, symbolName);\n            }\n            return this.getStaticSymbol(filePath, symbolName);\n        };\n        StaticSymbolResolver.prototype.resolveModule = function (module, containingFile) {\n            try {\n                return this.host.moduleNameToFileName(module, containingFile);\n            }\n            catch (e) {\n                console.error(\"Could not resolve module '\" + module + \"' relative to file \" + containingFile);\n                this.reportError(e, undefined, containingFile);\n            }\n            return null;\n        };\n        return StaticSymbolResolver;\n    }());\n    // Remove extra underscore from escaped identifier.\n    // See https://github.com/Microsoft/TypeScript/blob/master/src/compiler/utilities.ts\n    function unescapeIdentifier(identifier) {\n        return identifier.startsWith('___') ? identifier.substr(1) : identifier;\n    }\n    function unwrapResolvedMetadata(metadata) {\n        if (metadata && metadata.__symbolic === 'resolved') {\n            return metadata.symbol;\n        }\n        return metadata;\n    }\n\n    function serializeSummaries(srcFileName, forJitCtx, summaryResolver, symbolResolver, symbols, types) {\n        var toJsonSerializer = new ToJsonSerializer(symbolResolver, summaryResolver, srcFileName);\n        // for symbols, we use everything except for the class metadata itself\n        // (we keep the statics though), as the class metadata is contained in the\n        // CompileTypeSummary.\n        symbols.forEach(function (resolvedSymbol) { return toJsonSerializer.addSummary({ symbol: resolvedSymbol.symbol, metadata: resolvedSymbol.metadata }); });\n        // Add type summaries.\n        types.forEach(function (_a) {\n            var summary = _a.summary, metadata = _a.metadata;\n            toJsonSerializer.addSummary({ symbol: summary.type.reference, metadata: undefined, type: summary });\n        });\n        var _a = toJsonSerializer.serialize(), json = _a.json, exportAs = _a.exportAs;\n        if (forJitCtx) {\n            var forJitSerializer_1 = new ForJitSerializer(forJitCtx, symbolResolver, summaryResolver);\n            types.forEach(function (_a) {\n                var summary = _a.summary, metadata = _a.metadata;\n                forJitSerializer_1.addSourceType(summary, metadata);\n            });\n            toJsonSerializer.unprocessedSymbolSummariesBySymbol.forEach(function (summary) {\n                if (summaryResolver.isLibraryFile(summary.symbol.filePath) && summary.type) {\n                    forJitSerializer_1.addLibType(summary.type);\n                }\n            });\n            forJitSerializer_1.serialize(exportAs);\n        }\n        return { json: json, exportAs: exportAs };\n    }\n    function deserializeSummaries(symbolCache, summaryResolver, libraryFileName, json) {\n        var deserializer = new FromJsonDeserializer(symbolCache, summaryResolver);\n        return deserializer.deserialize(libraryFileName, json);\n    }\n    function createForJitStub(outputCtx, reference) {\n        return createSummaryForJitFunction(outputCtx, reference, NULL_EXPR);\n    }\n    function createSummaryForJitFunction(outputCtx, reference, value) {\n        var fnName = summaryForJitName(reference.name);\n        outputCtx.statements.push(fn([], [new ReturnStatement(value)], new ArrayType(DYNAMIC_TYPE)).toDeclStmt(fnName, [\n            exports.StmtModifier.Final, exports.StmtModifier.Exported\n        ]));\n    }\n    var ToJsonSerializer = /** @class */ (function (_super) {\n        __extends(ToJsonSerializer, _super);\n        function ToJsonSerializer(symbolResolver, summaryResolver, srcFileName) {\n            var _this = _super.call(this) || this;\n            _this.symbolResolver = symbolResolver;\n            _this.summaryResolver = summaryResolver;\n            _this.srcFileName = srcFileName;\n            // Note: This only contains symbols without members.\n            _this.symbols = [];\n            _this.indexBySymbol = new Map();\n            _this.reexportedBy = new Map();\n            // This now contains a `__symbol: number` in the place of\n            // StaticSymbols, but otherwise has the same shape as the original objects.\n            _this.processedSummaryBySymbol = new Map();\n            _this.processedSummaries = [];\n            _this.unprocessedSymbolSummariesBySymbol = new Map();\n            _this.moduleName = symbolResolver.getKnownModuleName(srcFileName);\n            return _this;\n        }\n        ToJsonSerializer.prototype.addSummary = function (summary) {\n            var _this = this;\n            var unprocessedSummary = this.unprocessedSymbolSummariesBySymbol.get(summary.symbol);\n            var processedSummary = this.processedSummaryBySymbol.get(summary.symbol);\n            if (!unprocessedSummary) {\n                unprocessedSummary = { symbol: summary.symbol, metadata: undefined };\n                this.unprocessedSymbolSummariesBySymbol.set(summary.symbol, unprocessedSummary);\n                processedSummary = { symbol: this.processValue(summary.symbol, 0 /* None */) };\n                this.processedSummaries.push(processedSummary);\n                this.processedSummaryBySymbol.set(summary.symbol, processedSummary);\n            }\n            if (!unprocessedSummary.metadata && summary.metadata) {\n                var metadata_1 = summary.metadata || {};\n                if (metadata_1.__symbolic === 'class') {\n                    // For classes, we keep everything except their class decorators.\n                    // We need to keep e.g. the ctor args, method names, method decorators\n                    // so that the class can be extended in another compilation unit.\n                    // We don't keep the class decorators as\n                    // 1) they refer to data\n                    //   that should not cause a rebuild of downstream compilation units\n                    //   (e.g. inline templates of @Component, or @NgModule.declarations)\n                    // 2) their data is already captured in TypeSummaries, e.g. DirectiveSummary.\n                    var clone_1 = {};\n                    Object.keys(metadata_1).forEach(function (propName) {\n                        if (propName !== 'decorators') {\n                            clone_1[propName] = metadata_1[propName];\n                        }\n                    });\n                    metadata_1 = clone_1;\n                }\n                else if (isCall(metadata_1)) {\n                    if (!isFunctionCall(metadata_1) && !isMethodCallOnVariable(metadata_1)) {\n                        // Don't store complex calls as we won't be able to simplify them anyways later on.\n                        metadata_1 = {\n                            __symbolic: 'error',\n                            message: 'Complex function calls are not supported.',\n                        };\n                    }\n                }\n                // Note: We need to keep storing ctor calls for e.g.\n                // `export const x = new InjectionToken(...)`\n                unprocessedSummary.metadata = metadata_1;\n                processedSummary.metadata = this.processValue(metadata_1, 1 /* ResolveValue */);\n                if (metadata_1 instanceof StaticSymbol &&\n                    this.summaryResolver.isLibraryFile(metadata_1.filePath)) {\n                    var declarationSymbol = this.symbols[this.indexBySymbol.get(metadata_1)];\n                    if (!isLoweredSymbol(declarationSymbol.name)) {\n                        // Note: symbols that were introduced during codegen in the user file can have a reexport\n                        // if a user used `export *`. However, we can't rely on this as tsickle will change\n                        // `export *` into named exports, using only the information from the typechecker.\n                        // As we introduce the new symbols after typecheck, Tsickle does not know about them,\n                        // and omits them when expanding `export *`.\n                        // So we have to keep reexporting these symbols manually via .ngfactory files.\n                        this.reexportedBy.set(declarationSymbol, summary.symbol);\n                    }\n                }\n            }\n            if (!unprocessedSummary.type && summary.type) {\n                unprocessedSummary.type = summary.type;\n                // Note: We don't add the summaries of all referenced symbols as for the ResolvedSymbols,\n                // as the type summaries already contain the transitive data that they require\n                // (in a minimal way).\n                processedSummary.type = this.processValue(summary.type, 0 /* None */);\n                // except for reexported directives / pipes, so we need to store\n                // their summaries explicitly.\n                if (summary.type.summaryKind === exports.CompileSummaryKind.NgModule) {\n                    var ngModuleSummary = summary.type;\n                    ngModuleSummary.exportedDirectives.concat(ngModuleSummary.exportedPipes).forEach(function (id) {\n                        var symbol = id.reference;\n                        if (_this.summaryResolver.isLibraryFile(symbol.filePath) &&\n                            !_this.unprocessedSymbolSummariesBySymbol.has(symbol)) {\n                            var summary_1 = _this.summaryResolver.resolveSummary(symbol);\n                            if (summary_1) {\n                                _this.addSummary(summary_1);\n                            }\n                        }\n                    });\n                }\n            }\n        };\n        ToJsonSerializer.prototype.serialize = function () {\n            var _this = this;\n            var exportAs = [];\n            var json = JSON.stringify({\n                moduleName: this.moduleName,\n                summaries: this.processedSummaries,\n                symbols: this.symbols.map(function (symbol, index) {\n                    symbol.assertNoMembers();\n                    var importAs = undefined;\n                    if (_this.summaryResolver.isLibraryFile(symbol.filePath)) {\n                        var reexportSymbol = _this.reexportedBy.get(symbol);\n                        if (reexportSymbol) {\n                            importAs = _this.indexBySymbol.get(reexportSymbol);\n                        }\n                        else {\n                            var summary = _this.unprocessedSymbolSummariesBySymbol.get(symbol);\n                            if (!summary || !summary.metadata || summary.metadata.__symbolic !== 'interface') {\n                                importAs = symbol.name + \"_\" + index;\n                                exportAs.push({ symbol: symbol, exportAs: importAs });\n                            }\n                        }\n                    }\n                    return {\n                        __symbol: index,\n                        name: symbol.name,\n                        filePath: _this.summaryResolver.toSummaryFileName(symbol.filePath, _this.srcFileName),\n                        importAs: importAs\n                    };\n                })\n            });\n            return { json: json, exportAs: exportAs };\n        };\n        ToJsonSerializer.prototype.processValue = function (value, flags) {\n            return visitValue(value, this, flags);\n        };\n        ToJsonSerializer.prototype.visitOther = function (value, context) {\n            if (value instanceof StaticSymbol) {\n                var baseSymbol = this.symbolResolver.getStaticSymbol(value.filePath, value.name);\n                var index = this.visitStaticSymbol(baseSymbol, context);\n                return { __symbol: index, members: value.members };\n            }\n        };\n        /**\n         * Strip line and character numbers from ngsummaries.\n         * Emitting them causes white spaces changes to retrigger upstream\n         * recompilations in bazel.\n         * TODO: find out a way to have line and character numbers in errors without\n         * excessive recompilation in bazel.\n         */\n        ToJsonSerializer.prototype.visitStringMap = function (map, context) {\n            if (map['__symbolic'] === 'resolved') {\n                return visitValue(map.symbol, this, context);\n            }\n            if (map['__symbolic'] === 'error') {\n                delete map['line'];\n                delete map['character'];\n            }\n            return _super.prototype.visitStringMap.call(this, map, context);\n        };\n        /**\n         * Returns null if the options.resolveValue is true, and the summary for the symbol\n         * resolved to a type or could not be resolved.\n         */\n        ToJsonSerializer.prototype.visitStaticSymbol = function (baseSymbol, flags) {\n            var index = this.indexBySymbol.get(baseSymbol);\n            var summary = null;\n            if (flags & 1 /* ResolveValue */ &&\n                this.summaryResolver.isLibraryFile(baseSymbol.filePath)) {\n                if (this.unprocessedSymbolSummariesBySymbol.has(baseSymbol)) {\n                    // the summary for this symbol was already added\n                    // -> nothing to do.\n                    return index;\n                }\n                summary = this.loadSummary(baseSymbol);\n                if (summary && summary.metadata instanceof StaticSymbol) {\n                    // The summary is a reexport\n                    index = this.visitStaticSymbol(summary.metadata, flags);\n                    // reset the summary as it is just a reexport, so we don't want to store it.\n                    summary = null;\n                }\n            }\n            else if (index != null) {\n                // Note: == on purpose to compare with undefined!\n                // No summary and the symbol is already added -> nothing to do.\n                return index;\n            }\n            // Note: == on purpose to compare with undefined!\n            if (index == null) {\n                index = this.symbols.length;\n                this.symbols.push(baseSymbol);\n            }\n            this.indexBySymbol.set(baseSymbol, index);\n            if (summary) {\n                this.addSummary(summary);\n            }\n            return index;\n        };\n        ToJsonSerializer.prototype.loadSummary = function (symbol) {\n            var summary = this.summaryResolver.resolveSummary(symbol);\n            if (!summary) {\n                // some symbols might originate from a plain typescript library\n                // that just exported .d.ts and .metadata.json files, i.e. where no summary\n                // files were created.\n                var resolvedSymbol = this.symbolResolver.resolveSymbol(symbol);\n                if (resolvedSymbol) {\n                    summary = { symbol: resolvedSymbol.symbol, metadata: resolvedSymbol.metadata };\n                }\n            }\n            return summary;\n        };\n        return ToJsonSerializer;\n    }(ValueTransformer));\n    var ForJitSerializer = /** @class */ (function () {\n        function ForJitSerializer(outputCtx, symbolResolver, summaryResolver) {\n            this.outputCtx = outputCtx;\n            this.symbolResolver = symbolResolver;\n            this.summaryResolver = summaryResolver;\n            this.data = [];\n        }\n        ForJitSerializer.prototype.addSourceType = function (summary, metadata) {\n            this.data.push({ summary: summary, metadata: metadata, isLibrary: false });\n        };\n        ForJitSerializer.prototype.addLibType = function (summary) {\n            this.data.push({ summary: summary, metadata: null, isLibrary: true });\n        };\n        ForJitSerializer.prototype.serialize = function (exportAsArr) {\n            var _this = this;\n            var e_1, _a, e_2, _b, e_3, _c;\n            var exportAsBySymbol = new Map();\n            try {\n                for (var exportAsArr_1 = __values(exportAsArr), exportAsArr_1_1 = exportAsArr_1.next(); !exportAsArr_1_1.done; exportAsArr_1_1 = exportAsArr_1.next()) {\n                    var _d = exportAsArr_1_1.value, symbol = _d.symbol, exportAs = _d.exportAs;\n                    exportAsBySymbol.set(symbol, exportAs);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (exportAsArr_1_1 && !exportAsArr_1_1.done && (_a = exportAsArr_1.return)) _a.call(exportAsArr_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            var ngModuleSymbols = new Set();\n            try {\n                for (var _e = __values(this.data), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var _g = _f.value, summary = _g.summary, metadata = _g.metadata, isLibrary = _g.isLibrary;\n                    if (summary.summaryKind === exports.CompileSummaryKind.NgModule) {\n                        // collect the symbols that refer to NgModule classes.\n                        // Note: we can't just rely on `summary.type.summaryKind` to determine this as\n                        // we don't add the summaries of all referenced symbols when we serialize type summaries.\n                        // See serializeSummaries for details.\n                        ngModuleSymbols.add(summary.type.reference);\n                        var modSummary = summary;\n                        try {\n                            for (var _h = __values(modSummary.modules), _j = _h.next(); !_j.done; _j = _h.next()) {\n                                var mod = _j.value;\n                                ngModuleSymbols.add(mod.reference);\n                            }\n                        }\n                        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                        finally {\n                            try {\n                                if (_j && !_j.done && (_c = _h.return)) _c.call(_h);\n                            }\n                            finally { if (e_3) throw e_3.error; }\n                        }\n                    }\n                    if (!isLibrary) {\n                        var fnName = summaryForJitName(summary.type.reference.name);\n                        createSummaryForJitFunction(this.outputCtx, summary.type.reference, this.serializeSummaryWithDeps(summary, metadata));\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            ngModuleSymbols.forEach(function (ngModuleSymbol) {\n                if (_this.summaryResolver.isLibraryFile(ngModuleSymbol.filePath)) {\n                    var exportAs = exportAsBySymbol.get(ngModuleSymbol) || ngModuleSymbol.name;\n                    var jitExportAsName = summaryForJitName(exportAs);\n                    _this.outputCtx.statements.push(variable(jitExportAsName)\n                        .set(_this.serializeSummaryRef(ngModuleSymbol))\n                        .toDeclStmt(null, [exports.StmtModifier.Exported]));\n                }\n            });\n        };\n        ForJitSerializer.prototype.serializeSummaryWithDeps = function (summary, metadata) {\n            var _this = this;\n            var expressions = [this.serializeSummary(summary)];\n            var providers = [];\n            if (metadata instanceof CompileNgModuleMetadata) {\n                expressions.push.apply(expressions, __spread(\n                // For directives / pipes, we only add the declared ones,\n                // and rely on transitively importing NgModules to get the transitive\n                // summaries.\n                metadata.declaredDirectives.concat(metadata.declaredPipes)\n                    .map(function (type) { return type.reference; })\n                    // For modules,\n                    // we also add the summaries for modules\n                    // from libraries.\n                    // This is ok as we produce reexports for all transitive modules.\n                    .concat(metadata.transitiveModule.modules.map(function (type) { return type.reference; })\n                    .filter(function (ref) { return ref !== metadata.type.reference; }))\n                    .map(function (ref) { return _this.serializeSummaryRef(ref); })));\n                // Note: We don't use `NgModuleSummary.providers`, as that one is transitive,\n                // and we already have transitive modules.\n                providers = metadata.providers;\n            }\n            else if (summary.summaryKind === exports.CompileSummaryKind.Directive) {\n                var dirSummary = summary;\n                providers = dirSummary.providers.concat(dirSummary.viewProviders);\n            }\n            // Note: We can't just refer to the `ngsummary.ts` files for `useClass` providers (as we do for\n            // declaredDirectives / declaredPipes), as we allow\n            // providers without ctor arguments to skip the `@Injectable` decorator,\n            // i.e. we didn't generate .ngsummary.ts files for these.\n            expressions.push.apply(expressions, __spread(providers.filter(function (provider) { return !!provider.useClass; }).map(function (provider) { return _this.serializeSummary({\n                summaryKind: exports.CompileSummaryKind.Injectable, type: provider.useClass\n            }); })));\n            return literalArr(expressions);\n        };\n        ForJitSerializer.prototype.serializeSummaryRef = function (typeSymbol) {\n            var jitImportedSymbol = this.symbolResolver.getStaticSymbol(summaryForJitFileName(typeSymbol.filePath), summaryForJitName(typeSymbol.name));\n            return this.outputCtx.importExpr(jitImportedSymbol);\n        };\n        ForJitSerializer.prototype.serializeSummary = function (data) {\n            var outputCtx = this.outputCtx;\n            var Transformer = /** @class */ (function () {\n                function Transformer() {\n                }\n                Transformer.prototype.visitArray = function (arr, context) {\n                    var _this = this;\n                    return literalArr(arr.map(function (entry) { return visitValue(entry, _this, context); }));\n                };\n                Transformer.prototype.visitStringMap = function (map, context) {\n                    var _this = this;\n                    return new LiteralMapExpr(Object.keys(map).map(function (key) { return new LiteralMapEntry(key, visitValue(map[key], _this, context), false); }));\n                };\n                Transformer.prototype.visitPrimitive = function (value, context) { return literal(value); };\n                Transformer.prototype.visitOther = function (value, context) {\n                    if (value instanceof StaticSymbol) {\n                        return outputCtx.importExpr(value);\n                    }\n                    else {\n                        throw new Error(\"Illegal State: Encountered value \" + value);\n                    }\n                };\n                return Transformer;\n            }());\n            return visitValue(data, new Transformer(), null);\n        };\n        return ForJitSerializer;\n    }());\n    var FromJsonDeserializer = /** @class */ (function (_super) {\n        __extends(FromJsonDeserializer, _super);\n        function FromJsonDeserializer(symbolCache, summaryResolver) {\n            var _this = _super.call(this) || this;\n            _this.symbolCache = symbolCache;\n            _this.summaryResolver = summaryResolver;\n            return _this;\n        }\n        FromJsonDeserializer.prototype.deserialize = function (libraryFileName, json) {\n            var _this = this;\n            var data = JSON.parse(json);\n            var allImportAs = [];\n            this.symbols = data.symbols.map(function (serializedSymbol) { return _this.symbolCache.get(_this.summaryResolver.fromSummaryFileName(serializedSymbol.filePath, libraryFileName), serializedSymbol.name); });\n            data.symbols.forEach(function (serializedSymbol, index) {\n                var symbol = _this.symbols[index];\n                var importAs = serializedSymbol.importAs;\n                if (typeof importAs === 'number') {\n                    allImportAs.push({ symbol: symbol, importAs: _this.symbols[importAs] });\n                }\n                else if (typeof importAs === 'string') {\n                    allImportAs.push({ symbol: symbol, importAs: _this.symbolCache.get(ngfactoryFilePath(libraryFileName), importAs) });\n                }\n            });\n            var summaries = visitValue(data.summaries, this, null);\n            return { moduleName: data.moduleName, summaries: summaries, importAs: allImportAs };\n        };\n        FromJsonDeserializer.prototype.visitStringMap = function (map, context) {\n            if ('__symbol' in map) {\n                var baseSymbol = this.symbols[map['__symbol']];\n                var members = map['members'];\n                return members.length ? this.symbolCache.get(baseSymbol.filePath, baseSymbol.name, members) :\n                    baseSymbol;\n            }\n            else {\n                return _super.prototype.visitStringMap.call(this, map, context);\n            }\n        };\n        return FromJsonDeserializer;\n    }(ValueTransformer));\n    function isCall(metadata) {\n        return metadata && metadata.__symbolic === 'call';\n    }\n    function isFunctionCall(metadata) {\n        return isCall(metadata) && unwrapResolvedMetadata(metadata.expression) instanceof StaticSymbol;\n    }\n    function isMethodCallOnVariable(metadata) {\n        return isCall(metadata) && metadata.expression && metadata.expression.__symbolic === 'select' &&\n            unwrapResolvedMetadata(metadata.expression.expression) instanceof StaticSymbol;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var AotCompiler = /** @class */ (function () {\n        function AotCompiler(_config, _options, _host, reflector, _metadataResolver, _templateParser, _styleCompiler, _viewCompiler, _typeCheckCompiler, _ngModuleCompiler, _injectableCompiler, _outputEmitter, _summaryResolver, _symbolResolver) {\n            this._config = _config;\n            this._options = _options;\n            this._host = _host;\n            this.reflector = reflector;\n            this._metadataResolver = _metadataResolver;\n            this._templateParser = _templateParser;\n            this._styleCompiler = _styleCompiler;\n            this._viewCompiler = _viewCompiler;\n            this._typeCheckCompiler = _typeCheckCompiler;\n            this._ngModuleCompiler = _ngModuleCompiler;\n            this._injectableCompiler = _injectableCompiler;\n            this._outputEmitter = _outputEmitter;\n            this._summaryResolver = _summaryResolver;\n            this._symbolResolver = _symbolResolver;\n            this._templateAstCache = new Map();\n            this._analyzedFiles = new Map();\n            this._analyzedFilesForInjectables = new Map();\n        }\n        AotCompiler.prototype.clearCache = function () { this._metadataResolver.clearCache(); };\n        AotCompiler.prototype.analyzeModulesSync = function (rootFiles) {\n            var _this = this;\n            var analyzeResult = analyzeAndValidateNgModules(rootFiles, this._host, this._symbolResolver, this._metadataResolver);\n            analyzeResult.ngModules.forEach(function (ngModule) { return _this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference, true); });\n            return analyzeResult;\n        };\n        AotCompiler.prototype.analyzeModulesAsync = function (rootFiles) {\n            var _this = this;\n            var analyzeResult = analyzeAndValidateNgModules(rootFiles, this._host, this._symbolResolver, this._metadataResolver);\n            return Promise\n                .all(analyzeResult.ngModules.map(function (ngModule) { return _this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference, false); }))\n                .then(function () { return analyzeResult; });\n        };\n        AotCompiler.prototype._analyzeFile = function (fileName) {\n            var analyzedFile = this._analyzedFiles.get(fileName);\n            if (!analyzedFile) {\n                analyzedFile =\n                    analyzeFile(this._host, this._symbolResolver, this._metadataResolver, fileName);\n                this._analyzedFiles.set(fileName, analyzedFile);\n            }\n            return analyzedFile;\n        };\n        AotCompiler.prototype._analyzeFileForInjectables = function (fileName) {\n            var analyzedFile = this._analyzedFilesForInjectables.get(fileName);\n            if (!analyzedFile) {\n                analyzedFile = analyzeFileForInjectables(this._host, this._symbolResolver, this._metadataResolver, fileName);\n                this._analyzedFilesForInjectables.set(fileName, analyzedFile);\n            }\n            return analyzedFile;\n        };\n        AotCompiler.prototype.findGeneratedFileNames = function (fileName) {\n            var _this = this;\n            var genFileNames = [];\n            var file = this._analyzeFile(fileName);\n            // Make sure we create a .ngfactory if we have a injectable/directive/pipe/NgModule\n            // or a reference to a non source file.\n            // Note: This is overestimating the required .ngfactory files as the real calculation is harder.\n            // Only do this for StubEmitFlags.Basic, as adding a type check block\n            // does not change this file (as we generate type check blocks based on NgModules).\n            if (this._options.allowEmptyCodegenFiles || file.directives.length || file.pipes.length ||\n                file.injectables.length || file.ngModules.length || file.exportsNonSourceFiles) {\n                genFileNames.push(ngfactoryFilePath(file.fileName, true));\n                if (this._options.enableSummariesForJit) {\n                    genFileNames.push(summaryForJitFileName(file.fileName, true));\n                }\n            }\n            var fileSuffix = normalizeGenFileSuffix(splitTypescriptSuffix(file.fileName, true)[1]);\n            file.directives.forEach(function (dirSymbol) {\n                var compMeta = _this._metadataResolver.getNonNormalizedDirectiveMetadata(dirSymbol).metadata;\n                if (!compMeta.isComponent) {\n                    return;\n                }\n                // Note: compMeta is a component and therefore template is non null.\n                compMeta.template.styleUrls.forEach(function (styleUrl) {\n                    var normalizedUrl = _this._host.resourceNameToFileName(styleUrl, file.fileName);\n                    if (!normalizedUrl) {\n                        throw syntaxError(\"Couldn't resolve resource \" + styleUrl + \" relative to \" + file.fileName);\n                    }\n                    var needsShim = (compMeta.template.encapsulation ||\n                        _this._config.defaultEncapsulation) === ViewEncapsulation.Emulated;\n                    genFileNames.push(_stylesModuleUrl(normalizedUrl, needsShim, fileSuffix));\n                    if (_this._options.allowEmptyCodegenFiles) {\n                        genFileNames.push(_stylesModuleUrl(normalizedUrl, !needsShim, fileSuffix));\n                    }\n                });\n            });\n            return genFileNames;\n        };\n        AotCompiler.prototype.emitBasicStub = function (genFileName, originalFileName) {\n            var outputCtx = this._createOutputContext(genFileName);\n            if (genFileName.endsWith('.ngfactory.ts')) {\n                if (!originalFileName) {\n                    throw new Error(\"Assertion error: require the original file for .ngfactory.ts stubs. File: \" + genFileName);\n                }\n                var originalFile = this._analyzeFile(originalFileName);\n                this._createNgFactoryStub(outputCtx, originalFile, 1 /* Basic */);\n            }\n            else if (genFileName.endsWith('.ngsummary.ts')) {\n                if (this._options.enableSummariesForJit) {\n                    if (!originalFileName) {\n                        throw new Error(\"Assertion error: require the original file for .ngsummary.ts stubs. File: \" + genFileName);\n                    }\n                    var originalFile = this._analyzeFile(originalFileName);\n                    _createEmptyStub(outputCtx);\n                    originalFile.ngModules.forEach(function (ngModule) {\n                        // create exports that user code can reference\n                        createForJitStub(outputCtx, ngModule.type.reference);\n                    });\n                }\n            }\n            else if (genFileName.endsWith('.ngstyle.ts')) {\n                _createEmptyStub(outputCtx);\n            }\n            // Note: for the stubs, we don't need a property srcFileUrl,\n            // as later on in emitAllImpls we will create the proper GeneratedFiles with the\n            // correct srcFileUrl.\n            // This is good as e.g. for .ngstyle.ts files we can't derive\n            // the url of components based on the genFileUrl.\n            return this._codegenSourceModule('unknown', outputCtx);\n        };\n        AotCompiler.prototype.emitTypeCheckStub = function (genFileName, originalFileName) {\n            var originalFile = this._analyzeFile(originalFileName);\n            var outputCtx = this._createOutputContext(genFileName);\n            if (genFileName.endsWith('.ngfactory.ts')) {\n                this._createNgFactoryStub(outputCtx, originalFile, 2 /* TypeCheck */);\n            }\n            return outputCtx.statements.length > 0 ?\n                this._codegenSourceModule(originalFile.fileName, outputCtx) :\n                null;\n        };\n        AotCompiler.prototype.loadFilesAsync = function (fileNames, tsFiles) {\n            var _this = this;\n            var files = fileNames.map(function (fileName) { return _this._analyzeFile(fileName); });\n            var loadingPromises = [];\n            files.forEach(function (file) { return file.ngModules.forEach(function (ngModule) {\n                return loadingPromises.push(_this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference, false));\n            }); });\n            var analyzedInjectables = tsFiles.map(function (tsFile) { return _this._analyzeFileForInjectables(tsFile); });\n            return Promise.all(loadingPromises).then(function (_) { return ({\n                analyzedModules: mergeAndValidateNgFiles(files),\n                analyzedInjectables: analyzedInjectables,\n            }); });\n        };\n        AotCompiler.prototype.loadFilesSync = function (fileNames, tsFiles) {\n            var _this = this;\n            var files = fileNames.map(function (fileName) { return _this._analyzeFile(fileName); });\n            files.forEach(function (file) { return file.ngModules.forEach(function (ngModule) { return _this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference, true); }); });\n            var analyzedInjectables = tsFiles.map(function (tsFile) { return _this._analyzeFileForInjectables(tsFile); });\n            return {\n                analyzedModules: mergeAndValidateNgFiles(files),\n                analyzedInjectables: analyzedInjectables,\n            };\n        };\n        AotCompiler.prototype._createNgFactoryStub = function (outputCtx, file, emitFlags) {\n            var _this = this;\n            var componentId = 0;\n            file.ngModules.forEach(function (ngModuleMeta, ngModuleIndex) {\n                // Note: the code below needs to executed for StubEmitFlags.Basic and StubEmitFlags.TypeCheck,\n                // so we don't change the .ngfactory file too much when adding the type-check block.\n                // create exports that user code can reference\n                _this._ngModuleCompiler.createStub(outputCtx, ngModuleMeta.type.reference);\n                // add references to the symbols from the metadata.\n                // These can be used by the type check block for components,\n                // and they also cause TypeScript to include these files into the program too,\n                // which will make them part of the analyzedFiles.\n                var externalReferences = __spread(ngModuleMeta.transitiveModule.directives.map(function (d) { return d.reference; }), ngModuleMeta.transitiveModule.pipes.map(function (d) { return d.reference; }), ngModuleMeta.importedModules.map(function (m) { return m.type.reference; }), ngModuleMeta.exportedModules.map(function (m) { return m.type.reference; }), _this._externalIdentifierReferences([Identifiers.TemplateRef, Identifiers.ElementRef]));\n                var externalReferenceVars = new Map();\n                externalReferences.forEach(function (ref, typeIndex) {\n                    externalReferenceVars.set(ref, \"_decl\" + ngModuleIndex + \"_\" + typeIndex);\n                });\n                externalReferenceVars.forEach(function (varName, reference) {\n                    outputCtx.statements.push(variable(varName)\n                        .set(NULL_EXPR.cast(DYNAMIC_TYPE))\n                        .toDeclStmt(expressionType(outputCtx.importExpr(reference, /* typeParams */ null, /* useSummaries */ false))));\n                });\n                if (emitFlags & 2 /* TypeCheck */) {\n                    // add the type-check block for all components of the NgModule\n                    ngModuleMeta.declaredDirectives.forEach(function (dirId) {\n                        var compMeta = _this._metadataResolver.getDirectiveMetadata(dirId.reference);\n                        if (!compMeta.isComponent) {\n                            return;\n                        }\n                        componentId++;\n                        _this._createTypeCheckBlock(outputCtx, compMeta.type.reference.name + \"_Host_\" + componentId, ngModuleMeta, _this._metadataResolver.getHostComponentMetadata(compMeta), [compMeta.type], externalReferenceVars);\n                        _this._createTypeCheckBlock(outputCtx, compMeta.type.reference.name + \"_\" + componentId, ngModuleMeta, compMeta, ngModuleMeta.transitiveModule.directives, externalReferenceVars);\n                    });\n                }\n            });\n            if (outputCtx.statements.length === 0) {\n                _createEmptyStub(outputCtx);\n            }\n        };\n        AotCompiler.prototype._externalIdentifierReferences = function (references) {\n            var e_1, _a;\n            var result = [];\n            try {\n                for (var references_1 = __values(references), references_1_1 = references_1.next(); !references_1_1.done; references_1_1 = references_1.next()) {\n                    var reference = references_1_1.value;\n                    var token = createTokenForExternalReference(this.reflector, reference);\n                    if (token.identifier) {\n                        result.push(token.identifier.reference);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (references_1_1 && !references_1_1.done && (_a = references_1.return)) _a.call(references_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return result;\n        };\n        AotCompiler.prototype._createTypeCheckBlock = function (ctx, componentId, moduleMeta, compMeta, directives, externalReferenceVars) {\n            var _a;\n            var _b = this._parseTemplate(compMeta, moduleMeta, directives), parsedTemplate = _b.template, usedPipes = _b.pipes;\n            (_a = ctx.statements).push.apply(_a, __spread(this._typeCheckCompiler.compileComponent(componentId, compMeta, parsedTemplate, usedPipes, externalReferenceVars, ctx)));\n        };\n        AotCompiler.prototype.emitMessageBundle = function (analyzeResult, locale) {\n            var _this = this;\n            var errors = [];\n            var htmlParser = new HtmlParser();\n            // TODO(vicb): implicit tags & attributes\n            var messageBundle = new MessageBundle(htmlParser, [], {}, locale);\n            analyzeResult.files.forEach(function (file) {\n                var compMetas = [];\n                file.directives.forEach(function (directiveType) {\n                    var dirMeta = _this._metadataResolver.getDirectiveMetadata(directiveType);\n                    if (dirMeta && dirMeta.isComponent) {\n                        compMetas.push(dirMeta);\n                    }\n                });\n                compMetas.forEach(function (compMeta) {\n                    var html = compMeta.template.template;\n                    // Template URL points to either an HTML or TS file depending on whether\n                    // the file is used with `templateUrl:` or `template:`, respectively.\n                    var templateUrl = compMeta.template.templateUrl;\n                    var interpolationConfig = InterpolationConfig.fromArray(compMeta.template.interpolation);\n                    errors.push.apply(errors, __spread(messageBundle.updateFromTemplate(html, templateUrl, interpolationConfig)));\n                });\n            });\n            if (errors.length) {\n                throw new Error(errors.map(function (e) { return e.toString(); }).join('\\n'));\n            }\n            return messageBundle;\n        };\n        AotCompiler.prototype.emitAllPartialModules = function (_a, r3Files) {\n            var _this = this;\n            var ngModuleByPipeOrDirective = _a.ngModuleByPipeOrDirective, files = _a.files;\n            var contextMap = new Map();\n            var getContext = function (fileName) {\n                if (!contextMap.has(fileName)) {\n                    contextMap.set(fileName, _this._createOutputContext(fileName));\n                }\n                return contextMap.get(fileName);\n            };\n            files.forEach(function (file) { return _this._compilePartialModule(file.fileName, ngModuleByPipeOrDirective, file.directives, file.pipes, file.ngModules, file.injectables, getContext(file.fileName)); });\n            r3Files.forEach(function (file) { return _this._compileShallowModules(file.fileName, file.shallowModules, getContext(file.fileName)); });\n            return Array.from(contextMap.values())\n                .map(function (context) { return ({\n                fileName: context.genFilePath,\n                statements: __spread(context.constantPool.statements, context.statements),\n            }); });\n        };\n        AotCompiler.prototype._compileShallowModules = function (fileName, shallowModules, context) {\n            var _this = this;\n            shallowModules.forEach(function (module) { return compileNgModuleFromRender2(context, module, _this._injectableCompiler); });\n        };\n        AotCompiler.prototype._compilePartialModule = function (fileName, ngModuleByPipeOrDirective, directives, pipes, ngModules, injectables, context) {\n            var _this = this;\n            var errors = [];\n            var schemaRegistry = new DomElementSchemaRegistry();\n            var hostBindingParser = new BindingParser(this._templateParser.expressionParser, DEFAULT_INTERPOLATION_CONFIG, schemaRegistry, [], errors);\n            // Process all components and directives\n            directives.forEach(function (directiveType) {\n                var directiveMetadata = _this._metadataResolver.getDirectiveMetadata(directiveType);\n                if (directiveMetadata.isComponent) {\n                    var module = ngModuleByPipeOrDirective.get(directiveType);\n                    module ||\n                        error(\"Cannot determine the module for component '\" + identifierName(directiveMetadata.type) + \"'\");\n                    var htmlAst = directiveMetadata.template.htmlAst;\n                    var preserveWhitespaces = directiveMetadata.template.preserveWhitespaces;\n                    if (!preserveWhitespaces) {\n                        htmlAst = removeWhitespaces(htmlAst);\n                    }\n                    var render3Ast = htmlAstToRender3Ast(htmlAst.rootNodes, hostBindingParser);\n                    // Map of StaticType by directive selectors\n                    var directiveTypeBySel_1 = new Map();\n                    var directives_1 = module.transitiveModule.directives.map(function (dir) { return _this._metadataResolver.getDirectiveSummary(dir.reference); });\n                    directives_1.forEach(function (directive) {\n                        if (directive.selector) {\n                            directiveTypeBySel_1.set(directive.selector, directive.type.reference);\n                        }\n                    });\n                    // Map of StaticType by pipe names\n                    var pipeTypeByName_1 = new Map();\n                    var pipes_1 = module.transitiveModule.pipes.map(function (pipe) { return _this._metadataResolver.getPipeSummary(pipe.reference); });\n                    pipes_1.forEach(function (pipe) { pipeTypeByName_1.set(pipe.name, pipe.type.reference); });\n                    compileComponentFromRender2(context, directiveMetadata, render3Ast, _this.reflector, hostBindingParser, directiveTypeBySel_1, pipeTypeByName_1);\n                }\n                else {\n                    compileDirectiveFromRender2(context, directiveMetadata, _this.reflector, hostBindingParser);\n                }\n            });\n            pipes.forEach(function (pipeType) {\n                var pipeMetadata = _this._metadataResolver.getPipeMetadata(pipeType);\n                if (pipeMetadata) {\n                    compilePipeFromRender2(context, pipeMetadata, _this.reflector);\n                }\n            });\n            injectables.forEach(function (injectable) { return _this._injectableCompiler.compile(injectable, context); });\n        };\n        AotCompiler.prototype.emitAllPartialModules2 = function (files) {\n            var _this = this;\n            // Using reduce like this is a select many pattern (where map is a select pattern)\n            return files.reduce(function (r, file) {\n                r.push.apply(r, __spread(_this._emitPartialModule2(file.fileName, file.injectables)));\n                return r;\n            }, []);\n        };\n        AotCompiler.prototype._emitPartialModule2 = function (fileName, injectables) {\n            var _this = this;\n            var context = this._createOutputContext(fileName);\n            injectables.forEach(function (injectable) { return _this._injectableCompiler.compile(injectable, context); });\n            if (context.statements && context.statements.length > 0) {\n                return [{ fileName: fileName, statements: __spread(context.constantPool.statements, context.statements) }];\n            }\n            return [];\n        };\n        AotCompiler.prototype.emitAllImpls = function (analyzeResult) {\n            var _this = this;\n            var ngModuleByPipeOrDirective = analyzeResult.ngModuleByPipeOrDirective, files = analyzeResult.files;\n            var sourceModules = files.map(function (file) { return _this._compileImplFile(file.fileName, ngModuleByPipeOrDirective, file.directives, file.pipes, file.ngModules, file.injectables); });\n            return flatten(sourceModules);\n        };\n        AotCompiler.prototype._compileImplFile = function (srcFileUrl, ngModuleByPipeOrDirective, directives, pipes, ngModules, injectables) {\n            var _this = this;\n            var fileSuffix = normalizeGenFileSuffix(splitTypescriptSuffix(srcFileUrl, true)[1]);\n            var generatedFiles = [];\n            var outputCtx = this._createOutputContext(ngfactoryFilePath(srcFileUrl, true));\n            generatedFiles.push.apply(generatedFiles, __spread(this._createSummary(srcFileUrl, directives, pipes, ngModules, injectables, outputCtx)));\n            // compile all ng modules\n            ngModules.forEach(function (ngModuleMeta) { return _this._compileModule(outputCtx, ngModuleMeta); });\n            // compile components\n            directives.forEach(function (dirType) {\n                var compMeta = _this._metadataResolver.getDirectiveMetadata(dirType);\n                if (!compMeta.isComponent) {\n                    return;\n                }\n                var ngModule = ngModuleByPipeOrDirective.get(dirType);\n                if (!ngModule) {\n                    throw new Error(\"Internal Error: cannot determine the module for component \" + identifierName(compMeta.type) + \"!\");\n                }\n                // compile styles\n                var componentStylesheet = _this._styleCompiler.compileComponent(outputCtx, compMeta);\n                // Note: compMeta is a component and therefore template is non null.\n                compMeta.template.externalStylesheets.forEach(function (stylesheetMeta) {\n                    // Note: fill non shim and shim style files as they might\n                    // be shared by component with and without ViewEncapsulation.\n                    var shim = _this._styleCompiler.needsStyleShim(compMeta);\n                    generatedFiles.push(_this._codegenStyles(srcFileUrl, compMeta, stylesheetMeta, shim, fileSuffix));\n                    if (_this._options.allowEmptyCodegenFiles) {\n                        generatedFiles.push(_this._codegenStyles(srcFileUrl, compMeta, stylesheetMeta, !shim, fileSuffix));\n                    }\n                });\n                // compile components\n                var compViewVars = _this._compileComponent(outputCtx, compMeta, ngModule, ngModule.transitiveModule.directives, componentStylesheet, fileSuffix);\n                _this._compileComponentFactory(outputCtx, compMeta, ngModule, fileSuffix);\n            });\n            if (outputCtx.statements.length > 0 || this._options.allowEmptyCodegenFiles) {\n                var srcModule = this._codegenSourceModule(srcFileUrl, outputCtx);\n                generatedFiles.unshift(srcModule);\n            }\n            return generatedFiles;\n        };\n        AotCompiler.prototype._createSummary = function (srcFileName, directives, pipes, ngModules, injectables, ngFactoryCtx) {\n            var _this = this;\n            var symbolSummaries = this._symbolResolver.getSymbolsOf(srcFileName)\n                .map(function (symbol) { return _this._symbolResolver.resolveSymbol(symbol); });\n            var typeData = __spread(ngModules.map(function (meta) { return ({\n                summary: _this._metadataResolver.getNgModuleSummary(meta.type.reference),\n                metadata: _this._metadataResolver.getNgModuleMetadata(meta.type.reference)\n            }); }), directives.map(function (ref) { return ({\n                summary: _this._metadataResolver.getDirectiveSummary(ref),\n                metadata: _this._metadataResolver.getDirectiveMetadata(ref)\n            }); }), pipes.map(function (ref) { return ({\n                summary: _this._metadataResolver.getPipeSummary(ref),\n                metadata: _this._metadataResolver.getPipeMetadata(ref)\n            }); }), injectables.map(function (ref) { return ({\n                summary: _this._metadataResolver.getInjectableSummary(ref.symbol),\n                metadata: _this._metadataResolver.getInjectableSummary(ref.symbol).type\n            }); }));\n            var forJitOutputCtx = this._options.enableSummariesForJit ?\n                this._createOutputContext(summaryForJitFileName(srcFileName, true)) :\n                null;\n            var _a = serializeSummaries(srcFileName, forJitOutputCtx, this._summaryResolver, this._symbolResolver, symbolSummaries, typeData), json = _a.json, exportAs = _a.exportAs;\n            exportAs.forEach(function (entry) {\n                ngFactoryCtx.statements.push(variable(entry.exportAs).set(ngFactoryCtx.importExpr(entry.symbol)).toDeclStmt(null, [\n                    exports.StmtModifier.Exported\n                ]));\n            });\n            var summaryJson = new GeneratedFile(srcFileName, summaryFileName(srcFileName), json);\n            var result = [summaryJson];\n            if (forJitOutputCtx) {\n                result.push(this._codegenSourceModule(srcFileName, forJitOutputCtx));\n            }\n            return result;\n        };\n        AotCompiler.prototype._compileModule = function (outputCtx, ngModule) {\n            var providers = [];\n            if (this._options.locale) {\n                var normalizedLocale = this._options.locale.replace(/_/g, '-');\n                providers.push({\n                    token: createTokenForExternalReference(this.reflector, Identifiers.LOCALE_ID),\n                    useValue: normalizedLocale,\n                });\n            }\n            if (this._options.i18nFormat) {\n                providers.push({\n                    token: createTokenForExternalReference(this.reflector, Identifiers.TRANSLATIONS_FORMAT),\n                    useValue: this._options.i18nFormat\n                });\n            }\n            this._ngModuleCompiler.compile(outputCtx, ngModule, providers);\n        };\n        AotCompiler.prototype._compileComponentFactory = function (outputCtx, compMeta, ngModule, fileSuffix) {\n            var hostMeta = this._metadataResolver.getHostComponentMetadata(compMeta);\n            var hostViewFactoryVar = this._compileComponent(outputCtx, hostMeta, ngModule, [compMeta.type], null, fileSuffix)\n                .viewClassVar;\n            var compFactoryVar = componentFactoryName(compMeta.type.reference);\n            var inputsExprs = [];\n            for (var propName in compMeta.inputs) {\n                var templateName = compMeta.inputs[propName];\n                // Don't quote so that the key gets minified...\n                inputsExprs.push(new LiteralMapEntry(propName, literal(templateName), false));\n            }\n            var outputsExprs = [];\n            for (var propName in compMeta.outputs) {\n                var templateName = compMeta.outputs[propName];\n                // Don't quote so that the key gets minified...\n                outputsExprs.push(new LiteralMapEntry(propName, literal(templateName), false));\n            }\n            outputCtx.statements.push(variable(compFactoryVar)\n                .set(importExpr(Identifiers.createComponentFactory).callFn([\n                literal(compMeta.selector), outputCtx.importExpr(compMeta.type.reference),\n                variable(hostViewFactoryVar), new LiteralMapExpr(inputsExprs),\n                new LiteralMapExpr(outputsExprs),\n                literalArr(compMeta.template.ngContentSelectors.map(function (selector) { return literal(selector); }))\n            ]))\n                .toDeclStmt(importType(Identifiers.ComponentFactory, [expressionType(outputCtx.importExpr(compMeta.type.reference))], [TypeModifier.Const]), [exports.StmtModifier.Final, exports.StmtModifier.Exported]));\n        };\n        AotCompiler.prototype._compileComponent = function (outputCtx, compMeta, ngModule, directiveIdentifiers, componentStyles, fileSuffix) {\n            var _a = this._parseTemplate(compMeta, ngModule, directiveIdentifiers), parsedTemplate = _a.template, usedPipes = _a.pipes;\n            var stylesExpr = componentStyles ? variable(componentStyles.stylesVar) : literalArr([]);\n            var viewResult = this._viewCompiler.compileComponent(outputCtx, compMeta, parsedTemplate, stylesExpr, usedPipes);\n            if (componentStyles) {\n                _resolveStyleStatements(this._symbolResolver, componentStyles, this._styleCompiler.needsStyleShim(compMeta), fileSuffix);\n            }\n            return viewResult;\n        };\n        AotCompiler.prototype._parseTemplate = function (compMeta, ngModule, directiveIdentifiers) {\n            var _this = this;\n            if (this._templateAstCache.has(compMeta.type.reference)) {\n                return this._templateAstCache.get(compMeta.type.reference);\n            }\n            var preserveWhitespaces = compMeta.template.preserveWhitespaces;\n            var directives = directiveIdentifiers.map(function (dir) { return _this._metadataResolver.getDirectiveSummary(dir.reference); });\n            var pipes = ngModule.transitiveModule.pipes.map(function (pipe) { return _this._metadataResolver.getPipeSummary(pipe.reference); });\n            var result = this._templateParser.parse(compMeta, compMeta.template.htmlAst, directives, pipes, ngModule.schemas, templateSourceUrl(ngModule.type, compMeta, compMeta.template), preserveWhitespaces);\n            this._templateAstCache.set(compMeta.type.reference, result);\n            return result;\n        };\n        AotCompiler.prototype._createOutputContext = function (genFilePath) {\n            var _this = this;\n            var importExpr$$1 = function (symbol, typeParams, useSummaries) {\n                if (typeParams === void 0) { typeParams = null; }\n                if (useSummaries === void 0) { useSummaries = true; }\n                if (!(symbol instanceof StaticSymbol)) {\n                    throw new Error(\"Internal error: unknown identifier \" + JSON.stringify(symbol));\n                }\n                var arity = _this._symbolResolver.getTypeArity(symbol) || 0;\n                var _a = _this._symbolResolver.getImportAs(symbol, useSummaries) || symbol, filePath = _a.filePath, name = _a.name, members = _a.members;\n                var importModule = _this._fileNameToModuleName(filePath, genFilePath);\n                // It should be good enough to compare filePath to genFilePath and if they are equal\n                // there is a self reference. However, ngfactory files generate to .ts but their\n                // symbols have .d.ts so a simple compare is insufficient. They should be canonical\n                // and is tracked by #17705.\n                var selfReference = _this._fileNameToModuleName(genFilePath, genFilePath);\n                var moduleName = importModule === selfReference ? null : importModule;\n                // If we are in a type expression that refers to a generic type then supply\n                // the required type parameters. If there were not enough type parameters\n                // supplied, supply any as the type. Outside a type expression the reference\n                // should not supply type parameters and be treated as a simple value reference\n                // to the constructor function itself.\n                var suppliedTypeParams = typeParams || [];\n                var missingTypeParamsCount = arity - suppliedTypeParams.length;\n                var allTypeParams = suppliedTypeParams.concat(new Array(missingTypeParamsCount).fill(DYNAMIC_TYPE));\n                return members.reduce(function (expr, memberName) { return expr.prop(memberName); }, importExpr(new ExternalReference(moduleName, name, null), allTypeParams));\n            };\n            return { statements: [], genFilePath: genFilePath, importExpr: importExpr$$1, constantPool: new ConstantPool() };\n        };\n        AotCompiler.prototype._fileNameToModuleName = function (importedFilePath, containingFilePath) {\n            return this._summaryResolver.getKnownModuleName(importedFilePath) ||\n                this._symbolResolver.getKnownModuleName(importedFilePath) ||\n                this._host.fileNameToModuleName(importedFilePath, containingFilePath);\n        };\n        AotCompiler.prototype._codegenStyles = function (srcFileUrl, compMeta, stylesheetMetadata, isShimmed, fileSuffix) {\n            var outputCtx = this._createOutputContext(_stylesModuleUrl(stylesheetMetadata.moduleUrl, isShimmed, fileSuffix));\n            var compiledStylesheet = this._styleCompiler.compileStyles(outputCtx, compMeta, stylesheetMetadata, isShimmed);\n            _resolveStyleStatements(this._symbolResolver, compiledStylesheet, isShimmed, fileSuffix);\n            return this._codegenSourceModule(srcFileUrl, outputCtx);\n        };\n        AotCompiler.prototype._codegenSourceModule = function (srcFileUrl, ctx) {\n            return new GeneratedFile(srcFileUrl, ctx.genFilePath, ctx.statements);\n        };\n        AotCompiler.prototype.listLazyRoutes = function (entryRoute, analyzedModules) {\n            var e_2, _a, e_3, _b;\n            var self = this;\n            if (entryRoute) {\n                var symbol = parseLazyRoute(entryRoute, this.reflector).referencedModule;\n                return visitLazyRoute(symbol);\n            }\n            else if (analyzedModules) {\n                var allLazyRoutes = [];\n                try {\n                    for (var _c = __values(analyzedModules.ngModules), _d = _c.next(); !_d.done; _d = _c.next()) {\n                        var ngModule = _d.value;\n                        var lazyRoutes = listLazyRoutes(ngModule, this.reflector);\n                        try {\n                            for (var lazyRoutes_1 = __values(lazyRoutes), lazyRoutes_1_1 = lazyRoutes_1.next(); !lazyRoutes_1_1.done; lazyRoutes_1_1 = lazyRoutes_1.next()) {\n                                var lazyRoute = lazyRoutes_1_1.value;\n                                allLazyRoutes.push(lazyRoute);\n                            }\n                        }\n                        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                        finally {\n                            try {\n                                if (lazyRoutes_1_1 && !lazyRoutes_1_1.done && (_b = lazyRoutes_1.return)) _b.call(lazyRoutes_1);\n                            }\n                            finally { if (e_3) throw e_3.error; }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                return allLazyRoutes;\n            }\n            else {\n                throw new Error(\"Either route or analyzedModules has to be specified!\");\n            }\n            function visitLazyRoute(symbol, seenRoutes, allLazyRoutes) {\n                if (seenRoutes === void 0) { seenRoutes = new Set(); }\n                if (allLazyRoutes === void 0) { allLazyRoutes = []; }\n                var e_4, _a;\n                // Support pointing to default exports, but stop recursing there,\n                // as the StaticReflector does not yet support default exports.\n                if (seenRoutes.has(symbol) || !symbol.name) {\n                    return allLazyRoutes;\n                }\n                seenRoutes.add(symbol);\n                var lazyRoutes = listLazyRoutes(self._metadataResolver.getNgModuleMetadata(symbol, true), self.reflector);\n                try {\n                    for (var lazyRoutes_2 = __values(lazyRoutes), lazyRoutes_2_1 = lazyRoutes_2.next(); !lazyRoutes_2_1.done; lazyRoutes_2_1 = lazyRoutes_2.next()) {\n                        var lazyRoute = lazyRoutes_2_1.value;\n                        allLazyRoutes.push(lazyRoute);\n                        visitLazyRoute(lazyRoute.referencedModule, seenRoutes, allLazyRoutes);\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (lazyRoutes_2_1 && !lazyRoutes_2_1.done && (_a = lazyRoutes_2.return)) _a.call(lazyRoutes_2);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n                return allLazyRoutes;\n            }\n        };\n        return AotCompiler;\n    }());\n    function _createEmptyStub(outputCtx) {\n        // Note: We need to produce at least one import statement so that\n        // TypeScript knows that the file is an es6 module. Otherwise our generated\n        // exports / imports won't be emitted properly by TypeScript.\n        outputCtx.statements.push(importExpr(Identifiers.ComponentFactory).toStmt());\n    }\n    function _resolveStyleStatements(symbolResolver, compileResult, needsShim, fileSuffix) {\n        compileResult.dependencies.forEach(function (dep) {\n            dep.setValue(symbolResolver.getStaticSymbol(_stylesModuleUrl(dep.moduleUrl, needsShim, fileSuffix), dep.name));\n        });\n    }\n    function _stylesModuleUrl(stylesheetUrl, shim, suffix) {\n        return \"\" + stylesheetUrl + (shim ? '.shim' : '') + \".ngstyle\" + suffix;\n    }\n    function analyzeNgModules(fileNames, host, staticSymbolResolver, metadataResolver) {\n        var files = _analyzeFilesIncludingNonProgramFiles(fileNames, host, staticSymbolResolver, metadataResolver);\n        return mergeAnalyzedFiles(files);\n    }\n    function analyzeAndValidateNgModules(fileNames, host, staticSymbolResolver, metadataResolver) {\n        return validateAnalyzedModules(analyzeNgModules(fileNames, host, staticSymbolResolver, metadataResolver));\n    }\n    function validateAnalyzedModules(analyzedModules) {\n        if (analyzedModules.symbolsMissingModule && analyzedModules.symbolsMissingModule.length) {\n            var messages = analyzedModules.symbolsMissingModule.map(function (s) {\n                return \"Cannot determine the module for class \" + s.name + \" in \" + s.filePath + \"! Add \" + s.name + \" to the NgModule to fix it.\";\n            });\n            throw syntaxError(messages.join('\\n'));\n        }\n        return analyzedModules;\n    }\n    // Analyzes all of the program files,\n    // including files that are not part of the program\n    // but are referenced by an NgModule.\n    function _analyzeFilesIncludingNonProgramFiles(fileNames, host, staticSymbolResolver, metadataResolver) {\n        var seenFiles = new Set();\n        var files = [];\n        var visitFile = function (fileName) {\n            if (seenFiles.has(fileName) || !host.isSourceFile(fileName)) {\n                return false;\n            }\n            seenFiles.add(fileName);\n            var analyzedFile = analyzeFile(host, staticSymbolResolver, metadataResolver, fileName);\n            files.push(analyzedFile);\n            analyzedFile.ngModules.forEach(function (ngModule) {\n                ngModule.transitiveModule.modules.forEach(function (modMeta) { return visitFile(modMeta.reference.filePath); });\n            });\n        };\n        fileNames.forEach(function (fileName) { return visitFile(fileName); });\n        return files;\n    }\n    function analyzeFile(host, staticSymbolResolver, metadataResolver, fileName) {\n        var directives = [];\n        var pipes = [];\n        var injectables = [];\n        var ngModules = [];\n        var hasDecorators = staticSymbolResolver.hasDecorators(fileName);\n        var exportsNonSourceFiles = false;\n        // Don't analyze .d.ts files that have no decorators as a shortcut\n        // to speed up the analysis. This prevents us from\n        // resolving the references in these files.\n        // Note: exportsNonSourceFiles is only needed when compiling with summaries,\n        // which is not the case when .d.ts files are treated as input files.\n        if (!fileName.endsWith('.d.ts') || hasDecorators) {\n            staticSymbolResolver.getSymbolsOf(fileName).forEach(function (symbol) {\n                var resolvedSymbol = staticSymbolResolver.resolveSymbol(symbol);\n                var symbolMeta = resolvedSymbol.metadata;\n                if (!symbolMeta || symbolMeta.__symbolic === 'error') {\n                    return;\n                }\n                var isNgSymbol = false;\n                if (symbolMeta.__symbolic === 'class') {\n                    if (metadataResolver.isDirective(symbol)) {\n                        isNgSymbol = true;\n                        directives.push(symbol);\n                    }\n                    else if (metadataResolver.isPipe(symbol)) {\n                        isNgSymbol = true;\n                        pipes.push(symbol);\n                    }\n                    else if (metadataResolver.isNgModule(symbol)) {\n                        var ngModule = metadataResolver.getNgModuleMetadata(symbol, false);\n                        if (ngModule) {\n                            isNgSymbol = true;\n                            ngModules.push(ngModule);\n                        }\n                    }\n                    else if (metadataResolver.isInjectable(symbol)) {\n                        isNgSymbol = true;\n                        var injectable = metadataResolver.getInjectableMetadata(symbol, null, false);\n                        if (injectable) {\n                            injectables.push(injectable);\n                        }\n                    }\n                }\n                if (!isNgSymbol) {\n                    exportsNonSourceFiles =\n                        exportsNonSourceFiles || isValueExportingNonSourceFile(host, symbolMeta);\n                }\n            });\n        }\n        return {\n            fileName: fileName, directives: directives, pipes: pipes, ngModules: ngModules, injectables: injectables, exportsNonSourceFiles: exportsNonSourceFiles,\n        };\n    }\n    function analyzeFileForInjectables(host, staticSymbolResolver, metadataResolver, fileName) {\n        var injectables = [];\n        var shallowModules = [];\n        if (staticSymbolResolver.hasDecorators(fileName)) {\n            staticSymbolResolver.getSymbolsOf(fileName).forEach(function (symbol) {\n                var resolvedSymbol = staticSymbolResolver.resolveSymbol(symbol);\n                var symbolMeta = resolvedSymbol.metadata;\n                if (!symbolMeta || symbolMeta.__symbolic === 'error') {\n                    return;\n                }\n                if (symbolMeta.__symbolic === 'class') {\n                    if (metadataResolver.isInjectable(symbol)) {\n                        var injectable = metadataResolver.getInjectableMetadata(symbol, null, false);\n                        if (injectable) {\n                            injectables.push(injectable);\n                        }\n                    }\n                    else if (metadataResolver.isNgModule(symbol)) {\n                        var module = metadataResolver.getShallowModuleMetadata(symbol);\n                        if (module) {\n                            shallowModules.push(module);\n                        }\n                    }\n                }\n            });\n        }\n        return { fileName: fileName, injectables: injectables, shallowModules: shallowModules };\n    }\n    function isValueExportingNonSourceFile(host, metadata) {\n        var exportsNonSourceFiles = false;\n        var Visitor = /** @class */ (function () {\n            function Visitor() {\n            }\n            Visitor.prototype.visitArray = function (arr, context) {\n                var _this = this;\n                arr.forEach(function (v) { return visitValue(v, _this, context); });\n            };\n            Visitor.prototype.visitStringMap = function (map, context) {\n                var _this = this;\n                Object.keys(map).forEach(function (key) { return visitValue(map[key], _this, context); });\n            };\n            Visitor.prototype.visitPrimitive = function (value, context) { };\n            Visitor.prototype.visitOther = function (value, context) {\n                if (value instanceof StaticSymbol && !host.isSourceFile(value.filePath)) {\n                    exportsNonSourceFiles = true;\n                }\n            };\n            return Visitor;\n        }());\n        visitValue(metadata, new Visitor(), null);\n        return exportsNonSourceFiles;\n    }\n    function mergeAnalyzedFiles(analyzedFiles) {\n        var allNgModules = [];\n        var ngModuleByPipeOrDirective = new Map();\n        var allPipesAndDirectives = new Set();\n        analyzedFiles.forEach(function (af) {\n            af.ngModules.forEach(function (ngModule) {\n                allNgModules.push(ngModule);\n                ngModule.declaredDirectives.forEach(function (d) { return ngModuleByPipeOrDirective.set(d.reference, ngModule); });\n                ngModule.declaredPipes.forEach(function (p) { return ngModuleByPipeOrDirective.set(p.reference, ngModule); });\n            });\n            af.directives.forEach(function (d) { return allPipesAndDirectives.add(d); });\n            af.pipes.forEach(function (p) { return allPipesAndDirectives.add(p); });\n        });\n        var symbolsMissingModule = [];\n        allPipesAndDirectives.forEach(function (ref) {\n            if (!ngModuleByPipeOrDirective.has(ref)) {\n                symbolsMissingModule.push(ref);\n            }\n        });\n        return {\n            ngModules: allNgModules,\n            ngModuleByPipeOrDirective: ngModuleByPipeOrDirective,\n            symbolsMissingModule: symbolsMissingModule,\n            files: analyzedFiles\n        };\n    }\n    function mergeAndValidateNgFiles(files) {\n        return validateAnalyzedModules(mergeAnalyzedFiles(files));\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var FORMATTED_MESSAGE = 'ngFormattedMessage';\n    function indentStr(level) {\n        if (level <= 0)\n            return '';\n        if (level < 6)\n            return ['', ' ', '  ', '   ', '    ', '     '][level];\n        var half = indentStr(Math.floor(level / 2));\n        return half + half + (level % 2 === 1 ? ' ' : '');\n    }\n    function formatChain(chain, indent) {\n        if (indent === void 0) { indent = 0; }\n        if (!chain)\n            return '';\n        var position = chain.position ?\n            chain.position.fileName + \"(\" + (chain.position.line + 1) + \",\" + (chain.position.column + 1) + \")\" :\n            '';\n        var prefix = position && indent === 0 ? position + \": \" : '';\n        var postfix = position && indent !== 0 ? \" at \" + position : '';\n        var message = \"\" + prefix + chain.message + postfix;\n        return \"\" + indentStr(indent) + message + ((chain.next && ('\\n' + formatChain(chain.next, indent + 2))) || '');\n    }\n    function formattedError(chain) {\n        var message = formatChain(chain) + '.';\n        var error$$1 = syntaxError(message);\n        error$$1[FORMATTED_MESSAGE] = true;\n        error$$1.chain = chain;\n        error$$1.position = chain.position;\n        return error$$1;\n    }\n    function isFormattedError(error$$1) {\n        return !!error$$1[FORMATTED_MESSAGE];\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ANGULAR_CORE = '@angular/core';\n    var ANGULAR_ROUTER = '@angular/router';\n    var HIDDEN_KEY = /^\\$.*\\$$/;\n    var IGNORE = {\n        __symbolic: 'ignore'\n    };\n    var USE_VALUE = 'useValue';\n    var PROVIDE = 'provide';\n    var REFERENCE_SET = new Set([USE_VALUE, 'useFactory', 'data', 'id', 'loadChildren']);\n    var TYPEGUARD_POSTFIX = 'TypeGuard';\n    var USE_IF = 'UseIf';\n    function shouldIgnore(value) {\n        return value && value.__symbolic == 'ignore';\n    }\n    /**\n     * A static reflector implements enough of the Reflector API that is necessary to compile\n     * templates statically.\n     */\n    var StaticReflector = /** @class */ (function () {\n        function StaticReflector(summaryResolver, symbolResolver, knownMetadataClasses, knownMetadataFunctions, errorRecorder) {\n            if (knownMetadataClasses === void 0) { knownMetadataClasses = []; }\n            if (knownMetadataFunctions === void 0) { knownMetadataFunctions = []; }\n            var _this = this;\n            this.summaryResolver = summaryResolver;\n            this.symbolResolver = symbolResolver;\n            this.errorRecorder = errorRecorder;\n            this.annotationCache = new Map();\n            this.shallowAnnotationCache = new Map();\n            this.propertyCache = new Map();\n            this.parameterCache = new Map();\n            this.methodCache = new Map();\n            this.staticCache = new Map();\n            this.conversionMap = new Map();\n            this.resolvedExternalReferences = new Map();\n            this.annotationForParentClassWithSummaryKind = new Map();\n            this.initializeConversionMap();\n            knownMetadataClasses.forEach(function (kc) { return _this._registerDecoratorOrConstructor(_this.getStaticSymbol(kc.filePath, kc.name), kc.ctor); });\n            knownMetadataFunctions.forEach(function (kf) { return _this._registerFunction(_this.getStaticSymbol(kf.filePath, kf.name), kf.fn); });\n            this.annotationForParentClassWithSummaryKind.set(exports.CompileSummaryKind.Directive, [createDirective, createComponent]);\n            this.annotationForParentClassWithSummaryKind.set(exports.CompileSummaryKind.Pipe, [createPipe]);\n            this.annotationForParentClassWithSummaryKind.set(exports.CompileSummaryKind.NgModule, [createNgModule]);\n            this.annotationForParentClassWithSummaryKind.set(exports.CompileSummaryKind.Injectable, [createInjectable, createPipe, createDirective, createComponent, createNgModule]);\n        }\n        StaticReflector.prototype.componentModuleUrl = function (typeOrFunc) {\n            var staticSymbol = this.findSymbolDeclaration(typeOrFunc);\n            return this.symbolResolver.getResourcePath(staticSymbol);\n        };\n        StaticReflector.prototype.resolveExternalReference = function (ref, containingFile) {\n            var key = undefined;\n            if (!containingFile) {\n                key = ref.moduleName + \":\" + ref.name;\n                var declarationSymbol_1 = this.resolvedExternalReferences.get(key);\n                if (declarationSymbol_1)\n                    return declarationSymbol_1;\n            }\n            var refSymbol = this.symbolResolver.getSymbolByModule(ref.moduleName, ref.name, containingFile);\n            var declarationSymbol = this.findSymbolDeclaration(refSymbol);\n            if (!containingFile) {\n                this.symbolResolver.recordModuleNameForFileName(refSymbol.filePath, ref.moduleName);\n                this.symbolResolver.recordImportAs(declarationSymbol, refSymbol);\n            }\n            if (key) {\n                this.resolvedExternalReferences.set(key, declarationSymbol);\n            }\n            return declarationSymbol;\n        };\n        StaticReflector.prototype.findDeclaration = function (moduleUrl, name, containingFile) {\n            return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(moduleUrl, name, containingFile));\n        };\n        StaticReflector.prototype.tryFindDeclaration = function (moduleUrl, name, containingFile) {\n            var _this = this;\n            return this.symbolResolver.ignoreErrorsFor(function () { return _this.findDeclaration(moduleUrl, name, containingFile); });\n        };\n        StaticReflector.prototype.findSymbolDeclaration = function (symbol) {\n            var resolvedSymbol = this.symbolResolver.resolveSymbol(symbol);\n            if (resolvedSymbol) {\n                var resolvedMetadata = resolvedSymbol.metadata;\n                if (resolvedMetadata && resolvedMetadata.__symbolic === 'resolved') {\n                    resolvedMetadata = resolvedMetadata.symbol;\n                }\n                if (resolvedMetadata instanceof StaticSymbol) {\n                    return this.findSymbolDeclaration(resolvedSymbol.metadata);\n                }\n            }\n            return symbol;\n        };\n        StaticReflector.prototype.tryAnnotations = function (type) {\n            var originalRecorder = this.errorRecorder;\n            this.errorRecorder = function (error$$1, fileName) { };\n            try {\n                return this.annotations(type);\n            }\n            finally {\n                this.errorRecorder = originalRecorder;\n            }\n        };\n        StaticReflector.prototype.annotations = function (type) {\n            var _this = this;\n            return this._annotations(type, function (type, decorators) { return _this.simplify(type, decorators); }, this.annotationCache);\n        };\n        StaticReflector.prototype.shallowAnnotations = function (type) {\n            var _this = this;\n            return this._annotations(type, function (type, decorators) { return _this.simplify(type, decorators, true); }, this.shallowAnnotationCache);\n        };\n        StaticReflector.prototype._annotations = function (type, simplify, annotationCache) {\n            var annotations = annotationCache.get(type);\n            if (!annotations) {\n                annotations = [];\n                var classMetadata = this.getTypeMetadata(type);\n                var parentType = this.findParentType(type, classMetadata);\n                if (parentType) {\n                    var parentAnnotations = this.annotations(parentType);\n                    annotations.push.apply(annotations, __spread(parentAnnotations));\n                }\n                var ownAnnotations_1 = [];\n                if (classMetadata['decorators']) {\n                    ownAnnotations_1 = simplify(type, classMetadata['decorators']);\n                    if (ownAnnotations_1) {\n                        annotations.push.apply(annotations, __spread(ownAnnotations_1));\n                    }\n                }\n                if (parentType && !this.summaryResolver.isLibraryFile(type.filePath) &&\n                    this.summaryResolver.isLibraryFile(parentType.filePath)) {\n                    var summary = this.summaryResolver.resolveSummary(parentType);\n                    if (summary && summary.type) {\n                        var requiredAnnotationTypes = this.annotationForParentClassWithSummaryKind.get(summary.type.summaryKind);\n                        var typeHasRequiredAnnotation = requiredAnnotationTypes.some(function (requiredType) { return ownAnnotations_1.some(function (ann) { return requiredType.isTypeOf(ann); }); });\n                        if (!typeHasRequiredAnnotation) {\n                            this.reportError(formatMetadataError(metadataError(\"Class \" + type.name + \" in \" + type.filePath + \" extends from a \" + exports.CompileSummaryKind[summary.type.summaryKind] + \" in another compilation unit without duplicating the decorator\", \n                            /* summary */ undefined, \"Please add a \" + requiredAnnotationTypes.map(function (type) { return type.ngMetadataName; }).join(' or ') + \" decorator to the class\"), type), type);\n                        }\n                    }\n                }\n                annotationCache.set(type, annotations.filter(function (ann) { return !!ann; }));\n            }\n            return annotations;\n        };\n        StaticReflector.prototype.propMetadata = function (type) {\n            var _this = this;\n            var propMetadata = this.propertyCache.get(type);\n            if (!propMetadata) {\n                var classMetadata = this.getTypeMetadata(type);\n                propMetadata = {};\n                var parentType = this.findParentType(type, classMetadata);\n                if (parentType) {\n                    var parentPropMetadata_1 = this.propMetadata(parentType);\n                    Object.keys(parentPropMetadata_1).forEach(function (parentProp) {\n                        propMetadata[parentProp] = parentPropMetadata_1[parentProp];\n                    });\n                }\n                var members_1 = classMetadata['members'] || {};\n                Object.keys(members_1).forEach(function (propName) {\n                    var propData = members_1[propName];\n                    var prop = propData\n                        .find(function (a) { return a['__symbolic'] == 'property' || a['__symbolic'] == 'method'; });\n                    var decorators = [];\n                    if (propMetadata[propName]) {\n                        decorators.push.apply(decorators, __spread(propMetadata[propName]));\n                    }\n                    propMetadata[propName] = decorators;\n                    if (prop && prop['decorators']) {\n                        decorators.push.apply(decorators, __spread(_this.simplify(type, prop['decorators'])));\n                    }\n                });\n                this.propertyCache.set(type, propMetadata);\n            }\n            return propMetadata;\n        };\n        StaticReflector.prototype.parameters = function (type) {\n            var _this = this;\n            if (!(type instanceof StaticSymbol)) {\n                this.reportError(new Error(\"parameters received \" + JSON.stringify(type) + \" which is not a StaticSymbol\"), type);\n                return [];\n            }\n            try {\n                var parameters_1 = this.parameterCache.get(type);\n                if (!parameters_1) {\n                    var classMetadata = this.getTypeMetadata(type);\n                    var parentType = this.findParentType(type, classMetadata);\n                    var members = classMetadata ? classMetadata['members'] : null;\n                    var ctorData = members ? members['__ctor__'] : null;\n                    if (ctorData) {\n                        var ctor = ctorData.find(function (a) { return a['__symbolic'] == 'constructor'; });\n                        var rawParameterTypes = ctor['parameters'] || [];\n                        var parameterDecorators_1 = this.simplify(type, ctor['parameterDecorators'] || []);\n                        parameters_1 = [];\n                        rawParameterTypes.forEach(function (rawParamType, index) {\n                            var nestedResult = [];\n                            var paramType = _this.trySimplify(type, rawParamType);\n                            if (paramType)\n                                nestedResult.push(paramType);\n                            var decorators = parameterDecorators_1 ? parameterDecorators_1[index] : null;\n                            if (decorators) {\n                                nestedResult.push.apply(nestedResult, __spread(decorators));\n                            }\n                            parameters_1.push(nestedResult);\n                        });\n                    }\n                    else if (parentType) {\n                        parameters_1 = this.parameters(parentType);\n                    }\n                    if (!parameters_1) {\n                        parameters_1 = [];\n                    }\n                    this.parameterCache.set(type, parameters_1);\n                }\n                return parameters_1;\n            }\n            catch (e) {\n                console.error(\"Failed on type \" + JSON.stringify(type) + \" with error \" + e);\n                throw e;\n            }\n        };\n        StaticReflector.prototype._methodNames = function (type) {\n            var methodNames = this.methodCache.get(type);\n            if (!methodNames) {\n                var classMetadata = this.getTypeMetadata(type);\n                methodNames = {};\n                var parentType = this.findParentType(type, classMetadata);\n                if (parentType) {\n                    var parentMethodNames_1 = this._methodNames(parentType);\n                    Object.keys(parentMethodNames_1).forEach(function (parentProp) {\n                        methodNames[parentProp] = parentMethodNames_1[parentProp];\n                    });\n                }\n                var members_2 = classMetadata['members'] || {};\n                Object.keys(members_2).forEach(function (propName) {\n                    var propData = members_2[propName];\n                    var isMethod = propData.some(function (a) { return a['__symbolic'] == 'method'; });\n                    methodNames[propName] = methodNames[propName] || isMethod;\n                });\n                this.methodCache.set(type, methodNames);\n            }\n            return methodNames;\n        };\n        StaticReflector.prototype._staticMembers = function (type) {\n            var staticMembers = this.staticCache.get(type);\n            if (!staticMembers) {\n                var classMetadata = this.getTypeMetadata(type);\n                var staticMemberData = classMetadata['statics'] || {};\n                staticMembers = Object.keys(staticMemberData);\n                this.staticCache.set(type, staticMembers);\n            }\n            return staticMembers;\n        };\n        StaticReflector.prototype.findParentType = function (type, classMetadata) {\n            var parentType = this.trySimplify(type, classMetadata['extends']);\n            if (parentType instanceof StaticSymbol) {\n                return parentType;\n            }\n        };\n        StaticReflector.prototype.hasLifecycleHook = function (type, lcProperty) {\n            if (!(type instanceof StaticSymbol)) {\n                this.reportError(new Error(\"hasLifecycleHook received \" + JSON.stringify(type) + \" which is not a StaticSymbol\"), type);\n            }\n            try {\n                return !!this._methodNames(type)[lcProperty];\n            }\n            catch (e) {\n                console.error(\"Failed on type \" + JSON.stringify(type) + \" with error \" + e);\n                throw e;\n            }\n        };\n        StaticReflector.prototype.guards = function (type) {\n            var e_1, _a;\n            if (!(type instanceof StaticSymbol)) {\n                this.reportError(new Error(\"guards received \" + JSON.stringify(type) + \" which is not a StaticSymbol\"), type);\n                return {};\n            }\n            var staticMembers = this._staticMembers(type);\n            var result = {};\n            try {\n                for (var staticMembers_1 = __values(staticMembers), staticMembers_1_1 = staticMembers_1.next(); !staticMembers_1_1.done; staticMembers_1_1 = staticMembers_1.next()) {\n                    var name_1 = staticMembers_1_1.value;\n                    if (name_1.endsWith(TYPEGUARD_POSTFIX)) {\n                        var property = name_1.substr(0, name_1.length - TYPEGUARD_POSTFIX.length);\n                        var value = void 0;\n                        if (property.endsWith(USE_IF)) {\n                            property = name_1.substr(0, property.length - USE_IF.length);\n                            value = USE_IF;\n                        }\n                        else {\n                            value = this.getStaticSymbol(type.filePath, type.name, [name_1]);\n                        }\n                        result[property] = value;\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (staticMembers_1_1 && !staticMembers_1_1.done && (_a = staticMembers_1.return)) _a.call(staticMembers_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return result;\n        };\n        StaticReflector.prototype._registerDecoratorOrConstructor = function (type, ctor) {\n            this.conversionMap.set(type, function (context, args) { return new (ctor.bind.apply(ctor, __spread([void 0], args)))(); });\n        };\n        StaticReflector.prototype._registerFunction = function (type, fn) {\n            this.conversionMap.set(type, function (context, args) { return fn.apply(undefined, args); });\n        };\n        StaticReflector.prototype.initializeConversionMap = function () {\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Injectable'), createInjectable);\n            this.injectionToken = this.findDeclaration(ANGULAR_CORE, 'InjectionToken');\n            this.opaqueToken = this.findDeclaration(ANGULAR_CORE, 'OpaqueToken');\n            this.ROUTES = this.tryFindDeclaration(ANGULAR_ROUTER, 'ROUTES');\n            this.ANALYZE_FOR_ENTRY_COMPONENTS =\n                this.findDeclaration(ANGULAR_CORE, 'ANALYZE_FOR_ENTRY_COMPONENTS');\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Host'), createHost);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Self'), createSelf);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'SkipSelf'), createSkipSelf);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Inject'), createInject);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Optional'), createOptional);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Attribute'), createAttribute);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'ContentChild'), createContentChild);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'ContentChildren'), createContentChildren);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'ViewChild'), createViewChild);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'ViewChildren'), createViewChildren);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Input'), createInput);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Output'), createOutput);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Pipe'), createPipe);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'HostBinding'), createHostBinding);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'HostListener'), createHostListener);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Directive'), createDirective);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Component'), createComponent);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'NgModule'), createNgModule);\n            // Note: Some metadata classes can be used directly with Provider.deps.\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Host'), createHost);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Self'), createSelf);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'SkipSelf'), createSkipSelf);\n            this._registerDecoratorOrConstructor(this.findDeclaration(ANGULAR_CORE, 'Optional'), createOptional);\n        };\n        /**\n         * getStaticSymbol produces a Type whose metadata is known but whose implementation is not loaded.\n         * All types passed to the StaticResolver should be pseudo-types returned by this method.\n         *\n         * @param declarationFile the absolute path of the file where the symbol is declared\n         * @param name the name of the type.\n         */\n        StaticReflector.prototype.getStaticSymbol = function (declarationFile, name, members) {\n            return this.symbolResolver.getStaticSymbol(declarationFile, name, members);\n        };\n        /**\n         * Simplify but discard any errors\n         */\n        StaticReflector.prototype.trySimplify = function (context, value) {\n            var originalRecorder = this.errorRecorder;\n            this.errorRecorder = function (error$$1, fileName) { };\n            var result = this.simplify(context, value);\n            this.errorRecorder = originalRecorder;\n            return result;\n        };\n        /** @internal */\n        StaticReflector.prototype.simplify = function (context, value, lazy) {\n            if (lazy === void 0) { lazy = false; }\n            var self = this;\n            var scope = BindingScope$1.empty;\n            var calling = new Map();\n            function simplifyInContext(context, value, depth, references) {\n                function resolveReferenceValue(staticSymbol) {\n                    var resolvedSymbol = self.symbolResolver.resolveSymbol(staticSymbol);\n                    return resolvedSymbol ? resolvedSymbol.metadata : null;\n                }\n                function simplifyEagerly(value) {\n                    return simplifyInContext(context, value, depth, 0);\n                }\n                function simplifyLazily(value) {\n                    return simplifyInContext(context, value, depth, references + 1);\n                }\n                function simplifyNested(nestedContext, value) {\n                    if (nestedContext === context) {\n                        // If the context hasn't changed let the exception propagate unmodified.\n                        return simplifyInContext(nestedContext, value, depth + 1, references);\n                    }\n                    try {\n                        return simplifyInContext(nestedContext, value, depth + 1, references);\n                    }\n                    catch (e) {\n                        if (isMetadataError(e)) {\n                            // Propagate the message text up but add a message to the chain that explains how we got\n                            // here.\n                            // e.chain implies e.symbol\n                            var summaryMsg = e.chain ? 'references \\'' + e.symbol.name + '\\'' : errorSummary(e);\n                            var summary = \"'\" + nestedContext.name + \"' \" + summaryMsg;\n                            var chain = { message: summary, position: e.position, next: e.chain };\n                            // TODO(chuckj): retrieve the position information indirectly from the collectors node\n                            // map if the metadata is from a .ts file.\n                            self.error({\n                                message: e.message,\n                                advise: e.advise,\n                                context: e.context, chain: chain,\n                                symbol: nestedContext\n                            }, context);\n                        }\n                        else {\n                            // It is probably an internal error.\n                            throw e;\n                        }\n                    }\n                }\n                function simplifyCall(functionSymbol, targetFunction, args, targetExpression) {\n                    if (targetFunction && targetFunction['__symbolic'] == 'function') {\n                        if (calling.get(functionSymbol)) {\n                            self.error({\n                                message: 'Recursion is not supported',\n                                summary: \"called '\" + functionSymbol.name + \"' recursively\",\n                                value: targetFunction\n                            }, functionSymbol);\n                        }\n                        try {\n                            var value_1 = targetFunction['value'];\n                            if (value_1 && (depth != 0 || value_1.__symbolic != 'error')) {\n                                var parameters = targetFunction['parameters'];\n                                var defaults = targetFunction.defaults;\n                                args = args.map(function (arg) { return simplifyNested(context, arg); })\n                                    .map(function (arg) { return shouldIgnore(arg) ? undefined : arg; });\n                                if (defaults && defaults.length > args.length) {\n                                    args.push.apply(args, __spread(defaults.slice(args.length).map(function (value) { return simplify(value); })));\n                                }\n                                calling.set(functionSymbol, true);\n                                var functionScope = BindingScope$1.build();\n                                for (var i = 0; i < parameters.length; i++) {\n                                    functionScope.define(parameters[i], args[i]);\n                                }\n                                var oldScope = scope;\n                                var result_1;\n                                try {\n                                    scope = functionScope.done();\n                                    result_1 = simplifyNested(functionSymbol, value_1);\n                                }\n                                finally {\n                                    scope = oldScope;\n                                }\n                                return result_1;\n                            }\n                        }\n                        finally {\n                            calling.delete(functionSymbol);\n                        }\n                    }\n                    if (depth === 0) {\n                        // If depth is 0 we are evaluating the top level expression that is describing element\n                        // decorator. In this case, it is a decorator we don't understand, such as a custom\n                        // non-angular decorator, and we should just ignore it.\n                        return IGNORE;\n                    }\n                    var position = undefined;\n                    if (targetExpression && targetExpression.__symbolic == 'resolved') {\n                        var line = targetExpression.line;\n                        var character = targetExpression.character;\n                        var fileName = targetExpression.fileName;\n                        if (fileName != null && line != null && character != null) {\n                            position = { fileName: fileName, line: line, column: character };\n                        }\n                    }\n                    self.error({\n                        message: FUNCTION_CALL_NOT_SUPPORTED,\n                        context: functionSymbol,\n                        value: targetFunction, position: position\n                    }, context);\n                }\n                function simplify(expression) {\n                    var e_2, _a, e_3, _b;\n                    if (isPrimitive(expression)) {\n                        return expression;\n                    }\n                    if (expression instanceof Array) {\n                        var result_2 = [];\n                        try {\n                            for (var _c = __values(expression), _d = _c.next(); !_d.done; _d = _c.next()) {\n                                var item = _d.value;\n                                // Check for a spread expression\n                                if (item && item.__symbolic === 'spread') {\n                                    // We call with references as 0 because we require the actual value and cannot\n                                    // tolerate a reference here.\n                                    var spreadArray = simplifyEagerly(item.expression);\n                                    if (Array.isArray(spreadArray)) {\n                                        try {\n                                            for (var spreadArray_1 = __values(spreadArray), spreadArray_1_1 = spreadArray_1.next(); !spreadArray_1_1.done; spreadArray_1_1 = spreadArray_1.next()) {\n                                                var spreadItem = spreadArray_1_1.value;\n                                                result_2.push(spreadItem);\n                                            }\n                                        }\n                                        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                                        finally {\n                                            try {\n                                                if (spreadArray_1_1 && !spreadArray_1_1.done && (_b = spreadArray_1.return)) _b.call(spreadArray_1);\n                                            }\n                                            finally { if (e_3) throw e_3.error; }\n                                        }\n                                        continue;\n                                    }\n                                }\n                                var value_2 = simplify(item);\n                                if (shouldIgnore(value_2)) {\n                                    continue;\n                                }\n                                result_2.push(value_2);\n                            }\n                        }\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                        finally {\n                            try {\n                                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                            }\n                            finally { if (e_2) throw e_2.error; }\n                        }\n                        return result_2;\n                    }\n                    if (expression instanceof StaticSymbol) {\n                        // Stop simplification at builtin symbols or if we are in a reference context and\n                        // the symbol doesn't have members.\n                        if (expression === self.injectionToken || self.conversionMap.has(expression) ||\n                            (references > 0 && !expression.members.length)) {\n                            return expression;\n                        }\n                        else {\n                            var staticSymbol = expression;\n                            var declarationValue = resolveReferenceValue(staticSymbol);\n                            if (declarationValue != null) {\n                                return simplifyNested(staticSymbol, declarationValue);\n                            }\n                            else {\n                                return staticSymbol;\n                            }\n                        }\n                    }\n                    if (expression) {\n                        if (expression['__symbolic']) {\n                            var staticSymbol = void 0;\n                            switch (expression['__symbolic']) {\n                                case 'binop':\n                                    var left = simplify(expression['left']);\n                                    if (shouldIgnore(left))\n                                        return left;\n                                    var right = simplify(expression['right']);\n                                    if (shouldIgnore(right))\n                                        return right;\n                                    switch (expression['operator']) {\n                                        case '&&':\n                                            return left && right;\n                                        case '||':\n                                            return left || right;\n                                        case '|':\n                                            return left | right;\n                                        case '^':\n                                            return left ^ right;\n                                        case '&':\n                                            return left & right;\n                                        case '==':\n                                            return left == right;\n                                        case '!=':\n                                            return left != right;\n                                        case '===':\n                                            return left === right;\n                                        case '!==':\n                                            return left !== right;\n                                        case '<':\n                                            return left < right;\n                                        case '>':\n                                            return left > right;\n                                        case '<=':\n                                            return left <= right;\n                                        case '>=':\n                                            return left >= right;\n                                        case '<<':\n                                            return left << right;\n                                        case '>>':\n                                            return left >> right;\n                                        case '+':\n                                            return left + right;\n                                        case '-':\n                                            return left - right;\n                                        case '*':\n                                            return left * right;\n                                        case '/':\n                                            return left / right;\n                                        case '%':\n                                            return left % right;\n                                    }\n                                    return null;\n                                case 'if':\n                                    var condition = simplify(expression['condition']);\n                                    return condition ? simplify(expression['thenExpression']) :\n                                        simplify(expression['elseExpression']);\n                                case 'pre':\n                                    var operand = simplify(expression['operand']);\n                                    if (shouldIgnore(operand))\n                                        return operand;\n                                    switch (expression['operator']) {\n                                        case '+':\n                                            return operand;\n                                        case '-':\n                                            return -operand;\n                                        case '!':\n                                            return !operand;\n                                        case '~':\n                                            return ~operand;\n                                    }\n                                    return null;\n                                case 'index':\n                                    var indexTarget = simplifyEagerly(expression['expression']);\n                                    var index = simplifyEagerly(expression['index']);\n                                    if (indexTarget && isPrimitive(index))\n                                        return indexTarget[index];\n                                    return null;\n                                case 'select':\n                                    var member = expression['member'];\n                                    var selectContext = context;\n                                    var selectTarget = simplify(expression['expression']);\n                                    if (selectTarget instanceof StaticSymbol) {\n                                        var members = selectTarget.members.concat(member);\n                                        selectContext =\n                                            self.getStaticSymbol(selectTarget.filePath, selectTarget.name, members);\n                                        var declarationValue = resolveReferenceValue(selectContext);\n                                        if (declarationValue != null) {\n                                            return simplifyNested(selectContext, declarationValue);\n                                        }\n                                        else {\n                                            return selectContext;\n                                        }\n                                    }\n                                    if (selectTarget && isPrimitive(member))\n                                        return simplifyNested(selectContext, selectTarget[member]);\n                                    return null;\n                                case 'reference':\n                                    // Note: This only has to deal with variable references, as symbol references have\n                                    // been converted into 'resolved'\n                                    // in the StaticSymbolResolver.\n                                    var name_2 = expression['name'];\n                                    var localValue = scope.resolve(name_2);\n                                    if (localValue != BindingScope$1.missing) {\n                                        return localValue;\n                                    }\n                                    break;\n                                case 'resolved':\n                                    try {\n                                        return simplify(expression.symbol);\n                                    }\n                                    catch (e) {\n                                        // If an error is reported evaluating the symbol record the position of the\n                                        // reference in the error so it can\n                                        // be reported in the error message generated from the exception.\n                                        if (isMetadataError(e) && expression.fileName != null &&\n                                            expression.line != null && expression.character != null) {\n                                            e.position = {\n                                                fileName: expression.fileName,\n                                                line: expression.line,\n                                                column: expression.character\n                                            };\n                                        }\n                                        throw e;\n                                    }\n                                case 'class':\n                                    return context;\n                                case 'function':\n                                    return context;\n                                case 'new':\n                                case 'call':\n                                    // Determine if the function is a built-in conversion\n                                    staticSymbol = simplifyInContext(context, expression['expression'], depth + 1, /* references */ 0);\n                                    if (staticSymbol instanceof StaticSymbol) {\n                                        if (staticSymbol === self.injectionToken || staticSymbol === self.opaqueToken) {\n                                            // if somebody calls new InjectionToken, don't create an InjectionToken,\n                                            // but rather return the symbol to which the InjectionToken is assigned to.\n                                            // OpaqueToken is supported too as it is required by the language service to\n                                            // support v4 and prior versions of Angular.\n                                            return context;\n                                        }\n                                        var argExpressions = expression['arguments'] || [];\n                                        var converter = self.conversionMap.get(staticSymbol);\n                                        if (converter) {\n                                            var args = argExpressions.map(function (arg) { return simplifyNested(context, arg); })\n                                                .map(function (arg) { return shouldIgnore(arg) ? undefined : arg; });\n                                            return converter(context, args);\n                                        }\n                                        else {\n                                            // Determine if the function is one we can simplify.\n                                            var targetFunction = resolveReferenceValue(staticSymbol);\n                                            return simplifyCall(staticSymbol, targetFunction, argExpressions, expression['expression']);\n                                        }\n                                    }\n                                    return IGNORE;\n                                case 'error':\n                                    var message = expression.message;\n                                    if (expression['line'] != null) {\n                                        self.error({\n                                            message: message,\n                                            context: expression.context,\n                                            value: expression,\n                                            position: {\n                                                fileName: expression['fileName'],\n                                                line: expression['line'],\n                                                column: expression['character']\n                                            }\n                                        }, context);\n                                    }\n                                    else {\n                                        self.error({ message: message, context: expression.context }, context);\n                                    }\n                                    return IGNORE;\n                                case 'ignore':\n                                    return expression;\n                            }\n                            return null;\n                        }\n                        return mapStringMap(expression, function (value, name) {\n                            if (REFERENCE_SET.has(name)) {\n                                if (name === USE_VALUE && PROVIDE in expression) {\n                                    // If this is a provider expression, check for special tokens that need the value\n                                    // during analysis.\n                                    var provide = simplify(expression.provide);\n                                    if (provide === self.ROUTES || provide == self.ANALYZE_FOR_ENTRY_COMPONENTS) {\n                                        return simplify(value);\n                                    }\n                                }\n                                return simplifyLazily(value);\n                            }\n                            return simplify(value);\n                        });\n                    }\n                    return IGNORE;\n                }\n                return simplify(value);\n            }\n            var result;\n            try {\n                result = simplifyInContext(context, value, 0, lazy ? 1 : 0);\n            }\n            catch (e) {\n                if (this.errorRecorder) {\n                    this.reportError(e, context);\n                }\n                else {\n                    throw formatMetadataError(e, context);\n                }\n            }\n            if (shouldIgnore(result)) {\n                return undefined;\n            }\n            return result;\n        };\n        StaticReflector.prototype.getTypeMetadata = function (type) {\n            var resolvedSymbol = this.symbolResolver.resolveSymbol(type);\n            return resolvedSymbol && resolvedSymbol.metadata ? resolvedSymbol.metadata :\n                { __symbolic: 'class' };\n        };\n        StaticReflector.prototype.reportError = function (error$$1, context, path) {\n            if (this.errorRecorder) {\n                this.errorRecorder(formatMetadataError(error$$1, context), (context && context.filePath) || path);\n            }\n            else {\n                throw error$$1;\n            }\n        };\n        StaticReflector.prototype.error = function (_a, reportingContext) {\n            var message = _a.message, summary = _a.summary, advise = _a.advise, position = _a.position, context = _a.context, value = _a.value, symbol = _a.symbol, chain = _a.chain;\n            this.reportError(metadataError(message, summary, advise, position, symbol, context, chain), reportingContext);\n        };\n        return StaticReflector;\n    }());\n    var METADATA_ERROR = 'ngMetadataError';\n    function metadataError(message, summary, advise, position, symbol, context, chain) {\n        var error$$1 = syntaxError(message);\n        error$$1[METADATA_ERROR] = true;\n        if (advise)\n            error$$1.advise = advise;\n        if (position)\n            error$$1.position = position;\n        if (summary)\n            error$$1.summary = summary;\n        if (context)\n            error$$1.context = context;\n        if (chain)\n            error$$1.chain = chain;\n        if (symbol)\n            error$$1.symbol = symbol;\n        return error$$1;\n    }\n    function isMetadataError(error$$1) {\n        return !!error$$1[METADATA_ERROR];\n    }\n    var REFERENCE_TO_NONEXPORTED_CLASS = 'Reference to non-exported class';\n    var VARIABLE_NOT_INITIALIZED = 'Variable not initialized';\n    var DESTRUCTURE_NOT_SUPPORTED = 'Destructuring not supported';\n    var COULD_NOT_RESOLVE_TYPE = 'Could not resolve type';\n    var FUNCTION_CALL_NOT_SUPPORTED = 'Function call not supported';\n    var REFERENCE_TO_LOCAL_SYMBOL = 'Reference to a local symbol';\n    var LAMBDA_NOT_SUPPORTED = 'Lambda not supported';\n    function expandedMessage(message, context) {\n        switch (message) {\n            case REFERENCE_TO_NONEXPORTED_CLASS:\n                if (context && context.className) {\n                    return \"References to a non-exported class are not supported in decorators but \" + context.className + \" was referenced.\";\n                }\n                break;\n            case VARIABLE_NOT_INITIALIZED:\n                return 'Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler';\n            case DESTRUCTURE_NOT_SUPPORTED:\n                return 'Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler';\n            case COULD_NOT_RESOLVE_TYPE:\n                if (context && context.typeName) {\n                    return \"Could not resolve type \" + context.typeName;\n                }\n                break;\n            case FUNCTION_CALL_NOT_SUPPORTED:\n                if (context && context.name) {\n                    return \"Function calls are not supported in decorators but '\" + context.name + \"' was called\";\n                }\n                return 'Function calls are not supported in decorators';\n            case REFERENCE_TO_LOCAL_SYMBOL:\n                if (context && context.name) {\n                    return \"Reference to a local (non-exported) symbols are not supported in decorators but '\" + context.name + \"' was referenced\";\n                }\n                break;\n            case LAMBDA_NOT_SUPPORTED:\n                return \"Function expressions are not supported in decorators\";\n        }\n        return message;\n    }\n    function messageAdvise(message, context) {\n        switch (message) {\n            case REFERENCE_TO_NONEXPORTED_CLASS:\n                if (context && context.className) {\n                    return \"Consider exporting '\" + context.className + \"'\";\n                }\n                break;\n            case DESTRUCTURE_NOT_SUPPORTED:\n                return 'Consider simplifying to avoid destructuring';\n            case REFERENCE_TO_LOCAL_SYMBOL:\n                if (context && context.name) {\n                    return \"Consider exporting '\" + context.name + \"'\";\n                }\n                break;\n            case LAMBDA_NOT_SUPPORTED:\n                return \"Consider changing the function expression into an exported function\";\n        }\n        return undefined;\n    }\n    function errorSummary(error$$1) {\n        if (error$$1.summary) {\n            return error$$1.summary;\n        }\n        switch (error$$1.message) {\n            case REFERENCE_TO_NONEXPORTED_CLASS:\n                if (error$$1.context && error$$1.context.className) {\n                    return \"references non-exported class \" + error$$1.context.className;\n                }\n                break;\n            case VARIABLE_NOT_INITIALIZED:\n                return 'is not initialized';\n            case DESTRUCTURE_NOT_SUPPORTED:\n                return 'is a destructured variable';\n            case COULD_NOT_RESOLVE_TYPE:\n                return 'could not be resolved';\n            case FUNCTION_CALL_NOT_SUPPORTED:\n                if (error$$1.context && error$$1.context.name) {\n                    return \"calls '\" + error$$1.context.name + \"'\";\n                }\n                return \"calls a function\";\n            case REFERENCE_TO_LOCAL_SYMBOL:\n                if (error$$1.context && error$$1.context.name) {\n                    return \"references local variable \" + error$$1.context.name;\n                }\n                return \"references a local variable\";\n        }\n        return 'contains the error';\n    }\n    function mapStringMap(input, transform) {\n        if (!input)\n            return {};\n        var result = {};\n        Object.keys(input).forEach(function (key) {\n            var value = transform(input[key], key);\n            if (!shouldIgnore(value)) {\n                if (HIDDEN_KEY.test(key)) {\n                    Object.defineProperty(result, key, { enumerable: false, configurable: true, value: value });\n                }\n                else {\n                    result[key] = value;\n                }\n            }\n        });\n        return result;\n    }\n    function isPrimitive(o) {\n        return o === null || (typeof o !== 'function' && typeof o !== 'object');\n    }\n    var BindingScope$1 = /** @class */ (function () {\n        function BindingScope() {\n        }\n        BindingScope.build = function () {\n            var current = new Map();\n            return {\n                define: function (name, value) {\n                    current.set(name, value);\n                    return this;\n                },\n                done: function () {\n                    return current.size > 0 ? new PopulatedScope(current) : BindingScope.empty;\n                }\n            };\n        };\n        BindingScope.missing = {};\n        BindingScope.empty = { resolve: function (name) { return BindingScope.missing; } };\n        return BindingScope;\n    }());\n    var PopulatedScope = /** @class */ (function (_super) {\n        __extends(PopulatedScope, _super);\n        function PopulatedScope(bindings) {\n            var _this = _super.call(this) || this;\n            _this.bindings = bindings;\n            return _this;\n        }\n        PopulatedScope.prototype.resolve = function (name) {\n            return this.bindings.has(name) ? this.bindings.get(name) : BindingScope$1.missing;\n        };\n        return PopulatedScope;\n    }(BindingScope$1));\n    function formatMetadataMessageChain(chain, advise) {\n        var expanded = expandedMessage(chain.message, chain.context);\n        var nesting = chain.symbol ? \" in '\" + chain.symbol.name + \"'\" : '';\n        var message = \"\" + expanded + nesting;\n        var position = chain.position;\n        var next = chain.next ?\n            formatMetadataMessageChain(chain.next, advise) :\n            advise ? { message: advise } : undefined;\n        return { message: message, position: position, next: next };\n    }\n    function formatMetadataError(e, context) {\n        if (isMetadataError(e)) {\n            // Produce a formatted version of the and leaving enough information in the original error\n            // to recover the formatting information to eventually produce a diagnostic error message.\n            var position = e.position;\n            var chain = {\n                message: \"Error during template compile of '\" + context.name + \"'\",\n                position: position,\n                next: { message: e.message, next: e.chain, context: e.context, symbol: e.symbol }\n            };\n            var advise = e.advise || messageAdvise(e.message, e.context);\n            return formattedError(formatMetadataMessageChain(chain, advise));\n        }\n        return e;\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var AotSummaryResolver = /** @class */ (function () {\n        function AotSummaryResolver(host, staticSymbolCache) {\n            this.host = host;\n            this.staticSymbolCache = staticSymbolCache;\n            // Note: this will only contain StaticSymbols without members!\n            this.summaryCache = new Map();\n            this.loadedFilePaths = new Map();\n            // Note: this will only contain StaticSymbols without members!\n            this.importAs = new Map();\n            this.knownFileNameToModuleNames = new Map();\n        }\n        AotSummaryResolver.prototype.isLibraryFile = function (filePath) {\n            // Note: We need to strip the .ngfactory. file path,\n            // so this method also works for generated files\n            // (for which host.isSourceFile will always return false).\n            return !this.host.isSourceFile(stripGeneratedFileSuffix(filePath));\n        };\n        AotSummaryResolver.prototype.toSummaryFileName = function (filePath, referringSrcFileName) {\n            return this.host.toSummaryFileName(filePath, referringSrcFileName);\n        };\n        AotSummaryResolver.prototype.fromSummaryFileName = function (fileName, referringLibFileName) {\n            return this.host.fromSummaryFileName(fileName, referringLibFileName);\n        };\n        AotSummaryResolver.prototype.resolveSummary = function (staticSymbol) {\n            var rootSymbol = staticSymbol.members.length ?\n                this.staticSymbolCache.get(staticSymbol.filePath, staticSymbol.name) :\n                staticSymbol;\n            var summary = this.summaryCache.get(rootSymbol);\n            if (!summary) {\n                this._loadSummaryFile(staticSymbol.filePath);\n                summary = this.summaryCache.get(staticSymbol);\n            }\n            return (rootSymbol === staticSymbol && summary) || null;\n        };\n        AotSummaryResolver.prototype.getSymbolsOf = function (filePath) {\n            if (this._loadSummaryFile(filePath)) {\n                return Array.from(this.summaryCache.keys()).filter(function (symbol) { return symbol.filePath === filePath; });\n            }\n            return null;\n        };\n        AotSummaryResolver.prototype.getImportAs = function (staticSymbol) {\n            staticSymbol.assertNoMembers();\n            return this.importAs.get(staticSymbol);\n        };\n        /**\n         * Converts a file path to a module name that can be used as an `import`.\n         */\n        AotSummaryResolver.prototype.getKnownModuleName = function (importedFilePath) {\n            return this.knownFileNameToModuleNames.get(importedFilePath) || null;\n        };\n        AotSummaryResolver.prototype.addSummary = function (summary) { this.summaryCache.set(summary.symbol, summary); };\n        AotSummaryResolver.prototype._loadSummaryFile = function (filePath) {\n            var _this = this;\n            var hasSummary = this.loadedFilePaths.get(filePath);\n            if (hasSummary != null) {\n                return hasSummary;\n            }\n            var json = null;\n            if (this.isLibraryFile(filePath)) {\n                var summaryFilePath = summaryFileName(filePath);\n                try {\n                    json = this.host.loadSummary(summaryFilePath);\n                }\n                catch (e) {\n                    console.error(\"Error loading summary file \" + summaryFilePath);\n                    throw e;\n                }\n            }\n            hasSummary = json != null;\n            this.loadedFilePaths.set(filePath, hasSummary);\n            if (json) {\n                var _a = deserializeSummaries(this.staticSymbolCache, this, filePath, json), moduleName = _a.moduleName, summaries = _a.summaries, importAs = _a.importAs;\n                summaries.forEach(function (summary) { return _this.summaryCache.set(summary.symbol, summary); });\n                if (moduleName) {\n                    this.knownFileNameToModuleNames.set(filePath, moduleName);\n                }\n                importAs.forEach(function (importAs) { _this.importAs.set(importAs.symbol, importAs.importAs); });\n            }\n            return hasSummary;\n        };\n        return AotSummaryResolver;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function createAotUrlResolver(host) {\n        return {\n            resolve: function (basePath, url) {\n                var filePath = host.resourceNameToFileName(url, basePath);\n                if (!filePath) {\n                    throw syntaxError(\"Couldn't resolve resource \" + url + \" from \" + basePath);\n                }\n                return filePath;\n            }\n        };\n    }\n    /**\n     * Creates a new AotCompiler based on options and a host.\n     */\n    function createAotCompiler(compilerHost, options, errorCollector) {\n        var translations = options.translations || '';\n        var urlResolver = createAotUrlResolver(compilerHost);\n        var symbolCache = new StaticSymbolCache();\n        var summaryResolver = new AotSummaryResolver(compilerHost, symbolCache);\n        var symbolResolver = new StaticSymbolResolver(compilerHost, symbolCache, summaryResolver);\n        var staticReflector = new StaticReflector(summaryResolver, symbolResolver, [], [], errorCollector);\n        var htmlParser;\n        if (!!options.enableIvy) {\n            // Ivy handles i18n at the compiler level so we must use a regular parser\n            htmlParser = new HtmlParser();\n        }\n        else {\n            htmlParser = new I18NHtmlParser(new HtmlParser(), translations, options.i18nFormat, options.missingTranslation, console);\n        }\n        var config = new CompilerConfig({\n            defaultEncapsulation: ViewEncapsulation.Emulated,\n            useJit: false,\n            missingTranslation: options.missingTranslation,\n            preserveWhitespaces: options.preserveWhitespaces,\n            strictInjectionParameters: options.strictInjectionParameters,\n        });\n        var normalizer = new DirectiveNormalizer({ get: function (url) { return compilerHost.loadResource(url); } }, urlResolver, htmlParser, config);\n        var expressionParser = new Parser(new Lexer());\n        var elementSchemaRegistry = new DomElementSchemaRegistry();\n        var tmplParser = new TemplateParser(config, staticReflector, expressionParser, elementSchemaRegistry, htmlParser, console, []);\n        var resolver = new CompileMetadataResolver(config, htmlParser, new NgModuleResolver(staticReflector), new DirectiveResolver(staticReflector), new PipeResolver(staticReflector), summaryResolver, elementSchemaRegistry, normalizer, console, symbolCache, staticReflector, errorCollector);\n        // TODO(vicb): do not pass options.i18nFormat here\n        var viewCompiler = new ViewCompiler(staticReflector);\n        var typeCheckCompiler = new TypeCheckCompiler(options, staticReflector);\n        var compiler = new AotCompiler(config, options, compilerHost, staticReflector, resolver, tmplParser, new StyleCompiler(urlResolver), viewCompiler, typeCheckCompiler, new NgModuleCompiler(staticReflector), new InjectableCompiler(staticReflector, !!options.enableIvy), new TypeScriptEmitter(), summaryResolver, symbolResolver);\n        return { compiler: compiler, reflector: staticReflector };\n    }\n\n    var SummaryResolver = /** @class */ (function () {\n        function SummaryResolver() {\n        }\n        return SummaryResolver;\n    }());\n    var JitSummaryResolver = /** @class */ (function () {\n        function JitSummaryResolver() {\n            this._summaries = new Map();\n        }\n        JitSummaryResolver.prototype.isLibraryFile = function () { return false; };\n        JitSummaryResolver.prototype.toSummaryFileName = function (fileName) { return fileName; };\n        JitSummaryResolver.prototype.fromSummaryFileName = function (fileName) { return fileName; };\n        JitSummaryResolver.prototype.resolveSummary = function (reference) {\n            return this._summaries.get(reference) || null;\n        };\n        JitSummaryResolver.prototype.getSymbolsOf = function () { return []; };\n        JitSummaryResolver.prototype.getImportAs = function (reference) { return reference; };\n        JitSummaryResolver.prototype.getKnownModuleName = function (fileName) { return null; };\n        JitSummaryResolver.prototype.addSummary = function (summary) { this._summaries.set(summary.symbol, summary); };\n        return JitSummaryResolver;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function interpretStatements(statements, reflector) {\n        var ctx = new _ExecutionContext(null, null, null, new Map());\n        var visitor = new StatementInterpreter(reflector);\n        visitor.visitAllStatements(statements, ctx);\n        var result = {};\n        ctx.exports.forEach(function (exportName) { result[exportName] = ctx.vars.get(exportName); });\n        return result;\n    }\n    function _executeFunctionStatements(varNames, varValues, statements, ctx, visitor) {\n        var childCtx = ctx.createChildWihtLocalVars();\n        for (var i = 0; i < varNames.length; i++) {\n            childCtx.vars.set(varNames[i], varValues[i]);\n        }\n        var result = visitor.visitAllStatements(statements, childCtx);\n        return result ? result.value : null;\n    }\n    var _ExecutionContext = /** @class */ (function () {\n        function _ExecutionContext(parent, instance, className, vars) {\n            this.parent = parent;\n            this.instance = instance;\n            this.className = className;\n            this.vars = vars;\n            this.exports = [];\n        }\n        _ExecutionContext.prototype.createChildWihtLocalVars = function () {\n            return new _ExecutionContext(this, this.instance, this.className, new Map());\n        };\n        return _ExecutionContext;\n    }());\n    var ReturnValue = /** @class */ (function () {\n        function ReturnValue(value) {\n            this.value = value;\n        }\n        return ReturnValue;\n    }());\n    function createDynamicClass(_classStmt, _ctx, _visitor) {\n        var propertyDescriptors = {};\n        _classStmt.getters.forEach(function (getter) {\n            // Note: use `function` instead of arrow function to capture `this`\n            propertyDescriptors[getter.name] = {\n                configurable: false,\n                get: function () {\n                    var instanceCtx = new _ExecutionContext(_ctx, this, _classStmt.name, _ctx.vars);\n                    return _executeFunctionStatements([], [], getter.body, instanceCtx, _visitor);\n                }\n            };\n        });\n        _classStmt.methods.forEach(function (method) {\n            var paramNames = method.params.map(function (param) { return param.name; });\n            // Note: use `function` instead of arrow function to capture `this`\n            propertyDescriptors[method.name] = {\n                writable: false,\n                configurable: false,\n                value: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var instanceCtx = new _ExecutionContext(_ctx, this, _classStmt.name, _ctx.vars);\n                    return _executeFunctionStatements(paramNames, args, method.body, instanceCtx, _visitor);\n                }\n            };\n        });\n        var ctorParamNames = _classStmt.constructorMethod.params.map(function (param) { return param.name; });\n        // Note: use `function` instead of arrow function to capture `this`\n        var ctor = function () {\n            var _this = this;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var instanceCtx = new _ExecutionContext(_ctx, this, _classStmt.name, _ctx.vars);\n            _classStmt.fields.forEach(function (field) { _this[field.name] = undefined; });\n            _executeFunctionStatements(ctorParamNames, args, _classStmt.constructorMethod.body, instanceCtx, _visitor);\n        };\n        var superClass = _classStmt.parent ? _classStmt.parent.visitExpression(_visitor, _ctx) : Object;\n        ctor.prototype = Object.create(superClass.prototype, propertyDescriptors);\n        return ctor;\n    }\n    var StatementInterpreter = /** @class */ (function () {\n        function StatementInterpreter(reflector) {\n            this.reflector = reflector;\n        }\n        StatementInterpreter.prototype.debugAst = function (ast) { return debugOutputAstAsTypeScript(ast); };\n        StatementInterpreter.prototype.visitDeclareVarStmt = function (stmt, ctx) {\n            var initialValue = stmt.value ? stmt.value.visitExpression(this, ctx) : undefined;\n            ctx.vars.set(stmt.name, initialValue);\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                ctx.exports.push(stmt.name);\n            }\n            return null;\n        };\n        StatementInterpreter.prototype.visitWriteVarExpr = function (expr, ctx) {\n            var value = expr.value.visitExpression(this, ctx);\n            var currCtx = ctx;\n            while (currCtx != null) {\n                if (currCtx.vars.has(expr.name)) {\n                    currCtx.vars.set(expr.name, value);\n                    return value;\n                }\n                currCtx = currCtx.parent;\n            }\n            throw new Error(\"Not declared variable \" + expr.name);\n        };\n        StatementInterpreter.prototype.visitWrappedNodeExpr = function (ast, ctx) {\n            throw new Error('Cannot interpret a WrappedNodeExpr.');\n        };\n        StatementInterpreter.prototype.visitTypeofExpr = function (ast, ctx) {\n            throw new Error('Cannot interpret a TypeofExpr');\n        };\n        StatementInterpreter.prototype.visitReadVarExpr = function (ast, ctx) {\n            var varName = ast.name;\n            if (ast.builtin != null) {\n                switch (ast.builtin) {\n                    case exports.BuiltinVar.Super:\n                        return ctx.instance.__proto__;\n                    case exports.BuiltinVar.This:\n                        return ctx.instance;\n                    case exports.BuiltinVar.CatchError:\n                        varName = CATCH_ERROR_VAR$2;\n                        break;\n                    case exports.BuiltinVar.CatchStack:\n                        varName = CATCH_STACK_VAR$2;\n                        break;\n                    default:\n                        throw new Error(\"Unknown builtin variable \" + ast.builtin);\n                }\n            }\n            var currCtx = ctx;\n            while (currCtx != null) {\n                if (currCtx.vars.has(varName)) {\n                    return currCtx.vars.get(varName);\n                }\n                currCtx = currCtx.parent;\n            }\n            throw new Error(\"Not declared variable \" + varName);\n        };\n        StatementInterpreter.prototype.visitWriteKeyExpr = function (expr, ctx) {\n            var receiver = expr.receiver.visitExpression(this, ctx);\n            var index = expr.index.visitExpression(this, ctx);\n            var value = expr.value.visitExpression(this, ctx);\n            receiver[index] = value;\n            return value;\n        };\n        StatementInterpreter.prototype.visitWritePropExpr = function (expr, ctx) {\n            var receiver = expr.receiver.visitExpression(this, ctx);\n            var value = expr.value.visitExpression(this, ctx);\n            receiver[expr.name] = value;\n            return value;\n        };\n        StatementInterpreter.prototype.visitInvokeMethodExpr = function (expr, ctx) {\n            var receiver = expr.receiver.visitExpression(this, ctx);\n            var args = this.visitAllExpressions(expr.args, ctx);\n            var result;\n            if (expr.builtin != null) {\n                switch (expr.builtin) {\n                    case exports.BuiltinMethod.ConcatArray:\n                        result = receiver.concat.apply(receiver, __spread(args));\n                        break;\n                    case exports.BuiltinMethod.SubscribeObservable:\n                        result = receiver.subscribe({ next: args[0] });\n                        break;\n                    case exports.BuiltinMethod.Bind:\n                        result = receiver.bind.apply(receiver, __spread(args));\n                        break;\n                    default:\n                        throw new Error(\"Unknown builtin method \" + expr.builtin);\n                }\n            }\n            else {\n                result = receiver[expr.name].apply(receiver, args);\n            }\n            return result;\n        };\n        StatementInterpreter.prototype.visitInvokeFunctionExpr = function (stmt, ctx) {\n            var args = this.visitAllExpressions(stmt.args, ctx);\n            var fnExpr = stmt.fn;\n            if (fnExpr instanceof ReadVarExpr && fnExpr.builtin === exports.BuiltinVar.Super) {\n                ctx.instance.constructor.prototype.constructor.apply(ctx.instance, args);\n                return null;\n            }\n            else {\n                var fn$$1 = stmt.fn.visitExpression(this, ctx);\n                return fn$$1.apply(null, args);\n            }\n        };\n        StatementInterpreter.prototype.visitReturnStmt = function (stmt, ctx) {\n            return new ReturnValue(stmt.value.visitExpression(this, ctx));\n        };\n        StatementInterpreter.prototype.visitDeclareClassStmt = function (stmt, ctx) {\n            var clazz = createDynamicClass(stmt, ctx, this);\n            ctx.vars.set(stmt.name, clazz);\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                ctx.exports.push(stmt.name);\n            }\n            return null;\n        };\n        StatementInterpreter.prototype.visitExpressionStmt = function (stmt, ctx) {\n            return stmt.expr.visitExpression(this, ctx);\n        };\n        StatementInterpreter.prototype.visitIfStmt = function (stmt, ctx) {\n            var condition = stmt.condition.visitExpression(this, ctx);\n            if (condition) {\n                return this.visitAllStatements(stmt.trueCase, ctx);\n            }\n            else if (stmt.falseCase != null) {\n                return this.visitAllStatements(stmt.falseCase, ctx);\n            }\n            return null;\n        };\n        StatementInterpreter.prototype.visitTryCatchStmt = function (stmt, ctx) {\n            try {\n                return this.visitAllStatements(stmt.bodyStmts, ctx);\n            }\n            catch (e) {\n                var childCtx = ctx.createChildWihtLocalVars();\n                childCtx.vars.set(CATCH_ERROR_VAR$2, e);\n                childCtx.vars.set(CATCH_STACK_VAR$2, e.stack);\n                return this.visitAllStatements(stmt.catchStmts, childCtx);\n            }\n        };\n        StatementInterpreter.prototype.visitThrowStmt = function (stmt, ctx) {\n            throw stmt.error.visitExpression(this, ctx);\n        };\n        StatementInterpreter.prototype.visitCommentStmt = function (stmt, context) { return null; };\n        StatementInterpreter.prototype.visitJSDocCommentStmt = function (stmt, context) { return null; };\n        StatementInterpreter.prototype.visitInstantiateExpr = function (ast, ctx) {\n            var args = this.visitAllExpressions(ast.args, ctx);\n            var clazz = ast.classExpr.visitExpression(this, ctx);\n            return new (clazz.bind.apply(clazz, __spread([void 0], args)))();\n        };\n        StatementInterpreter.prototype.visitLiteralExpr = function (ast, ctx) { return ast.value; };\n        StatementInterpreter.prototype.visitExternalExpr = function (ast, ctx) {\n            return this.reflector.resolveExternalReference(ast.value);\n        };\n        StatementInterpreter.prototype.visitConditionalExpr = function (ast, ctx) {\n            if (ast.condition.visitExpression(this, ctx)) {\n                return ast.trueCase.visitExpression(this, ctx);\n            }\n            else if (ast.falseCase != null) {\n                return ast.falseCase.visitExpression(this, ctx);\n            }\n            return null;\n        };\n        StatementInterpreter.prototype.visitNotExpr = function (ast, ctx) {\n            return !ast.condition.visitExpression(this, ctx);\n        };\n        StatementInterpreter.prototype.visitAssertNotNullExpr = function (ast, ctx) {\n            return ast.condition.visitExpression(this, ctx);\n        };\n        StatementInterpreter.prototype.visitCastExpr = function (ast, ctx) {\n            return ast.value.visitExpression(this, ctx);\n        };\n        StatementInterpreter.prototype.visitFunctionExpr = function (ast, ctx) {\n            var paramNames = ast.params.map(function (param) { return param.name; });\n            return _declareFn(paramNames, ast.statements, ctx, this);\n        };\n        StatementInterpreter.prototype.visitDeclareFunctionStmt = function (stmt, ctx) {\n            var paramNames = stmt.params.map(function (param) { return param.name; });\n            ctx.vars.set(stmt.name, _declareFn(paramNames, stmt.statements, ctx, this));\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                ctx.exports.push(stmt.name);\n            }\n            return null;\n        };\n        StatementInterpreter.prototype.visitBinaryOperatorExpr = function (ast, ctx) {\n            var _this = this;\n            var lhs = function () { return ast.lhs.visitExpression(_this, ctx); };\n            var rhs = function () { return ast.rhs.visitExpression(_this, ctx); };\n            switch (ast.operator) {\n                case exports.BinaryOperator.Equals:\n                    return lhs() == rhs();\n                case exports.BinaryOperator.Identical:\n                    return lhs() === rhs();\n                case exports.BinaryOperator.NotEquals:\n                    return lhs() != rhs();\n                case exports.BinaryOperator.NotIdentical:\n                    return lhs() !== rhs();\n                case exports.BinaryOperator.And:\n                    return lhs() && rhs();\n                case exports.BinaryOperator.Or:\n                    return lhs() || rhs();\n                case exports.BinaryOperator.Plus:\n                    return lhs() + rhs();\n                case exports.BinaryOperator.Minus:\n                    return lhs() - rhs();\n                case exports.BinaryOperator.Divide:\n                    return lhs() / rhs();\n                case exports.BinaryOperator.Multiply:\n                    return lhs() * rhs();\n                case exports.BinaryOperator.Modulo:\n                    return lhs() % rhs();\n                case exports.BinaryOperator.Lower:\n                    return lhs() < rhs();\n                case exports.BinaryOperator.LowerEquals:\n                    return lhs() <= rhs();\n                case exports.BinaryOperator.Bigger:\n                    return lhs() > rhs();\n                case exports.BinaryOperator.BiggerEquals:\n                    return lhs() >= rhs();\n                default:\n                    throw new Error(\"Unknown operator \" + ast.operator);\n            }\n        };\n        StatementInterpreter.prototype.visitReadPropExpr = function (ast, ctx) {\n            var result;\n            var receiver = ast.receiver.visitExpression(this, ctx);\n            result = receiver[ast.name];\n            return result;\n        };\n        StatementInterpreter.prototype.visitReadKeyExpr = function (ast, ctx) {\n            var receiver = ast.receiver.visitExpression(this, ctx);\n            var prop = ast.index.visitExpression(this, ctx);\n            return receiver[prop];\n        };\n        StatementInterpreter.prototype.visitLiteralArrayExpr = function (ast, ctx) {\n            return this.visitAllExpressions(ast.entries, ctx);\n        };\n        StatementInterpreter.prototype.visitLiteralMapExpr = function (ast, ctx) {\n            var _this = this;\n            var result = {};\n            ast.entries.forEach(function (entry) { return result[entry.key] = entry.value.visitExpression(_this, ctx); });\n            return result;\n        };\n        StatementInterpreter.prototype.visitCommaExpr = function (ast, context) {\n            var values = this.visitAllExpressions(ast.parts, context);\n            return values[values.length - 1];\n        };\n        StatementInterpreter.prototype.visitAllExpressions = function (expressions, ctx) {\n            var _this = this;\n            return expressions.map(function (expr) { return expr.visitExpression(_this, ctx); });\n        };\n        StatementInterpreter.prototype.visitAllStatements = function (statements, ctx) {\n            for (var i = 0; i < statements.length; i++) {\n                var stmt = statements[i];\n                var val = stmt.visitStatement(this, ctx);\n                if (val instanceof ReturnValue) {\n                    return val;\n                }\n            }\n            return null;\n        };\n        return StatementInterpreter;\n    }());\n    function _declareFn(varNames, statements, ctx, visitor) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return _executeFunctionStatements(varNames, args, statements, ctx, visitor);\n        };\n    }\n    var CATCH_ERROR_VAR$2 = 'error';\n    var CATCH_STACK_VAR$2 = 'stack';\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var AbstractJsEmitterVisitor = /** @class */ (function (_super) {\n        __extends(AbstractJsEmitterVisitor, _super);\n        function AbstractJsEmitterVisitor() {\n            return _super.call(this, false) || this;\n        }\n        AbstractJsEmitterVisitor.prototype.visitDeclareClassStmt = function (stmt, ctx) {\n            var _this = this;\n            ctx.pushClass(stmt);\n            this._visitClassConstructor(stmt, ctx);\n            if (stmt.parent != null) {\n                ctx.print(stmt, stmt.name + \".prototype = Object.create(\");\n                stmt.parent.visitExpression(this, ctx);\n                ctx.println(stmt, \".prototype);\");\n            }\n            stmt.getters.forEach(function (getter) { return _this._visitClassGetter(stmt, getter, ctx); });\n            stmt.methods.forEach(function (method) { return _this._visitClassMethod(stmt, method, ctx); });\n            ctx.popClass();\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype._visitClassConstructor = function (stmt, ctx) {\n            ctx.print(stmt, \"function \" + stmt.name + \"(\");\n            if (stmt.constructorMethod != null) {\n                this._visitParams(stmt.constructorMethod.params, ctx);\n            }\n            ctx.println(stmt, \") {\");\n            ctx.incIndent();\n            if (stmt.constructorMethod != null) {\n                if (stmt.constructorMethod.body.length > 0) {\n                    ctx.println(stmt, \"var self = this;\");\n                    this.visitAllStatements(stmt.constructorMethod.body, ctx);\n                }\n            }\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n        };\n        AbstractJsEmitterVisitor.prototype._visitClassGetter = function (stmt, getter, ctx) {\n            ctx.println(stmt, \"Object.defineProperty(\" + stmt.name + \".prototype, '\" + getter.name + \"', { get: function() {\");\n            ctx.incIndent();\n            if (getter.body.length > 0) {\n                ctx.println(stmt, \"var self = this;\");\n                this.visitAllStatements(getter.body, ctx);\n            }\n            ctx.decIndent();\n            ctx.println(stmt, \"}});\");\n        };\n        AbstractJsEmitterVisitor.prototype._visitClassMethod = function (stmt, method, ctx) {\n            ctx.print(stmt, stmt.name + \".prototype.\" + method.name + \" = function(\");\n            this._visitParams(method.params, ctx);\n            ctx.println(stmt, \") {\");\n            ctx.incIndent();\n            if (method.body.length > 0) {\n                ctx.println(stmt, \"var self = this;\");\n                this.visitAllStatements(method.body, ctx);\n            }\n            ctx.decIndent();\n            ctx.println(stmt, \"};\");\n        };\n        AbstractJsEmitterVisitor.prototype.visitWrappedNodeExpr = function (ast, ctx) {\n            throw new Error('Cannot emit a WrappedNodeExpr in Javascript.');\n        };\n        AbstractJsEmitterVisitor.prototype.visitReadVarExpr = function (ast, ctx) {\n            if (ast.builtin === exports.BuiltinVar.This) {\n                ctx.print(ast, 'self');\n            }\n            else if (ast.builtin === exports.BuiltinVar.Super) {\n                throw new Error(\"'super' needs to be handled at a parent ast node, not at the variable level!\");\n            }\n            else {\n                _super.prototype.visitReadVarExpr.call(this, ast, ctx);\n            }\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype.visitDeclareVarStmt = function (stmt, ctx) {\n            ctx.print(stmt, \"var \" + stmt.name);\n            if (stmt.value) {\n                ctx.print(stmt, ' = ');\n                stmt.value.visitExpression(this, ctx);\n            }\n            ctx.println(stmt, \";\");\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype.visitCastExpr = function (ast, ctx) {\n            ast.value.visitExpression(this, ctx);\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype.visitInvokeFunctionExpr = function (expr, ctx) {\n            var fnExpr = expr.fn;\n            if (fnExpr instanceof ReadVarExpr && fnExpr.builtin === exports.BuiltinVar.Super) {\n                ctx.currentClass.parent.visitExpression(this, ctx);\n                ctx.print(expr, \".call(this\");\n                if (expr.args.length > 0) {\n                    ctx.print(expr, \", \");\n                    this.visitAllExpressions(expr.args, ctx, ',');\n                }\n                ctx.print(expr, \")\");\n            }\n            else {\n                _super.prototype.visitInvokeFunctionExpr.call(this, expr, ctx);\n            }\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype.visitFunctionExpr = function (ast, ctx) {\n            ctx.print(ast, \"function\" + (ast.name ? ' ' + ast.name : '') + \"(\");\n            this._visitParams(ast.params, ctx);\n            ctx.println(ast, \") {\");\n            ctx.incIndent();\n            this.visitAllStatements(ast.statements, ctx);\n            ctx.decIndent();\n            ctx.print(ast, \"}\");\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype.visitDeclareFunctionStmt = function (stmt, ctx) {\n            ctx.print(stmt, \"function \" + stmt.name + \"(\");\n            this._visitParams(stmt.params, ctx);\n            ctx.println(stmt, \") {\");\n            ctx.incIndent();\n            this.visitAllStatements(stmt.statements, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype.visitTryCatchStmt = function (stmt, ctx) {\n            ctx.println(stmt, \"try {\");\n            ctx.incIndent();\n            this.visitAllStatements(stmt.bodyStmts, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"} catch (\" + CATCH_ERROR_VAR$1.name + \") {\");\n            ctx.incIndent();\n            var catchStmts = [CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop('stack')).toDeclStmt(null, [\n                    exports.StmtModifier.Final\n                ])].concat(stmt.catchStmts);\n            this.visitAllStatements(catchStmts, ctx);\n            ctx.decIndent();\n            ctx.println(stmt, \"}\");\n            return null;\n        };\n        AbstractJsEmitterVisitor.prototype._visitParams = function (params, ctx) {\n            this.visitAllObjects(function (param) { return ctx.print(null, param.name); }, params, ctx, ',');\n        };\n        AbstractJsEmitterVisitor.prototype.getBuiltinMethodName = function (method) {\n            var name;\n            switch (method) {\n                case exports.BuiltinMethod.ConcatArray:\n                    name = 'concat';\n                    break;\n                case exports.BuiltinMethod.SubscribeObservable:\n                    name = 'subscribe';\n                    break;\n                case exports.BuiltinMethod.Bind:\n                    name = 'bind';\n                    break;\n                default:\n                    throw new Error(\"Unknown builtin method: \" + method);\n            }\n            return name;\n        };\n        return AbstractJsEmitterVisitor;\n    }(AbstractEmitterVisitor));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function evalExpression(sourceUrl, ctx, vars, createSourceMap) {\n        var fnBody = ctx.toSource() + \"\\n//# sourceURL=\" + sourceUrl;\n        var fnArgNames = [];\n        var fnArgValues = [];\n        for (var argName in vars) {\n            fnArgNames.push(argName);\n            fnArgValues.push(vars[argName]);\n        }\n        if (createSourceMap) {\n            // using `new Function(...)` generates a header, 1 line of no arguments, 2 lines otherwise\n            // E.g. ```\n            // function anonymous(a,b,c\n            // /**/) { ... }```\n            // We don't want to hard code this fact, so we auto detect it via an empty function first.\n            var emptyFn = new (Function.bind.apply(Function, __spread([void 0], fnArgNames.concat('return null;'))))().toString();\n            var headerLines = emptyFn.slice(0, emptyFn.indexOf('return null;')).split('\\n').length - 1;\n            fnBody += \"\\n\" + ctx.toSourceMapGenerator(sourceUrl, headerLines).toJsComment();\n        }\n        return new (Function.bind.apply(Function, __spread([void 0], fnArgNames.concat(fnBody))))().apply(void 0, __spread(fnArgValues));\n    }\n    function jitStatements(sourceUrl, statements, reflector, createSourceMaps) {\n        var converter = new JitEmitterVisitor(reflector);\n        var ctx = EmitterVisitorContext.createRoot();\n        converter.visitAllStatements(statements, ctx);\n        converter.createReturnStmt(ctx);\n        return evalExpression(sourceUrl, ctx, converter.getArgs(), createSourceMaps);\n    }\n    var JitEmitterVisitor = /** @class */ (function (_super) {\n        __extends(JitEmitterVisitor, _super);\n        function JitEmitterVisitor(reflector) {\n            var _this = _super.call(this) || this;\n            _this.reflector = reflector;\n            _this._evalArgNames = [];\n            _this._evalArgValues = [];\n            _this._evalExportedVars = [];\n            return _this;\n        }\n        JitEmitterVisitor.prototype.createReturnStmt = function (ctx) {\n            var stmt = new ReturnStatement(new LiteralMapExpr(this._evalExportedVars.map(function (resultVar) { return new LiteralMapEntry(resultVar, variable(resultVar), false); })));\n            stmt.visitStatement(this, ctx);\n        };\n        JitEmitterVisitor.prototype.getArgs = function () {\n            var result = {};\n            for (var i = 0; i < this._evalArgNames.length; i++) {\n                result[this._evalArgNames[i]] = this._evalArgValues[i];\n            }\n            return result;\n        };\n        JitEmitterVisitor.prototype.visitExternalExpr = function (ast, ctx) {\n            this._emitReferenceToExternal(ast, this.reflector.resolveExternalReference(ast.value), ctx);\n            return null;\n        };\n        JitEmitterVisitor.prototype.visitWrappedNodeExpr = function (ast, ctx) {\n            this._emitReferenceToExternal(ast, ast.node, ctx);\n            return null;\n        };\n        JitEmitterVisitor.prototype.visitDeclareVarStmt = function (stmt, ctx) {\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                this._evalExportedVars.push(stmt.name);\n            }\n            return _super.prototype.visitDeclareVarStmt.call(this, stmt, ctx);\n        };\n        JitEmitterVisitor.prototype.visitDeclareFunctionStmt = function (stmt, ctx) {\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                this._evalExportedVars.push(stmt.name);\n            }\n            return _super.prototype.visitDeclareFunctionStmt.call(this, stmt, ctx);\n        };\n        JitEmitterVisitor.prototype.visitDeclareClassStmt = function (stmt, ctx) {\n            if (stmt.hasModifier(exports.StmtModifier.Exported)) {\n                this._evalExportedVars.push(stmt.name);\n            }\n            return _super.prototype.visitDeclareClassStmt.call(this, stmt, ctx);\n        };\n        JitEmitterVisitor.prototype._emitReferenceToExternal = function (ast, value, ctx) {\n            var id = this._evalArgValues.indexOf(value);\n            if (id === -1) {\n                id = this._evalArgValues.length;\n                this._evalArgValues.push(value);\n                var name_1 = identifierName({ reference: value }) || 'val';\n                this._evalArgNames.push(\"jit_\" + name_1 + \"_\" + id);\n            }\n            ctx.print(ast, this._evalArgNames[id]);\n        };\n        return JitEmitterVisitor;\n    }(AbstractJsEmitterVisitor));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * An internal module of the Angular compiler that begins with component types,\n     * extracts templates, and eventually produces a compiled version of the component\n     * ready for linking into an application.\n     *\n     * @security  When compiling templates at runtime, you must ensure that the entire template comes\n     * from a trusted source. Attacker-controlled data introduced by a template could expose your\n     * application to XSS risks.  For more detail, see the [Security Guide](http://g.co/ng/security).\n     */\n    var JitCompiler = /** @class */ (function () {\n        function JitCompiler(_metadataResolver, _templateParser, _styleCompiler, _viewCompiler, _ngModuleCompiler, _summaryResolver, _reflector, _compilerConfig, _console, getExtraNgModuleProviders) {\n            this._metadataResolver = _metadataResolver;\n            this._templateParser = _templateParser;\n            this._styleCompiler = _styleCompiler;\n            this._viewCompiler = _viewCompiler;\n            this._ngModuleCompiler = _ngModuleCompiler;\n            this._summaryResolver = _summaryResolver;\n            this._reflector = _reflector;\n            this._compilerConfig = _compilerConfig;\n            this._console = _console;\n            this.getExtraNgModuleProviders = getExtraNgModuleProviders;\n            this._compiledTemplateCache = new Map();\n            this._compiledHostTemplateCache = new Map();\n            this._compiledDirectiveWrapperCache = new Map();\n            this._compiledNgModuleCache = new Map();\n            this._sharedStylesheetCount = 0;\n            this._addedAotSummaries = new Set();\n        }\n        JitCompiler.prototype.compileModuleSync = function (moduleType) {\n            return SyncAsync.assertSync(this._compileModuleAndComponents(moduleType, true));\n        };\n        JitCompiler.prototype.compileModuleAsync = function (moduleType) {\n            return Promise.resolve(this._compileModuleAndComponents(moduleType, false));\n        };\n        JitCompiler.prototype.compileModuleAndAllComponentsSync = function (moduleType) {\n            return SyncAsync.assertSync(this._compileModuleAndAllComponents(moduleType, true));\n        };\n        JitCompiler.prototype.compileModuleAndAllComponentsAsync = function (moduleType) {\n            return Promise.resolve(this._compileModuleAndAllComponents(moduleType, false));\n        };\n        JitCompiler.prototype.getComponentFactory = function (component) {\n            var summary = this._metadataResolver.getDirectiveSummary(component);\n            return summary.componentFactory;\n        };\n        JitCompiler.prototype.loadAotSummaries = function (summaries) {\n            this.clearCache();\n            this._addAotSummaries(summaries);\n        };\n        JitCompiler.prototype._addAotSummaries = function (fn$$1) {\n            if (this._addedAotSummaries.has(fn$$1)) {\n                return;\n            }\n            this._addedAotSummaries.add(fn$$1);\n            var summaries = fn$$1();\n            for (var i = 0; i < summaries.length; i++) {\n                var entry = summaries[i];\n                if (typeof entry === 'function') {\n                    this._addAotSummaries(entry);\n                }\n                else {\n                    var summary = entry;\n                    this._summaryResolver.addSummary({ symbol: summary.type.reference, metadata: null, type: summary });\n                }\n            }\n        };\n        JitCompiler.prototype.hasAotSummary = function (ref) { return !!this._summaryResolver.resolveSummary(ref); };\n        JitCompiler.prototype._filterJitIdentifiers = function (ids) {\n            var _this = this;\n            return ids.map(function (mod) { return mod.reference; }).filter(function (ref) { return !_this.hasAotSummary(ref); });\n        };\n        JitCompiler.prototype._compileModuleAndComponents = function (moduleType, isSync) {\n            var _this = this;\n            return SyncAsync.then(this._loadModules(moduleType, isSync), function () {\n                _this._compileComponents(moduleType, null);\n                return _this._compileModule(moduleType);\n            });\n        };\n        JitCompiler.prototype._compileModuleAndAllComponents = function (moduleType, isSync) {\n            var _this = this;\n            return SyncAsync.then(this._loadModules(moduleType, isSync), function () {\n                var componentFactories = [];\n                _this._compileComponents(moduleType, componentFactories);\n                return {\n                    ngModuleFactory: _this._compileModule(moduleType),\n                    componentFactories: componentFactories\n                };\n            });\n        };\n        JitCompiler.prototype._loadModules = function (mainModule, isSync) {\n            var _this = this;\n            var loading = [];\n            var mainNgModule = this._metadataResolver.getNgModuleMetadata(mainModule);\n            // Note: for runtime compilation, we want to transitively compile all modules,\n            // so we also need to load the declared directives / pipes for all nested modules.\n            this._filterJitIdentifiers(mainNgModule.transitiveModule.modules).forEach(function (nestedNgModule) {\n                // getNgModuleMetadata only returns null if the value passed in is not an NgModule\n                var moduleMeta = _this._metadataResolver.getNgModuleMetadata(nestedNgModule);\n                _this._filterJitIdentifiers(moduleMeta.declaredDirectives).forEach(function (ref) {\n                    var promise = _this._metadataResolver.loadDirectiveMetadata(moduleMeta.type.reference, ref, isSync);\n                    if (promise) {\n                        loading.push(promise);\n                    }\n                });\n                _this._filterJitIdentifiers(moduleMeta.declaredPipes)\n                    .forEach(function (ref) { return _this._metadataResolver.getOrLoadPipeMetadata(ref); });\n            });\n            return SyncAsync.all(loading);\n        };\n        JitCompiler.prototype._compileModule = function (moduleType) {\n            var ngModuleFactory = this._compiledNgModuleCache.get(moduleType);\n            if (!ngModuleFactory) {\n                var moduleMeta = this._metadataResolver.getNgModuleMetadata(moduleType);\n                // Always provide a bound Compiler\n                var extraProviders = this.getExtraNgModuleProviders(moduleMeta.type.reference);\n                var outputCtx = createOutputContext();\n                var compileResult = this._ngModuleCompiler.compile(outputCtx, moduleMeta, extraProviders);\n                ngModuleFactory = this._interpretOrJit(ngModuleJitUrl(moduleMeta), outputCtx.statements)[compileResult.ngModuleFactoryVar];\n                this._compiledNgModuleCache.set(moduleMeta.type.reference, ngModuleFactory);\n            }\n            return ngModuleFactory;\n        };\n        /**\n         * @internal\n         */\n        JitCompiler.prototype._compileComponents = function (mainModule, allComponentFactories) {\n            var _this = this;\n            var ngModule = this._metadataResolver.getNgModuleMetadata(mainModule);\n            var moduleByJitDirective = new Map();\n            var templates = new Set();\n            var transJitModules = this._filterJitIdentifiers(ngModule.transitiveModule.modules);\n            transJitModules.forEach(function (localMod) {\n                var localModuleMeta = _this._metadataResolver.getNgModuleMetadata(localMod);\n                _this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(function (dirRef) {\n                    moduleByJitDirective.set(dirRef, localModuleMeta);\n                    var dirMeta = _this._metadataResolver.getDirectiveMetadata(dirRef);\n                    if (dirMeta.isComponent) {\n                        templates.add(_this._createCompiledTemplate(dirMeta, localModuleMeta));\n                        if (allComponentFactories) {\n                            var template = _this._createCompiledHostTemplate(dirMeta.type.reference, localModuleMeta);\n                            templates.add(template);\n                            allComponentFactories.push(dirMeta.componentFactory);\n                        }\n                    }\n                });\n            });\n            transJitModules.forEach(function (localMod) {\n                var localModuleMeta = _this._metadataResolver.getNgModuleMetadata(localMod);\n                _this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(function (dirRef) {\n                    var dirMeta = _this._metadataResolver.getDirectiveMetadata(dirRef);\n                    if (dirMeta.isComponent) {\n                        dirMeta.entryComponents.forEach(function (entryComponentType) {\n                            var moduleMeta = moduleByJitDirective.get(entryComponentType.componentType);\n                            templates.add(_this._createCompiledHostTemplate(entryComponentType.componentType, moduleMeta));\n                        });\n                    }\n                });\n                localModuleMeta.entryComponents.forEach(function (entryComponentType) {\n                    if (!_this.hasAotSummary(entryComponentType.componentType)) {\n                        var moduleMeta = moduleByJitDirective.get(entryComponentType.componentType);\n                        templates.add(_this._createCompiledHostTemplate(entryComponentType.componentType, moduleMeta));\n                    }\n                });\n            });\n            templates.forEach(function (template) { return _this._compileTemplate(template); });\n        };\n        JitCompiler.prototype.clearCacheFor = function (type) {\n            this._compiledNgModuleCache.delete(type);\n            this._metadataResolver.clearCacheFor(type);\n            this._compiledHostTemplateCache.delete(type);\n            var compiledTemplate = this._compiledTemplateCache.get(type);\n            if (compiledTemplate) {\n                this._compiledTemplateCache.delete(type);\n            }\n        };\n        JitCompiler.prototype.clearCache = function () {\n            // Note: don't clear the _addedAotSummaries, as they don't change!\n            this._metadataResolver.clearCache();\n            this._compiledTemplateCache.clear();\n            this._compiledHostTemplateCache.clear();\n            this._compiledNgModuleCache.clear();\n        };\n        JitCompiler.prototype._createCompiledHostTemplate = function (compType, ngModule) {\n            if (!ngModule) {\n                throw new Error(\"Component \" + stringify(compType) + \" is not part of any NgModule or the module has not been imported into your module.\");\n            }\n            var compiledTemplate = this._compiledHostTemplateCache.get(compType);\n            if (!compiledTemplate) {\n                var compMeta = this._metadataResolver.getDirectiveMetadata(compType);\n                assertComponent(compMeta);\n                var hostMeta = this._metadataResolver.getHostComponentMetadata(compMeta, compMeta.componentFactory.viewDefFactory);\n                compiledTemplate =\n                    new CompiledTemplate(true, compMeta.type, hostMeta, ngModule, [compMeta.type]);\n                this._compiledHostTemplateCache.set(compType, compiledTemplate);\n            }\n            return compiledTemplate;\n        };\n        JitCompiler.prototype._createCompiledTemplate = function (compMeta, ngModule) {\n            var compiledTemplate = this._compiledTemplateCache.get(compMeta.type.reference);\n            if (!compiledTemplate) {\n                assertComponent(compMeta);\n                compiledTemplate = new CompiledTemplate(false, compMeta.type, compMeta, ngModule, ngModule.transitiveModule.directives);\n                this._compiledTemplateCache.set(compMeta.type.reference, compiledTemplate);\n            }\n            return compiledTemplate;\n        };\n        JitCompiler.prototype._compileTemplate = function (template) {\n            var _this = this;\n            if (template.isCompiled) {\n                return;\n            }\n            var compMeta = template.compMeta;\n            var externalStylesheetsByModuleUrl = new Map();\n            var outputContext = createOutputContext();\n            var componentStylesheet = this._styleCompiler.compileComponent(outputContext, compMeta);\n            compMeta.template.externalStylesheets.forEach(function (stylesheetMeta) {\n                var compiledStylesheet = _this._styleCompiler.compileStyles(createOutputContext(), compMeta, stylesheetMeta);\n                externalStylesheetsByModuleUrl.set(stylesheetMeta.moduleUrl, compiledStylesheet);\n            });\n            this._resolveStylesCompileResult(componentStylesheet, externalStylesheetsByModuleUrl);\n            var pipes = template.ngModule.transitiveModule.pipes.map(function (pipe) { return _this._metadataResolver.getPipeSummary(pipe.reference); });\n            var _a = this._parseTemplate(compMeta, template.ngModule, template.directives), parsedTemplate = _a.template, usedPipes = _a.pipes;\n            var compileResult = this._viewCompiler.compileComponent(outputContext, compMeta, parsedTemplate, variable(componentStylesheet.stylesVar), usedPipes);\n            var evalResult = this._interpretOrJit(templateJitUrl(template.ngModule.type, template.compMeta), outputContext.statements);\n            var viewClass = evalResult[compileResult.viewClassVar];\n            var rendererType = evalResult[compileResult.rendererTypeVar];\n            template.compiled(viewClass, rendererType);\n        };\n        JitCompiler.prototype._parseTemplate = function (compMeta, ngModule, directiveIdentifiers) {\n            var _this = this;\n            // Note: ! is ok here as components always have a template.\n            var preserveWhitespaces = compMeta.template.preserveWhitespaces;\n            var directives = directiveIdentifiers.map(function (dir) { return _this._metadataResolver.getDirectiveSummary(dir.reference); });\n            var pipes = ngModule.transitiveModule.pipes.map(function (pipe) { return _this._metadataResolver.getPipeSummary(pipe.reference); });\n            return this._templateParser.parse(compMeta, compMeta.template.htmlAst, directives, pipes, ngModule.schemas, templateSourceUrl(ngModule.type, compMeta, compMeta.template), preserveWhitespaces);\n        };\n        JitCompiler.prototype._resolveStylesCompileResult = function (result, externalStylesheetsByModuleUrl) {\n            var _this = this;\n            result.dependencies.forEach(function (dep, i) {\n                var nestedCompileResult = externalStylesheetsByModuleUrl.get(dep.moduleUrl);\n                var nestedStylesArr = _this._resolveAndEvalStylesCompileResult(nestedCompileResult, externalStylesheetsByModuleUrl);\n                dep.setValue(nestedStylesArr);\n            });\n        };\n        JitCompiler.prototype._resolveAndEvalStylesCompileResult = function (result, externalStylesheetsByModuleUrl) {\n            this._resolveStylesCompileResult(result, externalStylesheetsByModuleUrl);\n            return this._interpretOrJit(sharedStylesheetJitUrl(result.meta, this._sharedStylesheetCount++), result.outputCtx.statements)[result.stylesVar];\n        };\n        JitCompiler.prototype._interpretOrJit = function (sourceUrl, statements) {\n            if (!this._compilerConfig.useJit) {\n                return interpretStatements(statements, this._reflector);\n            }\n            else {\n                return jitStatements(sourceUrl, statements, this._reflector, this._compilerConfig.jitDevMode);\n            }\n        };\n        return JitCompiler;\n    }());\n    var CompiledTemplate = /** @class */ (function () {\n        function CompiledTemplate(isHost, compType, compMeta, ngModule, directives) {\n            this.isHost = isHost;\n            this.compType = compType;\n            this.compMeta = compMeta;\n            this.ngModule = ngModule;\n            this.directives = directives;\n            this._viewClass = null;\n            this.isCompiled = false;\n        }\n        CompiledTemplate.prototype.compiled = function (viewClass, rendererType) {\n            this._viewClass = viewClass;\n            this.compMeta.componentViewType.setDelegate(viewClass);\n            for (var prop in rendererType) {\n                this.compMeta.rendererType[prop] = rendererType[prop];\n            }\n            this.isCompiled = true;\n        };\n        return CompiledTemplate;\n    }());\n    function assertComponent(meta) {\n        if (!meta.isComponent) {\n            throw new Error(\"Could not compile '\" + identifierName(meta.type) + \"' because it is not a component.\");\n        }\n    }\n    function createOutputContext() {\n        var importExpr$$1 = function (symbol) {\n            return importExpr({ name: identifierName(symbol), moduleName: null, runtime: symbol });\n        };\n        return { statements: [], genFilePath: '', importExpr: importExpr$$1, constantPool: new ConstantPool() };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Provides access to reflection data about symbols that the compiler needs.\n     */\n    var CompileReflector = /** @class */ (function () {\n        function CompileReflector() {\n        }\n        return CompileReflector;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Create a {@link UrlResolver} with no package prefix.\n     */\n    function createUrlResolverWithoutPackagePrefix() {\n        return new UrlResolver();\n    }\n    function createOfflineCompileUrlResolver() {\n        return new UrlResolver('.');\n    }\n    var UrlResolver = /** @class */ (function () {\n        function UrlResolverImpl(_packagePrefix) {\n            if (_packagePrefix === void 0) { _packagePrefix = null; }\n            this._packagePrefix = _packagePrefix;\n        }\n        /**\n         * Resolves the `url` given the `baseUrl`:\n         * - when the `url` is null, the `baseUrl` is returned,\n         * - if `url` is relative ('path/to/here', './path/to/here'), the resolved url is a combination of\n         * `baseUrl` and `url`,\n         * - if `url` is absolute (it has a scheme: 'http://', 'https://' or start with '/'), the `url` is\n         * returned as is (ignoring the `baseUrl`)\n         */\n        UrlResolverImpl.prototype.resolve = function (baseUrl, url) {\n            var resolvedUrl = url;\n            if (baseUrl != null && baseUrl.length > 0) {\n                resolvedUrl = _resolveUrl(baseUrl, resolvedUrl);\n            }\n            var resolvedParts = _split(resolvedUrl);\n            var prefix = this._packagePrefix;\n            if (prefix != null && resolvedParts != null &&\n                resolvedParts[_ComponentIndex.Scheme] == 'package') {\n                var path = resolvedParts[_ComponentIndex.Path];\n                prefix = prefix.replace(/\\/+$/, '');\n                path = path.replace(/^\\/+/, '');\n                return prefix + \"/\" + path;\n            }\n            return resolvedUrl;\n        };\n        return UrlResolverImpl;\n    }());\n    /**\n     * Extract the scheme of a URL.\n     */\n    function getUrlScheme(url) {\n        var match = _split(url);\n        return (match && match[_ComponentIndex.Scheme]) || '';\n    }\n    // The code below is adapted from Traceur:\n    // https://github.com/google/traceur-compiler/blob/9511c1dafa972bf0de1202a8a863bad02f0f95a8/src/runtime/url.js\n    /**\n     * Builds a URI string from already-encoded parts.\n     *\n     * No encoding is performed.  Any component may be omitted as either null or\n     * undefined.\n     *\n     * @param opt_scheme The scheme such as 'http'.\n     * @param opt_userInfo The user name before the '@'.\n     * @param opt_domain The domain such as 'www.google.com', already\n     *     URI-encoded.\n     * @param opt_port The port number.\n     * @param opt_path The path, already URI-encoded.  If it is not\n     *     empty, it must begin with a slash.\n     * @param opt_queryData The URI-encoded query data.\n     * @param opt_fragment The URI-encoded fragment identifier.\n     * @return The fully combined URI.\n     */\n    function _buildFromEncodedParts(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {\n        var out = [];\n        if (opt_scheme != null) {\n            out.push(opt_scheme + ':');\n        }\n        if (opt_domain != null) {\n            out.push('//');\n            if (opt_userInfo != null) {\n                out.push(opt_userInfo + '@');\n            }\n            out.push(opt_domain);\n            if (opt_port != null) {\n                out.push(':' + opt_port);\n            }\n        }\n        if (opt_path != null) {\n            out.push(opt_path);\n        }\n        if (opt_queryData != null) {\n            out.push('?' + opt_queryData);\n        }\n        if (opt_fragment != null) {\n            out.push('#' + opt_fragment);\n        }\n        return out.join('');\n    }\n    /**\n     * A regular expression for breaking a URI into its component parts.\n     *\n     * {@link http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#RFC2234} says\n     * As the \"first-match-wins\" algorithm is identical to the \"greedy\"\n     * disambiguation method used by POSIX regular expressions, it is natural and\n     * commonplace to use a regular expression for parsing the potential five\n     * components of a URI reference.\n     *\n     * The following line is the regular expression for breaking-down a\n     * well-formed URI reference into its components.\n     *\n     * <pre>\n     * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n     *  12            3  4          5       6  7        8 9\n     * </pre>\n     *\n     * The numbers in the second line above are only to assist readability; they\n     * indicate the reference points for each subexpression (i.e., each paired\n     * parenthesis). We refer to the value matched for subexpression <n> as $<n>.\n     * For example, matching the above expression to\n     * <pre>\n     *     http://www.ics.uci.edu/pub/ietf/uri/#Related\n     * </pre>\n     * results in the following subexpression matches:\n     * <pre>\n     *    $1 = http:\n     *    $2 = http\n     *    $3 = //www.ics.uci.edu\n     *    $4 = www.ics.uci.edu\n     *    $5 = /pub/ietf/uri/\n     *    $6 = <undefined>\n     *    $7 = <undefined>\n     *    $8 = #Related\n     *    $9 = Related\n     * </pre>\n     * where <undefined> indicates that the component is not present, as is the\n     * case for the query component in the above example. Therefore, we can\n     * determine the value of the five components as\n     * <pre>\n     *    scheme    = $2\n     *    authority = $4\n     *    path      = $5\n     *    query     = $7\n     *    fragment  = $9\n     * </pre>\n     *\n     * The regular expression has been modified slightly to expose the\n     * userInfo, domain, and port separately from the authority.\n     * The modified version yields\n     * <pre>\n     *    $1 = http              scheme\n     *    $2 = <undefined>       userInfo -\\\n     *    $3 = www.ics.uci.edu   domain     | authority\n     *    $4 = <undefined>       port     -/\n     *    $5 = /pub/ietf/uri/    path\n     *    $6 = <undefined>       query without ?\n     *    $7 = Related           fragment without #\n     * </pre>\n     * @internal\n     */\n    var _splitRe = new RegExp('^' +\n        '(?:' +\n        '([^:/?#.]+)' + // scheme - ignore special characters\n        // used by other URL parts such as :,\n        // ?, /, #, and .\n        ':)?' +\n        '(?://' +\n        '(?:([^/?#]*)@)?' + // userInfo\n        '([\\\\w\\\\d\\\\-\\\\u0100-\\\\uffff.%]*)' + // domain - restrict to letters,\n        // digits, dashes, dots, percent\n        // escapes, and unicode characters.\n        '(?::([0-9]+))?' + // port\n        ')?' +\n        '([^?#]+)?' + // path\n        '(?:\\\\?([^#]*))?' + // query\n        '(?:#(.*))?' + // fragment\n        '$');\n    /**\n     * The index of each URI component in the return value of goog.uri.utils.split.\n     * @enum {number}\n     */\n    var _ComponentIndex;\n    (function (_ComponentIndex) {\n        _ComponentIndex[_ComponentIndex[\"Scheme\"] = 1] = \"Scheme\";\n        _ComponentIndex[_ComponentIndex[\"UserInfo\"] = 2] = \"UserInfo\";\n        _ComponentIndex[_ComponentIndex[\"Domain\"] = 3] = \"Domain\";\n        _ComponentIndex[_ComponentIndex[\"Port\"] = 4] = \"Port\";\n        _ComponentIndex[_ComponentIndex[\"Path\"] = 5] = \"Path\";\n        _ComponentIndex[_ComponentIndex[\"QueryData\"] = 6] = \"QueryData\";\n        _ComponentIndex[_ComponentIndex[\"Fragment\"] = 7] = \"Fragment\";\n    })(_ComponentIndex || (_ComponentIndex = {}));\n    /**\n     * Splits a URI into its component parts.\n     *\n     * Each component can be accessed via the component indices; for example:\n     * <pre>\n     * goog.uri.utils.split(someStr)[goog.uri.utils.CompontentIndex.QUERY_DATA];\n     * </pre>\n     *\n     * @param uri The URI string to examine.\n     * @return Each component still URI-encoded.\n     *     Each component that is present will contain the encoded value, whereas\n     *     components that are not present will be undefined or empty, depending\n     *     on the browser's regular expression implementation.  Never null, since\n     *     arbitrary strings may still look like path names.\n     */\n    function _split(uri) {\n        return uri.match(_splitRe);\n    }\n    /**\n      * Removes dot segments in given path component, as described in\n      * RFC 3986, section 5.2.4.\n      *\n      * @param path A non-empty path component.\n      * @return Path component with removed dot segments.\n      */\n    function _removeDotSegments(path) {\n        if (path == '/')\n            return '/';\n        var leadingSlash = path[0] == '/' ? '/' : '';\n        var trailingSlash = path[path.length - 1] === '/' ? '/' : '';\n        var segments = path.split('/');\n        var out = [];\n        var up = 0;\n        for (var pos = 0; pos < segments.length; pos++) {\n            var segment = segments[pos];\n            switch (segment) {\n                case '':\n                case '.':\n                    break;\n                case '..':\n                    if (out.length > 0) {\n                        out.pop();\n                    }\n                    else {\n                        up++;\n                    }\n                    break;\n                default:\n                    out.push(segment);\n            }\n        }\n        if (leadingSlash == '') {\n            while (up-- > 0) {\n                out.unshift('..');\n            }\n            if (out.length === 0)\n                out.push('.');\n        }\n        return leadingSlash + out.join('/') + trailingSlash;\n    }\n    /**\n     * Takes an array of the parts from split and canonicalizes the path part\n     * and then joins all the parts.\n     */\n    function _joinAndCanonicalizePath(parts) {\n        var path = parts[_ComponentIndex.Path];\n        path = path == null ? '' : _removeDotSegments(path);\n        parts[_ComponentIndex.Path] = path;\n        return _buildFromEncodedParts(parts[_ComponentIndex.Scheme], parts[_ComponentIndex.UserInfo], parts[_ComponentIndex.Domain], parts[_ComponentIndex.Port], path, parts[_ComponentIndex.QueryData], parts[_ComponentIndex.Fragment]);\n    }\n    /**\n     * Resolves a URL.\n     * @param base The URL acting as the base URL.\n     * @param to The URL to resolve.\n     */\n    function _resolveUrl(base, url) {\n        var parts = _split(encodeURI(url));\n        var baseParts = _split(base);\n        if (parts[_ComponentIndex.Scheme] != null) {\n            return _joinAndCanonicalizePath(parts);\n        }\n        else {\n            parts[_ComponentIndex.Scheme] = baseParts[_ComponentIndex.Scheme];\n        }\n        for (var i = _ComponentIndex.Scheme; i <= _ComponentIndex.Port; i++) {\n            if (parts[i] == null) {\n                parts[i] = baseParts[i];\n            }\n        }\n        if (parts[_ComponentIndex.Path][0] == '/') {\n            return _joinAndCanonicalizePath(parts);\n        }\n        var path = baseParts[_ComponentIndex.Path];\n        if (path == null)\n            path = '/';\n        var index = path.lastIndexOf('/');\n        path = path.substring(0, index + 1) + parts[_ComponentIndex.Path];\n        parts[_ComponentIndex.Path] = path;\n        return _joinAndCanonicalizePath(parts);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * An interface for retrieving documents by URL that the compiler uses\n     * to load templates.\n     */\n    var ResourceLoader = /** @class */ (function () {\n        function ResourceLoader() {\n        }\n        ResourceLoader.prototype.get = function (url) { return ''; };\n        return ResourceLoader;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var Extractor = /** @class */ (function () {\n        function Extractor(host, staticSymbolResolver, messageBundle, metadataResolver) {\n            this.host = host;\n            this.staticSymbolResolver = staticSymbolResolver;\n            this.messageBundle = messageBundle;\n            this.metadataResolver = metadataResolver;\n        }\n        Extractor.prototype.extract = function (rootFiles) {\n            var _this = this;\n            var _a = analyzeAndValidateNgModules(rootFiles, this.host, this.staticSymbolResolver, this.metadataResolver), files = _a.files, ngModules = _a.ngModules;\n            return Promise\n                .all(ngModules.map(function (ngModule) { return _this.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(ngModule.type.reference, false); }))\n                .then(function () {\n                var errors = [];\n                files.forEach(function (file) {\n                    var compMetas = [];\n                    file.directives.forEach(function (directiveType) {\n                        var dirMeta = _this.metadataResolver.getDirectiveMetadata(directiveType);\n                        if (dirMeta && dirMeta.isComponent) {\n                            compMetas.push(dirMeta);\n                        }\n                    });\n                    compMetas.forEach(function (compMeta) {\n                        var html = compMeta.template.template;\n                        // Template URL points to either an HTML or TS file depending on\n                        // whether the file is used with `templateUrl:` or `template:`,\n                        // respectively.\n                        var templateUrl = compMeta.template.templateUrl;\n                        var interpolationConfig = InterpolationConfig.fromArray(compMeta.template.interpolation);\n                        errors.push.apply(errors, __spread(_this.messageBundle.updateFromTemplate(html, templateUrl, interpolationConfig)));\n                    });\n                });\n                if (errors.length) {\n                    throw new Error(errors.map(function (e) { return e.toString(); }).join('\\n'));\n                }\n                return _this.messageBundle;\n            });\n        };\n        Extractor.create = function (host, locale) {\n            var htmlParser = new HtmlParser();\n            var urlResolver = createAotUrlResolver(host);\n            var symbolCache = new StaticSymbolCache();\n            var summaryResolver = new AotSummaryResolver(host, symbolCache);\n            var staticSymbolResolver = new StaticSymbolResolver(host, symbolCache, summaryResolver);\n            var staticReflector = new StaticReflector(summaryResolver, staticSymbolResolver);\n            var config = new CompilerConfig({ defaultEncapsulation: ViewEncapsulation.Emulated, useJit: false });\n            var normalizer = new DirectiveNormalizer({ get: function (url) { return host.loadResource(url); } }, urlResolver, htmlParser, config);\n            var elementSchemaRegistry = new DomElementSchemaRegistry();\n            var resolver = new CompileMetadataResolver(config, htmlParser, new NgModuleResolver(staticReflector), new DirectiveResolver(staticReflector), new PipeResolver(staticReflector), summaryResolver, elementSchemaRegistry, normalizer, console, symbolCache, staticReflector);\n            // TODO(vicb): implicit tags & attributes\n            var messageBundle = new MessageBundle(htmlParser, [], {}, locale);\n            var extractor = new Extractor(host, staticSymbolResolver, messageBundle, resolver);\n            return { extractor: extractor, staticReflector: staticReflector };\n        };\n        return Extractor;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    function compileInjectable(meta) {\n        var factory = NULL_EXPR;\n        function makeFn(ret) {\n            return fn([], [new ReturnStatement(ret)], undefined, undefined, meta.name + \"_Factory\");\n        }\n        if (meta.useClass !== undefined || meta.useFactory !== undefined) {\n            // First, handle useClass and useFactory together, since both involve a similar call to\n            // `compileFactoryFunction`. Either dependencies are explicitly specified, in which case\n            // a factory function call is generated, or they're not specified and the calls are special-\n            // cased.\n            if (meta.deps !== undefined) {\n                // Either call `new meta.useClass(...)` or `meta.useFactory(...)`.\n                var fnOrClass = meta.useClass || meta.useFactory;\n                // useNew: true if meta.useClass, false for meta.useFactory.\n                var useNew = meta.useClass !== undefined;\n                factory = compileFactoryFunction({\n                    name: meta.name,\n                    fnOrClass: fnOrClass,\n                    useNew: useNew,\n                    injectFn: Identifiers.inject,\n                    deps: meta.deps,\n                });\n            }\n            else if (meta.useClass !== undefined) {\n                // Special case for useClass where the factory from the class's ngInjectableDef is used.\n                if (meta.useClass.isEquivalent(meta.type)) {\n                    // For the injectable compiler, useClass represents a foreign type that should be\n                    // instantiated to satisfy construction of the given type. It's not valid to specify\n                    // useClass === type, since the useClass type is expected to already be compiled.\n                    throw new Error(\"useClass is the same as the type, but no deps specified, which is invalid.\");\n                }\n                factory =\n                    makeFn(new ReadPropExpr(new ReadPropExpr(meta.useClass, 'ngInjectableDef'), 'factory')\n                        .callFn([]));\n            }\n            else if (meta.useFactory !== undefined) {\n                // Special case for useFactory where no arguments are passed.\n                factory = meta.useFactory.callFn([]);\n            }\n            else {\n                // Can't happen - outer conditional guards against both useClass and useFactory being\n                // undefined.\n                throw new Error('Reached unreachable block in injectable compiler.');\n            }\n        }\n        else if (meta.useValue !== undefined) {\n            // Note: it's safe to use `meta.useValue` instead of the `USE_VALUE in meta` check used for\n            // client code because meta.useValue is an Expression which will be defined even if the actual\n            // value is undefined.\n            factory = makeFn(meta.useValue);\n        }\n        else if (meta.useExisting !== undefined) {\n            // useExisting is an `inject` call on the existing token.\n            factory = makeFn(importExpr(Identifiers.inject).callFn([meta.useExisting]));\n        }\n        else {\n            // A strict type is compiled according to useClass semantics, except the dependencies are\n            // required.\n            if (meta.deps === undefined) {\n                throw new Error(\"Type compilation of an injectable requires dependencies.\");\n            }\n            factory = compileFactoryFunction({\n                name: meta.name,\n                fnOrClass: meta.type,\n                useNew: true,\n                injectFn: Identifiers.inject,\n                deps: meta.deps,\n            });\n        }\n        var token = meta.type;\n        var providedIn = meta.providedIn;\n        var expression = importExpr(Identifiers.defineInjectable).callFn([mapToMapExpression({ token: token, factory: factory, providedIn: providedIn })]);\n        var type = new ExpressionType(importExpr(Identifiers.InjectableDef, [new ExpressionType(meta.type)]));\n        return {\n            expression: expression, type: type,\n        };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Implementation of `CompileReflector` which resolves references to @angular/core\n     * symbols at runtime, according to a consumer-provided mapping.\n     *\n     * Only supports `resolveExternalReference`, all other methods throw.\n     */\n    var R3JitReflector = /** @class */ (function () {\n        function R3JitReflector(context) {\n            this.context = context;\n        }\n        R3JitReflector.prototype.resolveExternalReference = function (ref) {\n            // This reflector only handles @angular/core imports.\n            if (ref.moduleName !== '@angular/core') {\n                throw new Error(\"Cannot resolve external reference to \" + ref.moduleName + \", only references to @angular/core are supported.\");\n            }\n            if (!this.context.hasOwnProperty(ref.name)) {\n                throw new Error(\"No value provided for @angular/core symbol '\" + ref.name + \"'.\");\n            }\n            return this.context[ref.name];\n        };\n        R3JitReflector.prototype.parameters = function (typeOrFunc) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.annotations = function (typeOrFunc) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.shallowAnnotations = function (typeOrFunc) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.tryAnnotations = function (typeOrFunc) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.propMetadata = function (typeOrFunc) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.hasLifecycleHook = function (type, lcProperty) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.guards = function (typeOrFunc) { throw new Error('Not implemented.'); };\n        R3JitReflector.prototype.componentModuleUrl = function (type, cmpMetadata) { throw new Error('Not implemented.'); };\n        return R3JitReflector;\n    }());\n    /**\n     * JIT compiles an expression and returns the result of executing that expression.\n     *\n     * @param def the definition which will be compiled and executed to get the value to patch\n     * @param context an object map of @angular/core symbol names to symbols which will be available in\n     * the context of the compiled expression\n     * @param sourceUrl a URL to use for the source map of the compiled expression\n     * @param constantPool an optional `ConstantPool` which contains constants used in the expression\n     */\n    function jitExpression(def, context, sourceUrl, constantPool) {\n        // The ConstantPool may contain Statements which declare variables used in the final expression.\n        // Therefore, its statements need to precede the actual JIT operation. The final statement is a\n        // declaration of $def which is set to the expression being compiled.\n        var statements = __spread((constantPool !== undefined ? constantPool.statements : []), [\n            new DeclareVarStmt('$def', def, undefined, [exports.StmtModifier.Exported]),\n        ]);\n        var res = jitStatements(sourceUrl, statements, new R3JitReflector(context), false);\n        return res['$def'];\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // This file only reexports content of the `src` folder. Keep it that way.\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // This file only reexports content of the `src` folder. Keep it that way.\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    exports.core = core;\n    exports.CompilerConfig = CompilerConfig;\n    exports.preserveWhitespacesDefault = preserveWhitespacesDefault;\n    exports.isLoweredSymbol = isLoweredSymbol;\n    exports.createLoweredSymbol = createLoweredSymbol;\n    exports.Identifiers = Identifiers;\n    exports.JitCompiler = JitCompiler;\n    exports.ConstantPool = ConstantPool;\n    exports.DirectiveResolver = DirectiveResolver;\n    exports.PipeResolver = PipeResolver;\n    exports.NgModuleResolver = NgModuleResolver;\n    exports.DEFAULT_INTERPOLATION_CONFIG = DEFAULT_INTERPOLATION_CONFIG;\n    exports.InterpolationConfig = InterpolationConfig;\n    exports.NgModuleCompiler = NgModuleCompiler;\n    exports.ArrayType = ArrayType;\n    exports.AssertNotNull = AssertNotNull;\n    exports.BinaryOperatorExpr = BinaryOperatorExpr;\n    exports.BuiltinType = BuiltinType;\n    exports.CastExpr = CastExpr;\n    exports.ClassField = ClassField;\n    exports.ClassMethod = ClassMethod;\n    exports.ClassStmt = ClassStmt;\n    exports.CommaExpr = CommaExpr;\n    exports.CommentStmt = CommentStmt;\n    exports.ConditionalExpr = ConditionalExpr;\n    exports.DeclareFunctionStmt = DeclareFunctionStmt;\n    exports.DeclareVarStmt = DeclareVarStmt;\n    exports.Expression = Expression;\n    exports.ExpressionStatement = ExpressionStatement;\n    exports.ExpressionType = ExpressionType;\n    exports.ExternalExpr = ExternalExpr;\n    exports.ExternalReference = ExternalReference;\n    exports.FunctionExpr = FunctionExpr;\n    exports.IfStmt = IfStmt;\n    exports.InstantiateExpr = InstantiateExpr;\n    exports.InvokeFunctionExpr = InvokeFunctionExpr;\n    exports.InvokeMethodExpr = InvokeMethodExpr;\n    exports.JSDocCommentStmt = JSDocCommentStmt;\n    exports.LiteralArrayExpr = LiteralArrayExpr;\n    exports.LiteralExpr = LiteralExpr;\n    exports.LiteralMapExpr = LiteralMapExpr;\n    exports.MapType = MapType;\n    exports.NotExpr = NotExpr;\n    exports.ReadKeyExpr = ReadKeyExpr;\n    exports.ReadPropExpr = ReadPropExpr;\n    exports.ReadVarExpr = ReadVarExpr;\n    exports.ReturnStatement = ReturnStatement;\n    exports.ThrowStmt = ThrowStmt;\n    exports.TryCatchStmt = TryCatchStmt;\n    exports.Type = Type$1;\n    exports.WrappedNodeExpr = WrappedNodeExpr;\n    exports.WriteKeyExpr = WriteKeyExpr;\n    exports.WritePropExpr = WritePropExpr;\n    exports.WriteVarExpr = WriteVarExpr;\n    exports.Statement = Statement;\n    exports.TypeofExpr = TypeofExpr;\n    exports.collectExternalReferences = collectExternalReferences;\n    exports.EmitterVisitorContext = EmitterVisitorContext;\n    exports.ViewCompiler = ViewCompiler;\n    exports.getParseErrors = getParseErrors;\n    exports.isSyntaxError = isSyntaxError;\n    exports.syntaxError = syntaxError;\n    exports.Version = Version;\n    exports.jitExpression = jitExpression;\n    exports.compileInjector = compileInjector;\n    exports.compileNgModule = compileNgModule;\n    exports.compilePipeFromMetadata = compilePipeFromMetadata;\n    exports.makeBindingParser = makeBindingParser;\n    exports.parseTemplate = parseTemplate;\n    exports.compileComponentFromMetadata = compileComponentFromMetadata;\n    exports.compileDirectiveFromMetadata = compileDirectiveFromMetadata;\n    exports.parseHostBindings = parseHostBindings;\n    exports.VERSION = VERSION;\n    exports.TextAst = TextAst;\n    exports.BoundTextAst = BoundTextAst;\n    exports.AttrAst = AttrAst;\n    exports.BoundElementPropertyAst = BoundElementPropertyAst;\n    exports.BoundEventAst = BoundEventAst;\n    exports.ReferenceAst = ReferenceAst;\n    exports.VariableAst = VariableAst;\n    exports.ElementAst = ElementAst;\n    exports.EmbeddedTemplateAst = EmbeddedTemplateAst;\n    exports.BoundDirectivePropertyAst = BoundDirectivePropertyAst;\n    exports.DirectiveAst = DirectiveAst;\n    exports.ProviderAst = ProviderAst;\n    exports.NgContentAst = NgContentAst;\n    exports.NullTemplateVisitor = NullTemplateVisitor;\n    exports.RecursiveTemplateAstVisitor = RecursiveTemplateAstVisitor;\n    exports.templateVisitAll = templateVisitAll;\n    exports.sanitizeIdentifier = sanitizeIdentifier;\n    exports.identifierName = identifierName;\n    exports.identifierModuleUrl = identifierModuleUrl;\n    exports.viewClassName = viewClassName;\n    exports.rendererTypeName = rendererTypeName;\n    exports.hostViewClassName = hostViewClassName;\n    exports.componentFactoryName = componentFactoryName;\n    exports.tokenName = tokenName;\n    exports.tokenReference = tokenReference;\n    exports.CompileStylesheetMetadata = CompileStylesheetMetadata;\n    exports.CompileTemplateMetadata = CompileTemplateMetadata;\n    exports.CompileDirectiveMetadata = CompileDirectiveMetadata;\n    exports.CompilePipeMetadata = CompilePipeMetadata;\n    exports.CompileShallowModuleMetadata = CompileShallowModuleMetadata;\n    exports.CompileNgModuleMetadata = CompileNgModuleMetadata;\n    exports.TransitiveCompileNgModuleMetadata = TransitiveCompileNgModuleMetadata;\n    exports.ProviderMeta = ProviderMeta;\n    exports.flatten = flatten;\n    exports.templateSourceUrl = templateSourceUrl;\n    exports.sharedStylesheetJitUrl = sharedStylesheetJitUrl;\n    exports.ngModuleJitUrl = ngModuleJitUrl;\n    exports.templateJitUrl = templateJitUrl;\n    exports.createAotUrlResolver = createAotUrlResolver;\n    exports.createAotCompiler = createAotCompiler;\n    exports.AotCompiler = AotCompiler;\n    exports.analyzeNgModules = analyzeNgModules;\n    exports.analyzeAndValidateNgModules = analyzeAndValidateNgModules;\n    exports.analyzeFile = analyzeFile;\n    exports.analyzeFileForInjectables = analyzeFileForInjectables;\n    exports.mergeAnalyzedFiles = mergeAnalyzedFiles;\n    exports.GeneratedFile = GeneratedFile;\n    exports.toTypeScript = toTypeScript;\n    exports.formattedError = formattedError;\n    exports.isFormattedError = isFormattedError;\n    exports.StaticReflector = StaticReflector;\n    exports.StaticSymbol = StaticSymbol;\n    exports.StaticSymbolCache = StaticSymbolCache;\n    exports.ResolvedStaticSymbol = ResolvedStaticSymbol;\n    exports.StaticSymbolResolver = StaticSymbolResolver;\n    exports.unescapeIdentifier = unescapeIdentifier;\n    exports.unwrapResolvedMetadata = unwrapResolvedMetadata;\n    exports.AotSummaryResolver = AotSummaryResolver;\n    exports.AstPath = AstPath;\n    exports.SummaryResolver = SummaryResolver;\n    exports.JitSummaryResolver = JitSummaryResolver;\n    exports.CompileReflector = CompileReflector;\n    exports.createUrlResolverWithoutPackagePrefix = createUrlResolverWithoutPackagePrefix;\n    exports.createOfflineCompileUrlResolver = createOfflineCompileUrlResolver;\n    exports.UrlResolver = UrlResolver;\n    exports.getUrlScheme = getUrlScheme;\n    exports.ResourceLoader = ResourceLoader;\n    exports.ElementSchemaRegistry = ElementSchemaRegistry;\n    exports.Extractor = Extractor;\n    exports.I18NHtmlParser = I18NHtmlParser;\n    exports.MessageBundle = MessageBundle;\n    exports.Serializer = Serializer;\n    exports.Xliff = Xliff;\n    exports.Xliff2 = Xliff2;\n    exports.Xmb = Xmb;\n    exports.Xtb = Xtb;\n    exports.DirectiveNormalizer = DirectiveNormalizer;\n    exports.ParserError = ParserError;\n    exports.ParseSpan = ParseSpan;\n    exports.AST = AST;\n    exports.Quote = Quote;\n    exports.EmptyExpr = EmptyExpr;\n    exports.ImplicitReceiver = ImplicitReceiver;\n    exports.Chain = Chain;\n    exports.Conditional = Conditional;\n    exports.PropertyRead = PropertyRead;\n    exports.PropertyWrite = PropertyWrite;\n    exports.SafePropertyRead = SafePropertyRead;\n    exports.KeyedRead = KeyedRead;\n    exports.KeyedWrite = KeyedWrite;\n    exports.BindingPipe = BindingPipe;\n    exports.LiteralPrimitive = LiteralPrimitive;\n    exports.LiteralArray = LiteralArray;\n    exports.LiteralMap = LiteralMap;\n    exports.Interpolation = Interpolation;\n    exports.Binary = Binary;\n    exports.PrefixNot = PrefixNot;\n    exports.NonNullAssert = NonNullAssert;\n    exports.MethodCall = MethodCall;\n    exports.SafeMethodCall = SafeMethodCall;\n    exports.FunctionCall = FunctionCall;\n    exports.ASTWithSource = ASTWithSource;\n    exports.TemplateBinding = TemplateBinding;\n    exports.NullAstVisitor = NullAstVisitor;\n    exports.RecursiveAstVisitor = RecursiveAstVisitor;\n    exports.AstTransformer = AstTransformer;\n    exports.AstMemoryEfficientTransformer = AstMemoryEfficientTransformer;\n    exports.visitAstChildren = visitAstChildren;\n    exports.ParsedProperty = ParsedProperty;\n    exports.ParsedEvent = ParsedEvent;\n    exports.ParsedVariable = ParsedVariable;\n    exports.BoundElementProperty = BoundElementProperty;\n    exports.Lexer = Lexer;\n    exports.Token = Token;\n    exports.EOF = EOF;\n    exports.isIdentifier = isIdentifier;\n    exports.isQuote = isQuote;\n    exports.SplitInterpolation = SplitInterpolation;\n    exports.TemplateBindingParseResult = TemplateBindingParseResult;\n    exports.Parser = Parser;\n    exports._ParseAST = _ParseAST;\n    exports.ERROR_COMPONENT_TYPE = ERROR_COMPONENT_TYPE;\n    exports.CompileMetadataResolver = CompileMetadataResolver;\n    exports.Text = Text;\n    exports.Expansion = Expansion;\n    exports.ExpansionCase = ExpansionCase;\n    exports.Attribute = Attribute;\n    exports.Element = Element;\n    exports.Comment = Comment;\n    exports.visitAll = visitAll;\n    exports.RecursiveVisitor = RecursiveVisitor;\n    exports.findNode = findNode;\n    exports.HtmlParser = HtmlParser;\n    exports.ParseTreeResult = ParseTreeResult;\n    exports.TreeError = TreeError;\n    exports.HtmlTagDefinition = HtmlTagDefinition;\n    exports.getHtmlTagDefinition = getHtmlTagDefinition;\n    exports.splitNsName = splitNsName;\n    exports.isNgContainer = isNgContainer;\n    exports.isNgContent = isNgContent;\n    exports.isNgTemplate = isNgTemplate;\n    exports.getNsPrefix = getNsPrefix;\n    exports.mergeNsAndName = mergeNsAndName;\n    exports.NAMED_ENTITIES = NAMED_ENTITIES;\n    exports.NGSP_UNICODE = NGSP_UNICODE;\n    exports.debugOutputAstAsTypeScript = debugOutputAstAsTypeScript;\n    exports.TypeScriptEmitter = TypeScriptEmitter;\n    exports.ParseLocation = ParseLocation;\n    exports.ParseSourceFile = ParseSourceFile;\n    exports.ParseSourceSpan = ParseSourceSpan;\n    exports.ParseError = ParseError;\n    exports.typeSourceSpan = typeSourceSpan;\n    exports.DomElementSchemaRegistry = DomElementSchemaRegistry;\n    exports.CssSelector = CssSelector;\n    exports.SelectorMatcher = SelectorMatcher;\n    exports.SelectorListContext = SelectorListContext;\n    exports.SelectorContext = SelectorContext;\n    exports.StylesCompileDependency = StylesCompileDependency;\n    exports.CompiledStylesheet = CompiledStylesheet;\n    exports.StyleCompiler = StyleCompiler;\n    exports.TemplateParseError = TemplateParseError;\n    exports.TemplateParseResult = TemplateParseResult;\n    exports.TemplateParser = TemplateParser;\n    exports.splitClasses = splitClasses;\n    exports.createElementCssSelector = createElementCssSelector;\n    exports.removeSummaryDuplicates = removeSummaryDuplicates;\n    exports.compileInjectable = compileInjectable;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=compiler.umd.js.map\n"]}