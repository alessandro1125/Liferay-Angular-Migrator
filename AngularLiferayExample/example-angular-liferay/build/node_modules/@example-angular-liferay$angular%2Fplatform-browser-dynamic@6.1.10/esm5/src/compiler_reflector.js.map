{"version":3,"sources":["../../../../../../../../../packages/platform-browser-dynamic/src/compiler_reflector.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CompileReflector, ExternalReference, Identifiers, getUrlScheme, syntaxError} from '@angular/compiler';\nimport {ANALYZE_FOR_ENTRY_COMPONENTS, ChangeDetectionStrategy, ChangeDetectorRef, Component, ComponentFactory, ComponentFactoryResolver, ComponentRef, ElementRef, Injector, LOCALE_ID, NgModuleFactory, NgModuleRef, QueryList, Renderer, SecurityContext, TRANSLATIONS_FORMAT, TemplateRef, ViewContainerRef, ViewEncapsulation, ɵCodegenComponentFactoryResolver, ɵEMPTY_ARRAY, ɵEMPTY_MAP, ɵReflectionCapabilities as ReflectionCapabilities, ɵand, ɵccf, ɵcmf, ɵcrt, ɵdid, ɵeld, ɵinlineInterpolate, ɵinterpolate, ɵmod, ɵmpd, ɵncd, ɵnov, ɵpad, ɵpid, ɵpod, ɵppd, ɵprd, ɵqud, ɵregisterModuleFactory, ɵstringify as stringify, ɵted, ɵunv, ɵvid} from '@angular/core';\n\nexport const MODULE_SUFFIX = '';\nconst builtinExternalReferences = createBuiltinExternalReferencesMap();\n\nexport class JitReflector implements CompileReflector {\n  private reflectionCapabilities: ReflectionCapabilities;\n  private builtinExternalReferences = new Map<ExternalReference, any>();\n  constructor() { this.reflectionCapabilities = new ReflectionCapabilities(); }\n  componentModuleUrl(type: any, cmpMetadata: Component): string {\n    const moduleId = cmpMetadata.moduleId;\n\n    if (typeof moduleId === 'string') {\n      const scheme = getUrlScheme(moduleId);\n      return scheme ? moduleId : `package:${moduleId}${MODULE_SUFFIX}`;\n    } else if (moduleId !== null && moduleId !== void 0) {\n      throw syntaxError(\n          `moduleId should be a string in \"${stringify(type)}\". See https://goo.gl/wIDDiL for more information.\\n` +\n          `If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.`);\n    }\n\n    return `./${stringify(type)}`;\n  }\n  parameters(typeOrFunc: /*Type*/ any): any[][] {\n    return this.reflectionCapabilities.parameters(typeOrFunc);\n  }\n  tryAnnotations(typeOrFunc: /*Type*/ any): any[] { return this.annotations(typeOrFunc); }\n  annotations(typeOrFunc: /*Type*/ any): any[] {\n    return this.reflectionCapabilities.annotations(typeOrFunc);\n  }\n  shallowAnnotations(typeOrFunc: /*Type*/ any): any[] {\n    throw new Error('Not supported in JIT mode');\n  }\n  propMetadata(typeOrFunc: /*Type*/ any): {[key: string]: any[]} {\n    return this.reflectionCapabilities.propMetadata(typeOrFunc);\n  }\n  hasLifecycleHook(type: any, lcProperty: string): boolean {\n    return this.reflectionCapabilities.hasLifecycleHook(type, lcProperty);\n  }\n  guards(type: any): {[key: string]: any} { return this.reflectionCapabilities.guards(type); }\n  resolveExternalReference(ref: ExternalReference): any {\n    return builtinExternalReferences.get(ref) || ref.runtime;\n  }\n}\n\n\nfunction createBuiltinExternalReferencesMap() {\n  const map = new Map<ExternalReference, any>();\n  map.set(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS, ANALYZE_FOR_ENTRY_COMPONENTS);\n  map.set(Identifiers.ElementRef, ElementRef);\n  map.set(Identifiers.NgModuleRef, NgModuleRef);\n  map.set(Identifiers.ViewContainerRef, ViewContainerRef);\n  map.set(Identifiers.ChangeDetectorRef, ChangeDetectorRef);\n  map.set(Identifiers.QueryList, QueryList);\n  map.set(Identifiers.TemplateRef, TemplateRef);\n  map.set(Identifiers.CodegenComponentFactoryResolver, ɵCodegenComponentFactoryResolver);\n  map.set(Identifiers.ComponentFactoryResolver, ComponentFactoryResolver);\n  map.set(Identifiers.ComponentFactory, ComponentFactory);\n  map.set(Identifiers.ComponentRef, ComponentRef);\n  map.set(Identifiers.NgModuleFactory, NgModuleFactory);\n  map.set(Identifiers.createModuleFactory, ɵcmf);\n  map.set(Identifiers.moduleDef, ɵmod);\n  map.set(Identifiers.moduleProviderDef, ɵmpd);\n  map.set(Identifiers.RegisterModuleFactoryFn, ɵregisterModuleFactory);\n  map.set(Identifiers.Injector, Injector);\n  map.set(Identifiers.ViewEncapsulation, ViewEncapsulation);\n  map.set(Identifiers.ChangeDetectionStrategy, ChangeDetectionStrategy);\n  map.set(Identifiers.SecurityContext, SecurityContext);\n  map.set(Identifiers.LOCALE_ID, LOCALE_ID);\n  map.set(Identifiers.TRANSLATIONS_FORMAT, TRANSLATIONS_FORMAT);\n  map.set(Identifiers.inlineInterpolate, ɵinlineInterpolate);\n  map.set(Identifiers.interpolate, ɵinterpolate);\n  map.set(Identifiers.EMPTY_ARRAY, ɵEMPTY_ARRAY);\n  map.set(Identifiers.EMPTY_MAP, ɵEMPTY_MAP);\n  map.set(Identifiers.Renderer, Renderer);\n  map.set(Identifiers.viewDef, ɵvid);\n  map.set(Identifiers.elementDef, ɵeld);\n  map.set(Identifiers.anchorDef, ɵand);\n  map.set(Identifiers.textDef, ɵted);\n  map.set(Identifiers.directiveDef, ɵdid);\n  map.set(Identifiers.providerDef, ɵprd);\n  map.set(Identifiers.queryDef, ɵqud);\n  map.set(Identifiers.pureArrayDef, ɵpad);\n  map.set(Identifiers.pureObjectDef, ɵpod);\n  map.set(Identifiers.purePipeDef, ɵppd);\n  map.set(Identifiers.pipeDef, ɵpid);\n  map.set(Identifiers.nodeValue, ɵnov);\n  map.set(Identifiers.ngContentDef, ɵncd);\n  map.set(Identifiers.unwrapValue, ɵunv);\n  map.set(Identifiers.createRendererType2, ɵcrt);\n  map.set(Identifiers.createComponentFactory, ɵccf);\n  return map;\n}"],"sourceRoot":""}